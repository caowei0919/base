(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"0135":function(t,e,a){"use strict";a("4160"),a("159b");var i=a("b85c"),o={name:"moreControl",props:{moreDataShow:Boolean,configs:Object},data:function(){return{iconClass:"icon",picClass:"img",typeClassifica:[{type:"pies",name:this.$t("design.designPie"),show:!0,child:["pie"]},{type:"bar",name:this.$t("design.moreColumn"),show:!0,child:["bar"]},{type:"crossBar",name:this.$t("design.moreBar"),show:!0,child:["crossBar1","crossBar2","crossBar3","crossBar4"]},{type:"line",name:this.$t("design.moreLine"),show:!0,child:["line"]},{type:"funnel",name:this.$t("design.moreFunnel"),show:!0,child:["funnel"]},{type:"gauge",name:this.$t("design.moreDashboard"),show:!0,child:["gauge"]},{type:"radar",name:this.$t("design.moreRadar"),show:!0,child:["radar"]},{type:"map",name:this.$t("design.moreMap"),show:!0,child:["map","map3D"]},{type:"table",name:this.$t("design.moreDataScrolling"),show:!0,child:["table"]}],isShow:!1}},mounted:function(){},watch:{moreDataShow:function(t){this.isShow=t}},computed:{selectRule:function(){var t,e=[],a=Object(i.a)(this.configs.type);try{for(a.s();!(t=a.n()).done;){var o,s=t.value,n=Object(i.a)(s);try{for(n.s();!(o=n.n()).done;){var r=o.value;this.configs[r].selectRule&&e.push(r)}}catch(t){n.e(t)}finally{n.f()}}}catch(t){a.e(t)}finally{a.f()}return e}},methods:{showToggle:function(t){t.show=!t.show},clickLi:function(t,e,a){var i=t.target.getAttribute("type"),o=i;this.selectRule.forEach((function(t){t!==i||(o="select")})),i!==o&&this.$store.dispatch("changeOperate",i),this.$store.dispatch("getType",o),this.backdropClick()},backdropClick:function(){this.isShow=!this.moreDataShow,this.$emit("moreBool",this.isShow)}}},s=(a("c01d"),a("2877")),n=Object(s.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isShow?a("div",{staticClass:"showPanel"},[a("div",[a("nanoscrollerComponent",{attrs:{properties:{height:"390px",width:"250px",axis:"y"}}},t._l(t.typeClassifica,(function(e,i){return a("div",{key:e+i,staticClass:"classifiy-item",class:t.iconClass+"-"+e.type},[a("div",{staticClass:"typeTitle",on:{click:function(a){return t.showToggle(e)}}},[a("i",{staticClass:"icon iconfont",class:!1===e.show?"icon-morezuo":"icon-morexia"}),t._v(" "+t._s(e.name)+" ")]),e.show?a("div",{key:e.name,staticClass:"items"},[a("ul",t._l(e.child,(function(e,i){return a("li",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e,expression:"value",modifiers:{bottom:!0}}],key:e+i,class:t.picClass+"-"+e,attrs:{type:e},on:{click:function(a){return t.clickLi(a,e,t.isShow)}}})})),0)]):t._e()])})),0)],1),a("div",{staticClass:"more-backdrop",on:{click:t.backdropClick}})]):t._e()}),[],!1,null,"a4bac052",null);e.a=n.exports},"01d0":function(t,e,a){"use strict";var i=a("ce20").a,o=(a("2cd8"),a("2877")),s=Object(o.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"barcontainer",class:{hideClass:!t.stretch}},[a("ul",{directives:[{name:"show",rawName:"v-show",value:t.stretch,expression:"stretch"}],staticClass:"tbar tbarOrigin"},[a("div",{staticClass:"typeBlock"},[a("span",{staticClass:"icon icon-valign-middle iconfont",style:{cursor:"pointer"},on:{click:t.onShowSidebar}})]),t._l(t.showTypeList,(function(e,i){return a("div",{directives:[{name:"show",rawName:"v-show",value:e.length>0,expression:"type.length > 0"}],key:"group"+i,staticClass:"typeBlock",class:{showTypeList:i===t.configs.stretchNum}},[t._l(e,(function(e,o){return a("span",{directives:[{name:"show",rawName:"v-show",value:i!==t.configs.stretchNum||o<t.specialGroupShowCount,expression:"i !== configs.stretchNum || j < specialGroupShowCount"},{name:"tooltip",rawName:"v-tooltip.bottom",value:t.tooltip(e,"title"),expression:"tooltip(value, 'title')",modifiers:{bottom:!0}}],key:e,staticClass:"iconfont singleSpan",class:["icon-"+e,e,{isActive:e==t.$store.state.toolbar.currentType}],style:{cursor:"pointer"},attrs:{editRole:"singleSpan",type:e},on:{click:function(e){return e.preventDefault(),t.getType(e)}}})})),i===t.configs.stretchNum&&e.length>t.specialGroupShowCount?a("span",{staticClass:"iconfont more",class:{"icon-showdrop":t.istoggle,"icon-hidedrop":!t.istoggle},on:{click:function(e){return t.showMore(e)}}}):t._e(),i===t.configs.stretchNum&&e.length>t.specialGroupShowCount&&t.istoggle?a("div",{staticClass:"moreType"},t._l(e,(function(e,i){return a("span",{directives:[{name:"show",rawName:"v-show",value:i>=t.specialGroupShowCount,expression:"j >= specialGroupShowCount"},{name:"tooltip",rawName:"v-tooltip.bottom",value:t.tooltip(e,"name"),expression:"tooltip(value, 'name')",modifiers:{bottom:!0}}],key:e,staticClass:"iconfont singleSpan",class:["icon-"+e,e,{isActive:e==t.$store.state.toolbar.currentType}],style:{cursor:"pointer"},attrs:{editRole:"singleSpan",type:e},on:{click:function(e){return e.preventDefault(),t.getType(e)}}})})),0):t._e()],2)}))],2)])}),[],!1,null,"0fb38ed2",null);e.a=s.exports},"047d":function(t,a,i){"use strict";(function(t){i("99af"),i("4de4"),i("7db0"),i("0481"),i("4160"),i("caad"),i("a15b"),i("a434"),i("4069"),i("b0c0"),i("d3b7"),i("ac1f"),i("25f0"),i("2532"),i("1276"),i("159b"),i("cca6");var o=i("2909"),s=i("53ca"),n=i("ade3"),r=i("5530"),l=i("2f62"),c=i("c47b"),d=i("7e2a"),u=i("dc74"),h=i("d221"),p=i("9a21"),g=i("cb26"),m=i("f444"),f=i("105f");a.a={name:"tableParam",props:["getData","reportSetting","params"],components:{editColumn:c.a,excel:d.a,filterRule:u.a,staticDataModel:f.a},mixins:[p.a,h.a,g.a,m.a],data:function(){var t={dmOpt:{id:"model_id",name:"model_name",pid:"parentid"},columnOpt:{id:"pkid",name:"des_column",type:"analy_type"}},e={title:{style:this.$t("design.textStyle"),data:this.$t("design.tableDataTitle")},subTitle:{style:{treeMode:{text:this.$t("design.treeModeSubTitle"),icon:"icon-table-title"},box:{text:this.$t("design.tableSubTitleBox"),icon:"icon-bgAndBorder"}},data:{model:{text:this.$t("design.tableSubTitleModel"),icon:"icon-datamodel"}}},showStyleMsg:{order:this.$t("design.tableOrdersMsg"),paginator:this.$t("design.tablePagnitorMsg"),title:this.$t("design.treeWidthTitle")},showDataMsg:{dimension:this.$t("design.tableDimension"),measure:this.$t("design.tableMeasure"),combine:this.$t("design.tableCombine"),interval:this.$t("design.timeInterval"),rotation:this.$t("design.rotationForm"),transfer:this.$t("design.tableTransfer"),transferAll:this.$t("design.tableTransferAll"),format:this.$t("design.tableFormat")+" :"},transModuleMsg:{style:{filter:this.$t("design.tableModuleFilter"),field:this.$t("design.tableModuleStyleField"),content:this.$t("design.tableModuleContent")},data:{field:this.$t("design.tableModuleDataField")+" :",unit:this.$t("design.tableModuleUnit")+" :",magnitude:this.$t("design.tableModuleMagnitude")+" :",decimal:this.$t("design.lineFmt")+" :"}}};return Object(r.a)(Object(r.a)({dataSourceKeys:{key:"dataresource",fields:{modelIdKey:"model_id",modelNameKey:"model_name",dimensionKey:"dimension_selected",measureKey:"measure_selected",combineKey:"combine",transferKey:"transfer",formatKey:"format",filterKey:"filter",paginatorKey:"paginator",fieldsHideKey:"fieldsHide",transferAllKey:"transferAll",filterRulesKey:"filterRules"}},changeDataKey:"dataflag"},e),{},{urlOpt:t,loading:!1,isModule:!1,moduleType:"",nowContent:"",nowTab:"data",currentBtn:null,tabList:[{type:"data",name:"数据"},{type:"style",name:"属性/样式"}],radioChange:[{value:!0,type:"data",name:this.$t("design.staticData")},{value:!1,type:"data",name:this.$t("design.dynamicData")}],style:{type:["treeMode","box"],treeMode:{subTitle:"模式",hideSetting:!0,type:[["title","selfAdaption","staticWidth","treeWidth"]],title:{filter:!0,alias:"text",classList:[],iconClass:[],toggle:!1,msg:e.showStyleMsg.title,oparateFlag:!1},selfAdaption:{toolTip:this.$t("design.treeSelfAdaption"),filter:!0,alias:"treeMode",classList:[],iconClass:[],key:"treeMode",value:"selfAdaption"},staticWidth:{toolTip:this.$t("design.treeStaticWidth"),filter:!0,alias:"treeMode",classList:[],iconClass:[],key:"treeMode",value:"staticWidth"},treeWidth:{filter:!0,alias:"treeWidth",settingName:"setting.treeMode.treeWidth",classList:["width-10"],iconClass:[],toggle:!1,oparateFlag:!1}},box:{subTitle:"背景/边框",hideSetting:!0,type:[["backgroundColor","borderRadius","opacity"],["borderColor","borderWidth","borderStyle"]],backgroundColor:{toolTip:this.$t("design.tableBackgroundColor"),filter:!0,alias:"colorPickerComponent",classList:["width-2"],iconClass:["iconfont","icon-bgcolor"]},borderRadius:{toolTip:this.$t("design.tableBorderRadius"),filter:!0,alias:"dropDownComponent",classList:["width-4"],iconClass:["iconfont","icon-rounded-corner"],dropDownData:{dataSource:[{val:0,real:"0px"},{val:1,real:"1px"},{val:2,real:"2px"},{val:3,real:"3px"},{val:4,real:"4px"},{val:5,real:"5px"}],defaultItem:"0px",showKey:"val",idKey:"real"}},opacity:{toolTip:this.$t("design.tableOpacity"),filter:!0,alias:"dropDownComponent",classList:["width-4"],iconClass:["iconfont","icon-opacity"],dropDownData:{dataSource:[{val:100,real:1},{val:90,real:.9},{val:80,real:.8},{val:70,real:.7},{val:60,real:.6},{val:50,real:.5},{val:40,real:.4},{val:30,real:.3},{val:20,real:.2},{val:10,real:.1},{val:0,real:0}],defaultItem:1,showKey:"val",idKey:"real"}},borderColor:{toolTip:this.$t("design.tableBorderColor"),filter:!0,alias:"colorPickerComponent",classList:["width-2"],iconClass:["iconfont","icon-dropcolor"]},borderWidth:{toolTip:this.$t("design.tableBorderWidth"),filter:!0,alias:"dropDownComponent",classList:["width-4"],iconClass:["iconfont","icon-linewidth"],dropDownData:{dataSource:[{val:0,real:"0px"},{val:1,real:"1px"},{val:2,real:"2px"},{val:3,real:"3px"},{val:4,real:"4px"},{val:5,real:"5px"}],defaultItem:"0px",showKey:"val",idKey:"real"}},borderStyle:{toolTip:this.$t("design.tableBorderStyle"),filter:!0,alias:"dropDownComponent",classList:["width-4"],iconClass:["iconfont","icon-borderstyle"],dropDownData:{dataSource:[{real:"solid",val:"solid"},{real:"dotted",val:"dotted"},{real:"dashed",val:"dashed"},{real:"double",val:"double"}],defaultItem:"solid",showKey:"val",idKey:"real"}}}},data:{type:["model"],model:{subTitle:"数据模型",hideSetting:!0,type:[["chooseRoot"],["chooseModel"],["dimension"],["measure"],["format"],["dataUpdate"],["animation"]],chooseRoot:[{value:0,name:this.$t("dataExplore.myFolders")},{value:1,name:this.$t("dataExplore.sharedFolders")}],chooseModel:{toolTip:this.$t("design.tableChooseModel"),filter:!0,alias:"dropDownComponent",classList:[],iconClass:[],iconMsg:!0,msg:"选择模型：",showInInput:t.dmOpt.name,dropDownData:{placeholder:this.$t("design.lineSelectModel"),type:"tree",defaultItem:"",dropDownUrl:"dataModelUrl",noData:this.$t("design.lineNoModel"),noUrlData:this.$t("design.lineSelectMenuFirst"),dropItemsName:"dmList",dataSource:[],showType:"model_type",folder:"directory",chooseFolder:!1,showKey:t.dmOpt.name,idKey:t.dmOpt.id,pidKey:t.dmOpt.pid,dropDownStyle:{height:"200px"}}},dimension:{toolTip:this.$t("design.tableDimension"),filter:!0,alias:"dropDownComponent",classList:[],iconClass:[],iconMsg:!0,msg:"维度",showInInput:"dimension_selected",analy_type:"dimension",dropDownData:{placeholder:this.$t("design.lineSelectDimension"),isMultiple:!0,limited:!0,noData:this.$t("design.tableDimensionNoData"),defaultItem:"",dropDownUrl:"columnUrl",params:{model_id:"dm_id"},noUrlData:"请先选择数据模型",dropItemsName:"dimensionList",dataSource:[],showKey:t.columnOpt.name,idKey:t.columnOpt.id,dropDownStyle:{}}},measure:{toolTip:this.$t("design.tableMeasure"),filter:!0,alias:"dropDownComponent",classList:[],iconClass:[],iconMsg:!0,edit:!0,msg:"度量",showInInput:"measure_selected",analy_type:"measure",dropDownData:{placeholder:this.$t("design.lineSelectMeasure"),isMultiple:!0,limited:!0,noData:this.$t("design.tableMeasureNoData"),defaultItem:"",dropDownUrl:"columnUrl",params:{model_id:"dm_id"},noUrlData:"请先选择数据模型",dropItemsName:"measureList",dataSource:[],showKey:t.columnOpt.name,idKey:t.columnOpt.id,dropDownStyle:{}}},format:{toolTip:this.$t("design.tableFormat"),filter:!0,alias:"moduleWindowComponent",classList:[],iconClass:["iconfont","icon-dataformat"],iconMsg:!0,analy_type:"measure",msg:"".concat(this.$t("design.tableFormat"),"：")},dataUpdate:{filter:!0,type:["isDataUpdate","dataUpdateTime"],isDataUpdate:{filter:!0,alias:"",classList:["width-10"],iconClass:[],toggle:!0,title:this.$t("design.isDataUpdate"),oparateFlag:!0,range:["icon-checkbox-no","icon-checkbox"]},dataUpdateTime:{filter:!0,showflag:{settingName:"isDataUpdate"},alias:"input",classList:["iconInput"],iconClass:[],toggle:!0,title:this.$t("design.dataUpdateTime"),oparateFlag:!0}},animation:{}}},colorPicker:{color:"#ff8080",flat:!1,flexLeft:0,flexTop:0,isTransparent:!0},defaultStyleData:{currentStyle:{treeMode:{treeMode:"selfAdaption",treeWidth:"auto"},box:{}}},defaultLastoparate:{currentStatus:{fieldsMove:"",title:!0,order:!1,paginator:!0,pagesize:10}},urls:{dataModelUrl:"/model_list",modelFolderUrl:"/model/directory",columnUrl:"/report/model/column",getFolderId:"/report/model/folder",DataModelTable:"/analysis/tree",filterFieldUrl:"/analysis/table_filter",unitUrl:"/report/data/unit"},errorText:"",lastStyle:{},unitList:[]})},computed:Object(r.a)(Object(r.a)({},Object(l.d)({colorPickerOpt:function(t){return t.colorPickerOpt},colorPickerSelected:function(t){return t.colorPickerSelected},drawSelected:function(t){return t.draw.selected},dataUpdate:function(t){return t.draw.dataUpdate},animation:function(t){return t.draw.animation}})),{},{sourceFieldList:function(){var t=[];if(this.getData.dataresource){var e=this.getData.dataresource,a=e.dimension_selected,i=e.measure_selected;t=this._.concat(a,i)}return t},currentStyle:function(){var e={box:["borderColor","borderWidth","borderStyle","backgroundColor","borderRadius","opacity"]},a={};for(var i in e){for(var o={},s=0;s<e[i].length;s++){var n=e[i][s];""!==this.reportSetting[s]&&(o[n]=this.reportSetting[n])}a[i]=o}Object.assign(a,{head:{fontSize:"12px"},number:{fontSize:"12px"}});var r=t.extend(!0,{},this.defaultStyleData,{currentStyle:a},{currentStyle:{box:this.getData.style}},{currentStyle:this.getData.setting},{currentStyle:this.lastStyle});return r},lastOperate:function(){var e=t.extend(!0,this.defaultLastoparate,{currentStatus:this.getData.lastOperate});return e},format:function(){var t=[{}];return this.getData.dataresource&&this.getData.dataresource.format&&(t=0===this.getData.dataresource.format.length?[{}]:this.getData.dataresource.format),t},filter:function(){var t=[{}];return this.getData.dataresource&&this.getData.dataresource.filter&&(t=0===this.getData.dataresource.filter.length?[{}]:this.getData.dataresource.filter),t},showFormat:function(){return this.format},hasKpiSelected:function(){var t=!1;if(this.dataresource){var e=this.dataresource,a=e.dimension_selected,i=e.measure_selected||[];((a||[]).length>0||i.length>0)&&(t=!0)}return t},hasTransferSelected:function(){var t=!1;if(this.dataresource){var e=this.dataresource.transfer;(void 0===e?[]:e).length>0&&(t=!0)}return t},moduleMsg:function(){var t=this.format,e=this.filter,a={currentType:"",type:["filter","format"],filter:{type:["field","content"],field:{info:"字段：",readonly:!0,iconClass:["iconfont","icon-triangledown"],analy_type:"dimension_selected",dropDownData:{limited:!0,noData:this.$t("design.tableDimensionNoData"),defaultItem:"",dropDownUrl:"columnUrl",params:{model_id:"dm_id"},noUrlData:"请先选择数据模型",dropItemsName:"dimensionList",showKey:this.urlOpt.columnOpt.name,idKey:this.urlOpt.columnOpt.id,dropDownStyle:{}}},content:{info:"内容：",readonly:!0,iconClass:["iconfont","icon-triangledown"],dropDownData:{isSearch:!0,dropDownStyle:{},showKey:"val",idKey:"real",isMultiple:!0,noData:"请先选择字段"}},reback:e},format:{type:["field","unit","magnitude","decimal"],field:{info:"相关字段：",readonly:!0,iconClass:["iconfont","icon-triangledown"],analy_type:"measure_selected",dropDownData:{limited:!0,noData:this.$t("design.lineNoColumn"),defaultItem:"",dropDownUrl:"columnUrl",params:{model_id:"dm_id"},noUrlData:"请先选择数据模型",dropItemsName:"measureList",dataSource:[],showKey:this.urlOpt.columnOpt.name,idKey:this.urlOpt.columnOpt.id,dropDownStyle:{}}},unit:{info:"单位：",readonly:!0,iconClass:["iconfont","icon-triangledown"],dropDownData:{showKey:"val",idKey:"real",defaultItem:"",noData:this.$t("design.lineNoColumn"),noUrlData:"请先选择数据模型",isSearch:!1,dataSource:this.unitList}},magnitude:{info:"数量级：",readonly:!0,iconClass:["iconfont","icon-triangledown"],dropDownData:{showKey:"val",idKey:"real",defaultItem:"1",noData:this.$t("design.lineNoColumn"),noUrlData:"请先选择数据模型",dataSource:[{val:"亿",real:"100000000"},{val:"千万",real:"10000000"},{val:"百万",real:"1000000"},{val:"十万",real:"100000"},{val:"万",real:"10000"},{val:"千",real:"1000"},{val:"百",real:"100"},{val:"十",real:"10"},{val:"一",real:"1"},{val:"百分之一",real:"0.01"},{val:"千分之一",real:"0.001"}]}},decimal:{info:"小数：",readonly:!0,iconClass:["iconfont","icon-triangledown"],dropDownData:{showKey:"val",idKey:"real",defaultItem:"",noData:this.$t("design.lineNoColumn"),noUrlData:"请先选择数据模型",dataSource:[{val:"0",real:"#"},{val:"1",real:"#.0"},{val:"2",real:"#.00"},{val:"3",real:"#.000"},{val:"4",real:"#.0000"},{val:"5",real:"#.00000"},{val:"6",real:"#.000000"},{val:"7",real:"#.0000000"},{val:"8",real:"#.00000000"}]}},reback:t}};return a},animationMsg:function(){var t={model:{rotation:{info:"单位：",readonly:!0,iconClass:["iconfont","icon-triangledown"],dropDownData:{defaultItem:{type:"0",name:this.$t("design.singleTurn")},dropItemsName:"rotationList",dataSource:[{type:"0",name:this.$t("design.singleTurn")},{type:"1",name:this.$t("design.turnLeftAndRight")}],showKey:"name",idKey:"type"}}}};return t},staticDataSource:function(){return this._.get(this.getData,"staticDataSource.data",{})},showTreeWidth:function(){return this._.get(this.getData,"setting.treeMode.treeMode","selfAdaption")},isStaticData:function(){return this._.get(this.getData,"staticDataSource.isStaticData",!0)},showMode:function(){return this.isStaticData}}),mounted:function(){this.drawChangeSelectedData({lastOperate:Object(r.a)({},this.lastOperate.currentStatus),dataresource:{dataUpdateTime:this._.get(this.getData,"dataresource.dataUpdateTime")||this.dataUpdate.time,interval:this._.get(this.getData,"dataresource.interval")||this.animation.interval,rotation:this._.get(this.getData,"dataresource.rotation")||{type:"0",name:this.$t("design.singleTurn")}}}),this.getUnit()},watch:{colorPickerOpt:function(){this.colorPickerOpt.flat||(this.pickerUser="",this.currentOpen="")},colorPickerSelected:function(){this.getColor(this.colorPickerSelected),this.currentOpen=""},getData:function(){this.getData.styleflag&&(this.lastStyle=this.caculStyle())},drawSelected:function(){this.$forceUpdate()}},methods:Object(r.a)(Object(r.a)({},Object(l.b)({drawChangeSelectedData:"drawChangeSelectedData",showColorPickerPublic:"showColorPicker",hideColorPickerPublic:"hideColorPicker"})),{},{getFilterValue:function(t,e){var a="model_name"===this.data[t][e].showInInput?this.data[t][e].dropDownData.idKey:this.data[t][e].showInInput;return this.getData.dataresource&&this.getData.dataresource[a]},dropdownChanged:function(t,e){this.setCurrentType(e);var a=e.type,i=e.value,o=e.v;this[a][i][o].dropDownData.isMultiple;if(t.model_analysis_type){this.drawChangeSelectedData({dataresource:{dataType:t.model_analysis_type}});var s=this;s.$http({url:s.urls.columnUrl,params:{modelId:t.model_id},method:"get"}).then((function(t){s.drawChangeSelectedData({cacheDataSource:Object(n.a)({},s.nowIndex,{columnList:null})}),s.drawChangeSelectedData({cacheDataSource:Object(n.a)({},s.nowIndex,{columnList:t.data.data.data})})})).catch((function(t){var e=s.$t("design.lineGetDataFail");t&&t.response&&t.response.data&&(e=t.response.data.message),s.errorText=e}))}this.getListItem(t)},updateStaticData:function(t){this.drawChangeSelectedData({staticDataSource:{data:null},oparateFlag:!1}),this.drawChangeSelectedData({staticDataSource:{data:t},oparateFlag:!0})},updateFilterRules:function(t,e){this.drawChangeSelectedData({dataresource:{filterRules:""}}),this.drawChangeSelectedData({dataresource:{filterRules:t},changeData:!0,updatedFilters:e})},getModelFromExcel:function(t){var e=this;this.$http({url:e.urls.dataModelUrl,params:{rootId:e.nowIndex},method:"get"}).then((function(a){if("object"===Object(s.a)(a.data.data)){var i=a.data.data,o="";i.forEach((function(e){e.model_id===t&&(o=e.model_name)}));var r={model_id:t,model_name:o,dimension_selected:[],measure_selected:[],dataType:"excel",polys:[]};e.drawChangeSelectedData({dataresource:null,cacheDataSource:Object(n.a)({},e.nowIndex,null)}),e.drawChangeSelectedData({dataresource:r,cacheDataSource:Object(n.a)({},e.nowIndex,{modelList:a.data.data}),dataflag:!0})}else e.errorText=a.data})).catch((function(t){var a=e.$t("design.lineGetDataFail");t&&t.response&&t.response.data&&(a=t.response.data.message),e.errorText=a}))},caculStyle:function(){var e={box:["borderColor","borderWidth","borderStyle","backgroundColor","borderRadius","opacity"]},a={};for(var i in e){for(var o={},s=0;s<e[i].length;s++){var n=e[i][s];""!==this.reportSetting[s]&&(o[n]=this.reportSetting[n])}a[i]=o}return Object.assign(a,{head:{fontSize:"12px"},number:{fontSize:"12px"}}),t.extend(!0,{},this.defaultStyleData,{currentStyle:a},{currentStyle:{box:this.getData.style}},{currentStyle:this.getData.setting})},switchDetailShow:function(t){var e=t.type,a=t.value,i=this[e][a].hideSetting;this[e][a].hideSetting=!i},toggleTabs:function(t){this.isModule=!1,this.nowTab=t,this.nowContent=""},showModule:function(t){Object.assign(this,{isModule:!0,currentType:t})},setCurrentType:function(t){this.currentBtn=t},addItem:function(e){var a=t.extend([],this[e]);a.length<1?(a.push({}),this.drawChangeSelectedData({dataresource:Object(n.a)({},e,a)})):this.checkEmpty(e).isAdd&&(a.push({}),this.drawChangeSelectedData({dataresource:Object(n.a)({},e,null)}),this.drawChangeSelectedData({dataresource:Object(n.a)({},e,a)}))},checkEmpty:function(e){for(var a=t.extend([],this[e]),i=a[a.length-1],o=this.moduleMsg[e].type,s=!0,n=[],r=0;r<o.length;r++)i[o[r]]||(s=!1,n.push(o[r]));return{isAdd:s,temp:n}},deleteItem:function(e,a){var i=t.extend(!0,[],this[a]);i.splice(e,1),this.drawChangeSelectedData({dataresource:Object(n.a)({},a,null)}),this.drawChangeSelectedData({dataresource:Object(n.a)({},a,i),dataflag:!0})},toggle:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this.currentBtn,a=e.v,i=e.value,o=e.type,s=this[o][i][a];if("style"===o){var r=!this.getData.lastOperate[a];this.drawChangeSelectedData({lastOperate:Object(n.a)({},a,r),oparateFlag:!0})}else if("data"===o){var l=!1;if(this.getData.dataresource){var c=this.getData.dataresource.measure_selected,d=void 0===c?[]:c;d.length>0&&(l=!0)}if(l){var u=!this.getData.dataresource[a],h=Object(n.a)({},a,u);if("transferAll"===a&&u){var p=s.releativePrime;Object.assign(h,Object(n.a)({},p,[])),this.drawChangeSelectedData({dataresource:Object(n.a)({},p,null)})}this.drawChangeSelectedData({dataresource:h,dataflag:t})}}},transformData:function(t){var e=this.currentBtn,a=e.v,i=e.style,o=e.value;if(i){var s=i[o][a].settingName,n={};this._.set(n,s,t),this.drawChangeSelectedData(n)}},changeShowType:function(t){this.drawChangeSelectedData(Object(n.a)({staticDataSource:{isStaticData:t}},t?"oparateFlag":"dataflag",!0))},changeTreeMode:function(t){this.drawChangeSelectedData(Object(n.a)({setting:{treeMode:{treeMode:t}}},t?"oparateFlag":"dataflag",!0))},outercept:function(){var t,e=this.currentBtn,a=e.v,i=e.value,o=e.type,s=this[o][i][a];o="setting",this.drawChangeSelectedData((t={},Object(n.a)(t,o,Object(n.a)({},i,Object(n.a)({},s.key,s.value))),Object(n.a)(t,"alignflag",!0),t))},useColor:function(){var t=this.currentBtn,e=t.e,a=t.value,i=t.v;if(this.currentOpen===i)this.hideColorPickerPublic(),this.currentOpen="";else{var o=this.find(e.target,"name").el,s="color"!==i,n=this.currentStyle.currentStyle[a][i];Object.assign(this.colorPicker,{flat:!0,el:o,isTransparent:s,color:n}),this.showColorPickerPublic(this.colorPicker),this.currentOpen=i}},getColor:function(t){var e=this.currentBtn,a=e.v,i=e.value,o=t.hex;this.changeData({v:a,value:i,finalMsg:o,type:"style"})},showListPlugin:function(a,i,s){var l=this,c=this[s][a][i],d=c.dropDownData,u=d.idKey;if("style"===s){var h=this.getData.dataresource,p=h&&(h.dimension_selected||h.measure_selected);switch(i){case"fieldsHide":if(p){var g=h.dimension_selected,m=void 0===g?[]:g,f=h.measure_selected,w=void 0===f?[]:f;h[i];d.dataSource=[].concat(Object(o.a)(m),Object(o.a)(w))}else d.noData=this.$t("design.tableFieldNoData");break;case"pagesize":p||(d.noData=this.$t("design.tableFieldNoData"));break;default:var v=null;v="box"===a?this.getData.style&&this.getData.style[i]:this.getData.setting[a]&&this.getData.setting[a][i],Object.assign({},d,{defaultItem:v})}}else if("data"===s){var y={},A=this.getData.dataresource&&this.getData.dataresource.rootId;switch(i){case"chooseModel":this.getData.dataresource&&this.getData.dataresource[u];this.$http({url:this.urls[d.dropDownUrl],params:{rootId:A},method:"get"}).then((function(t){d.dataSource=t.data.data,l.drawChangeSelectedData({cacheDataSource:Object(n.a)({},l.nowIndex,{modelList:null})}),l.drawChangeSelectedData({cacheDataSource:Object(n.a)({},l.nowIndex,{modelList:t.data.data}),dataflag:!0})})).catch((function(t){d.noData=l.$t("design.tableDirError")}));break;default:var D=this.getData.dataresource&&this.getData.dataresource.model_id;if(D)switch(i){case"dimension":case"measure":Object.assign(y,{modelId:D}),this.$http({url:this.urls[d.dropDownUrl],params:y,method:"get"}).then((function(t){l.getData.dataresource[i+"_selected"];for(var e={}.kpiGroup,a=void 0===e?{}:e,o=t.data.data.data,s=0;s<o.length;s++){var c=o[s].analy_type+"List";a[c]||(a[c]=[]),a[c].push(o[s])}d.dataSource=a[i+"List"],l.drawChangeSelectedData({cacheDataSource:Object(n.a)({},l.nowIndex,{columnList:null})}),l.drawChangeSelectedData({cacheDataSource:Object(n.a)({},l.nowIndex,Object(r.a)({columnList:o},a))})})).catch((function(t){d.noData=l.$t("design.tableDirError")}));break;case"combine":case"transfer":var S=c.analy_type,b=this.getData.dataresource[S];d.dataSource=b}else d.noData=this.$t("design.tableModleNoData")}}else if("moduleMsg"===s)if("field"===i){var C=c.analy_type,x=[],k=this[a];if(this.getData.dataresource){var T=this.getData.dataresource[C];x=void 0===T?[]:T}if(k.length>=2){for(var I=t.extend([],x),B=0;B<x.length;B++)for(var O=0;O<k.length;O++)k[O][i]&&x[B][u]===k[O][i][u]&&I.push(x[B]);for(var N=[],P={},L=0;L<I.length;L++){var _=I[L][u];void 0===P[_]?P[_]=0:P[_]=P[_]+1}for(var F=0;F<I.length;F++){0===P[I[F][u]]&&N.push(I[F])}x=N}d.dataSource=x}else if("content"===i){var $=[],E=t.extend(!0,[],this[a])[parseInt(this.find(e.target,"index").index)],M=E.content,K=void 0===M?[]:M,j=E.field;if(j){for(var R in K)$.push(K[R].real);var V=j.model_id,Q=j.pkid,U=this.params,z=void 0===U?{}:U,Y={url:this.urls.filterFieldUrl,params:{modelId:V,columnId:Q,sqlParams:z},method:"get"};this.loading=!0,this.$http(Y).then((function(t){l.loading=!1;var e=t.data.data,a=[];e.forEach((function(t){var e={val:t,real:t};a.push(e)})),d.dataSource=a})).catch((function(t){}))}else d.noData=this.$t("design.tableFieldNoData")}else{var W=t.extend(!0,[],this[a])[parseInt(this.find(e.target,"index").index)].field;d.noData=W?this.$t("design.tableFieldNoData"):this.$t("design.lineSelectColumnFirst")}this.currentOpen=i},getListItem:function(e){var a,i=this,o=this.currentBtn,s=o.v,l=o.value,c=o.type,d=o.e,u=this[c][l][s],h=null,p=u.dropDownData,g=p.idKey,m=p.showKey,f=p.pidKey;if("style"===c)switch(s){case"fieldsHide":this.drawChangeSelectedData({dataresource:Object(n.a)({},s,null)}),this.drawChangeSelectedData({dataresource:Object(n.a)({},s,e),dataflag:!0});break;case"pagesize":this.drawChangeSelectedData({dataflag:!0,dataresource:{paginator:(a={},Object(n.a)(a,s,e[g]),Object(n.a)(a,"currentPage",1),a)},oparateFlag:!0,lastOperate:Object(n.a)({},s,e[g])})}else if("data"===c)switch(s){case"chooseRoot":this.drawChangeSelectedData({dataresource:{rootId:null}}),this.drawChangeSelectedData({dataresource:{rootId:e}});break;case"chooseModel":var w,v,y=this.getData.cacheDataSource[this.nowIndex].modelList;this.drawChangeSelectedData({dataresource:(w={},Object(n.a)(w,g,null),Object(n.a)(w,m,null),Object(n.a)(w,"folderId",null),Object(n.a)(w,"rootId",null),Object(n.a)(w,"dataType",null),Object(n.a)(w,"dimension_selected",null),Object(n.a)(w,"measure_selected",null),w),cacheDataSource:Object(n.a)({},this.nowIndex,null)}),this.drawChangeSelectedData({dataresource:(v={},Object(n.a)(v,g,e[g]),Object(n.a)(v,m,e[m]),Object(n.a)(v,"folderId",e[f]),Object(n.a)(v,"rootId",this.nowIndex),Object(n.a)(v,"dataType",e.model_analysis_type),v),cacheDataSource:Object(n.a)({},this.nowIndex,{modelList:y})});break;case"dimension":case"measure":var A;this.drawChangeSelectedData({dataresource:Object(n.a)({},s+"_selected",null)}),"measure"===s&&this.drawChangeSelectedData({dataresource:{polys:null}});var D={};this._.forEach(e,(function(t){var e=i.urlOpt.columnOpt.id;"measure"===s&&(D[t[e]]={name:t[i.urlOpt.columnOpt.name],poly:i._.get(i.getData.dataresource,["polys",t[e],"poly"],"")})})),this.drawChangeSelectedData({dataresource:(A={},Object(n.a)(A,s+"_selected",e),Object(n.a)(A,"polys",D),A)}),this.$nextTick((function(){i.fixedInfo(g)}));break;case"combine":case"transfer":var S=Object(n.a)({},s,null);this.drawChangeSelectedData({dataresource:S}),"transfer"===s&&e.length>0&&Object.assign(S,Object(n.a)({},u.releativePrime,!1)),Object.assign(S,Object(n.a)({},s,e)),this.drawChangeSelectedData({dataresource:S,dataflag:!0})}else if("moduleMsg"===c){var b=t.extend(!0,[],this[l]),C=b[h=this.find(d.target,"index").index];"filter"===l&&"field"===s&&C&&C.content&&C.content.length>0&&(C.content=[]),C[s]=e,C.condition="in",b.splice(h,1,C),this.drawChangeSelectedData({dataresource:Object(n.a)({},l,null)}),this.drawChangeSelectedData({dataresource:Object(n.a)({},l,b),dataflag:!0})}else if("animationMsg"===c)switch(s){case"rotation":this.drawChangeSelectedData({dataresource:{rotation_selected:e}})}this.changeData(Object(r.a)(Object(r.a)({},this.currentBtn),{},{finalMsg:e,index:h}))},fixedInfo:function(e){var a=t.extend(!0,{},this.getData.dataresource),i=a.dimension_selected,s=a.measure_selected,n=a.combine,r=void 0===n?[]:n,l=a.transfer,c=void 0===l?[]:l,d=a.format,u=void 0===d?[]:d,h=a.filter,p=void 0===h?[]:h,g=a.fieldsHide,m=void 0===g?[]:g,f=a.transferAll,w=void 0!==f&&f,v=a.filterRules,y=void 0===v?[]:v,A=i||[],D=s||[],S=[];for(var b in r)for(var C in A){A[C][e]===r[b][e]&&S.push(r[b])}var x=[];for(var k in c)for(var T in A){A[T][e]===c[k][e]&&x.push(c[k])}var I=[];for(var B in p){if(p[B].field)for(var O in A){p[B].field[e]===A[O][e]&&I.push(p[B])}}var N=y,P=[];for(var L in u){if(u[L]&&u[L].field)for(var _ in D){u[L].field[e]===D[_][e]&&P.push(u[L])}}this.isEmptyObject(D)||(w=!1);var F=[].concat(Object(o.a)(A),Object(o.a)(D)),$=[];for(var E in m)for(var M in F){m[E][e]===F[M][e]&&$.push(m[E])}this.drawChangeSelectedData({dataresource:{combine:null,transfer:null,filter:null,transferAll:null,format:null,fieldsHide:null,filterRules:null}}),this.drawChangeSelectedData({dataresource:{combine:S,transfer:x,format:P,transferAll:w,filter:I,fieldsHide:$,filterRules:N},dataflag:!0})},changeData:function(t){var e,a,i=t.v,o=t.value,s=t.finalMsg,r=t.type,l=this[r][o][i];"style"===r&&(l.oparateFlag?this.drawChangeSelectedData({lastOperate:Object(n.a)({},i,s.real),oparateFlag:!0}):("string"!=typeof s&&(s=s.real),"box"===o?this.drawChangeSelectedData((e={},Object(n.a)(e,r,Object(n.a)({},i,s)),Object(n.a)(e,"styleflag",!0),e)):(r="setting",this.drawChangeSelectedData((a={},Object(n.a)(a,r,Object(n.a)({},o,Object(n.a)({},i,s))),Object(n.a)(a,"styleflag",!0),a)))))},arrTojson:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"val",a=arguments.length>2?arguments[2]:void 0,i=[],o=0;o<t.length;o++){var s,r=(s={},Object(n.a)(s,e,t[o][e]),Object(n.a)(s,a,t[o][e]),Object(n.a)(s,"resource",t[o]),s);i.push(r)}return i},hyphens:function(t){if("string"==typeof t&&t.includes("-")){for(var e=t.split("-"),a=e[0],i=1;i<e.length;i++)a+=e[i].substring(0,1).toUpperCase()+e[i].substring(1);return a}return t},find:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"parentNode";if(t){for(;!t.getAttribute(e);)t=t[a];var i=t.getAttribute(e);return Object(n.a)({el:t},e,i)}},isEmptyObject:function(t){for(var e in t)return!0;return!1},getUnit:function(){var t=this;t.$http({url:t.urls.unitUrl,method:"get"}).then((function(e){t.unitList=e.data.unit})).catch((function(t){}))}}),filters:{showVal:function(t,e){for(var a=e.dropDownData.dataSource,i=0;i<a.length;i++)if(t===a[i].real){t=a[i].val;break}return t},getLength:function(t){var e=!0;return t&&t.length>0&&(e=!1),e},showINput:function(t,e,a){var i=Object.prototype.toString.call(t).toLowerCase(),o="";if(i.includes("string"))o=t;else if(i.includes("array")){var s=[];t.forEach((function(t){s.push(t[e])})),o=s.join(",")}return""===o&&a&&(o=a),o},showModuleMsg:function(t,e){var a="",i=Object.prototype.toString.call(t).toLowerCase();if(t)if(i.includes("array")){var o=[];for(var s in t)o.push(t[s].val);a=o.join(",")}else i.includes("object")&&(a=t[e]);else a="";return a}}}}).call(this,i("1157"))},"0578":function(t,e,a){"use strict";var i=a("5530"),o=a("2f62"),s={name:"layerList",props:["model","editId","reportName"],data:function(){return{editBlock:"",firstOpen:!1,errorText:""}},directives:{focus:function(t){t.focus()}},computed:Object(i.a)(Object(i.a)(Object(i.a)({},Object(o.d)({currentPage:function(t){return t.draw.currentPage},blockContent:function(t){return t.draw.blockContent}})),Object(o.c)({currentBlockName:"currentBlockName"})),{},{blockContents:function(){var t=this.blockContent[this.currentPage],e=[];for(var a in t)e.unshift(t[a]);return e}}),watch:{},methods:Object(i.a)(Object(i.a)({},Object(o.b)({emptySelect:"_drawEmptySelected",triggerSelect:"_drawTriggerSelect"})),{},{emptyError:function(){this.errorText=""},clickBlock:function(t){this.emptySelect(),this.triggerSelect(t.id)}}),mounted:function(){}},n=(a("13b5"),a("2877")),r=Object(n.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layerList"},[a("div",{staticClass:"content"},[a("div",{staticClass:"middle"},["edit"===t.model?a("div",{staticClass:"errorText",domProps:{innerHTML:t._s(t.errorText)}}):t._e(),a("div",{staticClass:"blockList"},[a("nanoscrollerComponent",{attrs:{properties:{height:"100%",width:"100%"}}},[a("div",{staticClass:"blockListBox"},t._l(t.blockContents,(function(e,i){return a("div",{key:"block-"+i,staticClass:"blockLi",class:{selected:(e.customName||e.defaultName)===t.currentBlockName},attrs:{editRole:"blockLi"},on:{click:function(a){return a.stopPropagation(),t.clickBlock(e)},selectstart:function(t){t.preventDefault()}}},[a("span",{directives:[{name:"show",rawName:"v-show",value:t.editBlock!==e.id,expression:"editBlock !== block.id"},{name:"tooltip",rawName:"v-tooltip.bottom",value:e.customName||e.defaultName,expression:"block.customName || block.defaultName",modifiers:{bottom:!0}}],staticClass:"blockName"},[t._v(t._s(e.customName||e.defaultName))]),"edit"===t.model?a("input",{directives:[{name:"show",rawName:"v-show",value:t.editBlock===e.id,expression:"editBlock === block.id"},{name:"focus",rawName:"v-focus"}],staticClass:"blockNameInput",attrs:{type:"text"},domProps:{value:e.customName||e.defaultName},on:{selectstart:function(t){t.stopPropagation()},keydown:function(t){t.stopPropagation()},keyup:function(t){t.stopPropagation()},click:function(t){t.stopPropagation()}}}):t._e()])})),0)])],1)])])])}),[],!1,null,"4b9df52b",null);e.a=r.exports},"0608":function(t,e,a){"use strict";var i=a("5d86");a.n(i).a},"061d":function(t,e,a){"use strict";var i=a("3370");a.n(i).a},"06a8":function(t,e,a){},"0742":function(t,e,a){},"0767":function(t,e,a){"use strict";var i=a("83d7").a,o=(a("c107"),a("2877")),s=Object(o.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.currentData?a("div",{staticClass:"side"},[a("ul",{staticClass:"side-right-tabs"},t._l(t.tabList,(function(e){return a("li",{key:e.type,staticClass:"tabs-item pointer",class:{"is-active":t.nowTab!==e.type},on:{click:function(a){return t.toggleTabs(e.type)}}},[t._v(t._s(e.name))])})),0),a("div",{staticClass:"total-text"},[a("div",{staticClass:"title-text"},[t._v(t._s(t.title[t.blockType]||t.computedTitle))])]),t._l(t.transformSetting,(function(e){return a("div",{directives:[{name:"show",rawName:"v-show",value:(t.nowContent?t.nowContent:t.nowTab)===e.type,expression:"(nowContent ? nowContent : nowTab) === item.type"},{name:"loading",rawName:"v-loading",value:"data"===e.type?t.loadingSetting:{show:!1},expression:"item.type === 'data' ? loadingSetting : { show: false }"}],key:e.type,staticClass:"middle",class:e.type},["data"===e.type?a("div",{staticClass:"errorText horizontal",domProps:{innerHTML:t._s(t.errorText)}}):t._e(),"data"===e.type?t._t("blockName"):t._e(),"data"===e.type?t._t("typeToggle"):t._e(),t._l(e.children,(function(i){return["direction"===i.id&&t.showRotate||"direction"!==i.id?a("div",{key:i.id,staticClass:"styles-item",class:[i.id&&t.hideSettingList.includes(i.id)?"hideDetail":"",i.class]},[i.name?a("div",{staticClass:"style-title",on:{click:function(e){return t.switchDetailShow(i.id)}}},[a("div",{staticClass:"icon-traingle"}),a("div",{staticClass:"iconfont",class:i.icon}),a("div",{staticClass:"style-title-text"},[t._v(t._s(i.name))])]):t._e(),"data"===e.type&&t.getData&&t.getData.staticDataSource&&!t.getData.staticDataSource.isStaticData?a("excel",{on:{transferData:t.getModelFromExcel}}):t._e(),a("div",{staticClass:"forms"},t._l(i.children,(function(e,i){return a("div",{directives:[{name:"show",rawName:"v-show",value:!e.showflag||t.getValue(e.showflag.settingName)===e.showflag.value,expression:"line.showflag ? getValue(line.showflag.settingName) === line.showflag.value : true"}],key:"line"+i,staticClass:"line",class:e.class,style:e.style?e.style:{}},[e.name?a("div",{class:"line-left-"+e.nameLength,style:{position:"relative"}},[a("span",[t._v(t._s(e.name))]),e.edit?a("editColumn",{staticClass:"edit-column",attrs:{columns:t.getData.dataSource&&t.getData.dataSource.polys},on:{updateData:t.updatePolyData}}):t._e()],1):t._e(),a("div",{staticClass:"line-middle",style:e.style?e.style:{}},["tabs"===e.showType?[a("ul",{staticClass:"root-tabs"},t._l(t.tabsParam,(function(e,i){return a("li",{key:i,staticClass:"li-tab",class:{active:i===t.nowIndex},on:{click:function(e){return t.toggleFolderTabs(i)}}},[t._v(t._s(e))])})),0)]:t._e(),"editor-code"===e.showType&&t.initMonaco?[a("staticDataModel",{attrs:{staticDataSource:e.trueValue,blockType:t.blockType},on:{updateData:function(a){return t.updateStaticData(e,a)}}})]:t._e(),"input"===e.showType?[t._v(" \\ "),a("div",{staticClass:"iconInput",class:e.detailClass},[e.iconClass?a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e.title?e.title:"",expression:"line.title ? line.title : ''",modifiers:{bottom:!0}}],staticClass:"iconInput-icon"},[a("span",{staticClass:"iconfont",class:e.iconClass})]):t._e(),a("input",{staticClass:"iconInput-input",attrs:{type:"text",spellcheck:"false",placeholder:e.placeholder?e.placeholder:""},domProps:{value:e.trueValue},on:{change:function(a){return t.transformData(e.settingName,a.target.value,e)},input:function(e){return t.lengthLimit(e)},compositionstart:function(e){return t.lengthComposition("start",e)},compositionend:function(e){return t.lengthComposition("end",e)}}})])]:"input-text"===e.showType?[a("div",{staticClass:"iconInput",class:e.detailClass},[e.title?a("div",{staticClass:"iconInput-text"},[t._v(t._s(e.title)+":")]):t._e(),a("input",{staticClass:"iconInput-input",attrs:{type:"text",spellcheck:"false",placeholder:e.placeholder?e.placeholder:""},domProps:{value:e.trueValue},on:{change:function(a){return t.transformData(e.settingName,a.target.value,e)}}})])]:"text"===e.showType?[a("div",{staticClass:"iconInput",class:e.detailClass},[e.title?a("div",{staticClass:"iconInput-text"},[t._v(t._s(e.title)+":")]):t._e()])]:"options-icon"===e.showType?[a("ul",{staticClass:"ul-default",class:e.detailClass},t._l(e.groups,(function(i){return a("li",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:i.title,expression:"option.title",modifiers:{bottom:!0}}],key:i.value,staticClass:"li-img-text pointer",class:{"icon-active":e.trueValue===i.value},on:{click:function(a){return t.transformData(e.settingName,i.value,e)}}},[a("span",{staticClass:"iconfont",class:i.iconClass})])})),0)]:"options-radio"===e.showType&&("position"===e.name&&t.showPosition||"position"!==e.name)?[a("ul",{staticClass:"ul-default",class:e.detailClass},t._l(e.groups,(function(i){return a("li",{key:i.value,staticClass:"li-radio pointer",on:{click:function(a){return t.transformData(e.settingName,i.value,e,"initMonaco")}}},[e.trueValue===i.value?a("span",{staticClass:"iconfont icon-radio-selected",attrs:{vl:e.trueValue+"="+i.value}}):a("span",{staticClass:"iconfont icon-radio-unselected",attrs:{vl:e.trueValue+"="+i.value}}),a("span",[t._v(t._s(i.text))])])})),0)]:t._e(),"colorPicker-icon"===e.showType?[a("div",{staticClass:"dropDown onlyicon pointer",class:e.detailClass,attrs:{editRole:"colorPicker"},on:{click:function(a){return a.stopPropagation(),t.showColorPicker(a,e.settingName,e.isTransparent)}}},[a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e.title?e.title:"",expression:"line.title ? line.title : ''",modifiers:{bottom:!0}}],staticClass:"dropDown-icon"},[a("span",{staticClass:"iconfont",class:e.iconClass}),a("div",{staticClass:"color-show",style:"background-color:"+e.trueValue+";"})])])]:t._e(),"dropDown-icon-input"===e.showType?[a("dropdown",{staticClass:"dropDown pointer",class:[e.detailClass],attrs:{configs:e.dropDownData,value:t.getDropDownValue(e)},on:{click:function(a){return t.showDropDown(e.settingName,e)},change:t.dropdownChanged}},[a("div",[e.iconClass?a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e.title?e.title:"",expression:"line.title ? line.title : ''",modifiers:{bottom:!0}}],staticClass:"dropDown-icon"},[a("span",{staticClass:"iconfont",class:e.iconClass})]):t._e(),a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e.showValueTitle?e.trueValue:e.iconClass?"":e.title,expression:"line.showValueTitle ? line.trueValue : !line.iconClass ? line.title : ''",modifiers:{bottom:!0}}],staticClass:"dropDown-input-box",class:[e.readonly?"dropDownShadow":""]},[a("input",{staticClass:"dropDown-true-input",class:{ellipsis:e.readonly},attrs:{type:"text",spellcheck:"false",readonly:e.readonly,unselectable:e.readonly?"on":"off",placeholder:e.placeholder?e.placeholder:""},domProps:{value:e.trueValue},on:{change:function(a){return t.transformData(e.settingName,a.target.value,e)},keydown:function(t){t.stopPropagation()}}})])])])]:"seekBar"===e.showType?[a("div",{staticClass:"seekBar-box",class:e.detailClass},[a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e.titleMin?e.titleMin:"",expression:"line.titleMin ? line.titleMin : ''",modifiers:{bottom:!0}}],staticClass:"seekBar-icon"},[a("span",{staticClass:"iconfont",class:e.iconClassMin})]),a("div",{staticClass:"seekBar-bar pointer",attrs:{editRole:"seekBar"},on:{mousedown:function(a){return t.seekBarStart(a,e)},mousemove:function(a){return t.seekBarMove(a,e)},mouseup:function(a){return t.seekBarEnd(a,e)},mouseleave:function(a){return t.seekBarEnd(a,e)},selectstart:function(t){t.preventDefault()}}},[a("div",{staticClass:"seekBar-line"}),a("div",{staticClass:"seekBar-button",style:{left:e.trueValue}})]),a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e.titleMax?e.titleMax:"",expression:"line.titleMax ? line.titleMax : ''",modifiers:{bottom:!0}}],staticClass:"seekBar-icon"},[a("span",{staticClass:"iconfont",class:e.iconClassMax})])])]:t._e(),"options-checkbox"===e.showType?[a("div",{staticClass:"checkbox pointer",class:e.detailClass,on:{click:function(a){return t.transformData(e.settingName,!e.trueValue,e)}}},[!0===e.trueValue?a("span",{staticClass:"iconfont icon-checkbox"}):a("span",{staticClass:"iconfont icon-checkbox-no"}),a("span",[t._v(t._s(e.text))])])]:"button"===e.showType?[a("div",{staticClass:"buttonArea",class:e.detailClass},[e.buttonIcon?a("div",{staticClass:"buttonIcon pointer",on:{click:function(a){return t.clickButton(e.callback,e.callValue,e.settingName)}}},[a("span",{staticClass:"iconfont",class:e.buttonIcon})]):t._e(),e.buttonText?a("div",{staticClass:"buttonText pointer",on:{click:function(a){return t.clickButton(e.callback,e.callValue,e.settingName)}}},[t._v(t._s(e.buttonText))]):t._e()])]:t._e()],2)])})),0)],1):t._e()]})),"style"===e.type?a("backgroundAndBorder",{attrs:{reportSetting:t.reportSetting,getData:t.getData}}):t._e(),"data"===e.type&&t.blockType.startsWith("map")&&!t.getData.staticDataSource.isStaticData?a("mapFlyLineRule",{attrs:{flyLineRules:t.getData.dataSource&&t.getData.dataSource.flyLineRules,mapData:t.getData.dataSource&&t.getData.dataSource.mapData&&t.getData.dataSource.mapData.dataset||{},blockType:t.blockType},on:{updateData:t.updateFlyLineRules}}):t._e(),"data"===e.type?a("filterRule",{attrs:{filterRules:t.getData.dataSource&&t.getData.dataSource.filterRules,sourceFieldList:t.getData.cacheDataSource&&t.getData.cacheDataSource[t.nowIndex]&&t.getData.cacheDataSource[t.nowIndex].columnList},on:{updateData:t.updateFilterRules}}):t._e()],2)}))],2):t._e()}),[],!1,null,"f0455684",null);e.a=s.exports},"0977":function(t,e,a){"use strict";var i=a("b9cf");a.n(i).a},"0b55":function(t,e,a){"use strict";var i=a("d7b8");a.n(i).a},"0b5b":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH4AAACaCAYAAABv9vwcAAACNElEQVR42uzdsUrDUBiG4WONVUGnulgrCpbqICJ0kg5Ozs5ODnX3ErwEL6GXGv+Dy6GQTHbw5HnhOwlkfNaEpL7atj2NTSrcWWya7yveOPX1sV5fxt6LrQr4aWxR4e7ytfKdFMYvsU2x15SPWFtsk1RVYfq5ZfwFHjz4ocHfx76LvSXVBn8Rey52lSQNpLZtH/JxmzQ0+KffQ+AFXuAFXuAFXuAFXuAFXuAFXuAFXuAFXuAFXt3Qh7GmEz7uR3lJtcEvYpM++PPYdRJ4gRd4gRd4gRd4gRd4gRd4gRd4gRd4gRd4gRd48Fvws3zMwQ8Ivgw8ePDgBV7gBV7gBV7gBV7gBV7gBV47hi8fjGNL8HXDx25iDfjhwS+zNXjw4MGDB69q4EexvT74fD1KqrJO+CTwAi/wAi/wAi/wAi/wAi/wAi/w+jPw49hBJ3xsP9YkeRFD4AVe4PWv4ZsMDr56+McM79u5oX87Bx48ePACL/ACL/ACL/ACL/ACL/ACr93/cHCejxl4vxgFD17gBV7gBV7gBV7gBV7gBV7gBV7gf9q5QxyEYTAMw/U4dgMQiKnJKRR6Gr35HYEjcASOytoE8WfJ5lmfN/lMKx9TVYEXeIEXeIFXaAvez5a1wQu8wAu8wAu8wAu8wAu8wAu8wAu8wAu8wAu8wCvtt/7gsE2SKmkax1veEHZJOprxM+8ddi2Hr7xv2Jx0NPjPyvgOHjz42uCHchH2+D35T3m9/e3OAb4rzmHNAsU+XsUAuBo1AAAAAElFTkSuQmCC"},"0c13":function(t,e,a){},"0cf2":function(t,e,a){"use strict";var i=a("84e5").a,o=(a("061d"),a("2877")),s=Object(o.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.currentData?a("div",{staticClass:"side"},[a("ul",{staticClass:"side-right-tabs"},t._l(t.tabList,(function(e){return a("li",{key:e.type,staticClass:"tabs-item pointer",class:{"is-active":t.nowTab!==e.type},on:{click:function(a){return t.toggleTabs(e.type)}}},[t._v(" "+t._s(e.name)+" ")])})),0),a("div",{staticClass:"total-text"},[a("div",{staticClass:"title-text"},[t._v(t._s(t.blockTitle))])]),t._l(t.transformSetting,(function(e){return a("div",{directives:[{name:"show",rawName:"v-show",value:(t.nowContent?t.nowContent:t.nowTab)===e.type,expression:"(nowContent ? nowContent : nowTab) === item.type"},{name:"loading",rawName:"v-loading",value:"data"===e.type?t.loadingSetting:{show:!1},expression:"item.type === 'data' ? loadingSetting : { show: false }"}],key:e.type,staticClass:"middle",class:e.type},["data"===e.type?t._t("blockName"):t._e(),t._l(e.children,(function(i){return["direction"===i.id&&t.showRotate||"direction"!==i.id?a("div",{key:i.id,staticClass:"styles-item",class:[i.id&&t.hideSettingList.includes(i.id)?"hideDetail":"",i.class]},[i.name?a("div",{staticClass:"style-title",on:{click:function(e){return t.switchDetailShow(i.id)}}},[a("div",{staticClass:"icon-traingle"}),a("div",{staticClass:"iconfont",class:i.icon}),a("div",{staticClass:"style-title-text"},[t._v(t._s(i.name))])]):t._e(),"data"===e.type?a("excel",{on:{transferData:t.getModelFromExcel}}):t._e(),a("div",{staticClass:"forms"},t._l(i.children,(function(e,i){return a("div",{directives:[{name:"show",rawName:"v-show",value:!e.showflag||t.getValue(e.showflag.settingName)===e.showflag.value,expression:"line.showflag ? getValue(line.showflag.settingName) === line.showflag.value : true"}],key:"line"+i,staticClass:"line",class:e.class,style:e.style?e.style:{}},[e.name?a("div",{class:"line-left-"+e.nameLength,style:{position:"relative"}},[a("span",[t._v(t._s(e.name))])]):t._e(),a("div",{staticClass:"line-middle",style:e.style?e.style:{}},["tab"===e.showType?[a("ul",{staticClass:"root-tabs"},t._l(e.tabsParam,(function(e){return a("li",{staticClass:"li-tab",class:{active:e.value===t.nowIndex},on:{click:function(a){return t.toggleFolderTabs(e.value)}}},[t._v(" "+t._s(e.text)+" ")])})),0)]:t._e(),"input"===e.showType?[a("div",{staticClass:"iconInput",class:e.detailClass},[e.iconClass?a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e.title?e.title:"",expression:"line.title ? line.title : ''",modifiers:{bottom:!0}}],staticClass:"iconInput-icon"},[a("span",{staticClass:"iconfont",class:e.iconClass})]):t._e(),a("input",{staticClass:"iconInput-input",attrs:{type:"text",spellcheck:"false",placeholder:e.placeholder?e.placeholder:""},domProps:{value:e.trueValue},on:{change:function(a){return t.transformData(e.settingName,a.target.value,e)}}})])]:t._e(),"input-text"===e.showType?[a("div",{staticClass:"iconInput",class:e.detailClass},[e.title?a("div",{staticClass:"iconInput-text"},[t._v(t._s(e.title)+":")]):t._e(),a("input",{staticClass:"iconInput-input",attrs:{type:"text",spellcheck:"false",placeholder:e.placeholder?e.placeholder:""},domProps:{value:e.trueValue},on:{change:function(a){return t.transformData(e.settingName,a.target.value,e)}}})])]:"options-icon"===e.showType?[a("ul",{staticClass:"ul-default",class:e.detailClass},t._l(e.groups,(function(i){return a("li",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:i.title,expression:"option.title",modifiers:{bottom:!0}}],key:i.value,staticClass:"li-img-text pointer",class:{"icon-active":e.trueValue===i.value},on:{click:function(a){return t.transformData(e.settingName,i.value,e)}}},[a("span",{staticClass:"iconfont",class:i.iconClass,style:i.style})])})),0)]:"options-radio"===e.showType?[a("ul",{staticClass:"ul-default",class:e.detailClass},t._l(e.groups,(function(i){return a("li",{key:i.value,staticClass:"li-radio pointer",on:{click:function(a){return t.transformData(e.settingName,i.value,e)}}},[e.trueValue===i.value?a("span",{staticClass:"iconfont icon-radio-selected"}):a("span",{staticClass:"iconfont icon-radio-unselected"}),a("span",[t._v(t._s(i.text))])])})),0)]:t._e(),"options-checkbox"===e.showType?[a("div",{staticClass:"checkbox pointer",class:e.detailClass,on:{click:function(a){return t.transformData(e.settingName,!e.trueValue,e)}}},[!0===e.trueValue?a("span",{staticClass:"iconfont icon-checkbox"}):a("span",{staticClass:"iconfont icon-checkbox-no"}),a("span",[t._v(t._s(e.text))])])]:t._e(),"colorPicker-icon"===e.showType?[a("div",{staticClass:"dropDown onlyicon pointer",class:e.detailClass,attrs:{editRole:"colorPicker"},on:{click:function(a){return a.stopPropagation(),t.showColorPicker(a,e.settingName,e.isTransparent)}}},[a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e.title?e.title:"",expression:"line.title ? line.title : ''",modifiers:{bottom:!0}}],staticClass:"dropDown-icon"},[a("span",{staticClass:"iconfont",class:e.iconClass}),a("div",{staticClass:"color-show",style:"background-color:"+e.trueValue+";"})])])]:t._e(),"dropDown-icon-input"===e.showType?[a("dropdown",{staticClass:"dropDown pointer",class:[e.detailClass],attrs:{configs:e.dropDownData,value:t.getDropDownValue(e)},on:{change:function(a){return t.dropDownChanged(a,e.settingName)}}},[a("div",{on:{click:function(a){return a.stopPropagation(),t.showDropDown(e.settingName,e)}}},[e.iconClass?a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e.title?e.title:"",expression:"line.title ? line.title : ''",modifiers:{bottom:!0}}],staticClass:"dropDown-icon"},[a("span",{staticClass:"iconfont",class:e.iconClass})]):t._e(),a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e.showValueTitle?e.trueValue:e.iconClass?"":e.title,expression:"line.showValueTitle ? line.trueValue : !line.iconClass ? line.title : ''",modifiers:{bottom:!0}}],staticClass:"dropDown-input-box",class:[e.readonly?"dropDownShadow":""]},[a("input",{staticClass:"dropDown-true-input",class:{ellipsis:e.readonly},attrs:{type:"text",spellcheck:"false",readonly:e.readonly,unselectable:e.readonly?"on":"off",placeholder:e.placeholder?e.placeholder:""},domProps:{value:e.trueValue},on:{change:function(a){return t.transformData(e.settingName,a.target.value,e)},keydown:function(t){t.stopPropagation()}}})])])])]:t._e()],2)])})),0)],1):t._e()]})),"style"===e.type?a("backgroundAndBorder",{attrs:{reportSetting:t.backgroundStyle,getData:t.getData}}):t._e()],2)}))],2):t._e()}),[],!1,null,"6b1d94ae",null);e.a=s.exports},"0df3":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE8AAABDCAYAAADd9lj9AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsSAAALEgHS3X78AAAE6UlEQVR42u2cwYrcRhCGv5YViMlhHyE49yV23sD3mMAeYkP2HRKSo88+Gux38EKcg0lw7nmDxMGQo+cZ9rA4sJ7pHEY9lGqqSpKVZXts/SC61dNqqT+qutW7XUoAOefPgHvA18ARwzoH/hxR7330FlgZ5beAm1d0z68m9Pt34GVK6SJ14J4B7cQb/nFFHbkOeHcn1n8HnLZsLW4SuMs1qxev+RXIXZFOdf7/0D8zrk1GfpeeHPP5Jzf4YkJ7LXAv5Zyf0Zlszvz7y988NCpnYNOl5cA5vyp4c+TBS855o64B4NsveZQSn3an5ynn/LL8+PwVPxnQLHD6ABtgbUpG6h0NfbgA3L/N45KP3FVC0/A2Cq6Vr00amM5LWPJ30wojeBrcEDwLYI3y3BSnrOn6agK04HngJMCS18AOER5GWYEWAvTgSXAaXml0yHWhDpCWZel8A6wVIHld0/UlhGdBi8Y+a+KoBZp+lqTy8tiIVFqaNBYNdA+eNbZpF7bqWe5aE0AJzoJXXLXU0W6rx3oTnmdR0aRhuW9t0uBKWSNSaX0ammkgLdv12tHlmlUATo9pG6fRWl9X9DhWxi/trqVOFr/1+nm55k23GjlPOecfAZ6/4je2g+ZGpEOz7qGMe97riPdi3Bj5GyW9f5tvoO+23hLLmji029a+ytAzZTmXblv6IieKRl3T65uGF1mR5Zobldc3qlFyrJOwoO+m0sVNLmMnDM/yDmmFUYDIsQ76FiZhDg1LpuVFIHHOccpqkn7Py/QtDYwJAt8DwxWGVabhjFll1CQNUFqa/M3rf0+e5Q2Rj15ParQ+y+p0XpaN6atreWDDIzj36tcg/UzSbWUdfR4aQ4OtMUutQ3HV93nuUUvNaMLwGozq7cof3EnVwPz5r6xXFhEsr85e3z3L8xr+mDTY7zHwFjla4M3QAm+GFngztMCboQXeDC3wZqhluytp0TS9hS281XU/yQFqBYvbztICb4ZatjsuYd7mwY9Nt2AL76q2qn7IugmL287SAm+GFngztMCboQXeDC3wZmiBN0Nj4KURdT5EDfa7VZWjC/Q/inNQR/67ryaloDwN1Nlj1ASVhm7q7SyvXWOee0z/TXhRkEfUcAquuW5ZzzamX6FFem7rgfD29kb5WhQFsAxFA5mW2g7cxCqT27HkLvJaock+WOCs36L+7xRNGNaG56xulI3y2gFGEY9R+R6j1mk82i2uY7LKdRv6kGuTZxiNk/eOnVqnQY+4trACUG6SrlWWi8rYC28Gdrm0QePyBhtsy5PQdJRNTSCnxmHIvMtnFyZ/uebNi9c8oR+4VwJa9A74Q44A8sa2hn2AJXBld5wc80OJAGrpvi/QFUTjnHRZHaul9/nWLAmwEakGa45/4kMOR2MnDBmnoHeR6yCQohotL+qnBBlNHDtpeHJbvYZW8nqc83bN12aBU8c9C2JvRWZZnqygJwrPXfWYF/3xoAZoOq/dV08cEqQLD2zKEo50WwlM52tUtESzZlptfT158KSlwX5MloR66PCk9WkX1ZY4CM8DOCUaskaA0euKB88FF8GTAK0In4RtdbWCswBKeEMvzHZjy7ekzPPR35J6AHw35Um61chTYqs7BHgA6eSY7yd+xQzgbPl+3lZ3J9Z/B5w2KaUL4BQ4Y/ulizEaW+9QNKXfZ8BpSuniP/5Bce5lHfVEAAAAAElFTkSuQmCC"},"0e96":function(t,e,a){"use strict";var i=a("82ad").a,o=(a("5170"),a("2877")),s=Object(o.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"side"},[a("ul",{staticClass:"side-right-tabs"},[a("li",{staticClass:"tabs-item"},[t._v(t._s(t.$t("design.graphStyle")))])]),a("div",{staticClass:"total-text"},[a("div",{staticClass:"title-text"},[t._v(t._s(t.$t("design.graphOtherTitle")))])]),a("div",{staticClass:"middle"},[t._t("blockName"),t._l(t.defaults.type,(function(e,i){return a("div",{key:i,staticClass:"styles-item",class:{hideDetail:!t.defaults[e].hideSetting}},[a("div",{staticClass:"style-title",on:{click:function(a){return t.switchDetailShow({type:"defaults",value:e})}}},[a("div",{staticClass:"icon-traingle"}),a("i",{staticClass:"icon iconfont",class:t.suBTitle[e].icon}),a("div",{staticClass:"style-title-text"},[t._v(t._s(t.suBTitle[e].text))])]),a("div",{staticClass:"forms"},t._l(t.defaults[e].type,(function(i,o){return a("div",{key:o,staticClass:"formItem"},t._l(i,(function(i,o){return a("div",{key:o,class:[{line:!t.defaults[e][i].notLine},t.defaults[e][i].classList]},[t.defaults[e][i].filter&&"dropDownComponent"==t.defaults[e][i].alias?a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:t.defaults[e][i].toolTip,expression:"defaults[value][v].toolTip",modifiers:{bottom:!0}}],staticClass:"dropDown dropDownShadow",style:[t.defaults[e][i].itWorks?{backgroundColor:"#ccc"}:{}],on:{mousedown:function(a){return t.setCurrentType({v:i,value:e})},click:function(a){return a.stopPropagation(),t.showListPlugin({v:i,value:e},a)}}},[a("div",{staticClass:"clickShow",attrs:{name:i}},[a("div",{staticClass:"dropDown-icon"},[a("i",{class:t.defaults[e][i].iconClass})]),a("input",{staticClass:"dropDown-input",style:[t.defaults[e][i].itWorks?{backgroundColor:"#ccc"}:{}],attrs:{readonly:""},domProps:{value:t.defaults[e][i].dropItems[t.defaults[e][i].currentStatus].val}})])]):t.defaults[e][i].filter&&""==t.defaults[e][i].alias?a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:t.defaults[e][i].toolTip,expression:"defaults[value][v].toolTip",modifiers:{bottom:!0}}],staticClass:"labelInput",attrs:{name:i},on:{mousedown:function(a){return a.stopPropagation(),t.setCurrentType({v:i,value:e})}}},[a("label",{staticClass:"labelInput-label",class:t.defaults[e][i].iconClass},[t._v(t._s(t.defaults[e][i].info))]),t.defaults[e][i].iconMsg?a("input",{directives:[{name:"model",rawName:"v-model",value:t.curRotateVal,expression:"curRotateVal"}],staticClass:"labelInput-input labelInput-rotate",attrs:{type:"text",readonly:""},domProps:{value:t.curRotateVal},on:{keydown:function(e){return e.stopPropagation(),t.slowRatote(e)},keyup:function(e){return e.stopPropagation(),t.checkInsert(e)},blur:function(e){return t.checkBlur(e)},input:function(e){e.target.composing||(t.curRotateVal=e.target.value)}}}):t._e(),a("div",{staticClass:"rotate-add-reduce"},[a("span",{staticClass:"rotate-add",on:{click:function(e){return e.stopPropagation(),t.addRotate(e)}}},[t._v("+")]),a("span",{staticClass:"rotate-reduce",on:{click:function(e){return e.stopPropagation(),t.reduceRotate(e)}}},[t._v("-")])])]):a("div",t._l(t.defaults.shape.type,(function(e,i){return a("div",{key:i,staticClass:"shapes",on:{mouseleave:function(a){return t.cancelChoose(e)}}},t._l(t.defaults.shape[e].category,(function(i,o){return a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:t.graph[i],expression:"graph[sv]",modifiers:{bottom:!0}}],key:o,staticClass:"shapesBtn",on:{click:function(a){return t.chooseShape(i,e)}}},[a("span",{class:t.defaults.shape[e][i].iconList})])})),0)})),0)])})),0)})),0)])})),a("backgroundAndBorder",{attrs:{reportSetting:t.reportSetting,getData:t.getData,disables:["borderRadius","borderStyle"]}}),a("interActive",{attrs:{reportSetting:t.reportSetting,getData:t.getData,disables:["borderRadius"]}})],2)])}),[],!1,null,"5d6a72c5",null);e.a=s.exports},"0f3e":function(t,e,a){"use strict";a("b0c0");var i={name:"typeToggle",props:["configs","blockType"],data:function(){return{hideDetail:!1}},computed:{typeList:function(){var t=this.configs.type[this.configs.isToggleNum],e=[];for(var a in t){var i=t[a];if(this.configs[i].show&&this.configs[i].toggle){var o=this.configs[i].typeNum;if(o&&o>1)for(var s=0;s<o;s++){var n={name:this.configs[i].name,type:i+(+s+1)};e.push(n)}else{var r={name:this.configs[i].name,type:i};e.push(r)}}}return e}},methods:{switchDetailShow:function(){this.hideDetail=!this.hideDetail},toggleType:function(t){t!==this.blockType&&this.$emit("toggleType",{oldType:this.blockType,newType:t})}}},o=(a("abfc"),a("2877")),s=Object(o.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"styles-item noBg",class:[t.hideDetail?"hideDetail":""]},[a("div",{staticClass:"style-title",on:{click:t.switchDetailShow}},[a("div",{staticClass:"icon-traingle"}),a("div",{staticClass:"iconfont icon-type"}),a("div",{staticClass:"style-title-text"},[t._v(t._s(t.$t("design.chartType")))])]),a("div",{staticClass:"forms"},t._l(t.typeList,(function(e){return a("div",{key:e.type,staticClass:"line width-auto"},[a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e.name,expression:"item.name",modifiers:{bottom:!0}}],staticClass:"line-middle typeBox",class:[e.type===t.blockType?"icon-active":""],on:{click:function(a){return t.toggleType(e.type)}}},[a("span",{staticClass:"iconfont",class:"icon-"+e.type})])])})),0)])}),[],!1,null,"63abed99",null);e.a=s.exports},"105f":function(t,e,a){"use strict";var i=a("5530"),o=a("2f62"),s={name:"staticDataModel",props:{staticDataSource:{default:function(){return{}}},blockType:{default:function(){return{}}}},data:function(t){return{realData:{},defaultOptions:{tabSize:2,indentUnit:2,styleActiveLine:!0,smartIndent:!0,autofocus:!0,lineNumbers:!0,line:!0,foldGutter:!0,lint:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter","CodeMirror-lint-markers"],styleSelectedText:!0,mode:"text/javascript",keyMap:"sublime",extraKeys:{"Ctrl-Q":"autocomplete"},matchBrackets:!0,showCursorWhenSelecting:!0,theme:"default",hintOptions:{completeSingle:!1,tables:{users:["name","score","birthDate"],countries:["name","population","size"]}}},defaultcode:"",updataCode:"",isFormatCode:!0,oldSelected:!1,oldBlockType:""}},watch:{staticDataSource:function(t){var e=this;t&&"{}"!==JSON.stringify(t)&&(this.oldBlockType!==this.blockType||this.oldBlockType===this.blockType&&this.oldSelected!==this.selected[0])&&(this.defaultcode="",this.$nextTick((function(){e.oldBlockType=e.blockType,e.oldSelected=e.selected[0],e.defaultcode=JSON.stringify(t)})))}},computed:Object(i.a)({},Object(o.d)({staticData:function(t){return t.draw.staticData},selected:function(t){return t.draw.selected}})),mounted:function(){var t=this;this.defaultcode=JSON.stringify(t.staticDataSource),t.$nextTick((function(){t.isFormatCode=!0}))},methods:{getHighLightBlur:function(t){this.isFormatCode=!0,t&&this.$emit("updateData",JSON.parse(t))}}},n=(a("bf16"),a("2877")),r=Object(n.a)(s,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"codeMain"},[e("div",{staticClass:"bottomArea"},[e("highLightComponent",{attrs:{properties:{sqlString:this.defaultcode,highLighterObj:this.defaultOptions,startAutoFormatCode:this.isFormatCode}},on:{highLightblur:this.getHighLightBlur}})],1)])}),[],!1,null,"9460a5ea",null);e.a=r.exports},"13b5":function(t,e,a){"use strict";var i=a("707f");a.n(i).a},"14f1":function(t,e,a){"use strict";var i=a("a625");a.n(i).a},"18bb":function(t,e,a){"use strict";var i=a("a80f").a,o=(a("5602"),a("2877")),s=Object(o.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"side"},[a("ul",{staticClass:"side-right-tabs"},[a("li",{staticClass:"tabs-item pointer is-active"},[t._v(t._s(t.$t("design.lineStyle")))])]),a("div",{staticClass:"total-text"},[a("div",{staticClass:"title-text"},[t._v(t._s(t.$t("design.groupTitle")))])]),a("div",{staticClass:"middle"},[t._l(t.transformSetting,(function(e){return[a("div",{key:e.id,staticClass:"styles-item",class:{hideDetail:e.id&&t.hideSettingList.includes(e.id)}},[a("div",{staticClass:"style-title",on:{click:function(a){return t.switchDetailShow(e.id)}}},[a("div",{staticClass:"icon-traingle"}),a("div",{staticClass:"iconfont",class:e.icon}),a("div",{staticClass:"style-title-text"},[t._v(t._s(e.name))])]),a("div",{staticClass:"forms"},t._l(e.children,(function(e,i){return a("div",{directives:[{name:"show",rawName:"v-show",value:!e.showflag||t.getValue(e.showflag.settingName)===e.showflag.value,expression:"line.showflag ? getValue(line.showflag.settingName) === line.showflag.value : true"}],key:"line"+i,staticClass:"line",class:e.class},[e.name?a("div",{class:"line-left-"+e.nameLength},[t._v(t._s(e.name))]):t._e(),a("div",{staticClass:"line-middle"},["input"===e.showType?[t._v(" \\ "),a("div",{staticClass:"iconInput",class:e.detailClass},[e.iconClass?a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e.title?e.title:"",expression:"line.title ? line.title : ''",modifiers:{bottom:!0}}],staticClass:"iconInput-icon"},[a("span",{staticClass:"iconfont",class:e.iconClass})]):t._e(),a("input",{staticClass:"iconInput-input",attrs:{type:"text",spellcheck:"false",placeholder:e.placeholder?e.placeholder:""},domProps:{value:e.trueValue},on:{change:function(a){return t.transformData(e.settingName,a.target.value,e)}}})])]:t._e(),"input-text"===e.showType?[a("div",{staticClass:"iconInput",class:e.detailClass},[e.title?a("div",{staticClass:"iconInput-text"},[t._v(t._s(e.title)+":")]):t._e(),a("input",{staticClass:"iconInput-input",attrs:{type:"text",spellcheck:"false",placeholder:e.placeholder?e.placeholder:""},domProps:{value:e.trueValue},on:{change:function(a){return t.transformData(e.settingName,a.target.value,e)}}})])]:"options-icon"===e.showType?[a("ul",{staticClass:"ul-default",class:e.detailClass},t._l(e.groups,(function(i){return a("li",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:i.title,expression:"option.title",modifiers:{bottom:!0}}],key:i.value,staticClass:"li-img-text pointer",class:{"icon-active":e.trueValue===i.value},on:{click:function(a){return t.transformData(e.settingName,i.value,e)}}},[a("span",{staticClass:"iconfont",class:i.iconClass})])})),0)]:"options-radio"===e.showType?[a("ul",{staticClass:"ul-default",class:e.detailClass},t._l(e.groups,(function(i){return a("li",{key:i.value,staticClass:"li-radio pointer",on:{click:function(a){return t.transformData(e.settingName,i.value,e)}}},[e.trueValue===i.value?a("span",{staticClass:"iconfont icon-radio-selected"}):a("span",{staticClass:"iconfont icon-radio-unselected"}),a("span",[t._v(t._s(i.text))])])})),0)]:t._e(),"options-checkbox"===e.showType?[a("div",{staticClass:"checkbox pointer",class:e.detailClass,on:{click:function(a){return t.transformData(e.settingName,!e.trueValue,e)}}},[!0===e.trueValue?a("span",{staticClass:"iconfont icon-checkbox"}):a("span",{staticClass:"iconfont icon-checkbox-no"}),a("span",[t._v(t._s(e.text))])])]:t._e(),"colorPicker-icon"===e.showType?[a("div",{staticClass:"dropDown onlyicon pointer",class:e.detailClass,attrs:{editRole:"colorPicker"},on:{click:function(a){return a.stopPropagation(),t.showColorPicker(a,e.settingName,e.isTransparent)}}},[a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e.title?e.title:"",expression:"line.title ? line.title : ''",modifiers:{bottom:!0}}],staticClass:"dropDown-icon"},[a("span",{staticClass:"iconfont",class:e.iconClass}),a("div",{staticClass:"color-show",style:"background-color:"+e.trueValue+";"})])])]:t._e(),"dropDown-icon-input"===e.showType?[a("dropdown",{staticClass:"dropDown pointer",class:[e.detailClass],attrs:{configs:e.dropDownData,value:t.getDropDownValue(e)},on:{change:function(a){return t.getDropDownSelected(a,e)}}},[a("div",[e.iconClass?a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e.title?e.title:"",expression:"line.title ? line.title : ''",modifiers:{bottom:!0}}],staticClass:"dropDown-icon"},[a("span",{staticClass:"iconfont",class:e.iconClass})]):t._e(),a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e.showValueTitle?e.trueValue:e.iconClass?"":e.title,expression:"line.showValueTitle ? line.trueValue : !line.iconClass ? line.title : ''",modifiers:{bottom:!0}}],staticClass:"dropDown-input-box",class:[e.readonly?"dropDownShadow":""]},[a("input",{staticClass:"dropDown-true-input",class:{ellipsis:e.readonly},attrs:{type:"text",spellcheck:"false",readonly:e.readonly,unselectable:e.readonly?"on":"off",placeholder:e.placeholder?e.placeholder:""},domProps:{value:e.trueValue},on:{change:function(a){return t.transformData(e.settingName,a.target.value,e)},keydown:function(t){t.stopPropagation()}}})])])])]:"seekBar"===e.showType?[a("div",{staticClass:"seekBar-box",class:e.detailClass},[a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e.titleMin?e.titleMin:"",expression:"line.titleMin ? line.titleMin : ''",modifiers:{bottom:!0}}],staticClass:"seekBar-icon"},[a("span",{staticClass:"iconfont",class:e.iconClassMin})]),a("div",{staticClass:"seekBar-bar pointer",attrs:{editRole:"seekBar"},on:{mousedown:function(a){return t.seekBarStart(a,e)},mousemove:function(a){return t.seekBarMove(a,e)},mouseup:function(a){return t.seekBarEnd(a,e)},mouseleave:function(a){return t.seekBarEnd(a,e)},selectstart:function(t){t.preventDefault()}}},[a("div",{staticClass:"seekBar-line"}),a("div",{staticClass:"seekBar-button",style:{left:e.trueValue}})]),a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e.titleMax?e.titleMax:"",expression:"line.titleMax ? line.titleMax : ''",modifiers:{bottom:!0}}],staticClass:"seekBar-icon"},[a("span",{staticClass:"iconfont",class:e.iconClassMax})])])]:"button"===e.showType?[a("div",{staticClass:"buttonArea",class:e.detailClass},[e.buttonIcon?a("div",{staticClass:"buttonIcon pointer",on:{click:function(a){return t.clickButton(e.callback,e.callValue,e.settingName)}}},[a("span",{staticClass:"iconfont",class:e.buttonIcon})]):t._e(),e.buttonText?a("div",{staticClass:"buttonText pointer",on:{click:function(a){return t.clickButton(e.callback,e.callValue,e.settingName)}}},[t._v(" "+t._s(e.buttonText)+" ")]):t._e()])]:t._e()],2)])})),0)])]}))],2)])}),[],!1,null,"20271910",null);e.a=s.exports},"18d4":function(t,e,a){},"190c":function(t,e,a){},"194c":function(t,e,a){},"1b61":function(t,e,a){"use strict";var i=a("1fb8");a.n(i).a},"1b6a":function(t,e,a){"use strict";(function(t){a("99af"),a("4de4"),a("7db0"),a("c740"),a("0481"),a("4160"),a("caad"),a("a15b"),a("4069"),a("b0c0"),a("d3b7"),a("ac1f"),a("25f0"),a("2532"),a("1276"),a("159b"),a("cca6");var i=a("3835"),o=a("ade3"),s=a("53ca"),n=a("2909"),r=a("5530"),l=a("2f62"),c=a("eee9"),d=a("9a21"),u=a("cb26"),h=a("f444"),p=a("dc74"),g=a("105f"),m=a("7e2a");e.a={props:["getData","reportSetting","params"],components:{backgroundAndBorder:c.a,filterRule:p.a,staticDataModel:g.a,excel:m.a},mixins:[d.a,u.a,h.a],data:function(){var t={dmOpt:{id:"model_id",name:"model_name",pid:"parentid"},columnOpt:{id:"pkid",name:"des_column",type:"analy_type"}},e={title:{style:this.$t("design.textStyle"),data:this.$t("design.tableDataTitle")},subTitle:{style:{primary:{text:this.$t("design.dataobjStyleMetric"),icon:"icon-table-value"},missing:{text:this.$t("design.dataobjStyleMissing"),icon:"icon-table-title"},labels:{text:this.$t("design.dataobjStyleLables"),icon:"icon-title"},padding:{text:this.$t("design.dataobjStylePadding"),icon:"icon-grid"}},data:{dataobj:{text:this.$t("design.reportObj"),icon:"icon-data-obj"}}}},a={style:["labels","primary","missing","padding"],data:["dataobj"]};return Object(r.a)(Object(r.a)({dataSourceKeys:{key:"data",fields:{modelIdKey:"chooseModel.model_id"}},urls:{dataModelUrl:"/model_list",modelFolderUrl:"/model/directory",columnUrl:"/report/model/column",unitUrl:"/report/data/unit"},urlOpt:t,typesSetting:a},e),{},{colorPicker:{color:"#ff8080",flat:!1,flexLeft:0,flexTop:0,isTransparent:!0},nowTab:"data",nowContent:"",currentBtn:null,gender:"T",filterselements:"",tabList:[{type:"data",name:"数据"},{type:"style",name:"属性/样式"}],radioChange:[{value:!0,type:"data",name:this.$t("design.staticData")},{value:!1,type:"data",name:this.$t("design.dynamicData")}],style:{type:Object(n.a)(a.style),labels:{subTitle:"标题",hideSetting:!0,type:[["color","fontSize","fontFamily","fontWeight"],["hideMetric"],["field","nameAlignleft","nameAligncenter","nameAlignright"],["value","valueAlignleft","valueAligncenter","valueAlignright"]],color:{filter:!0,alias:"colorPickerComponent",classList:["width-2"],iconClass:["iconfont","icon-font"]},fontSize:{filter:!0,alias:"dropDownComponent",classList:["width-4"],iconClass:["iconfont","icon-font-size"],dropDownData:{showKey:"val",idKey:"real",defaultItem:"16px",dataSource:[{real:"auto",val:"auto"},{real:"12px",val:1},{real:"13px",val:2},{real:"16px",val:3},{real:"18px",val:4},{real:"24px",val:5},{real:"32px",val:6},{real:"48px",val:7}]}},fontFamily:{filter:!0,alias:"dropDownComponent",classList:["width-4"],iconClass:["iconfont","icon-font-family"],dropDownData:{dataSource:[{val:this.$t("design.simSun"),real:"SimSun"},{val:this.$t("design.simHei"),real:"SimHei"},{val:this.$t("design.yaHei"),real:"Microsoft YaHei"},{val:this.$t("design.youYuan"),real:"YouYuan"},{val:this.$t("design.fangSong"),real:"STFangsong"},{val:this.$t("design.shuma"),real:"ShuMa"}],showKey:"val",idKey:"real"}},fontWeight:{filter:!0,alias:"button",classList:["width-2"],iconClass:["iconfont","icon-bold"],toolTip:this.$t("design.testBold"),execCommand:"normal"},hideMetric:{filter:!0,alias:"",classList:["width-4"],iconClass:[],toggle:!0,msg:this.$t("design.dataobjStyleHideField"),oparateFlag:!0,range:["icon-checkbox-no","icon-checkbox"]},field:{filter:!0,alias:"text",classList:["line","tableTitleAlignBtn"],msg:this.$t("design.dataobjFileds")+":"},value:{filter:!0,alias:"text",classList:["line","tableTitleAlignBtn"],msg:this.$t("design.dataobjResult")+":"},nameAlignleft:{filter:!1,alias:"",classList:["tableTitleAlignBtn"],iconClass:["iconfont","icon-alignleft"],key:"nameTextAlign",value:"left",differ:"name"},nameAligncenter:{filter:!1,alias:"",classList:["tableTitleAlignBtn"],iconClass:["iconfont","icon-alignmiddle"],key:"nameTextAlign",value:"center",differ:"name"},nameAlignright:{filter:!1,alias:"",classList:["tableTitleAlignBtn"],iconClass:["iconfont","icon-alignright"],key:"nameTextAlign",value:"right",differ:"name"},valueAlignleft:{filter:!1,alias:"",classList:["tableTitleAlignBtn"],iconClass:["iconfont","icon-alignleft"],key:"valueTextAlign",value:"left",differ:"value"},valueAligncenter:{filter:!1,alias:"",classList:["tableTitleAlignBtn"],iconClass:["iconfont","icon-alignmiddle"],key:"valueTextAlign",value:"center",differ:"value"},valueAlignright:{filter:!1,alias:"",classList:["tableTitleAlignBtn"],iconClass:["iconfont","icon-alignright"],key:"valueTextAlign",value:"right",differ:"value"}},primary:{subTitle:"初始度量",hideSetting:!0,titleClass:["one"],type:[["character","compact"],["unit"],["magnitude"],["precision"]],compact:{filter:!0,alias:"",classList:["width-4"],iconClass:[],toggle:!0,msg:this.$t("design.dataobjStyleCompact"),oparateFlag:!0,range:["icon-checkbox-no","icon-checkbox"]},character:{filter:!0,alias:"",classList:["width-4"],iconClass:[],toggle:!0,msg:this.$t("design.dataobjStyleCharacter"),oparateFlag:!0,range:["icon-checkbox-no","icon-checkbox"]},precision:{selectTitle:this.$t("design.lineFmt"),filter:!0,alias:"dropDownComponent",classList:["width-4"],iconClass:["iconfont","icon-circle-small"],dropDownData:{dataSource:[{val:"0",real:"0"},{val:"1",real:"1"},{val:"2",real:"2"},{val:"3",real:"3"},{val:"4",real:"4"},{val:"5",real:"5"},{val:"6",real:"6"},{val:"7",real:"7"},{val:"8",real:"8"}],defaultItem:"0px",showKey:"val",idKey:"real"}},magnitude:{selectTitle:this.$t("design.lineMnt"),filter:!0,alias:"dropDownComponent",classList:["width-4"],iconClass:["iconfont","icon-circle-small"],dropDownData:{dataSource:[{val:"亿",real:"100000000"},{val:"千万",real:"10000000"},{val:"百万",real:"1000000"},{val:"十万",real:"100000"},{val:"万",real:"10000"},{val:"千",real:"1000"},{val:"百",real:"100"},{val:"十",real:"10"},{val:"一",real:"1"},{val:"百分之一",real:"0.01"},{val:"千分之一",real:"0.001"}],defaultItem:"0px",showKey:"val",idKey:"real"}},unit:{selectTitle:this.$t("design.lineUnit"),filter:!0,alias:"dropDownComponent",classList:["width-4"],iconClass:["iconfont","icon-circle-small"],dropDownData:{dropDownUrl:"unitUrl",dataSource:[],defaultItem:"0px",showKey:"val",idKey:"real"}}},missing:{subTitle:"信息缺失",hideSetting:!0,type:[["NoData","Zero"]],NoData:{filter:!0,alias:"",classList:["width-6"],iconClass:[],toggle:!0,msg:this.$t("design.dataobjStyleShowNoData"),oparateFlag:!0,range:["icon-radio-unselected","icon-radio-selected"],relative:"missing.Zero"},Zero:{filter:!0,alias:"",classList:["width-4"],iconClass:[],toggle:!0,msg:this.$t("design.dataobjStyleShowZero"),oparateFlag:!0,range:["icon-radio-unselected","icon-radio-selected"],relative:"missing.NoData"}},padding:{subTitle:"内边距",hideSetting:!0,titleClass:["one"],type:[["lineHeight"],["left","right","top","bottom"]],lineHeight:{filter:!0,edit:!0,alias:"dropDownComponent",classList:["width-5"],iconClass:["iconfont","icon-line-height"],dropDownData:{dataSource:[{val:"auto",real:"auto"},{val:0,real:"0px"},{val:4,real:"4px"},{val:8,real:"8px"},{val:10,real:"10px"},{val:16,real:"16px"},{val:32,real:"32px"},{val:64,real:"64px"},{val:128,real:"128px"}],defaultItem:"0px",showKey:"val",idKey:"real"}},left:{filter:!0,edit:!0,alias:"dropDownComponent",classList:["width-5"],iconClass:["iconfont","icon-left"],dropDownData:{dataSource:[{val:0,real:"0px"},{val:4,real:"4px"},{val:8,real:"8px"},{val:10,real:"10px"},{val:16,real:"16px"},{val:32,real:"32px"},{val:64,real:"64px"},{val:128,real:"128px"}],defaultItem:"0px",showKey:"val",idKey:"real"}},right:{filter:!0,edit:!0,alias:"dropDownComponent",classList:["width-5"],iconClass:["iconfont","icon-right"],dropDownData:{dataSource:[{val:0,real:"0px"},{val:4,real:"4px"},{val:8,real:"8px"},{val:10,real:"10px"},{val:16,real:"16px"},{val:32,real:"32px"},{val:64,real:"64px"},{val:128,real:"128px"}],defaultItem:"0px",showKey:"val",idKey:"real"}},top:{filter:!0,edit:!0,alias:"dropDownComponent",classList:["width-5"],iconClass:["iconfont","icon-top"],dropDownData:{dataSource:[{val:0,real:"0px"},{val:4,real:"4px"},{val:8,real:"8px"},{val:10,real:"10px"},{val:16,real:"16px"},{val:32,real:"32px"},{val:64,real:"64px"},{val:128,real:"128px"}],defaultItem:"0px",showKey:"val",idKey:"real"}},bottom:{filter:!0,edit:!0,alias:"dropDownComponent",classList:["width-5"],iconClass:["iconfont","icon-bottom"],dropDownData:{dataSource:[{val:0,real:"0px"},{val:4,real:"4px"},{val:8,real:"8px"},{val:10,real:"10px"},{val:16,real:"16px"},{val:32,real:"32px"},{val:64,real:"64px"},{val:128,real:"128px"}],defaultItem:"0px",showKey:"val",idKey:"real"}}}},data:{type:Object(n.a)(a.data),dataobj:{subTitle:"数据模型",hideSetting:!0,type:[["chooseRoot"],["chooseModel"],["fields"],["dataUpdate"],["roll"]],chooseRoot:[{value:0,name:this.$t("dataExplore.myFolders")},{value:1,name:this.$t("dataExplore.sharedFolders")}],chooseModel:{toolTip:this.$t("design.tableChooseModel"),filter:!0,alias:"dropDownComponent",classList:[],iconClass:[],iconMsg:!0,showflag:{settingName:"staticDataSource.isStaticData",value:!1},showInInput:t.dmOpt.name,dropDownData:{placeholder:this.$t("design.lineSelectModel"),type:"tree",defaultItem:"",dropDownUrl:"dataModelUrl",noData:this.$t("design.lineNoModel"),noUrlData:this.$t("design.lineSelectMenuFirst"),dataSourceName:"dmList",dataSource:[],showKey:t.dmOpt.name,idKey:t.dmOpt.id,pidKey:t.dmOpt.pid,showType:"model_type",folder:"directory",chooseFolder:!1}},fields:{filter:!0,alias:"dropDownComponent",classList:[],iconClass:[],iconMsg:!0,showflag:{settingName:"staticDataSource.isStaticData",value:!1},msg:this.$t("design.dataobjFileds"),showInInput:t.columnOpt.name,dropDownData:{placeholder:this.$t("design.dataobjFiledPlaceholder"),limited:!0,noData:this.$t("design.tableFieldNoData"),defaultItem:"",dropDownUrl:"columnUrl",params:{model_id:"dm_id"},noUrlData:"请先选择数据模型",dataSourceName:"dimensionList",dataSource:[],showKey:t.columnOpt.name,idKey:t.columnOpt.id,dropDownStyle:{}}},dataUpdate:{filter:!0,type:["isDataUpdate","dataUpdateTime"],isDataUpdate:{filter:!0,alias:"",classList:["width-10"],iconClass:[],toggle:!0,title:this.$t("design.isDataUpdate"),oparateFlag:!0,range:["icon-checkbox-no","icon-checkbox"]},dataUpdateTime:{filter:!0,showflag:{settingName:"isDataUpdate"},alias:"input",classList:["iconInput"],iconClass:[],toggle:!0,title:this.$t("design.dataUpdateTime"),oparateFlag:!0}},roll:{filter:!0,type:["isRoll"],always:!0,isRoll:{filter:!0,alias:"",classList:["width-10"],iconClass:[],toggle:!0,title:this.$t("design.isRoll"),oparateFlag:!0,range:["icon-checkbox-no","icon-checkbox"]}}}},defaultStyle:{currentStyle:{labels:{color:"#000",hideMetric:!0,valueTextAlign:"left",nameTextAlign:"left",fontSize:"auto"},primary:{character:!0,compact:!1,precision:2,magnitude:1,unit:""},missing:{NoData:!0,Zero:!1},padding:{lineHeight:"auto",left:"10px",right:"10px",top:"10px",bottom:"10px"}}},loadingSetting:{show:!1},unitList:[]})},computed:Object(r.a)(Object(r.a)({},Object(l.d)({colorPickerOpt:function(t){return t.colorPickerOpt},colorPickerSelected:function(t){return t.colorPickerSelected},dataUpdate:function(t){return t.draw.dataUpdate}})),{},{sourceFieldList:function(){var t=this,e=this._.get(this.getData.cacheDataSource,this.nowIndex+".columnList")||[],a={},i=[];if(this.getData.dataSource){var o=this.getData.dataSource,s=o.dimension,r=o.measure;if(!s&&!r)return i;var l=s.split?s.split(","):Object(n.a)(s),c=r.split?r.split(","):Object(n.a)(r);a=this._.zipObject(this._.concat(l,c),this._.concat(l,c))}return this._.isEmpty(a)||(i=e.filter((function(e){return a[e[t.urlOpt.columnOpt.id]]}))),i},currentStyle:function(){var e={};for(var a in this.typesSetting.style){e[this.typesSetting.style[a]]=[]}Object.assign(e,{labels:["fontSize","fontFamily"]});var i={};for(var o in e){var s=e[o],n={};for(var l in s)n[s[l]]=this.reportSetting[s[l]];i[o]=n}return t.extend(!0,{},{currentStyle:i},Object(r.a)({},this.defaultStyle),{currentStyle:{box:this.getData.style}},{currentStyle:this.getData.setting})},currentData:function(){return this.getData.data},staticDataSource:function(){return this._.get(this.getData,"staticDataSource.data",{})},isStaticData:function(){return this._.get(this.getData,"staticDataSource.isStaticData",!0)},showMode:function(){return this.isStaticData}}),watch:{colorPickerOpt:function(){this.colorPickerOpt.flat||(this.pickerUser="",this.currentOpen="")},colorPickerSelected:function(){this.getColor(this.colorPickerSelected)}},created:function(){this.drawChangeSelectedData({data:{dataUpdateTime:this._.get(this.getData,"data.dataUpdateTime")||this.dataUpdate.time,dataFlag:!1}}),this.initParam()},mounted:function(){this.getUnit()},methods:Object(r.a)(Object(r.a)({},Object(l.b)({drawChangeSelectedData:"drawChangeSelectedData",showColorPickerPublic:"showColorPicker",hideColorPickerPublic:"hideColorPicker"})),{},{getStyleValue:function(t,e){return this.style[t][e].oparateFlag&&!this.style[t][e].dataFlag?void 0:this.style[t][e].dataFlag&&this.style[t][e].oparateFlag?this.getData.dataresource&&this.getData.dataresource[e]:this.currentStyle.currentStyle[t][e]},updateStaticData:function(t){this.drawChangeSelectedData({staticDataSource:{data:null},changeData:!0}),this.drawChangeSelectedData({staticDataSource:{data:t},changeData:!0})},updateFilterRules:function(t,e){this.drawChangeSelectedData({dataSource:{filterRules:""}}),this.drawChangeSelectedData({dataSource:{filterRules:t},changeData:!0,updatedFilters:e})},toggleFolderTabs:function(t){if(t!==this.nowIndex){var e=this._.cloneDeep(this.getData.data);if(e){delete e.cacheData;var a=this._.cloneDeep(this.getData.data.cacheData)||{};a[this.nowIndex]=e;var i={},o=this.getData.data.cacheData&&this.getData.data.cacheData[t];i=o?Object(r.a)({cacheData:a},o):{cacheData:a},this.drawChangeSelectedData({data:null}),this.drawChangeSelectedData({data:Object(r.a)({rootId:t},i),dataflag:!0})}else this.drawChangeSelectedData({data:null}),this.drawChangeSelectedData({data:{rootId:t}});this.nowIndex=t}},getModelFromExcel:function(t,e){var a=this;this.$http({url:a.urls.dataModelUrl,params:{rootId:a.nowIndex},method:"get"}).then((function(i){if(a.loadingSetting.show=!1,"object"===Object(s.a)(i.data.data)){var n={model_id:t,model_name:e};a.drawChangeSelectedData("cacheDataSource",Object(o.a)({},a.nowIndex,{modelList:null}),{changeFlag:!1}),a.drawChangeSelectedData("cacheDataSource",Object(o.a)({},a.nowIndex,{modelList:i.data.data}),{changeFlag:!1}),a.drawChangeSelectedData({data:Object(r.a)(Object(r.a)({},a.getData.data),{},{chooseModel:n,fields:{des_column:"",pkid:"",type:"measure"}}),changeData:!0}),a.$nextTick((function(){a.initParam()}))}else a.errorText=i.data})).catch((function(t){a.loadingSetting.show=!1;var e=a.$t("design.lineGetDataFail");t&&t.response&&t.response.data&&(e=t.response.data.message),a.errorText=e}))},setCurrentType:function(t){this.currentBtn=t},insertPadding:function(t){t.target.focus()},blurPadding:function(t,e){var a=e.v,i=e.value,s=(e.type,t.target.value);"lineHeight"===a&&"auto"===s||(s=isNaN(parseInt(s))?0:parseInt(s)+"px","setting",this.drawChangeSelectedData(Object(o.a)({},"setting",Object(o.a)({},i,Object(o.a)({},a,s)))))},switchDetailShow:function(t){var e=t.type,a=t.value,i=this[e][a].hideSetting;this[e][a].hideSetting=!i},toggleTabs:function(t){this.nowTab=t,this.nowContent=""},btnClicked:function(){var t=this.currentBtn,e=t.v,a=t.value,i=t.type,s=this[i][a][e];i="setting","fontWeight"===e&&("normal"===s.execCommand?s.execCommand="bold":s.execCommand="normal",this.drawChangeSelectedData(Object(o.a)({},i,Object(o.a)({},a,Object(o.a)({},e,s.execCommand)))))},outercept:function(){var t=this.currentBtn,e=t.v,a=t.value,i=t.type,s=this[i][a][e];i="setting",this.drawChangeSelectedData(Object(o.a)({},i,Object(o.a)({},a,Object(o.a)({},s.key,s.value))))},toggle:function(){var t=this.currentBtn,e=t.v,a=t.value,s=t.type,n=this[s][a][e],r=this.currentStyle.currentStyle[a][e];if(n.relative){var l=n.relative.split("."),c=Object(i.a)(l,2),d=c[0],u=c[1];s="setting",this.drawChangeSelectedData(Object(o.a)({},s,Object(o.a)({},d,Object(o.a)({},u,r))))}this.changeData({finalMsg:!r})},toggleData:function(){var t=this.currentBtn.v,e=!!this.currentData&&this.currentData[t];this.transformData(!e)},changeShowType:function(t){this.drawChangeSelectedData(Object(o.a)({staticDataSource:{isStaticData:t}},t?"oparateFlag":"dataflag",!0))},useColor:function(){var t=this.currentBtn,e=t.e,a=t.value,i=t.v;if(this.currentOpen===i)this.hideColorPickerPublic(),this.currentOpen="";else{var o=this.find(e.target,"name").el,s="color"!==i,n=this.currentStyle.currentStyle[a][i];Object.assign(this.colorPicker,{flat:!0,el:o,isTransparent:s,color:n}),this.showColorPickerPublic(this.colorPicker),this.currentOpen=i}},getColor:function(t){var e=t.hex;this.changeData({finalMsg:e})},showListPlugin:function(){var t=this,e=this.currentBtn,a=e.v,i=e.value,s=e.type,n=(e.e,this[s][i][a].dropDownData);n.idKey;if("style"===s)switch(a){case"unit":this.$http({url:this.urls[n.dropDownUrl],method:"get"}).then((function(e){n.dataSource=e.data.unit,t.drawChangeSelectedData({cacheDataSource:Object(o.a)({},t.nowIndex,{modelList:null})}),t.drawChangeSelectedData({cacheDataSource:Object(o.a)({},t.nowIndex,{modelList:e.data.unit})})})).catch((function(e){n.noData=t.$t("design.unitError")}))}else if("data"===s){var r={};switch(a){case"chooseModel":Object.assign(r,{rootId:this.nowIndex}),this.$http({url:this.urls[n.dropDownUrl],params:r,method:"get"}).then((function(e){n.dataSource=e.data.data,t.drawChangeSelectedData({cacheDataSource:Object(o.a)({},t.nowIndex,{modelList:null})}),t.drawChangeSelectedData({cacheDataSource:Object(o.a)({},t.nowIndex,{modelList:e.data.data})})})).catch((function(e){n.noData=t.$t("design.tableDirError")}));break;case"fields":var l=this.getData.data&&this.getData.data.chooseModel&&this.getData.data.chooseModel.model_id;l?(Object.assign(r,{modelId:l}),this.$http({url:this.urls[n.dropDownUrl],params:r,method:"get"}).then((function(e){n.dataSource=e.data.data.data,t.drawChangeSelectedData({cacheDataSource:Object(o.a)({},t.nowIndex,{columnList:null,dimensionList:null,measureList:null})}),t.drawChangeSelectedData({cacheDataSource:Object(o.a)({},t.nowIndex,{columnList:e.data.data.data,dimensionList:t._.filter(e.data.data.data,{analy_type:"dimension"}),measureList:t._.filter(e.data.data.data,{analy_type:"measure"})})}),t.drawChangeSelectedData({dataSource:{filters:""}})})).catch((function(e){n.noData=t.$t("design.tableDirError")}))):n.noData=this.$t("design.tableModleNoData")}}this.dropDownUser="table",this.currentOpen=a},hyphens:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_";if("string"==typeof t&&t.includes(e)){for(var a=t.split(e),i=a[0],o=1;o<a.length;o++)i+=a[o].substring(0,1).toUpperCase()+a[o].substring(1);return i}return t},getListItem:function(t){var e,a=this.currentBtn,i=a.v,s=a.value,n=a.type,l=this[n][s][i];0===l.dropDownData.dataSource.length&&(l.dropDownData.dataSource=this.unitList);var c=l.dropDownData,d=c.idKey,u=c.showKey,h=c.pidKey;if("style"===n)this.changeData({finalMsg:t});else if("data"===n){var p,g=(p={},Object(o.a)(p,u,t[u]),Object(o.a)(p,d,t[d]),p);switch(i){case"chooseModel":this.drawChangeSelectedData({data:Object(o.a)({chooseDir:null,dataType:null},i,null)}),this.drawChangeSelectedData({data:Object(o.a)({chooseDir:{model_type_id:t[h]},dataType:t.model_analysis_type},i,g)});break;case"fields":this.drawChangeSelectedData({data:{dimension:null,measure:null}}),this.drawChangeSelectedData({data:(e={},Object(o.a)(e,i,Object(r.a)(Object(r.a)({},g),{},{type:t[this.urlOpt.columnOpt.type]})),Object(o.a)(e,t[this.urlOpt.columnOpt.type],[g.pkid]),Object(o.a)(e,"dataFlag",!0),e)})}}},transformData:function(t){var e,a=this.currentBtn.v;this.drawChangeSelectedData({data:(e={},Object(o.a)(e,a,t),Object(o.a)(e,"dataFlag",!1),e)})},changeData:function(t){var e=this.currentBtn,a=e.v,i=e.value,s=e.type,n=t.finalMsg;n=Array.prototype.toString.call(n).toLowerCase().split(" ")[1].includes("object")?n.real:n,"box"===i?this.drawChangeSelectedData(Object(o.a)({},s,Object(o.a)({},a,n))):(s="setting",this.drawChangeSelectedData(Object(o.a)({},s,Object(o.a)({},i,Object(o.a)({},a,n)))))},find:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"parentNode";if(t){for(;!t.getAttribute(e);)t=t[a];var i=t.getAttribute(e);return Object(o.a)({el:t},e,i)}},getUnit:function(){var t=this;t.$http({url:"/report/data/unit",method:"get"}).then((function(e){t.unitList=e.data.unit,t.style.primary.unit.dropDownData.dataSource=e.data.unit})).catch((function(t){}))},initParam:function(){var t=this;if(this.getData.data&&this.getData.data.chooseModel&&this.getData.data.chooseModel.model_id){var e;e=this.getData.data.chooseModel.model_id,this.$http({url:this.urls.columnUrl,method:"get",params:{modelId:e}}).then((function(e){t.drawChangeSelectedData({cacheDataSource:Object(o.a)({},t.nowIndex,{columnList:e.data.data.data})})})).catch((function(t){}))}}}),filters:{showVal:function(t,e){var a=e.dropDownData.dataSource,i=a.findIndex((function(e){return t===e.real}));return t=i>-1?a[i].val:parseInt(t)},getLength:function(t){var e=!0;return t&&t.length>0&&(e=!1),e},showINput:function(t,e,a){var i=Object.prototype.toString.call(t).toLowerCase(),o="";if(i.includes("string"))o=t;else if(i.includes("array")){var s=[];t.forEach((function(t){s.push(t[e])})),o=s.join(",")}return""===o&&a&&(o=a),o}}}}).call(this,a("1157"))},"1bf8":function(t,e,a){"use strict";var i=a("df4e");a.n(i).a},"1c5e":function(t,e,a){"use strict";var i=a("305b");a.n(i).a},"1fb8":function(t,e,a){},2080:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgwAAAEaCAYAAAB94Q8UAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABxFJREFUeNrs3ctrXGUYwOFvhlR0oDbOSkUlC8Eb2piFIC46griQUisI4sopbnSlS1e2dOsmWxeBgf4BZqUggiN1o8KQTQWhi2wMXmBIvQxKa47v0TMhTM9ckmbaIfM88PFNT0MWb5Izv7lXsixLB9Grr7Ria9e6nVYCAI606i3EQhILACAYxsVC0/gAQDCIBQBgf8EgFgBAMIgFAODgwSAWAICqWAAADhwMYgEA6FsYEgtfx9aNWDhjRADAwpBYeCHWi8YDAOSqQ2IBAKA8GMJJIwEAxgXDDSMBAMYFAwCAYAAABAMAIBgAAMEAAAgGAEAwAACCAQAQDAAAggEAEAwAgGAAAAQDACAYAADBAAAIBgBAMAAACAYAQDAAAIIBABAMAIBgAAAEAwAgGAAAhgfDtVibxgMADAuGPBYatW5HMAAApcFwo4iFDaMBAIYFw5VY2736SiPWkvEAAGXBkGvG+rLYAQBKg2Ez1lfJkx4BgMLC4IFat9OKrWU0AEDfTfcw9OorzVjtfDceAKA0GMJSrFPFDgCQKlmW7f4jv2eh1u00jAUA2Oum5zDkL6mMLV95PLSNCAAoe0gij4XzxQ4AcPM9DOn/V0i0k5dVAgDDgqH4DAmxAADs8vHWAIBgAAAEAwAgGAAAwQAACAYAQDAAAIIBAEAwAACCAQAQDACAYAAABAMAIBgAAMEAAAgGAADBAAAIBgBAMAAAggEAEAwAgGAAAAQDACAYAAAEAwAgGAAAwQAACAYAQDAAAIIBABAMAIBgAAAQDACAYAAABAMAIBgAgJkOhl59pWkMAMDIYIglGACAscEAACAYAADBAABMOxhq3U7DGACAkcFgBACAYAAABAMAIBgAgFkIBu/0CACMDYbknR4BgAmCAQBAMAAAggEAEAwAgGAAAAQDACAYAADBAAAgGAAAwQAACAYAQDAAAIIBABAMAIBgAAAEAwCAYAAABAMAIBgAAMEAAAgGAEAwAACCAQAQDAAAggEAEAwAgGAAAAQDACAYAADBAAAIBgBAMAAACAYAQDAAAIIBABAMAIBgAAAEAwAgGAAAwQAAIBgAAMEAAAgGAODOBkOt22kYAwAwMhiMAAAQDACAYAAABAMAIBgAAMEAAAgGAEAwAAAIBgBAMAAAggEAEAwAgGAAAAQDACAYAADBAAAgGAAAwQAACAYAQDAAAIIBABAMAIBgAAAEAwCAYAAABAMAIBgAAMEAAAgGAEAwAACCAQAQDAAAggEAEAwAgGAAAAQDACAYAADBAAAIBgBAMAAACAYAQDAAAIIBABAMAIBgAAAEAwAgGAAABAMAIBgAAMEAAAgGAEAwAACCAQAQDACAYAAAEAwAgGAAAAQDACAYAADBAAAIBgBAMAAAggEAYMJgWKtsLcc6a0QAwNBg2EnZp7F9EtGwZEwAMN8Whv3HlfTbh8dS9fRH2WObxgQAgqHU9+n3q7FtGBEA4EmPAIBgAAAEAwAgGAAAwQAACAYAQDAAAIIBAEAwAACCAQAQDACAYAAABAMAIBgAAMEAAAgGAADBAAAIBgBAMAAAggEAEAwAgGAAAAQDACAYAAAEAwAgGAAAwQAACAYAQDAAAIIBABAMAIBgAAAQDACAYAAABAMAIBgAAMEAAAgGAEAwAACCAQBAMAAAggEAEAwAgGAAAAQDACAYAIC5DobT6f4PzqQH3lmrbC0aEwAIhlLHUvWP62nnvnb69WljAgDBUOrd7KHXO2n7pZ/T35derny7bFQAIBj6lnv1ld04uJSdvBzb2VjrogEABEPf+7Hae6Ph8+y5DdEAAIJhV63baYkGAGBkMIgGAGCiYBANAMBEwSAaAICJgkE0AAATBYNoAAAmCgbRAABM/OFTogEABINoAAAOJxhEAwAIBtEAABxeMIgGAJgvlSzLbukbRCw0Y1uN1YiI2OgfL2JhPY+HIiJg1O/RYhGgzLfVOI9sGwMcwWAQDRxSLHwT65FYd8f6s4iHq6YzV/LzRbM4j5RGQ5xTGsY0VRtxrhZsTC8YxkXD86l+eTHd9d1n6aeLRj57nkzHH30q3XuxmiqvvJ09eFvDbk8sPBzrnljXBn+HmKt4bBaxWBoNcT65YEpT1Ypg2DQGphoMo6Lh48qPP1xPOye+SL+0eumfv4x9tjyRjj/+TDrxRlw8F8HQmpVYiCuH1eJWZ37F0cxv+cSx/B6rxf6x/klu3DG3mo5ONABHIBiGRcNaZSs/cae4MvLHP6PiZ7QUP5/bdstigljIr/DfKr78XFzhtwaOvRbH1ouAeLU49mz+0Fcca8flU/3v6eEw0QDMYDCMuqcBJoyFC7GdH4iF/PfpvX0e+y8qTFw0ADMaDAPRsGrMDHgzec4C+4sG4Qd3VntqwVD8sefvx+C9GBhUj9UtLq+LBZxHYPaD4V8BBgChEf669EZdFAAAAABJRU5ErkJggg=="},2589:function(t,e,a){"use strict";var i=a("d163").a,o=(a("4ef0"),a("2877")),s=Object(o.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"side"},[a("ul",{staticClass:"side-right-tabs"},[a("li",{staticClass:"tabs-item pointer is-active"},[t._v(t._s(t.$t("design.lineStyle")))])]),a("div",{staticClass:"total-text"},[a("div",{staticClass:"title-text"},[t._v(t._s(t.$t("design.pageTitle")))])]),a("div",{staticClass:"middle"},[t._l(t.transformSetting,(function(e){return[a("div",{key:e.id,staticClass:"styles-item",class:{hideDetail:e.id&&t.hideSettingList.includes(e.id)}},[a("div",{staticClass:"style-title",on:{click:function(a){return t.switchDetailShow(e.id)}}},[a("div",{staticClass:"icon-traingle"}),a("div",{staticClass:"iconfont",class:e.icon}),a("div",{staticClass:"style-title-text"},[t._v(t._s(e.name))])]),a("div",{staticClass:"forms"},t._l(e.children,(function(e,i){return a("div",{directives:[{name:"show",rawName:"v-show",value:!e.showflag||t.getShowFlag(e.showflag),expression:"line.showflag ? getShowFlag(line.showflag) : true"}],key:"line"+i,class:["component"===e.showType?"":"line",e.class]},[e.name?a("div",{class:"line-left-"+e.nameLength},[t._v(t._s(e.name))]):t._e(),a("div",{class:["component"===e.showType?"":"line-middle"]},["input"===e.showType?[t._v(" \\ "),a("div",{staticClass:"iconInput",class:e.detailClass},[e.iconClass?a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e.title?e.title:"",expression:"line.title ? line.title : ''",modifiers:{bottom:!0}}],staticClass:"iconInput-icon"},[a("span",{staticClass:"iconfont",class:e.iconClass})]):t._e(),a("input",{staticClass:"iconInput-input",attrs:{type:"text",spellcheck:"false",placeholder:e.placeholder?e.placeholder:""},domProps:{value:e.trueValue},on:{change:function(a){return t.transformData(e.settingName,a.target.value,e)}}})])]:"options-icon"===e.showType?[a("ul",{staticClass:"ul-default",class:e.detailClass},t._l(e.groups,(function(i){return a("li",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:i.title,expression:"option.title",modifiers:{bottom:!0}}],key:i.value,staticClass:"li-img-text pointer",class:{"icon-active":e.trueValue===i.value},on:{click:function(a){return t.transformData(e.settingName,i.value,e)}}},[a("span",{staticClass:"iconfont",class:i.iconClass})])})),0)]:"options-radio"===e.showType?[a("ul",{staticClass:"ul-default",class:e.detailClass},t._l(e.groups,(function(i){return a("li",{key:i.value,staticClass:"li-radio pointer",on:{click:function(a){return t.transformData(e.settingName,i.value,e)}}},[e.trueValue===i.value?a("span",{staticClass:"iconfont icon-radio-selected"}):a("span",{staticClass:"iconfont icon-radio-unselected"}),a("span",[t._v(t._s(i.text))])])})),0)]:t._e(),"colorPicker-icon"===e.showType?[a("div",{staticClass:"dropDown onlyicon pointer",class:e.detailClass,attrs:{editRole:"colorPicker"},on:{click:function(a){return a.stopPropagation(),t.showColorPicker(a,e.settingName,e.isTransparent)}}},[a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e.title?e.title:"",expression:"line.title ? line.title : ''",modifiers:{bottom:!0}}],staticClass:"dropDown-icon"},[a("span",{staticClass:"iconfont",class:e.iconClass}),a("div",{staticClass:"color-show",style:"background-color:"+e.trueValue+";"})])])]:t._e(),"dropDown-icon-input"===e.showType?[a("div",{staticClass:"dropDown pointer",class:[e.detailClass],attrs:{editRole:"dropDown"},on:{click:function(a){return a.stopPropagation(),t.showDropDown(a,e.settingName,e)}}},[e.iconClass?a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e.title?e.title:"",expression:"line.title ? line.title : ''",modifiers:{bottom:!0}}],staticClass:"dropDown-icon"},[a("span",{staticClass:"iconfont",class:e.iconClass})]):t._e(),a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e.showValueTitle?e.trueValue:e.iconClass?"":e.title,expression:"line.showValueTitle ? line.trueValue : !line.iconClass ? line.title : ''",modifiers:{bottom:!0}}],staticClass:"dropDown-input-box",class:[e.readonly?"dropDownShadow":""]},[a("input",{staticClass:"dropDown-true-input",class:{ellipsis:e.readonly},attrs:{type:"text",spellcheck:"false",readonly:e.readonly,unselectable:e.readonly?"on":"off",placeholder:e.placeholder?e.placeholder:""},domProps:{value:e.trueValue},on:{change:function(a){return t.transformData(e.settingName,a.target.value,e)}}})])])]:"seekBar"===e.showType?[a("div",{staticClass:"seekBar-box",class:e.detailClass},[a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e.titleMin?e.titleMin:"",expression:"line.titleMin ? line.titleMin : ''",modifiers:{bottom:!0}}],staticClass:"seekBar-icon"},[a("span",{staticClass:"iconfont",class:e.iconClassMin})]),a("div",{staticClass:"seekBar-bar pointer",attrs:{editRole:"seekBar"},on:{mousedown:function(a){return t.seekBarStart(a,e)},mousemove:function(a){return t.seekBarMove(a,e)},mouseup:function(a){return t.seekBarEnd(a,e)},mouseleave:function(a){return t.seekBarEnd(a,e)},selectstart:function(t){t.preventDefault()}}},[a("div",{staticClass:"seekBar-line"}),a("div",{staticClass:"seekBar-button",style:{left:e.trueValue}})]),a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e.titleMax?e.titleMax:"",expression:"line.titleMax ? line.titleMax : ''",modifiers:{bottom:!0}}],staticClass:"seekBar-icon"},[a("span",{staticClass:"iconfont",class:e.iconClassMax})])])]:"button"===e.showType?[a("div",{staticClass:"buttonArea",class:e.detailClass},[e.buttonIcon?a("div",{staticClass:"buttonIcon pointer",on:{click:function(a){return t.clickButton(e.callback,e.callValue,e.settingName)}}},[a("span",{staticClass:"iconfont",class:e.buttonIcon})]):t._e(),e.buttonText?a("div",{staticClass:"buttonText pointer",on:{click:function(a){return t.clickButton(e.callback,e.callValue,e.settingName)}}},[t._v(" "+t._s(e.buttonText)+" ")]):t._e()])]:t._e(),"component"===e.showType?[a(e.component,t._g(t._b({tag:"component"},"component",e.bindObj,!1),{selectImageData:t.selectBackgroundImage}))]:t._e()],2)])})),0)])]}))],2)])}),[],!1,null,"567359ba",null);e.a=s.exports},"26a2":function(t,e,a){},2858:function(t,e,a){"use strict";(function(t){a("99af"),a("4de4"),a("7db0"),a("0481"),a("4160"),a("caad"),a("c975"),a("a15b"),a("fb6a"),a("a434"),a("4069"),a("b0c0"),a("ac1f"),a("2532"),a("5319"),a("1276"),a("159b");var i=a("ade3"),o=(a("96cf"),a("1da1")),s=a("b85c"),n=a("53ca"),r=a("2909"),l=a("5530"),c=a("a026"),d=a("2f62"),u=a("eee9"),h=a("dc74"),p=a("c47b"),g=a("7e2a"),m=a("d221"),f=a("9a21"),w=a("cb26");e.a={name:"moreParam",props:["getData","reportSetting","blockType"],components:{backgroundAndBorder:u.a,excel:g.a,filterRule:h.a,editColumn:p.a},mixins:[f.a,m.a,w.a],data:function(){var t={fontSize:{items:[{val:"12px",real:"12"},{val:"13px",real:"13"},{val:"16px",real:"16"},{val:"18px",real:"18"},{val:"24px",real:"24"},{val:"32px",real:"32"},{val:"48px",real:"48"}],showKey:"val",idKey:"real",max:48,min:12},fontFamily:{items:[{val:this.$t("design.simSun"),real:"SimSun"},{val:this.$t("design.simHei"),real:"SimHei"},{val:this.$t("design.yaHei"),real:"Microsoft YaHei"},{val:this.$t("design.youYuan"),real:"YouYuan"},{val:this.$t("design.fangSong"),real:"STFangsong"}],showKey:"val",idKey:"real"},itemSize:{items:[{val:"10px",real:"10"},{val:"20px",real:"20"},{val:"30px",real:"30"},{val:"40px",real:"40"},{val:"50px",real:"50"}],showKey:"val",idKey:"real",min:10,max:50},grid:{items:[{val:"10px",real:"10"},{val:"20px",real:"20"},{val:"30px",real:"30"},{val:"60px",real:"60"},{val:"120px",real:"120"},{val:"180px",real:"180"},{val:"240px",real:"240"},{val:"300px",real:"300"}],showKey:"val",idKey:"real",min:10,max:300},lineWidth:{items:[{val:"0px",real:"0"},{val:"1px",real:"1"},{val:"2px",real:"2"},{val:"3px",real:"3"},{val:"4px",real:"4"},{val:"5px",real:"5"}],showKey:"val",idKey:"real",max:5,min:0},lineStyle:{items:[{val:"solid"},{val:"dotted"},{val:"dashed"}],showKey:"val",idKey:"val"},borderRadius:{items:[{val:"0px",real:"0"},{val:"10px",real:"10"},{val:"20px",real:"20"},{val:"30px",real:"30"},{val:"40px",real:"40"},{val:"50px",real:"50"}],showKey:"val",idKey:"real",max:50,min:0},opacity:{items:[{val:"0%",real:"0"},{val:"10%",real:"10"},{val:"20%",real:"20"},{val:"30%",real:"30"},{val:"40%",real:"40"},{val:"50%",real:"50"},{val:"60%",real:"60"},{val:"70%",real:"70"},{val:"80%",real:"80"},{val:"90%",real:"90"},{val:"100%",real:"100"}],showKey:"val",idKey:"real",max:100,min:0},borderWidth:{items:[{val:"0px",real:"0"},{val:"1px",real:"1"},{val:"2px",real:"2"},{val:"3px",real:"3"},{val:"4px",real:"4"},{val:"5px",real:"5"}],showKey:"val",idKey:"real",max:5,min:0},borderStyle:{items:[{val:"solid"},{val:"dotted"},{val:"dashed"},{val:"double"}],showKey:"val",idKey:"val"},formatUnit:{items:[],showKey:"val",idKey:"real"},formatMnt:{items:[{text:"亿",value:"100000000"},{text:"千万",value:"10000000"},{text:"百万",value:"1000000"},{text:"十万",value:"100000"},{text:"万",value:"10000"},{text:"千",value:"1000"},{text:"百",value:"100"},{text:"十",value:"10"},{text:"一",value:"1"},{text:"百分之一",value:"0.01"},{text:"千分之一",value:"0.001"}],showKey:"text",idKey:"value"},formatFmt:{items:[{text:"0",value:"#"},{text:"1",value:"#.0"},{text:"2",value:"#.00"},{text:"3",value:"#.000"},{text:"4",value:"#.0000"},{text:"5",value:"#.00000"},{text:"6",value:"#.000000"},{text:"7",value:"#.0000000"},{text:"8",value:"#.00000000"}],showKey:"text",idKey:"value"},dataAmount:{items:[{val:"0",real:"0"},{val:"10",real:"10"},{val:"20",real:"20"},{val:"30",real:"30"},{val:"40",real:"40"},{val:"50",real:"50"},{val:"60",real:"60"},{val:"70",real:"70"},{val:"80",real:"80"},{val:"90",real:"90"},{val:"100",real:"100"}],showKey:"val",idKey:"real",min:0,max:100}},e={kjOpt:{id:"id",name:"clname",pid:"parentid",type:"type"},dmOpt:{id:"model_id",name:"model_name",pid:"parentid"},columnOpt:{id:"pkid",name:"des_column",type:"analy_type"}};return{filterselements:"",dataSourceKeys:{fields:{modelIdKey:"dmId"}},cacheDataSourceKeys:{fields:{modelListKey:"dmList"}},dataSourceCustomKeys:{fields:{modelIdKey:"kjId"}},customDataSourceKeys:{fields:{modelListKey:"kjList"}},title:{more:this.$t("design.moreTitle")},tabList:[{type:"data",name:this.$t("design.lineData")},{type:"style",name:this.$t("design.lineStyle")}],settingContents:[{type:"data",children:[{name:this.$t("design.control"),id:"dataControlSource",class:"noBg",icon:"icon-type",refreshIcon:"icon-refresh",isShowExcel:!1,isShowRefresh:!0,children:[{showType:"dropDown-icon-input",readonly:!0,settingName:"dataSourceControl.kjId",trueValue:"",class:"width-10",detailClass:"fullBorderDropDown",transformByArr:!0,showValueTitle:!0,placeholder:this.$t("design.controlChoose"),relative:[{settingName:"dataSourceControl.newControl",val:""},{settingName:"dataSourceControl.editControl",val:""}],selectedCall:"",dropDownData:{isShow:!1,type:"tree",defaultItem:"",dropDownUrl:"dataControlUrl",noData:this.$t("design.lineNoControl"),noUrlData:this.$t("design.lineSelectMenuFirst"),dropItemsName:"kjList",dataSource:[],showKey:e.kjOpt.name,idKey:e.kjOpt.id,pidKey:e.kjOpt.pid,showType:e.kjOpt.type,folder:["private_folder","share_folder"],chooseFolder:!1,dropDownStyle:{height:"200px"}}},{showType:"button",name:this.$t("design.newControl")+" :",nameLength:"7",class:"width-10",detailClass:"toFormat",callback:"toNewControlPage",callValue:"dataFormat",buttonIcon:"icon-new-model"},{showType:"button",name:this.$t("design.editControl")+" :",nameLength:"7",class:"width-10",detailClass:"toFormat",callback:"toEditControlPage",callValue:"dataFormat",buttonIcon:"icon-name-edit"}]},{name:this.$t("design.lineDataSource"),id:"dataSource",class:"noBg",icon:"icon-datamodel",isShowExcel:!0,isShowRefresh:!1,children:[{showType:"dropDown-icon-input",readonly:!0,settingName:"dataSource.dmId",trueValue:"",class:"width-10",detailClass:"fullBorderDropDown",transformByArr:!0,showValueTitle:!0,placeholder:this.$t("design.lineSelectModel"),relative:[{settingName:"dataSource.dimension",val:[]},{settingName:"dataSource.measure",val:[]},{settingName:"dataSource.dataFormatNum",val:0},{settingName:"dataSource.dataFormat",val:""}],selectedCall:"dmSelectedCall",dropDownData:{isShow:!1,type:"tree",defaultItem:"",dropDownUrl:"dataModelUrl",noData:this.$t("design.lineNoModel"),noUrlData:this.$t("design.lineSelectMenuFirst"),dropItemsName:"dmList",dataSource:[],showKey:e.dmOpt.name,idKey:e.dmOpt.id,pidKey:e.dmOpt.pid,showType:"model_type",folder:"directory",chooseFolder:!1,dropDownStyle:{height:"200px"}}},{showType:"dropDown-icon-input",name:this.$t("design.lineDimension"),nameLength:"5",readonly:!0,settingName:"dataSource.dimension",trueValue:"",class:"width-10",detailClass:"fullBorderDropDown",transformByArr:!0,showValueTitle:!0,placeholder:this.$t("design.lineSelectDimension"),selectedCall:"columnSelectedCall",dropDownData:{isShow:!1,isMultiple:!0,limited:!0,noData:this.$t("design.lineNoDimension"),transformByArr:!0,showValueTitle:!0,defaultItem:"",dropDownUrl:"columnUrl",urlData:{model_id:"dataSource.dmId"},noUrlData:this.$t("design.lineSelectModelFirst"),dropItemsName:"dimensionList",dataSource:[],showKey:e.columnOpt.name,idKey:e.columnOpt.id,dropDownStyle:{}}},{showType:"dropDown-icon-input",name:this.$t("design.lineMeasure"),edit:!0,nameLength:"5",readonly:!0,settingName:"dataSource.measure",trueValue:"",class:"width-10",detailClass:"fullBorderDropDown",transformByArr:!0,showValueTitle:!0,placeholder:this.$t("design.lineSelectMeasure"),selectedCall:"columnSelectedCall",dropDownData:{isShow:!1,isMultiple:!0,limited:!0,noData:this.$t("design.lineNoMeasure"),defaultItem:"",dropDownUrl:"columnUrl",urlData:{model_id:"dataSource.dmId"},noUrlData:this.$t("design.lineSelectModelFirst"),dropItemsName:"measureList",dataSource:[],showKey:e.columnOpt.name,idKey:e.columnOpt.id,dropDownStyle:{}}},{showType:"button",name:this.$t("design.lineDataFormat")+" :",nameLength:"7",class:"width-10",detailClass:"toFormat",callback:"toggleContent",callValue:"dataFormat",buttonIcon:"icon-dataformat"},{showType:"options-checkbox",settingName:"dataSource.isDataUpdate",text:this.$t("design.isDataUpdate"),class:"width-10"},{showType:"input-text",showflag:{settingName:"dataSource.isDataUpdate",value:!0},title:this.$t("design.dataUpdateTime"),settingName:"dataSource.dataUpdateTime",class:"width-10",unit:"ms",validate:{type:"number",min:0}}]}]},{type:"style",children:[]},{type:"dataFormat",children:[{class:"noBg noBorderLeft",children:[{showType:"button",class:"width-10",detailClass:"dataFormatReturn",callback:"toggleContent",callValue:"",buttonIcon:"icon-left-arrow",buttonText:this.$t("design.lineReturn")},{showType:"button",class:"width-10",detailClass:"dataFormatAdd",callback:"addFormat",buttonIcon:"icon-add-format",buttonText:this.$t("design.lineAdd")}]}]}],dataFormatSetting:{class:" noBorderLeft",children:[{showType:"button",class:"width-10 textRight",detailClass:"dataFormatDelete",callback:"deleteFormat",settingName:"",trueValue:"",buttonIcon:"icon-close"},{showType:"dropDown-icon-input",name:this.$t("design.lineSelectedColumn")+" :",nameLength:"5",readonly:!0,settingName:"column",trueValue:"",class:"width-10",detailClass:"fullBorderDropDown",transformByArr:!0,showValueTitle:!1,changeFlag:"formatChangeFlag",dropDownData:{isShow:!1,isMultiple:!0,defaultItem:"",noData:this.$t("design.lineNoColumn"),dropItemsName:"selectedColumnList",dataSourceFilter:"dataFormatFilter",dataSource:[],showKey:"column_clname",idKey:"column_id",dropDownStyle:{}}},{showType:"options-radio",name:this.$t("design.lineSort")+" :",nameLength:"3",settingName:"setting.sort",trueValue:"",class:"width-10",detailClass:"left",changeFlag:"formatChangeFlag",groups:[{text:this.$t("design.lineSortDefault"),value:""},{text:this.$t("design.lineSortAsc"),value:"asc"},{text:this.$t("design.lineSortDesc"),value:"desc"}]},{showType:"dropDown-icon-input",name:this.$t("design.lineUnit")+" :",nameLength:"3",readonly:!0,settingName:"setting.format.unit",trueValue:"",class:"width-10",detailClass:"fullBorderDropDown",changeFlag:"formatChangeFlag",showValueTitle:!1,transformByArr:!0,dropDownData:{isShow:!1,noData:this.$t("design.lineSelectColumnFirst"),noUrlData:this.$t("design.lineSelectMenuFirst"),defaultItem:"",dataSource:t.formatUnit.items,showKey:t.formatUnit.showKey,idKey:t.formatUnit.idKey,dropDownStyle:{}}},{showType:"dropDown-icon-input",name:this.$t("design.lineMnt")+" :",nameLength:"5",readonly:!0,settingName:"setting.format.mnt",trueValue:"",class:"width-10",detailClass:"fullBorderDropDown",changeFlag:"formatChangeFlag",showValueTitle:!1,transformByArr:!0,dropDownData:{isShow:!1,noData:this.$t("design.lineSelectColumnFirst"),noUrlData:this.$t("design.lineSelectMenuFirst"),defaultItem:"",dataSource:t.formatMnt.items,showKey:t.formatMnt.showKey,idKey:t.formatMnt.idKey,dropDownStyle:{}}},{showType:"dropDown-icon-input",name:this.$t("design.lineFmt")+" :",nameLength:"7",readonly:!0,settingName:"setting.format.fmt",trueValue:"",class:"width-10",detailClass:"fullBorderDropDown",changeFlag:"formatChangeFlag",showValueTitle:!1,transformByArr:!0,dropDownData:{isShow:!1,noData:this.$t("design.lineSelectColumnFirst"),noUrlData:this.$t("design.lineSelectMenuFirst"),defaultItem:"",dataSource:t.formatFmt.items,showKey:t.formatFmt.showKey,idKey:t.formatFmt.idKey,dropDownStyle:{}}}]},publicSetting:{name:this.$t("design.reportBgAndBorder"),id:"bgAndBorder",icon:"icon-bgAndBorder",children:[{showType:"colorPicker-icon",title:this.$t("design.reportBackground"),settingName:"style.backgroundColor",trueValue:"",class:"width-2",iconClass:"icon-bgcolor",isTransparent:!0},{showType:"dropDown-icon-input",title:this.$t("design.reportBorderRadius"),readonly:!0,unit:"px",settingName:"style.borderRadius",trueValue:"",class:"width-4",iconClass:"icon-rounded-corner",transformByArr:!1,showValueTitle:!1,validate:{type:"number",min:t.borderRadius.min,max:t.borderRadius.max,unit:"px"},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.borderRadius.items,showKey:t.borderRadius.showKey,idKey:t.borderRadius.idKey,dropDownStyle:{}}},{showType:"dropDown-icon-input",title:this.$t("design.reportOpacity"),readonly:!0,unit:"%",settingName:"style.opacity",trueValue:"",class:"width-4",iconClass:"icon-opacity",transformByArr:!1,showValueTitle:!1,validate:{type:"number",min:t.opacity.min,max:t.opacity.max,scale:.01},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.opacity.items,showKey:t.opacity.showKey,idKey:t.opacity.idKey,dropDownStyle:{}}},{showType:"colorPicker-icon",title:this.$t("design.reportBorderColor"),settingName:"style.borderColor",trueValue:"",class:"width-2",iconClass:"icon-dropcolor",isTransparent:!0},{showType:"dropDown-icon-input",title:this.$t("design.reportBorderWidth"),readonly:!0,unit:"px",settingName:"style.borderWidth",trueValue:"",class:"width-4",iconClass:"icon-linewidth",transformByArr:!1,showValueTitle:!1,validate:{type:"number",min:t.borderWidth.min,max:t.borderWidth.max,unit:"px"},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.borderWidth.items,showKey:t.borderWidth.showKey,idKey:t.borderWidth.idKey,dropDownStyle:{}}},{showType:"dropDown-icon-input",title:this.$t("design.reportBorderStyle"),readonly:!0,settingName:"style.borderStyle",trueValue:"",class:"width-4",iconClass:"icon-borderstyle",transformByArr:!1,showValueTitle:!1,dropDownData:{isShow:!1,defaultItem:"",dataSource:t.borderStyle.items,showKey:t.borderStyle.showKey,idKey:t.borderStyle.idKey,dropDownStyle:{"min-width":"80px"}}}]},pickerUser:"",seekBarFlag:!1,currentDropDown:{options:{},validate:{},user:"",relative:""},nowTab:"data",nowContent:"",dataSource:{kjList:[],dmList:[],dimensionList:[],measureList:[],columnList:[],selectedColumnList:[]},errorText:"",urls:{dataControlUrl:"/customcontrol/list",dataModelUrl:"/model_list",columnUrl:"/report/model/column",getFolderId:"/report/model/folder",customcontrolUrl:"/customcontrol/control/info",unitUrl:"/report/data/unit"},urlOpt:e,loadingSetting:{show:!1},hideSettingList:[],lengthLimitTimer:!0,cpLock:!1,myControlVal:"",shareControlVal:"",unitList:[]}},computed:Object(l.a)({sourceFieldList:function(){var t=this,e=this._.get(this.getData.cacheDataSource,this.nowIndex+".columnList")||[],a={},i=[];if(this.getData.dataSource){var o=this.getData.dataSource,s=o.dimension,n=o.measure;if(!s&&!n)return i;var l=s.split?s.split(","):Object(r.a)(s),c=n.split?n.split(","):Object(r.a)(n);a=this._.zipObject(this._.concat(l,c),this._.concat(l,c))}return this._.isEmpty(a)||(i=e.filter((function(e){return a[e[t.urlOpt.columnOpt.id]]}))),i},showRotate:function(){var t=!0,e=this.getData&&this.getData.defaultSetting&&this.getData.defaultSetting.series,a={left:0,right:0};for(var i in e)e[i]&&a[e[i].position]++;return a.left>0&&a.right>0&&a.left+a.right>2&&(t=!1),t},showPosition:function(){var t=!1,e=this.getData;return e&&e.dataSource&&e.dataSource.dimension&&e.dataSource.dimension.length<2&&(t=!0),t},currentData:function(){var e={setting:{title:{textStyle:{fontSize:parseInt(this.reportSetting.fontSize),fontFamily:this.reportSetting.fontFamily}},legend:{textStyle:{fontSize:parseInt(this.reportSetting.fontSize),fontFamily:this.reportSetting.fontFamily}}},style:this.reportSetting},a=t.extend(!0,{},this.getData);"object"!==Object(n.a)(a.style)&&delete a.style,a.setting=t.extend(!0,{},a.defaultSetting,a.setting?a.setting:{});var i=t.extend(!0,{},e,a);if(i.dataSource&&i.dataSource.dataFormatNum)for(var o=1;o<=i.dataSource.dataFormatNum;o++){i.dataSource.dataFormat["dataFormat"+o].dataFormatFilter=[];for(var s=1;s<=i.dataSource.dataFormatNum;s++){var l;if(o!==s)(l=i.dataSource.dataFormat["dataFormat"+o].dataFormatFilter).push.apply(l,Object(r.a)(i.dataSource.dataFormat["dataFormat"+s].column))}}return i},transformSetting:function(){var e,a=this.transformDataFormat(),i=t.extend(!0,[],this.settingContents),o=Object(s.a)(i);try{for(o.s();!(e=o.n()).done;){var n=e.value;switch(n.type){case"style":n.children=Object(r.a)(n.children);break;case"dataFormat":n.children=[].concat(Object(r.a)(n.children),Object(r.a)(a))}}}catch(t){o.e(t)}finally{o.f()}var l,c=Object(s.a)(i);try{for(c.s();!(l=c.n()).done;){var d,u=l.value,h=Object(s.a)(u.children);try{for(h.s();!(d=h.n()).done;){var p,g=d.value,m=Object(s.a)(g.children);try{for(m.s();!(p=m.n()).done;){var f=p.value;switch(f.showType){case"input":case"input-text":f.trueValue=this.getValue(f.settingName,f.validate)+(f.unit?f.unit:"");break;case"options-icon":case"options-radio":case"options-checkbox":case"colorPicker-icon":case"seekBar":f.trueValue=this.getValue(f.settingName);break;case"dropDown-icon-input":f.trueValue=this.getValue(f.settingName,f.validate,f.transformByArr?f.dropDownData:void 0)+(f.unit?f.unit:"")}}}catch(t){m.e(t)}finally{m.f()}}}catch(t){h.e(t)}finally{h.f()}}}catch(t){c.e(t)}finally{c.f()}return i}},Object(d.d)({colorPickerOpt:function(t){return t.colorPickerOpt},colorPickerSelected:function(t){return t.colorPickerSelected},drawSelected:function(t){return t.draw.selected},currentPage:function(t){return t.draw.currentPage},blockContent:function(t){return t.draw.blockContent},dataUpdate:function(t){return t.draw.dataUpdate}})),watch:{colorPickerSelected:function(){this.pickerUser&&this.getColor(this.colorPickerSelected)},colorPickerOpt:function(){!this.colorPickerOpt.flat&&this.pickerUser&&(this.pickerUser="")},drawSelected:function(){this.initParam(!1)},blockType:function(){var t=this,e=this.getLimitedNum("dataSource.dimension"),a=this.getLimitedNum("dataSource.measure"),i=this.getData&&this.getData.dataSource;if(i&&i.dimension&&i.measure){if(i.dimension.length>e||i.measure.length>a){var o=this._.cloneDeep(i.dimension),s=this._.cloneDeep(i.measure);o.splice(e),s.splice(a),this.transformData("dataSource.dimension",o,{}),this.transformData("dataSource.measure",s,{}),this.$nextTick((function(){t.initParam()}))}}else this.initParam()}},methods:Object(l.a)(Object(l.a)({},Object(d.b)({showColorPickerPublic:"showColorPicker",hideColorPickerPublic:"hideColorPicker",drawChangeSelectedData:"drawChangeSelectedData",drawChangeBlockLoadingState:"drawChangeBlockLoadingState"})),{},{getDropDownValue:function(t){return this._.get(this.currentData,t.settingName)},dropdownChanged:function(t){if(this.getDropDownSelected(t),"dataSourceControl.kjId"===this.currentDropDown.user){var e={};e.id=t.id,0===this.nowControlIndex?e.controlType="private_control":1===this.nowControlIndex&&(e.controlType="share_control"),this.getCustomControl(e)}else"dataSource.dmId"===this.currentDropDown.user&&this.getColumn({modelId:t.pkid})},getFlatData:function(t){var e=[];return function t(a){a.forEach((function(a){e.push(a),a.children&&t(a.children)}))}(this.settingContents),e.find((function(e){return e.dropDownData&&e.settingName===t})).dropDownData},getCustomControl:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function a(){var i,o,s,n,r;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=e,a.prev=1,a.next=4,i.$http({url:i.urls.customcontrolUrl,method:"get",params:t});case 4:o=a.sent,s=o.data.data.data,""!==(n=o.data.data.param||"{}")&&i.drawChangeSelectedData({dataSourceControl:{customOption:s,customParam:n},changeData:!0}),a.next=15;break;case 10:a.prev=10,a.t0=a.catch(1),r=i.$t("design.lineGetDataFail"),a.t0&&a.t0.response&&a.t0.response.data&&(r=a.t0.response.data.message),i.errorText=r;case 15:case"end":return a.stop()}}),a,null,[[1,10]])})))()},getColumn:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function a(){var o,s,n;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o=e,a.prev=1,a.next=4,o.$http({url:o.urls.columnUrl,method:"get",params:t});case 4:s=a.sent,o.drawChangeSelectedData({cacheDataSource:Object(i.a)({},o.nowIndex,{columnList:""})}),o.drawChangeSelectedData({cacheDataSource:Object(i.a)({},o.nowIndex,{columnList:s.data.data.data})}),o.drawChangeSelectedData({dataSource:{filters:""}}),a.next=15;break;case 10:a.prev=10,a.t0=a.catch(1),n=o.$t("design.lineGetDataFail"),a.t0&&a.t0.response&&a.t0.response.data&&(n=a.t0.response.data.message),o.errorText=n;case 15:case"end":return a.stop()}}),a,null,[[1,10]])})))()},updateFilterRules:function(t,e){this.drawChangeSelectedData({dataSource:{filterRules:""}}),this.drawChangeSelectedData({dataSource:{filterRules:t},changeData:!0,updatedFilters:e})},getModelFromExcel:function(t){var e=this;this.$http({url:e.urls.dataModelUrl,params:{rootId:e.nowIndex},method:"get"}).then((function(a){if(e.loadingSetting.show=!1,"object"===Object(n.a)(a.data.data)){e.dataSource.dmList=a.data.data,e.dataSource.dmId=t;var o={dmId:t,dimension:"",measure:"",dataType:"excel",polys:[]};e.transformData("cacheDataSource",Object(i.a)({},e.nowIndex,{dmList:""}),{changeFlag:!1}),e.transformData("cacheDataSource",Object(i.a)({},e.nowIndex,{dmList:a.data.data}),{changeFlag:!1}),e.transformData("dataSource",o,{changeFlag:!0}),e.dmSelectedCall(),e.$nextTick((function(){e.initParam()}))}else e.errorText=a.data})).catch((function(t){e.loadingSetting.show=!1;var a=e.$t("design.lineGetDataFail");t&&t.response&&t.response.data&&(a=t.response.data.message),e.errorText=a}))},emptyError:function(){this.errorText=""},changeData:function(t){this.drawChangeSelectedData(t)},switchDetailShow:function(t){if(t){var e=this.hideSettingList.indexOf(t);e>=0?this.hideSettingList.splice(e,1):this.hideSettingList.push(t)}},refreshClick:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e,t&&t.stopPropagation?t.stopPropagation():window.event.cancelBubble=!0,i={},!e.currentData.dataSourceControl||!e.currentData.dataSourceControl.kjId){a.next=11;break}return i.id=e.currentData.dataSourceControl.kjId,0===e.nowControlIndex?i.controlType="private_control":1===e.nowControlIndex&&(i.controlType="share_control"),a.next=8,e.getCustomControl(i);case 8:e.initParam(!0,!0),a.next=12;break;case 11:e.initParam(!0,!0);case 12:case"end":return a.stop()}}),a)})))()},validateData:function(t,e,a){var i=e;return"number"===a.type?(i=parseFloat(i),isNaN(i)?i=this.getValue(t):("number"==typeof a.min&&(i=i<a.min?a.min:i),"number"==typeof a.max&&(i=i>a.max?a.max:i),"number"==typeof a.scale&&(i*=a.scale),"string"==typeof a.unit&&(i+=a.unit))):"text"===a.type&&a.textLength&&(i=i.slice(0,a.textLength)),i},transformValue:function(t,e){var a=t;return"string"==typeof e.unit&&(a=a.replace(e.unit,"")),"number"==typeof e.scale&&(a=parseFloat(a)/e.scale),a},transformDataFormat:function(){this.dataFormatSetting.children[3].dropDownData.dataSource=this.unitList;for(var e=[],a=this.currentData.dataSource&&this.currentData.dataSource.dataFormatNum?this.currentData.dataSource.dataFormatNum:0,i=1;i<=a;i++){var o,n=t.extend(!0,{},this.dataFormatSetting),r=Object(s.a)(n.children);try{for(r.s();!(o=r.n()).done;){var l=o.value;"column"===l.settingName&&(l.dropDownData.dataSourceFilter="dataSource.dataFormat.dataFormat"+i+"."+l.dropDownData.dataSourceFilter),void 0!==l.settingName&&(l.settingName="dataSource.dataFormat.dataFormat"+i+"."+l.settingName)}}catch(t){r.e(t)}finally{r.f()}e.push(n)}return e},lengthLimit:function(t){if(!this.cpLock&&t.target.value.length>30&&(t.target.value=t.target.value.substr(0,30),this.lengthLimitTimer)){var e=this;this.lengthLimitTimer=!1,setTimeout((function(){e.lengthLimitTimer=!0}),2e3),c.default.notify({group:"foo-dataexporler",title:this.$t("public.errorInfo"),text:this.$t("design.titleLength"),type:"error"})}},lengthComposition:function(t,e){switch(t){case"start":this.cpLock=!0;break;case"end":this.cpLock=!1,this.lengthLimit(e)}},transformData:function(e,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=a,n=i.validate,l=i.relative,c=i.changeFlag;if(n&&(a=this.validateData(e,a,n)),a!==this.getValue(e)||o!==a){var d=[{settingName:e,val:a}];l&&(d=[].concat(Object(r.a)(d),Object(r.a)(l)));var u,h={},p=Object(s.a)(d);try{for(p.s();!(u=p.n()).done;){var g=u.value,m=g.settingName.split("."),f={};if(t.isArray(g.val)){for(var w={},v=m.length-1;v>=0;v--){var y=m[v],A={};v===m.length-1?w[y]="":(A[y]=w,w=A)}this.changeData(w)}this._.set(f,g.settingName,g.val),h=t.extend(!0,h,f)}}catch(t){p.e(t)}finally{p.f()}var D=!0;"string"==typeof c?D=this[c](e):"boolean"==typeof c&&(D=c),D&&("setting"===e.split(".")[0]?("setting.title.text"===e&&this._.set(h,"setting.title.realText",a),h.changeStyle=!0):"dataSource"!==e.split(".")[0]&&"customDataSource"!==e.split(".")[0]||(h.changeData=!0)),this.changeData(h)}},getValue:function(e,a,i){var o=e.split("."),n=this.currentData;if(o){n=this._.get(n,e,"");for(var r=(n=t.isArray(n)?t.extend(!0,[],n):[n]).length-1;r>=0;r--)if(a&&""!==n[r]&&(n[r]=this.transformValue(n[r],a)),i){var l=i.dropItemsName?this.dataSource[i.dropItemsName]:i.dataSource,c=!0;if(!l)return;var d,u=Object(s.a)(l);try{for(u.s();!(d=u.n()).done;){var h=d.value;if(h[i.idKey]===n[r]){n[r]=h[i.showKey],c=!1;break}}}catch(t){u.e(t)}finally{u.f()}c&&n.splice(r,1)}return 1===n.length?n[0]:n.join(", ")}},dropDownDataFilter:function(t,e,a){for(var i=[],o=0;o<t.length;o++)a.includes(t[o][e])||i.push(t[o]);return i},getLimitedNum:function(t){var e=0;switch(t){case"dataSource.dimension":switch(this.blockType){case"line":case"more":e=void 0}break;case"dataSource.measure":switch(this.blockType){case"line":case"more":e=10}}return e},showDropDown:function(e,a){this.emptyError();var o=this,s=this.getFlatData(e);if(-1!==a.settingName.indexOf("setting.format.unit")&&(s.dataSource=this.unitList),"dataModelUrl"!==s.dropDownUrl||void 0!==this.currentData.dataSourceControl){if(s.dropItemsName&&this.dataSource[s.dropItemsName].length>0)if(s.dataSourceFilter){var r=this.getValue(s.dataSourceFilter);s.dataSource=this.dropDownDataFilter(this.dataSource[s.dropItemsName],s.idKey,r?r.split(", "):[])}else if("dmList"===s.dropItemsName){if(!this.currentData.dataSourceControl||!this.currentData.dataSourceControl.kjId)return void this.$notify({group:"foo-dataexporler",title:this.$t("public.warnInfo"),text:this.$t("design.lineSelectControlFirst"),type:"warn"});s.dataSource=this.dataSource[s.dropItemsName]}else s.dataSource=this.dataSource[s.dropItemsName];else if(s.dropDownUrl){var l={};if("dataModelUrl"===s.dropDownUrl&&this.currentData.dataSourceControl&&this.currentData.dataSourceControl.kjId){var c={};c.rootId=o.nowIndex,l[s.dropDownUrl]={url:this.urls.dataModelUrl,params:c,method:"get"}}else if("columnUrl"===s.dropDownUrl){var d=o.getValue("dataSource.dmId");if(!d)return void this.$notify({group:"foo-dataexporler",title:this.$t("public.warnInfo"),text:this.$t("design.lineSelectMenuFirst"),type:"warn"});l[s.dropDownUrl]={url:this.urls.columnUrl,method:"get",params:{modelId:d}}}else if("dataControlUrl"===s.dropDownUrl){var u="";0===this.nowControlIndex?u="private":1===this.nowControlIndex&&(u="share"),l[s.dropDownUrl]={url:this.urls.dataControlUrl,method:"get",params:{type:u}}}s.noDataDefault=s.noData,s.noData=this.$t("design.lineLoading");var h=l[s.dropDownUrl];this.$http(h).then((function(t){"object"===Object(n.a)(t.data.data)?("columnUrl"===a.dropDownData.dropDownUrl?t.data.data&&o.splitDimensionAndMeasure(t.data.data.data):(o.dataSource[a.dropDownData.dropItemsName]=t.data.data,"dataModelUrl"===s.dropDownUrl?(o.transformData("cacheDataSource",Object(i.a)({},o.nowIndex,{dmList:""}),{changeFlag:!1}),o.transformData("cacheDataSource",Object(i.a)({},o.nowIndex,{dmList:t.data.data}),{changeFlag:!1})):"dataControlUrl"===s.dropDownUrl&&(o.transformData("customDataSource",Object(i.a)({},o.nowControlIndex,{kjList:""}),{changeFlag:!1}),o.transformData("customDataSource",Object(i.a)({},o.nowControlIndex,{kjList:t.data.data}),{changeFlag:!1}))),s.dataSource=o.dataSource[a.dropDownData.dropItemsName]):o.errorText=t.data})).catch((function(t){var e=o.$t("design.lineGetDataFail");t&&t.response&&t.response.data&&(e=t.response.data.message),o.errorText=e,s.noData=s.noDataDefault}))}o.getValue(e,a.validate);s.multiLength=s.limited?this.getLimitedNum(e):void 0,this.currentDropDown=t.extend(!0,{},a),this.currentDropDown.dropDownData=s,this.currentDropDown.user=e}else this.$notify({group:"foo-dataexporler",title:this.$t("public.warnInfo"),text:this.$t("design.lineSelectControlFirst"),type:"warn"})},splitDimensionAndMeasure:function(t){var e,a=[],o=[],n=Object(s.a)(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;"dimension"===r[this.urlOpt.columnOpt.type]?a.push(r):"measure"===r[this.urlOpt.columnOpt.type]&&o.push(r)}}catch(t){n.e(t)}finally{n.f()}this.dataSource.dimensionList=a,this.dataSource.measureList=o,this.transformData("cacheDataSource",Object(i.a)({},this.nowIndex,{dimensionList:"",measureList:"",columnList:""}),{changeFlag:!1}),this.transformData("cacheDataSource",Object(i.a)({},this.nowIndex,{dimensionList:a,measureList:o,columnList:t}),{changeFlag:!1})},getDropDownSelected:function(e){this.emptyError();var a;if(t.isArray(e)){a=[];for(var i=0;i<e.length;i++)a.push(e[i][this.currentDropDown.dropDownData.idKey])}else a=e[this.currentDropDown.dropDownData.idKey];var o=this.currentDropDown.user;this.currentDropDown.selectedCall&&a!==this.getValue(o)&&this[this.currentDropDown.selectedCall](e),this.transformData(o,a,this.currentDropDown),e.model_analysis_type&&this.transformData("dataSource.dataType",e.model_analysis_type,this.currentDropDown)},showColorPicker:function(e,a,i){this.emptyError();var o={};this.pickerUser===a?this.hideColorPickerPublic():(this.pickerUser=a,o.color=this.getValue(a),o.isTransparent=i,o.flat=!0,o.el="colorPicker"===t(e.target).attr("editRole")?e.target:t(e.target).parents('[editRole="colorPicker"]')[0],this.showColorPickerPublic(o))},getColor:function(t){this.emptyError(),this.transformData(this.pickerUser,t.hex,{})},seekBarStart:function(t,e){this.emptyError(),this.seekBarFlag=!0,this.seekBarMove(t,e)},seekBarMove:function(e,a){if(this.seekBarFlag){var i="seekBar"===t(e.target).attr("editRole")?t(e.target):t(e.target).parents('[editRole="seekBar"]'),o=i.offset().left,s=i.width(),n=(e.pageX-o)/s;n=n<0?0:n>1?1:n;var r=a.min+n*(a.max-a.min)+a.unit;this.transformData(a.settingName,r,a)}},seekBarEnd:function(){this.seekBarFlag&&(this.seekBarFlag=!1)},toggleTabs:function(t){this.emptyError(),this.nowTab=t,this.nowContent=""},clickButton:function(t){this.emptyError();for(var e=arguments.length,a=new Array(e>1?e-1:0),i=1;i<e;i++)a[i-1]=arguments[i];this[t].apply(this,a)},toggleContent:function(t){this.emptyError(),"dataFormat"===t&&(this.currentData.dataSource&&this.currentData.dataSource.dataFormatNum||this.transformData("dataSource",{dataFormatNum:1,dataFormat:{dataFormat1:{column:[],setting:{sort:"",format:{unit:"",mnt:"",fmt:""}}}}},{changeFlag:!1})),this.nowContent=t},toNewControlPage:function(){var t=this.$communityPath+"/#/";window.open(this.$openWindowPath+t,"_blank")},toEditControlPage:function(){if(this.currentData.dataSourceControl&&this.currentData.dataSourceControl.kjId){var t="";0===this.nowControlIndex?t="private_control":1===this.nowControlIndex&&(t="share_control");var e=this.$communityPath+"/#/design/"+this.currentData.dataSourceControl.kjId+"?type="+t;window.open(this.$openWindowPath+e,"_blank")}else this.$notify({group:"foo-dataexporler",title:this.$t("public.warnInfo"),text:this.$t("design.lineSelectControlFirst"),type:"warn"})},addFormat:function(){this.emptyError();var t=this.currentData.dataSource.dataFormatNum+1;this.transformData("dataSource",{dataFormatNum:t,dataFormat:Object(i.a)({},"dataFormat"+t,{column:[],setting:{sort:"",format:{unit:"",mnt:"",fmt:""}}})},{changeFlag:!1})},deleteFormat:function(){this.emptyError();for(var e=arguments.length<=1?void 0:arguments[1],a=e.split(".")[2],i=parseInt(a.replace("dataFormat","")),o=t.extend(!0,{},this.currentData.dataSource.dataFormat[a]),s=this.currentData.dataSource.dataFormatNum,n={},r={},l=i;l<=s;l++)n["dataFormat"+l]=l===s?"":t.extend(!0,{},this.currentData.dataSource.dataFormat["dataFormat"+(l+1)]),r["dataFormat"+l]="";this.transformData("dataSource",{dataFormatNum:i-1,dataFormat:r},{changeFlag:!1});var c={changeFlag:!1};if(o.column.length>0)for(var d in o.setting.sort&&(c={changeFlag:!0}),o.setting.format)if(Object.prototype.hasOwnProperty.call(o.setting.format,d)&&o.setting.format[d]){c={changeFlag:!0};break}this.transformData("dataSource",{dataFormatNum:s-1,dataFormat:n},c)},formatChangeFlag:function(t){var e=!1,a=t.split(".")[2],i=t.split(".")[3],o=this.currentData;if("column"===i)for(var s in this.currentData.dataSource.dataFormat[a].setting.sort&&(e=!0),this.currentData.dataSource.dataFormat[a].setting.format)Object.prototype.hasOwnProperty.call(this.currentData.dataSource.dataFormat[a].setting.format,s)&&this.currentData.dataSource.dataFormat[a].setting.format[s]&&(e=!0);else{var n=this._.get(o,"dataSource.dataFormat."+a+".column");n&&n.length>0&&(e=!0)}return e},dmSelectedCall:function(){this.dataSource.dimensionList=[],this.dataSource.measureList=[],this.dataSource.selectedColumnList=[],this.dataSource.columnList=[]},columnSelectedCall:function(t){var e,a,o=[];if(t)for(var n=0;n<t.length;n++)o.push(t[n][this.currentDropDown.dropDownData.idKey]);var r={};"dataSource.dimension"===this.currentDropDown.user?(e=o,a=(a=this.getValue("dataSource.measure"))?a.split(", "):[]):"dataSource.measure"===this.currentDropDown.user?(a=o,e=(e=this.getValue("dataSource.dimension"))?e.split(", "):[]):(e=(e=this.getValue("dataSource.dimension"))?e.split(", "):[],a=(a=this.getValue("dataSource.measure"))?a.split(", "):[]);var l,c=[],d=[],u=this.dataSource.dimensionList||this.getData.cacheDataSource[this.nowIndex].dimensionList,h=this.dataSource.measureList||this.getData.cacheDataSource[this.nowIndex].measureList,p=Object(s.a)(u);try{for(p.s();!(l=p.n()).done;){var g=l.value,m=g[this.urlOpt.columnOpt.id],f=e.indexOf(m);f>-1&&(c[f]={column_id:g[this.urlOpt.columnOpt.id],column_clname:"(".concat(this.$t("design.lineDimension"),") ").concat(g[this.urlOpt.columnOpt.name])})}}catch(t){p.e(t)}finally{p.f()}var w,v=Object(s.a)(h);try{for(v.s();!(w=v.n()).done;){var y=w.value,A=y[this.urlOpt.columnOpt.id],D=a.indexOf(A);D>-1&&(d[D]={column_id:y[this.urlOpt.columnOpt.id],column_clname:"(".concat(this.$t("design.lineMeasure"),") ").concat(y[this.urlOpt.columnOpt.name])},r[y[this.urlOpt.columnOpt.id]]={name:y[this.urlOpt.columnOpt.name],poly:this._.get(this.getData.dataSource,["polys",y[this.urlOpt.columnOpt.id],"poly"],"")})}}catch(t){v.e(t)}finally{v.f()}this.dataSource.selectedColumnList=[].concat(c,d),this.transformData("cacheDataSource",Object(i.a)({},this.nowIndex,{selectedColumnList:""}),{changeFlag:!1}),this.transformData("cacheDataSource",Object(i.a)({},this.nowIndex,{selectedColumnList:this.dataSource.selectedColumnList}),{changeFlag:!1}),this.transformData("dataSource.polys","",{changeFlag:!1}),this.transformData("dataSource.polys",r,{changeFlag:!1})},updateSelectedColumn:function(){var t=this.getValue("dataSource.dimension");t=t?t.split(", "):[];var e=this.getValue("dataSource.measure");e=e?e.split(", "):[];var a,i=[],o=[],n=!1,r=!1,l=this.dataSource.dimensionList||this.getData.cacheDataSource[this.nowIndex].dimensionList,c=this.dataSource.measureList||this.getData.cacheDataSource[this.nowIndex].measureList,d=Object(s.a)(l);try{for(d.s();!(a=d.n()).done;){var u=a.value;i.push(u[this.urlOpt.columnOpt.id])}}catch(t){d.e(t)}finally{d.f()}var h,p=Object(s.a)(c);try{for(p.s();!(h=p.n()).done;){var g=h.value;o.push(g[this.urlOpt.columnOpt.id])}}catch(t){p.e(t)}finally{p.f()}for(var m=t.length-1;m>=0;m--)i.includes(t[m])||(t.splice(m,1),n=!0);for(var f=e.length-1;f>=0;f--)o.includes(e[f])||(e.splice(f,1),r=!0);n&&!r?this.transformData("dataSource.dimension",t,{changeFlag:!0}):!n&&r?this.transformData("dataSource.measure",e,{changeFlag:!0}):n&&r&&(this.transformData("dataSource.dimension",t,{changeFlag:!1}),this.transformData("dataSource.measure",e,{changeFlag:!0}))},initParam:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this,o=[];if(a.transformData("dataSource.dataUpdateTime",a._.get(a.getData,"dataSource.dataUpdateTime")||a.dataUpdate.time,{changeFlag:!1}),this.nowIndex=this.getData.dataSource&&this.getData.dataSource.rootId?this.getData.dataSource.rootId:0,this.nowControlIndex=this.getData.dataSourceControl&&this.getData.dataSourceControl.rootId?this.getData.dataSourceControl.rootId:0,!t){var r=this.getData.dataSource,l=this.getData.cacheDataSource,c=this.getData.customDataSource;if(l&&l[this.nowIndex]&&this._.toArray(l[this.nowIndex].dmList).length>0&&c[this.nowControlIndex]&&this._.toArray(c[this.nowControlIndex].kjList).length>0)return a.dataSource.dmId=r?r.dmId:"",a.dataSource.dmList=l[this.nowIndex].dmList||[],a.dataSource.dimensionList=l[this.nowIndex].dimensionList||[],a.dataSource.measureList=l[this.nowIndex].measureList||[],a.dataSource.columnList=l[this.nowIndex].columnList||[],a.dataSource.selectedColumnList=l[this.nowIndex].selectedColumnList||[],a.dataSource.kjId=r?r.kjId:"",void(a.dataSource.kjList=c[this.nowControlIndex].kjList||[])}var d="";1===a.nowControlIndex||1===a.nowIndex?d="share":0!==a.nowControlIndex&&0!==a.nowIndex||(d="private"),o.push(a.$http({url:a.urls.dataControlUrl,params:{type:d},method:"get"})),o.push(a.$http({url:a.urls.dataModelUrl,params:{rootId:a.nowIndex},method:"get"}));var u=a.getValue("dataSource.dmId");u&&o.push(a.$http({url:this.urls.columnUrl,method:"get",params:{modelId:u}})),a.toggleTabs("data"),a.hideSettingList=[],a.loadingSetting.show=!0,a.$http.all(o).then((function(t){var o,r=!0,l=Object(s.a)(t);try{for(l.s();!(o=l.n()).done;){var c=o.value;"object"!==Object(n.a)(c.data.data)&&(r=!1)}}catch(t){l.e(t)}finally{l.f()}t&&r?(t[0]&&(a.dataSource.kjList=t[0].data.data,a.transformData("customDataSource",Object(i.a)({},a.nowControlIndex,{kjList:t[0].data.data}),{changeFlag:e})),t[1]&&(a.dataSource.dmList=t[1].data.data,a.transformData("cacheDataSource",Object(i.a)({},a.nowIndex,{dmList:t[1].data.data}),{changeFlag:!1})),3===t.length?t[1].data.data&&t[2].data.data.flag?(a.loadingSetting.show=!1,a.splitDimensionAndMeasure(t[2].data.data.data),a.updateSelectedColumn(),a.columnSelectedCall()):(a.loadingSetting.show=!1,a.transformData("dataSource.dmId","",{relative:[{settingName:"dataSource.dimension",val:[]},{settingName:"dataSource.measure",val:[]}],changeFlag:!0}),a.dmSelectedCall()):a.loadingSetting.show=!1):(a.loadingSetting.show=!1,a.errorText=t[0].data)})).catch((function(t){a.loadingSetting.show=!1;var e=a.$t("design.lineGetDataFail");t&&t.response&&t.response.data&&(e=t.response.data.message),a.errorText=e}))},initUnit:function(){var t=this;t.$http({url:t.urls.unitUrl,method:"get"}).then((function(e){t.unitList=e.data.unit})).catch((function(t){}))}}),created:function(){this.initParam(!1)},mounted:function(){this.initUnit()}}}).call(this,a("1157"))},"28f4":function(t,e,a){},"2cd8":function(t,e,a){"use strict";var i=a("e42b");a.n(i).a},"2dc5":function(t,e,a){},"2f81":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA9oAAADUCAYAAABj9VuqAAAACXBIWXMAABcSAAAXEgFnn9JSAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABwNJREFUeNrs3UFrE0EYgOHUpmlReogWir0IVdFTT17863rRi0XoyavQoyJUK3jQJtE4awMtIUiTfOlOZp4HPiQBA5lsaN7ObroxHo87AAAAQIw7lgAAAACENgAAAAhtAAAAENoAAACA0AYAAIA2dGfcdzR1+2maJ5YKAACAwm2nOV3g/31J8/p/od34MHX744z7AAAAoCRHC7Tvfmdqw9qp4wAAABBIaAMAAIDQBgAAAKENAAAAxetW/NybXzJsOwRgbV2k+WMZVvrzYcsyAAA+JwrteTSR/dAxCGvrc5qflmFldtP0LQMA4HPi/Jw6DgAAAEIbAAAAhDYAAAAIbQAAAODmav4ytObi+FOHAMBM55MBAGBOdrQBAAAgUNcSQHF6afYsAwAAlTpLMygptA/S7Hhdi+L00fWz6X0IAEDln4dbZUcbyjPs+OUIAAB1fx4W2kCokdAGAID2+DI0AAAACBS9o91cdL5pWYsytAQAAADthfbAkgIAAFAzp44DAACA0AYAAAChDQAAAEIbAAAAENoAAAAgtAEAAEBoAwAAAEIbAAAAhDYAAAAIbQAAABDaAAAAgNAGAAAAoQ0AAABCGwAAABDaAAAAILQBAABAaAMAAIDQBgAAAIQ2AAAACG0AAAAQ2gAAAIDQBgAAAKENAAAAQhsAAACENgAAACC0AQAAQGgDAACA0AYAAACENgAAAAhtAAAAENoAAACA0AYAAAChDQAAAEIbAAAAhDYAAAAgtAEAAEBoAwAAgNAGAAAAhDYAAAAIbQAAABDaAAAAILQBAAAAoQ0AAABCGwAAAIQ2AAAAILQBAABAaAMAAIDQBgAAAKENAAAACG0AAAAQ2gAAACC0AQAAAKENAAAAQhsAAACENgAAAAhtAAAAQGgDAACA0AYAAAChDQAAAAhtAAAAENoAAAAgtAEAAAChDQAAAEIbAAAAhDYAAAAIbQAAAEBoAwAAgNAGAAAAoQ0AAAAIbQAAABDaAAAAILQBAABAaAMAAABCGwAAAIQ2AAAACG0AAABAaAMAAIDQBgAAAKENAAAAQhsAAAAQ2gAAACC0AQAAQGgDAAAAQhsAAACENgAAAAhtAAAAqM5hmoHQBgAAgOW9THM/zTuhDQAAADGR/SrNUGgDAADACiJbaAMAAEBgZAttAAAACIxsoQ0AAACBkS20AQAAIDCyhTYAAAAERrbQBgAAgMDIFtoAAAAQGNlCGwAAAAIjW2gDAABAYGQ3utYQAAAA/jlKc75MZDfsaAMAAMDlTvbuspEttAEAAODqdPH3y0a20AYAAEBkX12TPYp4QKENAACAyA7YyRbaAAAAiOzgyBbaAAAAiOxgQhsAAACRLbQBAAAgv8gW2gAAAIhsoQ0AAAB5RrbQBgAAQGQLbQAAAMgzsoU2AAAAIltoAwAAQJ6RLbQBAAAQ2UIbAAAA8oxsoQ0AAIDIFtoAAACQZ2QLbQAAAET2lZ7QBgAAQGTHRPZhmi2hDQAAgMiOiez9NMdCGwAAAJGdUWQLbQAAAER2YGQLbQAAAER2MKENAACAyBbaAAAAiOz8IltoAwAAILKFNgAAACI7z8gW2gAAAIhsoQ0AAIDIzjOyhTYAAAAiW2gDAAAgsvOMbKENAABAiZHdnzzWcRtPRGgDAABQWmQ/TnPS1pMR2gAAAIhsoQ0AAIDIzi+yhTYAAAAiW2gDAAAgsvOMbKENAACAyBbaAAAAiOw8I1toAwAAILKFNgAAACI7z8gW2gAAAIhsoQ0AAIDIFtoAAACI7OIjW2gDAAAgsoU2AAAAIltoAwAAILKLj2yhDQAAgMgW2gAAAIhsoQ0AAIDILj6yhTYAAAAiW2gDAABQYGS/KCGyhTYAAAC5RPabUhZHaAMAAJBDZA9LWSChDQAAgMgW2gAAAIhsoQ0AAIDILjqyhTYAAAAiW2gDAAAgsoU2AAAAIrv4yBbaAAAAiGyhDQAAgMjOVzf48Q7S7DguAQCo0PlkQGRXHNkNO9oAAACI7EDRO9pnaTYdnwAAVGhoCRDZInsVoT1wfAIAMEOvU/6GzNZkIFITqqM1iuzmPfC85sheRWiTv/5kAID2/UrzqZLnutfxXT6wiFVf+x8d2c1O9kmn8jM8XKMNAABQJ5EttAEAABDZQhsAAACRXRXXaNfnR+fyejAAoH2/K3quF15uWEj0F6GJbKHNit6oI8sAANyyr5YAWieyb4lTxwEAAES2yBbaAAAAiGyhDQAAgMgW2gAAAIhskS20AQAARLbIFtoAAACI7HU368979dLsX7v9IM2jNM8sFwAAQNZ6k3/fTmJ7WYcie34b4/F4+r7+tRencS/NXUsFAACwFr4HhvE3kR0T2gAAAMCCXKMNAAAAQhsAAACENgAAAAhtAAAA4Ob+CjAAZzVQBvxrKTAAAAAASUVORK5CYII="},"305b":function(t,e,a){},3175:function(t,e,a){"use strict";(function(t){a("99af"),a("7db0"),a("4160"),a("caad"),a("a15b"),a("ac1f"),a("2532"),a("1276"),a("2ca0"),a("159b"),a("cca6");var i=a("2909"),o=a("b85c"),s=a("5530"),n=a("0aad"),r=a("5fd9"),l=a("dd9a"),c=a("6172"),d=a("2883"),u=a("ec8a"),h=a("43e9"),p=a("1e94"),g=a("209c"),m=a("3418"),f=a("02c3"),w=a("14a6"),v=a("be1e"),y=a("b805"),A=a("bdfb"),D=a("7739"),S=a("cc61"),b=a("4061"),C=a("23aa"),x=a("4c64"),k=a("2f62"),T=["crossBar"];e.a={name:"draw",props:["model"],components:{lineComponent:n.a,pieComponent:l.a,radarComponent:c.a,tableComponent:v.a,treeComponent:y.a,textComponent:A.a,imageComponent:r.a,rectangleComponent:m.a,roundComponent:f.a,otherShapesComponent:w.a,dataobjComponent:D.a,moreComponent:S.a,dropdownComponent:b.a,reportWidgetComponent:C.a,paramWindow:x.a,crossBarComponent:d.a,funnelComponent:u.a,gaugeComponent:h.a,mapComponent:p.a,map3DComponent:g.a},data:function(){return{selectType:"select",parentWidth:0,parentHeight:0,drawEventData:{mouseState:"",pageWidth:0,pageHeight:0,offsetX:0,offsetY:0,marginX:0,marginY:0,startX:0,startY:0,currentX:0,currentY:0,endX:0,endY:0,moveDistanceX:0,moveDistanceY:0,scale:1},defaultData:{minLeft:30,minTop:10,defaultBlockWidth:200,defaultBlockHeight:150,minMoveDistance:10,contextmenuLineHeight:30,contextmenuWidth:180},maxSubMenuNum:4,contextMenu:{show:!1,subX:"left",subY:"top",style:{position:"absolute"},data:[{text:this.$t("design.drawCopy"),value:"copy"},{text:this.$t("design.drawPaste"),value:"paste"},{text:this.$t("design.drawGroup"),value:"group"},{text:this.$t("design.drawUnGroup"),value:"ungroup"},{text:this.$t("design.drawOrder"),value:"changeLevel",children:{style:{position:"absolute"},data:[{text:this.$t("design.drawMoveUp"),value:"moveUp"},{text:this.$t("design.drawMoveDown"),value:"moveDown"},{text:this.$t("design.drawMoveToTop"),value:"moveToTop"},{text:this.$t("design.drawMoveToBottom"),value:"moveToBottom"}]}},{text:this.$t("design.drawHorizontal"),value:"horizontal",children:{style:{position:"absolute"},data:[{text:this.$t("design.drawHorizontalLeft"),value:"horizontalLeft"},{text:this.$t("design.drawHorizontalCenter"),value:"horizontalCenter"},{text:this.$t("design.drawHorizontalRight"),value:"horizontalRight"}]}},{text:this.$t("design.drawVertical"),value:"vertical",children:{style:{position:"absolute"},data:[{text:this.$t("design.drawVerticalTop"),value:"verticalTop"},{text:this.$t("design.drawVerticalCenter"),value:"verticalCenter"},{text:this.$t("design.drawVerticalBottom"),value:"verticalBottom"}]}},{text:this.$t("design.drawDelete"),value:"delete"},{text:this.$t("design.drawReportSetting"),value:"reportSetting"},{text:this.$t("design.drawPageSetting"),value:"pageSetting"}]},contextMenuShow:{},showParamWindow:!1,popupWindowUser:"",selfUuid:"",isInit:!0,drawPanels:null,drawGroups:{},drawGroupCarouselInterval:{},oldDrawPosition:"",oldPageZoom:1,move:{ArrowUp:{direct:"top",flag:1},ArrowDown:{direct:"top",flag:-1},ArrowLeft:{direct:"left",flag:1},ArrowRight:{direct:"left",flag:-1}}}},computed:Object(s.a)(Object(s.a)({resizerData:function(){var e=this,a={show:!1,position:{}};return 1===this.selected.length||(this._.forEach(this.selected,(function(i){var o=e.drawBlockContent[e.currentPage][i];o.selected&&(a.show=!0);var s=parseInt(o.position.top),n=parseInt(o.position.left),r=parseInt(o.position.height),l=parseInt(o.position.width);t.isEmptyObject(a.position)?a.position={top:s,left:n,bottom:s+r,right:n+l,"z-index":o.position["z-index"]}:(a.position.top=Math.min(a.position.top,s),a.position.left=Math.min(a.position.left,n),a.position.bottom=Math.max(a.position.bottom,s+r),a.position.right=Math.max(a.position.right,n+l),a.position["z-index"]=Math.max(a.position["z-index"],o.position["z-index"]))})),a.style={position:"absolute",top:a.position.top+"px",left:a.position.left+"px",height:"0",width:"0","z-index":a.position["z-index"]},a.resizer={top:a.position.top+"px",left:a.position.left+"px",height:a.position.bottom-a.position.top+"px",width:a.position.right-a.position.left+"px"},a.styleLeft={position:"absolute",top:"0",left:"0",height:a.position.bottom-a.position.top+"px",width:"1px"},a.styleRight={position:"absolute",top:"0",left:a.position.right-a.position.left-1+"px",height:a.position.bottom-a.position.top+"px",width:"1px"},a.styleTop={position:"absolute",top:"0",left:"0",height:"1px",width:a.position.right-a.position.left+"px"},a.styleBottom={position:"absolute",top:a.position.bottom-a.position.top-1+"px",left:"0",height:"1px",width:a.position.right-a.position.left+"px"},a.leftCenter={top:(a.position.bottom-a.position.top-1)/2+"px"},a.leftBottom={top:a.position.bottom-a.position.top-1+"px"},a.rightTop={left:a.position.right-a.position.left-1+"px"},a.rightCenter={top:(a.position.bottom-a.position.top-1)/2+"px",left:a.position.right-a.position.left-1+"px"},a.rightBottom={top:a.position.bottom-a.position.top-1+"px",left:a.position.right-a.position.left-1+"px"},a.topCenter={left:(a.position.right-a.position.left-1)/2+"px"},a.bottomCenter={top:a.position.bottom-a.position.top-1+"px",left:(a.position.right-a.position.left-1)/2+"px"}),a},drawBlockContent:function(){var e=t.extend(!0,{},this.blockContent);for(var a in e){this.drawGroups[a]?this._.forEach(this.drawGroups[a],(function(t){t.count=0})):this.drawGroups[a]={};for(var i=0;i<this.pageContent[a].length;i++){var o=this.pageContent[a][i];e[a][o].position.scale="edit"===this.model?1:this.drawEventData.scale>0?this.drawEventData.scale:1,e[a][o].position["z-index"]=i,"view"===this.model&&e[a][o].contentData.groupSetting&&e[a][o].contentData.groupSetting.isCarousel&&(this.drawGroups[a][e[a][o].group]||(this.drawGroups[a][e[a][o].group]={currentIndex:1,count:0}),e[a][o].contentData.groupSetting.currentIndex=e[a][o].contentData.groupSetting.currentIndex||1,this.drawGroups[a][e[a][o].group].count=this.drawGroups[a][e[a][o].group].count+1,e[a][o].contentData.groupSetting.index=this.drawGroups[a][e[a][o].group].count)}}return e},pageSize:function(){var e=this.defaultData.minLeft,a="5px";"view"===this.model&&!1===this.reportSetting.showPadding&&(e=0,a="0");var i=Object.assign({},this.drawSize),o=this.parentWidth-2*e;if(this.drawEventData.pageWidth=parseFloat(this.drawSize.width),this.drawEventData.pageHeight=parseFloat(this.drawSize.height),"edit"===this.model&&(this.reportSetting.showPadding||(this.drawEventData.pageWidth=this.drawEventData.pageWidth+1),i.width=(this.drawEventData.pageWidth=this.drawEventData.pageWidth*i.pageZoom)+"px",i.height=(this.drawEventData.pageHeight=this.drawEventData.pageHeight*i.pageZoom)+"px"),this.drawEventData.pageWidth>o)this.drawEventData.scale=o/this.drawEventData.pageWidth,i.margin=a+" 0";else{var s=1,n=a+" auto";"view"===this.model&&this.reportSetting.fullScreen&&(s=o/this.drawEventData.pageWidth,n=a+" 0"),this.drawEventData.scale=s,i.margin=n}if(i.transform="scale("+this.drawEventData.scale+")","edit"===this.model&&this.oldPageZoom!==i.pageZoom){this.oldDrawPosition=t.extend(!0,{},this.blockContent);var r=this._.cloneDeep(this.blockContent);for(var l in r){var c=r[l];for(var d in c)c[d].position.width=(parseFloat(c[d].position.width)/this.oldPageZoom||1)*i.pageZoom+"px",c[d].position.height=(parseFloat(c[d].position.height)/this.oldPageZoom||1)*i.pageZoom+"px",c[d].position.top=(parseFloat(c[d].position.top)/this.oldPageZoom||1)*i.pageZoom+"px",c[d].position.left=(parseFloat(c[d].position.left)/this.oldPageZoom||1)*i.pageZoom+"px"}this.oldPageZoom=i.pageZoom,this.changeAllPosition(r)}return i},transformPageStyle:function(){var t,e={},a=Object(o.a)(this.pageList);try{for(a.s();!(t=a.n()).done;){var i=t.value,s=Object.assign({position:"relative"},this.reportStyle.pageStyle,this.pageStyle[i],this.pageSize);e[i]=s,this.reportSetting.showPadding||"edit"!==this.model||(e[i].border="1px dashed rgba(0,0,0,0.26)")}}catch(t){a.e(t)}finally{a.f()}return e},transformGraticuleStyle:function(){var e,a={},i={},s=Object(o.a)(this.pageList);try{for(s.s();!(e=s.n()).done;){var n=e.value,r=Object.assign({position:"relative"},this.reportStyle.pageStyle,this.pageStyle[n],this.pageSize);a[n]=r,this.reportSetting.showPadding||"edit"!==this.model||(a[n].border="1px dashed rgba(0,0,0,0.26)")}}catch(t){s.e(t)}finally{s.f()}for(var l in a)i[l]={},a[l].backgroundImage&&!t.isEmptyObject(a[l].backgroundImage)&&a[l].backgroundImage.url&&(i[l].backgroundPosition=a[l].backgroundPositionX+" "+a[l].backgroundPositionY,i[l].backgroundRepeat=a[l].backgroundRepeat,i[l].backgroundSize=a[l].backgroundSize,i[l].backgroundImage="url("+(a[l].backgroundImage.isLocal?this.$projectName:"")+a[l].backgroundImage.url+")");return i},pageBoxStyle:function(){var t=this.defaultData.minTop,e=this.defaultData.minLeft,a="100%",i="none";"view"===this.model&&(!1===this.reportSetting.showPadding&&(t=0,e=0),this.reportSetting.showDirection&&(a="auto",i="left"));var o=this.drawEventData.pageHeight*this.drawEventData.scale+3*t;return{width:a,height:(o=this.$el&&this.$el.offsetHeight>o?o+(this.$el.offsetHeight-o):o)+"px",padding:t+"px "+e+"px",cursor:this.toolbarType!==this.selectType||"select"===this.drawEventData.mouseState||"create"===this.drawEventData.mouseState?"crosshair":"default",float:i}},padStyle:function(){var t="100%";if("view"===this.model&&this.reportSetting.showDirection){t=0;var e,a=Object(o.a)(this.pageList);try{for(a.s();!(e=a.n()).done;){var i=e.value,s=Object.assign({position:"relative"},this.reportStyle.pageStyle,this.pageStyle[i],this.pageSize);t+=parseFloat(s.width)}}catch(t){a.e(t)}finally{a.f()}t+="px"}return{position:"relative",width:t,height:"auto",padding:"0",cursor:this.toolbarType!==this.selectType||"select"===this.drawEventData.mouseState||"create"===this.drawEventData.mouseState?"crosshair":"default"}},nanoscrollerStyle:function(){return!this.reportSetting.showPadding&&this.model,{}},auxiliaryFrameStyle:function(){var t=this.drawEventData,e=Math.min(t.startX,t.currentX),a=Math.min(t.startY,t.currentY),i=Math.max(t.startX,t.currentX),o=Math.max(t.startY,t.currentY),s={position:"absolute"};return"select"!==t.mouseState&&"create"!==t.mouseState||(s.top=a-t.offsetY+"px",s.left=e-t.offsetX+"px",s.height=o-a+"px",s.width=i-e+"px"),s},showReportParam:function(){var t=!1;return this.paramSettingWithKey.length>0&&(t=!0),t},showBolckArea:function(){var t=this;return function(e){return e.contentData.groupSetting&&e.contentData.groupSetting.isCarousel?e.contentData.groupSetting.currentIndex===e.contentData.groupSetting.index:"edit"===t.model||(void 0===e.contentData.show||e.contentData.show)}}},Object(k.d)({popupWindowClick:function(t){return t.popupWindowClick},drawSize:function(t){return t.draw.drawSize},reportStyle:function(t){return t.draw.reportStyle},reportSetting:function(t){return t.draw.reportSetting},pageStyle:function(t){return t.draw.pageStyle},currentPage:function(t){return t.draw.currentPage},blockContent:function(t){return t.draw.blockContent},pageContent:function(t){return t.draw.pageContent},selected:function(t){return t.draw.selected},lastAddPage:function(t){return t.draw.lastAddPage},lastDeletePage:function(t){return t.draw.lastDeletePage},dataForToggleType:function(t){return t.draw.dataForToggleType},pageList:function(t){return t.pageController.pageList},toolbarType:function(t){return t.toolbar.currentType},paramStyleSetting:function(t){return t.reportParam.paramStyleSetting},paramSelectValue:function(t){return t.reportParam.paramSelectValue},paramDefaultValue:function(t){return t.reportParam.paramDefaultValue},showLogo:function(t){return t.reportParam.showLogo}})),Object(k.c)({selectedData:"selectedData",selectedType:"selectedType",loadingState:"loadingState",paramSettingWithKey:"paramSettingWithKey",paramCurrentValue:"paramCurrentValue",paramToBlock:"paramToBlock",groupData:"groupData"})),watch:{selected:function(){var t,e="",a=[],i=!0,s=Object(o.a)(this.selected);try{for(s.s();!(t=s.n()).done;){var n=t.value;this.drawBlockContent[this.currentPage][n].group?a.includes(this.drawBlockContent[this.currentPage][n].group)||a.push(this.drawBlockContent[this.currentPage][n].group):i=!1}}catch(t){s.e(t)}finally{s.f()}e=0===this.selected.length?"reportSetting":1===this.selected.length?this.selectedType[0]:i&&1===a.length?"group":"multiple",this.changeParamType(e)},popupWindowClick:function(){switch(this.popupWindowUser){case"copyExceed":this.hidePopupWindow(),this.popupWindowUser=""}},currentPage:function(){var t=this;"all"===this.currentPage?this.$nextTick((function(){t.drawAddPanel(t.$refs.drawPanel)})):this.$nextTick((function(){t.$refs.drawPanel&&t.drawAddPanel(t.$refs.drawPanel[0])}))},groupData:function(){this.isInit&&"view"===this.model&&(this.startAutoCarousel(),this.isInit=!1)}},methods:Object(s.a)({comName:function(t){var e,a=Object(o.a)(T);try{for(a.s();!(e=a.n()).done;){var i=e.value;if(t.type.startsWith(i))return i+"Component"}}catch(t){a.e(t)}finally{a.f()}return("bar"===t.type?"line":t.type)+"Component"},clickParamButton:function(){"view"===this.model&&(this.showParamWindow=!0)},selectParam:function(t,e){"confirm"===t.type&&this.changeReportParamSelectValue(e),this.showParamWindow=!1},setParentWidth:function(){this.$nextTick((function(){this.parentWidth=this.$el.parentNode.clientWidth}))},mousedown:function(e){if("view"!==this.model&&this.currentPage){this.contextMenu.show=!1;var a=0-parseFloat(t(this.$el).children().children(".mCSB_container")[0].style.top);this.drawEventData.offsetX=t(this.$el).parent().offset().left,this.drawEventData.offsetY=t(this.$el).parent().offset().top,this.drawEventData.marginX=parseFloat(t(this.$el).find('[editRole="'+this.currentPage+'"]')[0].offsetLeft),this.drawEventData.marginY=parseFloat(t(this.$el).find('[editRole="'+this.currentPage+'"]')[0].offsetTop),this.drawEventData.startX=e.pageX,this.drawEventData.startY=e.pageY+a,this.drawEventData.currentX=e.pageX,this.drawEventData.currentY=e.pageY+a;var i=t(e.target),o="bolck"===i.attr("editRole")?i:i.parents('[editRole="bolck"]');if(this.toolbarType===this.selectType)if(1===e.which)if(e.ctrlKey)this.drawEventData.mouseState="ctrlSelect";else if(1===i.parents('[editRole="border"]').length)this.drawEventData.mouseState=i.attr("editRole");else if(1===o.length){var s=o.attr("name");this.drawBlockContent[this.currentPage][s].selected?1===this.selected.length?this.drawBlockContent[this.currentPage][s].group?this.drawEventData.mouseState="selectSingle":this.drawEventData.mouseState="move":this.drawEventData.mouseState="selectSingle":(this.selectSingle(s),this.drawEventData.mouseState="move")}else this.drawEventData.mouseState="select";else 3===e.which&&(this.drawEventData.mouseState="contextMenu");else 1===e.which&&(this.emptySelect(),this.drawEventData.mouseState="create")}},mousemove:function(e){if("view"!==this.model&&this.currentPage){0===e.which&&this.drawEventData.mouseState&&this.emptyDrawEventData();var a=0-parseFloat(t(this.$el).children().children(".mCSB_container")[0].style.top);switch(this.drawEventData.mouseState){case"select":case"create":this.drawEventData.currentX=e.pageX,this.drawEventData.currentY=e.pageY+a;break;case"selectSingle":e.pageX===this.drawEventData.startX&&e.pageY+a===this.drawEventData.startY||(this.drawEventData.mouseState="move",this.drawEventData.currentX=e.pageX,this.drawEventData.currentY=e.pageY+a);break;case"move":var i=e.pageX,o=e.pageY+a;this.moveSelect("ing",i,o);break;case"leftTop":case"leftCenter":case"leftBottom":case"rightTop":case"rightCenter":case"rightBottom":case"topCenter":case"bottomCenter":var s=e.pageX,n=e.pageY+a;this.changeSize(this.drawEventData.mouseState,"ing",s,n)}}},mouseup:function(e){if("view"!==this.model&&this.currentPage){var a=0-parseFloat(t(this.$el).children().children(".mCSB_container")[0].style.top);this.drawEventData.endX=e.pageX,this.drawEventData.endY=e.pageY+a;var i="bolck"===t(e.target).attr("editRole")?t(e.target):t(e.target).parents('[editRole="bolck"]');switch(this.drawEventData.mouseState){case"select":this.emptySelect(),this.selectArea();break;case"create":this.createArea();break;case"ctrlSelect":1===i.length&&e.ctrlKey&&this.selectSingle(i.attr("name"),"ctrl");break;case"selectSingle":this.selectSingle(i.attr("name"));break;case"move":this.moveSelect("end");break;case"contextMenu":this.showContextMenu(i);break;case"leftTop":case"leftCenter":case"leftBottom":case"rightTop":case"rightCenter":case"rightBottom":case"topCenter":case"bottomCenter":this.changeSize(this.drawEventData.mouseState,"end")}this.toolbarType!==this.selectType&&this.changeType(this.selectType),this.emptyDrawEventData()}},mouseleave:function(){if("view"!==this.model&&this.currentPage){switch(this.contextMenu.show=!1,this.drawEventData.endX=this.drawEventData.currentX,this.drawEventData.endY=this.drawEventData.currentY,this.drawEventData.mouseState){case"select":this.emptySelect(),this.selectArea();break;case"create":this.emptySelect(),this.createArea();break;case"ctrlSelect":case"selectSingle":break;case"move":this.moveSelect("end");break;case"contextMenu":break;case"leftTop":case"leftCenter":case"leftBottom":case"rightTop":case"rightCenter":case"rightBottom":case"topCenter":case"bottomCenter":this.changeSize(this.drawEventData.mouseState,"end")}""!==this.drawEventData.mouseState&&(this.toolbarType!==this.selectType&&this.changeType(this.selectType),this.emptyDrawEventData())}},showContextMenu:function(t){if(t.length>0){var e=t.attr("name");this.drawBlockContent[this.currentPage][e].selected||this.selectSingle(e)}else this.emptySelect();var a=this.drawEventData,i=this.contextMenu,s=0,n={};if(0===this.selected.length)n={reportSetting:!0,pageSetting:!0},s=2;else{if(n={changeLevel:!0,delete:!0,copy:!0},s=3,1===this.selected.length&&this.drawBlockContent[this.currentPage][this.selected[0]].group)n.ungroup=!0;else if(this.selected.length>1){var r=[];n.horizontal=!0,n.vertical=!0;var l,c=Object(o.a)(this.selected);try{for(c.s();!(l=c.n()).done;){var d=l.value;this.drawBlockContent[this.currentPage][d].group?(n.ungroup=!0,r.includes(this.drawBlockContent[this.currentPage][d].group)||r.push(this.drawBlockContent[this.currentPage][d].group)):n.group=!0}}catch(t){c.e(t)}finally{c.f()}r.length>1&&(n.group=!0)}!0===n.ungroup&&(s+=1),!0===n.group&&(s+=1)}var u=localStorage.getItem("copy"),h=u?JSON.parse(u):{};(h.copyContent?h.copyContent:[]).length>0&&(n.paste=!0,s+=1),this.contextMenuShow=n;var p=this.defaultData.contextmenuLineHeight,g=s*p,m=this.maxSubMenuNum*p,f=this.defaultData.contextmenuWidth,w=document.body.clientHeight,v=this.parentWidth;a.endX-a.offsetX+f>v?(i.style.left=a.endX-a.offsetX-f+"px",i.subX="right"):(i.style.left=a.endX-a.offsetX+"px",a.endX-a.offsetX+2*f>v?i.subX="right":i.subX="left"),a.endY+g>w?(i.style.top=a.endY-a.offsetY-g+"px",i.subY="bottom"):(i.style.top=a.endY-a.offsetY+"px",a.endY+g+m>w?i.subY="bottom":i.subY="top"),i.show=!0},clickMenu:function(t){var e=Object(i.a)(this.selected);switch(t){case"reportSetting":case"pageSetting":this.changeParamType(t);break;case"copy":this.copySelected();break;case"paste":this.pasteCopies();break;case"group":this.groupAndUngroup("group",e);break;case"ungroup":this.groupAndUngroup("ungroup",e);break;case"changeLevel":break;case"delete":this.deleteSelected();break;case"moveUp":this.changeLevel("moveUp");break;case"moveDown":this.changeLevel("moveDown");break;case"moveToTop":this.changeLevel("moveToTop");break;case"moveToBottom":this.changeLevel("moveToBottom");break;case"horizontalLeft":case"horizontalCenter":case"horizontalRight":case"verticalTop":case"verticalCenter":case"verticalBottom":this.changeAlignment(t)}this.contextMenu.show=!1},changeLevel:function(t){var e=Object(i.a)(this.pageContent[this.currentPage]);if("moveUp"===t){for(var a=e.length-1;a>=0;a--)if(this.drawBlockContent[this.currentPage][e[a]].selected&&e[a+1]&&!this.drawBlockContent[this.currentPage][e[a+1]].selected){var o=[e[a+1],e[a]];e[a]=o[0],e[a+1]=o[1]}}else if("moveDown"===t){for(var s=0;s<e.length;s++)if(this.drawBlockContent[this.currentPage][e[s]].selected&&e[s-1]&&!this.drawBlockContent[this.currentPage][e[s-1]].selected){var n=[e[s-1],e[s]];e[s]=n[0],e[s-1]=n[1]}}else{for(var r=[],l=[],c=0;c<e.length;c++)this.drawBlockContent[this.currentPage][e[c]].selected?r.push(e[c]):l.push(e[c]);"moveToTop"===t?e=[].concat(l,r):"moveToBottom"===t&&(e=[].concat(r,l))}this.changeIndex(e)},groupAndUngroup:function(t,e){if("group"===t)this.groupBlock(e),this.changeParamType("group");else if("ungroup"===t)if(1===e.length)if(2===this.groupData[this.currentPage][this.drawBlockContent[this.currentPage][e[0]].group].children.length){var a=Object(i.a)(this.groupData[this.currentPage][this.drawBlockContent[this.currentPage][e[0]].group].children);this.ungroupBlock(a)}else this.ungroupBlock(e);else this.ungroupBlock(e),this.changeParamType("multiple")},copySelected:function(){if(this.selectedData.length>0){var t=localStorage.getItem("copy"),e={uuid:this.selfUuid,copyContent:this.selectedData},a=JSON.stringify(e);try{localStorage.setItem("copy",""),localStorage.setItem("copy",a)}catch(t){}if(localStorage.getItem("copy")!==a){localStorage.setItem("copy",t);var i={show:!0,type:"alert",content:this.$t("design.drawCopyExceed"),style:{width:"300px",height:"120px"}};this.popupWindowUser="copyExceed",this.showPopupWindow(i)}}},pasteCopies:function(){var e=this.defaultData.minMoveDistance,a=parseFloat(this.drawSize.width),i=parseFloat(this.drawSize.height),o=localStorage.getItem("copy"),s=o?JSON.parse(o):{},n=s.copyContent?s.copyContent:[];if(n.length>0){n[0].contentData.dataSource?n[0].contentData.dataSource.filterRules=[]:n[0].contentData.dataresource&&(n[0].contentData.dataresource.filterRules=[]);for(var r=0;r<n.length;r++){var l={top:parseInt(n[r].position.top)+e+"px",left:parseInt(n[r].position.left)+e+"px"};n[r].position=t.extend(!0,{},n[r].position,l)}s.copyContent=n;var c=JSON.stringify(s);try{localStorage.setItem("copy",c)}catch(t){}for(var d=0;d<n.length;d++){var u=parseInt(n[d].position.top),h=parseInt(n[d].position.left),p=parseInt(n[d].position.height),g=parseInt(n[d].position.width),m={};h<0?m.left="0px":h+g>a&&(m.left=a-g+"px"),u<0?m.top="0px":u+p>i&&(m.top=i-p+"px"),n[d].position=t.extend(!0,{},n[d].position,m)}this.emptySelect(),this.pasteBlock(n)}},changeAlignment:function(t){var e,a,i,o,s=this,n={};this._.forEach(this.selected,(function(t,n){var r=s.drawBlockContent[s.currentPage][t],l=s._.mapValues(r.position,(function(t){return parseFloat(t)}));0===n?(e=l.left,a=l.top,i=l.left+l.width,o=l.top+l.height):(e=e>l.left?l.left:e,a=a>l.top?l.top:a,i=i<l.left+l.width?l.left+l.width:i,o=o<l.top+l.height?l.top+l.height:o)})),this._.forEach(this.selected,(function(r){n[r]={};var l=s.drawBlockContent[s.currentPage][r],c=s._.mapValues(l.position,(function(t){return parseFloat(t)}));switch(t){case"horizontalLeft":n[r].left=e+"px";break;case"horizontalRight":n[r].left=i-c.width+"px";break;case"horizontalCenter":var d=(e+i)/2;n[r].left=d-c.width/2+"px";break;case"verticalTop":n[r].top=a+"px";break;case"verticalBottom":n[r].top=o-c.height+"px";break;case"verticalCenter":var u=(a+o)/2;n[r].top=u-c.height/2+"px"}})),this.changePosition(n)},emptyDrawEventData:function(){this.drawEventData.mouseState="",this.drawEventData.marginX=0,this.drawEventData.marginY=0,this.drawEventData.startX=0,this.drawEventData.startY=0,this.drawEventData.currentX=0,this.drawEventData.currentY=0,this.drawEventData.endX=0,this.drawEventData.endY=0,this.drawEventData.moveDistanceX=0,this.drawEventData.moveDistanceY=0},calculateSize:function(t,e,a,i,o){a=a||0===a?a:t,i=i||0===i?i:e;var s=this.drawEventData,n=o?Math.min(t,a):t,r=o?Math.min(e,i):e,l=o?Math.max(t,a):a,c=o?Math.max(e,i):i,d={};return r<=s.offsetY+s.marginY?d.top=r-s.offsetY-s.marginY:r>=s.offsetY+s.marginY+s.pageHeight*s.scale?d.top=s.pageHeight+(r-s.offsetY-s.marginY-s.pageHeight*s.scale):d.top=(r-s.offsetY-s.marginY)/s.scale,n<=s.offsetX+s.marginX?d.left=n-s.offsetX-s.marginX:n>=s.offsetX+s.marginX+s.pageWidth*s.scale?d.left=s.pageWidth+(n-s.offsetX-s.marginX-s.pageWidth*s.scale):d.left=(n-s.offsetX-s.marginX)/s.scale,c<=s.offsetY+s.marginY?d.bottom=c-s.offsetY-s.marginY:c>=s.offsetY+s.marginY+s.pageHeight*s.scale?d.bottom=s.pageHeight+(c-s.offsetY-s.marginY-s.pageHeight*s.scale):d.bottom=(c-s.offsetY-s.marginY)/s.scale,l<=s.offsetX+s.marginX?d.right=l-s.offsetX-s.marginX:l>=s.offsetX+s.marginX+s.pageWidth*s.scale?d.right=s.pageWidth+(l-s.offsetX-s.marginX-s.pageWidth*s.scale):d.right=(l-s.offsetX-s.marginX)/s.scale,d},changeSize:function(t,e,a,i){var o,s=this,n=this.drawEventData,r=!1,l={};if("end"===e)o=this.calculateSize(n.startX,n.startY,n.endX,n.endY),r=!0;else{var c=this.calculateSize(n.startX,n.startY,n.currentX,n.currentY),d=this.calculateSize(n.startX,n.startY,a,i);c.left=d.left=Math.round(c.left/this.defaultData.minMoveDistance)*this.defaultData.minMoveDistance,c.top=d.top=Math.round(c.top/this.defaultData.minMoveDistance)*this.defaultData.minMoveDistance;var u=parseInt((c.right-c.left)/this.defaultData.minMoveDistance)!==parseInt((d.right-d.left)/this.defaultData.minMoveDistance),h=parseInt((c.bottom-c.top)/this.defaultData.minMoveDistance)!==parseInt((d.bottom-d.top)/this.defaultData.minMoveDistance);(u||h)&&(n.currentX=a,n.currentY=i,o=d,r=!0)}if(r){var p=parseInt((o.right-o.left)/this.defaultData.minMoveDistance)*this.defaultData.minMoveDistance,g=parseInt((o.bottom-o.top)/this.defaultData.minMoveDistance)*this.defaultData.minMoveDistance;this._.forEach(this.selected,(function(e){var a=s.drawBlockContent[s.currentPage][e],i=s._.mapValues(a.position,(function(t){return parseFloat(t)})),o=s._.mapValues(s.selected.length>1?s.resizerData.resizer:a.position,(function(t){return parseFloat(t)}));o.width=o.width<=1?1:o.width,o.height=o.height<=1?1:o.height,i.width=i.width<=1?1:i.width,i.height=i.height<=1?1:i.height;var r=s._.cloneDeep(o);switch(l[e]={},t){case"leftTop":r.top=r.top-n.moveDistanceY+g,r.left=r.left-n.moveDistanceX+p,r.height=r.height+n.moveDistanceY-g,r.width=r.width+n.moveDistanceX-p;break;case"leftCenter":r.left=r.left-n.moveDistanceX+p,r.width=r.width+n.moveDistanceX-p;break;case"leftBottom":r.left=r.left-n.moveDistanceX+p,r.height=r.height-n.moveDistanceY+g,r.width=r.width+n.moveDistanceX-p;break;case"rightTop":r.top=r.top-n.moveDistanceY+g,r.height=r.height+n.moveDistanceY-g,r.width=r.width-n.moveDistanceX+p;break;case"rightCenter":r.width=r.width-n.moveDistanceX+p;break;case"rightBottom":r.width=r.width-n.moveDistanceX+p,r.height=r.height-n.moveDistanceY+g;break;case"topCenter":r.top=r.top-n.moveDistanceY+g,r.height=r.height+n.moveDistanceY-g;break;case"bottomCenter":r.height=r.height-n.moveDistanceY+g}l[e].top=Math.round(i.top+(r.top-o.top)+(i.top-o.top)/o.height*(r.height-o.height))+"px",l[e].left=Math.round(i.left+(r.left-o.left)+(i.left-o.left)/o.width*(r.width-o.width))+"px",l[e].width=Math.round(r.width/o.width*i.width)+"px",l[e].height=Math.round(r.height/o.height*i.height)+"px"})),n.moveDistanceY=g,n.moveDistanceX=p,this.changePosition(l)}},moveSelect:function(t,e,a){var i,o=this.drawEventData,s=!1,n={};if("end"===t)i=this.calculateSize(o.startX,o.startY,o.endX,o.endY),s=!0,this.isPosition=!1;else{var r=this.calculateSize(o.startX,o.startY,o.currentX,o.currentY),l=this.calculateSize(o.startX,o.startY,e,a),c=parseInt((r.right-r.left)/this.defaultData.minMoveDistance)!==parseInt((l.right-l.left)/this.defaultData.minMoveDistance),d=parseInt((r.bottom-r.top)/this.defaultData.minMoveDistance)!==parseInt((l.bottom-l.top)/this.defaultData.minMoveDistance);(c||d)&&(o.currentX=e,o.currentY=a,i=l,s=!0)}if(s){var u=parseInt((i.right-i.left)/this.defaultData.minMoveDistance)*this.defaultData.minMoveDistance,h=parseInt((i.bottom-i.top)/this.defaultData.minMoveDistance)*this.defaultData.minMoveDistance;for(var p in this.selected){var g=this.selected[p];n[g]={};var m=this.drawBlockContent[this.currentPage][g];n[g].top=Math.round(parseFloat(m.position.top)/this.defaultData.minMoveDistance)*this.defaultData.minMoveDistance-o.moveDistanceY+h+"px",n[g].left=Math.round(parseFloat(m.position.left)/this.defaultData.minMoveDistance)*this.defaultData.minMoveDistance-o.moveDistanceX+u+"px"}o.moveDistanceY=h,o.moveDistanceX=u,this.changePosition(n)}},selectArea:function(){var t=[],e=this.drawEventData,a=this.calculateSize(e.startX,e.startY,e.endX,e.endY,!0);for(var i in this.drawBlockContent[this.currentPage]){var s=this.drawBlockContent[this.currentPage][i],n=parseFloat(s.position.top),r=parseFloat(s.position.left),l=parseFloat(s.position.top)+parseFloat(s.position.height),c=parseFloat(s.position.left)+parseFloat(s.position.width),d=a.left<=r&&r<=a.right,u=a.left<=c&&c<=a.right,h=r<=a.left&&a.right<=c,p=a.top<=n&&n<=a.bottom,g=a.top<=l&&l<=a.bottom,m=n<=a.top&&a.bottom<=l;if((d||u||h)&&(p||g||m)&&(t.includes(s.id)||t.push(s.id),s.group)){var f,w=Object(o.a)(this.groupData[this.currentPage][s.group].children);try{for(w.s();!(f=w.n()).done;){var v=f.value;t.includes(v)||t.push(v)}}catch(t){w.e(t)}finally{w.f()}}}for(var y=0,A=t;y<A.length;y++){var D=A[y];this.triggerSelect(D)}},selectSingle:function(t,e){var a,s=this,n=this.drawBlockContent[this.currentPage][t].group,r=[],l=!1,c=[],d={empty:!1,completeSelectedGroup:!1,clickedGroup:!1,clickedSelf:!1},u=Object(o.a)(this.selected);try{for(u.s();!(a=u.n()).done;){var h=a.value;this.drawBlockContent[this.currentPage][h].group&&(r.includes(this.drawBlockContent[this.currentPage][h].group)||r.push(this.drawBlockContent[this.currentPage][h].group))}}catch(t){u.e(t)}finally{u.f()}if(n){if((c=Object(i.a)(this.groupData[this.currentPage][n].children)).length===this.selected.length){l=!0;var p,g=Object(o.a)(this.selected);try{for(g.s();!(p=g.n()).done;){var m=p.value;c.includes(m)||(l=!1)}}catch(t){g.e(t)}finally{g.f()}}}else c=[t];1===r.length&&1===this.selected.length?n===r[0]?"ctrl"===e||this.drawBlockContent[this.currentPage][t].selected?d.completeSelectedGroup=!0:(d.empty=!0,d.clickedSelf=!0):"ctrl"===e?(d.completeSelectedGroup=!0,d.clickedGroup=!0):(d.empty=!0,d.clickedGroup=!0):l?"ctrl"===e?d.clickedGroup=!0:(d.empty=!0,d.clickedSelf=!0):("ctrl"===e||(d.empty=!0),d.clickedGroup=!0),this.$nextTick((function(){if(d.empty&&s.emptySelect(),d.completeSelectedGroup){var e,a=Object(i.a)(s.groupData[s.currentPage][r[0]].children),n=Object(o.a)(a);try{for(n.s();!(e=n.n()).done;){var l=e.value;s.drawBlockContent[s.currentPage][l].selected||s.triggerSelect(l)}}catch(t){n.e(t)}finally{n.f()}}if(d.clickedGroup){var u,h=Object(o.a)(c);try{for(h.s();!(u=h.n()).done;){var p=u.value;s.triggerSelect(p)}}catch(t){h.e(t)}finally{h.f()}}d.clickedSelf&&s.triggerSelect(t)}))},createArea:function(){var t=this.drawEventData,e={type:this.toolbarType,selected:!1,position:{position:"absolute"},group:"",contentData:{}},a=this.calculateSize(t.startX,t.startY,t.endX,t.endY,!0);a.top=Math.round(a.top/this.defaultData.minMoveDistance)*this.defaultData.minMoveDistance,a.bottom=Math.round(a.bottom/this.defaultData.minMoveDistance)*this.defaultData.minMoveDistance,a.left=Math.round(a.left/this.defaultData.minMoveDistance)*this.defaultData.minMoveDistance,a.right=Math.round(a.right/this.defaultData.minMoveDistance)*this.defaultData.minMoveDistance,e.position.top=a.top+"px",e.position.left=a.left+"px";var i=a.bottom-a.top,o=a.right-a.left,s=i||this.defaultData.defaultBlockHeight,n=o||this.defaultData.defaultBlockWidth;e.position.height=s+"px",e.position.width=n+"px",this.addBlock(e)},uuidBuilder:function(t,e){var a,i,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),s=[];if(e=e||o.length,t)for(a=0;a<t;a++)s[a]=o[0|Math.random()*e];else for(s[8]=s[13]=s[18]=s[23]="-",s[14]="4",a=0;a<36;a++)s[a]||(i=0|16*Math.random(),s[a]=o[19===a?3&i|8:i]);return s.join("")},startAutoCarousel:function(){var t=this;t._.forEach(t.groupData,(function(e,a){t._.forEach(e,(function(e,i){if(e.setting&&t._.get(e,"setting.isCarousel")&&"auto"===t._.get(e,"setting.groupCarouselTrigger")){var o=0;clearInterval(t.drawGroupCarouselInterval[i]),t.drawGroupCarouselInterval[i]=setInterval((function(){(o=t.drawGroups[a][i].currentIndex+1)===t.drawGroups[a][i].count+1&&(o=1),t.drawGroups[a][i].currentIndex=o;var s={};t._.forEach(e.children,(function(t){s[t]={groupSetting:{currentIndex:o}}})),t.drawChangeSpecialDatas(s)}),e.setting.carouselTime)}}))}))}},Object(k.b)({showPopupWindow:"showPopupWindow",hidePopupWindow:"hidePopupWindow",emptySelect:"_drawEmptySelected",addBlock:"_drawAddBlock",triggerSelect:"_drawTriggerSelect",deleteSelected:"_drawDeleteSelected",changePosition:"_drawChangeBlockPosition",changeAllPosition:"_drawChangeAllBlockPosition",groupBlock:"_drawGroup",ungroupBlock:"_drawUngroup",pasteBlock:"_drawPasteBlock",selectAll:"_drawSelectedAll",changeParamType:"_drawChangeParamType",changeIndex:"_drawChangeIndex",changeType:"getType",changeReportParamSelectValue:"changeReportParamSelectValue",drawAddPanel:"drawAddPanel",drawChangeSpecialDatas:"drawChangeSpecialDatas"})),mounted:function(){var t=this,e=[37,38,39,40];this.setParentWidth(),"edit"===this.model?(window.onkeydown=function(a){var i=a.target.tagName.toUpperCase();if("INPUT"!==i&&"TEXTAREA"!==i||a.target.className.includes("dropDown-true-input")){46===a.keyCode||8===a.keyCode?t.deleteSelected():65===a.keyCode&&a.ctrlKey?t.selectAll():67===a.keyCode&&a.ctrlKey||67===a.keyCode&&a.metaKey?t.copySelected():(86===a.keyCode&&a.ctrlKey||86===a.keyCode&&a.metaKey)&&t.pasteCopies();var o={};if(e.includes(a.keyCode)){for(var s in t.selected){var n=t.selected[s];o[n]={};var r=t.drawBlockContent[t.currentPage][n];o[n][t.move[a.key].direct]=parseFloat(r.position[t.move[a.key].direct])-t.defaultData.minMoveDistance*t.move[a.key].flag+"px"}t.changePosition(o)}}},window.onbeforeunload=function(){var e=localStorage.getItem("copy");(e?JSON.parse(e):{}).uuid===t.selfUuid&&localStorage.setItem("copy","")},window.onstorage=function(){}):this.$route.params.id||this.$nextTick((function(){t.isInit&&(t.startAutoCarousel(),t.isInit=!1)}))},created:function(){this.selfUuid=this.uuidBuilder()}}}).call(this,a("1157"))},"31a4":function(t,e,a){t.exports=a.p+"img/box18.9cd8b778.png"},3370:function(t,e,a){},"356a":function(t,e,a){},"35e6":function(t,e,a){"use strict";var i=a("c92c");a.n(i).a},"372d":function(t,e,a){},"397b":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPEAAACKCAMAAABM8Fw5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRFE4KtAAAAVALr0AAAAAJ0Uk5T/wDltzBKAAABB0lEQVR42uzdSwrFMAgAQHv/S3fzNo8iJMFAguOmUIrpYH474xmN+MZzVcTfY8V7G/n3uzGszHOciMsrFP0iLdZ0AUuSzCRf+zbyaVAyl7ZP1OlBY+9KOnfLbhTETcStTqY4+SKx5dZFTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTNxB3K8zXa8gbi8u6ke7sMds69UbReBacskISZLo2OVaV+97LhNDL5Od60by4krvdzq9AgwAUTx58wOns8MAAAAASUVORK5CYII="},"39b9":function(t,e,a){},"3b4a":function(t,e,a){"use strict";var i=a("ebc4");a.n(i).a},"410a":function(t,e,a){},"419a":function(t,e,a){"use strict";var i=a("18d4");a.n(i).a},4307:function(t,e,a){"use strict";var i=a("f0f3");a.n(i).a},"43c3":function(t,e,a){"use strict";var i=a("5a9f").a,o=(a("1bf8"),a("2877")),s=Object(o.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:{show:t.loading},expression:"{ show: loading }"}],staticClass:"side"},[a("ul",{staticClass:"side-right-tabs"},t._l(t.tabList,(function(e,i){return a("li",{key:i+"tabList",staticClass:"tabs-item",class:{"is-active":t.nowTab!==e.type},on:{click:function(a){return t.toggleTabs(e.type)}}},[t._v(" "+t._s(t.title[e.type])+" ")])})),0),a("div",{staticClass:"total-text"},[a("div",{staticClass:"title-text"},[t._v(t._s(t.$t("design.tableEidt")))])]),a("div",{staticClass:"middle"},["style"!==t.nowTab||t.isModule?t._e():t._l(t.style.type,(function(e,i){return a("div",{key:i+"style",staticClass:"styles-item",class:{hideDetail:!t.style[e].hideSetting}},[a("div",{staticClass:"style-title",on:{click:function(a){return t.switchDetailShow({type:t.nowTab,value:e})}}},[a("div",{staticClass:"icon-traingle"}),a("i",{staticClass:"icon iconfont",class:t.subTitle[t.nowTab][e].icon}),a("div",{staticClass:"style-title-text"},[t._v(t._s(t.subTitle[t.nowTab][e].text))])]),a("div",{staticClass:"forms"},t._l(t.style[e].type,(function(i,o){return a("div",{key:o+"style1",staticClass:"form"},[t._l(i,(function(i,o){return["colorPickerComponent"==t.style[e][i].alias&&t.style[e][i].filter?a("div",{key:o+"style2",staticClass:"line",class:t.style[e][i].classList,attrs:{name:i},on:{mousedown:function(a){return t.setCurrentType({value:e,v:i,type:t.nowTab,e:a})},click:function(e){return e.stopPropagation(),t.useColor()}}},[a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:t.style[e][i].toolTip,expression:"style[value][v].toolTip",modifiers:{bottom:!0}}],staticClass:"dropDown onlyicon pointer"},[a("div",{staticClass:"dropDown-icon"},[a("i",{class:t.style[e][i].iconClass}),a("div",{staticClass:"color-show",style:{"background-color":t.currentStyle.currentStyle[e][i]}})])])]):"dropDownComponent"==t.style[e][i].alias&&t.style[e][i].filter?a("dropdown",{key:o+"style3",staticClass:"line",class:t.style[e][i].classList,attrs:{name:i,configs:t.style[e][i].dropDownData,value:t.getData.dataresource[i]||t.currentStyle.currentStyle[e][i]},on:{change:function(a){return t.dropdownChanged(a,{value:e,v:i,type:t.nowTab})}}},[a("div",{staticClass:"dropDown dropDownShadow pointer"},[a("div",{staticClass:"dropDown-icon"},[a("i",{class:t.style[e][i].iconClass})]),t.style[e][i].oparateFlag&&!t.style[e][i].dataFlag?a("input",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:t.lastOperate.currentStatus[i],expression:"lastOperate.currentStatus[v]",modifiers:{bottom:!0}}],staticClass:"dropDown-input",attrs:{readonly:"",unselectable:"on"},domProps:{value:t.lastOperate.currentStatus[i]}}):t.style[e][i].dataFlag&&t.style[e][i].oparateFlag?a("input",{staticClass:"dropDown-input",attrs:{readonly:"",unselectable:"on"},domProps:{value:t._f("showINput")(t.getData.dataresource&&t.getData.dataresource[i],t.style[e][i].dropDownData.showKey)}}):a("input",{staticClass:"dropDown-input",attrs:{readonly:"",unselectable:"on"},domProps:{value:t._f("showVal")(t.currentStyle.currentStyle[e][i],t.style[e][i])}})])]):"moduleWindowComponent"==t.style[e][i].alias&&t.style[e][i].filter?a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:t.style[e][i].toolTip,expression:"style[value][v].toolTip",modifiers:{bottom:!0}}],key:o+"style3",staticClass:"line",class:t.style[e][i].classList,attrs:{name:i},on:{mousedown:function(a){return t.setCurrentType({value:e,v:i,type:t.nowTab,e:a})},click:function(e){return t.showModule(i)}}},[a("div",{staticClass:"labelIcon"},[a("span",[t._v(t._s(t.transModuleMsg.style[i]))]),a("i",{class:t.style[e][i].iconClass})])]):t.style[e][i].filter&&""===t.style[e][i].alias?a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:t.style[e][i].toolTip,expression:"style[value][v].toolTip",modifiers:{bottom:!0}}],key:o+"style4",staticClass:"line",class:t.style[e][i].classList,attrs:{name:i},on:{mousedown:function(a){return t.setCurrentType({value:e,v:i,type:t.nowTab,e:a})},click:t.toggle}},[a("div",{staticClass:"checkbox checkboxAuto"},[a("span",{staticClass:"iconfont",class:[t.lastOperate.currentStatus[i]?"icon-checkbox":"icon-checkbox-no",t.style[e][i].iconClass]}),a("span",{staticStyle:{cursor:"pointer"}},[t._v(t._s(t.showStyleMsg[i]))])])]):a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:t.style[e][i].toolTip,expression:"style[value][v].toolTip",modifiers:{bottom:!0}}],key:o+"style5",staticClass:"line",class:[t.style[e][i].classList,{"icon-active":i=="align"+t.currentStyle.currentStyle[e][t.style[e][i].key]}],attrs:{name:i},on:{mousedown:function(a){return t.setCurrentType({value:e,v:i,type:t.nowTab,e:a})},click:t.outercept}},[a("span",{staticClass:"iconfont",class:t.style[e][i].iconClass})])]}))],2)})),0)])})),"data"!==t.nowTab||t.isModule?t.isModule?[a("div",{staticClass:"styles-item noBg noBorderLeft"},[a("div",{staticClass:"forms"},[a("div",{staticClass:"line width-10"},[a("div",{staticClass:"line-middle"},[a("div",{staticClass:"buttonArea dataFormatReturn",on:{click:function(e){t.isModule=!1}}},[t._m(0),a("div",{staticClass:"buttonText"},[t._v(t._s(t.$t("design.lineReturn")))])])])]),a("div",{staticClass:"line width-10"},[a("div",{staticClass:"buttonArea dataFormatAdd",on:{click:function(e){return t.addItem(t.currentType)}}},[t._m(1),a("div",{staticClass:"buttonText"},[t._v(t._s(t.$t("design.lineAdd")))])])])])]),a("div",{staticClass:"styles-item noBorderLeft"},t._l(t.moduleMsg.type,(function(e,i){return a("div",{key:i+"moduleMsg",staticClass:"forms"},[t.currentType===e?a("div",t._l(t.moduleMsg[e].reback,(function(i,o){return a("div",{key:o+"moduleMsg1",staticClass:"item",attrs:{index:o}},[a("div",{staticClass:"line width-10 textRight"},[a("div",{staticClass:"line-middle"},[a("div",{staticClass:"buttonArea dataFormatDelete"},[a("div",{staticClass:"buttonIcon",on:{click:function(a){return t.deleteItem(o,e)}}},[a("span",{staticClass:"iconfont icon-close"})])])])]),t._l(t.moduleMsg[e].type,(function(o,s){return a("div",{key:s+"moduleMsg2",staticClass:"line width-10",attrs:{name:t.currentType+"-"+o},on:{mousedown:function(a){return t.setCurrentType({value:e,v:o,type:"moduleMsg",e:a})},click:function(a){return a.stopPropagation(),t.showListPlugin(e,o,"moduleMsg")}}},[t.transModuleMsg[t.nowTab][o]?a("div",{staticClass:"line-left-5",class:"decimal"===o?"line-left-8":""},[t._v(t._s(t.transModuleMsg[t.nowTab][o]))]):t._e(),a("div",{staticClass:"line-middle"},[a("dropdown",{staticClass:"dropDown fullBorderDropDown iconMsg dropDownShadow pointer",attrs:{configs:t.moduleMsg[e][o].dropDownData,value:t.getData.dataresource&&t.getData.dataresource[t.moduleMsg[e][o].dropDownData.idKey]},on:{change:function(a){return t.dropdownChanged(a,{value:e,v:t.dt,type:"moduleMsg"})}}},[a("input",{staticClass:"dropDown-input",attrs:{readonly:t.moduleMsg[e][o].readonly,unselectable:"on",type:"text"},domProps:{value:t._f("showModuleMsg")(i[o],t.moduleMsg[e][o].dropDownData.showKey)}})])],1)])}))],2)})),0):t._e()])})),0)]:t._e():[t._t("blockName"),t._t("typeToggle"),t._l(t.data.type,(function(e,i){return a("div",{key:i+"dataType",staticClass:"styles-item noBg",class:{hideDetail:!t.data[e].hideSetting}},[a("div",{staticClass:"style-title",on:{click:function(a){return t.switchDetailShow({type:t.nowTab,value:e})}}},[a("div",{staticClass:"icon-traingle"}),a("i",{staticClass:"icon iconfont",class:t.subTitle[t.nowTab][e].icon}),a("div",{staticClass:"style-title-text"},[t._v(t._s(t.subTitle[t.nowTab][e].text))])]),"model"!==e||t.showMode?t._e():a("excel",{staticStyle:{"margin-top":"4px"},on:{transferData:t.getModelFromExcel}}),"model"===e?a("div",{staticClass:"forms"},[a("ul",{staticClass:"code-right-tabs"},[a("ul",{staticClass:"ul-default left"},t._l(t.radioChange,(function(e){return a("li",{key:e.value,staticClass:"li-radio pointer",on:{click:function(a){return t.changeShowType(e.value)}}},[t.isStaticData===e.value?a("span",{staticClass:"iconfont icon-radio-selected",attrs:{vl:t.isStaticData+"="+e.value}}):a("span",{staticClass:"iconfont icon-radio-unselected",attrs:{vl:t.isStaticData+"="+e.value}}),a("span",[t._v(t._s(e.name))])])})),0)]),"data"===t.nowTab&&t.showMode?a("staticDataModel",{attrs:{staticDataSource:t.staticDataSource,blockType:"table"},on:{updateData:t.updateStaticData}}):t._e()],1):t._e(),"data"!==t.nowTab||t.showMode?t._e():a("div",{staticClass:"forms"},t._l(t.data[e].type,(function(i,o){return a("div",{key:o+"datatype1",staticClass:"line width-10",staticStyle:{height:"auto"}},[t._l(i,(function(i,o){return["chooseRoot"===i?a("div",{key:o+"datatype2"},[a("ul",{staticClass:"root-tabs"},t._l(t.data[e][i],(function(e,i){return a("li",{key:i+"datavalue",staticClass:"li-tab",class:{active:e.value===t.nowIndex},on:{click:function(e){return t.toggleFolderTabs(i)}}},[t._v(" "+t._s(e.name)+" ")])})),0)]):t._e(),t.showDataMsg[i]?a("div",{key:o+"datavalue2",staticClass:"line-left-5"},[a("span",[t._v(t._s(t.showDataMsg[i]))]),t.data[e][i].edit?a("editColumn",{staticClass:"edit-column",attrs:{isPolyNull:!0,columns:t.getData.dataresource&&t.getData.dataresource.polys},on:{updateData:t.updatePolyData}}):t._e()],1):t._e(),"dropDownComponent"==t.data[e][i].alias&&t.data[e][i].filter?a("dropdown",{key:o+"datavalue3",staticClass:"line-middle",attrs:{name:i,configs:t.data[e][i].dropDownData,type:"button",value:t.getFilterValue(e,i)},on:{change:function(a){return t.dropdownChanged(a,{value:e,v:i,type:t.nowTab})}}},[a("div",{staticClass:"dropDown fullBorderDropDown iconMsg dropDownShadow pointer",on:{click:function(a){return t.showListPlugin(e,i,t.nowTab)}}},[a("input",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:t.getData.dataresource&&t.getData.dataresource[t.data[e][i].showInInput],expression:"getData.dataresource && getData.dataresource[data[value][v].showInInput]",modifiers:{bottom:!0}}],staticClass:"dropDown-input",attrs:{readonly:"",unselectable:"on"},domProps:{value:t._f("showINput")(t.getData.dataresource&&t.getData.dataresource[t.data[e][i].showInInput],t.data[e][i].dropDownData.showKey,t.data[e][i].dropDownData.placeholder)}})])]):"moduleWindowComponent"==t.data[e][i].alias&&t.data[e][i].filter?a("div",{key:o+"datavalue4",staticClass:"line-middle",attrs:{name:i,type:"button"},on:{click:function(e){return t.showModule(i)}}},[a("div",{staticClass:"buttonArea leftFiveToFormat"},[a("span",{staticClass:"buttonIcon"},[a("span",{staticClass:"iconfont",class:t.data[e][i].iconClass})])])]):t.data[e][i].filter&&""===t.data[e][i].alias?a("button",{key:o+"datavalue5",staticClass:"line-middle tableChangeCheckBox pointer",attrs:{name:i,type:"button"},on:{mousedown:function(a){return t.setCurrentType({value:e,v:i,type:t.nowTab,e:a})},click:t.toggle}},[a("span",{staticClass:"iconMsg icon-checkbox iconfont",class:t.getData.dataresource&&t.getData.dataresource[i]?"icon-checkbox":"icon-checkbox-no"})]):t._e(),t._l(t.data[e][i].type,(function(o,s){return a("div",{key:s+"datavalue6"},[t.data[e][i][o].filter&&""===t.data[e][i][o].alias?a("div",{key:s,staticClass:"line",class:t.data[e][i][o].classList,attrs:{title:i,name:i},on:{mousedown:function(a){return t.setCurrentType({value:e,v:o,type:t.nowTab,e:a})},click:function(e){return t.toggle(!1)}}},[a("div",{staticClass:"checkbox checkboxAuto"},[a("span",{staticClass:"iconfont",class:[t.getData.dataresource&&t.getData.dataresource[o]?t.data[e][i][o].range[1]:t.data[e][i][o].range[0],t.data[e][i][o].iconClass]}),a("span",[t._v(t._s(t.data[e][i][o].title))])])]):t.data[e][i][o].filter&&"input"===t.data[e][i][o].alias&&t.getData.dataresource&&t.getData.dataresource[t.data[e][i][o].showflag.settingName]?a("div",{key:s,staticClass:"line",class:t.data[e][i][o].classList,on:{mousedown:function(a){return t.setCurrentType({value:e,v:o,type:t.nowTab,e:a})}}},[t.data[e][i][o].title?a("div",{staticClass:"iconInput-text",staticStyle:{"line-height":"30px"}},[t._v(t._s(t.data[e][i][o].title)+":")]):t._e(),a("input",{staticClass:"iconInput-input",attrs:{type:"text",spellcheck:"false"},domProps:{value:t.getData.dataresource&&t.getData.dataresource[o]},on:{change:function(e){return t.transformData(e.target.value)}}})]):t._e(),t.data[e][i][o].filter&&"dropDownComponent"===t.data[e][i][o].alias&&t.getData.dataresource&&t.getData.dataresource[t.data[e][i][o].showflag.settingName]?a("div",{key:s,staticClass:"line",staticStyle:{display:"flex"}},[t.data[e][i][o].title?a("div",{staticClass:"line-left-5",staticStyle:{"line-height":"30px"}},[t._v(t._s(t.data[e][i][o].title)+":")]):t._e(),a("dropdown",{staticClass:"dropDown fullBorderDropDown iconMsg pointer",staticStyle:{flex:"1"},attrs:{name:i,configs:t.animationMsg[e][o].dropDownData},on:{change:function(a){return t.dropdownChanged(a,{value:e,v:o,type:"animationMsg"})}}},[a("input",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:t.getData.dataresource&&t.getData.dataresource[t.data[e][i].showInInput],expression:"getData.dataresource && getData.dataresource[data[value][v].showInInput]",modifiers:{bottom:!0}}],staticClass:"dropDown-input",staticStyle:{width:"calc(100% - 25px)"},attrs:{readonly:"",unselectable:"on"},domProps:{value:t.getData.dataresource&&t.getData.dataresource[t.data[e][i][o].showInInput]&&t.getData.dataresource[t.data[e][i][o].showInInput][t.data[e][i][o].dropDownData.showKey]},on:{mousedown:function(a){return t.setCurrentType({value:e,v:o,type:"animationMsg",e:a})},click:function(a){return a.stopPropagation(),t.showListPlugin(e,o,"animationMsg")}}})])],1):t._e()])}))]}))],2)})),0)],1)})),a("filterRule",{attrs:{filterRules:t.getData.dataresource&&t.getData.dataresource.filterRules,sourceFieldList:t.getData.cacheDataSource&&t.getData.cacheDataSource[t.nowIndex]&&t.getData.cacheDataSource[t.nowIndex].columnList},on:{updateData:t.updateFilterRules}})]],2)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"buttonIcon"},[e("span",{staticClass:"iconfont icon-left-arrow"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"buttonIcon"},[e("span",{staticClass:"iconfont icon-add-format"})])}],!1,null,"6bd9c22e",null);e.a=s.exports},"43d0":function(t,e,a){"use strict";(function(t){a("99af"),a("7db0"),a("0481"),a("caad"),a("c975"),a("fb6a"),a("a434"),a("4069"),a("b680"),a("ac1f"),a("2532"),a("5319"),a("1276");var i=a("53ca"),o=a("2909"),s=a("b85c"),n=a("5530"),r=a("8a15"),l=a("2f62");e.a={name:"reportSetting",props:["getData"],components:{imgList:r.a},data:function(){var t={fontSize:{items:[{val:"12px",real:"12"},{val:"13px",real:"13"},{val:"16px",real:"16"},{val:"18px",real:"18"},{val:"24px",real:"24"},{val:"32px",real:"32"},{val:"48px",real:"48"}],showKey:"val",idKey:"real",max:48,min:12},fontFamily:{items:[{val:this.$t("design.simSun"),real:"SimSun"},{val:this.$t("design.simHei"),real:"SimHei"},{val:this.$t("design.yaHei"),real:"Microsoft YaHei"},{val:this.$t("design.youYuan"),real:"YouYuan"},{val:this.$t("design.fangSong"),real:"STFangsong"}],showKey:"val",idKey:"real"},borderRadius:{items:[{val:"0px",real:"0"},{val:"10px",real:"10"},{val:"20px",real:"20"},{val:"30px",real:"30"},{val:"40px",real:"40"},{val:"50px",real:"50"}],showKey:"val",idKey:"real",max:50,min:0},opacity:{items:[{val:"0%",real:"0"},{val:"10%",real:"10"},{val:"20%",real:"20"},{val:"30%",real:"30"},{val:"40%",real:"40"},{val:"50%",real:"50"},{val:"60%",real:"60"},{val:"70%",real:"70"},{val:"80%",real:"80"},{val:"90%",real:"90"},{val:"100%",real:"100"}],showKey:"val",idKey:"real",max:100,min:0},borderWidth:{items:[{val:"0px",real:"0"},{val:"1px",real:"1"},{val:"2px",real:"2"},{val:"3px",real:"3"},{val:"4px",real:"4"},{val:"5px",real:"5"}],showKey:"val",idKey:"real",max:5,min:0},borderStyle:{items:[{val:"solid"},{val:"dotted"},{val:"dashed"},{val:"double"}],showKey:"val",idKey:"val"},layout:{items:[{text:this.$t("design.reportDesktop"),value:"CommonDesktop",size:{width:"1366px",height:"768px"}},{text:this.$t("design.reportBrowser"),value:"PcBrowser",size:{width:"1000px",height:"800px"}},{text:this.$t("design.reportFullScreen"),value:"FullScreen",size:{width:"1024px",height:"768px"}},{text:this.$t("design.reportA4P"),value:"A4Portrait",size:{width:"840px",height:"1190px"}},{text:this.$t("design.reportA4L"),value:"A4Landscape",size:{width:"1190px",height:"840px"}},{text:this.$t("design.reportLetterP"),value:"USletterPortrait",size:{width:"900px",height:"1200px"}},{text:this.$t("design.reportLetterL"),value:"USletterLandscape",size:{width:"1200px",height:"900px"}},{text:this.$t("design.reportScreenP"),value:"screenPortrait",size:{width:window.screen.availHeight+"px",height:window.screen.availWidth+"px"}},{text:this.$t("design.reportScreenL"),value:"screenLandscape",size:{width:window.screen.availWidth+"px",height:window.screen.availHeight+"px"}},{text:"iphone6",value:"iphone6Portrait",size:{width:"380px",height:"670px"}},{text:"iphone6Plus",value:"iphone6PlusPortrait",size:{width:"410px",height:"740px"}},{text:"Galaxy S5",value:"galaxyS5Portrait",size:{width:"360px",height:"640px"}},{text:this.$t("design.reportCustom"),value:"custom"}],showKey:"text",idKey:"value"},paramTimeUnit:{items:[{val:this.$t("design.reportParamTimeUnitDay"),real:"day"},{val:this.$t("design.reportParamTimeUnitWeek"),real:"week"},{val:this.$t("design.reportParamTimeUnitMonth"),real:"month"},{val:this.$t("design.reportParamTimeUnitQuarterly"),real:"quarterly"},{val:this.$t("design.reportParamTimeUnitYear"),real:"year"}],showKey:"val",idKey:"real"},paramTimeFormat:{items:[{val:"YYYYMMDD"},{val:"YYYY-MM-DD"},{val:"YYYY/MM/DD"},{val:"MMDD,YYYY"},{val:"MM-DD-YYYY"},{val:"MM/DD/YYYY"}],showKey:"val",idKey:"val"}};return{themeActiveStyle:{border:"2px solid #f00"},tabList:[{type:"data",name:this.$t("design.lineData")},{type:"style",name:this.$t("design.setting.lineStyle")}],settingContents:[{type:"data",children:[{name:this.$t("design.reportParam"),id:"reportParam",icon:"icon-param",children:[{showType:"button",title:this.$t("design.reportAddTimeParam"),class:"width-10",detailClass:"addParam",callback:"addParam",callValue:"time",disableRule:"addTimeParamDisableRule",buttonIcon:"icon-add-time-param"},{showType:"options-icon",name:this.$t("design.reportParamPosition")+" :",nameLength:"4",settingName:"paramStyleSetting.position",class:"width-10",detailClass:"averageCenter dividingLine",groups:[{title:this.$t("design.reportParamPositionTopLeft"),value:"topLeft",iconClass:"icon-top-left"},{title:this.$t("design.reportParamPositionTopCenter"),value:"topCenter",iconClass:"icon-top-center"},{title:this.$t("design.reportParamPositionTopRight"),value:"topRight",iconClass:"icon-top-right"}]}]}]},{type:"style",children:[{name:this.$t("design.echartsTheme"),id:"theme",icon:"icon-title",children:[{showType:"options-icon",settingName:"reportSetting.echartsTheme",class:"width-10 horizontal",detailClass:"averageCenter",groups:[{title:"custom",value:"custom",iconClass:"icon-custom-theme",liStyle:{width:"20%"}},{title:"bright",value:"bright",iconClass:"icon-bright-theme",liStyle:{width:"20%"}},{title:"business",value:"business",iconClass:"icon-business-theme",liStyle:{width:"20%"}},{title:"blue",value:"blue",iconClass:"icon-blue-theme",liStyle:{width:"20%"}},{title:"gentle",value:"gentle",iconClass:"icon-gentle-theme",liStyle:{width:"20%"}}]}]},{name:this.$t("design.reportShow"),id:"reportShow",icon:"icon-report-show",children:[{showType:"options-radio",settingName:"reportSetting.fullScreen",class:"width-10",detailClass:"averageCenter",groups:[{text:this.$t("design.reportFull"),value:!0},{text:this.$t("design.reportFullNot"),value:!1}]},{showType:"options-checkbox",settingName:"reportSetting.showPadding",text:this.$t("design.reportShowPadding"),class:"width-5"},{showType:"options-checkbox",showflag:{settingName:"reportSetting.fullScreen",value:!1},settingName:"reportSetting.showDirection",text:this.$t("design.reportShowDirection"),class:"width-5"}]},{name:this.$t("design.reportPageSize"),id:"pageSize",icon:"icon-pagesize",children:[{showType:"dropDown-icon-input",readonly:!0,settingName:"layout",class:"width-10",transformByArr:!0,dropDownSelectedCall:"changeDrawSize",dropDownData:{isShow:!1,defaultItem:"",dataSource:t.layout.items,showKey:t.layout.showKey,idKey:t.layout.idKey,dropDownStyle:{}}},{showType:"input",iconClass:"icon-width",title:this.$t("design.reportPageWidth"),settingName:"drawSize.width",class:"width-5",unit:"px",validate:{type:"number",unit:"px",max:7680,min:0,magnitude:10}},{showType:"input",iconClass:"icon-height",title:this.$t("design.reportPageHeight"),settingName:"drawSize.height",class:"width-5",unit:"px",validate:{type:"number",unit:"px",min:0,max:4320,magnitude:10}}]},{name:this.$t("design.reportPage"),id:"reportPage",icon:"icon-report-page",children:[{showType:"colorPicker-icon",title:this.$t("design.reportBackground"),settingName:"reportStyle.pageStyle.backgroundColor",class:"width-2",iconClass:"icon-bgcolor",isTransparent:!1},{showType:"dropDown-icon-input",readonly:!0,unit:"px",settingName:"reportStyle.blockStyle.fontSize",title:this.$t("design.reportFontSize"),class:"width-4",iconClass:"icon-font-size",transformByArr:!1,validate:{type:"number",min:t.fontSize.min,max:t.fontSize.max,unit:"px"},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.fontSize.items,showKey:t.fontSize.showKey,idKey:t.fontSize.idKey,dropDownStyle:{}}},{showType:"dropDown-icon-input",readonly:!0,settingName:"reportStyle.blockStyle.fontFamily",class:"width-4",iconClass:"icon-font-family",title:this.$t("design.reportFontFamily"),transformByArr:!0,dropDownData:{isShow:!1,defaultItem:"",dataSource:t.fontFamily.items,showKey:t.fontFamily.showKey,idKey:t.fontFamily.idKey,dropDownStyle:{}}}]},{name:this.$t("design.reportPageImage"),id:"reportPageBackgroundImage",icon:"icon-background-image",children:[{showType:"component",class:"width-10 heightAuto",component:"imgList",bindObj:{imgListObj:{nanoMaxHeight:"120px"}},onObj:{selectImageData:this.selectBackgroundImage}},{showType:"options-icon",settingName:"reportStyle.pageStyle.backgroundSize",class:"width-10",detailClass:"averageCenter dividingLine",changeCall:"backgroundSizeChange",groups:[{title:this.$t("design.reportPageImageFull"),value:"100% 100%",iconClass:"icon-full-size"},{title:this.$t("design.reportPageImageAuto"),value:"auto",iconClass:"icon-origin-size"},{title:this.$t("design.reportPageImageContain"),value:"contain",iconClass:"icon-suitable-size"}]},{showType:"options-icon",showflag:{settingName:"reportStyle.pageStyle.backgroundSize",value:["auto","contain"]},settingName:"reportStyle.pageStyle.backgroundRepeat",class:"width-10",detailClass:"averageCenter4 dividingLine",groups:[{title:this.$t("design.reportPageImageNoRepeat"),value:"no-repeat",iconClass:"icon-image-no-repeat"},{title:this.$t("design.reportPageImageRepeatX"),value:"repeat-x",iconClass:"icon-image-repeat-x"},{title:this.$t("design.reportPageImageRepeatY"),value:"repeat-y",iconClass:"icon-image-repeat-y"},{title:this.$t("design.reportPageImageRepeat"),value:"repeat",iconClass:"icon-image-repeat"}]},{showType:"options-icon",showflag:{settingName:"reportStyle.pageStyle.backgroundSize",value:["auto","contain"]},settingName:"reportStyle.pageStyle.backgroundPositionX",class:"width-5 horizontal",detailClass:"averageCenter",groups:[{title:this.$t("design.linePositionLeft"),value:"left",iconClass:"icon-horizontal-left"},{title:this.$t("design.linePositionCenter"),value:"center",iconClass:"icon-horizontal-center"},{title:this.$t("design.linePositionRight"),value:"right",iconClass:"icon-horizontal-right"}]},{showType:"options-icon",showflag:{settingName:"reportStyle.pageStyle.backgroundSize",value:["auto","contain"]},settingName:"reportStyle.pageStyle.backgroundPositionY",class:"width-5 horizontal",detailClass:"averageCenter borderLeft",groups:[{title:this.$t("design.linePositionTop"),value:"top",iconClass:"icon-vertical-top"},{title:this.$t("design.linePositionCenter"),value:"center",iconClass:"icon-vertical-middle"},{title:this.$t("design.linePositionBottom"),value:"bottom",iconClass:"icon-vertical-bottom"}]}]},{name:this.$t("design.reportPageNum"),id:"reportPageNum",icon:"icon-page-num",children:[{showType:"options-checkbox",settingName:"reportStyle.pageNum.show",text:this.$t("design.reportPageNumShow"),class:"width-5"},{showType:"options-icon",name:this.$t("design.reportParamPosition")+" :",nameLength:"4",settingName:"reportStyle.pageNum.position",class:"width-10",detailClass:"averageCenter3 dividingLine",groups:[{title:this.$t("design.reportPageNumPositionBottomLeft"),value:"bottomLeft",iconClass:"icon-bottom-left"},{title:this.$t("design.reportPageNumPositionBottomCenter"),value:"bottomCenter",iconClass:"icon-bottom-center"},{title:this.$t("design.reportPageNumPositionBottomRight"),value:"bottomRight",iconClass:"icon-bottom-right"}]}]},{name:this.$t("design.reportBgAndBorder"),id:"bgAndBorder",icon:"icon-bgAndBorder",children:[{showType:"colorPicker-icon",title:this.$t("design.reportBackground"),settingName:"reportStyle.blockStyle.backgroundColor",class:"width-2",iconClass:"icon-bgcolor",isTransparent:!0},{showType:"dropDown-icon-input",title:this.$t("design.reportBorderRadius"),readonly:!0,unit:"px",settingName:"reportStyle.blockStyle.borderRadius",class:"width-4",iconClass:"icon-rounded-corner",transformByArr:!1,validate:{type:"number",min:t.borderRadius.min,max:t.borderRadius.max,unit:"px"},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.borderRadius.items,showKey:t.borderRadius.showKey,idKey:t.borderRadius.idKey,dropDownStyle:{}}},{showType:"dropDown-icon-input",title:this.$t("design.reportOpacity"),readonly:!0,unit:"%",settingName:"reportStyle.blockStyle.opacity",class:"width-4",iconClass:"icon-opacity",transformByArr:!1,validate:{type:"number",min:t.opacity.min,max:t.opacity.max,scale:.01,numFormat:1},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.opacity.items,showKey:t.opacity.showKey,idKey:t.opacity.idKey,dropDownStyle:{}}},{showType:"colorPicker-icon",title:this.$t("design.reportBorderColor"),settingName:"reportStyle.blockStyle.borderColor",class:"width-2",iconClass:"icon-dropcolor",isTransparent:!0},{showType:"dropDown-icon-input",title:this.$t("design.reportBorderWidth"),readonly:!0,unit:"px",settingName:"reportStyle.blockStyle.borderWidth",class:"width-4",iconClass:"icon-linewidth",transformByArr:!1,validate:{type:"number",min:t.borderWidth.min,max:t.borderWidth.max,unit:"px"},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.borderWidth.items,showKey:t.borderWidth.showKey,idKey:t.borderWidth.idKey,dropDownStyle:{}}},{showType:"dropDown-icon-input",title:this.$t("design.reportBorderStyle"),readonly:!0,settingName:"reportStyle.blockStyle.borderStyle",class:"width-4",iconClass:"icon-borderstyle",transformByArr:!1,dropDownData:{isShow:!1,defaultItem:"",dataSource:t.borderStyle.items,showKey:t.borderStyle.showKey,idKey:t.borderStyle.idKey,dropDownStyle:{"min-width":"80px"}}}]}]}],timeParamSetting:[{showType:"text",text:this.$t("design.reportParamType")+" : "+this.$t("design.reportTimeParam"),class:"width-8",detailClass:"paramType"},{showType:"button",class:"width-2",detailClass:"deleteParam",settingName:"",callback:"deleteParam",callValue:"",buttonText:"×"},{showType:"dropDown-icon-input",readonly:!0,name:this.$t("design.reportParamTimeUnit")+" : ",nameLength:"6",settingName:"unit",class:"width-10",detailClass:"fullBorderDropDown",transformByArr:!0,dropDownSelectedCall:"changeTimeParamUnit",dropDownData:{isShow:!1,defaultItem:"",dataSource:t.paramTimeUnit.items,showKey:t.paramTimeUnit.showKey,idKey:t.paramTimeUnit.idKey,dropDownStyle:{}}},{showType:"options-radio",name:this.$t("design.reportParamTimeShow")+" : ",nameLength:"6",settingName:"timeShow",class:"width-10",groups:[{text:this.$t("design.reportParamTimePoint"),value:"point"},{text:this.$t("design.reportParamTimePeriod"),value:"period"}],relative:[{settingName:"startTime",val:10}]},{showType:"dropDown-icon-input",readonly:!0,name:this.$t("design.reportParamTimeFormat")+" : ",nameLength:"6",settingName:"timeFormat",class:"width-10",detailClass:"fullBorderDropDown",showflag:{settingName:"unit",value:["day","month"]},transformByArr:!0,dropDownData:{isShow:!1,defaultItem:"",dataSource:t.paramTimeFormat.items,showKey:t.paramTimeFormat.showKey,idKey:t.paramTimeFormat.idKey,dropDownStyle:{}}},{showType:"dropDown-icon-input",readonly:!0,name:this.$t("design.reportParamTimeStart")+" : ",nameLength:"8",settingName:"startTime",class:"width-10",detailClass:"fullBorderDropDown",transformByArr:!0,showflag:{settingName:"timeShow",value:"period"},dropDownBuilder:"paramTimeOptionBuilder",dropDownData:{isShow:!1,defaultItem:"",dataSource:[],showKey:"text",idKey:"value",dropDownStyle:{}}},{showType:"dropDown-icon-input",readonly:!0,name:this.$t("design.reportParamTimeEnd")+" : ",nameLength:"8",settingName:"endTime",class:"width-10",detailClass:"fullBorderDropDown",transformByArr:!0,dropDownBuilder:"paramTimeOptionBuilder",dropDownData:{isShow:!1,defaultItem:"",dataSource:[],showKey:"text",idKey:"value",dropDownStyle:{}}}],dimensionParamSetting:[{showType:"text",text:this.$t("design.reportParamType")+" : "+this.$t("design.reportDimensionParam"),class:"width-8",detailClass:"paramType"},{showType:"button",class:"width-2",detailClass:"deleteParam",settingName:"",callback:"deleteParam",callValue:"",buttonIcon:"icon-close"}],timeParamDefaultSetting:{type:"time",unit:"day",timeShow:"point",timeFormat:"YYYYMMDD",startTime:10,endTime:1},dimensionParamDefaultSetting:{type:"dimension"},timePeriod:{default:{before:this.$t("design.reportParamTimeOptionBefore"),max:10,min:1,unit:""},day:{unit:this.$t("design.reportParamTimeOptionDay")},week:{unit:this.$t("design.reportParamTimeOptionWeek"),onlyFormat:"YYYYMMDD"},month:{unit:this.$t("design.reportParamTimeOptionMonth")},quarterly:{unit:this.$t("design.reportParamTimeOptionQuarterly"),onlyFormat:"YYYYMMDD"},year:{unit:this.$t("design.reportParamTimeOptionYear"),onlyFormat:"YYYYMMDD"}},nowTab:"style",nowContent:"",errorText:"",colorPickerOptions:{color:"#000000",flat:!1,isTransparent:!1,flexLeft:-176,flexTop:0},pickerUser:"",currentDropDown:{user:"",dropDownData:{}},layoutDropdown:"",layout:t.layout,hideSettingList:[]}},computed:Object(n.a)({currentData:function(){var e=this.transformDrawSize(this.drawSize),a=t.extend(!0,{},this.getData);return a.drawSize={width:this.drawSize.width,height:this.drawSize.height,pageZoom:this.drawSize.pageZoom},a.layout=this.layoutDropdown?this.layoutDropdown:e[this.layout.idKey],a.param=this.paramSetting,a.paramStyleSetting=this.paramStyleSetting,a},transformSetting:function(){var e,a=t.extend(!0,[],this.settingContents),i=Object(s.a)(a);try{for(i.s();!(e=i.n()).done;){var n=e.value;if("string"!=typeof n.children){if("data"===n.type){var r,l=Object(s.a)(n.children);try{for(l.s();!(r=l.n()).done;){var c=r.value;if("reportParam"===c.id){var d,u=Object(s.a)(this.paramList);try{for(u.s();!(d=u.n()).done;){var h,p=d.value,g=void 0;"time"===p.type?g=t.extend(!0,[],this.timeParamSetting):"dimension"===p.type&&(g=t.extend(!0,[],this.dimensionParamSetting));var m,f=Object(s.a)(g);try{for(f.s();!(m=f.n()).done;){var w=m.value;if(void 0!==w.settingName&&(w.settingName="param."+p.id+"."+w.settingName),w.showflag&&(w.showflag.settingName="param."+p.id+"."+w.showflag.settingName),w.relative){var v,y=Object(s.a)(w.relative);try{for(y.s();!(v=y.n()).done;){var A=v.value;A.settingName="param."+p.id+"."+A.settingName}}catch(t){y.e(t)}finally{y.f()}}}}catch(t){f.e(t)}finally{f.f()}(h=c.children).push.apply(h,Object(o.a)(g))}}catch(t){u.e(t)}finally{u.f()}}}}catch(t){l.e(t)}finally{l.f()}}var D,S=Object(s.a)(n.children);try{for(S.s();!(D=S.n()).done;){var b,C=D.value,x=Object(s.a)(C.children);try{for(x.s();!(b=x.n()).done;){var k=b.value;switch(k.dropDownBuilder&&(k.dropDownData.dataSource=this[k.dropDownBuilder](k.settingName)),k.showType){case"input":k.trueValue=this.getValue(k.settingName,k.validate)+(k.unit?k.unit:"");break;case"options-icon":case"options-radio":case"options-checkbox":case"colorPicker-icon":case"seekBar":k.trueValue=this.getValue(k.settingName);break;case"dropDown-icon-input":k.trueValue=this.getValue(k.settingName,k.validate,k.transformByArr?k.dropDownData:void 0)+(k.unit?k.unit:"");break;case"button":k.disableFlag=!!k.disableRule&&this[k.disableRule]()}}}catch(t){x.e(t)}finally{x.f()}}}catch(t){S.e(t)}finally{S.f()}}}}catch(t){i.e(t)}finally{i.f()}return a},paramSetting:function(){var e,a={},i=Object(s.a)(this.paramList);try{for(i.s();!(e=i.n()).done;){var o=e.value;a[o.id]=t.extend(!0,{},o)}}catch(t){i.e(t)}finally{i.f()}return a}},Object(l.d)({drawSize:function(t){return t.draw.drawSize},colorPickerOpt:function(t){return t.colorPickerOpt},colorPickerSelected:function(t){return t.colorPickerSelected},drawSelected:function(t){return t.draw.selected},paramList:function(t){return t.reportParam.paramList},paramStyleSetting:function(t){return t.reportParam.paramStyleSetting}})),watch:{colorPickerSelected:function(){this.pickerUser&&this.getColor(this.colorPickerSelected)},colorPickerOpt:function(){!this.colorPickerOpt.flat&&this.pickerUser&&(this.pickerUser="")},drawSelected:function(){this.initParam()}},methods:Object(n.a)({emptyError:function(){this.errorText=""},initParam:function(){this.toggleTabs("style"),this.layoutDropdown="",this.hideSettingList=[]},getShowFlag:function(t){var e=this.getValue(t.settingName);return"object"===Object(i.a)(t.value)?t.value.includes(e):e===t.value},toggleTabs:function(t){this.emptyError(),this.nowTab=t,this.nowContent=""},toggleContent:function(t){this.emptyError(),this.nowContent=t},clickButton:function(t){this.emptyError();for(var e=arguments.length,a=new Array(e>1?e-1:0),i=1;i<e;i++)a[i-1]=arguments[i];this[t].apply(this,a)},switchDetailShow:function(t){if(t){var e=this.hideSettingList.indexOf(t);e>=0?this.hideSettingList.splice(e,1):this.hideSettingList.push(t)}},transformDrawSize:function(t){var e,a=this.layout,i=a.items.length,o=a.items[i-1],n=Object(s.a)(a.items);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r.size&&r.size.width===t.width&&r.size.height===t.height){o=r;break}}}catch(t){n.e(t)}finally{n.f()}return o},validateData:function(t,e,a){var i=e;return"number"===a.type?(i=parseFloat(i),isNaN(i)?i=this.getValue(t):("number"==typeof a.magnitude&&(i=Math.round(i/a.magnitude)*a.magnitude),"number"==typeof a.min&&(i=i<a.min?a.min:i),"number"==typeof a.max&&(i=i>a.max?a.max:i),"number"==typeof a.scale&&(i*=a.scale),"number"==typeof a.numFormat&&(i=parseFloat(i.toFixed(a.numFormat))),"string"==typeof a.unit&&(i+=a.unit))):"text"===a.type&&a.textLength&&(i=i.slice(0,a.textLength-1)),i},transformValue:function(t,e){var a=t;return"string"==typeof e.unit&&(a=a.replace(e.unit,"")),"number"==typeof e.scale&&(a=parseFloat(a)/e.scale),a},transformData:function(e,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=a,r=i.validate,l=i.relative;if(r&&(a=this.validateData(e,a,r)),a!==this.getValue(e)||n!==a){var c=[{settingName:e,val:a}];l&&(c=[].concat(Object(o.a)(c),Object(o.a)(l)));var d,u={},h=Object(s.a)(c);try{for(h.s();!(d=h.n()).done;){var p=d.value,g=p.settingName.split("."),m={};if(t.isArray(p.val)){for(var f={},w=g.length-1;w>=0;w--){var v=g[w],y={};w===g.length-1?f[v]="":(y[v]=f,f=y)}this.changeData(f)}for(var A=g.length-1;A>=0;A--){var D=g[A],S={};A===g.length-1?m[D]=p.val:(S[D]=m,m=S)}u=t.extend(!0,u,m)}}catch(t){h.e(t)}finally{h.f()}if(i.changeCall&&this[i.changeCall](e,a),"drawSize"===e.split(".")[0]){var b=t.extend(!0,{},this.drawSize,u.drawSize);this.checkDrawSize(b),this.drawChangeDrawSize(u.drawSize)}else"paramStyleSetting"===e.split(".")[0]?this.changeReportParamStyle(u.paramStyleSetting):"param"===e.split(".")[0]?this.editReportParam(u.param):"layout"!==e&&("fullScreen"===e.split(".")[1]&&(u.reportSetting.showDirection=!1),this.drawChangeReportStyle(u))}},getDropDownValue:function(t){var e=t.dropDownData,a=e.dataSource,i=e.showKey;return a.find((function(e){return e[i]===t.trueValue}))},getValue:function(t,e,a){var i,o=t.split("."),n=this.currentData,r=Object(s.a)(o);try{for(r.s();!(i=r.n()).done;){var l=i.value;if(!n){n="";break}n=n[l]}}catch(t){r.e(t)}finally{r.f()}if(n=void 0===n?"":n,e&&""!==n&&(n=this.transformValue(n,e)),a){var c,d=a.dataSource,u=!0,h=Object(s.a)(d);try{for(h.s();!(c=h.n()).done;){var p=c.value;if(p[a.idKey]===n){n=p[a.showKey],u=!1;break}}}catch(t){h.e(t)}finally{h.f()}u&&(n="")}return n},showDropDown:function(e){var a=t.extend(!0,{},e.dropDownData);this.currentDropDown=t.extend(!0,{},e),this.currentDropDown.dropDownData=a,this.currentDropDown.user=e.settingName},getDropDownSelected:function(t){var e=t[this.currentDropDown.dropDownData.idKey];this.currentDropDown.dropDownSelectedCall&&this[this.currentDropDown.dropDownSelectedCall](t),this.transformData(this.currentDropDown.user,e,this.currentDropDown)},showColorPicker:function(e,a,i){var o={};this.pickerUser===a?this.hideColorPickerPublic():(this.pickerUser=a,o.color=this.getValue(a),o.isTransparent=i,o.flat=!0,o.el="colorPicker"===t(e.target).attr("editRole")?e.target:t(e.target).parents('[editRole="colorPicker"]')[0],this.showColorPickerPublic(o))},getColor:function(t){this.transformData(this.pickerUser,t.hex)},changeDrawSize:function(t){t.size?(this.drawChangeDrawSize(t.size),this.layoutDropdown=""):this.layoutDropdown=t[this.currentDropDown.dropDownData.idKey]},checkDrawSize:function(){this.layoutDropdown=""},addTimeParamDisableRule:function(){var t,e=[],a=Object(s.a)(this.paramList);try{for(a.s();!(t=a.n()).done;){var i=t.value;"time"===i.type&&e.push(i)}}catch(t){a.e(t)}finally{a.f()}return e.length>=1},addParam:function(){var e=arguments.length<=0?void 0:arguments[0],a=arguments.length<=2?void 0:arguments[2],i={};a||("time"===e?i=t.extend(!0,{},this.timeParamDefaultSetting):"dimension"===e&&(i=t.extend(!0,{},this.dimensionParamDefaultSetting)),this.addReportParam(i))},deleteParam:function(){var t=arguments.length<=1?void 0:arguments[1],e=t.split(".")[1];this.deleteReportParam(e)},changeTimeParamUnit:function(e){var a=e[this.currentDropDown.dropDownData.idKey],i=t.extend(!0,{},this.timePeriod.default,this.timePeriod[a]),o=this.currentDropDown.user.split(".")[1],s="param."+o+".startTime",n="param."+o+".endTime",r="param."+o+".timeFormat";(this.getValue(s)<i.min||this.getValue(s)>i.max)&&this.transformData(s,i.max),(this.getValue(n)>i.max||this.getValue(n)<i.min)&&this.transformData(n,i.min),i.onlyFormat&&this.getValue(r)!==i.onlyFormat&&this.transformData(r,i.onlyFormat)},paramTimeOptionBuilder:function(e){var a=[],i=e.split(".")[1],o=e.split(".")[2],s=this.getValue("param."+i+".unit"),n=t.extend(!0,{},this.timePeriod.default,this.timePeriod[s]),r=n.max,l=n.min,c=n.unit,d=n.before;"startTime"===o&&(l=Math.max(l,this.getValue("param."+i+".endTime"))),"endTime"===o&&(r=Math.min(r,this.getValue("param."+i+".startTime")));for(var u=r;u>=l;u--){var h={text:d+u+c,value:u};a.push(h)}return a},selectBackgroundImage:function(t){this.transformData("reportStyle.pageStyle.backgroundImage",t.urlChoosed)},backgroundSizeChange:function(t,e){"100% 100%"===e&&(this.transformData("reportStyle.pageStyle.backgroundRepeat","no-repeat"),this.transformData("reportStyle.pageStyle.backgroundPositionX","center"),this.transformData("reportStyle.pageStyle.backgroundPositionY","center"))}},Object(l.b)({drawChangeDrawSize:"drawChangeDrawSize",drawChangeReportStyle:"drawChangeReportStyle",showColorPickerPublic:"showColorPicker",hideColorPickerPublic:"hideColorPicker",addReportParam:"addReportParam",editReportParam:"editReportParam",deleteReportParam:"deleteReportParam",changeReportParamStyle:"changeReportParamStyle"}))}}).call(this,a("1157"))},4407:function(t,e,a){},"4b7f":function(t,e,a){"use strict";var i=a("ad6c");a.n(i).a},"4c64":function(t,e,a){"use strict";var i=a("f968").a,o=(a("5be5"),a("2877")),s=Object(o.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("modal",{attrs:{properties:t.windowOpt},on:{afterClickButton:t.selectParam}},[a("div",{staticClass:"paramSelectWindow",attrs:{slot:"windowBody"},slot:"windowBody"},t._l(t.showParamSetting,(function(e){return a("div",{key:e.key,staticClass:"singleParam"},[a("div",{staticClass:"paramTitle"},[a("span",{staticClass:"paramName"},[t._v(t._s(t.paramName[e.key]))]),a("span",{staticClass:"paramValue"},[t._v(" "+t._s(t.selectedValue[e.key].realDate)+" ")])]),a("div",{staticClass:"TimeParam",attrs:{id:e.key+"ParamSetting"}},[a("my97DatePicker",{attrs:{properties:t.dataPickerOpt[e.key]},on:{onpicked:function(a){return t.selectValue(a,e)}}})],1)])})),0)])}),[],!1,null,null,null);e.a=s.exports},"4d25":function(t,e,a){"use strict";var i=a("9db3").a,o=(a("1c5e"),a("2877")),s=Object(o.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"styles-item noBg filter-comp",class:[t.hideDetail?"hideDetail":""]},[a("div",{staticClass:"style-title",on:{click:t.switchDetailShow}},[a("div",{staticClass:"icon-traingle"}),a("div",{staticClass:"iconfont icon-filter"}),a("div",{staticClass:"style-title-text filter-title"},[t._v(t._s(t.$t("design.flyLineRule")))])]),a("div",{staticClass:"forms filter-form"},[t._l(t.showFilters,(function(e,i){return a("div",{key:i},[[a("div",{staticClass:"line width-44"},[a("div",{staticClass:"dropDown pointer noIconDropDown",attrs:{editRole:"dropDown"},on:{click:function(e){return e.stopPropagation(),t.showDropDown(e,"fromId",i)}}},[a("div",{staticClass:"dropDown-input-box"},[a("input",{staticClass:"dropDown-true-input pointer",attrs:{type:"text",spellcheck:"false",readonly:!0,placeholder:t.$t("design.fromArea")},domProps:{value:e.fromName}})])])]),a("div",{staticClass:"line oper-text"},[a("span",{staticClass:"text"},[t._v(t._s("-"))])]),a("div",{staticClass:"line width-44"},[a("div",{staticClass:"dropDown pointer noIconDropDown",attrs:{editRole:"dropDown"},on:{click:function(e){return e.stopPropagation(),t.showDropDown(e,"toId",i)}}},[a("div",{staticClass:"dropDown-input-box"},[a("input",{staticClass:"dropDown-true-input pointer",attrs:{type:"text",spellcheck:"false",readonly:!0,placeholder:t.$t("design.toArea")},domProps:{value:e.toName}})])])]),a("div",{staticClass:"line delete-icon"},[a("div",{staticClass:"iconfont icon-close",on:{click:function(e){return e.stopPropagation(),t.deleteFilter(i)}}})])]],2)})),a("div",{staticClass:"line add-btn"},[a("span",{staticClass:"text",on:{click:t.addFilter}},[t._v(t._s(t.$t("design.addFlyLine")))])])],2)])}),[],!1,null,"5bc720be",null);e.a=s.exports},"4ef0":function(t,e,a){"use strict";var i=a("a6c5");a.n(i).a},5170:function(t,e,a){"use strict";var i=a("ea71");a.n(i).a},"55a4":function(t,e,a){"use strict";var i=a("f71c");a.n(i).a},5602:function(t,e,a){"use strict";var i=a("28f4");a.n(i).a},"57e3":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeQAAABlCAYAAACcNZAwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA0ZJREFUeNrs3b1LVWEcwPFTWCqUVy2vGbZFZC9TLbpUS9FQNFY0BL1QW5pCTfkSjpqi0V8QSkENBQUNRpCBNAqOUdKLkV3z7Wg37RypNdKEp+HzgXu2c4ff8uU8w/NbMzMze352Ni6IAIAgiouL8gXJo/rs6SumAQCB9D+4Ey19GQ++fG0aABDQWiMAAEEGAAQZAAQZABBkABBkAECQAUCQAQBBBgBBBgAEGQAEGQAQZAAQZABAkAFAkAEAQQYAQQYABBkABBkAEGQAEGQAQJABQJABAEEGAEEGAAQZAAQZABBkABBkAECQAUCQAQBBBgBBBgAEGQAEGQAQZAAQZABAkAFAkAEAQQYAQQYABBkABBkAEGQAEGQAQJABQJABAEEGAEEGAAQZAAQZABBkABBkAECQAUCQAQBBBgBBBgAEGQAEGQAQZAAQZABAkAFAkAEAQQYABBkA/ocgz8/P52vr9pkEAIQM8kRu8mnX7baFksxG0wCAUEGuyG4aWl+4bqyh6aJpAECoIKeP8vLSvlNnTvxwdA0AAYOcyMXx3EBLe+OCkQBAuCBHZWWZF1VV2W/1jq4BIFyQU5nSkr76xgvR7j07TAYAQgU58fHD+7FXre1Njq4BIGCQo6qt2Sc7a7bPnbt4ynQAIFSQUxtLNvQ3Xb+8UL2tyoQAIFSQE2/Gv+SGO7qbTQgAAgY5Sr6OH9fs2h4fOXrQlAAgVJATcaa05OGt3hbXagJAwCCnRqYmp0c7um+YFAAEDHJUuaXi7oFDtTZCAUDIICfibxM2QgFA6CBHNkIBwH8Q5NTvjVCu1QSAgEFO5PLf84OdPS2u1QSAgEFOb/B6lq3cPGkjFACsrjWLi4vLfWdL8rtUt/94NPrugwkCwD96+2loeV/IvyxthOrqbXV0DQCrZCVBTjdCDdgIBQCBg5yI041Qjdcu2QgFAAGDnHrzdXxiuPnmVVMEgIBBXtoIlV6raSMUAAQMciIuLFx/v7OnZdG1mgAQLsipkemp6XfNbQ2mCQABg7y0EerYicM2QgFAyCAn4pmZ2ec2QgHAyhSs1h+VlWVefB77sre5rSF7r++RyQLAMqzk6sw/KR0fz500VgD4e8XFRfmfAgwAqdyxEcq9i4MAAAAASUVORK5CYII="},"59f0":function(t,e,a){"use strict";(function(t){a("7db0"),a("0481"),a("4069"),a("cca6");var i=a("ade3"),o=a("5530"),s=a("2f62"),n=a("eee9"),r=a("ec06");e.a={name:"paramText",props:["getData","reportSetting"],data:function(){var t,e={title:{style:this.$t("design.textStyle")},subTitle:{font:{text:this.$t("design.textSubTitleFont"),icon:"icon-text-font"},box:{text:this.$t("design.textSubTitleBox"),icon:"icon-bgAndBorder"},justify:{text:this.$t("design.textSubTitleJustify"),icon:"icon-horizontal-align"}}};return Object(o.a)(Object(o.a)({},e),{},{nowContent:"",nowTab:"style",currentBtn:null,tabList:[{type:"style",name:"属性/样式"}],style:{type:["font","justify"],font:{subTitle:"字体",hideSetting:!0,type:[["foreColor","fontSize","fontFamily"],["bold","italic","underline","orderList"]],foreColor:{toolTip:this.$t("design.testForeColor"),filter:!0,alias:"colorPickerComponent",classList:["width-2"],iconClass:["iconfont","icon-font"]},fontSize:{toolTip:this.$t("design.testFontSize"),filter:!0,alias:"dropDownComponent",classList:["width-4"],iconClass:["iconfont","icon-font-size"],showKey:"val",idKey:"real",defaultItem:"16px",dataSource:[{real:"12px",val:"12px"},{real:"13px",val:"13px"},{real:"16px",val:"16px"},{real:"18px",val:"18px"},{real:"24px",val:"24px"},{real:"32px",val:"32px"},{real:"48px",val:"48px"}]},fontFamily:(t={toolTip:this.$t("design.testFontName"),filter:!0,alias:"dropDownComponent",classList:["width-4"],iconClass:["iconfont","icon-font-family"],showKey:"val",idKey:"real",defaultItem:"Microsoft YaHei",dataSource:[{val:this.$t("design.simSun"),real:"SimSun"},{val:this.$t("design.simHei"),real:"SimHei"},{val:this.$t("design.yaHei"),real:"Microsoft YaHei"},{val:this.$t("design.youYuan"),real:"YouYuan"},{val:this.$t("design.fangSong"),real:"STFangsong"}]},Object(i.a)(t,"showKey","val"),Object(i.a)(t,"idKey","real"),t),bold:{toolTip:this.$t("design.testBold"),alias:"",filter:!1,execCommand:"bold",iconClass:["iconfont","icon-bold"],classList:["iconAverageCenterFour"],chekcType:"tagCtrl"},italic:{toolTip:this.$t("design.testItalic"),alias:"",filter:!1,eventType:"click",execCommand:"italic",iconClass:["iconfont","icon-italic"],classList:["iconAverageCenterFour"],chekcType:"tagCtrl"},underline:{toolTip:this.$t("design.testUnderline"),alias:"",filter:!1,iconClass:["iconfont","icon-underline"],classList:["iconAverageCenterFour"],execCommand:"underline",chekcType:"tagCtrl"},orderList:{toolTip:this.$t("design.testOrderList"),alias:"",filter:!1,iconClass:["iconfont","icon-order"],classList:["iconAverageCenterFour"],execCommand:["insertUnorderedList","insertOrderedList","insertOrderedList"],chekcType:"tagCtrl"}},justify:{subTitle:"对齐方式",hideSetting:!0,type:[["justifyLeft","justifyCenter","justifyRight"],["verticalTop","verticalCenter","verticalBottom"]],justifyLeft:{toolTip:this.$t("design.testJustifyLeft"),filter:!1,alias:"",classList:["tableTitleAlignBtn","noBorder"],iconClass:["iconfont","icon-alignleft"],execCommand:"left",oparateFlag:!1,chekcType:"justify"},justifyCenter:{toolTip:this.$t("design.testJustifyCenter"),filter:!1,alias:"",classList:["tableTitleAlignBtn"],iconClass:["iconfont","icon-alignmiddle"],execCommand:"center",oparateFlag:!1,chekcType:"justify"},justifyRight:{toolTip:this.$t("design.testJustifyRight"),filter:!1,alias:"",classList:["tableTitleAlignBtn"],iconClass:["iconfont","icon-alignright"],execCommand:"right",oparateFlag:!1,chekcType:"justify"},verticalTop:{toolTip:this.$t("design.testVerticalTop"),filter:!1,alias:"",classList:["tableTitleAlignBtn"],iconClass:["iconfont","icon-valign-top"],execCommand:"top",oparateFlag:!1,chekcType:"vertical"},verticalCenter:{toolTip:this.$t("design.testVerticalCenter"),filter:!1,alias:"",classList:["tableTitleAlignBtn"],iconClass:["iconfont","icon-valign-middle"],execCommand:"middle",oparateFlag:!1,chekcType:"vertical"},verticalBottom:{toolTip:this.$t("design.testVerticalBottom"),filter:!1,alias:"",classList:["tableTitleAlignBtn"],iconClass:["iconfont","icon-valign-bottom"],execCommand:"bottom",oparateFlag:!1,chekcType:"vertical"}}},colorPicker:{color:"#ff8080",flat:!1,flexLeft:0,flexTop:0,isTransparent:!0},map:{color:["foreColor","color"],size:["fontSize","font-size"],face:["fontFamily","font-family"]}})},components:{backgroundAndBorder:n.a,interActive:r.a},computed:Object(o.a)(Object(o.a)({},Object(s.d)({colorPickerOpt:function(t){return t.colorPickerOpt},colorPickerSelected:function(t){return t.colorPickerSelected}})),{},{currentStyle:function(){var e={font:["color","fontSize","fontFamily"],box:["borderColor","borderWidth","borderStyle","backgroundColor","borderRadius","opacity"]},a={};for(var i in e){for(var o={},s=0;s<e[i].length;s++){var n=e[i][s];""!==this.reportSetting[s]&&(o[n]=this.reportSetting[n])}a[i]=o}return a.font.foreColor="#000000",t.extend(!0,{},{currentStyle:a},{currentStyle:{box:this.getData.style}},{currentStyle:this.getData.setting})}}),watch:{colorPickerOpt:function(){var t=this;!this.colorPickerOpt.flat&&this.currentOpen&&this.$nextTick((function(){t.currentOpen=""}))},colorPickerSelected:function(){this.currentOpen&&"text"===this.colorPickerOpt.user&&this.getColor(this.colorPickerSelected)}},methods:Object(o.a)(Object(o.a)({},Object(s.b)({drawChangeSelectedData:"drawChangeSelectedData",showColorPickerPublic:"showColorPicker",hideColorPickerPublic:"hideColorPicker"})),{},{switchDetailShow:function(t){var e=t.type,a=t.value,i=this[e][a].hideSetting;this[e][a].hideSetting=!i},toggleTabs:function(t){this.nowTab=t,this.nowContent=""},setCurrentType:function(t){this.currentBtn=t},outercept:function(){var t=this.currentBtn,e=t.v,a=t.value,i=t.type,s=Object(o.a)({},this.currentBtn);if("orderList"===e){var n=this.currentStyle.currentStyle[a][e];n||(n=0),n=++n%3,Object.assign(s,{finalMsg:n})}else/^justify/.test(e)?Object.assign(s,{v:"justify",finalMsg:this[i][a][e].execCommand}):/^vertical/.test(e)?Object.assign(s,{v:"vertical",finalMsg:this[i][a][e].execCommand}):Object.assign(s,{finalMsg:this[i][a][e].execCommand});this.changeData(s)},useColor:function(){var t=this.currentBtn,e=t.e,a=t.value,i=t.v;if(this.currentOpen===i)this.hideColorPickerPublic(),this.currentOpen="";else{var o=this.find(e.target,"name").el,s="foreColor"!==i,n=this.currentStyle.currentStyle[a][i];Object.assign(this.colorPicker,{flat:!0,el:o,isTransparent:s,color:n,user:"text"}),this.currentOpen=i,this.showColorPickerPublic(this.colorPicker)}},getColor:function(t){var e=this.currentBtn,a=e.v,i=e.value,o=t.hex;this.changeData({v:a,value:i,finalMsg:o,type:"style"})},getListItem:function(t){this.changeData(Object(o.a)(Object(o.a)({},this.currentBtn),{},{finalMsg:t.real}))},changeData:function(t){var e,a,o=t.v,s=t.value,n=t.finalMsg,r=t.type;"style"===r&&("box"!==s?(r="setting",this.drawChangeSelectedData((e={},Object(i.a)(e,r,Object(i.a)({},s,Object(i.a)({},o,n))),Object(i.a)(e,"styleflag",!0),Object(i.a)(e,"current",r+":"+s+":"+o),e))):this.drawChangeSelectedData((a={},Object(i.a)(a,r,Object(i.a)({},o,n)),Object(i.a)(a,"styleflag",!0),Object(i.a)(a,"current",r+":"+s+":"+o),a)))},find:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"parentNode";if(t){for(;!t.getAttribute(e);)t=t[a];var o=t.getAttribute(e);return Object(i.a)({el:t},e,o)}}}),filters:{showVal:function(t,e){for(var a=e.dataSource,i=0;i<a.length;i++)if(t===a[i].real){t=a[i].val;break}return t}}}}).call(this,a("1157"))},"5a9f":function(t,e,a){"use strict";(function(t){a("99af"),a("4de4"),a("7db0"),a("0481"),a("4160"),a("caad"),a("a15b"),a("a434"),a("4069"),a("b0c0"),a("d3b7"),a("ac1f"),a("25f0"),a("2532"),a("1276"),a("159b"),a("cca6");var i=a("2909"),o=a("53ca"),s=a("ade3"),n=a("5530"),r=a("2f62"),l=a("c47b"),c=a("7e2a"),d=a("dc74"),u=a("d221"),h=a("9a21"),p=a("cb26"),g=a("f444"),m=a("105f");e.a={name:"tableParam",props:["getData","reportSetting","params"],components:{editColumn:l.a,excel:c.a,filterRule:d.a,staticDataModel:m.a},mixins:[h.a,u.a,p.a,g.a],data:function(){var t={dmOpt:{id:"model_id",name:"model_name",pid:"parentid"},columnOpt:{id:"pkid",name:"des_column",type:"analy_type"}},e={title:{style:this.$t("design.textStyle"),data:this.$t("design.tableDataTitle")},subTitle:{style:{head:{text:this.$t("design.tableSubTitleHead"),icon:"icon-table-title"},number:{text:this.$t("design.tableSubTitleNumber"),icon:"icon-table-value"},inbar:{text:this.$t("design.tableSubTitleInbar"),icon:"icon-grid"},box:{text:this.$t("design.tableSubTitleBox"),icon:"icon-bgAndBorder"}},data:{model:{text:this.$t("design.tableSubTitleModel"),icon:"icon-datamodel"},senior:{text:this.$t("design.tableSubTitleSenior"),icon:"icon-senior"}}},showStyleMsg:{order:this.$t("design.tableOrdersMsg"),paginator:this.$t("design.tablePagnitorMsg"),title:this.$t("design.tableTitleMsg")},showDataMsg:{dimension:this.$t("design.tableDimension"),measure:this.$t("design.tableMeasure"),combine:this.$t("design.tableCombine"),isCarousel:this.$t("design.isCarousel"),interval:this.$t("design.timeInterval"),rotation:this.$t("design.rotationForm"),transfer:this.$t("design.tableTransfer"),transferAll:this.$t("design.tableTransferAll"),format:this.$t("design.tableFormat")+" :"},transModuleMsg:{style:{filter:this.$t("design.tableModuleFilter"),field:this.$t("design.tableModuleStyleField"),content:this.$t("design.tableModuleContent")},data:{field:this.$t("design.tableModuleDataField")+" :",unit:this.$t("design.tableModuleUnit")+" :",magnitude:this.$t("design.tableModuleMagnitude")+" :",decimal:this.$t("design.lineFmt")+" :"}}};return Object(n.a)(Object(n.a)({modelList:[],dataSourceKeys:{key:"dataresource",fields:{modelIdKey:"model_id",modelNameKey:"model_name",dimensionKey:"dimension_selected",measureKey:"measure_selected",combineKey:"combine",transferKey:"transfer",formatKey:"format",filterKey:"filter",paginatorKey:"paginator",fieldsHideKey:"fieldsHide",transferAllKey:"transferAll",filterRulesKey:"filterRules"}},changeDataKey:"dataflag"},e),{},{urlOpt:t,loading:!1,isModule:!1,moduleType:"",nowContent:"",nowTab:"data",currentBtn:null,tabList:[{type:"data",name:"数据"},{type:"style",name:"属性/样式"}],radioChange:[{value:!0,type:"data",name:this.$t("design.staticData")},{value:!1,type:"data",name:this.$t("design.dynamicData")}],style:{type:["head","number","inbar","box"],head:{subTitle:"表头",hideSetting:!0,titleClass:["one"],type:[["color","fontSize","fontFamily"],["background-color","aligntop","alignmiddle","alignbottom","alignleft","aligncenter","alignright"],["title"],["order"],["paginator","pagesize"],["filter"]],color:{toolTip:this.$t("design.tableColor"),filter:!0,alias:"colorPickerComponent",classList:["width-2"],iconClass:["iconfont","icon-font"]},fontSize:{toolTip:this.$t("design.tableFontSize"),filter:!0,alias:"dropDownComponent",classList:["width-4"],iconClass:["iconfont","icon-font-size"],dropDownData:{showKey:"val",idKey:"real",defaultItem:"16px",dataSource:[{real:"12px",val:1},{real:"13px",val:2},{real:"16px",val:3},{real:"18px",val:4},{real:"24px",val:5},{real:"32px",val:6},{real:"48px",val:7}]}},fontFamily:{toolTip:this.$t("design.tableFontFamily"),filter:!0,alias:"dropDownComponent",classList:["width-4"],iconClass:["iconfont","icon-font-family"],dropDownData:{dataSource:[{val:this.$t("design.simSun"),real:"SimSun"},{val:this.$t("design.simHei"),real:"SimHei"},{val:this.$t("design.yaHei"),real:"Microsoft YaHei"},{val:this.$t("design.youYuan"),real:"YouYuan"},{val:this.$t("design.fangSong"),real:"STFangsong"},{val:this.$t("design.ShuMa"),real:"ShuMa"}],showKey:"val",idKey:"real"}},"background-color":{toolTip:this.$t("design.tableBackgroundColor"),filter:!0,alias:"colorPickerComponent",classList:["width-2"],iconClass:["iconfont","icon-bgcolor"]},aligntop:{toolTip:this.$t("design.tableAligntop"),filter:!1,alias:"",classList:["tableTitleAlignBtn"],iconClass:["iconfont","icon-valign-top"],key:"verticalAlign",value:"top"},alignmiddle:{toolTip:this.$t("design.tableAlignmiddle"),filter:!1,alias:"",classList:["tableTitleAlignBtn"],iconClass:["iconfont","icon-valign-middle"],key:"verticalAlign",value:"middle"},alignbottom:{toolTip:this.$t("design.tableAlignbottom"),filter:!1,alias:"",classList:["tableTitleAlignBtn"],iconClass:["iconfont","icon-valign-bottom"],key:"verticalAlign",value:"bottom"},alignleft:{toolTip:this.$t("design.tableAlignleft"),filter:!1,alias:"",classList:["tableTitleAlignBtn"],iconClass:["iconfont","icon-alignleft"],key:"textAlign",value:"left"},aligncenter:{toolTip:this.$t("design.tableAligncenter"),filter:!1,alias:"",classList:["tableTitleAlignBtn"],iconClass:["iconfont","icon-alignmiddle"],key:"textAlign",value:"center"},alignright:{toolTip:this.$t("design.tableAlignright"),filter:!1,alias:"",classList:["tableTitleAlignBtn"],iconClass:["iconfont","icon-alignright"],key:"textAlign",value:"right"},title:{filter:!0,alias:"",classList:["width-10"],iconClass:[],toggle:!0,msg:e.showStyleMsg.title,oparateFlag:!0},order:{filter:!0,alias:"",classList:["width-10"],iconClass:[],toggle:!0,msg:e.showStyleMsg.order,oparateFlag:!0},paginator:{filter:!0,alias:"",classList:["width-4"],iconClass:[],msg:e.showStyleMsg.paginator,toggle:!0,oparateFlag:!0},pagesize:{toolTip:this.$t("design.tablePagesize"),filter:!0,alias:"dropDownComponent",classList:["width-4","dropDownLeft"],iconClass:[],oparateFlag:!0,dropDownData:{noData:this.$t("design.tableFieldNoData"),dataSource:[{val:10,real:10},{val:20,real:20},{val:50,real:50},{val:100,real:100},{val:200,real:200},{val:300,real:300},{val:500,real:500},{val:1e3,real:1e3}],showKey:"val",idKey:"real"}},fieldsMove:{toolTip:this.$t("design.tableFieldsMove"),filter:!0,alias:"",classList:[],iconClass:[],msg:"字段移动",spare:{left:["iconfont","icon-left-arrow"],right:["iconfont","icon-right-arrow"]},oparateFlag:!0},hide:{toolTip:this.$t("design.tableHide"),filter:!0,alias:"",classList:[],iconClass:[],msg:"隐藏字段",oparateFlag:!0},fieldsHide:{toolTip:this.$t("design.tableFieldsHide"),filter:!0,alias:"dropDownComponent",classList:[],iconClass:[],oparateFlag:!0,dataFlag:!0,analy_type:"data",dropDownData:{isMultiple:!0,limited:!0,noData:"无可选字段",defaultItem:"",params:{model_id:"dm_id"},dropItemsName:"measureList",dataSource:[],showKey:t.columnOpt.name,idKey:t.columnOpt.id,dropDownStyle:{}}},filter:{toolTip:this.$t("design.tableFilter"),filter:!0,alias:"moduleWindowComponent",classList:["width-10"],iconClass:["iconfont","icon-filter"],msg:"筛选字段",oparateFlag:!0}},number:{subTitle:"数值",hideSetting:!0,type:[["color","fontSize","fontFamily"],["odd-color","even-color","aligntop","alignmiddle","alignbottom","alignleft","aligncenter","alignright"]],color:{toolTip:this.$t("design.tableColor"),filter:!0,alias:"colorPickerComponent",classList:["width-2"],iconClass:["iconfont","icon-font"]},fontSize:{toolTip:this.$t("design.tableFontSize"),filter:!0,alias:"dropDownComponent",classList:["width-4"],iconClass:["iconfont","icon-font-size"],dropDownData:{showKey:"val",idKey:"real",defaultItem:"16px",dataSource:[{real:"12px",val:1},{real:"13px",val:2},{real:"16px",val:3},{real:"18px",val:4},{real:"24px",val:5},{real:"32px",val:6},{real:"48px",val:7}]}},fontFamily:{toolTip:this.$t("design.tableFontFamily"),filter:!0,alias:"dropDownComponent",classList:["width-4"],iconClass:["iconfont","icon-font-family"],dropDownData:{dataSource:[{val:this.$t("design.simSun"),real:"SimSun"},{val:this.$t("design.simHei"),real:"SimHei"},{val:this.$t("design.yaHei"),real:"Microsoft YaHei"},{val:this.$t("design.youYuan"),real:"YouYuan"},{val:this.$t("design.fangSong"),real:"STFangsong"}],showKey:"val",idKey:"real"}},"odd-color":{toolTip:this.$t("design.tableOddColor"),filter:!0,alias:"colorPickerComponent",classList:["width-2"],iconClass:["iconfont","icon-bgcolor"]},"even-color":{toolTip:this.$t("design.tableEvenColor"),filter:!0,alias:"colorPickerComponent",classList:["width-2"],iconClass:["iconfont","icon-bgcolor"]},aligntop:{toolTip:this.$t("design.tableAligntop"),filter:!1,alias:"",classList:["tableNumberAlignBtn"],iconClass:["iconfont","icon-valign-top"],key:"verticalAlign",value:"top"},alignmiddle:{toolTip:this.$t("design.tableAlignmiddle"),filter:!1,alias:"",classList:["tableNumberAlignBtn"],iconClass:["iconfont","icon-valign-middle"],key:"verticalAlign",value:"middle"},alignbottom:{toolTip:this.$t("design.tableAlignbottom"),filter:!1,alias:"",classList:["tableNumberAlignBtn"],iconClass:["iconfont","icon-valign-bottom"],key:"verticalAlign",value:"bottom"},alignleft:{toolTip:this.$t("design.tableAlignleft"),filter:!1,alias:"",classList:["tableNumberAlignBtn"],iconClass:["iconfont","icon-alignleft"],key:"textAlign",value:"left"},aligncenter:{toolTip:this.$t("design.tableAligncenter"),filter:!1,alias:"",classList:["tableNumberAlignBtn"],iconClass:["iconfont","icon-alignmiddle"],key:"textAlign",value:"center"},alignright:{toolTip:this.$t("design.tableAlignright"),filter:!1,alias:"",classList:["tableNumberAlignBtn"],iconClass:["iconfont","icon-alignright"],key:"textAlign",value:"right"}},inbar:{subTitle:"内栏",hideSetting:!0,type:[["borderColor","borderWidth","borderStyle"]],borderColor:{toolTip:this.$t("design.tableBorderColor"),filter:!0,alias:"colorPickerComponent",classList:["width-2"],iconClass:["iconfont","icon-dropcolor"]},borderWidth:{toolTip:this.$t("design.tableBorderWidth"),filter:!0,alias:"dropDownComponent",classList:["width-4"],iconClass:["iconfont","icon-linewidth"],dropDownData:{dataSource:[{val:0,real:"0px"},{val:1,real:"1px"},{val:2,real:"2px"},{val:3,real:"3px"},{val:4,real:"4px"},{val:5,real:"5px"}],defaultItem:"0px",showKey:"val",idKey:"real"}},borderStyle:{toolTip:this.$t("design.tableBorderStyle"),filter:!0,alias:"dropDownComponent",classList:["width-4"],iconClass:["iconfont","icon-borderstyle"],dropDownData:{dataSource:[{real:"solid",val:"solid"},{real:"dotted",val:"dotted"},{real:"dashed",val:"dashed"},{real:"double",val:"double"}],defaultItem:"solid",showKey:"val",idKey:"real"}}},box:{subTitle:"背景/边框",hideSetting:!0,type:[["backgroundColor","borderRadius","opacity"],["borderColor","borderWidth","borderStyle"]],backgroundColor:{toolTip:this.$t("design.tableBackgroundColor"),filter:!0,alias:"colorPickerComponent",classList:["width-2"],iconClass:["iconfont","icon-bgcolor"]},borderRadius:{toolTip:this.$t("design.tableBorderRadius"),filter:!0,alias:"dropDownComponent",classList:["width-4"],iconClass:["iconfont","icon-rounded-corner"],dropDownData:{dataSource:[{val:0,real:"0px"},{val:1,real:"1px"},{val:2,real:"2px"},{val:3,real:"3px"},{val:4,real:"4px"},{val:5,real:"5px"}],defaultItem:"0px",showKey:"val",idKey:"real"}},opacity:{toolTip:this.$t("design.tableOpacity"),filter:!0,alias:"dropDownComponent",classList:["width-4"],iconClass:["iconfont","icon-opacity"],dropDownData:{dataSource:[{val:100,real:1},{val:90,real:.9},{val:80,real:.8},{val:70,real:.7},{val:60,real:.6},{val:50,real:.5},{val:40,real:.4},{val:30,real:.3},{val:20,real:.2},{val:10,real:.1},{val:0,real:0}],defaultItem:1,showKey:"val",idKey:"real"}},borderColor:{toolTip:this.$t("design.tableBorderColor"),filter:!0,alias:"colorPickerComponent",classList:["width-2"],iconClass:["iconfont","icon-dropcolor"]},borderWidth:{toolTip:this.$t("design.tableBorderWidth"),filter:!0,alias:"dropDownComponent",classList:["width-4"],iconClass:["iconfont","icon-linewidth"],dropDownData:{dataSource:[{val:0,real:"0px"},{val:1,real:"1px"},{val:2,real:"2px"},{val:3,real:"3px"},{val:4,real:"4px"},{val:5,real:"5px"}],defaultItem:"0px",showKey:"val",idKey:"real"}},borderStyle:{toolTip:this.$t("design.tableBorderStyle"),filter:!0,alias:"dropDownComponent",classList:["width-4"],iconClass:["iconfont","icon-borderstyle"],dropDownData:{dataSource:[{real:"solid",val:"solid"},{real:"dotted",val:"dotted"},{real:"dashed",val:"dashed"},{real:"double",val:"double"}],defaultItem:"solid",showKey:"val",idKey:"real"}}}},data:{type:["model","senior"],model:{subTitle:"数据模型",hideSetting:!0,type:[["chooseRoot"],["chooseModel"],["dimension"],["measure"],["format"],["dataUpdate"],["animation"]],chooseRoot:[{value:0,name:this.$t("dataExplore.myFolders")},{value:1,name:this.$t("dataExplore.sharedFolders")}],chooseModel:{toolTip:this.$t("design.tableChooseModel"),filter:!0,alias:"dropDownComponent",classList:[],iconClass:[],iconMsg:!0,msg:"选择模型：",showInInput:t.dmOpt.name,dropDownData:{placeholder:this.$t("design.lineSelectModel"),type:"tree",defaultItem:"",dropDownUrl:"dataModelUrl",noData:this.$t("design.lineNoModel"),noUrlData:this.$t("design.lineSelectMenuFirst"),dropItemsName:"dmList",dataSource:[],showType:"model_type",folder:"directory",chooseFolder:!1,showKey:t.dmOpt.name,idKey:t.dmOpt.id,pidKey:t.dmOpt.pid,dropDownStyle:{height:"200px"}}},dimension:{toolTip:this.$t("design.tableDimension"),filter:!0,alias:"dropDownComponent",classList:[],iconClass:[],iconMsg:!0,msg:"维度",showInInput:"dimension_selected",analy_type:"dimension",dropDownData:{placeholder:this.$t("design.lineSelectDimension"),isMultiple:!0,limited:!0,noData:this.$t("design.tableDimensionNoData"),defaultItem:"",dropDownUrl:"columnUrl",params:{model_id:"dm_id"},noUrlData:"请先选择数据模型",dropItemsName:"dimensionList",dataSource:[],showKey:t.columnOpt.name,idKey:t.columnOpt.id,dropDownStyle:{}}},measure:{toolTip:this.$t("design.tableMeasure"),filter:!0,alias:"dropDownComponent",classList:[],iconClass:[],iconMsg:!0,edit:!0,msg:"度量",showInInput:"measure_selected",analy_type:"measure",dropDownData:{placeholder:this.$t("design.lineSelectMeasure"),isMultiple:!0,limited:!0,noData:this.$t("design.tableMeasureNoData"),defaultItem:"",dropDownUrl:"columnUrl",params:{model_id:"dm_id"},noUrlData:"请先选择数据模型",dropItemsName:"measureList",dataSource:[],showKey:t.columnOpt.name,idKey:t.columnOpt.id,dropDownStyle:{}}},format:{toolTip:this.$t("design.tableFormat"),filter:!0,alias:"moduleWindowComponent",classList:[],iconClass:["iconfont","icon-dataformat"],iconMsg:!0,analy_type:"measure",msg:"".concat(this.$t("design.tableFormat"),"：")},dataUpdate:{filter:!0,type:["isDataUpdate","dataUpdateTime"],isDataUpdate:{filter:!0,alias:"",classList:["width-10"],iconClass:[],toggle:!0,title:this.$t("design.isDataUpdate"),oparateFlag:!0,range:["icon-checkbox-no","icon-checkbox"]},dataUpdateTime:{filter:!0,showflag:{settingName:"isDataUpdate"},alias:"input",classList:["iconInput"],iconClass:[],toggle:!0,title:this.$t("design.dataUpdateTime"),oparateFlag:!0}},animation:{filter:!0,type:["isCarousel","interval","rotation"],isCarousel:{title:this.$t("design.isCarousel"),filter:!0,alias:"",classList:[],iconClass:[],toggle:!0,msg:"启动轮播",analy_type:"isCarousel",oparateFlag:!0,range:["icon-checkbox-no","icon-checkbox"]},interval:{filter:!0,showflag:{settingName:"isCarousel"},alias:"input",classList:["iconInput"],iconClass:[],toggle:!0,title:this.$t("design.timeInterval"),oparateFlag:!0},rotation:{title:this.$t("design.rotationForm"),filter:!0,showflag:{settingName:"isCarousel"},alias:"dropDownComponent",classList:[],iconClass:[],iconMsg:!0,msg:"轮播形式",showInInput:"rotation_selected",analy_type:"rotation",dropDownData:{defaultItem:{type:"0",name:this.$t("design.singleTurn")},dropItemsName:"rotationList",dataSource:[{type:"0",name:this.$t("design.singleTurn")},{type:"1",name:this.$t("design.turnLeftAndRight")}],showKey:"name",idKey:"type"}}}},senior:{subTitle:"高级",hideSetting:!0,type:[["combine"],["transfer"],["transferAll"]],combine:{toolTip:this.$t("design.tableCombine"),filter:!0,alias:"dropDownComponent",classList:[],iconClass:[],iconMsg:!0,msg:"表格合并：",showInInput:"combine",analy_type:"dimension_selected",dropDownData:{isMultiple:!0,limited:!0,noData:this.$t("design.tableMeasureNoData"),defaultItem:"",dropDownUrl:"columnUrl",params:{model_id:"dm_id"},noUrlData:"请先选择数据模型",dropItemsName:"dimensionList",dataSource:[],showKey:t.columnOpt.name,idKey:t.columnOpt.id,dropDownStyle:{}}},transfer:{toolTip:this.$t("design.tableTransfer"),filter:!0,alias:"dropDownComponent",classList:[],iconClass:[],iconMsg:!0,msg:"行列转换：",releativePrime:"transferAll",showInInput:"transfer",analy_type:"dimension_selected",dropDownData:{isMultiple:!0,limited:!0,noData:"无可选维度",defaultItem:"",dropDownUrl:"columnUrl",params:{model_id:"dm_id"},noUrlData:"请先选择数据模型",dropItemsName:"dimensionList",dataSource:[],showKey:t.columnOpt.name,idKey:t.columnOpt.id,checkOk:"icon-span-echo",checkNo:"icon-row-echo-copy",dropDownStyle:{}}},transferAll:{toolTip:this.$t("design.tableTransferAll"),filter:!0,alias:"",classList:[],iconClass:[],toggle:!0,msg:"行列互换：",analy_type:"measure",releativePrime:"transfer",oparateFlag:!0}}},colorPicker:{color:"#ff8080",flat:!1,flexLeft:0,flexTop:0,isTransparent:!0},defaultStyleData:{currentStyle:{head:{color:"#857e7e",fontSize:"12px",fontFamily:"Microsoft YaHei","background-color":"#fff",textAlign:"center",verticalAlign:"middle"},number:{color:"#857e7e",fontSize:"12px",fontFamily:"Microsoft YaHei",textAlign:"center",verticalAlign:"middle","odd-color":"#eff6f8","even-color":"#fff"},inbar:{borderColor:"#eee",borderWidth:"1px",borderStyle:"solid"},box:{}}},defaultLastoparate:{currentStatus:{fieldsMove:"",title:!0,order:!1,paginator:!0,pagesize:10}},urls:{dataModelUrl:"/model_list",modelFolderUrl:"/model/directory",columnUrl:"/report/model/column",getFolderId:"/report/model/folder",DataModelTable:"/analysis/table",filterFieldUrl:"/analysis/table_filter",unitUrl:"/report/data/unit"},errorText:"",lastStyle:{},unitList:[],fieldDataSource:[]})},computed:Object(n.a)(Object(n.a)({},Object(r.d)({colorPickerOpt:function(t){return t.colorPickerOpt},colorPickerSelected:function(t){return t.colorPickerSelected},drawSelected:function(t){return t.draw.selected},dataUpdate:function(t){return t.draw.dataUpdate},animation:function(t){return t.draw.animation}})),{},{sourceFieldList:function(){var t=[];if(this.getData.dataresource){var e=this.getData.dataresource,a=e.dimension_selected,i=e.measure_selected;t=this._.concat(a,i)}return t},currentStyle:function(){var e={head:["color","fontSize","fontFamily"],number:["color","fontSize","fontFamily"],box:["borderColor","borderWidth","borderStyle","backgroundColor","borderRadius","opacity"]},a={};for(var i in e){for(var o={},s=0;s<e[i].length;s++){var n=e[i][s];""!==this.reportSetting[s]&&(o[n]=this.reportSetting[n])}a[i]=o}Object.assign(a,{head:{fontSize:"12px"},number:{fontSize:"12px"}});var r=t.extend(!0,{},this.defaultStyleData,{currentStyle:a},{currentStyle:{box:this.getData.style}},{currentStyle:this.getData.setting},{currentStyle:this.lastStyle});return r},lastOperate:function(){var e=t.extend(!0,this.defaultLastoparate,{currentStatus:this.getData.lastOperate});return e},format:function(){var t=[{}];return this.getData.dataresource&&this.getData.dataresource.format&&(t=0===this.getData.dataresource.format.length?[{}]:this.getData.dataresource.format),t},filter:function(){var t=[{}];return this.getData.dataresource&&this.getData.dataresource.filter&&(t=0===this.getData.dataresource.filter.length?[{}]:this.getData.dataresource.filter),t},showFormat:function(){return this.format},hasKpiSelected:function(){var t=!1;if(this.dataresource){var e=this.dataresource,a=e.dimension_selected,i=e.measure_selected||[];((a||[]).length>0||i.length>0)&&(t=!0)}return t},hasTransferSelected:function(){var t=!1;if(this.dataresource){var e=this.dataresource.transfer;(void 0===e?[]:e).length>0&&(t=!0)}return t},moduleMsg:function(){var t=this.format,e=this.filter,a=this.fieldDataSource,i={currentType:"",type:["filter","format"],filter:{type:["field","content"],field:{info:"字段：",readonly:!0,iconClass:["iconfont","icon-triangledown"],analy_type:"dimension_selected",dropDownData:{limited:!0,noData:this.$t("design.tableDimensionNoData"),defaultItem:"",dropDownUrl:"columnUrl",params:{model_id:"dm_id"},noUrlData:"请先选择数据模型",dropItemsName:"dimensionList",showKey:this.urlOpt.columnOpt.name,idKey:this.urlOpt.columnOpt.id,dropDownStyle:{}}},content:{info:"内容：",readonly:!0,iconClass:["iconfont","icon-triangledown"],dropDownData:{isSearch:!0,dropDownStyle:{},showKey:"val",idKey:"real",isMultiple:!0,noData:"请先选择字段"}},reback:e},format:{type:["field","unit","magnitude","decimal"],field:{info:"相关字段：",readonly:!0,iconClass:["iconfont","icon-triangledown"],analy_type:"measure_selected",dropDownData:{limited:!0,noData:this.$t("design.lineNoColumn"),defaultItem:"",dropDownUrl:"columnUrl",params:{model_id:"dm_id"},noUrlData:"请先选择数据模型",dropItemsName:"measureList",dataSource:a,showKey:this.urlOpt.columnOpt.name,idKey:this.urlOpt.columnOpt.id,dropDownStyle:{}}},unit:{info:"单位：",readonly:!0,iconClass:["iconfont","icon-triangledown"],dropDownData:{showKey:"val",idKey:"real",defaultItem:"",noData:this.$t("design.lineNoColumn"),noUrlData:"请先选择数据模型",isSearch:!1,dataSource:this.unitList}},magnitude:{info:"数量级：",readonly:!0,iconClass:["iconfont","icon-triangledown"],dropDownData:{showKey:"val",idKey:"real",defaultItem:"1",noData:this.$t("design.lineNoColumn"),noUrlData:"请先选择数据模型",dataSource:[{val:"亿",real:"100000000"},{val:"千万",real:"10000000"},{val:"百万",real:"1000000"},{val:"十万",real:"100000"},{val:"万",real:"10000"},{val:"千",real:"1000"},{val:"百",real:"100"},{val:"十",real:"10"},{val:"一",real:"1"},{val:"百分之一",real:"0.01"},{val:"千分之一",real:"0.001"}]}},decimal:{info:"小数：",readonly:!0,iconClass:["iconfont","icon-triangledown"],dropDownData:{showKey:"val",idKey:"real",defaultItem:"",noData:this.$t("design.lineNoColumn"),noUrlData:"请先选择数据模型",dataSource:[{val:"0",real:"#"},{val:"1",real:"#.0"},{val:"2",real:"#.00"},{val:"3",real:"#.000"},{val:"4",real:"#.0000"},{val:"5",real:"#.00000"},{val:"6",real:"#.000000"},{val:"7",real:"#.0000000"},{val:"8",real:"#.00000000"}]}},reback:t}};return i},animationMsg:function(){var t={model:{rotation:{info:"单位：",readonly:!0,iconClass:["iconfont","icon-triangledown"],dropDownData:{defaultItem:{type:"0",name:this.$t("design.singleTurn")},dropItemsName:"rotationList",dataSource:[{type:"0",name:this.$t("design.singleTurn")},{type:"1",name:this.$t("design.turnLeftAndRight")}],showKey:"name",idKey:"type"}}}};return t},staticDataSource:function(){return this._.get(this.getData,"staticDataSource.data",{})},isStaticData:function(){return this._.get(this.getData,"staticDataSource.isStaticData",!0)},showMode:function(){return this.isStaticData}}),mounted:function(){this.drawChangeSelectedData({lastOperate:Object(n.a)({},this.lastOperate.currentStatus),dataresource:{dataUpdateTime:this._.get(this.getData,"dataresource.dataUpdateTime")||this.dataUpdate.time,interval:this._.get(this.getData,"dataresource.interval")||this.animation.interval,rotation:this._.get(this.getData,"dataresource.rotation")||{type:"0",name:this.$t("design.singleTurn")}}}),this.getUnit()},watch:{colorPickerOpt:function(){this.colorPickerOpt.flat||(this.pickerUser="",this.currentOpen="")},colorPickerSelected:function(){this.getColor(this.colorPickerSelected),this.currentOpen=""},getData:function(){this.getData.styleflag&&(this.lastStyle=this.caculStyle())},drawSelected:function(){this.$forceUpdate()}},methods:Object(n.a)(Object(n.a)({},Object(r.b)({drawChangeSelectedData:"drawChangeSelectedData",showColorPickerPublic:"showColorPicker",hideColorPickerPublic:"hideColorPicker"})),{},{getFilterValue:function(t,e){var a="model_name"===this.data[t][e].showInInput?this.data[t][e].dropDownData.idKey:this.data[t][e].showInInput;return this.getData.dataresource&&this.getData.dataresource[a]},dropdownChanged:function(t,e){this.setCurrentType(e);var a=e.type,i=e.value,o=e.v;this[a][i][o].dropDownData.isMultiple;if(t.model_analysis_type){this.drawChangeSelectedData({dataresource:{dataType:t.model_analysis_type}});var n=this;n.$http({url:n.urls.columnUrl,params:{modelId:t.model_id},method:"get"}).then((function(t){n.drawChangeSelectedData({cacheDataSource:Object(s.a)({},n.nowIndex,{columnList:null})}),n.drawChangeSelectedData({cacheDataSource:Object(s.a)({},n.nowIndex,{columnList:t.data.data.data})})})).catch((function(t){var e=n.$t("design.lineGetDataFail");t&&t.response&&t.response.data&&(e=t.response.data.message),n.errorText=e}))}this.getListItem(t)},updateStaticData:function(t){this.drawChangeSelectedData({staticDataSource:{data:null},oparateFlag:!1}),this.drawChangeSelectedData({staticDataSource:{data:t},oparateFlag:!0})},updateFilterRules:function(t,e){this.drawChangeSelectedData({dataresource:{filterRules:""}}),this.drawChangeSelectedData({dataresource:{filterRules:t},changeData:!0,updatedFilters:e})},getModelFromExcel:function(t){var e=this;this.$http({url:e.urls.dataModelUrl,params:{rootId:e.nowIndex},method:"get"}).then((function(a){if("object"===Object(o.a)(a.data.data)){var i=a.data.data,n="";i.forEach((function(e){e.model_id===t&&(n=e.model_name)}));var r={model_id:t,model_name:n,dimension_selected:[],measure_selected:[],dataType:"excel",polys:[]};e.drawChangeSelectedData({dataresource:null,cacheDataSource:Object(s.a)({},e.nowIndex,null)}),e.drawChangeSelectedData({dataresource:r,cacheDataSource:Object(s.a)({},e.nowIndex,{modelList:a.data.data}),dataflag:!0})}else e.errorText=a.data})).catch((function(t){var a=e.$t("design.lineGetDataFail");t&&t.response&&t.response.data&&(a=t.response.data.message),e.errorText=a}))},caculStyle:function(){var e={head:["color","fontSize","fontFamily"],number:["color","fontSize","fontFamily"],box:["borderColor","borderWidth","borderStyle","backgroundColor","borderRadius","opacity"]},a={};for(var i in e){for(var o={},s=0;s<e[i].length;s++){var n=e[i][s];""!==this.reportSetting[s]&&(o[n]=this.reportSetting[n])}a[i]=o}return Object.assign(a,{head:{fontSize:"12px"},number:{fontSize:"12px"}}),t.extend(!0,{},this.defaultStyleData,{currentStyle:a},{currentStyle:{box:this.getData.style}},{currentStyle:this.getData.setting})},switchDetailShow:function(t){var e=t.type,a=t.value,i=this[e][a].hideSetting;this[e][a].hideSetting=!i},toggleTabs:function(t){this.isModule=!1,this.nowTab=t,this.nowContent=""},showModule:function(t){Object.assign(this,{isModule:!0,currentType:t})},setCurrentType:function(t){this.currentBtn=t},addItem:function(e){var a=t.extend([],this[e]);a.length<1?(a.push({}),this.drawChangeSelectedData({dataresource:Object(s.a)({},e,a)})):this.checkEmpty(e).isAdd&&(a.push({}),this.drawChangeSelectedData({dataresource:Object(s.a)({},e,null)}),this.drawChangeSelectedData({dataresource:Object(s.a)({},e,a)}))},checkEmpty:function(e){for(var a=t.extend([],this[e]),i=a[a.length-1],o=this.moduleMsg[e].type,s=!0,n=[],r=0;r<o.length;r++)i[o[r]]||(s=!1,n.push(o[r]));return{isAdd:s,temp:n}},deleteItem:function(e,a){var i=t.extend(!0,[],this[a]);i.splice(e,1),this.drawChangeSelectedData({dataresource:Object(s.a)({},a,null)}),this.drawChangeSelectedData({dataresource:Object(s.a)({},a,i),dataflag:!0})},toggle:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this.currentBtn,a=e.v,i=e.value,o=e.type,n=this[o][i][a];if("style"===o){var r=!this.getData.lastOperate[a];this.drawChangeSelectedData({lastOperate:Object(s.a)({},a,r),oparateFlag:!0})}else if("data"===o){var l=!1;if(this.getData.dataresource){var c=this.getData.dataresource.measure_selected,d=void 0===c?[]:c;d.length>0&&(l=!0)}if(l){var u=!this.getData.dataresource[a],h=Object(s.a)({},a,u);if("transferAll"===a&&u){var p=n.releativePrime;Object.assign(h,Object(s.a)({},p,[])),this.drawChangeSelectedData({dataresource:Object(s.a)({},p,null)})}this.drawChangeSelectedData({dataresource:h,dataflag:t})}}},transformData:function(t){var e,a=this.currentBtn.v;this.drawChangeSelectedData({dataresource:(e={},Object(s.a)(e,a,t),Object(s.a)(e,"dataflag",!1),e)})},changeShowType:function(t){this.drawChangeSelectedData(Object(s.a)({staticDataSource:{isStaticData:t}},t?"oparateFlag":"dataflag",!0))},outercept:function(){var t,e=this.currentBtn,a=e.v,i=e.value,o=e.type,n=this[o][i][a];o="setting",this.drawChangeSelectedData((t={},Object(s.a)(t,o,Object(s.a)({},i,Object(s.a)({},n.key,n.value))),Object(s.a)(t,"alignflag",!0),t))},useColor:function(){var t=this.currentBtn,e=t.e,a=t.value,i=t.v;if(this.currentOpen===i)this.hideColorPickerPublic(),this.currentOpen="";else{var o=this.find(e.target,"name").el,s="color"!==i,n=this.currentStyle.currentStyle[a][i];Object.assign(this.colorPicker,{flat:!0,el:o,isTransparent:s,color:n}),this.showColorPickerPublic(this.colorPicker),this.currentOpen=i}},getColor:function(t){var e=this.currentBtn,a=e.v,i=e.value,o=t.hex;this.changeData({v:a,value:i,finalMsg:o,type:"style"})},showListPlugin:function(e,a,o){var r=this,l=this[o][e][a],c=l.dropDownData,d=(this.currentBtn||{}).e,u=c.idKey;if("style"===o){var h=this.getData.dataresource,p=h&&(h.dimension_selected||h.measure_selected);switch(a){case"fieldsHide":if(p){var g=h.dimension_selected,m=void 0===g?[]:g,f=h.measure_selected,w=void 0===f?[]:f;h[a];c.dataSource=[].concat(Object(i.a)(m),Object(i.a)(w))}else c.noData=this.$t("design.tableFieldNoData");break;case"pagesize":p||(c.noData=this.$t("design.tableFieldNoData"));break;default:var v=null;v="box"===e?this.getData.style&&this.getData.style[a]:this.getData.setting[e]&&this.getData.setting[e][a],Object.assign({},c,{defaultItem:v})}}else if("data"===o){var y={},A=this.getData.dataresource&&this.getData.dataresource.rootId;switch(a){case"chooseModel":this.getData.dataresource&&this.getData.dataresource[u];var D=this.modelList[this.nowIndex];if(D){c.dataSource=D;break}c.dataSource=[],this.$http({url:this.urls[c.dropDownUrl],params:{rootId:A},method:"get"}).then((function(t){r.drawChangeSelectedData({cacheDataSource:Object(s.a)({},r.nowIndex,{modelList:null})}),r.drawChangeSelectedData({cacheDataSource:Object(s.a)({},r.nowIndex,{modelList:t.data.data}),dataflag:!0}),r.modelList[r.nowIndex]=t.data.data,c.dataSource=r.modelList[r.nowIndex]})).catch((function(t){c.noData=r.$t("design.tableDirError")}));break;default:var S=this.getData.dataresource&&this.getData.dataresource.model_id;if(S)switch(a){case"dimension":case"measure":Object.assign(y,{modelId:S}),this.$http({url:this.urls[c.dropDownUrl],params:y,method:"get"}).then((function(t){r.getData.dataresource[a+"_selected"];for(var e={}.kpiGroup,i=void 0===e?{}:e,o=t.data.data.data,l=0;l<o.length;l++){var d=o[l].analy_type+"List";i[d]||(i[d]=[]),i[d].push(o[l])}c.dataSource=i[a+"List"],r.drawChangeSelectedData({cacheDataSource:Object(s.a)({},r.nowIndex,{columnList:null})}),r.drawChangeSelectedData({cacheDataSource:Object(s.a)({},r.nowIndex,Object(n.a)({columnList:o},i))})})).catch((function(t){c.noData=r.$t("design.tableDirError")}));break;case"combine":case"transfer":var b=l.analy_type,C=this.getData.dataresource[b];c.dataSource=C}else c.noData=this.$t("design.tableModleNoData")}}else if("moduleMsg"===o)if("field"===a){var x=l.analy_type,k=[],T=this[e];if(this.getData.dataresource){var I=this.getData.dataresource[x];k=void 0===I?[]:I}if(T.length>=2){for(var B=t.extend([],k),O=0;O<k.length;O++)for(var N=0;N<T.length;N++)T[N][a]&&k[O][u]===T[N][a][u]&&B.push(k[O]);for(var P=[],L={},_=0;_<B.length;_++){var F=B[_][u];void 0===L[F]?L[F]=0:L[F]=L[F]+1}for(var $=0;$<B.length;$++){0===L[B[$][u]]&&P.push(B[$])}k=P}c.dataSource=k,this.fieldDataSource=k}else if("content"===a){var E=[],M=t.extend(!0,[],this[e])[parseInt(this.find(d.target,"index").index)],K=M.content,j=void 0===K?[]:K,R=M.field;if(R){for(var V in j)E.push(j[V].real);var Q=R.model_id,U=R.pkid,z=this.params,Y=void 0===z?{}:z,W={url:this.urls.filterFieldUrl,params:{modelId:Q,columnId:U,sqlParams:Y},method:"get"};this.loading=!0,this.$http(W).then((function(t){r.loading=!1;var e=t.data.data,a=[];e.forEach((function(t){var e={val:t,real:t};a.push(e)})),c.dataSource=a})).catch((function(t){}))}else c.noData=this.$t("design.tableFieldNoData")}else{var G=t.extend(!0,[],this[e])[parseInt(this.find(d.target,"index").index)].field;c.noData=G?this.$t("design.tableFieldNoData"):this.$t("design.lineSelectColumnFirst")}this.currentOpen=a},getListItem:function(e){var a,i=this,o=this.currentBtn,r=o.v,l=o.value,c=o.type,d=o.e,u=this[c][l][r],h=null,p=u.dropDownData,g=p.idKey,m=p.showKey,f=p.pidKey;if("style"===c)switch(r){case"fieldsHide":this.drawChangeSelectedData({dataresource:Object(s.a)({},r,null)}),this.drawChangeSelectedData({dataresource:Object(s.a)({},r,e),dataflag:!0});break;case"pagesize":this.drawChangeSelectedData({dataflag:!0,dataresource:{paginator:(a={},Object(s.a)(a,r,e[g]),Object(s.a)(a,"currentPage",1),a)},oparateFlag:!0,lastOperate:Object(s.a)({},r,e[g])})}else if("data"===c)switch(r){case"chooseRoot":this.drawChangeSelectedData({dataresource:{rootId:null}}),this.drawChangeSelectedData({dataresource:{rootId:e}});break;case"chooseModel":var w,v,y=this.getData.cacheDataSource[this.nowIndex].modelList;this.drawChangeSelectedData({dataresource:(w={},Object(s.a)(w,g,null),Object(s.a)(w,m,null),Object(s.a)(w,"folderId",null),Object(s.a)(w,"rootId",null),Object(s.a)(w,"dataType",null),Object(s.a)(w,"dimension_selected",null),Object(s.a)(w,"measure_selected",null),w),cacheDataSource:Object(s.a)({},this.nowIndex,null)}),this.drawChangeSelectedData({dataresource:(v={},Object(s.a)(v,g,e[g]),Object(s.a)(v,m,e[m]),Object(s.a)(v,"folderId",e[f]),Object(s.a)(v,"rootId",this.nowIndex),Object(s.a)(v,"dataType",e.model_analysis_type),v),cacheDataSource:Object(s.a)({},this.nowIndex,{modelList:y})});break;case"dimension":case"measure":var A;this.drawChangeSelectedData({dataresource:Object(s.a)({},r+"_selected",null)}),"measure"===r&&this.drawChangeSelectedData({dataresource:{polys:null}});var D={};this._.forEach(e,(function(t){var e=i.urlOpt.columnOpt.id;"measure"===r&&(D[t[e]]={name:t[i.urlOpt.columnOpt.name],poly:i._.get(i.getData.dataresource,["polys",t[e],"poly"],"")})})),this.drawChangeSelectedData({dataresource:(A={},Object(s.a)(A,r+"_selected",e),Object(s.a)(A,"polys",D),A)}),this.$nextTick((function(){i.fixedInfo(g)}));break;case"combine":case"transfer":var S=Object(s.a)({},r,null);this.drawChangeSelectedData({dataresource:S}),"transfer"===r&&e.length>0&&Object.assign(S,Object(s.a)({},u.releativePrime,!1)),Object.assign(S,Object(s.a)({},r,e)),this.drawChangeSelectedData({dataresource:S,dataflag:!0})}else if("moduleMsg"===c){var b=t.extend(!0,[],this[l]),C=b[h=this.find(d.target,"index").index];"filter"===l&&"field"===r&&C&&C.content&&C.content.length>0&&(C.content=[]),C[r]=e,C.condition="in",b.splice(h,1,C),this.drawChangeSelectedData({dataresource:Object(s.a)({},l,null)}),this.drawChangeSelectedData({dataresource:Object(s.a)({},l,b),dataflag:!0})}else if("animationMsg"===c)switch(r){case"rotation":this.drawChangeSelectedData({dataresource:{rotation_selected:e}})}this.changeData(Object(n.a)(Object(n.a)({},this.currentBtn),{},{finalMsg:e,index:h}))},fixedInfo:function(e){var a=t.extend(!0,{},this.getData.dataresource),o=a.dimension_selected,s=a.measure_selected,n=a.combine,r=void 0===n?[]:n,l=a.transfer,c=void 0===l?[]:l,d=a.format,u=void 0===d?[]:d,h=a.filter,p=void 0===h?[]:h,g=a.fieldsHide,m=void 0===g?[]:g,f=a.transferAll,w=void 0!==f&&f,v=a.filterRules,y=void 0===v?[]:v,A=o||[],D=s||[],S=[];for(var b in r)for(var C in A){A[C][e]===r[b][e]&&S.push(r[b])}var x=[];for(var k in c)for(var T in A){A[T][e]===c[k][e]&&x.push(c[k])}var I=[];for(var B in p){if(p[B].field)for(var O in A){p[B].field[e]===A[O][e]&&I.push(p[B])}}var N=y,P=[];for(var L in u){if(u[L]&&u[L].field)for(var _ in D){u[L].field[e]===D[_][e]&&P.push(u[L])}}this.isEmptyObject(D)||(w=!1);var F=[].concat(Object(i.a)(A),Object(i.a)(D)),$=[];for(var E in m)for(var M in F){m[E][e]===F[M][e]&&$.push(m[E])}this.drawChangeSelectedData({dataresource:{combine:null,transfer:null,filter:null,transferAll:null,format:null,fieldsHide:null,filterRules:null}}),this.drawChangeSelectedData({dataresource:{combine:S,transfer:x,format:P,transferAll:w,filter:I,fieldsHide:$,filterRules:N},dataflag:!0})},changeData:function(t){var e,a,i=t.v,o=t.value,n=t.finalMsg,r=t.type,l=this[r][o][i];"style"===r&&(l.oparateFlag?this.drawChangeSelectedData({lastOperate:Object(s.a)({},i,n.real),oparateFlag:!0}):("string"!=typeof n&&(n=n.real),"box"===o?this.drawChangeSelectedData((e={},Object(s.a)(e,r,Object(s.a)({},i,n)),Object(s.a)(e,"styleflag",!0),e)):(r="setting",this.drawChangeSelectedData((a={},Object(s.a)(a,r,Object(s.a)({},o,Object(s.a)({},i,n))),Object(s.a)(a,"styleflag",!0),a)))))},arrTojson:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"val",a=arguments.length>2?arguments[2]:void 0,i=[],o=0;o<t.length;o++){var n,r=(n={},Object(s.a)(n,e,t[o][e]),Object(s.a)(n,a,t[o][e]),Object(s.a)(n,"resource",t[o]),n);i.push(r)}return i},hyphens:function(t){if("string"==typeof t&&t.includes("-")){for(var e=t.split("-"),a=e[0],i=1;i<e.length;i++)a+=e[i].substring(0,1).toUpperCase()+e[i].substring(1);return a}return t},find:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"parentNode";if(t){for(;!t.getAttribute(e);)t=t[a];var i=t.getAttribute(e);return Object(s.a)({el:t},e,i)}},isEmptyObject:function(t){for(var e in t)return!0;return!1},getUnit:function(){var t=this;t.$http({url:t.urls.unitUrl,method:"get"}).then((function(e){t.unitList=e.data.unit})).catch((function(t){}))}}),filters:{showVal:function(t,e){for(var a=e.dropDownData.dataSource,i=0;i<a.length;i++)if(t===a[i].real){t=a[i].val;break}return t},getLength:function(t){var e=!0;return t&&t.length>0&&(e=!1),e},showINput:function(t,e,a){var i=Object.prototype.toString.call(t).toLowerCase(),o="";if(i.includes("string"))o=t;else if(i.includes("array")){var s=[];t.forEach((function(t){s.push(t[e])})),o=s.join(",")}return""===o&&a&&(o=a),o},showModuleMsg:function(t,e){var a="",i=Object.prototype.toString.call(t).toLowerCase();if(t)if(i.includes("array")){var o=[];for(var s in t)o.push(t[s].val);a=o.join(",")}else i.includes("object")&&(a=t[e]);else a="";return a}}}}).call(this,a("1157"))},"5bae":function(t,e,a){"use strict";(function(t){a("7db0");var i=a("53ca"),o=a("5530"),s=a("2f62");e.a={name:"tempublish",props:{showWindow:{type:Boolean,default:!1},setting:{type:Object,default:function(){return{}}},errorText:{type:String,default:""},editId:{type:String,default:""},loadingSetting:{type:Object,default:function(){return{}}},isScreen:{type:Boolean,default:!1},canNodeSelect:Function},data:function(){return{showConfirm:!1,errorShowText:"",nameError:!1,currentName:"",currentSelected:{},folderData:[],treeSetting:{id:"template_id",name:"template_clname",pId:"template_parentid",defaultItem:"10000000001",defaultExpand:"first",type:"template_showtype",folder:"template_folder"},addFolder:!1,loadingSettingInner:{show:!1},urls:{folderUrl:this.isScreen?"/report/folder?type=TEMPLATE&classify=screen":"/report/publish/template/folder",validatePublish:"/report/publish/verify"}}},watch:{errorText:function(){this.errorShowText=this.errorText},showWindow:function(){this.showWindow?(this.currentSelected={},this.editId?(this.treeSetting.defaultItem=this.setting.parent_id,this.currentName=this.setting.title):this.treeSetting.defaultItem=!0):(this.currentName="",this.errorShowText="",this.nameError=!1)}},computed:{popupWindowOpt:function(){return{show:this.showConfirm,type:"confirm",content:this.$t("design.ifCover")}},windowSetting:function(){var t={type:"custom",head:this.$t("design.publishTo")};return t.show=this.showWindow,t},loadingOpt:function(){return!0===this.loadingSetting.show?this.loadingSetting:!0===this.loadingSettingInner.show?this.loadingSettingInner:{show:!1}}},methods:Object(o.a)(Object(o.a)({},Object(s.b)({changeOperate:"changeOperate"})),{},{getTreeSelect:function(t){this.errorShowText="",this.currentSelected=Object(o.a)({},t)},getTreeDefaultData:function(t){this.getTreeSelect(t)},nameValidate:function(t){return/\S/.test(t)?(this.errorShowText="",this.nameError=!1,!0):(this.errorShowText=this.$t("design.saveTempNameEmpty"),this.nameError=!0,!1)},afterClickButton:function(t){var e=t.type;"confirm"===e?this.validateData():"close"!==e&&"cancel"!==e||this.closeSaveWindow()},changePopupWindowClick:function(t){var e=t.type;"confirm"===e?(this.closeValidateWindow(),this.publishData()):"close"!==e&&"cancel"!==e||this.closeValidateWindow()},validateData:function(){var e=this,a=t(this.$el).find('[name="reportTitle"]').val();if(this.nameValidate(a))if(t.isEmptyObject(this.currentSelected))this.errorShowText=this.$t("design.saveSelectFolderFirst");else{var i={modelName:a,type:"TEMPLATE",parentId:this.currentSelected.template_id};this.$http({url:this.urls.validatePublish,method:"get",params:i}).then((function(t){var a=t.data.data;a&&(2===a.status?e.showConfirm=!0:0===a.status?e.publishData():1===a.status&&(e.errorShowText=e.$t("design.changeName")))})).catch((function(t){e.loadingSettingInner.show=!1;var a=e.$t("design.saveGetFolderListFail");t&&t.response&&t.response.data&&(a=t.response.data.message),e.errorShowText=a}))}else t(this.$el).find('[name="reportTitle"]').focus()},publishData:function(){var e={title:t(this.$el).find('[name="reportTitle"]').val(),style:this.currentSelected.template_showtype,parent_id:this.currentSelected.template_id,root_id:this.currentSelected.template_id};this.$emit("publishTemData",e)},closeSaveWindow:function(){this.changeOperate("")},closeValidateWindow:function(){this.showConfirm=!1}}),mounted:function(){var t=this;this.loadingSettingInner.show=!0,this.$http.get(this.urls.folderUrl).then((function(e){t.loadingSettingInner.show=!1,"object"===Object(i.a)(e.data.data)?t.folderData=e.data.data:t.errorShowText=e.data.data})).catch((function(e){t.loadingSettingInner.show=!1;var a=t.$t("design.saveGetFolderListFail");e&&e.response&&e.response.data&&(a=e.response.data.message),t.errorShowText=a}))}}}).call(this,a("1157"))},"5be5":function(t,e,a){"use strict";var i=a("fa14");a.n(i).a},"5d86":function(t,e,a){},"5e7a":function(t,e,a){"use strict";var i=a("a05c").a,o=(a("cfd7"),a("2877")),s=Object(o.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pageController"},[a("div",{staticClass:"content"},["view"===t.model?a("div",{staticClass:"group"},[a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:t.$t("design.drawPcFullScreen"),expression:"$t('design.drawPcFullScreen')",modifiers:{bottom:!0}}],staticClass:"full",on:{click:function(e){return t.drawFullScreen()}}},[a("span",{staticClass:"iconfont icon-enlarge"})]),a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:t.$t("design.drawDownloadReport"),expression:"$t('design.drawDownloadReport')",modifiers:{bottom:!0}}],staticClass:"downReport",on:{click:function(e){return t.drawDownloadReport()}}},[a("span",{staticClass:"iconfont icon-bottom"})])]):t._e(),"view"===t.model?a("div",{staticClass:"showType"},[a("div",{staticClass:"radioBox pointer",on:{click:function(e){return t.changeShowType("page")}}},["page"===t.showType?a("span",{staticClass:"iconfont icon-radio-selected"}):a("span",{staticClass:"iconfont icon-radio-unselected"}),a("span",[t._v(t._s(t.$t("design.drawPcShowPage")))])]),a("div",{staticClass:"radioBox pointer",on:{click:function(e){return t.changeShowType("all")}}},["all"===t.showType?a("span",{staticClass:"iconfont icon-radio-selected"}):a("span",{staticClass:"iconfont icon-radio-unselected"}),a("span",[t._v(t._s(t.$t("design.drawPcShowAll")))])])]):t._e(),a("div",{staticClass:"middle",class:{opacity:"all"===t.showType}},[a("div",{staticClass:"firstPage pointer",on:{click:function(e){return t.clickPage(t.pageList[0])},selectstart:function(t){t.preventDefault()}}},[t._v(t._s(t.$t("design.drawPcFirst")))]),"edit"===t.model?a("div",{staticClass:"errorText",domProps:{innerHTML:t._s(t.errorText)}}):t._e(),a("div",{staticClass:"pageList",attrs:{id:"pageList"},on:{mousemove:function(e){return t.moveIng(e)},mouseup:function(e){return t.moveEnd(e)},mouseleave:function(e){return t.moveEnd(e)}}},[a("nanoscrollerComponent",{attrs:{properties:{height:"100%",width:"100%"}}},[a("div",{staticClass:"pageListBox"},[t._l(t.pageList,(function(e,i){return a("div",{key:"controller-"+e,staticClass:"pageLi",class:{selected:e===t.currentPage},attrs:{editRole:"pageLi",id:e},on:{click:function(a){return t.clickPage(e)},selectstart:function(t){t.preventDefault()}}},["edit"===t.model?a("span",{staticClass:"movePage iconfont icon-justify",on:{click:function(t){t.stopPropagation()},mousedown:function(e){return t.moveStart(e,i)}}}):t._e(),a("span",{staticClass:"pageNum"},[t._v(t._s(i+1)+".")]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.editPage!==e,expression:"editPage !== page"},{name:"tooltip",rawName:"v-tooltip.bottom",value:t.pageNameList[e],expression:"pageNameList[page]",modifiers:{bottom:!0}}],staticClass:"pageName",on:{dblclick:function(a){return t.editNameStart(e)}}},[t._v(t._s(t.pageNameList[e]))]),"edit"===t.model?a("input",{directives:[{name:"show",rawName:"v-show",value:t.editPage===e,expression:"editPage === page"},{name:"focus",rawName:"v-focus"}],staticClass:"pageNameInput",attrs:{type:"text",spellcheck:"false"},domProps:{value:t.pageNameList[e]},on:{blur:function(e){return t.editNameEnd(e.target.value)},selectstart:function(t){t.stopPropagation()},keydown:function(t){t.stopPropagation()},keyup:function(t){t.stopPropagation()},click:function(t){t.stopPropagation()}}}):t._e(),"edit"===t.model?a("span",{staticClass:"deletePage",on:{click:function(a){return a.stopPropagation(),t.deletePage(e,i)}}},[t._v("X")]):t._e()])})),t.currentMove.show?a("div",{staticClass:"pageLi selected move",style:{top:t.currentMove.top},on:{selectstart:function(t){t.preventDefault()}}},[a("span",{staticClass:"movePage iconfont icon-justify"}),a("span",{staticClass:"pageNum"},[t._v(t._s(t.currentMove.moveIndex+1)+".")]),a("span",{staticClass:"pageName"},[t._v(" "+t._s(t.pageNameList[t.pageList[t.currentMove.moveIndex]])+" ")]),a("span",{staticClass:"deletePage"})]):t._e()],2)])],1),a("div",{staticClass:"lastPage pointer",on:{click:function(e){return t.clickPage(t.pageList[t.pageList.length-1])},selectstart:function(t){t.preventDefault()}}},[t._v(t._s(t.$t("design.drawPcLast")))])]),"edit"===t.model?a("div",{staticClass:"bottom"},[a("div",{staticClass:"addButton pointer",on:{click:t.drawAddPage,selectstart:function(t){t.preventDefault()}}},[t._v("+"+t._s(t.$t("design.drawPcPageAdd")))])]):t._e()])])}),[],!1,null,"ef5b6618",null);e.a=s.exports},"5e83":function(t,e,a){},"5ee3":function(t,e,a){t.exports=a.p+"img/box13.291faddb.png"},"5f7f":function(t,e,a){"use strict";var i=a("0742");a.n(i).a},6239:function(t,e,a){"use strict";var i=a("7b75").a,o=(a("14f1"),a("2877")),s=Object(o.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"styles-item noBg comp",class:[t.hideDetail?"hideDetail":""]},[a("div",{staticClass:"style-title",on:{click:t.switchDetailShow}},[a("div",{staticClass:"icon-traingle"}),a("div",{staticClass:"iconfont icon-data-obj"}),a("div",{staticClass:"style-title-text title"},[t._v(t._s(t.$t("design.eventTrigger")))])]),a("div",{staticClass:"forms form"},[t._l(t.showEvents,(function(e,i){return a("div",{key:i},[a("div",{staticClass:"line width-35"},[a("dropdown",{staticClass:"dropDown pointer noIconDropDown",attrs:{configs:t.groupParam.groupId.dropDownData},on:{click:function(e){return t.showDropDown("groupId",i)},change:t.getDropDownSelected}},[a("div",{staticClass:"dropDown-input-box"},[a("input",{staticClass:"dropDown-true-input pointer",attrs:{type:"text",spellcheck:"false",readonly:!0,placeholder:t.$t("design.group")},domProps:{value:e.groupId}})])])],1),a("div",{staticClass:"line oper-text"},[a("span",{staticClass:"text"},[t._v(t._s("-"))])]),a("div",{staticClass:"line width-35"},[a("dropdown",{staticClass:"dropDown pointer noIconDropDown",attrs:{configs:t.groupParam.blockId.dropDownData},on:{click:function(e){return t.showDropDown("blockId",i)},change:t.getDropDownSelected}},[a("div",{staticClass:"dropDown-input-box"},[a("input",{staticClass:"dropDown-true-input pointer",attrs:{type:"text",spellcheck:"false",readonly:!0,placeholder:t.$t("design.widget")},domProps:{value:e.blockId}})])])],1),a("div",{staticClass:"line delete-icon"},[a("div",{staticClass:"iconfont icon-close",on:{click:function(e){return e.stopPropagation(),t.deleteEvent(i)}}})])])})),a("div",{staticClass:"line add-btn"},[a("span",{staticClass:"text",on:{click:function(e){return e.stopPropagation(),t.addEvent(e)}}},[t._v(t._s(t.$t("design.addEvent")))])])],2)])}),[],!1,null,"4aa33437",null);e.a=s.exports},"66ea":function(t,e,a){"use strict";(function(t){a("99af"),a("4de4"),a("4160"),a("a434"),a("ac1f"),a("1276"),a("159b"),a("cca6");var i=a("2909"),o=a("5530"),s=a("2f62");e.a={data:function(){return{drawerVisible:!1,hideDetail:!1,filterParam:{sourceId:{nameKey:"sourceName",listKey:"sourceList",inListIdKey:"pkid",inListNameKey:"des_column",dropDownData:{dropDownUrl:"dataModelUrl",dropItemsName:"sourceList",dataSource:[],showKey:"des_column",idKey:"pkid",placeholder:this.$t("design.tableFilter")}},blockId:{nameKey:"blockName",listKey:"blockList",inListIdKey:"id",inListNameKey:"name",relative:["targetId"],dropDownData:{dropItemsName:"blockList",dataSource:[],showKey:"name",idKey:"id",placeholder:this.$t("design.parentWidget")}},targetId:{nameKey:"targetName",listKey:"targetList",inListIdKey:"pkid",inListNameKey:"des_column",dropDownData:{dropItemsName:"targetList",dataSource:[],showKey:"des_column",idKey:"pkid",placeholder:this.$t("design.dataobjFileds")}}},filterItem:{sourceId:"",blockId:"",targetId:""},currentDropDown:{user:""},dataSource:{sourceList:this.sourceFieldList||[],blockList:[],targetList:{}},filterObj:{}}},props:["filterRules","sourceFieldList"],watch:{drawSelected:function(){this.init()},sourceFieldList:function(t){this._.isEqual(t,this.dataSource.sourceList)||(this.dataSource.sourceList=t||[])}},computed:Object(o.a)(Object(o.a)(Object(o.a)({},Object(s.c)({getAllBlocksExcept:"getAllBlocksExcept",getBlockContent:"getBlockContent"})),Object(s.d)({drawSelected:function(t){return t.draw.selected}})),{},{showFilters:function(){var e=this,a=this,i=t.extend(!0,[],this.filterRules);return this.filterObj={},i.forEach((function(t){for(var i in t)if("sourceId"===i||"blockId"===i||"targetId"===i){var o=a.filterParam[i].nameKey,s=a.filterParam[i].listKey,n="";"targetId"===i?(a.dataSource[s][t.blockId]||(e.dataSource.targetList[t.blockId]=e.getTargetList(t.blockId)),n=a.getValue(a.filterParam[i].inListIdKey,t[i],a.dataSource[s][t.blockId],a.filterParam[i].inListNameKey)):(0===a.dataSource[s].length&&a.updateBlockList(),n=a.getValue(a.filterParam[i].inListIdKey,t[i],a.dataSource[s],a.filterParam[i].inListNameKey)),t[o]=n,"sourceId"===i&&(a.filterObj[t[i]]=t[o])}})),i}}),methods:Object(o.a)(Object(o.a)({},Object(s.b)({drawChangeSpecialData:"drawChangeSpecialData",addLink:"addLink",delLink:"delLink"})),{},{openDrawer:function(){this.filterRules&&this.filterRules.length||this.addFilter(),this.drawerVisible=!0},closeDrawer:function(){this.drawerVisible=!1},getValue:function(t,e,a,i){var o={};return a&&a.forEach((function(a){a[t]===e&&(o=a)})),o[i]||""},updateData:function(t,e){var a=this,i=this.filterRules;i&&i.forEach((function(t){t.sourceId&&t.blockId&&t.targetId&&a.delLink(a.drawSelected[0]+"-"+t.blockId)})),t.forEach((function(t){if(t.sourceId&&t.blockId&&t.targetId){a.addLink(a.drawSelected[0]+"-"+t.blockId);var e=a._.cloneDeep(a.getBlockContent([t.blockId]))[0];e.changeData=!0,e.dataflag=!0,a.drawChangeSpecialData({name:t.blockId,newData:e})}})),this.$emit("updateData",t,e)},switchDetailShow:function(){this.hideDetail=!this.hideDetail},addFilter:function(){var e=t.extend(!0,[],this.filterRules);e.push(this._.extend({},this.filterItem)),this.updateData(e,!0)},deleteFilter:function(e){if(1!==this.filterRules.length||0!==e){var a=t.extend(!0,[],this.filterRules);a.splice(e,1),this.updateData(a,!0)}else this.updateData([this._.extend({},this.filterItem)])},showDropDown:function(t,e){var a=this,i=this.filterParam[t].dropDownData,s=i.dropItemsName;if("targetId"!==t){if(s&&this.dataSource[s])if("sourceId"===t){var n=this.dataSource[s].filter((function(t){return!a.filterObj[t[i.idKey]]}));i.dataSource=n}else 0===this.dataSource[s].length&&this.updateBlockList(),i.dataSource=this.dataSource[s]}else{var r=this.filterRules[e].blockId,l=this.getTargetList(r);i.dataSource=l,this.dataSource[s][r]=l}this.filterParam[t].dropDownData=Object(o.a)({},i)},getDropDownSelected:function(e,a,i){var o,s=this.filterParam[a].dropDownData;if(t.isArray(e)){o=[];for(var n=0;n<e.length;n++)o.push(e[n][s.idKey])}else o=e[s.idKey];this.transformData(a,o,i)},getTargetList:function(t){if(!t)return[];var e={},a=[],o=this.getBlockContent([t]);if(!o[0])return[];var s=o[0].dataSource||o[0].dataresource;o[0].data&&o[0].data.chooseModel&&((s=Object.assign(o[0].dataSource,o[0].data)).rootId=1);var n=this._.get(o[0].cacheDataSource,(s.rootId||0)+".columnList")||[];if(s){var r=s,l=r.dimension,c=r.measure,d=r.hiddenColumn,u=r.showColumn,h=r.filterRules,p=l&&l.split?l.split(","):l?Object(i.a)(l):[],g=c&&c.split?c.split(","):c?Object(i.a)(c):[],m=[];h&&h.forEach((function(t){m.push(t.sourceId)}));var f=d&&d.split?d.split(","):d?Object(i.a)(d):[],w=u&&u.split?u.split(","):u?Object(i.a)(u):[];return e=this._.zipObject(this._.concat(p,g,f,w,m),this._.concat(p,g,f,w,m)),this._.isEmpty(e)||(a=n.filter((function(t){return e[t.pkid]}))),a}return a},transformData:function(e,a,i){var o=t.extend(!0,[],this.filterRules);o[i][e]=a;var s=this.filterParam[e]&&this.filterParam[e].relative;s&&s.forEach((function(t){o[i][t]=""})),this.updateData(o,!0)},updateLinks:function(){},updateBlockList:function(){var t=this.getAllBlocksExcept(Object(i.a)(this.drawSelected));this._.merge(this.dataSource,{blockList:t})},init:function(){var t=this,e=this.filterRules;this.updateBlockList(),e&&this._.isArray(e)&&this.filterRules.forEach((function(e){var a=t.getTargetList(e.blockId);t.dataSource.targetList[e.blockId]=a}))}}),mounted:function(){this.init()}}}).call(this,a("1157"))},"69c8":function(t,e,a){"use strict";var i=a("1b6a").a,o=(a("3b4a"),a("2877")),s=Object(o.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"side"},[a("ul",{staticClass:"side-right-tabs"},t._l(t.tabList,(function(e,i){return a("li",{key:i,staticClass:"tabs-item",class:{"is-active":t.nowTab!==e.type},on:{click:function(a){return t.toggleTabs(e.type)}}},[t._v(" "+t._s(t.title[e.type])+" ")])})),0),a("div",{staticClass:"total-text"},[a("div",{staticClass:"title-text"},[t._v(t._s(t.$t("design.dataobjTitle")))])]),a("div",{staticClass:"middle"},["style"===t.nowTab?[t._l(t.style.type,(function(e,i){return a("div",{key:i,staticClass:"styles-item",class:{hideDetail:!t.style[e].hideSetting}},[a("div",{staticClass:"style-title",on:{click:function(a){return t.switchDetailShow({type:t.nowTab,value:e})}}},[a("div",{staticClass:"icon-traingle"}),a("i",{staticClass:"icon iconfont",class:t.subTitle[t.nowTab][e].icon}),a("div",{staticClass:"style-title-text"},[t._v(t._s(t.subTitle[t.nowTab][e].text))])]),a("div",{staticClass:"forms"},t._l(t.style[e].type,(function(i,o){return a("div",{key:o+"ind",staticClass:"form"},[t._l(i,(function(i,o){return[t.style[e][i].selectTitle?a("div",{key:o+"val",staticStyle:{width:"auto",height:"30px",float:"left","font-size":"13px",color:"#778482","line-height":"30px","padding-top":"5px"}},[t._v(" "+t._s(t.style[e][i].selectTitle)+" ")]):t._e(),"colorPickerComponent"==t.style[e][i].alias&&t.style[e][i].filter?a("div",{key:o,staticClass:"line",class:t.style[e][i].classList,attrs:{title:i,name:i},on:{mousedown:function(a){return t.setCurrentType({value:e,v:i,type:t.nowTab,e:a})},click:function(e){return e.stopPropagation(),t.useColor()}}},[a("div",{staticClass:"dropDown onlyicon pointer"},[a("div",{staticClass:"dropDown-icon",attrs:{title:i}},[a("i",{class:t.style[e][i].iconClass}),a("div",{staticClass:"color-show",style:{"background-color":t.currentStyle.currentStyle[e][i]}})])])]):"dropDownComponent"==t.style[e][i].alias&&t.style[e][i].filter?a("dropdown",{key:o,staticClass:"line",class:t.style[e][i].classList,attrs:{name:i,configs:t.style[e][i].dropDownData,value:t.getStyleValue(e,i)},on:{click:t.showListPlugin,change:t.getListItem}},[a("div",{staticClass:"dropDown pointer",class:{dropDownShadow:!t.style[e][i].edit},on:{mousedown:function(a){return t.setCurrentType({value:e,v:i,type:t.nowTab,e:a})}}},[a("div",{staticClass:"dropDown-icon"},[a("i",{class:t.style[e][i].iconClass})]),t.style[e][i].oparateFlag&&!t.style[e][i].dataFlag?a("input",{staticClass:"dropDown-input",attrs:{title:t.lastOperate.currentStatus[i],readonly:"",unselectable:"on"},domProps:{value:t.lastOperate.currentStatus[i]}}):t.style[e][i].dataFlag&&t.style[e][i].oparateFlag?a("input",{staticClass:"dropDown-input",attrs:{readonly:"",unselectable:"on"},domProps:{value:t._f("showINput")(t.getData.dataresource&&t.getData.dataresource[i],t.style[e][i].dropDownData.showKey)}}):t.style[e][i].edit?a("input",{staticClass:"dropDown-input",domProps:{value:t._f("showVal")(t.currentStyle.currentStyle[e][i],t.style[e][i])},on:{mousedown:function(e){return t.insertPadding(e)},blur:function(a){return t.blurPadding(a,{value:e,v:i,type:t.nowTab})},keydown:function(t){t.stopPropagation()}}}):a("input",{staticClass:"dropDown-input",attrs:{readonly:"",unselectable:"on"},domProps:{value:t._f("showVal")(t.currentStyle.currentStyle[e][i],t.style[e][i])}})])]):t.style[e][i].filter&&"text"===t.style[e][i].alias?a("div",{key:o,class:[t.style[e][i].classList]},[a("div",{staticClass:"checkbox checkboxAuto"},[a("span",[t._v(t._s(t.style[e][i].msg))])])]):t.style[e][i].filter&&""===t.style[e][i].alias?a("div",{key:o,staticClass:"line",class:t.style[e][i].classList,attrs:{title:i,name:i},on:{mousedown:function(a){return t.setCurrentType({value:e,v:i,type:t.nowTab,e:a})},click:t.toggle}},[a("div",{staticClass:"checkbox checkboxAuto"},[a("span",{staticClass:"iconfont",class:[t.currentStyle.currentStyle[e][i]?t.style[e][i].range[1]:t.style[e][i].range[0],t.style[e][i].iconClass]}),a("span",[t._v(t._s(t.style[e][i].msg))])])]):"button"===t.style[e][i].alias?a("button",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:t.style[e][i].toolTip,expression:"style[value][v].toolTip",modifiers:{bottom:!0}}],key:o,staticClass:"line",class:[t.style[e][i].classList,"iconAverageCenterFour","icon-active","has-tooltip"],attrs:{name:i,type:"button"},on:{mousedown:function(a){return t.setCurrentType({value:e,v:i,type:t.nowTab,e:a})},click:t.btnClicked}},[a("i",{class:t.style[e][i].iconClass})]):a("div",{key:o,staticClass:"line",class:[t.style[e][i].classList,{"icon-active":i==t.style[e][i].differ+"Align"+t.currentStyle.currentStyle[e][t.style[e][i].key]}],attrs:{name:i,title:i},on:{mousedown:function(a){return t.setCurrentType({value:e,v:i,type:t.nowTab,e:a})},click:t.outercept}},[a("span",{staticClass:"iconfont",class:t.style[e][i].iconClass})])]}))],2)})),0)])})),a("backgroundAndBorder",{attrs:{reportSetting:t.reportSetting,getData:t.getData}})]:t._e(),"data"===t.nowTab?[t._t("blockName"),t._t("typeToggle"),t._l(t.data.type,(function(e,i){return a("div",{key:i,staticClass:"styles-item noBg",class:{hideDetail:!t.data[e].hideSetting}},[a("div",{staticClass:"style-title",on:{click:function(a){return t.switchDetailShow({type:t.nowTab,value:e})}}},[a("div",{staticClass:"icon-traingle"}),a("i",{staticClass:"icon iconfont",class:t.subTitle[t.nowTab][e].icon}),a("div",{staticClass:"style-title-text"},[t._v(t._s(t.subTitle[t.nowTab][e].text))])]),"data"===t.nowTab&&t.getData&&t.getData.staticDataSource&&!t.getData.staticDataSource.isStaticData?a("excel",{on:{transferData:t.getModelFromExcel}}):t._e(),"data"===t.nowTab?a("div",{staticClass:"forms"},[a("ul",{staticClass:"code-right-tabs"},[a("ul",{staticClass:"ul-default left"},t._l(t.radioChange,(function(e){return a("li",{key:e.value,staticClass:"li-radio pointer",on:{click:function(a){return t.changeShowType(e.value)}}},[t.isStaticData===e.value?a("span",{staticClass:"iconfont icon-radio-selected",attrs:{vl:t.isStaticData+"="+e.value}}):a("span",{staticClass:"iconfont icon-radio-unselected",attrs:{vl:t.isStaticData+"="+e.value}}),a("span",[t._v(t._s(e.name))])])})),0)]),"data"===t.nowTab&&t.showMode?a("staticDataModel",{attrs:{staticDataSource:t.staticDataSource,blockType:"dataobj"},on:{updateData:t.updateStaticData}}):t._e()],1):t._e(),"data"===t.nowTab?a("div",{staticClass:"forms"},[t._l(t.data[e].type,(function(i){return[t._l(i,(function(i,o){return[t.data[e][i].always||!t.showMode?a("div",{key:i,staticClass:"form line",staticStyle:{height:"auto"}},["chooseRoot"===i?a("div",{key:o+"val2"},[a("ul",{staticClass:"root-tabs"},t._l(t.data[e][i],(function(e,i){return a("li",{key:i+"toggleFolderTabs",staticClass:"li-tab",class:{active:e.value===t.nowIndex},on:{click:function(e){return t.toggleFolderTabs(i)}}},[t._v(" "+t._s(e.name)+" ")])})),0)]):t._e(),t.data[e][i].msg?a("div",{key:o+"mag",staticClass:"line-left-5"},[t._v(t._s(t.data[e][i].msg))]):t._e(),"dropDownComponent"===t.data[e][i].alias?a("dropdown",{key:o,staticClass:"line-middle",attrs:{configs:t.data[e][i].dropDownData,name:i,value:t.getData.data&&t.getData.data[i]},on:{click:t.showListPlugin,change:t.getListItem}},[a("div",{staticClass:"dropDown fullBorderDropDown iconMsg dropDownShadow pointer",on:{mousedown:function(a){return t.setCurrentType({value:e,v:i,type:t.nowTab,e:a})}}},[a("input",{staticClass:"dropDown-input",attrs:{readonly:"",unselectable:"on"},domProps:{value:t._f("showINput")(t.getData.data&&t.getData.data[i]&&t.getData.data[i][t.data[e][i].dropDownData.showKey],t.data[e][i].dropDownData.showKey,t.data[e][i].dropDownData.placeholder)}})])]):t._e(),t._l(t.data[e][i].type,(function(o,s){return a("div",{key:s+"data"},[t.data[e][i][o].filter&&""===t.data[e][i][o].alias?a("div",{key:s,staticClass:"line",class:t.data[e][i][o].classList,attrs:{title:i,name:i},on:{mousedown:function(a){return t.setCurrentType({value:e,v:o,type:t.nowTab,e:a})},click:t.toggleData}},[a("div",{staticClass:"checkbox checkboxAuto"},[a("span",{staticClass:"iconfont",class:[t.currentData&&t.currentData[o]?t.data[e][i][o].range[1]:t.data[e][i][o].range[0],t.data[e][i][o].iconClass]}),a("span",[t._v(t._s(t.data[e][i][o].title))])])]):t.data[e][i][o].filter&&"input"===t.data[e][i][o].alias&&t.currentData&&t.currentData[t.data[e][i][o].showflag.settingName]?a("div",{key:s,staticClass:"line",class:t.data[e][i][o].classList,on:{mousedown:function(a){return t.setCurrentType({value:e,v:o,type:t.nowTab,e:a})}}},[t.data[e][i][o].title?a("div",{staticClass:"iconInput-text",staticStyle:{"line-height":"30px"}},[t._v(t._s(t.data[e][i][o].title)+":")]):t._e(),a("input",{staticClass:"iconInput-input",attrs:{type:"text",spellcheck:"false"},domProps:{value:t.currentData&&t.currentData[o]},on:{change:function(e){return t.transformData(e.target.value)}}})]):t._e()])}))],2):t._e()]}))]}))],2):t._e()],1)})),"data"===t.nowTab?a("filterRule",{attrs:{filterRules:t.getData.dataSource&&t.getData.dataSource.filterRules,sourceFieldList:t.getData.cacheDataSource&&t.getData.cacheDataSource[t.nowIndex]&&t.getData.cacheDataSource[t.nowIndex].columnList},on:{updateData:t.updateFilterRules}}):t._e()]:t._e()],2)])}),[],!1,null,"4b11d31b",null);e.a=s.exports},"6a85":function(t,e,a){"use strict";var i=a("a72a");a.n(i).a},"707f":function(t,e,a){},"729d":function(t,e,a){"use strict";var i=a("5530"),o=a("eee9"),s=a("ec06"),n={props:["getData","reportSetting"],data:function(){var t={suBTitle:{shape:{text:this.$t("design.graphSubTitleShape"),icon:"icon-shape"},attribute:{text:this.$t("design.graphSubTitleAttribute"),icon:"icon-property"},style:{text:this.$t("design.graphSubTitleBox"),icon:"icon-bgAndBorder"}},graph:{}};return Object(i.a)({},t)},watch:{},components:{backgroundAndBorder:o.a,interActive:s.a}},r=(a("ddfd"),a("2877")),l=Object(r.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"side"},[a("ul",{staticClass:"side-right-tabs"},[a("li",{staticClass:"tabs-item"},[t._v(t._s(t.$t("design.graphStyle")))])]),a("div",{staticClass:"total-text"},[a("div",{staticClass:"title-text"},[t._v(t._s(t.$t("design.graphRoundTitle")))])]),a("div",{staticClass:"middle"},[t._t("blockName"),a("backgroundAndBorder",{attrs:{reportSetting:t.reportSetting,getData:t.getData,disables:["borderRadius"]}}),a("interActive",{attrs:{reportSetting:t.reportSetting,getData:t.getData,disables:["borderRadius"]}})],2)])}),[],!1,null,"07d0a799",null);e.a=l.exports},"749b":function(t,e,a){"use strict";var i=a("3175").a,o=(a("a98e"),a("2877")),s=Object(o.a)(i,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("nanoscrollerComponent",{attrs:{properties:{height:"100%",width:"100%",axis:"view"===t.model&&t.reportSetting.showDirection?"x":"y",isKeyboard:!1,style:t.nanoscrollerStyle}}},[i("div",{directives:[{name:"loadingLinear",rawName:"v-loadingLinear",value:{show:t.loadingState},expression:"{ show: loadingState }"}],style:t.padStyle,on:{mousedown:function(e){return t.mousedown(e)},mousemove:function(e){return t.mousemove(e)},mouseup:function(e){return t.mouseup(e)},mouseleave:function(e){return t.mouseleave(e)},contextmenu:function(t){t.preventDefault()},selectstart:function(t){t.preventDefault()}}},[t._l(t.pageList,(function(e,o){return[e===t.currentPage||"all"===t.currentPage||"view"===t.model&&t.reportSetting.showDirection?i("div",{key:"draw-"+e,staticClass:"pagebox",style:t.pageBoxStyle},[i("div",{staticClass:"page",class:{overHide:"view"===t.model,boxShadow:t.reportSetting.showPadding},style:t.transformPageStyle[e],attrs:{editRole:e}},[i("div",{ref:"drawPanel",refInFor:!0,staticClass:"graticule",class:{graticuleLine:"edit"===t.model},style:t.transformGraticuleStyle[e]},[t._l(t.drawBlockContent[e],(function(e){return i("div",{directives:[{name:"show",rawName:"v-show",value:t.showBolckArea(e),expression:"showBolckArea(item)"}],key:e.id,staticClass:"bolckArea",class:{selected:e.selected},style:e.position,attrs:{editRole:"bolck",name:e.id}},[i("div",{key:"draw-"+e.id,staticClass:"blockContent",attrs:{editRole:"content"}},[i(t.comName(e),{tag:"component",attrs:{blockType:e.type,model:t.model,getData:e.contentData,getStyle:e.position,blockId:e.id,reportSetting:t.reportStyle.blockStyle,theme:t.reportSetting.echartsTheme,toggleData:t.dataForToggleType[e.id],params:t.paramToBlock}})],1),"edit"===t.model&&"text"!==e.type?i("div",{staticClass:"block-content-mask"}):t._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:e.selected,expression:"item.selected"}],staticClass:"selectBorder"},[i("div",{staticClass:"borderTop"}),i("div",{staticClass:"borderBottom"}),i("div",{staticClass:"borderLeft"}),i("div",{staticClass:"borderRight"})]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.selected&&1===t.selected.length,expression:"item.selected && selected.length === 1"}],staticClass:"border",attrs:{editRole:"border"}},[i("div",{staticClass:"leftTop",attrs:{editRole:"leftTop"}}),i("div",{staticClass:"leftCenter",attrs:{editRole:"leftCenter"}}),i("div",{staticClass:"leftBottom",attrs:{editRole:"leftBottom"}}),i("div",{staticClass:"rightTop",attrs:{editRole:"rightTop"}}),i("div",{staticClass:"rightCenter",attrs:{editRole:"rightCenter"}}),i("div",{staticClass:"rightBottom",attrs:{editRole:"rightBottom"}}),i("div",{staticClass:"topCenter",attrs:{editRole:"topCenter"}}),i("div",{staticClass:"bottomCenter",attrs:{editRole:"bottomCenter"}})])])})),t._l(t.groupData[e],(function(t,e){return i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"group.show"}],key:e,staticClass:"groupFrame",style:t.style},[i("div",{staticClass:"selectBorder"},[i("div",{staticClass:"borderGroup",style:t.styleTop}),i("div",{staticClass:"borderGroup",style:t.styleBottom}),i("div",{staticClass:"borderGroup",style:t.styleLeft}),i("div",{staticClass:"borderGroup",style:t.styleRight})])])})),i("div",{directives:[{name:"show",rawName:"v-show",value:t.resizerData.show,expression:"resizerData.show"}],staticClass:"resizer",style:t.resizerData.style},[i("div",{staticClass:"selectBorder"},[i("div",{staticClass:"borderGroup",style:t.resizerData.styleTop}),i("div",{staticClass:"borderGroup",style:t.resizerData.styleBottom}),i("div",{staticClass:"borderGroup",style:t.resizerData.styleLeft}),i("div",{staticClass:"borderGroup",style:t.resizerData.styleRight})]),i("div",{staticClass:"border",attrs:{editRole:"border"}},[i("div",{staticClass:"leftTop",attrs:{editRole:"leftTop"}}),i("div",{staticClass:"leftCenter",style:t.resizerData.leftCenter,attrs:{editRole:"leftCenter"}}),i("div",{staticClass:"leftBottom",style:t.resizerData.leftBottom,attrs:{editRole:"leftBottom"}}),i("div",{staticClass:"rightTop",style:t.resizerData.rightTop,attrs:{editRole:"rightTop"}}),i("div",{staticClass:"rightCenter",style:t.resizerData.rightCenter,attrs:{editRole:"rightCenter"}}),i("div",{staticClass:"rightBottom",style:t.resizerData.rightBottom,attrs:{editRole:"rightBottom"}}),i("div",{staticClass:"topCenter",style:t.resizerData.topCenter,attrs:{editRole:"topCenter"}}),i("div",{staticClass:"bottomCenter",style:t.resizerData.bottomCenter,attrs:{editRole:"bottomCenter"}})])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.reportStyle.pageNum.show,expression:"reportStyle.pageNum.show"}],staticClass:"pageNum",class:[t.reportStyle.pageNum.position]},[t._v(t._s(o+1))]),i("img",{directives:[{name:"show",rawName:"v-show",value:"view"===t.model&&t.showLogo,expression:"model === 'view' && showLogo"}],staticClass:"logoImage",attrs:{src:a("aca7"),alt:"数据股份图标"}}),t.showReportParam&&(e===t.currentPage||"all"===t.currentPage&&0===o)?i("div",{staticClass:"reportParam",class:[t.paramStyleSetting.position,"view"===t.model?"pointer":""],on:{click:t.clickParamButton}},[i("span",{staticClass:"iconfont icon-report-param"})]):t._e()],2)])]):t._e()]})),i("div",{directives:[{name:"show",rawName:"v-show",value:"select"===t.drawEventData.mouseState||"create"===t.drawEventData.mouseState,expression:"drawEventData.mouseState === 'select' || drawEventData.mouseState === 'create'"}],staticClass:"auxiliaryFrame",style:t.auxiliaryFrameStyle}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.contextMenu.show,expression:"contextMenu.show"}],staticClass:"contextMenu",style:t.contextMenu.style,attrs:{id:"contextMenu"},on:{mousedown:function(t){t.stopPropagation()},mouseup:function(t){t.stopPropagation()}}},[i("ul",{staticClass:"menuBox",staticStyle:{padding:"0",margin:"0"}},t._l(t.contextMenu.data,(function(e){return i("li",{directives:[{name:"show",rawName:"v-show",value:t.contextMenuShow[e.value],expression:"contextMenuShow[menu.value]"}],key:e.value,staticClass:"menuList",style:{height:t.defaultData.contextmenuLineHeight+"px"},on:{click:function(a){return a.stopPropagation(),t.clickMenu(e.value)}}},[i("div",{staticClass:"menuText",class:{spread:e.children}},[t._v(t._s(e.text))]),e.children?i("ul",{staticClass:"subMenuBox",class:{subleft:"left"===t.contextMenu.subX,subright:"right"===t.contextMenu.subX,subtop:"top"===t.contextMenu.subY,subbottom:"bottom"===t.contextMenu.subY},style:e.children.style},t._l(e.children.data,(function(e){return i("li",{key:e.value,staticClass:"subMenuList",style:{height:t.defaultData.contextmenuLineHeight+"px"},on:{click:function(a){return a.stopPropagation(),t.clickMenu(e.value)}}},[i("div",{staticClass:"subMenuText"},[t._v(t._s(e.text))])])})),0):t._e()])})),0)]),"view"===t.model?i("paramWindow",{attrs:{show:t.showParamWindow,showParamSetting:t.paramSettingWithKey,paramValue:t.paramCurrentValue},on:{selectParam:t.selectParam}}):t._e()],2)])}),[],!1,null,"3d200661",null);e.a=s.exports},"769e":function(t,e,a){"use strict";var i=a("e5ef").a,o=(a("ede6"),a("2877")),s=Object(o.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.showSpread,expression:"showSpread"}],staticClass:"sidebar",class:{show:!t.spread},on:{click:function(e){return e.stopPropagation(),t.onSidebar(e)}}},[a("div",{staticClass:"leftSidebar",class:{spread:t.spread},on:{click:function(t){t.stopPropagation()}}},[a("div",{staticClass:"content"},[a("div",{staticClass:"title"},[a("span",{staticClass:"t-tab",class:{active:"page"===t.tabType},on:{click:function(e){return e.stopPropagation(),t.onShowTabType("page")}}},[t._v(t._s(t.$t("design.drawPcPage")))]),a("span",{staticClass:"t-tab",class:{active:"layer"===t.tabType},on:{click:function(e){return e.stopPropagation(),t.onShowTabType("layer")}}},[t._v(t._s(t.$t("design.drawPcLayer")))])]),a("div",{staticClass:"middle"},[a("pageController",{directives:[{name:"show",rawName:"v-show",value:"page"===t.tabType,expression:"tabType === 'page'"}],attrs:{model:t.model,editId:t.editId}}),a("layerList",{directives:[{name:"show",rawName:"v-show",value:"layer"===t.tabType,expression:"tabType === 'layer'"}],attrs:{model:t.model,editId:t.editId}})],1)]),t.hideBar?t._e():a("div",{staticClass:"spreadButton",on:{click:t.onShowSidebar}},[a("span",{staticClass:"iconfont",class:[t.spread?"icon-arrow-right":"icon-arrow-left"]})])])])}),[],!1,null,"01dae073",null);e.a=s.exports},"7b75":function(t,e,a){"use strict";(function(t){a("7db0"),a("4160"),a("d81d"),a("a434"),a("159b");var i=a("5530"),o=a("2f62");e.a={data:function(){return{hideDetail:!1,groupParam:{groupId:{dropDownData:{dropItemsName:"groupList",dataSource:[],showKey:"name",idKey:"id"}},blockId:{dropDownData:{dropItemsName:"blockList",dataSource:[],showKey:"name",idKey:"id"}}},eventItem:{groupId:"",blockId:""},currentDropDown:{user:""}}},props:["eventList"],computed:Object(i.a)(Object(i.a)(Object(i.a)({},Object(o.c)({getAllBlocksExcept:"getAllBlocksExcept",getBlockContent:"getBlockContent",groupData:"groupData"})),Object(o.d)({drawSelected:function(t){return t.draw.selected},currentPage:function(t){return t.draw.currentPage}})),{},{getGroupData:function(){var t=this,e=[];return this._.forEach(this.groupData,(function(a){t._.forEach(a,(function(t,a){e[a]=t}))})),e},showEvents:function(){return this.eventList}}),methods:Object(i.a)(Object(i.a)({},Object(o.b)({drawChangeSelectedData:"drawChangeSelectedData"})),{},{switchDetailShow:function(){this.hideDetail=!this.hideDetail},getValue:function(t,e,a,i){var o={};return a&&a.forEach((function(a){a[t]===e&&(o=a)})),o[i]||""},updateData:function(t,e){this.$emit("updateData",t,e)},addEvent:function(){var e=t.extend(!0,[],this.showEvents);e.push(this._.extend({},this.eventItem)),this.updateData(e,!0)},deleteEvent:function(e){var a=t.extend(!0,[],this.showEvents);a.splice(e,1),this.updateData(a,!0)},showDropDown:function(t,e){var a=this;this.currentIndex=e;var i=this.groupParam[t].dropDownData,o=[];if("groupId"===t){var s={};a._.forIn(a.getGroupData,(function(t,e){a._.find(a.showEvents,["groupId",e])||(s[e]=t)})),o=a._.map(s,(function(t,e){return{id:e,name:e}}))}else{var n=a.showEvents[e].groupId;if(!n)return o=[],i.dataSource=o,this.currentDropDown.dropDownData=i,void(this.currentDropDown.user=t);o=a._.map(a.getGroupData[n].children,(function(t){return{id:t,name:t}}))}i.dataSource=o,this.currentDropDown.dropDownData=i,this.currentDropDown.user=t},getDropDownSelected:function(e){var a;if(t.isArray(e)){a=[];for(var i=0;i<e.length;i++)a.push(e[i][this.currentDropDown.dropDownData.idKey])}else a=e[this.currentDropDown.dropDownData.idKey];if(a!==this.showEvents[this.currentIndex][this.currentDropDown.user]){var o=this.currentDropDown.user;this.transformData(o,a)}},transformData:function(e,a){var i=t.extend(!0,[],this.showEvents);i[this.currentIndex][e]=a,this.updateData(i,!0)}})}}).call(this,a("1157"))},"7c83":function(t,e,a){"use strict";var i=a("8d79").a,o=(a("bdd4"),a("2877")),s=Object(o.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"side"},[a("ul",{staticClass:"side-right-tabs"},t._l(t.tabList,(function(e){return a("li",{key:e.type,staticClass:"tabs-item pointer",class:{"is-active":t.nowTab!==e.type},on:{click:function(a){return t.toggleTabs(e.type)}}},[t._v(" "+t._s(e.name)+" ")])})),0),a("div",{staticClass:"total-text"},[a("div",{staticClass:"title-text"},[t._v(t._s(t.$t("design.reportWidgetTitle")))])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"data"===t.nowTab,expression:"nowTab === 'data'"},{name:"loading",rawName:"v-loading",value:t.loadingSetting,expression:"loadingSetting"}],staticClass:"middle"},[t._t("blockName"),a("div",{staticClass:"styles-item",class:{hideDetail:t.hideBlocksList.includes("reportSource")}},[a("div",{staticClass:"style-title",on:{click:function(e){return e.stopPropagation(),t.hideDetailToggle("reportSource")}}},[a("div",{staticClass:"icon-traingle"}),a("i",{staticClass:"icon iconfont icon-app-report"}),a("div",{staticClass:"style-title-text"},[t._v(t._s(t.$t("design.reportSource")))])]),a("div",{staticClass:"forms"},[a("div",{staticClass:"line width-10"},[a("div",{staticClass:"line-middle"},[a("div",{staticClass:"checkbox imgCheckbox",on:{click:function(e){return e.stopPropagation(),t.changeOrigin(e)}}},[a("i",{directives:[{name:"show",rawName:"v-show",value:t.isInputReport,expression:"isInputReport"}],staticClass:"icon iconfont icon-checkbox"}),a("i",{directives:[{name:"show",rawName:"v-show",value:!t.isInputReport,expression:"!isInputReport"}],staticClass:"icon iconfont icon-checkbox-no"}),a("span",[t._v(t._s(t.$t("design.inputReportUrl")))])])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isInputReport,expression:"isInputReport"}],staticClass:"line width-10"},[a("div",{staticClass:"line-middle"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.remSrc,expression:"remSrc"}],ref:"reportUrl",staticClass:"onlyInput reportUrl",attrs:{type:"text",spellcheck:"false",placeholder:t.$t("design.reportTrueUrl")},domProps:{value:t.remSrc},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.enterKeyUp(e)},blur:t.okReportUrl,input:function(e){e.target.composing||(t.remSrc=e.target.value)}}})])]),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.isInputReport,expression:"!isInputReport"}],staticClass:"line width-10 dropdownContainer"},[a("dropdown",{staticClass:"line-middle",attrs:{configs:t.dropDownTreeOpt},on:{change:t.dropdownChanged,click:function(e){return t.showDropDown(t.dropDownTreeOpt)}}},[a("div",{staticClass:"dropDown"},[a("div",{staticClass:"dropDown-input-box dropDownShadow"},[a("input",{staticClass:"dropDown-true-input",attrs:{placeholder:t.$t("design.selectReport"),readonly:"",spellcheck:"false",unselectable:"on"},domProps:{value:t.currentSelectReport&&t.currentSelectReport[t.dropDownTreeOpt.showKey]}})])])])],1)])]),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.isInputReport,expression:"!isInputReport"}],staticClass:"styles-item",class:{hideDetail:t.hideBlocksList.includes("filterCondition")}},[a("div",{staticClass:"style-title",on:{click:function(e){return e.stopPropagation(),t.hideDetailToggle("filterCondition")}}},[a("div",{staticClass:"icon-traingle"}),a("i",{staticClass:"icon iconfont icon-filter"}),a("div",{staticClass:"style-title-text"},[t._v(t._s(t.$t("design.filterCondition")))])]),a("div",{staticClass:"forms"},[a("div",{staticClass:"line width-10"},[a("div",{staticClass:"line-middle"},[a("ul",{staticClass:"filterTab"},t._l(t.filterList,(function(e){return a("li",{staticClass:"filterItem",class:{"is-active":t.nowFilterTab===e.type},on:{click:function(a){return t.toggleFilterTabs(e.type)}}},[t._v(" "+t._s(e.name)+" ")])})),0)])]),a("table",{directives:[{name:"show",rawName:"v-show",value:"condition"===t.nowFilterTab,expression:"nowFilterTab === 'condition'"}],staticClass:"filterTable",attrs:{width:"100%",border:"1",cellspacing:"0",cellpadding:"0"}},[a("thead",[a("tr",[a("th",[t._v(t._s(t.$t("design.dataobjFileds")))]),a("th",[t._v(t._s(t.$t("design.parentWidgetName")))]),a("th",[t._v(t._s(t.$t("design.parentWidgetFileds")))])])]),t.filterDataShow?a("tbody",t._l(t.showFilters,(function(e,i){return a("tr",[a("td",[t._v(t._s(e.sourceName))]),a("td",[a("dropdown",{staticClass:"pointer noIconDropDown",attrs:{configs:t.filterParam.blockId.dropDownData}},[a("div",{staticClass:"dropDown-input-box"},[a("input",{staticClass:"dropDown-true-input pointer",attrs:{type:"text",spellcheck:"false",readonly:!0},domProps:{value:e.blockName},on:{click:function(e){return t.showDropDown("blockId",i)}}}),""!==e.blockName?a("div",{staticClass:"deleteIcon",on:{click:function(e){return t.deleteParent(i)}}},[t._v("×")]):t._e()])])],1),a("td",[a("dropdown",{staticClass:"pointer noIconDropDown",attrs:{configs:t.filterParam.targetId.dropDownData},on:{click:function(e){return t.showDropDown("targetId",i)}}},[a("div",{staticClass:"dropDown-input-box"},[a("input",{staticClass:"dropDown-true-input pointer",attrs:{type:"text",spellcheck:"false",readonly:!0},domProps:{value:e.targetName}}),""!==e.targetName?a("div",{staticClass:"deleteIcon",on:{click:function(e){return t.deleteChild(i)}}},[t._v("×")]):t._e()])])],1)])})),0):t._e()]),a("table",{directives:[{name:"show",rawName:"v-show",value:"default"===t.nowFilterTab,expression:"nowFilterTab === 'default'"}],staticClass:"filterTable",attrs:{border:"1"}},[a("thead",[a("tr",[a("th",[t._v(t._s(t.$t("design.dataobjFileds")))]),a("th",[t._v(t._s(t.$t("design.reportDefaultValue")))])])]),t.filterDataShow?a("tbody",t._l(t.defaultList,(function(e){return a("tr",[a("td",[t._v(t._s(e.name))]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"item.value"}],staticClass:"defaultInput",attrs:{type:"text"},domProps:{value:e.value},on:{change:function(e){return t.defaultChange()},input:function(a){a.target.composing||t.$set(e,"value",a.target.value)}}})])])})),0):t._e()])])])],2),a("div",{directives:[{name:"show",rawName:"v-show",value:"style"===t.nowTab,expression:"nowTab === 'style'"}],staticClass:"middle"},[a("backgroundAndBorder",{attrs:{reportSetting:t.reportSetting,getData:t.getData}})],1)])}),[],!1,null,"a4c7c682",null);e.a=s.exports},"7cac":function(t,e,a){},"7d78":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAkQAAALmAQMAAACZ+hn8AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAGUExURUdwTAC6/6wCLe4AAAABdFJOUwBA5thmAAAAc0lEQVR42u3QMREAIRDAQPyrRAIO7i1QpGDmdwWkyJrIXl2JOzMnqpSlRlt67xMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/M3OiSllqtKX3PnH7qrG70gcL5XP/Wq+RRQAAAABJRU5ErkJggg=="},"7e2a":function(t,e,a){"use strict";a("a15b"),a("d81d"),a("b0c0"),a("d3b7"),a("ac1f"),a("3ca3"),a("1276"),a("ddb0"),a("2b3d"),a("e260");var i=a("5530"),o=a("2f62"),s=["xlsx","xlsb","xlsm","xls"].map((function(t){return"."+t})).join(","),n={name:"importExcel",props:{},data:function(){return{SheetJSFT:s,excelAllData:[],file:{},langStyle:"zh"===this.$i18n.locale?{left:"75px"}:{left:"82px"},urlData:{addExcel:{url:"/excel/datasource",method:"post",headers:{"Content-Type":"multipart/form-data"}}}}},components:{},computed:{},methods:Object(i.a)(Object(i.a)({},Object(o.b)({changeExcelName:"changeExcelName",changeFormData:"changeFormData",drawChangeBlockLoadingState:"drawChangeBlockLoadingState"})),{},{suppress:function(t){t.stopPropagation(),t.preventDefault()},drop:function(t){t.stopPropagation(),t.preventDefault();var e=t.dataTransfer.files;e&&e[0]&&this.resolveFile(e[0])},clickfile:function(){},change:function(t){var e=this;this.drawChangeBlockLoadingState({name:"importExcel",loadState:"start"});var a=new FormData,i=t.target.files;if(i&&i[0]){var o=i[0].name.split(".")[0];a.append("ds_name",o),a.append("fileData",i[0]),this.changeFormData(a),this.changeExcelName(o),this.file=i[0],this.$nextTick((function(){e.resolveFile(e.file)})),t.target.value=""}},resolveFile:function(t){var e=new FileReader,a=this;e.onload=function(t){var e=t.target.result,i=window.URL||window.webkitURL,o=a.$staticPath+"/js/plugins/sheetJS/xlsx.full.min.js",s=new Blob(["\n              importScripts('".concat(o,"');\n              self.onmessage = function(event) {\n                var args = event.data;\n                var bstr = '';\n                var bytes = new Uint8Array(args.d);\n                var length = bytes.byteLength;\n                for (var i = 0; i < length; i++) {\n                  bstr += String.fromCharCode(bytes[i]);\n                }\n                var wb = XLSX.read(bstr, { type: 'binary' });\n                var names = wb.SheetNames;\n                var sheetExcels = {};\n                for (var i = 0; i < names.length; i++) {\n                  var ws = wb.Sheets[names[i]];\n                  // range必须加\n                  var data = XLSX.utils.sheet_to_json(ws, {\n                    header: 'A',\n                    raw: false,\n                    blankRows: false,\n                    defval: ''\n                  });\n                  sheetExcels[names[i]] = data;\n                }\n                self.postMessage({ d: sheetExcels, sheetNames: names});\n                return close();\n              }\n            ")],{type:"application/javascript"}),n=i.createObjectURL(s),r=new Worker(n);r.onmessage=function(t){a.drawChangeBlockLoadingState({name:"importExcel",loadState:"finish"}),a.$emit("transmitData",t.data.d,t.data.sheetNames,!0),a.howshow(!0,!0)},r.postMessage({d:e})},e.readAsArrayBuffer(t)},howshow:function(t,e){this.$emit("howshow",t,e)},importExcel:function(){this.$refs.excelfile.click()}})},r=(a("0608"),a("2877")),l={data:function(){return{show:!0,showExcelData:!1,allExcelData:[],sheetNames:[],showHeader:!0,oneStep:!0,style:{},httpObj:{url:"/excel/model",method:"POST"}}},components:{importExcel:Object(r.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("div",{on:{drop:t.drop,dragenter:t.suppress,dragover:t.suppress}}),a("input",{ref:"excelfile",staticClass:"file-style",style:{display:"none"},attrs:{type:"file",accept:t.SheetJSFT,id:"excelfile",value:""},on:{click:function(e){return e.stopPropagation(),t.clickfile(e)},change:t.change}}),a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:t.$t("design.lineExcelImport"),expression:"$t('design.lineExcelImport')",modifiers:{bottom:!0}}],staticClass:"iconfont icon-Excel importExcel-icon-Excel",style:t.langStyle,on:{click:function(e){return e.stopPropagation(),t.importExcel()}}}),a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:t.$t("design.lineExcelImport"),expression:"$t('design.lineExcelImport')",modifiers:{bottom:!0}}],staticClass:"iconfont icon-Excel importExcel-icon-Excel",style:t.langStyle,on:{click:function(e){return t.importExcel()}}})])])}),[],!1,null,"68376b1a",null).exports,excelData:a("9606").a},computed:{},methods:{transmitData:function(t,e,a){this.allExcelData=t,this.sheetNames=e,this.show=!0,this.showExcelData=a},howshow:function(t,e){this.show=t,this.showExcelData=e},transferData:function(t,e){this.$emit("transferData",t,e)}}},c=Object(r.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.show?a("div",[t.showExcelData?t._e():a("importExcel",{on:{transmitData:t.transmitData,howshow:t.howshow}}),t.showExcelData?a("excelData",{attrs:{showHeader:t.showHeader,allExcelData:t.allExcelData,sheetNames:t.sheetNames,oneStep:t.oneStep,cusStyle:t.style,httpObj:t.httpObj},on:{howshow:t.howshow,transferData:t.transferData}}):t._e()],1):t._e()}),[],!1,null,"73748e5f",null);e.a=c.exports},"82ad":function(t,e,a){"use strict";(function(t){a("a9e3"),a("8ba4"),a("ac1f"),a("5319");var i=a("ade3"),o=a("5530"),s=a("2f62"),n=a("eee9"),r=a("ec06");e.a={props:["getData","reportSetting"],data:function(){for(var t=["rowLine","spanLine","dashRowLine","dashSpanLine","rigthedTriangle","rightTriangle","leftTriangle","bubbleText","leftTips","rightTips","brace","delighted","cross","leftArrow","rightArrow","fiveStar","echolon","drips","fork","lineLeftArrow","lineRightArrow","oneHalfArrow","oneLineArrow","dblArrow","dblLink"],e={suBTitle:{shape:{text:this.$t("design.graphSubTitleShape"),icon:"icon-shape"},attribute:{text:this.$t("design.graphSubTitleAttribute"),icon:"icon-property"},style:{text:this.$t("design.graphSubTitleBox"),icon:"icon-bgAndBorder"}},graph:{}},a=0;a<t.length;a++){var i="graph"+t[a].replace(/^\w/,t[a].charAt(0).toLocaleUpperCase());e.graph[t[a]]=this.$t("design."+i)}return Object(o.a)(Object(o.a)({},e),{},{curRotateVal:this.getData.attribute&&this.getData.attribute.rotate?this.getData.attribute.rotate:0,dropDownUser:"fiveStar",defaults:{type:["shape","attribute"],shape:{subTitle:"形状",hideSetting:!0,type:[["changeShape"]],changeShape:{classList:[],notLine:!0,isChoose:!1,style:null,category:t,rowLine:{iconList:["iconfont","icon-rowLine"]},spanLine:{iconList:["iconfont","icon-spanLine"]},dashRowLine:{iconList:["iconfont","icon-dashRowLine"]},dashSpanLine:{iconList:["iconfont","icon-dashSpanLine"]},rigthedTriangle:{iconList:["iconfont","icon-righted_triangle"]},rightTriangle:{iconList:["iconfont","icon-right-triangle"]},leftTriangle:{iconList:["iconfont","icon-left-triangle"]},bubbleText:{iconList:["iconfont","icon-bubble-text"]},leftTips:{iconList:["iconfont","icon-left-tips"]},rightTips:{iconList:["iconfont","icon-right-tips"]},brace:{iconList:["iconfont","icon-brace"]},delighted:{iconList:["iconfont","icon-delighted"]},cross:{iconList:["iconfont","icon-cross"]},leftArrow:{iconList:["iconfont","icon-left-arrow"]},rightArrow:{iconList:["iconfont","icon-right-arrow"]},echolon:{iconList:["iconfont","icon-echolon"]},fiveStar:{iconList:["iconfont","icon-five-star"]},drips:{iconList:["iconfont","icon-drips"]},fork:{iconList:["iconfont","icon-fork"]},lineLeftArrow:{iconList:["iconfont","icon-line-left-arrow"]},lineRightArrow:{iconList:["iconfont","icon-line-right-arrow-copy"]},oneHalfArrow:{iconList:["iconfont","icon-one-lineHalf-arrow"]},oneLineArrow:{iconList:["iconfont","icon-one-line-arrow"]},dblArrow:{iconList:["iconfont","icon-dbl-arrow"]},dblLink:{iconList:["iconfont","icon-dbllink"]}}},attribute:{subTitle:"属性",hideSetting:!0,type:[["rotate"]],rotate:{toolTip:this.$t("design.graphRotate"),filter:!0,alias:"",info:this.$t("design.graphSubTitleRotate"),currentStatus:"",iconClass:[],iconMsg:!0,classList:["width-5"],required:!0,range:[-360,360]}}}})},components:{backgroundAndBorder:n.a,interActive:r.a},computed:{lastStyle:function(){return t.extend(!0,{},{currentStyle:this.reportSetting},{currentStyle:this.getData.style})}},mounted:function(){this.changeCurrentStatus()},watch:{getData:function(){this.getData.attribute?this.getData.attribute&&this.getData.attribute.rotate!==this.curRotateVal&&(this.curRotateVal=this.getData.attribute.rotate):this.curRotateVal=0,this.changeCurrentStatus(),this.getData.flag&&this.drawChangeSelectedData({flag:!1})}},methods:Object(o.a)(Object(o.a)({},Object(s.b)({drawChangeSelectedData:"drawChangeSelectedData"})),{},{switchDetailShow:function(t){var e=t.type,a=t.value,i=this[e][a].hideSetting;this[e][a].hideSetting=!i},setCurrentType:function(t){this.currentType=t},changeCurrentStatus:function(){for(var t=this.lastStyle.currentStyle,e=this.defaults.type,a=0;a<e.length;a++)for(var i in t){var o=this.defaults[e[a]][i];if(o)if("string"==typeof o.currentStatus)o.currentStatus=t[i];else if(Number.isInteger(o.currentStatus))for(var s=0;s<o.dropItems.length;s++)o.dropItems[s].real===t[i]&&(o.currentStatus=s)}},checkBlur:function(t){var e=this.currentType.v,a=t.target,o=a.value;1===o.length&&"-"===o&&(a.value="",this.drawChangeSelectedData({attribute:Object(i.a)({},e,"")}))},checkInsert:function(t){var e=this.currentType,a=e.v,o=e.value,s=this.defaults[o][a].range,n=void 0===s?[]:s,r=t.target,l=r.value;if(37!==t.keyCode&&38!==t.keyCode&&39!==t.keyCode&&40!==t.keyCode)if(0!==l.length){if("-"===l.charAt(0)&&1===l.length)return;if(isNaN(Math.abs(l))){var c=parseInt(l);l=isNaN(c)?"":c}else l<=n[0]?l=n[0]:l>n[1]&&(l=n[1]),l=parseInt(l);this.drawChangeSelectedData({attribute:Object(i.a)({},a,l)}),r.value=l}else this.drawChangeSelectedData({attribute:Object(i.a)({},a,"")})},slowRatote:function(t){var e=t.keyCode,a=t.target.value;isNaN(parseInt(a))||(38===e?a-=-10:40===e&&(a-=10),this.changeRotate(a))},changeRotate:function(t){var e=this.currentType.v;t%=360,this.curRotateVal=t,this.drawChangeSelectedData({attribute:Object(i.a)({},e,t)})},addRotate:function(){var t=this.curRotateVal;t-=-10,this.changeRotate(t)},reduceRotate:function(){var t=this.curRotateVal;t-=10,this.changeRotate(t)},chooseShape:function(t,e){this.drawChangeSelectedData({type:t,flag:!0}),this.cancelChoose(e)},cancelChoose:function(t){this.defaults.shape[t].isChoose=!1}})}}).call(this,a("1157"))},"83d7":function(t,e,a){"use strict";(function(t){a("99af"),a("4de4"),a("7db0"),a("0481"),a("4160"),a("caad"),a("c975"),a("a15b"),a("d81d"),a("fb6a"),a("a434"),a("4069"),a("b0c0"),a("ac1f"),a("2532"),a("5319"),a("1276"),a("2ca0"),a("159b"),a("cca6");var i=a("ade3"),o=a("53ca"),s=a("2909"),n=a("b85c"),r=a("5530"),l=a("a026"),c=a("2f62"),d=a("eee9"),u=a("dc74"),h=a("4d25"),p=a("c47b"),g=a("105f"),m=a("7e2a"),f=a("d221"),w=a("9a21"),v=a("cb26"),y=a("f444"),A=["crossBar"];e.a={name:"lineParam",props:["getData","reportSetting","blockType","toggleType"],components:{backgroundAndBorder:d.a,filterRule:u.a,mapFlyLineRule:h.a,excel:m.a,editColumn:p.a,staticDataModel:g.a},mixins:[w.a,f.a,v.a,y.a],data:function(){var t={fontSize:{items:[{val:"12px",real:"12"},{val:"13px",real:"13"},{val:"16px",real:"16"},{val:"18px",real:"18"},{val:"24px",real:"24"},{val:"32px",real:"32"},{val:"48px",real:"48"}],showKey:"val",idKey:"real",max:48,min:12},fontFamily:{items:[{val:this.$t("design.simSun"),real:"SimSun"},{val:this.$t("design.simHei"),real:"SimHei"},{val:this.$t("design.yaHei"),real:"Microsoft YaHei"},{val:this.$t("design.youYuan"),real:"YouYuan"},{val:this.$t("design.fangSong"),real:"STFangsong"}],showKey:"val",idKey:"real"},itemPerSize:{items:[{val:"0%",real:"0"},{val:"10%",real:"10"},{val:"20%",real:"20"},{val:"30%",real:"30"},{val:"40%",real:"40"},{val:"50%",real:"50"},{val:"60%",real:"60"},{val:"70%",real:"70"},{val:"80%",real:"80"},{val:"90%",real:"90"},{val:"100%",real:"100"}],showKey:"val",idKey:"real",min:0,max:100},itemSize:{items:[{val:"10px",real:"10"},{val:"20px",real:"20"},{val:"30px",real:"30"},{val:"40px",real:"40"},{val:"50px",real:"50"}],showKey:"val",idKey:"real",min:10,max:50},buddleSize:{items:[{val:"10px",real:"10"},{val:"20px",real:"20"},{val:"30px",real:"30"}],showKey:"val",idKey:"real",min:10,max:30},cardSize:{items:[{val:"10px",real:"10"},{val:"50px",real:"50"},{val:"100px",real:"100"},{val:"150px",real:"150"},{val:"200px",real:"200"},{val:"250px",real:"250"},{val:"300px",real:"300"}],showKey:"val",idKey:"real",min:10,max:300},flySize:{items:[{val:"0px",real:"0"},{val:"10px",real:"10"},{val:"20px",real:"20"},{val:"30px",real:"30"}],showKey:"val",idKey:"real",max:30,min:0},grid:{items:[{val:"10px",real:"10"},{val:"20px",real:"20"},{val:"30px",real:"30"},{val:"60px",real:"60"},{val:"120px",real:"120"},{val:"180px",real:"180"},{val:"240px",real:"240"},{val:"300px",real:"300"}],showKey:"val",idKey:"real",min:10,max:300},lineWidth:{items:[{val:"0px",real:"0"},{val:"1px",real:"1"},{val:"2px",real:"2"},{val:"3px",real:"3"},{val:"4px",real:"4"},{val:"5px",real:"5"}],showKey:"val",idKey:"real",max:5,min:0},lineStyle:{items:[{val:"solid"},{val:"dotted"},{val:"dashed"}],showKey:"val",idKey:"val"},barBorderRadius:{items:[{val:"0px",real:"0"},{val:"10px",real:"10"},{val:"20px",real:"20"},{val:"30px",real:"30"},{val:"40px",real:"40"},{val:"50px",real:"50"},{val:"60px",real:"60"},{val:"70px",real:"70"},{val:"80px",real:"80"},{val:"90px",real:"90"},{val:"100px",real:"100"}],showKey:"val",idKey:"real",min:0,max:100},borderRadius:{items:[{val:"0px",real:"0"},{val:"10px",real:"10"},{val:"20px",real:"20"},{val:"30px",real:"30"},{val:"40px",real:"40"},{val:"50px",real:"50"}],showKey:"val",idKey:"real",max:50,min:0},opacity:{items:[{val:"0%",real:"0"},{val:"10%",real:"10"},{val:"20%",real:"20"},{val:"30%",real:"30"},{val:"40%",real:"40"},{val:"50%",real:"50"},{val:"60%",real:"60"},{val:"70%",real:"70"},{val:"80%",real:"80"},{val:"90%",real:"90"},{val:"100%",real:"100"}],showKey:"val",idKey:"real",max:100,min:0},borderWidth:{items:[{val:"0px",real:"0"},{val:"1px",real:"1"},{val:"2px",real:"2"},{val:"3px",real:"3"},{val:"4px",real:"4"},{val:"5px",real:"5"}],showKey:"val",idKey:"real",max:5,min:0},borderStyle:{items:[{val:"solid"},{val:"dotted"},{val:"dashed"},{val:"double"}],showKey:"val",idKey:"val"},formatUnit:{items:[],showKey:"val",idKey:"real"},formatMnt:{items:[{text:"亿",value:"100000000"},{text:"千万",value:"10000000"},{text:"百万",value:"1000000"},{text:"十万",value:"100000"},{text:"万",value:"10000"},{text:"千",value:"1000"},{text:"百",value:"100"},{text:"十",value:"10"},{text:"一",value:"1"},{text:"百分之一",value:"0.01"},{text:"千分之一",value:"0.001"}],showKey:"text",idKey:"value"},formatFmt:{items:[{text:"0",value:"#"},{text:"1",value:"#.0"},{text:"2",value:"#.00"},{text:"3",value:"#.000"},{text:"4",value:"#.0000"},{text:"5",value:"#.00000"},{text:"6",value:"#.000000"},{text:"7",value:"#.0000000"},{text:"8",value:"#.00000000"}],showKey:"text",idKey:"value"},dataAmount:{items:[{val:"0",real:"0"},{val:"10",real:"10"},{val:"20",real:"20"},{val:"30",real:"30"},{val:"40",real:"40"},{val:"50",real:"50"},{val:"60",real:"60"},{val:"70",real:"70"},{val:"80",real:"80"},{val:"90",real:"90"},{val:"100",real:"100"}],showKey:"val",idKey:"real",min:0,max:100}},e={dmOpt:{id:"model_id",name:"model_name",pid:"parentid"},columnOpt:{id:"pkid",name:"des_column",type:"analy_type"}};return{gender:"T",filterselements:"",showMode:!0,dataSourceKeys:{fields:{modelIdKey:"dmId"}},cacheDataSourceKeys:{fields:{modelListKey:"dmList"}},title:{line:this.$t("design.lineLineTitle"),bar:this.$t("design.lineBarTitle"),crossBar:this.$t("design.lineCrossBarTitle"),funnel:this.$t("design.lineFunnelTitle"),gauge:this.$t("design.lineGaugeTitle"),map:this.$t("design.lineMapTitle"),map3D:this.$t("design.lineMapTitle"),pie:this.$t("design.linePieTitle"),radar:this.$t("design.lineRadarTitle")},tabList:[{type:"data",name:this.$t("design.lineData")},{type:"style",name:this.$t("design.lineStyle")}],settingContents:[{type:"data",children:[{name:this.$t("design.lineDataSource"),id:"dataSource",class:"noBg",icon:"icon-datamodel",children:[{showType:"options-radio",settingName:"staticDataSource.isStaticData",trueValue:"",name:"rotate",class:"width-10",detailClass:"left",groups:[{text:this.$t("design.staticData"),value:!0},{text:this.$t("design.dynamicData"),value:!1}]},{showType:"editor-code",showflag:{settingName:"staticDataSource.isStaticData",value:!0},style:{fontSize:"14px",height:"auto",lineHeight:"normal"},settingName:"staticDataSource.data",trueValue:""},{showType:"tabs",class:"width-10",showflag:{settingName:"staticDataSource.isStaticData",value:!1}},{showType:"dropDown-icon-input",showflag:{settingName:"staticDataSource.isStaticData",value:!1},readonly:!0,settingName:"dataSource.dmId",trueValue:"",class:"width-10",detailClass:"fullBorderDropDown",transformByArr:!0,showValueTitle:!0,placeholder:this.$t("design.lineSelectModel"),relative:[{settingName:"dataSource.dimension",val:[]},{settingName:"dataSource.measure",val:[]},{settingName:"dataSource.dataFormatNum",val:0},{settingName:"dataSource.dataFormat",val:""}],selectedCall:"dmSelectedCall",dropDownData:{isShow:!1,type:"tree",defaultItem:"",dropDownUrl:"dataModelUrl",noData:this.$t("design.lineNoModel"),noUrlData:this.$t("design.lineSelectMenuFirst"),dropItemsName:"dmList",dataSource:[],showKey:e.dmOpt.name,idKey:e.dmOpt.id,pidKey:e.dmOpt.pid,showType:"model_type",folder:"directory",chooseFolder:!1,dropDownStyle:{height:"200px"}}},{showType:"dropDown-icon-input",showflag:{settingName:"staticDataSource.isStaticData",value:!1},name:this.$t("design.lineDimension"),nameLength:"5",readonly:!0,settingName:"dataSource.dimension",trueValue:"",class:"width-10",detailClass:"fullBorderDropDown",transformByArr:!0,showValueTitle:!0,placeholder:this.$t("design.lineSelectDimension"),selectedCall:"columnSelectedCall",dropDownData:{isSearch:!0,isShow:!1,isMultiple:!0,maxSelect:this.getLimitedNum("dataSource.dimension"),limited:!0,noData:this.$t("design.lineNoDimension"),transformByArr:!0,showValueTitle:!0,defaultItem:"",dropDownUrl:"columnUrl",urlData:{model_id:"dataSource.dmId"},noUrlData:this.$t("design.lineSelectModelFirst"),dropItemsName:"dimensionList",dataSource:[],showKey:e.columnOpt.name,idKey:e.columnOpt.id,dropDownStyle:{}}},{showType:"dropDown-icon-input",showflag:{settingName:"staticDataSource.isStaticData",value:!1},name:this.$t("design.lineMeasure"),edit:!0,nameLength:"5",readonly:!0,settingName:"dataSource.measure",trueValue:"",class:"width-10",detailClass:"fullBorderDropDown",transformByArr:!0,showValueTitle:!0,placeholder:this.$t("design.lineSelectMeasure"),selectedCall:"columnSelectedCall",dropDownData:{maxSelect:this.getLimitedNum("dataSource.measure"),isSearch:!0,isShow:!1,isMultiple:!0,limited:!0,noData:this.$t("design.lineNoMeasure"),defaultItem:"",dropDownUrl:"columnUrl",urlData:{model_id:"dataSource.dmId"},noUrlData:this.$t("design.lineSelectModelFirst"),dropItemsName:"measureList",dataSource:[],showKey:e.columnOpt.name,idKey:e.columnOpt.id,dropDownStyle:{}}},{showType:"button",showflag:{settingName:"staticDataSource.isStaticData",value:!1},name:this.$t("design.lineDataFormat")+" :",nameLength:"7",class:"width-10",detailClass:"toFormat",callback:"toggleContent",callValue:"dataFormat",buttonIcon:"icon-dataformat"},{showType:"options-checkbox",showflag:{settingName:"staticDataSource.isStaticData",value:!1},settingName:"dataSource.isDataUpdate",text:this.$t("design.isDataUpdate"),class:"width-10",changeFlag:!1},{showType:"input-text",showflag:{settingName:"dataSource.isDataUpdate",value:!0},title:this.$t("design.dataUpdateTime"),settingName:"dataSource.dataUpdateTime",class:"width-10",changeFlag:!1,unit:"ms",validate:{type:"number",min:0}}]}]},{type:"style",children:[{name:this.$t("design.lineTitle"),id:"title",icon:"icon-title",children:[{showType:"input",class:"width-10",detailClass:"titleInput",settingName:"setting.title.text",trueValue:"",placeholder:this.$t("design.lineEnterTitle"),validate:{type:"text",textLength:30}},{showType:"colorPicker-icon",settingName:"setting.title.textStyle.color",class:"width-2 horizontal",iconClass:"icon-font",title:this.$t("design.lineFontColor"),isTransparent:!1},{showType:"dropDown-icon-input",readonly:!0,unit:"px",settingName:"setting.title.textStyle.fontSize",class:"width-4",title:this.$t("design.lineFontSize"),iconClass:"icon-font-size",transformByArr:!1,showValueTitle:!1,validate:{type:"number",min:t.fontSize.min,max:t.fontSize.max},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.fontSize.items,showKey:t.fontSize.showKey,idKey:t.fontSize.idKey,dropDownStyle:{}}},{showType:"dropDown-icon-input",readonly:!0,settingName:"setting.title.textStyle.fontFamily",class:"width-4",iconClass:"icon-font-family",title:this.$t("design.lineFontFamily"),transformByArr:!0,showValueTitle:!1,dropDownData:{isShow:!1,defaultItem:"",dataSource:t.fontFamily.items,showKey:t.fontFamily.showKey,idKey:t.fontFamily.idKey,dropDownStyle:{}}},{showType:"options-icon",settingName:"setting.title.left",class:"width-5 horizontal",detailClass:"averageCenter",groups:[{title:this.$t("design.linePositionLeft"),value:"left",iconClass:"icon-horizontal-left"},{title:this.$t("design.linePositionCenter"),value:"center",iconClass:"icon-horizontal-center"},{title:this.$t("design.linePositionRight"),value:"right",iconClass:"icon-horizontal-right"}]},{showType:"options-icon",settingName:"setting.title.top",class:"width-5 horizontal",detailClass:"averageCenter borderLeft",groups:[{title:this.$t("design.linePositionTop"),value:"top",iconClass:"icon-vertical-top"},{title:this.$t("design.linePositionCenter"),value:"middle",iconClass:"icon-vertical-middle"},{title:this.$t("design.linePositionBottom"),value:"bottom",iconClass:"icon-vertical-bottom"}]}]},{name:this.$t("design.lineLegend"),id:"legend",icon:"icon-legend",children:[{showType:"options-radio",settingName:"setting.legend.show",trueValue:"",class:"width-10",detailClass:"center",groups:[{text:this.$t("design.lineShow"),value:!0},{text:this.$t("design.lineHide"),value:!1}]},{showType:"options-icon",name:this.$t("design.lineOrient")+" :",nameLength:"6",settingName:"setting.legend.orient",class:"width-10",detailClass:"left dividingLine",groups:[{title:this.$t("design.lineTextHorizontal"),value:"horizontal",iconClass:"icon-horizontal"},{title:this.$t("design.lineTextVertival"),value:"vertical",iconClass:"icon-vertical"}]},{showType:"colorPicker-icon",settingName:"setting.legend.textStyle.color",class:"width-2 horizontal",iconClass:"icon-font",title:this.$t("design.lineFontColor"),isTransparent:!1},{showType:"dropDown-icon-input",readonly:!0,unit:"px",settingName:"setting.legend.textStyle.fontSize",class:"width-4",title:this.$t("design.lineFontSize"),iconClass:"icon-font-size",showValueTitle:!1,validate:{type:"number",min:t.fontSize.min,max:t.fontSize.max},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.fontSize.items,showKey:t.fontSize.showKey,idKey:t.fontSize.idKey,dropDownStyle:{}}},{showType:"dropDown-icon-input",readonly:!0,settingName:"setting.legend.textStyle.fontFamily",class:"width-4",iconClass:"icon-font-family",title:this.$t("design.lineFontFamily"),transformByArr:!0,showValueTitle:!1,dropDownData:{isShow:!1,defaultItem:"",dataSource:t.fontFamily.items,showKey:t.fontFamily.showKey,idKey:t.fontFamily.idKey,dropDownStyle:{}}},{showType:"options-icon",settingName:"setting.legend.left",class:"width-5 horizontal",detailClass:"averageCenter",groups:[{title:this.$t("design.linePositionLeft"),value:"left",iconClass:"icon-horizontal-left"},{title:this.$t("design.linePositionCenter"),value:"center",iconClass:"icon-horizontal-center"},{title:this.$t("design.linePositionRight"),value:"right",iconClass:"icon-horizontal-right"}]},{showType:"options-icon",settingName:"setting.legend.top",class:"width-5 horizontal",detailClass:"averageCenter borderLeft",groups:[{title:this.$t("design.linePositionTop"),value:"top",iconClass:"icon-vertical-top"},{title:this.$t("design.linePositionCenter"),value:"middle",iconClass:"icon-vertical-middle"},{title:this.$t("design.linePositionBottom"),value:"bottom",iconClass:"icon-vertical-bottom"}]},{showType:"dropDown-icon-input",readonly:!1,unit:"px",settingName:"setting.legend.itemHeight",class:"width-5",title:this.$t("design.lineItemHeight"),iconClass:"icon-height",transformByArr:!1,showValueTitle:!1,validate:{type:"number",min:t.itemSize.min,max:t.itemSize.max},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.itemSize.items,showKey:t.itemSize.showKey,idKey:t.itemSize.idKey,dropDownStyle:{}}},{showType:"dropDown-icon-input",readonly:!1,unit:"px",settingName:"setting.legend.itemWidth",class:"width-5",title:this.$t("design.lineItemWidth"),iconClass:"icon-width",transformByArr:!1,showValueTitle:!1,validate:{type:"number",min:t.itemSize.min,max:t.itemSize.max},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.itemSize.items,showKey:t.itemSize.showKey,idKey:t.itemSize.idKey,dropDownStyle:{}}}]}]},{type:"dataFormat",children:[{class:"noBg noBorderLeft",children:[{showType:"button",class:"width-10",detailClass:"dataFormatReturn",callback:"toggleContent",callValue:"",buttonIcon:"icon-left-arrow",buttonText:this.$t("design.lineReturn")},{showType:"button",class:"width-10",detailClass:"dataFormatAdd",callback:"addFormat",buttonIcon:"icon-add-format",buttonText:this.$t("design.lineAdd")}]}]}],dataFormatSetting:{class:" noBorderLeft",children:[{showType:"button",class:"width-10 textRight",detailClass:"dataFormatDelete",callback:"deleteFormat",settingName:"",trueValue:"",buttonIcon:"icon-close"},{showType:"dropDown-icon-input",name:this.$t("design.lineSelectedColumn")+" :",nameLength:"5",readonly:!0,settingName:"column",trueValue:"",class:"width-10",detailClass:"fullBorderDropDown",transformByArr:!0,showValueTitle:!1,changeFlag:"formatChangeFlag",dropDownData:{isShow:!1,isMultiple:!0,defaultItem:"",noData:this.$t("design.lineNoColumn"),dropItemsName:"selectedColumnList",dataSourceFilter:"dataFormatFilter",dataSource:[],showKey:"column_clname",idKey:"column_id",dropDownStyle:{}}},{showType:"options-radio",name:this.$t("design.lineSort")+" :",nameLength:"3",settingName:"setting.sort",trueValue:"",class:"width-10",detailClass:"left",changeFlag:"formatChangeFlag",groups:[{text:this.$t("design.lineSortDefault"),value:""},{text:this.$t("design.lineSortAsc"),value:"asc"},{text:this.$t("design.lineSortDesc"),value:"desc"}]},{showType:"dropDown-icon-input",name:this.$t("design.lineUnit")+" :",nameLength:"3",readonly:!0,settingName:"setting.format.unit",trueValue:"",class:"width-10",detailClass:"fullBorderDropDown",changeFlag:"formatChangeFlag",showValueTitle:!1,transformByArr:!0,dropDownData:{isShow:!1,noData:this.$t("design.lineSelectColumnFirst"),noUrlData:this.$t("design.lineSelectMenuFirst"),defaultItem:"",dataSource:t.formatUnit.items,showKey:t.formatUnit.showKey,idKey:t.formatUnit.idKey,dropDownStyle:{}}},{showType:"dropDown-icon-input",name:this.$t("design.lineMnt")+" :",nameLength:"5",readonly:!0,settingName:"setting.format.mnt",trueValue:"",class:"width-10",detailClass:"fullBorderDropDown",changeFlag:"formatChangeFlag",showValueTitle:!1,transformByArr:!0,dropDownData:{isShow:!1,noData:this.$t("design.lineSelectColumnFirst"),noUrlData:this.$t("design.lineSelectMenuFirst"),defaultItem:"",dataSource:t.formatMnt.items,showKey:t.formatMnt.showKey,idKey:t.formatMnt.idKey,dropDownStyle:{}}},{showType:"dropDown-icon-input",name:this.$t("design.lineFmt")+" :",nameLength:"7",readonly:!0,settingName:"setting.format.fmt",trueValue:"",class:"width-10",detailClass:"fullBorderDropDown",changeFlag:"formatChangeFlag",showValueTitle:!1,transformByArr:!0,dropDownData:{isShow:!1,noData:this.$t("design.lineSelectColumnFirst"),noUrlData:this.$t("design.lineSelectMenuFirst"),defaultItem:"",dataSource:t.formatFmt.items,showKey:t.formatFmt.showKey,idKey:t.formatFmt.idKey,dropDownStyle:{}}}]},specialSetting:{line:[{name:this.$t("design.lineGrid"),id:"grid",icon:"icon-grid",children:[{showType:"dropDown-icon-input",readonly:!1,unit:"px",settingName:"setting.grid.top",trueValue:"",class:"width-5",title:this.$t("design.lineGridTop"),iconClass:"icon-top",transformByArr:!1,showValueTitle:!1,validate:{type:"number",min:t.grid.min,max:t.grid.max},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.grid.items,showKey:t.grid.showKey,idKey:t.grid.idKey,dropDownStyle:{}}},{showType:"dropDown-icon-input",readonly:!1,unit:"px",settingName:"setting.grid.bottom",trueValue:"",class:"width-5",title:this.$t("design.lineGridBottom"),iconClass:"icon-bottom",transformByArr:!1,showValueTitle:!1,validate:{type:"number",min:t.grid.min,max:t.grid.max},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.grid.items,showKey:t.grid.showKey,idKey:t.grid.idKey,dropDownStyle:{}}},{showType:"dropDown-icon-input",readonly:!1,unit:"px",settingName:"setting.grid.left",trueValue:"",class:"width-5",title:this.$t("design.lineGridLeft"),iconClass:"icon-left",transformByArr:!1,showValueTitle:!1,validate:{type:"number",min:t.grid.min,max:t.grid.max},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.grid.items,showKey:t.grid.showKey,idKey:t.grid.idKey,dropDownStyle:{}}},{showType:"dropDown-icon-input",readonly:!1,unit:"px",settingName:"setting.grid.right",trueValue:"",class:"width-5",title:this.$t("design.lineGridRight"),iconClass:"icon-right",transformByArr:!1,showValueTitle:!1,validate:{type:"number",min:t.grid.min,max:t.grid.max},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.grid.items,showKey:t.grid.showKey,idKey:t.grid.idKey,dropDownStyle:{}}}]},{name:this.$t("design.lineDirection"),id:"direction",icon:"icon-direction",children:[{showType:"options-radio",settingName:"setting.xDirection",trueValue:"",name:"rotate",class:"width-10",detailClass:"left",groups:[{text:this.$t("design.lineHorizontal"),value:"horizontal"},{text:this.$t("design.lineVertival"),value:"vertical"}]}]},{name:this.$t("design.lineXAxis"),id:"xAxis",icon:"icon-direction",children:[{showType:"options-radio",name:this.$t("design.lineXAxisAxisLabelShow")+":",nameLength:"4",settingName:"setting.xAxis[0].axisLabel.rotate",trueValue:0,class:"width-10",detailClass:"left",groups:[{text:this.$t("design.lineXAxisAxisLabelacross"),value:0},{text:this.$t("design.lineXAxisAxisLabelvertical"),value:270}]},{showType:"options-radio",name:this.$t("design.lineXAxisAxisScrollBar")+":",nameLength:"4",settingName:"setting.dataZoom[0].show",trueValue:!1,class:"width-10",detailClass:"center",groups:[{text:this.$t("design.lineShow"),value:!0},{text:this.$t("design.lineHide"),value:!1}]},{showType:"dropDown-icon-input",showflag:{settingName:"setting.dataZoom[0].show",value:!0},readonly:!1,unit:"",name:this.$t("design.lineXAxisAxisLabelNum")+":",nameLength:"5",settingName:"setting.dataZoom[0].end",class:"width-10",showValueTitle:!1,validate:{type:"number",min:t.dataAmount.min,max:t.dataAmount.max},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.dataAmount.items,showKey:t.dataAmount.showKey,idKey:t.dataAmount.idKey,dropDownStyle:{}}},{showType:"colorPicker-icon",settingName:"setting.xAxis[0].axisLabel.textStyle.color",class:"width-2 horizontal",iconClass:"icon-font",title:this.$t("design.lineFontColor"),isTransparent:!1},{showType:"dropDown-icon-input",readonly:!0,unit:"px",settingName:"setting.xAxis[0].axisLabel.textStyle.fontSize",class:"width-4",title:this.$t("design.lineFontSize"),iconClass:"icon-font-size",showValueTitle:!1,validate:{type:"number",min:t.fontSize.min,max:t.fontSize.max},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.fontSize.items,showKey:t.fontSize.showKey,idKey:t.fontSize.idKey,dropDownStyle:{}}},{showType:"dropDown-icon-input",readonly:!0,settingName:"setting.xAxis[0].axisLabel.textStyle.fontFamily",class:"width-4",iconClass:"icon-font-family",title:this.$t("design.lineFontFamily"),transformByArr:!0,showValueTitle:!1,dropDownData:{isShow:!1,defaultItem:"",dataSource:t.fontFamily.items,showKey:t.fontFamily.showKey,idKey:t.fontFamily.idKey,dropDownStyle:{}}},{class:"width-2 horizontal",iconClass:"icon-dropcolor",isTransparent:!1,settingName:"setting.xAxis[0].axisLine.lineStyle.color",showType:"colorPicker-icon",title:this.$t("design.xAxisLineColor"),trueValue:""}]},{name:this.$t("design.lineYAxis"),id:"yAxis",icon:"icon-direction",children:[{showType:"colorPicker-icon",settingName:"setting.yAxis[0].axisLabel.textStyle.color",class:"width-2 horizontal",iconClass:"icon-font",title:this.$t("design.lineFontColor"),isTransparent:!1},{showType:"dropDown-icon-input",readonly:!0,unit:"px",settingName:"setting.yAxis[0].axisLabel.textStyle.fontSize",class:"width-4",title:this.$t("design.lineFontSize"),iconClass:"icon-font-size",showValueTitle:!1,validate:{type:"number",min:t.fontSize.min,max:t.fontSize.max},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.fontSize.items,showKey:t.fontSize.showKey,idKey:t.fontSize.idKey,dropDownStyle:{}}},{showType:"dropDown-icon-input",readonly:!0,settingName:"setting.yAxis[0].axisLabel.textStyle.fontFamily",class:"width-4",iconClass:"icon-font-family",title:this.$t("design.lineFontFamily"),transformByArr:!0,showValueTitle:!1,dropDownData:{isShow:!1,defaultItem:"",dataSource:t.fontFamily.items,showKey:t.fontFamily.showKey,idKey:t.fontFamily.idKey,dropDownStyle:{}}},{class:"width-2 horizontal",iconClass:"icon-dropcolor",isTransparent:!1,settingName:"setting.yAxis[0].axisLine.lineStyle.color",showType:"colorPicker-icon",title:this.$t("design.xAxisLineColor"),trueValue:""}]}],crossBar:[{name:this.$t("design.lineGrid"),id:"grid",icon:"icon-grid",children:[{showType:"dropDown-icon-input",readonly:!1,unit:"px",settingName:"setting.grid.top",trueValue:"",class:"width-5",title:this.$t("design.lineGridTop"),iconClass:"icon-top",transformByArr:!1,showValueTitle:!1,validate:{type:"number",min:t.grid.min,max:t.grid.max},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.grid.items,showKey:t.grid.showKey,idKey:t.grid.idKey,dropDownStyle:{}}},{showType:"dropDown-icon-input",readonly:!1,unit:"px",settingName:"setting.grid.bottom",trueValue:"",class:"width-5",title:this.$t("design.lineGridBottom"),iconClass:"icon-bottom",transformByArr:!1,showValueTitle:!1,validate:{type:"number",min:t.grid.min,max:t.grid.max},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.grid.items,showKey:t.grid.showKey,idKey:t.grid.idKey,dropDownStyle:{}}},{showType:"dropDown-icon-input",readonly:!1,unit:"px",settingName:"setting.grid.left",trueValue:"",class:"width-5",title:this.$t("design.lineGridLeft"),iconClass:"icon-left",transformByArr:!1,showValueTitle:!1,validate:{type:"number",min:t.grid.min,max:t.grid.max},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.grid.items,showKey:t.grid.showKey,idKey:t.grid.idKey,dropDownStyle:{}}},{showType:"dropDown-icon-input",readonly:!1,unit:"px",settingName:"setting.grid.right",trueValue:"",class:"width-5",title:this.$t("design.lineGridRight"),iconClass:"icon-right",transformByArr:!1,showValueTitle:!1,validate:{type:"number",min:t.grid.min,max:t.grid.max},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.grid.items,showKey:t.grid.showKey,idKey:t.grid.idKey,dropDownStyle:{}}}]},{name:this.$t("design.lineDirection"),id:"direction",icon:"icon-direction",children:[{showType:"options-radio",settingName:"setting.xDirection",trueValue:"",name:"rotate",class:"width-10",detailClass:"left",groups:[{text:this.$t("design.lineHorizontal"),value:"horizontal"},{text:this.$t("design.lineVertival"),value:"vertical"}]}]},{name:this.$t("design.lineYAxis"),id:"yAxis",icon:"icon-direction",children:[{showType:"options-radio",name:this.$t("design.lineXAxisAxisLabelShow")+":",nameLength:"4",settingName:"setting.yAxis[0].axisLabel.rotate",trueValue:270,class:"width-10",detailClass:"left",groups:[{text:this.$t("design.lineXAxisAxisLabelacross"),value:0},{text:this.$t("design.lineXAxisAxisLabelvertical"),value:270}]},{showType:"options-radio",name:this.$t("design.lineXAxisAxisScrollBar")+":",nameLength:"4",settingName:"setting.dataZoom[0].show",trueValue:!1,class:"width-10",detailClass:"center",groups:[{text:this.$t("design.lineShow"),value:!0},{text:this.$t("design.lineHide"),value:!1}]},{showType:"dropDown-icon-input",showflag:{settingName:"setting.dataZoom[0].show",value:!0},readonly:!1,unit:"",name:this.$t("design.lineXAxisAxisLabelNum")+":",nameLength:"5",settingName:"setting.dataZoom[0].end",class:"width-10",showValueTitle:!1,validate:{type:"number",min:t.dataAmount.min,max:t.dataAmount.max},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.dataAmount.items,showKey:t.dataAmount.showKey,idKey:t.dataAmount.idKey,dropDownStyle:{}}},{showType:"colorPicker-icon",settingName:"setting.yAxis[0].axisLabel.textStyle.color",class:"width-2 horizontal",iconClass:"icon-font",title:this.$t("design.lineFontColor"),isTransparent:!1},{showType:"dropDown-icon-input",readonly:!0,unit:"px",settingName:"setting.yAxis[0].axisLabel.textStyle.fontSize",class:"width-4",title:this.$t("design.lineFontSize"),iconClass:"icon-font-size",showValueTitle:!1,validate:{type:"number",min:t.fontSize.min,max:t.fontSize.max},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.fontSize.items,showKey:t.fontSize.showKey,idKey:t.fontSize.idKey,dropDownStyle:{}}},{showType:"dropDown-icon-input",readonly:!0,settingName:"setting.yAxis[0].axisLabel.textStyle.fontFamily",class:"width-4",iconClass:"icon-font-family",title:this.$t("design.lineFontFamily"),transformByArr:!0,showValueTitle:!1,dropDownData:{isShow:!1,defaultItem:"",dataSource:t.fontFamily.items,showKey:t.fontFamily.showKey,idKey:t.fontFamily.idKey,dropDownStyle:{}}},{class:"width-2 horizontal",iconClass:"icon-dropcolor",isTransparent:!1,settingName:"setting.yAxis[0].axisLine.lineStyle.color",showType:"colorPicker-icon",title:this.$t("design.xAxisLineColor"),trueValue:""}]},{name:this.$t("design.lineXAxis"),id:"xAxis",icon:"icon-direction",children:[{showType:"options-radio",name:this.$t("design.lineXAxis")+":",nameLength:"4",settingName:"setting.xAxis[0].show",trueValue:!0,class:"width-10",detailClass:"center",groups:[{text:this.$t("design.lineShow"),value:!0},{text:this.$t("design.lineHide"),value:!1}]},{showType:"options-radio",name:this.$t("design.lineXAxisAxisTextPosition")+":",nameLength:"4",settingName:"setting.series.text.label.position",trueValue:"outside",class:"width-10",detailClass:"center",groups:[{text:this.$t("design.lineXAxisAxisTextPositionOut"),value:"outside"},{text:this.$t("design.lineXAxisAxisTextPositionIn"),value:"inside"}]},{showType:"colorPicker-icon",settingName:"setting.xAxis[0].axisLabel.textStyle.color",class:"width-2 horizontal",iconClass:"icon-font",title:this.$t("design.lineFontColor"),isTransparent:!1},{showType:"dropDown-icon-input",readonly:!0,unit:"px",settingName:"setting.xAxis[0].axisLabel.textStyle.fontSize",class:"width-4",title:this.$t("design.lineFontSize"),iconClass:"icon-font-size",showValueTitle:!1,validate:{type:"number",min:t.fontSize.min,max:t.fontSize.max},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.fontSize.items,showKey:t.fontSize.showKey,idKey:t.fontSize.idKey,dropDownStyle:{}}},{showType:"dropDown-icon-input",readonly:!0,settingName:"setting.xAxis[0].axisLabel.textStyle.fontFamily",class:"width-4",iconClass:"icon-font-family",title:this.$t("design.lineFontFamily"),transformByArr:!0,showValueTitle:!1,dropDownData:{isShow:!1,defaultItem:"",dataSource:t.fontFamily.items,showKey:t.fontFamily.showKey,idKey:t.fontFamily.idKey,dropDownStyle:{}}},{class:"width-2 horizontal",iconClass:"icon-dropcolor",isTransparent:!1,settingName:"setting.xAxis[0].axisLine.lineStyle.color",showType:"colorPicker-icon",title:this.$t("design.xAxisLineColor"),trueValue:""}]},{name:this.$t("design.crossBarSet"),id:"crossBarSet",icon:"icon-grid",children:[{showType:"seekBar",settingName:"setting.grid.scale",trueValue:"",class:"width-10",iconClassMin:"icon-circle-small",iconClassMax:"icon-circle-large",titleMin:this.$t("design.crossBarSetIn"),titleMax:this.$t("design.crossBarSetIn"),unit:"%",min:0,max:100},{showType:"dropDown-icon-input",readonly:!1,unit:"%",settingName:"setting.series.barGap",class:"width-5",title:this.$t("design.crossBarSetBarGap"),iconClass:"icon-width",transformByArr:!1,showValueTitle:!1,validate:{type:"number",min:t.itemPerSize.min,max:t.itemPerSize.max},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.itemPerSize.items,showKey:t.itemPerSize.showKey,idKey:t.itemPerSize.idKey,dropDownStyle:{}}},{showType:"dropDown-icon-input",title:this.$t("design.reportBorderRadius"),readonly:!1,unit:"px",settingName:"setting.series.barBorderRadius",trueValue:"",class:"width-5",iconClass:"icon-rounded-corner",transformByArr:!1,showValueTitle:!1,validate:{type:"number",min:t.barBorderRadius.min,max:t.barBorderRadius.max,unit:"px"},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.barBorderRadius.items,showKey:t.barBorderRadius.showKey,idKey:t.barBorderRadius.idKey,dropDownStyle:{}}}]}],funnel:[{name:this.$t("design.carouselSet"),id:"carouselSet",icon:"icon-series",children:[{showType:"options-radio",name:this.$t("design.showCarousel")+":",nameLength:"4",settingName:"setting.series.carousel.show",trueValue:!1,class:"width-10",detailClass:"center",groups:[{text:this.$t("design.yes"),value:!0},{text:this.$t("design.no"),value:!1}]},{showType:"input",class:"width-10",name:this.$t("design.showCarouselTime")+":",nameLength:"6",detailClass:"titleInput",settingName:"setting.series.carousel.time",trueValue:.5,validate:{type:"number",min:.5}}]}],gauge:[{name:this.$t("design.carouselSet"),id:"carouselSet",icon:"icon-series",children:[{showType:"options-radio",name:this.$t("design.showCarousel")+":",nameLength:"4",settingName:"setting.series.carousel.show",trueValue:!1,class:"width-10",detailClass:"center",groups:[{text:this.$t("design.yes"),value:!0},{text:this.$t("design.no"),value:!1}]},{showType:"input",class:"width-10",name:this.$t("design.showCarouselTime")+":",nameLength:"6",detailClass:"titleInput",settingName:"setting.series.carousel.time",trueValue:.5,validate:{type:"number",min:.5}}]}],map:[{name:this.$t("design.graph"),id:"graph",icon:"icon-series",children:[{showType:"options-radio",name:"",nameLength:"4",settingName:"mapType",trueValue:"3d",class:"width-10",detailClass:"center",groups:[{text:this.$t("design.2dMap"),value:"map"},{text:this.$t("design.3dMap"),value:"map3D"}]},{showType:"colorPicker-icon",settingName:"setting.geo.itemStyle.normal.borderColor",trueValue:"",class:"width-2 horizontal",title:this.$t("design.lineSeriesColor"),iconClass:"icon-dropcolor",isTransparent:!1},{showType:"dropDown-icon-input",readonly:!0,unit:"px",settingName:"setting.geo.itemStyle.normal.borderWidth",title:this.$t("design.lineLineWidth"),trueValue:"",class:"width-4",iconClass:"icon-linewidth",transformByArr:!1,showValueTitle:!1,validate:{type:"number",min:t.lineWidth.min,max:t.lineWidth.max},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.lineWidth.items,showKey:t.lineWidth.showKey,idKey:t.lineWidth.idKey,dropDownStyle:{}}},{showType:"dropDown-icon-input",readonly:!0,settingName:"setting.geo.itemStyle.normal.borderType",trueValue:"",class:"width-4",iconClass:"icon-borderstyle",title:this.$t("design.lineLineStyle"),transformByArr:!1,showValueTitle:!1,dropDownData:{isShow:!1,defaultItem:"",dataSource:t.lineStyle.items,showKey:t.lineStyle.showKey,idKey:t.lineStyle.idKey,dropDownStyle:{"min-width":"80px"}}},{showType:"colorPicker-icon",settingName:"setting.series.map.itemStyle.color",trueValue:"",class:"width-2 horizontal",title:this.$t("design.lineSeriesColor"),iconClass:"icon-bgcolor",isTransparent:!1}]},{name:this.$t("design.animation"),id:"animation",icon:"icon-series",children:[{showType:"options-radio",name:this.$t("design.showBubble")+":",nameLength:"6",settingName:"setting.series.effectScatter.show",trueValue:!0,class:"width-10",detailClass:"center",groups:[{text:this.$t("design.yes"),value:!0},{text:this.$t("design.no"),value:!1}]},{showType:"colorPicker-icon",name:this.$t("design.BubbleColor")+":",nameLength:"6",settingName:"setting.series.effectScatter.itemStyle.color",trueValue:"",class:"width-10",title:this.$t("design.BubbleColor"),iconClass:"icon-bgcolor",isTransparent:!1},{showType:"text",title:this.$t("design.BubbleSize"),class:"width-10",changeFlag:!1,unit:"ms",id:"pointerText"},{showType:"dropDown-icon-input",unit:"px",name:this.$t("design.polyMin")+":",nameLength:"3",settingName:"setting.series.effectScatter.buddleMin",class:"width-5",showValueTitle:!1,validate:{type:"number",min:t.buddleSize.min,max:t.buddleSize.max,cb:function(t,e,a,i){var o=0,s=0;return"setting.series.effectScatter.buddleMax"===t?(s=e)<(o=a("setting.series.effectScatter.buddleMin"))&&(i=o):"setting.series.effectScatter.buddleMin"===t&&(o=e)>(s=a("setting.series.effectScatter.buddleMax"))&&(i=s),i}},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.buddleSize.items,showKey:t.buddleSize.showKey,idKey:t.buddleSize.idKey,dropDownStyle:{}}},{showType:"dropDown-icon-input",unit:"px",name:this.$t("design.polyMax")+":",nameLength:"3",settingName:"setting.series.effectScatter.buddleMax",class:"width-5",showValueTitle:!1,validate:{type:"number",min:t.buddleSize.min,max:t.buddleSize.max,cb:function(t,e,a,i){var o=0,s=0;return"setting.series.effectScatter.buddleMax"===t?(s=e)<(o=a("setting.series.effectScatter.buddleMin"))&&(i=o):"setting.series.effectScatter.buddleMin"===t&&(o=e)>(s=a("setting.series.effectScatter.buddleMax"))&&(i=s),i}},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.buddleSize.items,showKey:t.buddleSize.showKey,idKey:t.buddleSize.idKey,dropDownStyle:{}}},{showType:"options-radio",name:this.$t("design.showCard")+":",nameLength:"6",settingName:"setting.series.effectScatter.tooltip.show",trueValue:!0,class:"width-10",detailClass:"center",groups:[{text:this.$t("design.yes"),value:!0},{text:this.$t("design.no"),value:!1}]},{showType:"text",title:this.$t("design.CardColor"),class:"width-10",changeFlag:!1,unit:"ms",id:"pointerText"},{showType:"colorPicker-icon",settingName:"setting.series.effectScatter.tooltip.borderColor",trueValue:"",class:"width-2 horizontal",title:this.$t("design.lineSeriesColor"),iconClass:"icon-dropcolor",isTransparent:!1},{showType:"dropDown-icon-input",readonly:!0,unit:"px",settingName:"setting.series.effectScatter.tooltip.borderWidth",title:this.$t("design.lineLineWidth"),trueValue:"",class:"width-4",iconClass:"icon-linewidth",transformByArr:!1,showValueTitle:!1,validate:{type:"number",min:t.lineWidth.min,max:t.lineWidth.max},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.lineWidth.items,showKey:t.lineWidth.showKey,idKey:t.lineWidth.idKey,dropDownStyle:{}}},{showType:"dropDown-icon-input",readonly:!0,settingName:"setting.series.effectScatter.tooltip.borderType",trueValue:"",class:"width-4",iconClass:"icon-borderstyle",title:this.$t("design.lineLineStyle"),transformByArr:!1,showValueTitle:!1,dropDownData:{isShow:!1,defaultItem:"",dataSource:t.lineStyle.items,showKey:t.lineStyle.showKey,idKey:t.lineStyle.idKey,dropDownStyle:{"min-width":"80px"}}},{showType:"colorPicker-icon",settingName:"setting.series.effectScatter.tooltip.backgroundColor",trueValue:"",class:"width-2 horizontal",title:this.$t("design.lineSeriesColor"),iconClass:"icon-bgcolor",isTransparent:!1},{showType:"text",title:this.$t("design.CardSize"),class:"width-10",changeFlag:!1,unit:"ms",id:"pointerText"},{showType:"dropDown-icon-input",readonly:!1,unit:"px",settingName:"setting.series.effectScatter.tooltip.height",class:"width-5",title:this.$t("design.lineItemHeight"),iconClass:"icon-height",transformByArr:!1,showValueTitle:!1,validate:{type:"number",min:t.cardSize.min,max:t.cardSize.max},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.cardSize.items,showKey:t.cardSize.showKey,idKey:t.cardSize.idKey,dropDownStyle:{}}},{showType:"dropDown-icon-input",readonly:!1,unit:"px",settingName:"setting.series.effectScatter.tooltip.width",class:"width-5",title:this.$t("design.lineItemWidth"),iconClass:"icon-width",transformByArr:!1,showValueTitle:!1,validate:{type:"number",min:t.cardSize.min,max:t.cardSize.max},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.cardSize.items,showKey:t.cardSize.showKey,idKey:t.cardSize.idKey,dropDownStyle:{}}},{showType:"colorPicker-icon",settingName:"setting.series.effectScatter.tooltip.textStyle.color",class:"width-2 horizontal",iconClass:"icon-font",title:this.$t("design.lineFontColor"),isTransparent:!1},{showType:"dropDown-icon-input",readonly:!0,unit:"px",settingName:"setting.series.effectScatter.tooltip.textStyle.fontSize",class:"width-4",title:this.$t("design.lineFontSize"),iconClass:"icon-font-size",showValueTitle:!1,validate:{type:"number",min:t.fontSize.min,max:t.fontSize.max},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.fontSize.items,showKey:t.fontSize.showKey,idKey:t.fontSize.idKey,dropDownStyle:{}}},{showType:"dropDown-icon-input",readonly:!0,settingName:"setting.series.effectScatter.tooltip.textStyle.fontFamily",class:"width-4",iconClass:"icon-font-family",title:this.$t("design.lineFontFamily"),transformByArr:!0,showValueTitle:!1,dropDownData:{isShow:!1,defaultItem:"",dataSource:t.fontFamily.items,showKey:t.fontFamily.showKey,idKey:t.fontFamily.idKey,dropDownStyle:{}}},{showType:"options-radio",name:this.$t("design.showCarousel")+":",nameLength:"4",settingName:"setting.series.carousel.show",trueValue:!1,class:"width-10",detailClass:"center",groups:[{text:this.$t("design.yes"),value:!0},{text:this.$t("design.no"),value:!1}]},{showType:"input",class:"width-10",name:this.$t("design.showCarouselTime")+":",nameLength:"6",detailClass:"titleInput",settingName:"setting.series.carousel.time",trueValue:.5,validate:{type:"number",min:.5}},{showType:"options-radio",name:this.$t("design.showFlyLine")+":",nameLength:"6",settingName:"setting.series.lines.show",trueValue:!0,class:"width-10",detailClass:"center",groups:[{text:this.$t("design.yes"),value:!0},{text:this.$t("design.no"),value:!1}]},{showType:"text",title:this.$t("design.FlyLineColor"),class:"width-10",changeFlag:!1,unit:"ms",id:"pointerText"},{showType:"colorPicker-icon",settingName:"setting.series.lines.lineStyle.color",trueValue:"",class:"width-2 horizontal",title:this.$t("design.lineSeriesColor"),iconClass:"icon-dropcolor",isTransparent:!1},{showType:"dropDown-icon-input",unit:"px",settingName:"setting.series.lines.lineStyle.width",title:this.$t("design.lineLineWidth"),trueValue:"",class:"width-4",iconClass:"icon-linewidth",transformByArr:!1,showValueTitle:!1,validate:{type:"number",min:t.flySize.min,max:t.flySize.max},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.flySize.items,showKey:t.flySize.showKey,idKey:t.flySize.idKey,dropDownStyle:{}}},{showType:"dropDown-icon-input",readonly:!0,settingName:"setting.series.lines.lineStyle.type",trueValue:"",class:"width-4",iconClass:"icon-borderstyle",title:this.$t("design.lineLineStyle"),transformByArr:!1,showValueTitle:!1,dropDownData:{isShow:!1,defaultItem:"",dataSource:t.lineStyle.items,showKey:t.lineStyle.showKey,idKey:t.lineStyle.idKey,dropDownStyle:{"min-width":"80px"}}},{showType:"colorPicker-icon",settingName:"setting.series.lines.effect.color",trueValue:"",class:"width-2 horizontal",title:this.$t("design.lineSeriesColor"),iconClass:"icon-bgcolor",isTransparent:!1},{showType:"input",class:"width-10",name:this.$t("design.FlySpeed")+":",nameLength:"6",detailClass:"titleInput",settingName:"setting.series.lines.effect.period",trueValue:.5,validate:{type:"number",min:1}},{showType:"input",class:"width-10",name:this.$t("design.FlyCircular")+":",nameLength:"6",detailClass:"titleInput",settingName:"setting.series.lines.lineStyle.curveness",trueValue:.5,validate:{type:"number",min:0,max:1}},{showType:"input",class:"width-10",name:this.$t("design.ArrowSize")+":",nameLength:"6",detailClass:"titleInput",settingName:"setting.series.lines.effect.symbolSize",trueValue:.5,validate:{type:"number",min:1}}]}],map3D:[{name:this.$t("design.graph"),id:"graph",icon:"icon-series",children:[{showType:"options-radio",name:"",nameLength:"4",settingName:"mapType",trueValue:"map3D",class:"width-10",detailClass:"center",groups:[{text:this.$t("design.2dMap"),value:"map"},{text:this.$t("design.3dMap"),value:"map3D"}]},{showType:"colorPicker-icon",settingName:"setting.map.geo.itemStyle.normal.borderColor",trueValue:"",class:"width-2 horizontal",title:this.$t("design.lineSeriesColor"),iconClass:"icon-dropcolor",isTransparent:!1},{showType:"dropDown-icon-input",readonly:!0,unit:"px",settingName:"setting.map.geo.itemStyle.normal.borderWidth",title:this.$t("design.lineLineWidth"),trueValue:"",class:"width-4",iconClass:"icon-linewidth",transformByArr:!1,showValueTitle:!1,validate:{type:"number",min:t.lineWidth.min,max:t.lineWidth.max},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.lineWidth.items,showKey:t.lineWidth.showKey,idKey:t.lineWidth.idKey,dropDownStyle:{}}},{showType:"dropDown-icon-input",readonly:!0,settingName:"setting.map.geo.itemStyle.normal.borderType",trueValue:"",class:"width-4",iconClass:"icon-borderstyle",title:this.$t("design.lineLineStyle"),transformByArr:!1,showValueTitle:!1,dropDownData:{isShow:!1,defaultItem:"",dataSource:t.lineStyle.items,showKey:t.lineStyle.showKey,idKey:t.lineStyle.idKey,dropDownStyle:{"min-width":"80px"}}},{showType:"colorPicker-icon",settingName:"setting.series.map.itemStyle.color",trueValue:"",class:"width-2 horizontal",title:this.$t("design.lineSeriesColor"),iconClass:"icon-bgcolor",isTransparent:!1}]},{name:this.$t("design.animation"),id:"animation",icon:"icon-series",children:[{showType:"options-radio",name:this.$t("design.showBubble")+":",nameLength:"6",settingName:"setting.series.scatter3D.show",trueValue:!0,class:"width-10",detailClass:"center",groups:[{text:this.$t("design.yes"),value:!0},{text:this.$t("design.no"),value:!1}]},{showType:"colorPicker-icon",name:this.$t("design.BubbleColor")+":",nameLength:"6",settingName:"setting.series.scatter3D.itemStyle.color",trueValue:"",class:"width-10",title:this.$t("design.BubbleColor"),iconClass:"icon-bgcolor",isTransparent:!1},{showType:"text",title:this.$t("design.BubbleSize"),class:"width-10",changeFlag:!1,unit:"ms",id:"pointerText"},{showType:"dropDown-icon-input",unit:"px",name:this.$t("design.polyMin")+":",nameLength:"3",settingName:"setting.series.scatter3D.buddleMin",class:"width-5",showValueTitle:!1,validate:{type:"number",min:t.buddleSize.min,max:t.buddleSize.max,cb:function(t,e,a,i){var o=0,s=0;return"setting.series.scatter3D.buddleMax"===t?(s=e)<(o=a("setting.series.scatter3D.buddleMin"))&&(i=o):"setting.series.scatter3D.buddleMin"===t&&(o=e)>(s=a("setting.series.scatter3D.buddleMax"))&&(i=s),i}},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.buddleSize.items,showKey:t.buddleSize.showKey,idKey:t.buddleSize.idKey,dropDownStyle:{}}},{showType:"dropDown-icon-input",unit:"px",name:this.$t("design.polyMax")+":",nameLength:"3",settingName:"setting.series.scatter3D.buddleMax",class:"width-5",showValueTitle:!1,validate:{type:"number",min:t.buddleSize.min,max:t.buddleSize.max,cb:function(t,e,a,i){var o=0,s=0;return"setting.series.scatter3D.buddleMax"===t?(s=e)<(o=a("setting.series.scatter3D.buddleMin"))&&(i=o):"setting.series.scatter3D.buddleMin"===t&&(o=e)>(s=a("setting.series.scatter3D.buddleMax"))&&(i=s),i}},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.buddleSize.items,showKey:t.buddleSize.showKey,idKey:t.buddleSize.idKey,dropDownStyle:{}}},{showType:"options-radio",name:this.$t("design.showFlyLine")+":",nameLength:"6",settingName:"setting.series.lines3D.show",trueValue:!0,class:"width-10",detailClass:"center",groups:[{text:this.$t("design.yes"),value:!0},{text:this.$t("design.no"),value:!1}]},{showType:"text",title:this.$t("design.FlyLineColor"),class:"width-10",changeFlag:!1,unit:"ms",id:"pointerText"},{showType:"colorPicker-icon",settingName:"setting.series.lines3D.lineStyle.color",trueValue:"",class:"width-2 horizontal",title:this.$t("design.lineSeriesColor"),iconClass:"icon-dropcolor",isTransparent:!1},{showType:"dropDown-icon-input",unit:"px",settingName:"setting.series.lines3D.lineStyle.width",title:this.$t("design.lineLineWidth"),trueValue:"",class:"width-4",iconClass:"icon-linewidth",transformByArr:!1,showValueTitle:!1,validate:{type:"number",min:t.flySize.min,max:t.flySize.max},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.flySize.items,showKey:t.flySize.showKey,idKey:t.flySize.idKey,dropDownStyle:{}}},{showType:"colorPicker-icon",settingName:"setting.series.lines3D.effect.trailColor",trueValue:"",class:"width-2 horizontal",title:this.$t("design.lineSeriesColor"),iconClass:"icon-bgcolor",isTransparent:!1},{showType:"input",class:"width-10",name:this.$t("design.FlySpeed")+":",nameLength:"6",detailClass:"titleInput",settingName:"setting.series.lines3D.effect.period",trueValue:.5,validate:{type:"number",min:1}},{showType:"input",class:"width-10",name:this.$t("design.ArrowSize")+":",nameLength:"6",detailClass:"titleInput",settingName:"setting.series.lines3D.effect.trailWidth",trueValue:.5,validate:{type:"number",min:1}},{showType:"options-radio",name:this.$t("design.eArthRotate")+":",nameLength:"6",settingName:"setting.series.carousel.show",trueValue:!1,class:"width-10",detailClass:"center",groups:[{text:this.$t("design.yes"),value:!0},{text:this.$t("design.no"),value:!1}]},{showType:"input",class:"width-10",name:this.$t("design.eArthRotateSpeed")+":",nameLength:"6",detailClass:"titleInput",settingName:"setting.series.carousel.speed",trueValue:0,validate:{type:"number",min:0}}]}]},seriesSetting:{line:{name:this.$t("design.lineSeries"),id:"series",icon:"icon-series",children:[{showType:"options-radio",settingName:"type",trueValue:"",class:"width-10",detailClass:"center",groups:[{text:this.$t("design.lineSeriesLine"),value:"line"},{text:this.$t("design.lineSeriesBar"),value:"bar"}],relative:[{settingName:"lineStyle.normal.width",val:2},{settingName:"lineStyle.normal.type",val:"solid"}]},{showType:"options-radio",settingName:"position",trueValue:"",class:"width-10",style:{height:"auto"},detailClass:"center",name:"position",groups:[{text:this.$t("design.lineLeft"),value:"left"},{text:this.$t("design.lineRight"),value:"right"}]},{showType:"colorPicker-icon",settingName:"itemStyle.normal.color",trueValue:"",class:"width-2 horizontal",title:this.$t("design.lineSeriesColor"),iconClass:"icon-dropcolor",isTransparent:!1},{showType:"dropDown-icon-input",showflag:{settingName:"type",value:"line"},readonly:!0,unit:"px",settingName:"lineStyle.normal.width",title:this.$t("design.lineLineWidth"),trueValue:"",class:"width-4",iconClass:"icon-linewidth",transformByArr:!1,showValueTitle:!1,validate:{type:"number",min:t.lineWidth.min,max:t.lineWidth.max},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.lineWidth.items,showKey:t.lineWidth.showKey,idKey:t.lineWidth.idKey,dropDownStyle:{}}},{showType:"dropDown-icon-input",showflag:{settingName:"type",value:"line"},readonly:!0,settingName:"lineStyle.normal.type",trueValue:"",class:"width-4",iconClass:"icon-borderstyle",title:this.$t("design.lineLineStyle"),transformByArr:!1,showValueTitle:!1,dropDownData:{isShow:!1,defaultItem:"",dataSource:t.lineStyle.items,showKey:t.lineStyle.showKey,idKey:t.lineStyle.idKey,dropDownStyle:{"min-width":"80px"}}}]},crossBar1:{name:this.$t("design.lineSeries"),id:"series",icon:"icon-series",children:[{showType:"options-radio",settingName:"type",trueValue:"",class:"width-10",detailClass:"center",groups:[{text:this.$t("design.lineSeriesLine"),value:"line"},{text:this.$t("design.lineSeriesBar"),value:"crossBar1"}],relative:[{settingName:"lineStyle.normal.width",val:2},{settingName:"lineStyle.normal.type",val:"solid"}]},{showType:"options-radio",settingName:"position",trueValue:"",class:"width-10",style:{height:"auto"},detailClass:"center",name:"position",groups:[{text:this.$t("design.lineLeft"),value:"left"},{text:this.$t("design.lineRight"),value:"right"}]},{showType:"colorPicker-icon",settingName:"itemStyle.normal.borderColor",trueValue:"",class:"width-2 horizontal",title:this.$t("design.lineSeriesColor"),iconClass:"icon-dropcolor",isTransparent:!1},{showType:"colorPicker-icon",settingName:"itemStyle.normal.color",trueValue:"",class:"width-2 horizontal",title:this.$t("design.lineSeriesColor"),iconClass:"icon-bgcolor",isTransparent:!1},{showType:"dropDown-icon-input",showflag:{settingName:"type",value:"line"},readonly:!0,unit:"px",settingName:"lineStyle.normal.width",title:this.$t("design.lineLineWidth"),trueValue:"",class:"width-4",iconClass:"icon-linewidth",transformByArr:!1,showValueTitle:!1,validate:{type:"number",min:t.lineWidth.min,max:t.lineWidth.max},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.lineWidth.items,showKey:t.lineWidth.showKey,idKey:t.lineWidth.idKey,dropDownStyle:{}}},{showType:"dropDown-icon-input",showflag:{settingName:"type",value:"line"},readonly:!0,settingName:"lineStyle.normal.type",trueValue:"",class:"width-4",iconClass:"icon-borderstyle",title:this.$t("design.lineLineStyle"),transformByArr:!1,showValueTitle:!1,dropDownData:{isShow:!1,defaultItem:"",dataSource:t.lineStyle.items,showKey:t.lineStyle.showKey,idKey:t.lineStyle.idKey,dropDownStyle:{"min-width":"80px"}}}]},crossBar2:{name:this.$t("design.lineSeries"),id:"series",icon:"icon-series",children:[{showType:"options-radio",settingName:"type",trueValue:"",class:"width-10",detailClass:"center",groups:[{text:this.$t("design.lineSeriesLine"),value:"line"},{text:this.$t("design.lineSeriesBar"),value:"crossBar2"}],relative:[{settingName:"lineStyle.normal.width",val:2},{settingName:"lineStyle.normal.type",val:"solid"}]},{showType:"options-radio",settingName:"position",trueValue:"",class:"width-10",style:{height:"auto"},detailClass:"center",name:"position",groups:[{text:this.$t("design.lineLeft"),value:"left"},{text:this.$t("design.lineRight"),value:"right"}]},{showType:"colorPicker-icon",settingName:"itemStyle.normal.borderColor",trueValue:"",class:"width-2 horizontal",title:this.$t("design.lineSeriesColor"),iconClass:"icon-dropcolor",isTransparent:!1},{showType:"colorPicker-icon",settingName:"itemStyle.normal.color",trueValue:"",class:"width-2 horizontal",title:this.$t("design.lineSeriesColor"),iconClass:"icon-bgcolor",isTransparent:!1},{showType:"dropDown-icon-input",showflag:{settingName:"type",value:"line"},readonly:!0,unit:"px",settingName:"lineStyle.normal.width",title:this.$t("design.lineLineWidth"),trueValue:"",class:"width-4",iconClass:"icon-linewidth",transformByArr:!1,showValueTitle:!1,validate:{type:"number",min:t.lineWidth.min,max:t.lineWidth.max},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.lineWidth.items,showKey:t.lineWidth.showKey,idKey:t.lineWidth.idKey,dropDownStyle:{}}},{showType:"dropDown-icon-input",showflag:{settingName:"type",value:"line"},readonly:!0,settingName:"lineStyle.normal.type",trueValue:"",class:"width-4",iconClass:"icon-borderstyle",title:this.$t("design.lineLineStyle"),transformByArr:!1,showValueTitle:!1,dropDownData:{isShow:!1,defaultItem:"",dataSource:t.lineStyle.items,showKey:t.lineStyle.showKey,idKey:t.lineStyle.idKey,dropDownStyle:{"min-width":"80px"}}}]},crossBar3:{name:this.$t("design.lineSeries"),id:"series",icon:"icon-series",children:[{showType:"options-radio",settingName:"type",trueValue:"",class:"width-10",detailClass:"center",groups:[{text:this.$t("design.lineSeriesLine"),value:"line"},{text:this.$t("design.lineSeriesBar"),value:"crossBar3"}],relative:[{settingName:"lineStyle.normal.width",val:2},{settingName:"lineStyle.normal.type",val:"solid"}]},{showType:"options-radio",settingName:"position",trueValue:"",class:"width-10",style:{height:"auto"},detailClass:"center",name:"position",groups:[{text:this.$t("design.lineLeft"),value:"left"},{text:this.$t("design.lineRight"),value:"right"}]},{showType:"colorPicker-icon",settingName:"itemStyle.normal.borderColor",trueValue:"",class:"width-2 horizontal",title:this.$t("design.lineSeriesColor"),iconClass:"icon-dropcolor",isTransparent:!1},{showType:"colorPicker-icon",settingName:"itemStyle.normal.color",trueValue:"",class:"width-2 horizontal",title:this.$t("design.lineSeriesColor"),iconClass:"icon-bgcolor",isTransparent:!1},{showType:"dropDown-icon-input",showflag:{settingName:"type",value:"line"},readonly:!0,unit:"px",settingName:"lineStyle.normal.width",title:this.$t("design.lineLineWidth"),trueValue:"",class:"width-4",iconClass:"icon-linewidth",transformByArr:!1,showValueTitle:!1,validate:{type:"number",min:t.lineWidth.min,max:t.lineWidth.max},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.lineWidth.items,showKey:t.lineWidth.showKey,idKey:t.lineWidth.idKey,dropDownStyle:{}}},{showType:"dropDown-icon-input",showflag:{settingName:"type",value:"line"},readonly:!0,settingName:"lineStyle.normal.type",trueValue:"",class:"width-4",iconClass:"icon-borderstyle",title:this.$t("design.lineLineStyle"),transformByArr:!1,showValueTitle:!1,dropDownData:{isShow:!1,defaultItem:"",dataSource:t.lineStyle.items,showKey:t.lineStyle.showKey,idKey:t.lineStyle.idKey,dropDownStyle:{"min-width":"80px"}}}]},crossBar4:{name:this.$t("design.lineSeries"),id:"series",icon:"icon-series",children:[{showType:"options-radio",settingName:"type",trueValue:"",class:"width-10",detailClass:"center",groups:[{text:this.$t("design.lineSeriesLine"),value:"line"},{text:this.$t("design.lineSeriesBar"),value:"crossBar4"}],relative:[{settingName:"lineStyle.normal.width",val:2},{settingName:"lineStyle.normal.type",val:"solid"}]},{showType:"options-radio",settingName:"position",trueValue:"",class:"width-10",style:{height:"auto"},detailClass:"center",name:"position",groups:[{text:this.$t("design.lineLeft"),value:"left"},{text:this.$t("design.lineRight"),value:"right"}]},{showType:"colorPicker-icon",settingName:"itemStyle.normal.borderColor",trueValue:"",class:"width-2 horizontal",title:this.$t("design.lineSeriesColor"),iconClass:"icon-dropcolor",isTransparent:!1},{showType:"colorPicker-icon",settingName:"itemStyle.normal.color",trueValue:"",class:"width-2 horizontal",title:this.$t("design.lineSeriesColor"),iconClass:"icon-bgcolor",isTransparent:!1},{showType:"dropDown-icon-input",showflag:{settingName:"type",value:"line"},readonly:!0,unit:"px",settingName:"lineStyle.normal.width",title:this.$t("design.lineLineWidth"),trueValue:"",class:"width-4",iconClass:"icon-linewidth",transformByArr:!1,showValueTitle:!1,validate:{type:"number",min:t.lineWidth.min,max:t.lineWidth.max},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.lineWidth.items,showKey:t.lineWidth.showKey,idKey:t.lineWidth.idKey,dropDownStyle:{}}},{showType:"dropDown-icon-input",showflag:{settingName:"type",value:"line"},readonly:!0,settingName:"lineStyle.normal.type",trueValue:"",class:"width-4",iconClass:"icon-borderstyle",title:this.$t("design.lineLineStyle"),transformByArr:!1,showValueTitle:!1,dropDownData:{isShow:!1,defaultItem:"",dataSource:t.lineStyle.items,showKey:t.lineStyle.showKey,idKey:t.lineStyle.idKey,dropDownStyle:{"min-width":"80px"}}}]},funnel:{series:{name:this.$t("design.lineSeries"),id:"series",icon:"icon-series",children:[{showType:"options-radio",name:this.$t("design.lineXAxisAxisTextPosition")+":",nameLength:"4",settingName:"label.normal.position",trueValue:"right",class:"width-10",detailClass:"center",groups:[{text:this.$t("design.lineLeft"),value:"left"},{text:this.$t("design.lineRight"),value:"right"},{text:this.$t("design.lineInside"),value:"inside"}]},{showType:"colorPicker-icon",settingName:"label.normal.textStyle.color",class:"width-2 horizontal",iconClass:"icon-font",title:this.$t("design.lineFontColor"),isTransparent:!1},{showType:"dropDown-icon-input",readonly:!0,unit:"px",settingName:"label.normal.textStyle.fontSize",class:"width-4",title:this.$t("design.lineFontSize"),iconClass:"icon-font-size",showValueTitle:!1,validate:{type:"number",min:t.fontSize.min,max:t.fontSize.max},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.fontSize.items,showKey:t.fontSize.showKey,idKey:t.fontSize.idKey,dropDownStyle:{}}},{showType:"dropDown-icon-input",readonly:!0,settingName:"label.normal.textStyle.fontFamily",class:"width-4",iconClass:"icon-font-family",title:this.$t("design.lineFontFamily"),transformByArr:!0,showValueTitle:!1,dropDownData:{isShow:!1,defaultItem:"",dataSource:t.fontFamily.items,showKey:t.fontFamily.showKey,idKey:t.fontFamily.idKey,dropDownStyle:{}}},{showType:"colorPicker-icon",settingName:"itemStyle.normal.borderColor",trueValue:"",class:"width-2 horizontal",title:this.$t("design.lineSeriesColor"),iconClass:"icon-dropcolor",isTransparent:!1},{showType:"dropDown-icon-input",readonly:!0,unit:"px",settingName:"itemStyle.normal.borderWidth",title:this.$t("design.lineLineWidth"),trueValue:"",class:"width-4",iconClass:"icon-linewidth",transformByArr:!1,showValueTitle:!1,validate:{type:"number",min:t.lineWidth.min,max:t.lineWidth.max},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.lineWidth.items,showKey:t.lineWidth.showKey,idKey:t.lineWidth.idKey,dropDownStyle:{}}},{showType:"dropDown-icon-input",readonly:!0,settingName:"itemStyle.normal.borderType",trueValue:"",class:"width-4",iconClass:"icon-borderstyle",title:this.$t("design.lineLineStyle"),transformByArr:!1,showValueTitle:!1,dropDownData:{isShow:!1,defaultItem:"",dataSource:t.lineStyle.items,showKey:t.lineStyle.showKey,idKey:t.lineStyle.idKey,dropDownStyle:{"min-width":"80px"}}}]},data:{showType:"colorPicker-icon",settingName:"itemStyle.normal.color",trueValue:"",class:"width-auto",title:this.$t("design.lineColor"),iconClass:"icon-bgcolor",isTransparent:!1}},gauge:{series:{name:this.$t("design.lineSeries"),id:"series",icon:"icon-series",children:[{class:"width-10 height0"},{showType:"colorPicker-icon",settingName:"detail.textStyle.color",class:"width-2 horizontal",iconClass:"icon-font",title:this.$t("design.lineFontColor"),isTransparent:!1},{showType:"dropDown-icon-input",readonly:!0,unit:"px",settingName:"detail.textStyle.fontSize",class:"width-4",title:this.$t("design.lineFontSize"),iconClass:"icon-font-size",showValueTitle:!1,validate:{type:"number",min:t.fontSize.min,max:t.fontSize.max},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.fontSize.items,showKey:t.fontSize.showKey,idKey:t.fontSize.idKey,dropDownStyle:{}}},{showType:"dropDown-icon-input",readonly:!0,settingName:"detail.textStyle.fontFamily",class:"width-4",iconClass:"icon-font-family",title:this.$t("design.lineFontFamily"),transformByArr:!0,showValueTitle:!1,dropDownData:{isShow:!1,defaultItem:"",dataSource:t.fontFamily.items,showKey:t.fontFamily.showKey,idKey:t.fontFamily.idKey,dropDownStyle:{}}},{showType:"text",title:this.$t("design.gaugePointerSet"),class:"width-10",changeFlag:!1,unit:"ms",id:"pointerText"},{showType:"colorPicker-icon",settingName:"itemStyle.normal.borderColor",trueValue:"",class:"width-2 horizontal",title:this.$t("design.lineSeriesColor"),iconClass:"icon-dropcolor",isTransparent:!1},{showType:"dropDown-icon-input",readonly:!0,unit:"px",settingName:"itemStyle.normal.borderWidth",title:this.$t("design.lineLineWidth"),trueValue:"",class:"width-4",iconClass:"icon-linewidth",transformByArr:!1,showValueTitle:!1,validate:{type:"number",min:t.lineWidth.min,max:t.lineWidth.max},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.lineWidth.items,showKey:t.lineWidth.showKey,idKey:t.lineWidth.idKey,dropDownStyle:{}}},{showType:"dropDown-icon-input",readonly:!0,settingName:"itemStyle.normal.borderType",trueValue:"",class:"width-4",iconClass:"icon-borderstyle",title:this.$t("design.lineLineStyle"),transformByArr:!1,showValueTitle:!1,dropDownData:{isShow:!1,defaultItem:"",dataSource:t.lineStyle.items,showKey:t.lineStyle.showKey,idKey:t.lineStyle.idKey,dropDownStyle:{"min-width":"80px"}}}]},data:{showType:"colorPicker-icon",settingName:"itemStyle.normal.color",trueValue:"",class:"width-auto",title:this.$t("design.lineColor"),iconClass:"icon-bgcolor",isTransparent:!1}},map:{},map3D:{},pie:{series:{name:this.$t("design.lineSeries"),id:"series",icon:"icon-series",children:[{showType:"options-radio",settingName:"label.normal.position",trueValue:"",class:"width-10",detailClass:"center",groups:[{text:this.$t("design.lineOutside"),value:"outside"},{text:this.$t("design.lineInside"),value:"inside"},{text:this.$t("design.lineCenter"),value:"center"}]},{showType:"colorPicker-icon",settingName:"label.normal.textStyle.color",class:"width-2 horizontal",iconClass:"icon-font",title:this.$t("design.lineFontColor"),isTransparent:!1},{showType:"dropDown-icon-input",readonly:!0,unit:"px",settingName:"label.normal.textStyle.fontSize",class:"width-4",title:this.$t("design.lineFontSize"),iconClass:"icon-font-size",showValueTitle:!1,validate:{type:"number",min:t.fontSize.min,max:t.fontSize.max},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.fontSize.items,showKey:t.fontSize.showKey,idKey:t.fontSize.idKey,dropDownStyle:{}}},{showType:"dropDown-icon-input",readonly:!0,settingName:"label.normal.textStyle.fontFamily",class:"width-4",iconClass:"icon-font-family",title:this.$t("design.lineFontFamily"),transformByArr:!0,showValueTitle:!1,dropDownData:{isShow:!1,defaultItem:"",dataSource:t.fontFamily.items,showKey:t.fontFamily.showKey,idKey:t.fontFamily.idKey,dropDownStyle:{}}},{showType:"options-radio",settingName:"roseType",trueValue:"",class:"width-10",detailClass:"center",groups:[{text:this.$t("design.lineNormalPie"),value:!1},{text:this.$t("design.lineRadiusPie"),value:"radius"}]},{showType:"seekBar",settingName:"radius.inside",trueValue:"",class:"width-10",iconClassMin:"icon-circle-full",iconClassMax:"icon-circle-empty",titleMin:this.$t("design.lineRadiusInside"),titleMax:this.$t("design.lineRadiusInside"),unit:"%",min:0,max:100},{showType:"seekBar",settingName:"radius.outside",trueValue:"",class:"width-10",iconClassMin:"icon-circle-small",iconClassMax:"icon-circle-large",titleMin:this.$t("design.lineRadiusOutside"),titleMax:this.$t("design.lineRadiusOutside"),unit:"%",min:0,max:100},{showType:"seekBar",settingName:"center.left",trueValue:"",class:"width-10",iconClassMin:"icon-left",iconClassMax:"icon-right",titleMin:this.$t("design.linePositionLeft"),titleMax:this.$t("design.linePositionRight"),unit:"%",min:0,max:100},{showType:"seekBar",settingName:"center.top",trueValue:"",class:"width-10",iconClassMin:"icon-top",iconClassMax:"icon-bottom",titleMin:this.$t("design.linePositionTop"),titleMax:this.$t("design.linePositionBottom"),unit:"%",min:0,max:100}]},data:{showType:"colorPicker-icon",settingName:"itemStyle.normal.color",trueValue:"",class:"width-auto",title:this.$t("design.lineColor"),iconClass:"icon-bgcolor",isTransparent:!1}},radar:{radar:{name:this.$t("design.lineRadarRadar"),id:"radar",icon:"icon-radar-setting",children:[{showType:"options-radio",settingName:"shape",trueValue:"",class:"width-10",detailClass:"center",groups:[{text:this.$t("design.linePolygon"),value:"polygon"},{text:this.$t("design.lineCircle"),value:"circle"}]},{showType:"colorPicker-icon",settingName:"name.textStyle.color",class:"width-2 horizontal",iconClass:"icon-font",title:this.$t("design.lineFontColor"),isTransparent:!1},{showType:"dropDown-icon-input",readonly:!0,unit:"px",settingName:"name.textStyle.fontSize",class:"width-4",title:this.$t("design.lineFontSize"),iconClass:"icon-font-size",showValueTitle:!1,validate:{type:"number",min:t.fontSize.min,max:t.fontSize.max},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.fontSize.items,showKey:t.fontSize.showKey,idKey:t.fontSize.idKey,dropDownStyle:{}}},{showType:"dropDown-icon-input",readonly:!0,settingName:"name.textStyle.fontFamily",class:"width-4",iconClass:"icon-font-family",title:this.$t("design.lineFontFamily"),transformByArr:!0,showValueTitle:!1,dropDownData:{isShow:!1,defaultItem:"",dataSource:t.fontFamily.items,showKey:t.fontFamily.showKey,idKey:t.fontFamily.idKey,dropDownStyle:{}}},{showType:"seekBar",settingName:"radius",trueValue:"",class:"width-10",iconClassMin:"icon-circle-small",iconClassMax:"icon-circle-large",titleMin:this.$t("design.lineRadius"),titleMax:this.$t("design.lineRadius"),unit:"%",min:0,max:100},{showType:"seekBar",settingName:"center.left",trueValue:"",class:"width-10",iconClassMin:"icon-left",iconClassMax:"icon-right",titleMin:this.$t("design.linePositionLeft"),titleMax:this.$t("design.linePositionRight"),unit:"%",min:0,max:100},{showType:"seekBar",settingName:"center.top",trueValue:"",class:"width-10",iconClassMin:"icon-top",iconClassMax:"icon-bottom",titleMin:this.$t("design.linePositionTop"),titleMax:this.$t("design.linePositionBottom"),unit:"%",min:0,max:100}]},series:{name:this.$t("design.lineSeries"),id:"series",icon:"icon-series",children:[]},data:{showType:"colorPicker-icon",settingName:"itemStyle.normal.color",trueValue:"",class:"width-auto",title:this.$t("design.lineColor"),iconClass:"icon-bgcolor",isTransparent:!1}}},publicSetting:{name:this.$t("design.reportBgAndBorder"),id:"bgAndBorder",icon:"icon-bgAndBorder",children:[{showType:"colorPicker-icon",title:this.$t("design.reportBackground"),settingName:"style.backgroundColor",trueValue:"",class:"width-2",iconClass:"icon-bgcolor",isTransparent:!0},{showType:"dropDown-icon-input",title:this.$t("design.reportBorderRadius"),readonly:!0,unit:"px",settingName:"style.borderRadius",trueValue:"",class:"width-4",iconClass:"icon-rounded-corner",transformByArr:!1,showValueTitle:!1,validate:{type:"number",min:t.borderRadius.min,max:t.borderRadius.max,unit:"px"},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.borderRadius.items,showKey:t.borderRadius.showKey,idKey:t.borderRadius.idKey,dropDownStyle:{}}},{showType:"dropDown-icon-input",title:this.$t("design.reportOpacity"),readonly:!0,unit:"%",settingName:"style.opacity",trueValue:"",class:"width-4",iconClass:"icon-opacity",transformByArr:!1,showValueTitle:!1,validate:{type:"number",min:t.opacity.min,max:t.opacity.max,scale:.01},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.opacity.items,showKey:t.opacity.showKey,idKey:t.opacity.idKey,dropDownStyle:{}}},{showType:"colorPicker-icon",title:this.$t("design.reportBorderColor"),settingName:"style.borderColor",trueValue:"",class:"width-2",iconClass:"icon-dropcolor",isTransparent:!0},{showType:"dropDown-icon-input",title:this.$t("design.reportBorderWidth"),readonly:!0,unit:"px",settingName:"style.borderWidth",trueValue:"",class:"width-4",iconClass:"icon-linewidth",transformByArr:!1,showValueTitle:!1,validate:{type:"number",min:t.borderWidth.min,max:t.borderWidth.max,unit:"px"},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.borderWidth.items,showKey:t.borderWidth.showKey,idKey:t.borderWidth.idKey,dropDownStyle:{}}},{showType:"dropDown-icon-input",title:this.$t("design.reportBorderStyle"),readonly:!0,settingName:"style.borderStyle",trueValue:"",class:"width-4",iconClass:"icon-borderstyle",transformByArr:!1,showValueTitle:!1,dropDownData:{isShow:!1,defaultItem:"",dataSource:t.borderStyle.items,showKey:t.borderStyle.showKey,idKey:t.borderStyle.idKey,dropDownStyle:{"min-width":"80px"}}}]},pickerUser:"",seekBarFlag:!1,currentDropDown:{options:{},validate:{},user:"",relative:""},nowTab:"data",nowContent:"",dataSource:{dmList:[],dimensionList:[],measureList:[],columnList:[],selectedColumnList:[]},errorText:"",urls:{dataModelUrl:"/model_list",columnUrl:"/report/model/column",getFolderId:"/report/model/folder",unitUrl:"/report/data/unit"},urlOpt:e,loadingSetting:{show:!1},hideSettingList:[],lengthLimitTimer:!0,cpLock:!1,unitList:[],initMonaco:!0}},computed:Object(r.a)({computedTitle:function(){var t,e=Object(n.a)(A);try{for(e.s();!(t=e.n()).done;){var a=t.value;if(this.blockType.startsWith(a))return this.title[a]}}catch(t){e.e(t)}finally{e.f()}},sourceFieldList:function(){var t=this,e=this._.get(this.getData.cacheDataSource,this.nowIndex+".columnList")||[],a={},i=[];if(this.getData.dataSource){var o=this.getData.dataSource,n=o.dimension,r=o.measure;if(!n&&!r)return i;var l=n.split?n.split(","):Object(s.a)(n),c=r.split?r.split(","):Object(s.a)(r);a=this._.zipObject(this._.concat(l,c),this._.concat(l,c))}return this._.isEmpty(a)||(i=e.filter((function(e){return a[e[t.urlOpt.columnOpt.id]]}))),i},showRotate:function(){var t=!0,e=this.getData&&this.getData.defaultSetting&&this.getData.defaultSetting.series,a={left:0,right:0};for(var i in e)e[i]&&a[e[i].position]++;return a.left>0&&a.right>0&&a.left+a.right>2&&(t=!1),t},showPosition:function(){var t=!1,e=this.getData;return e&&e.dataSource&&e.dataSource.dimension&&e.dataSource.dimension.length<2&&(t=!0),t},currentData:function(){if(this.getData.defaultSetting){var e={setting:{title:{textStyle:{fontSize:parseInt(this.reportSetting.fontSize),fontFamily:this.reportSetting.fontFamily}},legend:{textStyle:{fontSize:parseInt(this.reportSetting.fontSize),fontFamily:this.reportSetting.fontFamily}}},style:this.reportSetting},a=t.extend(!0,{},this.getData);"object"!==Object(o.a)(a.style)&&delete a.style,a.setting=t.extend(!0,{},a.defaultSetting,a.setting?a.setting:{});var i=t.extend(!0,{},e,a);if(i.dataSource&&i.dataSource.dataFormatNum)for(var n=1;n<=i.dataSource.dataFormatNum;n++){i.dataSource.dataFormat["dataFormat"+n].dataFormatFilter=[];for(var r=1;r<=i.dataSource.dataFormatNum;r++){var l;if(n!==r)(l=i.dataSource.dataFormat["dataFormat"+n].dataFormatFilter).push.apply(l,Object(s.a)(i.dataSource.dataFormat["dataFormat"+r].column))}}return i}return""},transformSetting:function(){var e=[];switch(this.filterType(this.blockType)){case"line":case"bar":e=this.transformSeriesForLine();break;case"crossBar":e=this.transformSeriesForCrossBar(this.blockType);break;case"pie":e=this.transformSeriesForPie();break;case"radar":e=this.transformSeriesForRadar();break;case"funnel":e=this.transformSeriesForFunnel();break;case"gauge":e=this.transformSeriesForGauge();break;case"map":e=this.transformSeriesForMap();break;case"map3D":e=this.transformSeriesForMap3D()}var a,i=this.transformDataFormat(),o=t.extend(!0,[],this.settingContents),r=Object(n.a)(o);try{for(r.s();!(a=r.n()).done;){var l=a.value;switch(l.type){case"style":l.children=[].concat(Object(s.a)(l.children),Object(s.a)(e));break;case"dataFormat":l.children=[].concat(Object(s.a)(l.children),Object(s.a)(i))}}}catch(t){r.e(t)}finally{r.f()}var c,d=Object(n.a)(o);try{for(d.s();!(c=d.n()).done;){var u,h=c.value,p=Object(n.a)(h.children);try{for(p.s();!(u=p.n()).done;){var g,m=u.value,f=Object(n.a)(m.children);try{for(f.s();!(g=f.n()).done;){var w=g.value;switch(w.showType){case"input":case"input-text":w.trueValue=this.getValue(w.settingName,w.validate)+(w.unit?w.unit:"");break;case"options-icon":case"options-radio":case"options-checkbox":case"colorPicker-icon":case"seekBar":case"editor-code":w.trueValue=this.getValue(w.settingName);break;case"dropDown-icon-input":w.trueValue=this.getValue(w.settingName,w.validate,w.transformByArr?w.dropDownData:void 0)+(w.unit?w.unit:"")}}}catch(t){f.e(t)}finally{f.f()}}}catch(t){p.e(t)}finally{p.f()}}}catch(t){d.e(t)}finally{d.f()}return o}},Object(c.d)({drawSelected:function(t){return t.draw.selected},currentPage:function(t){return t.draw.currentPage},blockContent:function(t){return t.draw.blockContent},colorPickerSelected:function(t){return t.colorPickerSelected},colorPickerOpt:function(t){return t.colorPickerOpt}})),watch:{colorPickerSelected:function(){this.pickerUser&&this.getColor(this.colorPickerSelected)},colorPickerOpt:function(){!this.colorPickerOpt.flat&&this.pickerUser&&(this.pickerUser="")},drawSelected:function(){this.initParam(!1)},blockType:function(){var t=this,e=this.getLimitedNum("dataSource.dimension"),a=this.getLimitedNum("dataSource.measure"),i=this.getData&&this.getData.dataSource,o=this.getFlatData("dataSource.dimension");o&&(o.maxSelect=e);var s=this.getFlatData("dataSource.measure");if(s&&(s.maxSelect=a),i&&i.dimension&&i.measure){if(i.dimension.length>e||i.measure.length>a){var n=this._.cloneDeep(i.dimension),r=this._.cloneDeep(i.measure);n.splice(e),r.splice(a),this.transformData("dataSource.dimension",n,{}),this.transformData("dataSource.measure",r,{}),this.$nextTick((function(){t.initParam()}))}}else this.initParam()}},methods:Object(r.a)(Object(r.a)({},Object(c.b)({showColorPickerPublic:"showColorPicker",hideColorPickerPublic:"hideColorPicker",drawChangeSelectedData:"drawChangeSelectedData"})),{},{filterType:function(t){var e,a=Object(n.a)(A);try{for(a.s();!(e=a.n()).done;){var i=e.value;if(t.startsWith(i))return i}}catch(t){a.e(t)}finally{a.f()}return t},getFlatData:function(t){var e=[];return function t(a){a.forEach((function(a){e.push(a),a.children&&t(a.children)}))}(this.settingContents),e.find((function(e){return e.dropDownData&&e.settingName===t}))&&e.find((function(e){return e.dropDownData&&e.settingName===t})).dropDownData||void 0},dropdownChanged:function(t){var e=this;this.getDropDownSelected(t),"dataSource.dmId"===this.currentDropDown.user&&this.$http({url:this.urls.columnUrl,method:"get",params:{modelId:t.pkid}}).then((function(t){e.drawChangeSelectedData({cacheDataSource:Object(i.a)({},e.nowIndex,{columnList:""})}),e.drawChangeSelectedData({cacheDataSource:Object(i.a)({},e.nowIndex,{columnList:t.data.data.data})}),e.drawChangeSelectedData({dataSource:{filters:""}})})).catch((function(t){var a=e.$t("design.lineGetDataFail");t&&t.response&&t.response.data&&(a=t.response.data.message),e.errorText=a}))},updateStaticData:function(t,e){this.drawChangeSelectedData({staticDataSource:{data:null}}),this.transformData(t.settingName,e,t)},updateFlyLineRules:function(t,e){this.drawChangeSelectedData({dataSource:{flyLineRules:""}}),this.drawChangeSelectedData({dataSource:{flyLineRules:t},changeStyle:!0})},updateFilterRules:function(t,e){this.drawChangeSelectedData({dataSource:{filterRules:""}}),this.drawChangeSelectedData({dataSource:{filterRules:t},changeData:!0,updatedFilters:e})},filterParam:function(t,e){this.drawChangeSelectedData({dataSource:{filters:""},updatedFilters:e}),this.drawChangeSelectedData({dataSource:{filters:t},changeData:!0,updatedFilters:e})},getModelFromExcel:function(t){var e=this;this.$http({url:e.urls.dataModelUrl,params:{rootId:e.nowIndex},method:"get"}).then((function(a){if(e.loadingSetting.show=!1,"object"===Object(o.a)(a.data.data)){e.dataSource.dmList=a.data.data,e.dataSource.dmId=t;var s={dmId:t,dimension:"",measure:"",dataType:"excel",polys:[]};e.transformData("cacheDataSource",Object(i.a)({},e.nowIndex,{dmList:""}),{changeFlag:!1}),e.transformData("cacheDataSource",Object(i.a)({},e.nowIndex,{dmList:a.data.data}),{changeFlag:!1}),e.transformData("dataSource",s,{changeFlag:!0}),e.dmSelectedCall(),e.$nextTick((function(){e.initParam()}))}else e.errorText=a.data})).catch((function(t){e.loadingSetting.show=!1;var a=e.$t("design.lineGetDataFail");t&&t.response&&t.response.data&&(a=t.response.data.message),e.errorText=a}))},changeShowType:function(t){"T"===t?(this.showMode=!0,this.gender="T"):(this.showMode=!1,this.gender="S")},emptyError:function(){this.errorText=""},changeData:function(t){this.drawChangeSelectedData(t)},switchDetailShow:function(t){if(t){var e=this.hideSettingList.indexOf(t);e>=0?this.hideSettingList.splice(e,1):this.hideSettingList.push(t)}},transformSeriesForLine:function(){for(var e=this.getData.seriesNum,a=[],i=1;i<=e;i++){var o=t.extend(!0,{},this.seriesSetting.line);o.name=o.name+i,o.id=o.id+i;var r,l=Object(n.a)(o.children);try{for(l.s();!(r=l.n()).done;){var c=r.value;if(c.settingName="setting.series.series"+i+"."+c.settingName,c.showflag&&(c.showflag.settingName="setting.series.series"+i+"."+c.showflag.settingName),c.relative){var d,u=Object(n.a)(c.relative);try{for(u.s();!(d=u.n()).done;){var h=d.value;h.settingName="setting.series.series"+i+"."+h.settingName}}catch(t){u.e(t)}finally{u.f()}}}}catch(t){l.e(t)}finally{l.f()}a.push(o)}return a=[].concat(Object(s.a)(this.specialSetting.line),Object(s.a)(a))},transformSeriesForCrossBar:function(e){for(var a=this.getData.seriesNum,i=[],o=1;o<=a;o++){var r=t.extend(!0,{},this.seriesSetting[e]);r.name=r.name+o,r.id=r.id+o;var l,c=Object(n.a)(r.children);try{for(c.s();!(l=c.n()).done;){var d=l.value;if(d.settingName="setting.series.series"+o+"."+d.settingName,d.showflag&&(d.showflag.settingName="setting.series.series"+o+"."+d.showflag.settingName),d.relative){var u,h=Object(n.a)(d.relative);try{for(h.s();!(u=h.n()).done;){var p=u.value;p.settingName="setting.series.series"+o+"."+p.settingName}}catch(t){h.e(t)}finally{h.f()}}}}catch(t){c.e(t)}finally{c.f()}i.push(r)}return i=[].concat(Object(s.a)(this.specialSetting.crossBar),Object(s.a)(i))},transformSeriesForFunnel:function(){for(var e=this.getData.seriesNum,a=this.getData.dataNum,i=[],o=1;o<=e;o++){var r=t.extend(!0,{},this.seriesSetting.funnel.series);r.name=r.name+o,r.id=r.id+o;var l,c=Object(n.a)(r.children);try{for(c.s();!(l=c.n()).done;){var d=l.value;if(d.settingName="setting.series.series"+o+"."+d.settingName,d.showflag&&(d.showflag.settingName="setting.series.series"+o+"."+d.showflag.settingName),d.relative){var u,h=Object(n.a)(d.relative);try{for(h.s();!(u=h.n()).done;){var p=u.value;p.settingName="setting.series.series"+o+"."+p.settingName}}catch(t){h.e(t)}finally{h.f()}}}}catch(t){c.e(t)}finally{c.f()}for(var g=1;g<=a[o-1];g++){var m=t.extend(!0,{},this.seriesSetting.funnel.data);m.settingName="setting.series.series"+o+".data.data"+g+"."+m.settingName,r.children.push(m)}i.push(r)}return i=[].concat(Object(s.a)(this.specialSetting.funnel),Object(s.a)(i))},transformSeriesForGauge:function(){for(var e=this.getData.dataNum,a=(e||[]).filter((function(t){return"bar"===t.type})),i=(e||[]).filter((function(t){return"gauge"===t.type})),o=i.length,r=[],l=1;l<=o;l++){var c,d=t.extend(!0,{},this.seriesSetting.gauge.series);d.name=d.name+l,d.id=d.id+l;var u,h=Object(n.a)(d.children);try{for(h.s();!(u=h.n()).done;){var p=u.value;if(p.settingName="setting.series.series"+l+"."+p.settingName,p.showflag&&(p.showflag.settingName="setting.series.series"+l+"."+p.showflag.settingName),p.relative){var g,m=Object(n.a)(p.relative);try{for(m.s();!(g=m.n()).done;){var f=g.value;f.settingName="setting.series.series"+l+"."+f.settingName}}catch(t){m.e(t)}finally{m.f()}}}}catch(t){h.e(t)}finally{h.f()}for(var w=[],v=0;v<a.length;v++){var y=t.extend(!0,{},this.seriesSetting.gauge.data);y.settingName="setting.series.series"+(1*a[v].index+1)+"."+y.settingName,w.push(y)}(c=d.children).unshift.apply(c,w);for(var A=0;A<i.length;A++){var D=t.extend(!0,{},this.seriesSetting.gauge.data);D.settingName="setting.series.series"+(1*i[A].index+1)+"."+D.settingName,d.children.push(D)}r.push(d)}return r=[].concat(Object(s.a)(this.specialSetting.gauge),Object(s.a)(r))},transformSeriesForMap:function(){var e=this.getData.seriesNum,a=this.getData.dataNum,i=[];if(this.seriesSetting.map.series)for(var o=1;o<=e;o++){var r=t.extend(!0,{},this.seriesSetting.map.series);r.name=r.name+o,r.id=r.id+o;var l,c=Object(n.a)(r.children);try{for(c.s();!(l=c.n()).done;){var d=l.value;if(d.settingName="setting.series.series"+o+"."+d.settingName,d.showflag&&(d.showflag.settingName="setting.series.series"+o+"."+d.showflag.settingName),d.relative){var u,h=Object(n.a)(d.relative);try{for(h.s();!(u=h.n()).done;){var p=u.value;p.settingName="setting.series.series"+o+"."+p.settingName}}catch(t){h.e(t)}finally{h.f()}}}}catch(t){c.e(t)}finally{c.f()}for(var g=1;g<=a[o-1];g++){var m=t.extend(!0,{},this.seriesSetting.map.data);m.settingName="setting.series.series"+o+".data.data"+g+"."+m.settingName,r.children.push(m)}i.push(r)}return i=[].concat(Object(s.a)(this.specialSetting.map),Object(s.a)(i))},transformSeriesForMap3D:function(){var e=this.getData.seriesNum,a=this.getData.dataNum,i=[];if(this.seriesSetting.map3D.series)for(var o=1;o<=e;o++){var r=t.extend(!0,{},this.seriesSetting.map3D.series);r.name=r.name+o,r.id=r.id+o;var l,c=Object(n.a)(r.children);try{for(c.s();!(l=c.n()).done;){var d=l.value;if(d.settingName="setting.series.series"+o+"."+d.settingName,d.showflag&&(d.showflag.settingName="setting.series.series"+o+"."+d.showflag.settingName),d.relative){var u,h=Object(n.a)(d.relative);try{for(h.s();!(u=h.n()).done;){var p=u.value;p.settingName="setting.series.series"+o+"."+p.settingName}}catch(t){h.e(t)}finally{h.f()}}}}catch(t){c.e(t)}finally{c.f()}for(var g=1;g<=a[o-1];g++){var m=t.extend(!0,{},this.seriesSetting.map3D.data);m.settingName="setting.series.series"+o+".data.data"+g+"."+m.settingName,r.children.push(m)}i.push(r)}return i=[].concat(Object(s.a)(this.specialSetting.map3D),Object(s.a)(i))},transformSeriesForPie:function(){for(var e=this.getData.seriesNum,a=this.getData.dataNum,i=[],o=1;o<=e;o++){var s=t.extend(!0,{},this.seriesSetting.pie.series);s.name=s.name+o,s.id=s.id+o;var r,l=Object(n.a)(s.children);try{for(l.s();!(r=l.n()).done;){var c=r.value;if(c.settingName="setting.series.series"+o+"."+c.settingName,c.showflag&&(c.showflag.settingName="setting.series.series"+o+"."+c.showflag.settingName),c.relative){var d,u=Object(n.a)(c.relative);try{for(u.s();!(d=u.n()).done;){var h=d.value;h.settingName="setting.series.series"+o+"."+h.settingName}}catch(t){u.e(t)}finally{u.f()}}}}catch(t){l.e(t)}finally{l.f()}for(var p=1;p<=a[o-1];p++){var g=t.extend(!0,{},this.seriesSetting.pie.data);g.settingName="setting.series.series"+o+".data.data"+p+"."+g.settingName,s.children.push(g)}i.push(s)}return i},transformSeriesForRadar:function(){for(var e=this.getData.radarNum,a=this.getData.seriesNum,i=[],o=[],s=1;s<=e;s++){var r,l=t.extend(!0,[],this.seriesSetting.radar.radar),c=Object(n.a)(l.children);try{for(c.s();!(r=c.n()).done;){var d=r.value;if(d.settingName="setting.radar.radar"+s+"."+d.settingName,d.showflag&&(d.showflag.settingName="setting.radar.radar"+s+"."+d.showflag.settingName),d.relative){var u,h=Object(n.a)(d.relative);try{for(h.s();!(u=h.n()).done;){var p=u.value;p.settingName="setting.radar.radar"+s+"."+p.settingName}}catch(t){h.e(t)}finally{h.f()}}}}catch(t){c.e(t)}finally{c.f()}i.push(l)}if(a)for(var g=1;g<=a.length;g++){var m=t.extend(!0,{},this.seriesSetting.radar.series);m.name=m.name+g,m.id=m.id+g;var f,w=Object(n.a)(m.children);try{for(w.s();!(f=w.n()).done;){var v=f.value;if(v.settingName="setting.series.series"+g+"."+v.settingName,v.showflag&&(v.showflag.settingName="setting.series.series"+g+"."+v.showflag.settingName),v.relative){var y,A=Object(n.a)(v.relative);try{for(A.s();!(y=A.n()).done;){var D=y.value;D.settingName="setting.series.series"+g+"."+D.settingName}}catch(t){A.e(t)}finally{A.f()}}}}catch(t){w.e(t)}finally{w.f()}for(var S=1;S<=a[g-1];S++){var b=t.extend(!0,{},this.seriesSetting.radar.data);b.settingName="setting.series.series"+g+".data.data"+S+"."+b.settingName,m.children.push(b)}o.push(m)}return[].concat(i,o)},getDropDownValue:function(t){var e=t.dropDownData,a=e.dataSource,i=e.showKey,o=this.getData.dataSource;if(!["dataSource.dimension","dataSource.measure"].includes(t.settingName))return a.find((function(e){return e[i]===t.trueValue}));if(o){var s=t.settingName.split(".");return o[s[s.length-1]]}},transformDataFormat:function(){this.dataFormatSetting.children[3].dropDownData.dataSource=this.unitList;for(var e=[],a=this.currentData.dataSource&&this.currentData.dataSource.dataFormatNum?this.currentData.dataSource.dataFormatNum:0,i=1;i<=a;i++){var o,s=t.extend(!0,{},this.dataFormatSetting),r=Object(n.a)(s.children);try{for(r.s();!(o=r.n()).done;){var l=o.value;if("column"===l.settingName){l.dropDownData.dataSourceFilter="dataSource.dataFormat.dataFormat"+i+"."+l.dropDownData.dataSourceFilter;var c=this.getValue(l.dropDownData.dataSourceFilter);l.dropDownData.dataSource=this.dropDownDataFilter(this.dataSource.selectedColumnList,l.dropDownData.idKey,c?c.split(", "):[])}void 0!==l.settingName&&(l.settingName="dataSource.dataFormat.dataFormat"+i+"."+l.settingName)}}catch(t){r.e(t)}finally{r.f()}e.push(s)}return e},validateData:function(t,e,a){var i=e;return"number"===a.type?(i=parseFloat(i),isNaN(i)?i=this.getValue(t):("number"==typeof a.min&&(i=i<a.min?a.min:i),"number"==typeof a.max&&(i=i>a.max?a.max:i),"number"==typeof a.scale&&(i*=a.scale),"string"==typeof a.unit&&(i+=a.unit),"function"==typeof a.cb&&(i=a.cb(t,e,this.getValue,i)))):"text"===a.type&&a.textLength&&(i=i.slice(0,a.textLength)),i},transformValue:function(t,e){var a=t;return"string"==typeof e.unit&&(a=a.replace(e.unit,"")),"number"==typeof e.scale&&(a=parseFloat(a)/e.scale),a},lengthLimit:function(t){if(!this.cpLock&&t.target.value.length>30&&(t.target.value=t.target.value.substr(0,30),this.lengthLimitTimer)){var e=this;this.lengthLimitTimer=!1,setTimeout((function(){e.lengthLimitTimer=!0}),2e3),l.default.notify({group:"foo-dataexporler",title:this.$t("public.errorInfo"),text:this.$t("design.titleLength"),type:"error"})}},lengthComposition:function(t,e){switch(t){case"start":this.cpLock=!0;break;case"end":this.cpLock=!1,this.lengthLimit(e)}},transformData:function(e,a){var i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if("initMonaco"===r&&"staticDataSource.isStaticData"===e&&a&&(this.initMonaco=!1,this.$nextTick((function(){i.initMonaco=!0}))),"mapType"===e){if(a===this.blockType)return;this.$emit("toggleType",{oldType:this.blockType,newType:a})}var l=a,c=o.validate,d=o.relative,u=o.changeFlag;if(c&&(a=this.validateData(e,a,c)),a!==this.getValue(e)||l!==a){var h=[{settingName:e,val:a}];d&&(h=[].concat(Object(s.a)(h),Object(s.a)(d)));var p,g={},m=Object(n.a)(h);try{for(m.s();!(p=m.n()).done;){var f=p.value,w=f.settingName.split("."),v={};if(t.isArray(f.val)){for(var y={},A=w.length-1;A>=0;A--){var D=w[A],S={};A===w.length-1?y[D]="":(S[D]=y,y=S)}this.changeData(y)}this._.set(v,f.settingName,f.val),g=t.extend(!0,g,v)}}catch(t){m.e(t)}finally{m.f()}var b=!0;"string"==typeof u?b=this[u](e):"boolean"==typeof u&&(b=u),b&&("setting"===e.split(".")[0]?("setting.title.text"===e&&this._.set(g,"setting.title.realText",a),g.changeStyle=!0):("dataSource"===e.split(".")[0]||"staticDataSource"===e.split(".")[0])&&(g.changeData=!0)),this.changeData(g)}},getValue:function(e,a,i){var o=e.split("."),s=this.currentData;if(o){s=this._.get(s,e,"");for(var r=(s=t.isArray(s)?t.extend(!0,[],s):[s]).length-1;r>=0;r--)if(a&&""!==s[r]&&(s[r]=this.transformValue(s[r],a)),i){var l=i.dropItemsName?this.dataSource[i.dropItemsName]:i.dataSource,c=!0;if(!l)return;var d,u=Object(n.a)(l);try{for(u.s();!(d=u.n()).done;){var h=d.value;if(h[i.idKey]===s[r]){s[r]=h[i.showKey],c=!1;break}}}catch(t){u.e(t)}finally{u.f()}c&&s.splice(r,1)}return 1===s.length?s[0]:s.join(", ")}},dropDownDataFilter:function(t,e,a){for(var i=[],o=0;o<t.length;o++)a.includes(t[o][e])||i.push(t[o]);return i},getLimitedNum:function(t){var e=this.filterType(this.blockType),a=0;switch(t){case"dataSource.dimension":switch(e){case"line":case"bar":case"radar":case"crossBar":a=2;break;case"pie":case"funnel":case"gauge":case"map":case"map3D":a=1}break;case"dataSource.measure":switch(e){case"line":case"bar":case"crossBar":a=10;break;case"pie":case"funnel":case"gauge":case"map":case"map3D":a=10;break;case"radar":a=1}}return a},showDropDown:function(e,a){if(this.emptyError(),"style"===this.nowTab)return this.currentDropDown=t.extend(!0,{},a),void(this.currentDropDown.user=e);var s=this,n=this.getFlatData(e)||a.dropDownData;if(-1!==a.settingName.indexOf("setting.format.unit")&&(n.dataSource=this.unitList),n.dropItemsName&&this.dataSource[n.dropItemsName].length>0)if(n.dataSourceFilter){var r=this.getValue(n.dataSourceFilter);n.dataSource=this.dropDownDataFilter(this.dataSource[n.dropItemsName],n.idKey,r?r.split(", "):[])}else n.dataSource=this.dataSource[n.dropItemsName];else if(n.dropDownUrl){var l={};if("dataModelUrl"===n.dropDownUrl){var c={};c.rootId=s.nowIndex,l[n.dropDownUrl]={url:this.urls.dataModelUrl,params:c,method:"get"}}else if("columnUrl"===n.dropDownUrl){var d=s.getValue("dataSource.dmId");if(!d)return void this.$notify({group:"foo-dataexporler",title:this.$t("public.warnInfo"),text:this.$t("design.lineSelectMenuFirst"),type:"warn"});l[n.dropDownUrl]={url:this.urls.columnUrl,method:"get",params:{modelId:d}}}n.noDataDefault=n.noData,n.noData=this.$t("design.lineLoading");var u=l[n.dropDownUrl];this.$http(u).then((function(t){"object"===Object(o.a)(t.data.data)?("columnUrl"===a.dropDownData.dropDownUrl?t.data.data&&s.splitDimensionAndMeasure(t.data.data.data):(s.dataSource[a.dropDownData.dropItemsName]=t.data.data,"dataModelUrl"===n.dropDownUrl&&(s.transformData("cacheDataSource",Object(i.a)({},s.nowIndex,{dmList:""}),{changeFlag:!1}),s.transformData("cacheDataSource",Object(i.a)({},s.nowIndex,{dmList:t.data.data}),{changeFlag:!1}))),n.dataSource=s.dataSource[a.dropDownData.dropItemsName]):s.errorText=t.data})).catch((function(t){var e=s.$t("design.lineGetDataFail");if(t&&t.response&&t.response.data&&(e=t.response.data.message),s.errorText=e,s.currentDropDown.user){var a=Object.assign({},s.currentDropDown.dropDownData);a.noData=a.noDataDefault,delete a.noDataDefault,s.currentDropDown.dropDownData=a}}))}s.getValue(e,a.validate);n.multiLength=n.limited?this.getLimitedNum(e):void 0,this.currentDropDown=t.extend(!0,{},a),this.currentDropDown.dropDownData=n,this.currentDropDown.user=e},splitDimensionAndMeasure:function(t){var e,a=[],o=[],s=Object(n.a)(t);try{for(s.s();!(e=s.n()).done;){var r=e.value;"dimension"===r[this.urlOpt.columnOpt.type]?a.push(r):"measure"===r[this.urlOpt.columnOpt.type]&&o.push(r)}}catch(t){s.e(t)}finally{s.f()}this.dataSource.dimensionList=a,this.dataSource.measureList=o,this.transformData("cacheDataSource",Object(i.a)({},this.nowIndex,{dimensionList:"",measureList:"",columnList:""}),{changeFlag:!1}),this.transformData("cacheDataSource",Object(i.a)({},this.nowIndex,{dimensionList:a,measureList:o,columnList:t}),{changeFlag:!1})},getDropDownSelected:function(e){this.emptyError();var a;if(t.isArray(e)){a=[];for(var i=0;i<e.length;i++)a.push(e[i][this.currentDropDown.dropDownData.idKey])}else a=e[this.currentDropDown.dropDownData.idKey];var o=this.currentDropDown.user;this.currentDropDown.selectedCall&&a!==this.getValue(o)&&this[this.currentDropDown.selectedCall](e),this.transformData(o,a,this.currentDropDown),e.model_analysis_type&&this.transformData("dataSource.dataType",e.model_analysis_type,this.currentDropDown)},showColorPicker:function(e,a,i){this.emptyError();var o={};this.pickerUser===a?this.hideColorPickerPublic():(this.pickerUser=a,o.color=this.getValue(a),o.isTransparent=i,o.flat=!0,o.el="colorPicker"===t(e.target).attr("editRole")?e.target:t(e.target).parents('[editRole="colorPicker"]')[0],this.showColorPickerPublic(o))},getColor:function(t){this.emptyError(),this.transformData(this.pickerUser,t.hex,{})},seekBarStart:function(t,e){this.emptyError(),this.seekBarFlag=!0,this.seekBarMove(t,e)},seekBarMove:function(e,a){if(this.seekBarFlag){var i="seekBar"===t(e.target).attr("editRole")?t(e.target):t(e.target).parents('[editRole="seekBar"]'),o=i.offset().left,s=i.width(),n=(e.pageX-o)/s;n=n<0?0:n>1?1:n;var r=a.min+n*(a.max-a.min)+a.unit;this.transformData(a.settingName,r,a)}},seekBarEnd:function(){this.seekBarFlag&&(this.seekBarFlag=!1)},toggleTabs:function(t){this.emptyError(),this.nowTab=t,this.nowContent="","style"===t&&(this.showMode=!1,this.gender="S")},clickButton:function(t){this.emptyError();for(var e=arguments.length,a=new Array(e>1?e-1:0),i=1;i<e;i++)a[i-1]=arguments[i];this[t].apply(this,a)},toggleContent:function(t){this.emptyError(),"dataFormat"===t&&(this.currentData.dataSource&&this.currentData.dataSource.dataFormatNum||this.transformData("dataSource",{dataFormatNum:1,dataFormat:{dataFormat1:{column:[],setting:{sort:"",format:{unit:"",mnt:"",fmt:""}}}}},{changeFlag:!1})),this.nowContent=t},addFormat:function(){this.emptyError();var t=this.currentData.dataSource.dataFormatNum+1;this.transformData("dataSource",{dataFormatNum:t,dataFormat:Object(i.a)({},"dataFormat"+t,{column:[],setting:{sort:"",format:{unit:"",mnt:"",fmt:""}}})},{changeFlag:!1})},deleteFormat:function(){this.emptyError();for(var e=arguments.length<=1?void 0:arguments[1],a=e.split(".")[2],i=parseInt(a.replace("dataFormat","")),o=t.extend(!0,{},this.currentData.dataSource.dataFormat[a]),s=this.currentData.dataSource.dataFormatNum,n={},r={},l=i;l<=s;l++)n["dataFormat"+l]=l===s?"":t.extend(!0,{},this.currentData.dataSource.dataFormat["dataFormat"+(l+1)]),r["dataFormat"+l]="";this.transformData("dataSource",{dataFormatNum:i-1,dataFormat:r},{changeFlag:!1});var c={changeFlag:!1};if(o.column.length>0)for(var d in o.setting.sort&&(c={changeFlag:!0}),o.setting.format)if(o.setting.format[d]){c={changeFlag:!0};break}this.transformData("dataSource",{dataFormatNum:s-1,dataFormat:n},c)},formatChangeFlag:function(t){var e=!1,a=t.split(".")[2],i=t.split(".")[3],o=this.currentData;if("column"===i)for(var s in this.currentData.dataSource.dataFormat[a].setting.sort&&(e=!0),this.currentData.dataSource.dataFormat[a].setting.format)this.currentData.dataSource.dataFormat[a].setting.format[s]&&(e=!0);else{var n=this._.get(o,"dataSource.dataFormat."+a+".column");n&&n.length>0&&(e=!0)}return e},dmSelectedCall:function(){this.dataSource.dimensionList=[],this.dataSource.measureList=[],this.dataSource.selectedColumnList=[],this.dataSource.columnList=[]},columnSelectedCall:function(t){var e,a,o=[];if(t)for(var r=0;r<t.length;r++)o.push(t[r][this.currentDropDown.dropDownData.idKey]);var l={};"dataSource.dimension"===this.currentDropDown.user?(e=o,a=(a=this.getValue("dataSource.measure"))?a.split(", "):[]):"dataSource.measure"===this.currentDropDown.user?(a=o,e=(e=this.getValue("dataSource.dimension"))?e.split(", "):[]):(e=(e=this.getValue("dataSource.dimension"))?e.split(", "):[],a=(a=this.getValue("dataSource.measure"))?a.split(", "):[]);var c,d=[],u=[],h=this.dataSource.dimensionList||this.getData.cacheDataSource[this.nowIndex].dimensionList,p=this.dataSource.measureList||this.getData.cacheDataSource[this.nowIndex].measureList,g=Object(n.a)(h);try{for(g.s();!(c=g.n()).done;){var m=c.value,f=m[this.urlOpt.columnOpt.id],w=e.indexOf(f);w>-1&&(d[w]={column_id:m[this.urlOpt.columnOpt.id],column_clname:"(".concat(this.$t("design.lineDimension"),") ").concat(m[this.urlOpt.columnOpt.name])})}}catch(t){g.e(t)}finally{g.f()}var v,y=Object(n.a)(p);try{for(y.s();!(v=y.n()).done;){var A=v.value,D=A[this.urlOpt.columnOpt.id],S=a.indexOf(D);S>-1&&(u[S]={column_id:A[this.urlOpt.columnOpt.id],column_clname:"(".concat(this.$t("design.lineMeasure"),") ").concat(A[this.urlOpt.columnOpt.name])},l[A[this.urlOpt.columnOpt.id]]={name:A[this.urlOpt.columnOpt.name],poly:this._.get(this.getData.dataSource,["polys",A[this.urlOpt.columnOpt.id],"poly"],"sum")})}}catch(t){y.e(t)}finally{y.f()}this.updateDataFormat([].concat(Object(s.a)(e),Object(s.a)(a))),this.dataSource.selectedColumnList=[].concat(d,u),this.transformData("cacheDataSource",Object(i.a)({},this.nowIndex,{selectedColumnList:""}),{changeFlag:!1}),this.transformData("cacheDataSource",Object(i.a)({},this.nowIndex,{selectedColumnList:this.dataSource.selectedColumnList}),{changeFlag:!1}),this.transformData("dataSource.polys","",{changeFlag:!1}),this.transformData("dataSource.polys",l,{changeFlag:!1})},updateSelectedColumn:function(){var t=this.getValue("dataSource.dimension");t=t?t.split(", "):[];var e=this.getValue("dataSource.measure");e=e?e.split(", "):[];var a,i=[],o=[],s=!1,r=!1,l=this.dataSource.dimensionList||this.getData.cacheDataSource[this.nowIndex].dimensionList,c=this.dataSource.measureList||this.getData.cacheDataSource[this.nowIndex].measureList,d=Object(n.a)(l);try{for(d.s();!(a=d.n()).done;){var u=a.value;i.push(u[this.urlOpt.columnOpt.id])}}catch(t){d.e(t)}finally{d.f()}var h,p=Object(n.a)(c);try{for(p.s();!(h=p.n()).done;){var g=h.value;o.push(g[this.urlOpt.columnOpt.id])}}catch(t){p.e(t)}finally{p.f()}for(var m=t.length-1;m>=0;m--)i.includes(t[m])||(t.splice(m,1),s=!0);for(var f=e.length-1;f>=0;f--)o.includes(e[f])||(e.splice(f,1),r=!0);s&&!r?this.transformData("dataSource.dimension",t,{changeFlag:!0}):!s&&r?this.transformData("dataSource.measure",e,{changeFlag:!0}):s&&r&&(this.transformData("dataSource.dimension",t,{changeFlag:!1}),this.transformData("dataSource.measure",e,{changeFlag:!0}))},updateDataFormat:function(t){for(var e=this.currentData.dataSource&&this.currentData.dataSource.dataFormatNum?this.currentData.dataSource.dataFormatNum:0,a=1;a<=e;a++){for(var i=Object(s.a)(this.currentData.dataSource.dataFormat["dataFormat"+a].column),o=!1,n=i.length-1;n>=0;n--){var r=i[n];t.includes(r)||(o=!0,i.splice(n,1))}o&&this.transformData("dataSource.dataFormat.dataFormat"+a+".column",i,{changeFlag:!1})}},resetStyle:function(){this.transformData("setting","",{relative:[{settingName:"style",val:""}],changeFlag:!1}),this.transformData("setting",{},{relative:[{settingName:"style",val:{}}],changeFlag:!0})},initParam:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this,a=[];if(this.nowIndex=this.getData.dataSource&&this.getData.dataSource.rootId?this.getData.dataSource.rootId:0,!t){var s=this.getData.dataSource,r=this.getData.cacheDataSource;if(r&&r[this.nowIndex]&&this._.toArray(r[this.nowIndex].dmList).length>0&&(e.dataSource.dmId=s?s.dmId:"",e.dataSource.dmList=r[this.nowIndex].dmList||[],e.dataSource.dimensionList=r[this.nowIndex].dimensionList||[],e.dataSource.measureList=r[this.nowIndex].measureList||[],e.dataSource.columnList=r[this.nowIndex].columnList||[],e.dataSource.selectedColumnList=r[this.nowIndex].selectedColumnList||[],0!==e.dataSource.selectedColumnList.length))return}a.push(e.$http({url:e.urls.dataModelUrl,params:{rootId:e.nowIndex},method:"get"}));var l=e.getValue("dataSource.dmId");l&&a.push(e.$http({url:this.urls.columnUrl,method:"get",params:{modelId:l}})),e.toggleTabs("data"),e.hideSettingList=[],e.$http.all(a).then((function(t){var a,s=!0,r=Object(n.a)(t);try{for(r.s();!(a=r.n()).done;){var l=a.value;"object"!==Object(o.a)(l.data.data)&&(s=!1)}}catch(t){r.e(t)}finally{r.f()}t&&s?(e.dataSource.dmList=t[0].data.data,e.transformData("cacheDataSource",Object(i.a)({},e.nowIndex,{dmList:t[0].data.data}),{changeFlag:!1}),2===t.length?t[0].data.data&&t[1].data.data.flag?(e.loadingSetting.show=!1,e.splitDimensionAndMeasure(t[1].data.data.data),e.updateSelectedColumn(),e.columnSelectedCall()):(e.loadingSetting.show=!1,e.transformData("dataSource.dmId","",{relative:[{settingName:"dataSource.dimension",val:[]},{settingName:"dataSource.measure",val:[]}],changeFlag:!0}),e.dmSelectedCall()):e.loadingSetting.show=!1):(e.loadingSetting.show=!1,e.errorText=t[0].data)})).catch((function(t){e.loadingSetting.show=!1;var a=e.$t("design.lineGetDataFail");t&&t.response&&t.response.data&&(a=t.response.data.message),e.errorText=a}))},getUnit:function(){var t=this;t.$http({url:t.urls.unitUrl,method:"get"}).then((function(e){t.unitList=e.data.unit})).catch((function(t){}))}}),created:function(){this.initParam(!1)},mounted:function(){this.getUnit()}}}).call(this,a("1157"))},"84e5":function(t,e,a){"use strict";(function(t){a("99af"),a("7db0"),a("0481"),a("4160"),a("c975"),a("a15b"),a("fb6a"),a("a434"),a("4069"),a("b0c0"),a("ac1f"),a("5319"),a("1276"),a("159b"),a("cca6");var i=a("ade3"),o=a("2909"),s=a("b85c"),n=a("53ca"),r=a("5530"),l=a("2f62"),c=a("eee9"),d=a("7e2a"),u=a("9a21"),h=a("cb26");e.a={name:"filterParam",props:["getData","reportSetting","blockType"],components:{backgroundAndBorder:c.a,excel:d.a},mixins:[u.a,h.a],data:function(){var t={fontSize:{items:[{val:"12px",real:"12"},{val:"13px",real:"13"},{val:"16px",real:"16"},{val:"18px",real:"18"},{val:"24px",real:"24"},{val:"32px",real:"32"},{val:"48px",real:"48"}],showKey:"val",idKey:"real",max:48,min:12},fontFamily:{items:[{val:this.$t("design.simSun"),real:"SimSun"},{val:this.$t("design.simHei"),real:"SimHei"},{val:this.$t("design.yaHei"),real:"Microsoft YaHei"},{val:this.$t("design.youYuan"),real:"YouYuan"},{val:this.$t("design.fangSong"),real:"STFangsong"}],showKey:"val",idKey:"real"},itemSize:{items:[{val:"10px",real:"10"},{val:"20px",real:"20"},{val:"30px",real:"30"},{val:"40px",real:"40"},{val:"50px",real:"50"}],showKey:"val",idKey:"real",min:10,max:50}},e={id:"model_id",name:"model_name",pid:"parentid"},a={id:"pkid",name:"des_column",type:"analy_type"};return{cacheDataSourceKeys:{fields:{modelListKey:"dmList"}},backgroundStyle:{fontFamily:"Microsoft YaHei",fontSize:"16px",backgroundColor:"transparent",borderRadius:"4",borderWidth:"1px",borderColor:"transparent",borderStyle:"solid",opacity:"1"},urls:{dataModelUrl:"/model_list",columnUrl:"/report/model/column",getFolderId:"/report/model/folder"},tabList:[{type:"data",name:this.$t("design.lineData")},{type:"style",name:this.$t("design.lineStyle")}],nowTab:"data",nowContent:"",blockTitle:this.$t("design.designFilter"),loadingSetting:{show:!1},pickerUser:"",errorText:"",currentDropDown:{options:{},validate:{},user:"",relative:""},hideSettingList:[],settingContents:[{type:"data",children:[{name:this.$t("design.lineDataSource"),id:"dataSource",class:"noBg",icon:"icon-datamodel",children:[{showType:"tab",readonly:!0,settingName:"dataSource.rootId",trueValue:0,class:"width-10",changeFlag:!0,detailClass:"fullBorderDropDown",showValueTitle:!0,placeholder:this.$t("design.lineSelectModel"),tabsParam:[{text:this.$t("dataExplore.myFolders"),value:0},{text:this.$t("dataExplore.sharedFolders"),value:1}]},{showType:"dropDown-icon-input",readonly:!0,settingName:"dataSource.dmId",trueValue:"",class:"width-10",detailClass:"fullBorderDropDown",changeFlag:!1,showValueTitle:!0,transformByArr:!0,placeholder:this.$t("design.lineSelectModel"),relative:[{settingName:"dataSource.showColumn",val:""},{settingName:"dataSource.hiddenColumn",val:""}],selectedCall:"dmSelectedCall",dropDownData:{type:"tree",dropDownUrl:"dataModelUrl",noData:this.$t("design.lineNoModel"),noUrlData:this.$t("design.lineSelectMenuFirst"),dropItemsName:"dmList",dataSource:[],showKey:e.name,idKey:e.id,pidKey:e.pid,showType:"model_type",folder:"directory",chooseFolder:!1}},{showType:"dropDown-icon-input",name:this.$t("design.filterShowField"),nameLength:"5",readonly:!0,settingName:"dataSource.showColumn",trueValue:"",class:"width-10",transformByArr:!0,detailClass:"fullBorderDropDown",changeFlag:!0,showValueTitle:!0,placeholder:this.$t("design.dataobjFiledPlaceholder"),dropDownData:{noData:this.$t("design.lineNoDimension"),dropDownUrl:"columnUrl",urlData:{model_id:"dataSource.dmId"},noUrlData:this.$t("design.dataobjFiledPlaceholder"),dropItemsName:"columnList",dataSource:[],showKey:a.name,idKey:a.id,dropDownStyle:{}}},{showType:"dropDown-icon-input",name:this.$t("design.filterhiddenField"),nameLength:"5",readonly:!0,settingName:"dataSource.hiddenColumn",trueValue:"",class:"width-10",transformByArr:!0,detailClass:"fullBorderDropDown",showValueTitle:!0,changeFlag:!1,placeholder:this.$t("design.dataobjFiledPlaceholder"),dropDownData:{noData:this.$t("design.lineNoMeasure"),dropDownUrl:"columnUrl",urlData:{model_id:"dataSource.dmId"},noUrlData:this.$t("design.lineSelectModelFirst"),dropItemsName:"columnList",dataSource:[],showKey:a.name,idKey:a.id}},{showType:"options-checkbox",settingName:"dataSource.isCarousel",text:this.$t("design.isDataCarousel"),class:"width-5"},{showType:"input-text",showflag:{settingName:"dataSource.isCarousel",value:!0},title:this.$t("design.carouselTime"),settingName:"dataSource.carouselTime",class:"width-10",unit:"ms",validate:{type:"number",min:0}}]}]},{type:"style",children:[{name:this.$t("design.expression"),id:"expression",icon:"icon-grid",children:[{showType:"options-radio",settingName:"setting.isMultiple",trueValue:!1,class:"width-10",detailClass:"averageCenter",groups:[{text:this.$t("design.singleSelect"),value:!1},{text:this.$t("design.multipleSelect"),value:!0}]},{showType:"options-checkbox",settingName:"setting.isSearch",text:this.$t("design.isSearch"),class:"width-5"},{showType:"options-checkbox",settingName:"setting.noBorder",text:this.$t("design.noBorder"),class:"width-5"}]},{name:this.$t("design.reportFontFamily"),id:"title",icon:"icon-text-font",children:[{showType:"colorPicker-icon",settingName:"setting.title.color",class:"width-2 horizontal",iconClass:"icon-font",title:this.$t("design.lineFontColor"),isTransparent:!1},{showType:"dropDown-icon-input",readonly:!0,settingName:"setting.title.fontSize",class:"width-4",title:this.$t("design.lineFontSize"),iconClass:"icon-font-size",transformByArr:!1,showValueTitle:!1,unit:"px",validate:{type:"number",min:t.fontSize.min,max:t.fontSize.max,unit:"px"},dropDownData:{isShow:!1,dataSource:t.fontSize.items,showKey:t.fontSize.showKey,idKey:t.fontSize.idKey,dropDownStyle:{}}},{showType:"dropDown-icon-input",readonly:!0,settingName:"setting.title.fontFamily",class:"width-4",iconClass:"icon-font-family",title:this.$t("design.lineFontFamily"),showValueTitle:!1,transformByArr:!0,dropDownData:{dataSource:t.fontFamily.items,showKey:t.fontFamily.showKey,idKey:t.fontFamily.idKey}},{showType:"options-icon",settingName:"setting.title.textAlign",class:"width-5 horizontal",detailClass:"averageCenter",groups:[{title:this.$t("design.linePositionLeft"),value:"left",iconClass:"icon-horizontal-left"},{title:this.$t("design.linePositionCenter"),value:"center",iconClass:"icon-horizontal-center"},{title:this.$t("design.linePositionRight"),value:"right",iconClass:"icon-horizontal-right"}]},{showType:"options-icon",settingName:"setting.title.style",class:"width-5 horizontal",detailClass:"averageCenter borderLeft",groups:[{title:this.$t("design.testBold"),value:"bold",iconClass:"icon-bold",style:{fontSize:"15px"}},{title:this.$t("design.testItalic"),value:"italic",iconClass:"icon-italic",style:{fontSize:"15px"}}]}]}]}],dataSource:{dmList:[],columnList:[],selectedColumnList:[],selectedFilterList:[]}}},watch:{colorPickerSelected:function(){this.pickerUser&&this.getColor(this.colorPickerSelected)},colorPickerOpt:function(){!this.colorPickerOpt.flat&&this.pickerUser&&(this.pickerUser="")},drawSelected:function(){this.initParam()}},computed:Object(r.a)(Object(r.a)({},Object(l.d)({colorPickerOpt:function(t){return t.colorPickerOpt},colorPickerSelected:function(t){return t.colorPickerSelected},drawSelected:function(t){return t.draw.selected},carousel:function(t){return t.draw.carousel}})),{},{currentData:function(){var e={setting:{text:{textStyle:{fontSize:parseInt(this.reportSetting.fontSize),fontFamily:this.reportSetting.fontFamily}}},style:this.reportSetting},a=t.extend(!0,{},this.getData);return"object"!==Object(n.a)(a.style)&&delete a.style,a.setting=t.extend(!0,{},a.defaultSetting,a.setting?a.setting:{}),t.extend(!0,{},e,a)},transformSetting:function(){var e,a=t.extend(!0,[],this.settingContents),i=Object(s.a)(a);try{for(i.s();!(e=i.n()).done;){var n=e.value;switch(n.type){case"style":n.children=Object(o.a)(n.children)}}}catch(t){i.e(t)}finally{i.f()}var r,l=Object(s.a)(a);try{for(l.s();!(r=l.n()).done;){var c,d=r.value,u=Object(s.a)(d.children);try{for(u.s();!(c=u.n()).done;){var h,p=c.value,g=Object(s.a)(p.children);try{for(g.s();!(h=g.n()).done;){var m=h.value;switch(m.showType){case"input":case"input-text":m.trueValue=this.getValue(m.settingName,m.validate)+(m.unit?m.unit:"");break;case"options-icon":case"options-radio":case"options-checkbox":case"colorPicker-icon":case"seekBar":m.trueValue=this.getValue(m.settingName);break;case"dropDown-icon-input":m.trueValue=this.getValue(m.settingName,m.validate,m.transformByArr?m.dropDownData:void 0)+(m.unit?m.unit:"")}}}catch(t){g.e(t)}finally{g.f()}}}catch(t){u.e(t)}finally{u.f()}}}catch(t){l.e(t)}finally{l.f()}return a}}),methods:Object(r.a)(Object(r.a)({},Object(l.b)({showColorPickerPublic:"showColorPicker",hideColorPickerPublic:"hideColorPicker",drawChangeSelectedData:"drawChangeSelectedData"})),{},{dropDownChanged:function(t,e){var a=this;this.getDropDownSelected(t),"dataSource.dmId"===e&&this.$http({url:this.urls.columnUrl,method:"get",params:{modelId:t.pkid}}).then((function(t){a.drawChangeSelectedData({cacheDataSource:Object(i.a)({},a.nowIndex,{columnList:""})}),a.drawChangeSelectedData({cacheDataSource:Object(i.a)({},a.nowIndex,{columnList:t.data.data.data})})})).catch((function(t){var e=a.$t("design.lineGetDataFail");t&&t.response&&t.response.data&&(e=t.response.data.message),a.errorText=e}))},getModelFromExcel:function(t){var e=this;this.$http({url:e.urls.dataModelUrl,params:{rootId:e.nowIndex},method:"get"}).then((function(a){if(e.loadingSetting.show=!1,"object"===Object(n.a)(a.data.data)){var o=a.data.data;e.dataSource.dmList=o;var s={};o.forEach((function(e){e.model_id===t&&(s=e)}));var r={dmId:s,showColumn:"",hiddenColumn:"",dataType:"excel"};e.transformData("cacheDataSource",Object(i.a)({},e.nowIndex,{dmList:""}),{changeFlag:!1}),e.transformData("cacheDataSource",Object(i.a)({},e.nowIndex,{dmList:a.data.data}),{changeFlag:!0}),e.transformData("dataSource",r,{changeFlag:!0}),e.dmSelectedCall(),e.$nextTick((function(){e.initParam()}))}else e.errorText=a.data})).catch((function(t){e.loadingSetting.show=!1;var a=e.$t("design.lineGetDataFail");t&&t.response&&t.response.data&&(a=t.response.data.message),e.errorText=a}))},toggleTabs:function(t){this.emptyError(),this.nowTab=t,this.nowContent=""},switchDetailShow:function(t){if(t){var e=this.hideSettingList.indexOf(t);e>=0?this.hideSettingList.splice(e,1):this.hideSettingList.push(t)}},transformValue:function(t,e){var a=t;return"string"==typeof e.unit&&(a=a.replace(e.unit,"")),"number"==typeof e.scale&&(a=parseFloat(a)/e.scale),a},transformData:function(e,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=a,r=i.validate,l=i.relative,c=i.changeFlag;if(r&&(a=this.validateData(e,a,r)),a!==this.getValue(e)||n!==a){var d=[{settingName:e,val:a}];l&&(d=[].concat(Object(o.a)(d),Object(o.a)(l)));var u,h={},p=Object(s.a)(d);try{for(p.s();!(u=p.n()).done;){var g=u.value,m=g.settingName.split("."),f={};if(t.isArray(g.val)){for(var w={},v=m.length-1;v>=0;v--){var y=m[v],A={};v===m.length-1?w[y]="":(A[y]=w,w=A)}this.changeData(w)}for(var D=m.length-1;D>=0;D--){var S=m[D],b={};D===m.length-1?f[S]=g.val:(b[S]=f,f=b)}h=t.extend(!0,h,f)}}catch(t){p.e(t)}finally{p.f()}var C=!0;"string"==typeof c?C=this[c](e):"boolean"==typeof c&&(C=c),C&&("setting"===e.split(".")[0]?h.changeStyle=!0:"dataSource"===e.split(".")[0]&&(h.changeData=!0)),this.changeData(h)}},showColorPicker:function(e,a,i){this.emptyError();var o={};this.pickerUser===a?this.hideColorPickerPublic():(this.pickerUser=a,o.color=this.getValue(a),o.isTransparent=i,o.flat=!0,o.el="colorPicker"===t(e.target).attr("editRole")?e.target:t(e.target).parents('[editRole="colorPicker"]')[0],this.showColorPickerPublic(o))},getColor:function(t){this.emptyError(),this.transformData(this.pickerUser,t.hex,{})},getValue:function(e,a,i){var o=e.split("."),n=this.currentData;if(o){var r,l=Object(s.a)(o);try{for(l.s();!(r=l.n()).done;){var c=r.value;if(!n){n="";break}n=n[c]}}catch(t){l.e(t)}finally{l.f()}n=void 0===n?"":n;for(var d=(n=t.isArray(n)?t.extend(!0,[],n):[n]).length-1;d>=0;d--)if(a&&""!==n[d]&&(n[d]=this.transformValue(n[d],a)),i){var u=i.dropItemsName?this.dataSource[i.dropItemsName]:i.dataSource,h=!0;if(!u)return;var p,g=Object(s.a)(u);try{for(g.s();!(p=g.n()).done;){var m=p.value;if(m[i.idKey]===n[d]){n[d]=m[i.showKey],h=!1;break}}}catch(t){g.e(t)}finally{g.f()}h&&n.splice(d,1)}return 1===n.length?n[0]:n.join(", ")}},getDropDownValue:function(t){var e=t.dropDownData,a=e.dataSource,i=e.showKey;return a.find((function(e){return e[i]===t.trueValue}))},getDatas:function(t,e,a,i){var o=this.currentData,s=this._.get(o,t),r="";if(s&&(r=s),a&&s){if("object"!==Object(n.a)(s)){var l="";a.dataSource.forEach((function(t){t[a.idKey]===s&&(l=t)})),s=l}a.isMultiple?(r="",s.forEach((function(t,e){r+=0===e?t[a[i]]:","+t[a[i]]}))):r=s[a[i]]}return r},getFlatData:function(t){var e=[];return function t(a){a.forEach((function(a){e.push(a),a.children&&t(a.children)}))}(this.settingContents),e.find((function(e){return e.dropDownData&&e.settingName===t})).dropDownData},showDropDown:function(e,a){this.emptyError();var o=this,s=this.getFlatData(e);if(s.dropItemsName&&this.dataSource[s.dropItemsName]&&this.dataSource[s.dropItemsName].length>0)if(s.dropItemsFilter){var r=this.getValue(s.dropItemsFilter);s.dataSource=this.dropDownDataFilter(this.dataSource[s.dropItemsName],s.idKey,r?r.split(", "):[])}else s.dataSource=this.dataSource[s.dropItemsName];else if(s.dropDownUrl){var l={};if("dataModelUrl"===s.dropDownUrl){var c={};c.rootId=o.getValue("dataSource.rootId"),l[s.dropDownUrl]={url:this.urls.dataModelUrl,params:c,method:"get"}}else if("columnUrl"===s.dropDownUrl){var d=o.getValue("dataSource.dmId");if(!d)return void this.$notify({group:"foo-dataexporler",title:this.$t("public.warnInfo"),text:this.$t("design.lineSelectMenuFirst"),type:"warn"});l[s.dropDownUrl]={url:this.urls.columnUrl,method:"get",params:{modelId:d}}}s.noDataDefault=s.noData,s.noData=this.$t("design.lineLoading");var u=l[s.dropDownUrl];this.$http(u).then((function(t){"object"===Object(n.a)(t.data.data)?("dataModelUrl"===s.dropDownUrl?(o.dataSource[a.dropDownData.dropItemsName]=t.data.data,o.transformData("cacheDataSource",Object(i.a)({},o.nowIndex,{dmList:t.data.data}),{changeFlag:!1})):"columnUrl"===s.dropDownUrl&&(o.dataSource[a.dropDownData.dropItemsName]=t.data.data.data,o.transformData("cacheDataSource",Object(i.a)({},o.nowIndex,{columnList:t.data.data.data}),{changeFlag:!1})),s.dataSource=o.dataSource[a.dropDownData.dropItemsName],s.noData=obj.noDataDefault):o.errorText=t.data})).catch((function(t){var e=o.$t("design.lineGetDataFail");t&&t.response&&t.response.data&&(e=t.response.data.message),o.errorText=e,s.noData=s.noDataDefault;var a=Object.assign({},o.currentDropDown.dropDownData);a.noData=a.noDataDefault,delete a.noDataDefault,o.currentDropDown.dropDownData=a}))}o.getValue(e,a.validate);this.currentDropDown=t.extend(!0,{},a),this.currentDropDown.dropDownData=s,this.currentDropDown.user=e},getDropDownSelected:function(e){this.emptyError();var a;if(t.isArray(e)){a=[];for(var i=0;i<e.length;i++)a.push(e[i][this.currentDropDown.dropDownData.idKey])}else a=e[this.currentDropDown.dropDownData.idKey];var o=this.currentDropDown.user;this.currentDropDown.selectedCall&&a!==this.getValue(o)&&this[this.currentDropDown.selectedCall](e),"dataSource.showColumn"===o&&this.transformData("dataSource.placeholder",e[this.currentDropDown.dropDownData.showKey]),this.transformData(o,a,this.currentDropDown),e.model_analysis_type&&this.transformData("dataSource.dataType",e.model_analysis_type,this.currentDropDown)},validateData:function(t,e,a){var i=e;return"number"===a.type?(i=parseFloat(i),isNaN(i)?i=this.getValue(t):("number"==typeof a.min&&(i=i<a.min?a.min:i),"number"==typeof a.max&&(i=i>a.max?a.max:i),"number"==typeof a.scale&&(i*=a.scale),"string"==typeof a.unit&&(i+=a.unit))):"text"===a.type&&a.textLength&&(i=i.slice(0,a.textLength-1)),i},changeData:function(t){this.drawChangeSelectedData(t)},emptyError:function(){this.errorText=""},initParam:function(){var t=this,e=[];this.nowIndex=this.getData.dataSource&&this.getData.dataSource.rootId?this.getData.dataSource.rootId:0;var a=this.getData.cacheDataSource;if(a&&a[this.nowIndex]&&a[this.nowIndex].dmList&&a[this.nowIndex].columnList){var o=this.getData.dataSource;this._.merge(t.dataSource,a[this.nowIndex],o)}else{var r=t.getValue("dataSource.dmId");r&&(e.push(t.$http({url:t.urls.dataModelUrl,params:{rootId:t.nowIndex},method:"get"})),e.push(t.$http({url:this.urls.columnUrl,method:"get",params:{modelId:r}}))),t.toggleTabs("data"),t.hideSettingList=[],t.$http.all(e).then((function(e){var a,o=!0,r=Object(s.a)(e);try{for(r.s();!(a=r.n()).done;){var l=a.value;"object"!==Object(n.a)(l.data.data)&&(o=!1)}}catch(t){r.e(t)}finally{r.f()}e&&o?2===e.length?e[0].data.data&&e[1].data.data.flag?(t.loadingSetting.show=!1,t.dataSource.dmList=e[0].data.data,t.transformData("cacheDataSource",Object(i.a)({},t.nowIndex,{dmList:e[0].data.data}),{changeFlag:!1}),t.dataSource.columnList=e[1].data.data.data,t.drawChangeSelectedData({cacheDataSource:Object(i.a)({},t.nowIndex,{columnList:e[1].data.data.data})})):(t.loadingSetting.show=!1,t.transformData("dataSource.dmId","",{relative:[{settingName:"dataSource.showColumn",val:[]},{settingName:"dataSource.hiddenColumn",val:[]}],changeFlag:!0}),t.dmSelectedCall()):t.loadingSetting.show=!1:(t.loadingSetting.show=!1,t.errorText=e[0].data)})).catch((function(e){t.loadingSetting.show=!1;var a=t.$t("design.lineGetDataFail");e&&e.response&&e.response.data&&(a=e.response.data.message),t.errorText=a}))}},dmSelectedCall:function(){this.dataSource.columnList=[]}}),created:function(){var t=this;this.$nextTick((function(){t.transformData("dataSource.rootId",t._.get(t.getData,"dataSource.rootId")||0,{changeFlag:!1}),t.transformData("dataSource.carouselTime",t._.get(t.getData,"dataSource.carouselTime")||t.carousel.time,{changeFlag:!1})})),this.initParam()}}}).call(this,a("1157"))},"878e":function(t,e,a){"use strict";(function(t){a("7db0");var i=a("53ca"),o=a("5530"),s=a("2f62");e.a={name:"publish",props:{showWindow:{type:Boolean,default:!1},setting:{type:Object,default:function(){return{}}},errorText:{type:String,default:""},editId:{type:String,default:""},loadingSetting:{type:Object,default:function(){return{}}}},data:function(){return{showConfirm:!1,errorShowText:"",nameError:!1,currentName:"",currentSelected:{},folderData:[],treeSetting:{id:"model_id",name:"model_clname",pId:"parent_id",defaultItem:!0,defaultExpand:"first",type:"model_type",folder:"publish_folder"},addFolder:!1,loadingSettingInner:{show:!1},urls:{folderUrl:"/report/publish/folder",validatePublish:"/report/publish/verify"}}},watch:{errorText:function(){this.errorShowText=this.errorText},showWindow:function(){this.showWindow?(this.currentSelected={},this.editId?(this.treeSetting.defaultItem=this.setting.parent_id,this.currentName=this.setting.title):this.treeSetting.defaultItem=!0):(this.currentName="",this.errorShowText="",this.nameError=!1)}},computed:{popupWindowOpt:function(){return{show:this.showConfirm,type:"confirm",content:this.$t("design.ifCover")}},windowSetting:function(){var t={type:"custom",head:this.$t("design.publishTo")};return t.show=this.showWindow,t},loadingOpt:function(){return!0===this.loadingSetting.show?this.loadingSetting:!0===this.loadingSettingInner.show?this.loadingSettingInner:{show:!1}}},methods:Object(o.a)(Object(o.a)({},Object(s.b)({changeOperate:"changeOperate"})),{},{getTreeSelect:function(t){this.errorShowText="",this.currentSelected=Object(o.a)({},t)},getTreeDefaultData:function(t){this.getTreeSelect(t)},nameValidate:function(t){return/\S/.test(t)?(this.errorShowText="",this.nameError=!1,!0):(this.errorShowText=this.$t("design.saveReportNameEmpty"),this.nameError=!0,!1)},afterClickButton:function(t){var e=t.type;"confirm"===e?this.validateData():"close"!==e&&"cancel"!==e||this.closeSaveWindow()},changePopupWindowClick:function(t){var e=t.type;"confirm"===e?(this.closeValidateWindow(),this.publishData()):"close"!==e&&"cancel"!==e||this.closeValidateWindow()},validateData:function(){var e=this,a=t(this.$el).find('[name="reportTitle"]').val();if(this.nameValidate(a))if(t.isEmptyObject(this.currentSelected))this.errorShowText=this.$t("design.saveSelectFolderFirst");else{var i={modelName:a,parentId:this.currentSelected.model_id};this.$http({url:this.urls.validatePublish,method:"get",params:i}).then((function(t){var a=t.data.data;a&&(2===a.status?e.showConfirm=!0:0===a.status?e.publishData():1===a.status&&(e.errorShowText=e.$t("design.changeName")))})).catch((function(t){e.loadingSettingInner.show=!1;var a=e.$t("design.saveGetFolderListFail");t&&t.response&&t.response.data&&(a=t.response.data.message),e.errorShowText=a}))}else t(this.$el).find('[name="reportTitle"]').focus()},publishData:function(){var e={title:t(this.$el).find('[name="reportTitle"]').val(),style:this.currentSelected.style,parent_id:this.currentSelected.model_id,root_id:this.currentSelected.root_id};this.$emit("publishData",e)},closeSaveWindow:function(){this.changeOperate("")},closeValidateWindow:function(){this.showConfirm=!1}}),mounted:function(){var t=this;this.loadingSettingInner.show=!0,this.$http.get(this.urls.folderUrl).then((function(e){t.loadingSettingInner.show=!1,"object"===Object(i.a)(e.data.data)?t.folderData=e.data.data:t.errorShowText=e.data.data})).catch((function(e){t.loadingSettingInner.show=!1;var a=t.$t("design.saveGetFolderListFail");e&&e.response&&e.response.data&&(a=e.response.data.message),t.errorShowText=a}))}}}).call(this,a("1157"))},"892c":function(t,e,a){"use strict";var i=a("39b9");a.n(i).a},8955:function(t,e,a){"use strict";var i=a("d969").a,o=(a("0977"),a("2877")),s=Object(o.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"styles-item noBg",class:[t.hideDetail?"hideDetail":""]},[a("div",{staticClass:"style-title",on:{click:t.switchDetailShow}},[a("div",{staticClass:"icon-traingle"}),a("div",{staticClass:"iconfont icon-title"}),a("div",{staticClass:"style-title-text"},[t._v(t._s(t.$t("design.blockName")))])]),a("div",{staticClass:"forms"},[a("div",{staticClass:"line width-10"},[a("div",{staticClass:"filter-column-name"},[a("input",{staticClass:"block-name",domProps:{value:t.currentBlockName},on:{change:function(e){return t.changeName(e)}}})])]),t.ifFilter?[a("div",{staticClass:"line width-10"},[a("div",{staticClass:"line-left-5"},[a("span",[t._v(t._s(t.$t("design.widgetType")))])]),a("div",{staticClass:"line-middle"},[a("dropdown",{staticClass:"dropDown pointer fullBorderDropDown",attrs:{configs:this.dropDownData,value:t.getData.setting&&t.getData.setting.dataType?t.getData.setting.dataType:t.getData.defaultSetting.dataType},on:{change:t.getDropDownSelected}},[a("div",{staticClass:"dropDown-input-box dropDownShadow"},[a("input",{staticClass:"dropDown-true-input ellipsis",attrs:{type:"text",spellcheck:"false",readonly:"true",unselectable:"'on'"},domProps:{value:t.getShow(t.filterParams&&t.filterParams.dataType)}})])])],1)]),a("div",{staticClass:"line width-10"},[a("div",{staticClass:"line-middle"},[a("div",{staticClass:"checkbox pointer",on:{click:function(e){return t.toggleInput()}}},[t.filterParams&&t.filterParams.ifManual?a("span",{staticClass:"iconfont icon-checkbox"}):a("span",{staticClass:"iconfont icon-checkbox-no"}),a("span",[t._v(t._s(t.$t("design.manualInput")))])])])])]:t._e()],2)])}),[],!1,null,"4585de0e",null);e.a=s.exports},"89e2":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABR4AAAC2AQMAAACF5gMgAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAFiaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA1LjQuMCI+CiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgdGlmZjpPcmllbnRhdGlvbj0iMSIvPgogPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KPD94cGFja2V0IGVuZD0iciI/Ps5yjzMAAAAGUExURUdwTAC6/6wCLe4AAAABdFJOUwBA5thmAAAAZUlEQVR42u3UsQ1AIQhAQTdz/y3+CAxgwl/AxEQbjHcl1SuAlhNfK+aKSKh3OLGciNx9QSLtJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMCpzKgd2HOIFClyJ5LHnnl5IfKtyBv8rRoXEj8lzWkAAAAASUVORK5CYII="},"8a15":function(t,e,a){"use strict";var i=a("cebe").a,o=(a("5f7f"),a("2877")),s=Object(o.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"imageChooseList"},[a("div",{staticClass:"line width-10"},[a("div",{staticClass:"line-middle"},[a("div",{staticClass:"checkbox imgCheckbox",on:{click:function(e){return e.stopPropagation(),t.changeRemOrLocal(e)}}},[a("i",{directives:[{name:"show",rawName:"v-show",value:t.isRemImg,expression:"isRemImg"}],staticClass:"icon iconfont icon-checkbox"}),a("i",{directives:[{name:"show",rawName:"v-show",value:!t.isRemImg,expression:"!isRemImg"}],staticClass:"icon iconfont icon-checkbox-no"}),a("span",[t._v(t._s(t.$t("design.imageRemoteUpload")))])])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.isRemImg,expression:"!isRemImg"}],staticClass:"line width-10",on:{click:function(e){return e.stopPropagation(),t.clearError(e)}}},[a("div",{staticClass:"line-middle"},[a("label",{staticClass:"label-uploadimg",on:{click:function(e){return e.stopPropagation(),t.clearError(e)}}},[a("span",[t._v(t._s(t.$t("design.imageLocalUpload")))]),a("input",{staticClass:"input-loc-img",attrs:{name:"imgLocal",id:"imgLocal",type:"file",accept:"image/gif, image/jpeg, image/jpg, image/png",spellcheck:"false"},on:{change:t.selectImg}})])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isRemImg,expression:"isRemImg"}],staticClass:"line width-10"},[a("div",{staticClass:"line-middle"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.remSrc,expression:"remSrc"}],staticClass:"onlyInput",attrs:{type:"text",spellcheck:"false",placeholder:t.$t("design.imageTrueUrl")},domProps:{value:t.remSrc},on:{focus:function(e){return e.stopPropagation(),t.clearError(e)},input:function(e){e.target.composing||(t.remSrc=e.target.value)}}})])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isRemImg,expression:"isRemImg"}],staticClass:"line width-10"},[a("div",{staticClass:"line-middle"},[a("button",{staticClass:"buttonArea imgRemButtom halfLeftRight",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.clearRemUrl(e)}}},[a("span",{staticClass:"buttonText"},[t._v(t._s(t.$t("design.imageCancel")))])]),a("button",{staticClass:"buttonArea imgRemButtom halfLeftRight",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.okRemUrl(e)}}},[a("span",{staticClass:"buttonText"},[t._v(t._s(t.$t("design.imageUpload")))])])])]),t.uploadError?a("div",{staticClass:"upload-img-error"},[t._v(t._s(t.uploadErrorField))]):t._e(),a("ul",{staticClass:"imgPreListStyle"},[a("nanoscrollerComponent",{attrs:{properties:{height:"100%",axis:"y",maxHeight:t.imagelistSet.nanoMaxHeight}}},[a("div",{staticClass:"imgListBlock"},[a("li",{staticClass:"imgList noImgUrl"},[a("span",{staticClass:"img-s noImgListImg"},[t._v(" "+t._s(t.$t("design.imageNoBack"))+" ")]),a("span",{staticClass:"shadow"},[a("span",{staticClass:"shadow-pre iconfont icon-cross",on:{click:function(e){return e.stopPropagation(),t.selectedImg({isLocal:!1,url:""})}}})])]),t._l(t.imgUrls,(function(e,i){return a("li",{key:i,staticClass:"imgList"},[a("div",{staticClass:"img-s",style:"background-image:url('"+(e.isLocal?t.$projectName+e.url:e.url)+"')"}),a("span",{staticClass:"shadow"},[a("span",{staticClass:"shadow-del iconfont icon-circle-close",on:{click:function(a){return a.stopPropagation(),t.delPre(e)}}}),a("span",{staticClass:"shadow-pre iconfont icon-cross",on:{click:function(a){return a.stopPropagation(),t.selectedImg(e)}}})])])}))],2)])],1)])}),[],!1,null,"3b70f838",null);e.a=s.exports},"8a3d":function(t,e,a){},"8d79":function(t,e,a){"use strict";(function(t){a("99af"),a("4de4"),a("4160"),a("c975"),a("a434"),a("b0c0"),a("b64b"),a("ac1f"),a("5319"),a("1276"),a("159b");var i=a("2909"),o=a("5530"),s=a("2f62"),n=a("eee9");e.a={name:"reportWidget",props:["getData","reportSetting"],components:{backgroundAndBorder:n.a},data:function(){return{tabList:[{type:"data",name:this.$t("design.lineData")},{type:"style",name:this.$t("design.reportStyle")}],nowTab:"data",hideBlocksList:[],currentSetColor:"",currentSetDrop:{},urls:{reportSelectUrl:"/user/theme_tree",filterParamsUrl:"/getResParams"},dropDownTreeOpt:{name:"dropDownTreeOpt",dataSource:[],showKey:"res_clname",idKey:"res_id",pidKey:"res_parentid",rootId:"141776322849763954",type:"tree",defaultExpand:"first",showType:"res_showtype",folder:"FOLDER",chooseFolder:!1},reportSelectData:{},isInputReport:this.getData.report&&!this.getData.report.isSelect,remSrc:this.getData.report&&!this.getData.report.isSelect?this.getData.report.iframeUrl:"",currentSelectDownTree:{},filterList:[{type:"condition",name:this.$t("design.tableModuleFilter")},{type:"default",name:this.$t("design.reportDefaultValue")}],nowFilterTab:"condition",filterDataList:[],defaultList:[],currentDropDown:{user:""},dataSource:{sourceList:[],blockList:[],targetList:{}},filterParam:{sourceId:{nameKey:"sourceName",listKey:"sourceList",inListIdKey:"pkid",inListNameKey:"des_column",dropDownData:{isShow:!1,defaultItem:"",dropDownUrl:"dataModelUrl",dropItemsName:"sourceList",dataSource:[],showKey:"des_column",idKey:"pkid"}},blockId:{nameKey:"blockName",listKey:"blockList",inListIdKey:"id",inListNameKey:"name",relative:["targetId"],dropDownData:{isShow:!1,defaultItem:"",dropItemsName:"blockList",dataSource:[],showKey:"name",idKey:"id"}},targetId:{nameKey:"targetName",listKey:"targetList",inListIdKey:"pkid",inListNameKey:"des_column",dropDownData:{isShow:!1,defaultItem:"",dropItemsName:"targetList",dataSource:[],showKey:"des_column",idKey:"pkid"}}},filterObj:{},filterItem:{sourceId:"",blockId:"",targetId:""},postDataObj:{},filterDataShow:!1,loadingSetting:{show:!1},report:{isSelect:!1,iframeUrl:""}}},watch:{drawSelected:function(){this.init()}},computed:Object(o.a)(Object(o.a)(Object(o.a)({},Object(s.c)({getAllBlocksExcept:"getAllBlocksExcept",getBlockContent:"getBlockContent"})),{},{currentSelectReport:function(){return this.getData.report&&this.getData.report.isSelect?this.reportSelectData[this.getData.report.iframeUrl]:this.currentSelectDownTree},objStyle:function(){if(this.getData)return t.extend(!0,{},this.reportSetting,this.getData.style)}},Object(s.d)({drawSelected:function(t){return t.draw.selected}})),{},{filterRules:function(){var t=this.getData.dataresource&&this.getData.dataresource.filterRules;if(this.currentSetDrop.name===this.dropDownTreeOpt.name&&(t=void 0),!t){t=this.filterDataList,t=JSON.parse(JSON.stringify(t).replace(/name/g,"sourceName")),t=JSON.parse(JSON.stringify(t).replace(/key/g,"sourceId"));for(var e=0;e<t.length;e++)t[e].targetName="",t[e].blockName="",t[e].targetId="",t[e].blockId="",delete t[e].value}return void 0===this.getData.report&&(t=[]),t},showFilters:function(){var e=this,a=t.extend(!0,[],this.filterRules);return this.filterObj={},a.forEach((function(t){for(var a in t)if("blockId"===a||"targetId"===a){var i=e.filterParam[a].nameKey,o=e.filterParam[a].listKey,s="";s="targetId"===a?e.getValue(e.filterParam[a].inListIdKey,t[a],e.dataSource[o][t.blockId],e.filterParam[a].inListNameKey):e.getValue(e.filterParam[a].inListIdKey,t[a],e.dataSource[o],e.filterParam[a].inListNameKey),t[i]=s,"sourceId"===a&&(e.filterObj[t[a]]=t[i])}})),a}}),methods:Object(o.a)(Object(o.a)({},Object(s.b)({drawChangeSelectedData:"drawChangeSelectedData",drawChangeSpecialData:"drawChangeSpecialData",addLink:"addLink",delLink:"delLink"})),{},{enterKeyUp:function(){this.okReportUrl()},okReportUrl:function(){this.$refs.reportUrl.blur(),this.remSrc&&this.drawChangeSelectedData({report:{iframeUrl:this.remSrc,isSelect:!1}})},toggleTabs:function(t){this.nowTab=t},dropdownChanged:function(t){var e=this.currentSetDrop.name;e&&(e===this.dropDownTreeOpt.name&&(this.currentSelectDownTree=Object(o.a)({},t),this.getFilterParams(t.res_id)),this.getDropDownValue(t,this.currentSetDrop)),this.currentDropDown.user&&this.getDropDownSelected(t)},changeOrigin:function(){if(this.isInputReport=!this.isInputReport,this.isInputReport)this.okReportUrl();else{var t=this.currentSelectReport[this.dropDownTreeOpt.idKey];t&&this.drawChangeSelectedData({report:{iframeUrl:t,isSelect:!0}})}},changeData:function(t){if(t.iframeSrc)this.drawChangeSelectedData({report:{iframeUrl:t.iframeSrc,isSelect:!0}});else{var e={style:t};this.drawChangeSelectedData(e)}},hideDetailToggle:function(t){var e=this.hideBlocksList.indexOf(t);e>=0?this.hideBlocksList.splice(e,1):this.hideBlocksList.push(t)},updateData:function(t,e){var a=this,i=this.filterRules;i&&i.forEach((function(t){t.sourceId&&t.blockId&&t.targetId&&a.delLink(a.drawSelected[0]+"-"+t.blockId)})),t.forEach((function(t){if(t.sourceId&&t.blockId&&t.targetId){a.addLink(a.drawSelected[0]+"-"+t.blockId);var e=a._.cloneDeep(a.getBlockContent([t.blockId]))[0];e.changeData=!0,e.dataflag=!0,a.drawChangeSpecialData({name:t.blockId,newData:e})}})),this.updateFilterRules(t,e)},deleteParent:function(e){for(var a=t.extend(!0,[],this.filterRules),i=0;i<a.length;i++)i===e&&(delete this.postDataObj[a[i].blockId],a[i].blockId="",a[i].targetId="");this.updateData(a,!0)},deleteChild:function(e){for(var a=t.extend(!0,[],this.filterRules),i=0;i<a.length;i++)i===e&&(a[i].targetId="");this.updateData(a,!0)},showDropDown:function(t,e){var a=this;if(this.currentSetDrop=Object(o.a)({},t),void 0===e){this.currentSetDrop=Object(o.a)({},t);var i=Object(o.a)({},t);i.defaultItem=[],t.isMultiple||(i.defaultItem=this.objStyle[t.name]),i.defaultItem=this.currentSelectReport[t.idKey]}else{this.currentIndex=e;var s=this.filterParam[t].dropDownData,n=s.dropItemsName;if("targetId"!==t){if(n&&this.dataSource[n])if("sourceId"===t){var r=this.dataSource[n].filter((function(t){return!a.filterObj[t[s.idKey]]}));s.dataSource=r}else 0===this.dataSource[n].length&&this.updateBlockList(),s.dataSource=this.dataSource[n]}else{var l=this.filterRules[e].blockId,c=this.getTargetList(l);s.dataSource=c,this.dataSource[n][l]=c}this.currentDropDown.dropDownData=s,this.currentDropDown.user=t}},getDropDownSelected:function(e){var a;if(t.isArray(e)){a=[];for(var i=0;i<e.length;i++)a.push(e[i][this.currentDropDown.dropDownData.idKey])}else a=e[this.currentDropDown.dropDownData.idKey],this.postDataObj[a]=e[this.currentDropDown.dropDownData.showKey];if(a!==this.filterRules[this.currentIndex][this.currentDropDown.user]){var o=this.currentDropDown.user;this.transformData(o,a)}},getTargetList:function(t){if(!t)return[];var e={},a=[],o=this.getBlockContent([t]);if(!o[0])return[];var s=o[0].dataSource||o[0].dataresource,n=this._.get(o[0].cacheDataSource,(s.rootId||0)+".columnList")||[];if(s){var r=s.dimension,l=s.measure,c=s.hiddenColumn,d=s.showColumn,u=s.filterRules,h=r&&r.split?r.split(","):r?Object(i.a)(r):[],p=l&&l.split?l.split(","):l?Object(i.a)(l):[],g=[];u&&u.forEach((function(t){g.push(t.sourceId)}));var m=c&&c.split?c.split(","):c?Object(i.a)(c):[],f=d&&d.split?d.split(","):d?Object(i.a)(d):[];return e=this._.zipObject(this._.concat(h,p,m,f,g),this._.concat(h,p,m,f,g)),this._.isEmpty(e)||(a=n.filter((function(t){return e[t.pkid]}))),a}return a},transformData:function(e,a){var i=this,o=t.extend(!0,[],this.filterRules);o[this.currentIndex][e]=a;var s=this.filterParam[e]&&this.filterParam[e].relative;s&&s.forEach((function(t){o[i.currentIndex][t]=""})),this.updateData(o,!0)},updateBlockList:function(){var t=this.getAllBlocksExcept(Object(i.a)(this.drawSelected));this._.merge(this.dataSource,{blockList:t})},init:function(){var t=this,e=this;0!==Object.keys(this.getData).length&&0!==Object.keys(this.getData.report).length&&this.getFilterParams(this.getData.report.iframeUrl);var a=this.filterRules;0===a.length&&(this.defaultList=[]),a&&this._.isArray(a)&&(this.updateBlockList(),this.filterRules.forEach((function(e){var a=t.getTargetList(e.blockId);t.dataSource.targetList[e.blockId]=a}))),this.loadingSetting.show=!0,this.$http({url:e.urls.reportSelectUrl,method:"get"}).then((function(a){t.loadingSetting.show=!1;var i=a.data&&a.data.data;if(i.length){e.dropDownTreeOpt.dataSource=i,e.dropDownTreeOpt.rootId=i[0].res_rootid;var o={};i.forEach((function(t){o[t[e.dropDownTreeOpt.idKey]]=t})),e.reportSelectData=o}})).catch((function(t){}))},updateFilterRules:function(t,e){this.drawChangeSelectedData({dataresource:{filterRules:""}}),this.drawChangeSelectedData({dataresource:{filterRules:t},changeData:e})},getDropDownValue:function(t,e){var a={};"dropDownTreeOpt"===e.name?(a=t).iframeSrc=t[this.dropDownTreeOpt.idKey]:a[e.name]=t[e.idKey],this.changeData(a)},toggleFilterTabs:function(t){this.nowFilterTab=t},getValue:function(t,e,a,i){var o={};return a&&a.forEach((function(a){a[t]===e&&(o=a)})),o[i]||""},getFilterParams:function(t){var e=this,a=this;if(void 0!==t&&void 0!==this.getData){a.defaultList=[],a.filterDataList=[],this.filterDataShow=!1;var i={res_id:t};this.$http({url:this.urls.filterParamsUrl,params:i,method:"get"}).then((function(t){a.defaultList=t.data,a.defaultChange(),a._.forEach(a.defaultList,(function(t){a.getData.dataresource&&a.getData.dataresource.filterParams[t.key]&&(t.value=a.getData.dataresource.filterParams[t.key])})),a.filterDataList=t.data,e.filterDataShow=!0})).catch((function(){a.$notify({group:"foo-dataexporler",title:a.$t("public.errorInfo"),text:a.$t("design.getReportParamError"),type:"error"})}))}},defaultChange:function(){this.postDataObj={};for(var t=0;t<this.defaultList.length;t++)this.postDataObj[this.defaultList[t].key]=this.defaultList[t].value;this.drawChangeSelectedData({dataresource:{filterParams:this.postDataObj},changeData:!1})}}),mounted:function(){this.filterDataShow=!1,this.getData.report&&!this.getData.report.isSelect&&this.getFilterParams(this.getData.report.iframeUrl)},created:function(){this.init()}}}).call(this,a("1157"))},"8fa7":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABJAAAAKuBAMAAAAMXvv9AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAYUExURRISEkdwTAdwjQDH/wKv4SXd+xoaGgHH/1S+4ScAAAAGdFJOU+YA84DkVI1J/sIAAAdMSURBVHja7dqxbhNBFIbRCPECK8eijShIHVG4DQ2uIwr3CJk2Cg7z+qxjO7I3BWFnfBcu5ytd7hz9knf2ontRyVan83fx4pcVSGoAaV5AUgNIK5DUAFI/SA/rVIE0CaRFKR9AUi2kWbpBAmkSSPkGCaQpIF2W8nMNkmohLUtZg6RaSBkHCaQJIGUcJJDiIfWD9BkkVUNals0aJNVCWqUcJJCiIc1LykECKRrSKt+7SJAmgJTvthakSSAtkg4SSLGQZlkHCaRYSGkHCaRQSHkHCaRQSCkvR0AKh5TythakeEiJBwmkQEg5b2tBCoeU87YWpGhI7zIPEkhhkLLe1oIUDGmV9l0kSJGQ5nnfRYIUCSn5IIEUBGmWfJBACoK0SD5IIAVByj5IIIVBWoMkkEACCSSQQBJIAgkkkEACCSSBBBJIIIEEEkggCSSQQAIJJJBAAkkggQQSSCCBJJAEEkgggQQSSAIJJJBAAgkkkEASSCCBBBJIIAkkgQQSSCCBBJJAEkgggQQSSCAJJJBAAgkkkEACSSCBBBJIIIEkkAQSSCCBBBJIAkkggQQSSCCBJJBAAgkkkEACKS8knaE7kNSiR5B0jkkCSU0m6X+AdKHmXQ8nCSSN6c1wkkBSk0kCSU0mCSQ1mSSQ1GSSQFKTSQJJTSYJJDWZJJDUZJJAUpNJSg/pO0ghk5QeUikPTjxgkrJD6gfpyoEHTFJ2SAYpaJKSQzJIUZOUG9JXgxQ1SbkhXRukqElKDckgxU1SakgGKW6SMkMySIGTlBmSQQqcpMSQDFLkJCWGdO2WLXCS8kLqB+neKYdNUl5IBilwkm7yQjJIkZOUGNLSIIHUoG8GCaQ2g7RxwCC1GKRbBwySQQLJIIGU6QNbgwRSkw9sDRJILQbJbS1ITQbpyumCZJBAMkgg+Z5NIPnAFiSDBJJBUlpIBgkkg/SPQ0rWvYMFqUUGCSSDBNJfk2OdCNLMvxyBJJAEkgSSQBJIAkkCSSAJJIEkgSSQBJJAAkkgCSSBJIEkkASSQJJAEkgCSSBJIAkkgSSBJJAEkkCSQBJIAkkgSSAJJIEkkCSQBJJAkkASSAJJIEkgCSSBJJAkkASSQBJIEkgCSSBJIAkkgSSQJJAEkkASSBJIAkkgCSQJJIEkkCSQBJJAEkgSSAJJIAkkCSSBJJAEEkgCSSAJJAkkgSSQBJIEkkASSAJJAkkgCSSBBJJAEkgCSQJJIAkkgSSBJJAEkkCSQBJIAkkCSSAJJIEkgSSQBJJAkkASSAJJIEkgCSSBJIEkkASSQJJAEkgCSSBJIAkkgSSQJJAEkkCSQBJIAkkgSSAJJIEkkCSQBJJAEkgSSAJJIEkgCSSBJJAkkASSQBJIEkgCSSAJJJAEkkASSBJIAkkgCSQJJIEkkASSBJJAEkgCCSSBJJAEkgSSQBJIAkkCSSAJJIEkgSSQBJIEkkASSAJJAkkgCSSBJIEkkASSQJJAEkgCSQJJIAkkgSSBJJAEkkCSQBJIAkkgSSAJJIEkgSSQBJJAkkASSAJJIEkgCSSBJJAkkASSQJJAEkgCSSBJIAkkgSSQJJAEkkASSCAJJIEkkCSQBJJAEkgSSAJJIAkkCSSBJJAEEkgCSSAJJAkkgSSQBJIEkkASSAJJAkkgCSQJJIEkkASSBJJAEkgCSQJJIAkkgSSBJJAEkgSSQBJIAkkCSSAJJIEkgSSQBJJAkkASSAJJAkkgCSSBJIEkkASSQJJAEkgCSSBJIAkkgSSBJJAEkkCSQBJIAkkgSSAJJIEkkEASSAJJIEkgCSSBJJAkkASSQBJIEkgCSSAJJJAEkkASSBJIAkkgCSQJJIEkkASSBJJAEkgSSAJJIAkkCSSBJJAEkgSSQBJIAkkCSSAJJAkkgSSQBJIEkkASSAJJAkkgCSSBJIEkkASSBJJAEkgCSQJJIAkkgSSBJJAEkkCSQBJIAkkCSSAJJIEkgSSQBJJAkkASSAJJIIEkkASSQJJAEkgCSSBJIAkkgSSQJJAEkkASSCAJJIEkkCSQBJJAEkgSSAJJIAkkCSSBJJAkkASSQBJIEkgCSSAJJAkkgSSQBJIEkkASSBJIAkkgCSQJJIEkkASSBJJAEkgCSQJJIAkkCSSBJJAEkgSSQBJIAkkCSSAJJIEkgSSQBJIEkkASSEoOaeNJqKrlDlK59ShU0duyhdQtTZIqB2nT9ZAuTZIqB+nTFpJJUv0gbSGZJFUP0haSSVL1ID1BMkmqHaQnSCZJtYO0g2SSVDlIO0gmSZWDtIdkklQ3SHtIJklVg/TlAMkkqWKQ5uVmD8kkqWKQVuXHAZJJUsUglccDJJOkikEqd8+QTJIqBql7hmSSVDFIR5BMksYP0hEkk6Txg3QMySRp9CAdQzJJGj1IJ5BMksYO0gkkk6Sxg3QKySRp5CCdQtpO0nvp9w0HaQCpnyTpVZ0O0gBSP0nSaxoM0hCSSdKoQRpC6j5Kr2nHZXEYpBeQpD9odhgkkFTVHUhq2i9YJgurSuACkQAAAABJRU5ErkJggg=="},"8fc6":function(t,e,a){},"92af":function(t,e,a){"use strict";var i=a("06a8");a.n(i).a},9606:function(t,e,a){"use strict";a("cca6");var i=a("2909"),o=a("5530"),s=(a("4160"),a("c975"),a("b64b"),a("ac1f"),a("466d"),a("159b"),a("2c0e")),n=a.n(s),r=a("2f62"),l=a("006f"),c={name:"onlineExcel",data:function(){return{draw:!0,grid:null,show:!1,clear:!0,height:"",all:!1,allStatus:{},isFirst:!0,editData:this.originData,sheetDropdown:{dataSource:[],showKey:"column",idKey:"value",defaultItem:""},choosed:null,selectInputsOpt:[{title:this.$t("dataModel.startRowCol"),value:"start"},{title:this.$t("dataModel.endRowCol"),value:"end"}],selectionBounds:{start:"A1",end:"A1"}}},components:{},props:["originData","sheetNames","isShow","onlineHeight","oneStep","folderId","httpObj","selectModelName","modelNameChoosed","editModelTypeId","editModelName","editModelJson","selectedDataSource"],watch:{isShow:function(){if(this.show){this.grid.data=this.showData;var t=this.calculateAllStatus(this.showData);this.allStatus=t}},showData:function(){if(!this.show&&this.showData){this.grid.data=this.showData;var t=this.calculateAllStatus(this.showData);this.allStatus=t}},onlineHeight:function(){this.height=this.onlineHeight},all:function(){this.all?(this.grid.selectAll(),this.clear=!0):this.clear&&(this.clearInput(),this.draw=!0),this.grid.draw()},selection:{handler:function(t){this.draw&&(this.grid.selectArea(t),this.grid.draw())},deep:!0},redraw:function(){if(this.redraw){var t=this;this.changeRedraw(!1),this.$nextTick((function(){t.grid.resetRowHeights(20),t.grid.draw()}))}}},computed:Object(o.a)(Object(o.a)({},Object(r.d)({excelName:function(t){return t.excel.excelName},excelData:function(t){return t.excel.excelData},formData:function(t){return t.excel.formData},redraw:function(t){return t.excel.redraw}})),{},{selection:function(){var t={},e=this.selectionBounds;for(var a in e){var i=this._.cloneDeep(e[a]),o=i.match(/^[A-Z]+/gi),s=i.match(/\d+$/gi);"start"===a?(t.top=parseInt(s[0])-1,t.left=o[0].charCodeAt()-65):(t.bottom=parseInt(s[0])-1,t.right=o[0].charCodeAt()-65)}return t},showData:function(){var t=this.originData,e=this.choosed,a=[];return t&&e&&(a=t[e[this.sheetDropdown.idKey]]),a},onlineStyle:function(){return this.grid&&(this.grid.style.height=this.height+"px"),{width:"100%",height:this.height+"px"}}}),methods:Object(o.a)(Object(o.a)({},Object(r.b)({changeExcelName:"changeExcelName",changeExcelData:"changeExcelData",changeRedraw:"changeRedraw",drawChangeBlockLoadingState:"drawChangeBlockLoadingState"})),{},{changeStatus:function(t){this.$emit("changeStatus",t)},calculateAllStatus:function(t){if(t){var e={start:"A1"},a=t&&t[0]&&Object.keys(t[0]).length;return e.end=String.fromCharCode(a+64)+(t&&t.length),e}},clearInput:function(){this.selectionBounds={start:"A1",end:"A1"}},toggleAll:function(){this.all=!this.all},toggleFirst:function(){this.isFirst=!this.isFirst},changeAreas:function(t){var e=this.selectionBounds;e[t]=event.target.value,this.selectionBounds=e,this.clear=!1,this.draw=!0},setSelectionBounds:function(t){var e={},a=(t.left>-1?String.fromCharCode(t.left+65):"A")+(t.top+1),i=String.fromCharCode(t.right+65)+(t.bottom+1);e.start=a,e.end=i,e.start===this.allStatus.start&&e.end===this.allStatus.end||(this.all=!1),e.start===this.allStatus.start&&e.end===this.allStatus.end&&(this.all=!0),this.selectionBounds=e,this.draw=!1},complete:function(){if(this.choosed){var t={userModel:{model_json:{range:"",useFirstRowAsName:!0},model_type_id:"",ds_name:"",model_name:"",dsName:""}},e=this;t.userModel.model_json.range=this.selectionBounds.start+":"+this.selectionBounds.end,t.userModel.model_json.useFirstRowAsName=this.isFirst,t.userModel.model_json.sheetName=this.choosed[this.sheetDropdown.idKey],t.userModel.model_json.sheetIndex=this.choosed.index+1,t.userModel.model_json=JSON.stringify(t.userModel.model_json),t.userModel.model_name=this.excelName+"_"+this.choosed[this.sheetDropdown.idKey],this.selectedDataSource?t.userModel.ds_name=this.selectedDataSource.ds_id?this.selectedDataSource.ds_id:this.selectedDataSource.ds_name:t.userModel.ds_name=this.excelName,t.userModel.dsName=this.excelName;var a={};this.oneStep?(this.formData.set("userModel",JSON.stringify(t.userModel)),a={url:"/excel",method:"post",timeout:8e5,headers:{"Content-Type":"multipart/form-data"},data:this.formData}):(t.userModel.model_type_id=this.folderId||this.editModelTypeId,t.userModel.model_name=this.selectModelName||this.editModelName,t.userModel.changeModelName=this.selectModelName===this.editModelName?"":"changed",a={url:this.httpObj.url,method:this.httpObj.method,data:t,timeout:8e5}),e.drawChangeBlockLoadingState({name:"importExcel",loadState:"start"}),this.$http(a).then((function(t){e.drawChangeBlockLoadingState({name:"importExcel",loadState:"finish"}),t.data&&t.data.data&&t.data.data.columns&&(e.changeExcelData(JSON.parse(t.data.data.columns)),e.changeStatus(!0),e.$emit("saveCall",JSON.parse(t.data.data.userModel)))})).catch((function(){e.drawChangeBlockLoadingState({name:"importExcel",loadState:"finish"}),e.$emit("saveCall","")}))}}}),mounted:function(){var t=this;this.grid=n()({parentNode:this.$el.querySelector(".online-excel-grid"),allowColumnReordering:!1,allowColumnResize:!1,allowRowHeaderResize:!1,allowRowResize:!1,columnHeaderClickBehavior:"select",showClearSettingsOption:!1,showColumnSelector:!1,showFilter:!1,editable:!1,allowSorting:!1,tree:!1,debug:!1,showPerformance:!1,style:"dark"===Object(l.a)()?{gridBackgroundColor:"#323C55",gridBorderColor:"#000",cellBackgroundColor:"#323C55",activeCellBackgroundColor:"#323C55",columnHeaderCellCapBackgroundColor:"#323C55",columnHeaderCellCapBorderColor:"#000",columnHeaderCellBackgroundColor:"#323C55",scrollBarCornerBackgroundColor:"#323C55",scrollBarBackgroundColor:"#323C55",scrollBarBorderColor:"#323C55",scrollBarCornerBorderColor:"#323C55",columnHeaderCellColor:"rgba(255,255,255,0.6)",rowHeaderCellBorderColor:"#000",rowHeaderCellBackgroundColor:"#323C55",rowHeaderCellColor:"rgba(255,255,255,0.6)",cellBorderColor:"#000",cornerCellBackgroundColor:"#323C55",cornerCellBorderColor:"#000",columnHeaderCellBorderColor:"#000",cellColor:"#fff",activeCellColor:"#fff",scrollBarBoxColor:"#0F142D"}:void 0}),this.height=document.querySelector(".excelD-container .excelD-block").offsetHeight-12,this.grid.style.height=this.height+"px",this.grid.style.width="100%",this.grid.addEventListener("selectionchanged",(function(e){t.setSelectionBounds(e.selectionBounds)}))},created:function(){var t=[],e=this.originData,a=this.sheetNames;e&&(this.sheetDropdown.defaultItem=this.modelNameChoosed||a[0],a.forEach((function(e,a){var i={value:e,column:e,index:a};t.push(i)})),this.sheetDropdown.dataSource=t,this.choosed=this.modelNameChoosed?{value:this.modelNameChoosed,column:this.modelNameChoosed,index:this.sheetNames.indexOf(this.modelNameChoosed)}:this.sheetDropdown.dataSource[0],this.$nextTick((function(){this.editModelJson&&(this.selectionBounds.start=this.editModelJson.start?this.editModelJson.start:"A1",this.selectionBounds.end=this.editModelJson.end?this.editModelJson.end:"A1")})))}},d=(a("c879"),a("2877")),u=Object(d.a)(c,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"excelD-title-input excelD-layout-row"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.choosed,expression:"choosed"}],staticClass:"excelD-title-container"},[a("span",{staticClass:"excelD-sheet-name"},[a("dropdown",{staticClass:"dropDown pointer fullBorderDropDown",attrs:{configs:t.sheetDropdown},model:{value:t.choosed,callback:function(e){t.choosed=e},expression:"choosed"}},[a("div",{staticClass:"dropDown-input-box"},[a("input",{staticClass:"dropDown-true-input",attrs:{type:"text",spellcheck:"false",readonly:!0},domProps:{value:t.choosed&&t.choosed[t.sheetDropdown.showKey]}})])])],1),t._l(t.selectInputsOpt,(function(e){return a("span",{staticClass:"onlineE-area"},[a("span",[t._v(t._s(e.title))]),a("input",{staticClass:"onlineE-area-span",domProps:{value:t.selectionBounds[e.value]},on:{change:function(a){return t.changeAreas(e.value)}}})])})),a("span",{staticClass:"onlineE-select"},[a("span",{staticClass:"onlineE-area select pointer",on:{click:function(e){return e.stopPropagation(),t.toggleAll(e)}}},[a("span",{staticClass:"iconfont",class:t.all?"icon-check-no-border":""})]),a("span",[t._v(t._s(t.$t("dataModel.allExcel")))])]),a("span",{staticClass:"onlineE-select"},[a("span",{staticClass:"onlineE-area select pointer",on:{click:function(e){return e.stopPropagation(),t.toggleFirst(e)}}},[a("span",{staticClass:"iconfont",class:t.isFirst?"icon-check-no-border":""})]),a("span",[t._v(t._s(t.$t("dataModel.isFirst")))])])],2)]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.choosed,expression:"choosed"}],attrs:{id:"onlineExcel"}},[a("div",{staticClass:"online-excel-grid",style:this.onlineStyle})])])}),[],!1,null,"c725c966",null).exports,h=(a("a434"),a("b85c")),p={data:function(){return{columnOpt:{id:"pkid",modelId:"model_id",initName:"ori_column",tableName:"table_name",initDesc:"comment_column",initType:"type_column",name:"des_column",desc:"detail_column",type:"analy_type",updateTime:"update_time"},typeDropDownOpt:{dataSource:[{text:this.$t("dataModel.dimension"),value:"dimension"},{text:this.$t("dataModel.measure"),value:"measure"}],showKey:"text",idKey:"value"},nameEditColumn:"",descEditColumn:"",dropDownUser:"",dropDownUserIndex:"",urls:{edit:"/model/column"}}},components:{},computed:Object(o.a)({},Object(r.d)({excelData:function(t){return t.excel.excelData},currentShow:function(t){return t.model.currentShow}})),directives:{focus:function(t){t.focus()}},methods:Object(o.a)(Object(o.a)({},Object(r.b)({modelChangeCurrentShow:"modelChangeCurrentShow",changeExcelData:"changeExcelData",changeModelId:"changeModelId"})),{},{dropdownChanged:function(t,e,a){this.changeColumn(t[this.typeDropDownOpt.idKey],this.columnOpt.type,e,"dropDownUserIndex")},howshow:function(t,e){this.$emit("howshow",t,e)},clickReturn:function(){this.modelChangeCurrentShow("modelList")},changeColumnStart:function(t,e){this.errorText="",this[e]=t[this.columnOpt.id]},changeColumn:function(t,e,a,i){var s=this,n=this.excelData[a];if(n[e]===t)this[i]="";else{var r=Object(o.a)({},n);r[e]=t,this.loadingState="start",this.$http({url:this.urls.edit,data:r,method:"put"}).then((function(t){s.loadingState="finish";var e=s._.cloneDeep(s.excelData);e.splice(a,1,t.data.data),s.changeExcelData(e),s[i]=""})).catch((function(t){s.loadingState="error",s[i]="";var e=s.$t("dataModel.editPropertyFailed");t&&t.response&&t.response.data&&(e=t.response.data.message),s.errorText=e}))}},transformDropDown:function(t,e){var a,i="",o=e.dataSource,s=e.showKey,n=e.idKey,r=Object(h.a)(o);try{for(r.s();!(a=r.n()).done;){var l=a.value;if(l[n]===t){i=l[s];break}}}catch(t){r.e(t)}finally{r.f()}return i}}),created:function(){var t=this.excelData[0]&&this.excelData[0][this.columnOpt.modelId];this.changeModelId(t)}},g=(a("4307"),{name:"excelData",props:["allExcelData","sheetNames","showHeader","oneStep","folderId","cusStyle","httpObj","selectModelName","modelNameChoosed","editModelTypeId","editModelName","editModelJson","selectedDataSource"],data:function(){return{ifFieldEdit:!1,moveStyle:{height:"60%"},onlineHeight:"",loadingState:"",timeout:""}},components:{onlineExcel:u,modelField:Object(d.a)(p,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"model modelField"},[a("div",{staticClass:"content",style:{height:"100%"}},[a("div",{staticClass:"modelProperty"},[a("div",{staticClass:"content",style:{height:"100%"}},[a("div",{staticClass:"listTitle"},[a("div",{staticClass:"line"},[a("div",{staticClass:"num ellipsis"},[t._v(t._s(t.$t("dataModel.num")))]),a("div",{staticClass:"initName ellipsis"},[t._v(t._s(t.$t("dataModel.initName")))]),a("div",{staticClass:"tableName ellipsis"},[t._v(t._s(t.$t("dataModel.tableName")))]),a("div",{staticClass:"initType ellipsis"},[t._v(t._s(t.$t("dataModel.initType")))]),a("div",{staticClass:"initDesc ellipsis"},[t._v(t._s(t.$t("dataModel.initDesc")))]),a("div",{staticClass:"name ellipsis"},[a("span",[t._v(t._s(t.$t("dataModel.customName")))]),a("span",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:t.$t("dataModel.doubleEdit"),expression:"$t('dataModel.doubleEdit')",modifiers:{bottom:!0}}],staticClass:"iconfont icon-edit"})]),a("div",{staticClass:"desc ellipsis"},[a("span",[t._v(t._s(t.$t("dataModel.customDesc")))]),a("span",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:t.$t("dataModel.doubleEdit"),expression:"$t('dataModel.doubleEdit')",modifiers:{bottom:!0}}],staticClass:"iconfont icon-edit"})]),a("div",{staticClass:"type ellipsis"},[t._v(t._s(t.$t("dataModel.analyseType")))]),a("div",{staticClass:"time ellipsis"},[t._v(t._s(t.$t("dataModel.updateTime")))])])]),a("div",{staticClass:"listContent"},[a("nanoscrollerComponent",{attrs:{properties:{height:"100%",width:"100%",axis:"y"}}},[a("div",{staticClass:"listBox"},t._l(t.excelData,(function(e,i){return a("div",{key:"property"+i,staticClass:"line"},[a("div",{staticClass:"num textCenter"},[t._v(t._s(i+1))]),a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e[t.columnOpt.initName],expression:"item[columnOpt.initName]",modifiers:{bottom:!0}}],staticClass:"initName ellipsis"},[t._v(t._s(e[t.columnOpt.initName]))]),a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e[t.columnOpt.tableName],expression:"item[columnOpt.tableName]",modifiers:{bottom:!0}}],staticClass:"tableName ellipsis"},[t._v(t._s(e[t.columnOpt.tableName]))]),a("div",{staticClass:"initType"},[t._v(t._s(e[t.columnOpt.initType]))]),a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e[t.columnOpt.initDesc],expression:"item[columnOpt.initDesc]",modifiers:{bottom:!0}}],staticClass:"initDesc ellipsis"},[t._v(t._s(e[t.columnOpt.initDesc]))]),a("div",{staticClass:"name"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.nameEditColumn!==e[t.columnOpt.id],expression:"nameEditColumn !== item[columnOpt.id]"},{name:"tooltip",rawName:"v-tooltip.bottom",value:e[t.columnOpt.name],expression:"item[columnOpt.name]",modifiers:{bottom:!0}}],staticClass:"columnName ellipsis",on:{dblclick:function(a){return t.changeColumnStart(e,"nameEditColumn")},selectstart:function(t){t.preventDefault()}}},[t._v(" "+t._s(e[t.columnOpt.name])+" ")]),a("input",{directives:[{name:"show",rawName:"v-show",value:t.nameEditColumn===e[t.columnOpt.id],expression:"nameEditColumn === item[columnOpt.id]"},{name:"focus",rawName:"v-focus"}],staticClass:"columnNameEdit",attrs:{spellcheck:"false",type:"text"},domProps:{value:e[t.columnOpt.name]},on:{blur:function(e){return t.changeColumn(e.target.value,t.columnOpt.name,i,"nameEditColumn")}}})]),a("div",{staticClass:"desc"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.descEditColumn!==e[t.columnOpt.id],expression:"descEditColumn !== item[columnOpt.id]"},{name:"tooltip",rawName:"v-tooltip.bottom",value:e[t.columnOpt.desc],expression:"item[columnOpt.desc]",modifiers:{bottom:!0}}],staticClass:"columnName ellipsis",on:{dblclick:function(a){return t.changeColumnStart(e,"descEditColumn")},selectstart:function(t){t.preventDefault()}}},[t._v(" "+t._s(e[t.columnOpt.desc])+" ")]),a("input",{directives:[{name:"show",rawName:"v-show",value:t.descEditColumn===e[t.columnOpt.id],expression:"descEditColumn === item[columnOpt.id]"},{name:"focus",rawName:"v-focus"}],staticClass:"columnNameEdit",attrs:{spellcheck:"false",type:"text"},domProps:{value:e[t.columnOpt.desc]},on:{blur:function(e){return t.changeColumn(e.target.value,t.columnOpt.desc,i,"descEditColumn")}}})]),a("dropdown",{attrs:{configs:t.typeDropDownOpt,value:e[t.columnOpt.type]},on:{change:function(e){return t.dropdownChanged(e,i)}}},[a("div",{staticClass:"type dropDown",attrs:{editRole:"dropDown"}},[t._v(" "+t._s(t.transformDropDown(e[t.columnOpt.type],t.typeDropDownOpt))+" ")])]),a("div",{staticClass:"time"},[t._v(t._s(e[t.columnOpt.updateTime]))])],1)})),0)])],1)])])])])}),[],!1,null,"2cf2f27d",null).exports},computed:Object(o.a)({btnOpt:function(){var t={};return t.ope=this.ifFieldEdit?"complete":"next",t.title=this.ifFieldEdit?this.$t("dataModel.complete"):this.$t("dataModel.next"),t}},Object(r.d)({excelName:function(t){return t.excel.excelName},excelData:function(t){return t.excel.excelData},modelId:function(t){return t.excel.modelId}})),created:function(){this.moveStyle=Object.assign({},this.moveStyle,this.cusStyle)},methods:Object(o.a)(Object(o.a)({},Object(r.b)({changeExcelName:"changeExcelName",changeExcelData:"changeExcelData",changeRedraw:"changeRedraw"})),{},{saveCall:function(t){this.$emit("saveCall",t),this.excelData[0].model_name=t.model_name,this.changeExcelData(this.excelData)},transferData:function(t){var e=this.excelData[0]&&this.excelData[0].model_name;this.$emit("transferData",t,e)},changeStatus:function(t){this.ifFieldEdit=t},btnClick:function(t){"next"===t?this.$refs.onlineExcel.complete():(this.transferData(this.modelId),this.howshow(!0,!1))},cancel:function(){this.howshow(!0,!1)},howshow:function(t,e){this.$emit("howshow",t,e)},move:function(){document.onmousemove=this.debounce(this.calculateStyle,50,!0),document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null}},debounce:function(t,e,a){return function(){var o=arguments;clearTimeout(this.timeout),a?t.apply(void 0,Object(i.a)(o)):this.timeout=setTimeout((function(){t.apply(void 0,Object(i.a)(o))}),e)}},calculateStyle:function(t){var e=t.clientY;e<0&&(e=0);var a=document.documentElement.clientHeight-e,i=i>document.documentElement.clientHeight?document.documentElement.clientHeight:a;this.moveStyle.height!==i+"px"&&this.changeRedraw(!0),this.moveStyle.height=i+"px",this.onlineHeight=i-102}})}),m=(a("92af"),Object(d.a)(g,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.showHeader?a("div",{staticClass:"excelD-mark"}):t._e(),a("div",{staticClass:"excelD-container",style:t.moveStyle},[t.showHeader?a("div",{staticClass:"excelD-shade-handle",on:{mousedown:t.move}}):t._e(),t.showHeader?a("div",{staticClass:"excelD-title-input excelD-layout-row"},[a("div",{staticClass:"excelD-title-container"},[a("span",{staticClass:"excelD-table-name"},[t._v(t._s(t.excelName))]),a("button",{staticClass:"excelD-cancel-btn",on:{click:function(e){return e.stopPropagation(),t.cancel(e)}}},[t._v(t._s(t.$t("dataModel.excelCancel")))]),a("button",{staticClass:"excelD-confirm-btn",on:{click:function(e){return e.stopPropagation(),t.btnClick(t.btnOpt.ope)}}},[t._v(t._s(t.btnOpt.title))])])]):t._e(),a("div",{staticClass:"excelD-block"},[t.ifFieldEdit?t._e():a("onlineExcel",{ref:"onlineExcel",attrs:{oneStep:t.oneStep,folderId:t.folderId,isShow:t.ifFieldEdit,originData:t.allExcelData,sheetNames:t.sheetNames,onlineHeight:t.onlineHeight,httpObj:t.httpObj,selectModelName:t.selectModelName,modelNameChoosed:t.modelNameChoosed,editModelTypeId:t.editModelTypeId,editModelName:t.editModelName,editModelJson:t.editModelJson,selectedDataSource:t.selectedDataSource},on:{saveCall:t.saveCall,changeStatus:t.changeStatus}}),t.ifFieldEdit?a("modelField",{ref:"modelField",on:{howshow:t.howshow,transferData:t.transferData}}):t._e()],1)])])}),[],!1,null,"19081dc1",null));e.a=m.exports},"9a21":function(t,e,a){"use strict";var i=a("ade3");e.a={data:function(){return{dataSourceKeys:{key:"dataSource",fields:{rootIdKey:"rootId",folderIdKey:"folderId",modelIdKey:"dmId",dimensionKey:"dimension",measureKey:"measure",dataTypeKey:"dataType",polysKey:"polys",filterRulesKey:"filterRules",hiddenColumnKey:"hiddenColumn",showColumnKey:"showColumn",placeholderKey:"placeholder"}},staticDataSourceKeys:{key:"staticDataSource",fields:{isStaticDataKey:"isStaticData"}},dataSourceCustomKeys:{key:"dataSourceControl",fields:{rootIdKey:"rootId",modelIdKey:"kjId",customOptionKey:"customOption",customParamKey:"customParam"}},cacheDataSourceKeys:{key:"cacheDataSource",fields:{modelListKey:"modelList",dimensionListKey:"dimensionList",measureListKey:"measureList",columnListKey:"columnList",selectedColumnListKey:"selectedColumnList"}},customDataSourceKeys:{key:"customDataSource",fields:{kjListKey:"kjList"}},changeDataKey:"changeData",dataSource:{},dataSourceControl:{}}},created:function(){this.nowIndex=this.getData[this.dataSourceKeys.key]&&this.getData[this.dataSourceKeys.key][this.dataSourceKeys.fields.rootIdKey]?this.getData[this.dataSourceKeys.key][this.dataSourceKeys.fields.rootIdKey]:0,this.getData[this.dataSourceKeys.key]&&this.getData[this.dataSourceKeys.key].data&&this.drawChangeSelectedData(Object(i.a)({},this.cacheDataSourceKeys.key,Object(i.a)({},this.nowIndex,Object(i.a)({},this.cacheDataSourceKeys.fields.columnListKey,this.getData[this.dataSourceKeys.key].data))))},methods:{}}},"9db3":function(t,e,a){"use strict";(function(t){a("4160"),a("a434"),a("159b");var i=a("5530"),o=a("2f62");e.a={data:function(){return{hideDetail:!1,filterParam:{fromId:{nameKey:"fromName",listKey:"fromList",inListIdKey:"value",inListNameKey:"name",dropDownData:{isShow:!1,defaultItem:"",dropDownUrl:"dataModelUrl",dropItemsName:"fromList",dropItems:[],showField:"name",realField:"value"}},toId:{nameKey:"toName",listKey:"toList",inListIdKey:"value",inListNameKey:"name",dropDownData:{isShow:!1,defaultItem:"",dropItemsName:"toList",dropItems:[],showField:"name",realField:"value"}}},filterItem:{fromId:"",toId:""},currentDropDown:{user:""},dataSource:{fromList:[],totList:[]},filterObj:{}}},props:["flyLineRules","mapData","blockType"],watch:{dropDownSelected:function(){this.currentDropDown.user&&(this.getDropDownSelected(this.dropDownSelected),this.currentDropDown.dropDownData.isMultiple||this.hideDropDownPublic())},dropDownOpt:function(){!this.dropDownOpt.isShow&&this.currentDropDown.user&&(this.currentDropDown={user:""})},drawSelected:function(){},mapData:function(t){this.updateListData(t)}},computed:Object(i.a)(Object(i.a)(Object(i.a)({},Object(o.c)({getAllBlocksExcept:"getAllBlocksExcept",getBlockContent:"getBlockContent"})),Object(o.d)({dropDownOpt:function(t){return t.dropDownOpt},dropDownSelected:function(t){return t.dropDownSelected},drawSelected:function(t){return t.draw.selected}})),{},{showFilters:function(){var e=this,a=t.extend(!0,[],this.flyLineRules);return this.filterObj={},a.forEach((function(t){for(var a in t)if("fromId"===a||"toId"===a){var i,o=e.filterParam[a].nameKey,s=e.filterParam[a].listKey;i=e.getValue(e.filterParam[a].inListIdKey,t[a],e.dataSource[s],e.filterParam[a].inListNameKey),t[o]=i}})),a}}),methods:Object(i.a)(Object(i.a)({},Object(o.b)({showDropDownPublic:"showDropDown",hideDropDownPublic:"hideDropDown",drawChangeSpecialData:"drawChangeSpecialData"})),{},{getValue:function(t,e,a,i){var o={};return a&&a.forEach((function(a){a[t]===e&&(o=a)})),o[i]||""},updateData:function(t,e){this.$emit("updateData",t,e)},switchDetailShow:function(){this.hideDetail=!this.hideDetail},addFilter:function(){var e=t.extend(!0,[],this.flyLineRules);e.push(this._.extend({},this.filterItem)),this.updateData(e,!0)},deleteFilter:function(e){var a=t.extend(!0,[],this.flyLineRules);a.splice(e,1),this.updateData(a,!0)},updateListData:function(t){var e=t.dimensions,a=void 0===e?[]:e,i=t.source,o=void 0===i?[]:i,s=[];if("map"===this.blockType)for(var n=0;n<o.length;n++){var r=o[n],l=r[a[0]];s.push({name:l,value:r[a[1]]})}else if("map3D"===this.blockType)for(var c=0;c<o.length;c++){var d=o[c],u=d[a[1]];s.push({name:u,value:d[a[0]]})}this._.isEqual(s,this.dataSource.fromList)||(this.dataSource.fromList=s||[],this.dataSource.toList=s||[])},showDropDown:function(e,a,i){if(this.currentDropDown.user===a)this.hideDropDownPublic();else{this.currentIndex=i;var o=this._.extend({},this.filterParam[a].dropDownData),s=o.dropItemsName;o.dropItems=this.dataSource[s],o.el="dropDown"===t(e.target).attr("editRole")?e.target:t(e.target).parents('[editRole="dropDown"]')[0],o.isShow=!0,this.currentDropDown.dropDownData=o,this.currentDropDown.user=a,this.showDropDownPublic(o)}},getDropDownSelected:function(e){var a;if(t.isArray(e)){a=[];for(var i=0;i<e.length;i++)a.push(e[i][this.currentDropDown.dropDownData.realField])}else a=e[this.currentDropDown.dropDownData.realField];if(a!==this.flyLineRules[this.currentIndex][this.currentDropDown.user]){var o=this.currentDropDown.user;this.transformData(o,a)}},transformData:function(e,a){var i=t.extend(!0,[],this.flyLineRules);i[this.currentIndex][e]=a,this.updateData(i,!0)},init:function(){this.updateListData(this.mapData)}}),mounted:function(){this.init()}}}).call(this,a("1157"))},"9fb4":function(t,e,a){"use strict";var i=a("59f0").a,o=(a("419a"),a("2877")),s=Object(o.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"side",on:{mousedown:function(t){t.preventDefault()}}},[a("ul",{staticClass:"side-right-tabs"},t._l(t.tabList,(function(e,i){return a("li",{key:i,staticClass:"tabs-item"},[t._v(t._s(t.title[e.type]))])})),0),a("div",{staticClass:"total-text"},[a("div",{staticClass:"title-text"},[t._v(t._s(t.$t("design.textTitle")))])]),a("div",{staticClass:"middle"},["style"===t.nowTab?[t._t("blockName"),t._l(t.style.type,(function(e,i){return a("div",{key:i,staticClass:"styles-item",class:{hideDetail:!t.style[e].hideSetting}},[a("div",{staticClass:"style-title",on:{click:function(a){return t.switchDetailShow({type:t.nowTab,value:e})}}},[a("div",{staticClass:"icon-traingle"}),a("i",{staticClass:"icon iconfont",class:t.subTitle[e].icon}),a("div",{staticClass:"style-title-text"},[t._v(t._s(t.subTitle[e].text))])]),a("div",{staticClass:"forms",class:[{"text-align-curstyle":"justify"===e}]},t._l(t.style[e].type,(function(i,o){return a("dd",{key:o,staticClass:"form"},[t._l(i,(function(i,o){return["colorPickerComponent"==t.style[e][i].alias&&t.style[e][i].filter?a("button",{key:o,staticClass:"line",class:t.style[e][i].classList,attrs:{name:i,type:"button"},on:{mousedown:function(a){return t.setCurrentType({value:e,v:i,type:t.nowTab,e:a})},click:function(e){return e.stopPropagation(),t.useColor()}}},[a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:t.style[e][i].toolTip,expression:"style[value][v].toolTip",modifiers:{bottom:!0}}],staticClass:"dropDown onlyicon"},[a("div",{staticClass:"dropDown-icon"},[a("i",{class:t.style[e][i].iconClass}),a("div",{staticClass:"color-show",style:{"background-color":t.currentStyle.currentStyle[e][i]}})])])]):"dropDownComponent"==t.style[e][i].alias&&t.style[e][i].filter?a("dropdown",{key:o,staticClass:"line",class:t.style[e][i].classList,attrs:{name:i,configs:t.style[e][i],type:"button",value:t.currentStyle.currentStyle[e][i]},on:{change:t.getListItem}},[a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:t.style[e][i].toolTip,expression:"style[value][v].toolTip",modifiers:{bottom:!0}}],staticClass:"dropDown",on:{mousedown:function(a){return t.setCurrentType({value:e,v:i,type:t.nowTab,e:a})}}},[a("div",{staticClass:"dropDown-icon"},[a("i",{class:t.style[e][i].iconClass})]),a("input",{staticClass:"dropDown-input",attrs:{readonly:""},domProps:{value:t._f("showVal")(t.currentStyle.currentStyle[e][i],t.style[e][i])}})])]):a("button",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:t.style[e][i].toolTip,expression:"style[value][v].toolTip",modifiers:{bottom:!0}}],key:o,staticClass:"line",class:[t.style[e][i].classList,{"icon-active":"tagCtrl"===t.style[e][i].chekcType},{"icon-active":t.getData.selected&&"justify"===t.style[e][i].chekcType&&t.currentStyle.currentStyle[t.style[e][i].chekcType]&&i.toLowerCase().includes(t.currentStyle.currentStyle[t.style[e][i].chekcType][e])},{"icon-active":t.getData.selected&&"vertical"===t.style[e][i].chekcType&&t.getData.setting&&t.getData.setting[e]&&t.getData.setting[e].vertical===t.style[e][i].execCommand},{"icon-active":t.getData.selected&&"justify"===e&&(!(t.getData.setting&&t.getData.setting[e]&&t.getData.setting[e].vertical)&&"top"===t.style[e][i].execCommand||!(t.getData.setting&&t.getData.setting[e]&&t.getData.setting[e][e])&&"left"===t.style[e][i].execCommand)}],attrs:{name:i,type:"button"},on:{mousedown:function(a){return t.setCurrentType({value:e,v:i,type:t.nowTab,e:a})},click:t.outercept}},[a("i",{class:t.style[e][i].iconClass})])]}))],2)})),0)])}))]:t._e(),a("backgroundAndBorder",{attrs:{reportSetting:t.reportSetting,getData:t.getData}}),a("interActive",{attrs:{reportSetting:t.reportSetting,getData:t.getData,disables:["borderRadius"]}})],2)])}),[],!1,null,"55d9b092",null);e.a=s.exports},a05c:function(t,e,a){"use strict";(function(t){a("7db0");var i=a("b85c"),o=a("5530"),s=a("2f62"),n=a("c0e9"),r=a.n(n),l=a("e511"),c=a.n(l),d=a("a026"),u=a("0132"),h=a.n(u);e.a={name:"pageController",props:["model","editId","reportName"],data:function(){return{spread:!0,currentMove:{moveIndex:"",show:!1,top:0},editPage:"",showType:"page",firstOpen:!1,errorText:"",showSpread:!0}},directives:{focus:function(t){t.focus()}},computed:Object(o.a)({},Object(s.d)({lastAddPage:function(t){return t.draw.lastAddPage},currentPage:function(t){return t.draw.currentPage},pageList:function(t){return t.pageController.pageList},pageNameList:function(t){return t.pageController.pageNameList},drawPanels:function(t){return t.draw.drawPanels}})),watch:{lastAddPage:function(){this.lastAddPage&&(this.emptyError(),this.controllerAddPage(this.lastAddPage))},pageList:function(){this.firstOpen?(this.firstOpen=!1,this.editId||"view"===this.model?this.drawChangeCurrentPage(this.pageList[0]):this.drawAddPage()):0===this.pageList.length&&this.drawAddPage()}},methods:Object(o.a)(Object(o.a)({},Object(s.b)({drawChangeCurrentPage:"drawChangeCurrentPage",drawChangeBlockLoadingState:"drawChangeBlockLoadingState",drawAddPage:"drawAddPage",drawDeletePage:"drawDeletePage",controllerAddPage:"controllerAddPage",controllerDeletePage:"controllerDeletePage",controllerChangePageName:"controllerChangePageName",controllerMovePage:"controllerMovePage"})),{},{emptyError:function(){this.errorText=""},drawFullScreen:function(){var t=document.documentElement;(t=t||document.body).requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullScreen?t.webkitRequestFullScreen():t.msRequestFullscreen&&t.msRequestFullscreen()},drawDownloadReport:function(){this.drawChangeBlockLoadingState({name:"view",loadState:"start"});var t=new c.a("","pt","a4");this.htmlToPdf(t,this.reportName,0)},htmlToPdf:function(t,e,a){for(var i=this,o=null,s=(o=i.drawPanels.length?i.drawPanels[a]:i.drawPanels).querySelectorAll("svg"),n=0;n<s.length;n++){var l=s[n].parentNode,c=l.innerHTML,d=document.createElement("canvas");h()(d,c),l.removeChild(s[n]),l.appendChild(d)}var u=o.offsetWidth,p=o.offsetHeight,g=document.createElement("canvas");g.width=2*u,g.height=2*p,g.getContext("2d").scale(2,2),r()(o,{scale:2,canvas:g,width:u,height:p,dpi:window.devicePixelRatio,allowTaint:!0,taintTest:!1}).then((function(o){var s=o.getContext("2d");s.mozImageSmoothingEnabled=!1,s.webkitImageSmoothingEnabled=!1,s.msImageSmoothingEnabled=!1,s.imageSmoothingEnabled=!1;var n=o.width,r=o.height,l=n/592.28*841.89,c=r,d=0,u=595.28/n*r,h=o.toDataURL("image/jpeg",1);if(t.internal.scaleFactor=1.33,c<l)t.addImage(h,"jpeg",0,0,595.28,u);else for(;c>0;)t.addImage(h,"jpeg",0,d,595.28,u),d-=841.89,(c-=l)>0&&t.addPage();i.drawPanels.length!==a+1&&i.drawPanels.length?(t.addPage("l","a4"),i.htmlToPdf(t,e,a+1)):(i.drawChangeBlockLoadingState({name:"view",loadState:"finish"}),t.save("".concat(e,".pdf")))}))},changeShowType:function(t){this.emptyError(),this.showType!==t&&(this.showType=t,"all"===t?this.drawChangeCurrentPage("all"):this.drawChangeCurrentPage(this.pageList[0]))},clickPage:function(t){this.emptyError();var e=this;this.editPage||"page"!==this.showType||(clearTimeout(this.clickSetTime),this.clickSetTime=setTimeout((function(){e.drawChangeCurrentPage(t)}),300))},moveStart:function(e,a){if(this.emptyError(),"edit"===this.model){if(this.editPage)return;var i=t(this.$el).find("#pageList"),o=0-parseFloat(i.children().children().children(".mCSB_container")[0].style.top);this.currentMove.moveIndex=a,this.currentMove.top=e.pageY+o-i.offset().top+"px",this.currentMove.show=!0}},moveIng:function(e){if(this.currentMove.show){var a=t(this.$el).find("#pageList"),i=0-parseFloat(a.children().children().children(".mCSB_container")[0].style.top);d.default.set(this.currentMove,"top",e.pageY+i-a.offset().top+"px")}},moveEnd:function(e){if(this.currentMove.show){var a,o,s=t(this.$el).find("#pageList"),n=t(this.$el).find('[editRole="pageLi"]'),r=0-parseFloat(s.children().children().children(".mCSB_container")[0].style.top),l=e.pageY+r-s.offset().top,c=[],d=Object(i.a)(n);try{for(d.s();!(a=d.n()).done;){var u=a.value;c.push(t(u).offset().top+r+t(u).outerHeight()/2-s.offset().top)}}catch(t){d.e(t)}finally{d.f()}for(var h=0;h<c.length;h++){if(0===h){if(l<=c[h]){o=h;break}}else if(h===c.length-1&&l>c[h]){o=h+1;break}if(c[h]<l&&l<=c[h+1]){o=h+1;break}}this.controllerMovePage({moveIndex:this.currentMove.moveIndex,newIndex:o}),this.currentMove.show=!1,this.currentMove.moveIndex=""}},editNameStart:function(t){this.emptyError(),"edit"===this.model&&(clearTimeout(this.clickSetTime),this.editPage=t)},editNameEnd:function(t){this.emptyError();var e=this;setTimeout((function(){e.controllerChangePageName({id:e.editPage,name:t}),e.editPage=""}),100)},deletePage:function(t,e){if(this.emptyError(),1===this.pageList.length)this.errorText=this.$t("design.drawPcEmptyError");else{if(this.currentPage===t){var a=this.pageList[e+1]?this.pageList[e+1]:this.pageList[e-1];this.drawChangeCurrentPage(a)}this.drawDeletePage(t),this.controllerDeletePage(t)}}}),mounted:function(){this.$nextTick((function(){window.parent.parent&&window.parent.parent.report_data&&(window.parent.parent.downReportPdf=this.drawDownloadReport,this.changeShowType("all"),this.showSpread=!1)})),"edit"!==this.model||this.editId?this.pageList.length>0?this.drawChangeCurrentPage(this.pageList[0]):this.firstOpen=!0:this.drawAddPage()}}}).call(this,a("1157"))},a18b:function(t,e,a){"use strict";var i=a("5e83");a.n(i).a},a4a6:function(t,e,a){},a625:function(t,e,a){},a6c5:function(t,e,a){},a72a:function(t,e,a){},a80f:function(t,e,a){"use strict";(function(t){a("7db0"),a("0481"),a("c975"),a("fb6a"),a("a434"),a("4069"),a("ac1f"),a("5319"),a("1276");var i=a("b85c"),o=a("5530"),s=a("2f62");e.a={name:"groupSetting",props:["getData","reportSetting"],data:function(){var t={fontSize:{items:[{val:"12px",real:"12"},{val:"13px",real:"13"},{val:"16px",real:"16"},{val:"18px",real:"18"},{val:"24px",real:"24"},{val:"32px",real:"32"},{val:"48px",real:"48"}],showKey:"val",idKey:"real",max:48,min:12},fontFamily:{items:[{val:this.$t("design.simSun"),real:"SimSun"},{val:this.$t("design.simHei"),real:"SimHei"},{val:this.$t("design.yaHei"),real:"Microsoft YaHei"},{val:this.$t("design.youYuan"),real:"YouYuan"},{val:this.$t("design.fangSong"),real:"STFangsong"}],showKey:"val",idKey:"real"},borderRadius:{items:[{val:"0px",real:"0"},{val:"10px",real:"10"},{val:"20px",real:"20"},{val:"30px",real:"30"},{val:"40px",real:"40"},{val:"50px",real:"50"}],showKey:"val",idKey:"real",max:50,min:0},opacity:{items:[{val:"0%",real:"0"},{val:"10%",real:"10"},{val:"20%",real:"20"},{val:"30%",real:"30"},{val:"40%",real:"40"},{val:"50%",real:"50"},{val:"60%",real:"60"},{val:"70%",real:"70"},{val:"80%",real:"80"},{val:"90%",real:"90"},{val:"100%",real:"100"}],showKey:"val",idKey:"real",max:100,min:0},borderWidth:{items:[{val:"0px",real:"0"},{val:"1px",real:"1"},{val:"2px",real:"2"},{val:"3px",real:"3"},{val:"4px",real:"4"},{val:"5px",real:"5"}],showKey:"val",idKey:"real",max:5,min:0},borderStyle:{items:[{val:"solid"},{val:"dotted"},{val:"dashed"},{val:"double"}],showKey:"val",idKey:"val"},groupCarouselTrigger:{items:[{name:"自动触发",val:"auto"},{name:"事件触发",val:"event"}],showKey:"name",idKey:"val"}};return{settingContents:[{name:this.$t("design.groupCarousel"),id:"groupCarousel",icon:"icon-groupCarousel",children:[{showType:"options-checkbox",settingName:"groupSetting.isCarousel",text:this.$t("design.isCarousel"),class:"width-5"},{showType:"input-text",showflag:{settingName:"groupSetting.groupCarouselTrigger",value:"auto"},title:this.$t("design.carouselTime"),settingName:"groupSetting.carouselTime",class:"width-10",unit:"ms",validate:{type:"number",min:0}},{showType:"dropDown-icon-input",name:this.$t("design.groupCarouselTrigger"),nameLength:5,showflag:{settingName:"groupSetting.isCarousel",value:!0},readonly:!0,settingName:"groupSetting.groupCarouselTrigger",class:"width-10",transformByArr:!0,showValueTitle:!0,dropDownData:{isShow:!1,defaultItem:"",dataSource:t.groupCarouselTrigger.items,showKey:t.groupCarouselTrigger.showKey,idKey:t.groupCarouselTrigger.idKey,dropDownStyle:{}}}]},{name:this.$t("design.reportBgAndBorder"),id:"bgAndBorder",icon:"icon-bgAndBorder",children:[{showType:"colorPicker-icon",title:this.$t("design.reportBackground"),settingName:"style.backgroundColor",class:"width-2",iconClass:"icon-bgcolor",isTransparent:!0},{showType:"dropDown-icon-input",title:this.$t("design.reportBorderRadius"),readonly:!0,unit:"px",settingName:"style.borderRadius",class:"width-4",iconClass:"icon-rounded-corner",transformByArr:!1,validate:{type:"number",min:t.borderRadius.min,max:t.borderRadius.max,unit:"px"},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.borderRadius.items,showKey:t.borderRadius.showKey,idKey:t.borderRadius.idKey,dropDownStyle:{}}},{showType:"dropDown-icon-input",title:this.$t("design.reportOpacity"),readonly:!0,unit:"%",settingName:"style.opacity",class:"width-4",iconClass:"icon-opacity",transformByArr:!1,validate:{type:"number",min:t.opacity.min,max:t.opacity.max,scale:.01},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.opacity.items,showKey:t.opacity.showKey,idKey:t.opacity.idKey,dropDownStyle:{}}},{showType:"colorPicker-icon",title:this.$t("design.reportBorderColor"),settingName:"style.borderColor",class:"width-2",iconClass:"icon-dropcolor",isTransparent:!0},{showType:"dropDown-icon-input",title:this.$t("design.reportBorderWidth"),readonly:!0,unit:"px",settingName:"style.borderWidth",class:"width-4",iconClass:"icon-linewidth",transformByArr:!1,validate:{type:"number",min:t.borderWidth.min,max:t.borderWidth.max,unit:"px"},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.borderWidth.items,showKey:t.borderWidth.showKey,idKey:t.borderWidth.idKey,dropDownStyle:{}}},{showType:"dropDown-icon-input",title:this.$t("design.reportBorderStyle"),readonly:!0,settingName:"style.borderStyle",class:"width-4",iconClass:"icon-borderstyle",transformByArr:!1,dropDownData:{isShow:!1,defaultItem:"",dataSource:t.borderStyle.items,showKey:t.borderStyle.showKey,idKey:t.borderStyle.idKey,dropDownStyle:{"min-width":"80px"}}}]}],colorPickerOptions:{color:"#000000",flat:!1,isTransparent:!1,flexLeft:-176,flexTop:0},pickerUser:"",currentDropDown:{options:{},validate:{},user:"",relative:""},hideSettingList:[]}},computed:Object(o.a)({currentData:function(){var e,a=[],o=Object(i.a)(this.getData);try{for(o.s();!(e=o.n()).done;){var s=e.value,n=t.extend(!0,{},{style:this.reportSetting},s);a.push(n)}}catch(t){o.e(t)}finally{o.f()}return a},transformSetting:function(){var e,a=t.extend(!0,[],this.settingContents),o=Object(i.a)(a);try{for(o.s();!(e=o.n()).done;){var s,n=e.value,r=Object(i.a)(n.children);try{for(r.s();!(s=r.n()).done;){var l=s.value;switch(l.showType){case"input":case"input-text":l.trueValue=this.getValue(l.settingName,l.validate)+(l.unit?l.unit:"");break;case"options-icon":case"options-radio":case"options-checkbox":case"colorPicker-icon":case"seekBar":l.trueValue=this.getValue(l.settingName);break;case"dropDown-icon-input":l.trueValue=this.getValue(l.settingName,l)}}}catch(t){r.e(t)}finally{r.f()}}}catch(t){o.e(t)}finally{o.f()}return a}},Object(s.d)({drawSize:function(t){return t.draw.drawSize},colorPickerOpt:function(t){return t.colorPickerOpt},colorPickerSelected:function(t){return t.colorPickerSelected},carousel:function(t){return t.draw.carousel}})),watch:{colorPickerSelected:function(){this.pickerUser&&this.getColor(this.colorPickerSelected)},colorPickerOpt:function(){!this.colorPickerOpt.flat&&this.pickerUser&&(this.pickerUser="")}},methods:Object(o.a)({switchDetailShow:function(t){if(t){var e=this.hideSettingList.indexOf(t);e>=0?this.hideSettingList.splice(e,1):this.hideSettingList.push(t)}},getDropDownValue:function(t){var e=t.dropDownData,a=e.dataSource,i=e.showKey;return a.find((function(e){return e[i]===t.trueValue}))},validateData:function(t,e,a){var i=e;return"number"===a.type?(i=parseFloat(i),isNaN(i)?i=this.getValue(t):("number"==typeof a.min&&(i=i<a.min?a.min:i),"number"==typeof a.max&&(i=i>a.max?a.max:i),"number"==typeof a.scale&&(i*=a.scale),"string"==typeof a.unit&&(i+=a.unit))):"text"===a.type&&a.textLength&&(i=i.slice(0,a.textLength-1)),i},transformValue:function(t,e){var a=t;return"string"==typeof e.unit&&(a=a.replace(e.unit,"")),"number"==typeof e.scale&&(a=parseFloat(a)/e.scale),a},transformData:function(t,e,a){var i=a.validate;if(i&&(e=this.validateData(t,e,i)),e!==this.getValue(t)){for(var o=t.split("."),s={},n=o.length-1;n>=0;n--){var r=o[n],l={};n===o.length-1?s[r]=e:(l[r]=s,s=l)}this.drawChangeSelectedData(s)}},getValue:function(t,e){var a,o=e?e.validate:void 0,s=e&&e.transformByArr?e.dropDownData:void 0,n=t.split("."),r=[],l=Object(i.a)(this.currentData);try{for(l.s();!(a=l.n()).done;){var c,d=a.value,u=Object(i.a)(n);try{for(u.s();!(c=u.n()).done;){var h=c.value;if(!d){d="";break}d=d[h]}}catch(t){u.e(t)}finally{u.f()}if(d=void 0===d?"":d,o&&""!==d&&(d=this.transformValue(d,o)),s){var p,g=s.dataSource,m=Object(i.a)(g);try{for(m.s();!(p=m.n()).done;){var f=p.value;if(f[s.idKey]===d){d=f[s.showKey];break}}}catch(t){m.e(t)}finally{m.f()}}""!==d&&e&&e.unit&&(d+=e.unit),r.push(d)}}catch(t){l.e(t)}finally{l.f()}for(var w=!0,v=0,y=r;v<y.length;v++){y[v]!==r[0]&&(w=!1)}return w?r[0]:""},getDropDownSelected:function(t,e){var a=t[e.dropDownData.idKey];e.selectedCall&&this[e.selectedCall](t),this.transformData(e.settingName,a,e)},showColorPicker:function(e,a,i){var o={};this.pickerUser===a?this.hideColorPickerPublic():(this.pickerUser=a,o.color=this.getValue(a),o.isTransparent=i,o.flat=!0,o.el="colorPicker"===t(e.target).attr("editRole")?e.target:t(e.target).parents('[editRole="colorPicker"]')[0],this.showColorPickerPublic(o))},getColor:function(t){this.transformData(this.pickerUser,t.hex,{})}},Object(s.b)({drawChangeSelectedData:"drawChangeSelectedData",showColorPickerPublic:"showColorPicker",hideColorPickerPublic:"hideColorPicker"})),created:function(){var t=this;this.$nextTick((function(){t.transformData("groupSetting.carouselTime",t._.get(t.getData[0],"groupSetting.carouselTime")||t.carousel.time,{changeFlag:!1}),t.transformData("groupSetting.groupCarouselTrigger",t._.get(t.getData[0],"groupSetting.groupCarouselTrigger")||"auto",{changeFlag:!1})}))}}}).call(this,a("1157"))},a98e:function(t,e,a){"use strict";var i=a("af96");a.n(i).a},a9b6:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAArEAAADoCAYAAAD4xLw7AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAADXpJREFUeNrs3W2MHHUdwPEpbaBiexZC4FpFGjW1EgIVfKGWC/WFQpAa4hseNLEJ5kBiItK+URJ6NEKIoYFEY/RU0vqiEF8YEioBH0KTA4wRsEGD5FRECe3xxtZrLRXF8/dn52TZ3MPu3j7MzH4+yS/Tu9m72529Ld8OszPLZmZmMgAAymtoamI4FttiVpbobu+ZHh55qd0vPsXTDgBQ6oBN4Xp1yQJ2yUQsAEC5A3ZbzPCgPXYRCwBQXlcMYsCKWACAkhqamkgBu2lQH7+IBQAoX8CmeP3oIG8DEQsAUK6A3ZjV3sg10EQsAEB5AnZYwNassAkAgApF3i2xWB9ztKLddnbMIc90wSI2fvHWxOK+mFumh0eOWm+99dZbb731tNARaQ/lptiG2yr42GZPpfUfz3QBIzYciLkoq73TbpP11ltvvfXWW0+TkZe229VVDNjctdmAnkprPkU7Jva+hqX11ltvvfXWW89iAZv2ZI/F3FLRx5f2MK/3TL/dspmZmaI9UesXuo6u9dZbb7311g/iehYM2IditlVx++Vv5Lqiok/fo/GcTVUmYgEAWoi8tPd6T8TQQVtjsIjYhn8FZ7X/HVG1f+U86NllgF/XO2JxQYUe0sl4Td/kmcVr+E0fyJd/8hoWsf2IxvUF2h4fi7mrYs/xn2O+7VedAfblmPdX6PEcidnlacVruLSOxfyo4XPPxrw4gM/twaWcjaNvERsBOxKLR2JW5Z96I2Z5QTbqfyv0C5K26z/9HcgAS3/HVO3CLtOeVryGS8uFpt7yiYjYA+1+cV9OsZUH7E/qAvblmAu7eW68+JlPxGJzEzfdW+HTcwAAfRQ9kv5vyppFbvZ6zJ3RI7sq+Pi3xOLxTnyvFX2489fE4vsxq/NPPRlP0qXd/rm9+BkAAIv0yBm2Qmf0dJd2BOxXY7E3D9h/xdwvLgEAKGzERsDeHou7Y07LA/auCNgbPAUAALSqJ4cT5AF7W8ypMcdjroyAnbD5AQAoZMQ2BGy6KsPlEbDP2fQAABQyYhsCtutnIAAAQMR2MmCf9AYuAAA6pStv7MoD9ut5wB4VsAAAFDpiI2A3xeJrWe0sBMljNjMAAIWO2Kx2FYqV+Z/TYQTX2swAABQ9Yr+RL192GAEAAIWP2KGpiZ/FYnOWn4nA5gUAoNARGwGbrsb1yax2MYOrnEoLAIBCR2x+NoKvxBzLalfjcjEDAAC6Zsnnia07H2yy0+VkAQDotiXtiW24oMGdEbD32qQAAHRbW3tiI17TabR+H3NW9tYVuXbZnAAA9ELLe2LzgH0h5t0xr8Tc71RaAAD0Ukt7YusC9pystvdVvAIA0HOt7ol9TsACAFCaiB2amng+FucKWAAAShGxecB+SMACAFCKiM0vJStgAQAojBVzRGt689bjMe+JWRmzSsACAFDYiG04+8BvYvbFHI+A/YFNBQBA4SI2AnYkFo9ktUMMdrp4AQAAhY7YPGB/EXMi5jMRsBM2DQAAhY7YcEPMkZiNEbBHbRYAAIqs/uwEJwUsAABli1gAABCxAAAgYgEAQMQCACBiAQBAxAIAwMIRe87Q1MQOmwQAgDJFbLrwwQU2CQAAZYpYAAAQsQAAIGIBAEDEAgAgYgEAQMQCAICIBQBAxAIAgIgFAAARCwBAdSP2xZjlNgcAAF32er48uuSInR4e2RWLv9mmAAB0SzTngVg8kP/54JIjFgAAykTEAgAgYgEAQMQCAICIBQBAxAIAgIgFAAARCwCAiAUAgP5aMTQ1ka6WcFH21iXAAACgq6JBX4rFienhkfPb+fq0J3b2urUzNicAAD1yXszp7X6xwwkAACgdEQsAgIgFAAARCwAAIhYAABELAAAiFgAARCwAACIWAABELAAAiFgAAEQsAACIWAAAELEAAIhYAAAQsQAAIGIBABCxAAAgYgEAQMQCAICIBQBAxAIAgIgFAAARCwCAiAUAABELAAAiFgAAEQsAACIWAABELAAAIhYAAEQsAACIWAAARCwAAIhYAAAQsQAAIGIBABCxAAAgYgEAQMQCACBiAQBAxAIAgIgFAKAahqYmVotYAADKFLDbY7FBxAIAUJaA3RqL6+o/J2IBAChywKa9r9sbPy9iAQAosi0xq0QsAAClJ2IBABCxAAAgYgEAQMQCACBiAQBAxAIAgIgFAEDEAgCAiAUAABELAICIBQAAEQsAACIWAAARCwAAIhYAAEQsAAAiFgAAimm1iAUAoDSGpiZGY3HdXOtW2DwAABQsXtPe17GYy+a7jYgFAKBIAbshFrtj1i50O4cTAABQlIDdGovxxQI2sScWAICiBOzOZm9vTywAAEWwtpUbi1gAAMpgMubw7AcOJwAAoOjGp4dH0rGy6bCDS1LMilgAAIrq2ZixCNhD+Wm3Zs8be6OIBQCgaI5ntb2v+9IH+d7XsazuuFkRCwBA0Vyf9r7mAZv2vo423qA+Yr3JCwCAbju52A3ywwfWxR/vidkw123qw/Wp+IJttisAAN0SvXlTLP7axE3XzhewjRELAAClIGIBABCxAAAgYgEAoEE6O8Ga/M8ftjkAAOiWoamJ9bHYE3NGzCsxJ9r9XqdMD49siuXemCM2LQAAXZQi9rLUszGfjw49v+2ItS0BACgbEQsAgIgFAAARCwAAIhYAABELAAAiFgAARCwAACIWAABELAAANDocMyliAQAohaGpiS3TwyOHYq6PD8dFLAAAZXBPhOzumHURsiliU8xOilgAAIrusph9EbLXR8hONu6VFbEAABTVqphbI2THG/bKHl5h2wAAUHAXZ7W9sqNpr2z6hD2xAACUQdoru3r2AxELAEDpiFgAAEQsAACIWAAASm9oamJNLO7LPzwRc7RuXTrWdYuIBQCgSAE7Eos/xFwUMxVzxfTwyMG6gP1ezIZWvqdTbAEA0K1wvSFmZYrWfPnziNdP1d2mrYAVsQAAdCtgH8o//F3MSzF3R8A+2ImAFbEAAHQjYB+OWR5zZYTrxBy3aSdgJ/MRsQAAdDxgH8s/vLyDAXs8Zkd8v2Ozn/DGLgAAih6w6XKzh+o/KWIBAOhEwD4S81qXAnaycYWIBQCgEwH7eszVvQjYxDGxAAC0E6/XxOJLMZd0IWCTsfkCVsQCANBOwKa9r9+JOTPm7zE3dzhg74jvd2ChG4hYAABaCdjzstrhA6tiXo3YHJ7ndksJ2IcXu5FjYgEAaDZg18Ti17MBG7OxHwErYgEAaMUzMefE/CMFbATn0TkCdkObAbu/2YBNHE4AAMCiIk6fiMX7stpZA7YuELDjWW1PbasBO9bKF4hYAAAWC9gfxmJzTLpi1qfneRNXKwGbQngs/35ZfL9nWr1PIhYAgIUC9vZYfC6rnUZrZwcCNp0268b6S8i2wzGxAADMF7DpVFq3xZwW89sIz3uXGLD7OxGwiT2xAADMF7DpVFqn5p86ucSAfSDidXen7p+IBQBgLnvq4jRd0OCbSwjYO1o584CIBQCgZfle2LPzD9ObsN52SdkWAjZ97ehCl49tl2NiAQCoD9j0Rq6f5oGaIvTKNgN2slsBm9gTCwDAbKCmU2mlMxGkN3KlQwja3QN7OOvQG7hELAAACwVsupjB5vzDl2MurL+gQYvHwB7uZsCKWAAA8bomFi9ktcvJJq8uMWB7wjGxAACDG7DpDVx/bAjYjUUPWBELADC4AfvFWKTTXp2Vf+pgWQI2WTEgT1LaTf5UzOlNbI/xePJ2+dUGALrQJM830SMnstqboia6eD/SGQjSlbhmL2TwZPy8SxtuU9iATZbNzMykO7knq70TzTGyWfbv/JenKtIxLic9rQyIdE7DdRV7TF7DDLoLKtYnKQiXN3G7mdRpPbpP3QjYZ+N7jnbzTs/+UoxltasyDJpvxbxR9/F7Y86IeVeFHuNK/wFkgJxZsdev1zBk2Tvz10FVHIn5bJHuUMTmgQ4HbE+8uSeW/z9p343FNRV6SOkfKVsbfznBa9hrGEr0up7O3r7Dqez+Eq/piwu8vbfGYnsHArbre2JFLAAAswG7s0PfrusR6+wEAAACtpMB2xPeyAUAUN04HYvFVVV8bPbEAgBUM2C3VzVgRSwAQDUDNh0ecF2VH6OIBQCoXsD2+/jWp7v9AxwTCwCDFTjnxuId/bwP08Mjk56JSgfs/niOx0UsANCpwPl4LL7Q57vxyxgRW92ATafWGuvFDxKxADAYgbOpAAE7GYHz4xbvd7p61I4u3qene/C4D8cc6vLP+GDMrf1+frPahRJ6QsQCMF84UB2nx2xrI0g66bWsxUvc9+jypxf79eiI4zE3xj9SjolYAPrp5qzPx03SV3sjRp7q8z+k1vUgYOlcwI72MmATZycAYC67s9qeMwRsPwJ2dSzuEbClsb0fb9ZbNjMzY9MDMFdI9P1d7FX8j30ZAjZ/g9DaPt6PLTEOaSmHO+J35uF+/GARCwC9+4dBkSP2V3UBu9OzRRPGe3EqLRELACwW2QKWZu3v1am0RCwAIGDphHQu2NF+3wlv7AIAAStgaVZPzwW7EHtiAUDACliakU6ltbXXp9Kajz2xADC4AZvOALDdlqDJgB0tSsAmLnYAAIPrIzH7bAaa8Ew/zgW7kP8JMAAA/A2hvn9RygAAAABJRU5ErkJggg=="},aae8:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlAAAACDCAYAAABC1yXtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA5RJREFUeNrs3EFK41AcwOHnEFfiqjCDdOnGFkU39gDjxiPYjYcQZp3JesBDuOkV3DgHcCcKOYGLOUXnpVQIb4JMms5AzPdBSPtPG+R18yMJ7hx9X16EED4HAIBheSnz8LzJF7O4VQF1bA0BgIFZxG3jgHrzM26/rCUA8MGdhI4Xj+oB9bDpZSwAgL6YFKtdp4D6ZBkBANrJ3qmzW8sDAHxAo/X+MvbOef1AmYebTgHV5iQAAH0Ro2ked9V2H1tnUZv/9cUjt/AAAFoSUAAALWVtPjwpwrfgXx0AAP02Xe9PY9vs1uaj+P46+eyXMg8/OgVUFU/xJHfWHQDoq/UzUFVEPSXPQJ2lndMQVCtu4QEAtCSgAABayrqeYFKEmWUEAHpk/LZPOmavoWsOGmb72Tb+ijIPj34LAKAPYhAdrl++1hsmzq/Spomzo4bZzC08AICWBBQAgIACABBQAAACCgBAQAEACCgAAAQUAICAAgAQUAAAAgoAQEABACCgAAAEFACAgAIAEFAAAAIKAEBAAQAgoAAABBQAgIACABBQAAACCgAAAQUAIKAAAAQUAICAAgAQUAAAAgoAAAEFACCgAAAEFACAgAIAEFAAAAgoAAABBQAgoAAABBQAgIACABBQAAAIKAAAAQUAIKAAAAQUAICAAgBAQAEACCgAAAEFACCgAAAEFACAgAIAQEABAAgoAAABBQAgoAAABBQAAAIKAEBAAQAIKAAAAQUAIKAAAAQUAAACCgBAQAEACCgAAAEFACCgAAAQUAAAAgoAQEABAAgoAAABBQAgoAAAEFAAAAIKAEBAAQAIKAAAAQUAgIACABBQAAACCgBAQAEACCgAAAEFAICAAgAQUAAAAgoAQEABAAgoAAAEFACAgAIAEFAAAAIKAEBAAQAIKAAABBQAgIACABBQAAACCgBAQAEAIKAAAAQUAMB/ktVeX0yKcFx7P4rv58nnpw2zcZwdWkoAoCdOthlQXxuOzxtmU+sOAAxZFVAPcXtuOHYZt/tkdhq3p2Q2jturpQQAeuZl44Aq81VA/WFShPN4bJHMdhtmszh79BsAAEPhIXIAgJay9w5OinCbjKoHy8+S2V6cXVlKAGDwAVXm4aYhqK7j/C6ZuYUHAAyKW3gAAAIKAODfytp+obqNl4wO4uzIUgIAQ7GzXC47ncAzUADAkFTt4xYeAEBLAgoAoKVsGyepLmVZSgBgIPZ/CzAA1zRkpvGyYugAAAAASUVORK5CYII="},ab39:function(t,e,a){"use strict";var i=a("7cac");a.n(i).a},abdb:function(t,e,a){t.exports=a.p+"img/box15.e0297749.png"},abfc:function(t,e,a){"use strict";var i=a("a4a6");a.n(i).a},ac4f:function(t,e,a){"use strict";var i=a("f6b0").a,o=(a("6a85"),a("2877")),s=Object(o.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("modal",{attrs:{properties:t.windowSetting,loadingSetting:t.loadingOpt},on:{afterClickButton:t.afterClickButton}},[a("div",{staticClass:"content",attrs:{slot:"windowBody"},on:{keydown:function(t){t.stopPropagation()}},slot:"windowBody"},[a("div",{staticClass:"errorText",domProps:{innerHTML:t._s(t.errorShowText)}}),a("div",{staticClass:"header"},[a("div",{staticClass:"titleArea"},[a("div",{staticClass:"titleName"},[t._v(t._s(t.$t("design.saveReportName")))]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentName,expression:"currentName"}],staticClass:"titleInput",class:{error:t.nameError},attrs:{type:"text",name:"reportTitle",placeholder:t.$t("design.saveReportNameHolder"),spellcheck:"false"},domProps:{value:t.currentName},on:{blur:function(e){return t.nameValidate(e.target.value)},input:function(e){e.target.composing||(t.currentName=e.target.value)}}})]),a("div",{staticClass:"newFolder pointer",on:{click:t.clickAddNewFolder}},[a("span",{staticClass:"newFolderIcon iconfont icon-newfolder"}),a("span",{staticClass:"newFolderText"},[t._v(" "+t._s(t.$t("design.saveNewFolder"))+" ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.addFolder,expression:"addFolder"}],staticClass:"newFolderMask",on:{click:function(t){t.stopPropagation()}}})])]),a("div",{staticClass:"treeAera"},[a("nanoscrollerComponent",{attrs:{properties:{height:"100%",width:"100%",axis:"y"}}},[a("div",{staticClass:"treeBox"},[a("Item",{attrs:{sourceData:t.folderData,treeT:t.treeSetting,isAdd:t.addFolder},on:{chooseTreeItem:t.getTreeSelect,changeNewName:t.addNewFolder,getDefaultData:t.getTreeDefaultData}})],1)])],1)])])}),[],!1,null,"2448d721",null);e.a=s.exports},aca7:function(t,e,a){t.exports=a.p+"img/logo.0b8406e1.jpg"},ad6c:function(t,e,a){},af96:function(t,e,a){},b562:function(t,e,a){"use strict";var i=a("fbd2").a,o=(a("c03d"),a("2877")),s=Object(o.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"side"},[a("ul",{staticClass:"side-right-tabs"},[a("li",{staticClass:"tabs-item"},[t._v(t._s(t.$t("design.graphStyle")))])]),a("div",{staticClass:"total-text"},[a("div",{staticClass:"title-text"},[t._v(t._s(t.$t("design.graphTitle")))])]),a("div",{staticClass:"middle"},[t._t("blockName"),t._l(t.defaults.type,(function(e,i){return a("div",{key:i,staticClass:"styles-item",class:{hideDetail:!t.defaults[e].hideSetting}},[a("div",{staticClass:"style-title",on:{click:function(a){return t.switchDetailShow({type:"defaults",value:e})}}},[a("div",{staticClass:"icon-traingle"}),a("i",{staticClass:"icon iconfont",class:t.suBTitle[e].icon}),a("div",{staticClass:"style-title-text"},[t._v(t._s(t.suBTitle[e].text))])]),a("div",{staticClass:"forms"},t._l(t.defaults[e].type,(function(i,o){return a("div",{key:o,staticClass:"formItem"},t._l(i,(function(i,o){return a("div",{key:o,class:[{line:!t.defaults[e][i].notLine},t.defaults[e][i].classList]},[t.defaults[e][i].filter&&"dropDownComponent"==t.defaults[e][i].alias?a("dropdown",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:t.defaults[e][i].toolTip,expression:"defaults[value][v].toolTip",modifiers:{bottom:!0}}],staticClass:"dropDown dropDownShadow",style:[t.defaults[e][i].itWorks?{backgroundColor:"#ccc"}:{}],attrs:{configs:t.defaults[e][i],value:t.defaults[e][i].dataSource[t.defaults[e][i].currentStatus]},on:{change:t.getListItem}},[a("div",{staticClass:"clickShow",attrs:{name:i},on:{mousedown:function(a){return t.setCurrentType({v:i,value:e})}}},[t.defaults[e][i].iconClass?a("div",{staticClass:"dropDown-icon"},[a("i",{class:t.defaults[e][i].iconClass})]):t._e(),a("input",{staticClass:"dropDown-input",style:[t.defaults[e][i].itWorks?{backgroundColor:"#ccc"}:{}],attrs:{readonly:""},domProps:{value:t.defaults[e][i].dataSource[t.defaults[e][i].currentStatus].val}})])]):t.defaults[e][i].filter&&"colorPickerComponent"==t.defaults[e][i].alias?a("div",{staticClass:"dropDown onlyicon",on:{mousedown:function(a){return t.setCurrentType({v:i,value:e})}}},[a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:t.defaults[e][i].toolTip,expression:"defaults[value][v].toolTip",modifiers:{bottom:!0}}],staticClass:"dropDown-icon",attrs:{name:i},on:{click:function(e){return e.stopPropagation(),t.useColor(e)}}},[a("i",{class:t.defaults[e][i].iconClass}),t.defaults[e][i].iconMsg?a("div",{staticClass:"color-show",style:{"background-color":t.defaults[e][i].currentStatus}}):t._e()])]):t.defaults[e][i].filter&&""==t.defaults[e][i].alias?a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:t.defaults[e][i].toolTip,expression:"defaults[value][v].toolTip",modifiers:{bottom:!0}}],staticClass:"labelInput",attrs:{name:i},on:{mousedown:function(a){return a.stopPropagation(),t.setCurrentType({v:i,value:e})}}},[a("label",{staticClass:"labelInput-label",class:t.defaults[e][i].iconClass},[t._v(t._s(t.defaults[e][i].info))]),t.defaults[e][i].iconMsg?a("input",{directives:[{name:"model",rawName:"v-model",value:t.curRotateVal,expression:"curRotateVal"}],staticClass:"labelInput-input labelInput-rotate",attrs:{type:"text",readonly:""},domProps:{value:t.curRotateVal},on:{keydown:function(e){return e.stopPropagation(),t.slowRatote(e)},keyup:function(e){return e.stopPropagation(),t.checkInsert(e)},blur:function(e){return t.checkBlur(e)},input:function(e){e.target.composing||(t.curRotateVal=e.target.value)}}}):t._e(),a("div",{staticClass:"rotate-add-reduce"},[a("span",{staticClass:"rotate-add",on:{click:function(e){return e.stopPropagation(),t.addRotate(e)}}},[t._v("+")]),a("span",{staticClass:"rotate-reduce",on:{click:function(e){return e.stopPropagation(),t.reduceRotate(e)}}},[t._v("-")])])]):t._e()],1)})),0)})),0)])})),a("eventTrigger",{attrs:{eventList:this.getData&&this.getData.events},on:{updateData:t.updataEventData}}),a("backgroundAndBorder",{attrs:{reportSetting:t.reportSetting,getData:t.getData}}),a("interActive",{attrs:{reportSetting:t.reportSetting,getData:t.getData,disables:["borderRadius"]}})],2)])}),[],!1,null,"55f79a92",null);e.a=s.exports},b569:function(t,e,a){"use strict";(function(t){a("7db0"),a("0481"),a("c975"),a("fb6a"),a("a434"),a("4069"),a("ac1f"),a("5319"),a("1276");var i=a("b85c"),o=a("5530"),s=a("2f62");e.a={name:"multipleSetting",props:["getData","reportSetting"],data:function(){var t={fontSize:{items:[{val:"12px",real:"12"},{val:"13px",real:"13"},{val:"16px",real:"16"},{val:"18px",real:"18"},{val:"24px",real:"24"},{val:"32px",real:"32"},{val:"48px",real:"48"}],showKey:"val",idKey:"real",max:48,min:12},fontFamily:{items:[{val:this.$t("design.simSun"),real:"SimSun"},{val:this.$t("design.simHei"),real:"SimHei"},{val:this.$t("design.yaHei"),real:"Microsoft YaHei"},{val:this.$t("design.youYuan"),real:"YouYuan"},{val:this.$t("design.fangSong"),real:"STFangsong"}],showKey:"val",idKey:"real"},borderRadius:{items:[{val:"0px",real:"0"},{val:"10px",real:"10"},{val:"20px",real:"20"},{val:"30px",real:"30"},{val:"40px",real:"40"},{val:"50px",real:"50"}],showKey:"val",idKey:"real",max:50,min:0},opacity:{items:[{val:"0%",real:"0"},{val:"10%",real:"10"},{val:"20%",real:"20"},{val:"30%",real:"30"},{val:"40%",real:"40"},{val:"50%",real:"50"},{val:"60%",real:"60"},{val:"70%",real:"70"},{val:"80%",real:"80"},{val:"90%",real:"90"},{val:"100%",real:"100"}],showKey:"val",idKey:"real",max:100,min:0},borderWidth:{items:[{val:"0px",real:"0"},{val:"1px",real:"1"},{val:"2px",real:"2"},{val:"3px",real:"3"},{val:"4px",real:"4"},{val:"5px",real:"5"}],showKey:"val",idKey:"real",max:5,min:0},borderStyle:{items:[{val:"solid"},{val:"dotted"},{val:"dashed"},{val:"double"}],showKey:"val",idKey:"val"}};return{settingContents:[{name:this.$t("design.reportBgAndBorder"),id:"bgAndBorder",icon:"icon-bgAndBorder",children:[{showType:"colorPicker-icon",title:this.$t("design.reportBackground"),settingName:"style.backgroundColor",class:"width-2",iconClass:"icon-bgcolor",isTransparent:!0},{showType:"dropDown-icon-input",title:this.$t("design.reportBorderRadius"),readonly:!0,unit:"px",settingName:"style.borderRadius",class:"width-4",iconClass:"icon-rounded-corner",transformByArr:!1,validate:{type:"number",min:t.borderRadius.min,max:t.borderRadius.max,unit:"px"},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.borderRadius.items,showKey:t.borderRadius.showKey,idKey:t.borderRadius.idKey,dropDownStyle:{}}},{showType:"dropDown-icon-input",title:this.$t("design.reportOpacity"),readonly:!0,unit:"%",settingName:"style.opacity",class:"width-4",iconClass:"icon-opacity",transformByArr:!1,validate:{type:"number",min:t.opacity.min,max:t.opacity.max,scale:.01},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.opacity.items,showKey:t.opacity.showKey,idKey:t.opacity.idKey,dropDownStyle:{}}},{showType:"colorPicker-icon",title:this.$t("design.reportBorderColor"),settingName:"style.borderColor",class:"width-2",iconClass:"icon-dropcolor",isTransparent:!0},{showType:"dropDown-icon-input",title:this.$t("design.reportBorderWidth"),readonly:!0,unit:"px",settingName:"style.borderWidth",class:"width-4",iconClass:"icon-linewidth",transformByArr:!1,validate:{type:"number",min:t.borderWidth.min,max:t.borderWidth.max,unit:"px"},dropDownData:{isShow:!1,defaultItem:"",dataSource:t.borderWidth.items,showKey:t.borderWidth.showKey,idKey:t.borderWidth.idKey,dropDownStyle:{}}},{showType:"dropDown-icon-input",title:this.$t("design.reportBorderStyle"),readonly:!0,settingName:"style.borderStyle",class:"width-4",iconClass:"icon-borderstyle",transformByArr:!1,dropDownData:{isShow:!1,defaultItem:"",dataSource:t.borderStyle.items,showKey:t.borderStyle.showKey,idKey:t.borderStyle.idKey,dropDownStyle:{"min-width":"80px"}}}]}],colorPickerOptions:{color:"#000000",flat:!1,isTransparent:!1,flexLeft:-176,flexTop:0},pickerUser:"",currentDropDown:{options:{},validate:{},user:"",relative:""},hideSettingList:[]}},computed:Object(o.a)({currentData:function(){var e,a=[],o=Object(i.a)(this.getData);try{for(o.s();!(e=o.n()).done;){var s=e.value,n=t.extend(!0,{},{style:this.reportSetting},s);a.push(n)}}catch(t){o.e(t)}finally{o.f()}return a},transformSetting:function(){var e,a=t.extend(!0,[],this.settingContents),o=Object(i.a)(a);try{for(o.s();!(e=o.n()).done;){var s,n=e.value,r=Object(i.a)(n.children);try{for(r.s();!(s=r.n()).done;){var l=s.value;switch(l.showType){case"input":l.trueValue=this.getValue(l.settingName,l.validate)+(l.unit?l.unit:"");break;case"options-icon":case"options-radio":case"colorPicker-icon":case"seekBar":l.trueValue=this.getValue(l.settingName);break;case"dropDown-icon-input":l.trueValue=this.getValue(l.settingName,l)}}}catch(t){r.e(t)}finally{r.f()}}}catch(t){o.e(t)}finally{o.f()}return a}},Object(s.d)({drawSize:function(t){return t.draw.drawSize},colorPickerOpt:function(t){return t.colorPickerOpt},colorPickerSelected:function(t){return t.colorPickerSelected}})),watch:{colorPickerSelected:function(){this.pickerUser&&this.getColor(this.colorPickerSelected)},colorPickerOpt:function(){!this.colorPickerOpt.flat&&this.pickerUser&&(this.pickerUser="")}},methods:Object(o.a)({getDropDownValue:function(t){var e=t.dropDownData,a=e.dataSource,i=e.showKey;return a.find((function(e){return e[i]===t.trueValue}))},switchDetailShow:function(t){if(t){var e=this.hideSettingList.indexOf(t);e>=0?this.hideSettingList.splice(e,1):this.hideSettingList.push(t)}},validateData:function(t,e,a){var i=e;return"number"===a.type?(i=parseFloat(i),isNaN(i)?i=this.getValue(t):("number"==typeof a.min&&(i=i<a.min?a.min:i),"number"==typeof a.max&&(i=i>a.max?a.max:i),"number"==typeof a.scale&&(i*=a.scale),"string"==typeof a.unit&&(i+=a.unit))):"text"===a.type&&a.textLength&&(i=i.slice(0,a.textLength-1)),i},transformValue:function(t,e){var a=t;return"string"==typeof e.unit&&(a=a.replace(e.unit,"")),"number"==typeof e.scale&&(a=parseFloat(a)/e.scale),a},transformData:function(t,e,a){var i=a.validate;if(i&&(e=this.validateData(t,e,i)),e!==this.getValue(t)){for(var o=t.split("."),s={},n=o.length-1;n>=0;n--){var r=o[n],l={};n===o.length-1?s[r]=e:(l[r]=s,s=l)}this.drawChangeSelectedData(s)}},getValue:function(t,e){var a,o=e?e.validate:void 0,s=e&&e.transformByArr?e.dropDownData:void 0,n=t.split("."),r=[],l=Object(i.a)(this.currentData);try{for(l.s();!(a=l.n()).done;){var c,d=a.value,u=Object(i.a)(n);try{for(u.s();!(c=u.n()).done;){var h=c.value;if(!d){d="";break}d=d[h]}}catch(t){u.e(t)}finally{u.f()}if(d=void 0===d?"":d,o&&""!==d&&(d=this.transformValue(d,o)),s){var p,g=s.dataSource,m=Object(i.a)(g);try{for(m.s();!(p=m.n()).done;){var f=p.value;if(f[s.idKey]===d){d=f[s.showKey];break}}}catch(t){m.e(t)}finally{m.f()}}""!==d&&e&&e.unit&&(d+=e.unit),r.push(d)}}catch(t){l.e(t)}finally{l.f()}for(var w=!0,v=0,y=r;v<y.length;v++){y[v]!==r[0]&&(w=!1)}return w?r[0]:""},getDropDownSelected:function(t,e){var a=t[e.dropDownData.idKey];e.selectedCall&&this[e.selectedCall](t),this.transformData(e.settingName,a,e)},showColorPicker:function(e,a,i){var o={};this.pickerUser===a?this.hideColorPickerPublic():(this.pickerUser=a,o.color=this.getValue(a),o.isTransparent=i,o.flat=!0,o.el="colorPicker"===t(e.target).attr("editRole")?e.target:t(e.target).parents('[editRole="colorPicker"]')[0],this.showColorPickerPublic(o))},getColor:function(t){this.transformData(this.pickerUser,t.hex,{})}},Object(s.b)({drawChangeSelectedData:"drawChangeSelectedData",showColorPickerPublic:"showColorPicker",hideColorPickerPublic:"hideColorPicker"}))}}).call(this,a("1157"))},b9cf:function(t,e,a){},bca5:function(t,e,a){"use strict";(function(t){a("0481"),a("caad"),a("c975"),a("4069"),a("a9e3"),a("8ba4"),a("2532");var i=a("ade3"),o=a("5530"),s=a("2f62");e.a={name:"backgroundAndBorder",props:{reportSetting:{type:Object,default:function(){}},getData:{type:Object,default:function(){}},disables:{type:Array,default:function(){return[]}}},data:function(){return{hide:!1,dropDownUser:"backgroundAndBorder",defaults:{subTitle:this.$t("design.backgroundAndBorder"),hideSetting:!0,type:[["backgroundColor","borderRadius","opacity"],["borderColor","borderWidth","borderStyle"]],backgroundColor:{toolTip:this.$t("design.reportBackground"),filter:!0,alias:"colorPickerComponent",currentStatus:"#ff0000",iconClass:["iconfont","icon-bgcolor"],iconMsg:!0,classList:["width-2"]},borderRadius:{toolTip:this.$t("design.reportBorderRadius"),filter:!0,dataSource:[{val:0,real:"0px"},{val:1,real:"1px"},{val:2,real:"2px"},{val:3,real:"3px"},{val:4,real:"4px"},{val:5,real:"5px"},{val:6,real:"6px"},{val:7,real:"7px"},{val:8,real:"8px"},{val:9,real:"9px"},{val:10,real:"10px"},{val:15,real:"15px"},{val:20,real:"20px"},{val:25,real:"25px"},{val:30,real:"30px"},{val:40,real:"40px"},{val:50,real:"50px"},{val:60,real:"60px"},{val:70,real:"70px"},{val:80,real:"80px"},{val:90,real:"90px"},{val:100,real:"100px"}],alias:"dropDownComponent",currentStatus:0,showKey:"val",idKey:"real",iconClass:["iconfont","icon-rounded-corner"],classList:["width-4"],iconMsg:!0},opacity:{filter:!0,toolTip:this.$t("design.reportOpacity"),dataSource:[{val:"100%",real:1},{val:"90%",real:.9},{val:"80%",real:.8},{val:"70%",real:.7},{val:"60%",real:.6},{val:"50%",real:.5},{val:"40%",real:.4},{val:"30%",real:.3},{val:"20%",real:.2},{val:"10%",real:.1},{val:"0%",real:0}],alias:"dropDownComponent",currentStatus:0,showKey:"val",idKey:"real",iconClass:["iconfont","icon-opacity"],classList:["width-4"],iconMsg:!0},borderColor:{toolTip:this.$t("design.reportBorderColor"),filter:!0,alias:"colorPickerComponent",currentStatus:"#ff0000",iconClass:["iconfont","icon-dropcolor"],iconMsg:!0,classList:["width-2"]},borderWidth:{toolTip:this.$t("design.reportBorderWidth"),filter:!0,alias:"dropDownComponent",dataSource:[{val:0,real:"0px"},{val:1,real:"1px"},{val:2,real:"2px"},{val:3,real:"3px"},{val:4,real:"4px"},{val:5,real:"5px"}],currentStatus:0,showKey:"val",idKey:"real",iconMsg:!0,iconClass:["iconfont","icon-linewidth"],classList:["width-4"]},borderStyle:{toolTip:this.$t("design.reportBorderStyle"),filter:!0,dataSource:[{real:"solid",val:this.$t("design.solid")},{real:"dotted",val:this.$t("design.dotted")},{real:"dashed",val:this.$t("design.dashed")},{real:"double",val:this.$t("design.double")}],alias:"dropDownComponent",currentStatus:0,iconMsg:!0,showKey:"val",idKey:"real",iconClass:["iconfont","icon-borderstyle"],classList:["width-4"]}},colorPicker:{color:"#ff8080",flat:!1,flexLeft:0,flexTop:30,isTransparent:!0,user:"background"}}},computed:Object(o.a)({lastStyle:function(){return t.extend(!0,{},this.reportSetting,this.getData&&this.getData.style)}},Object(s.d)({colorPickerOpt:function(t){return t.colorPickerOpt},colorPickerSelected:function(t){return t.colorPickerSelected}})),mounted:function(){this.changeCurrentStatus()},watch:{getData:function(){this.changeCurrentStatus()},dropDownSelected:function(){if("backgroundAndBorder"===this.dropDownUser){var t=this.dropDownSelected;this.getListItem(t),this.hideDropDownPublic(),this.currentOpen=""}},colorPickerSelected:function(){this.currentOpen&&"background"===this.colorPickerOpt.user&&this.getColor(this.colorPickerSelected)},dropDownOpt:function(){!this.dropDownOpt.isShow&&this.dropDownUser&&(this.dropDownUser="",this.currentOpen="")},colorPickerOpt:function(){var t=this;!this.colorPickerOpt.flat&&this.currentOpen&&this.$nextTick((function(){t.currentOpen=""}))}},methods:Object(o.a)(Object(o.a)({},Object(s.b)({drawChangeSelectedData:"drawChangeSelectedData",showColorPickerPublic:"showColorPicker",hideColorPickerPublic:"hideColorPicker"})),{},{hideDetailToggle:function(){this.hide=!this.hide},setCurrentType:function(t){this.disables.includes(t)||(this.currentType=t)},changeData:function(t){if(t){this.changeCurrentStatus(t);var e=t.v,a=t.finalMsg,o=t.hex;a?this.drawChangeSelectedData({style:Object(i.a)({},e,a)}):o&&this.drawChangeSelectedData({style:Object(i.a)({},e,o)})}},changeCurrentStatus:function(t){if(t){var e=t.v,a=t.finalMsg,i=this.defaults[e];if(i)if("string"==typeof i.currentStatus)i.currentStatus=a;else if(Number.isInteger(i.currentStatus))for(var o=0;o<i.dataSource.length;o++)i.dataSource[o].real===a&&(i.currentStatus=o)}else{var s=this.lastStyle;for(var n in s){var r=this.defaults[n];if(r)if("string"==typeof r.currentStatus)r.currentStatus=s[n];else if(Number.isInteger(r.currentStatus))for(var l=0;l<r.dataSource.length;l++)r.dataSource[l].real===s[n]&&(r.currentStatus=l)}}},useColor:function(t){var e=t.target;if(this.currentType){var a=this.currentType.v;this.currentOpen===a?(this.hideColorPickerPublic(),this.currentOpen=""):(this.colorPicker.color=this.defaults[a].currentStatus,this.colorPicker.flat=!0,this.colorPicker.el=e,this.colorPicker.isTransparent="foreColor"!==a,this.currentOpen=a,this.showColorPickerPublic(this.colorPicker))}},getColor:function(t){if(this.currentType){var e=this.currentType.v,a=t.hex;this.changeData({v:e,hex:a,type:"style"}),this.defaults[e].currentStatus=a}},showListPlugin:function(t,e){var a=t.v;this.disables.includes(a)||a.indexOf("Color")>-1&&this.useColor(e)},getListItem:function(t){var e=this.currentType.v,a=t.real?t.real:t.val;this.changeData({v:e,finalMsg:a,type:"style"})}})}}).call(this,a("1157"))},bdd4:function(t,e,a){"use strict";var i=a("190c");a.n(i).a},bf16:function(t,e,a){"use strict";var i=a("8a3d");a.n(i).a},bfdd:function(t,e,a){"use strict";var i=a("878e").a,o=(a("dbdd"),a("2877")),s=Object(o.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("modal",{attrs:{properties:t.windowSetting,loadingSetting:t.loadingOpt},on:{afterClickButton:t.afterClickButton}},[a("div",{staticClass:"content",attrs:{slot:"windowBody"},on:{keydown:function(t){t.stopPropagation()}},slot:"windowBody"},[a("div",{staticClass:"errorText",domProps:{innerHTML:t._s(t.errorShowText)}}),a("div",{staticClass:"header"},[a("div",{staticClass:"titleArea"},[a("div",{staticClass:"titleName"},[t._v(t._s(t.$t("design.saveReportName")))]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentName,expression:"currentName"}],staticClass:"titleInput",class:{error:t.nameError},attrs:{type:"text",name:"reportTitle",placeholder:t.$t("design.saveReportNameHolder"),spellcheck:"false"},domProps:{value:t.currentName},on:{blur:function(e){return t.nameValidate(e.target.value)},input:function(e){e.target.composing||(t.currentName=e.target.value)}}})])]),a("div",{staticClass:"treeAera"},[a("nanoscrollerComponent",{attrs:{properties:{height:"100%",width:"100%",axis:"y"}}},[a("div",{staticClass:"treeBox"},[a("Item",{attrs:{sourceData:t.folderData,treeT:t.treeSetting,isAdd:t.addFolder},on:{chooseTreeItem:t.getTreeSelect,getDefaultData:t.getTreeDefaultData}})],1)])],1)])]),a("modal",{attrs:{properties:t.popupWindowOpt},on:{afterClickButton:t.changePopupWindowClick}})],1)}),[],!1,null,"1249ecf1",null);e.a=s.exports},c01d:function(t,e,a){"use strict";var i=a("356a");a.n(i).a},c03d:function(t,e,a){"use strict";var i=a("0c13");a.n(i).a},c107:function(t,e,a){"use strict";var i=a("410a");a.n(i).a},c44c:function(t,e,a){"use strict";var i=a("b569").a,o=(a("0b55"),a("2877")),s=Object(o.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"side"},[a("ul",{staticClass:"side-right-tabs"},[a("li",{staticClass:"tabs-item pointer is-active"},[t._v(t._s(t.$t("design.lineStyle")))])]),a("div",{staticClass:"total-text"},[a("div",{staticClass:"title-text"},[t._v(t._s(t.$t("design.multipleTitle")))])]),a("div",{staticClass:"middle"},[t._l(t.transformSetting,(function(e){return[a("div",{key:e.id,staticClass:"styles-item",class:{hideDetail:e.id&&t.hideSettingList.includes(e.id)}},[a("div",{staticClass:"style-title",on:{click:function(a){return t.switchDetailShow(e.id)}}},[a("div",{staticClass:"icon-traingle"}),a("div",{staticClass:"iconfont",class:e.icon}),a("div",{staticClass:"style-title-text"},[t._v(t._s(e.name))])]),a("div",{staticClass:"forms"},t._l(e.children,(function(e,i){return a("div",{directives:[{name:"show",rawName:"v-show",value:!e.showflag||t.getValue(e.showflag.settingName)===e.showflag.value,expression:"line.showflag ? getValue(line.showflag.settingName) === line.showflag.value : true"}],key:"line"+i,staticClass:"line",class:e.class},[e.name?a("div",{class:"line-left-"+e.nameLength},[t._v(t._s(e.name))]):t._e(),a("div",{staticClass:"line-middle"},["input"===e.showType?[t._v(" \\ "),a("div",{staticClass:"iconInput",class:e.detailClass},[e.iconClass?a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e.title?e.title:"",expression:"line.title ? line.title : ''",modifiers:{bottom:!0}}],staticClass:"iconInput-icon"},[a("span",{staticClass:"iconfont",class:e.iconClass})]):t._e(),a("input",{staticClass:"iconInput-input",attrs:{type:"text",spellcheck:"false",placeholder:e.placeholder?e.placeholder:""},domProps:{value:e.trueValue},on:{change:function(a){return t.transformData(e.settingName,a.target.value,e)}}})])]:"options-icon"===e.showType?[a("ul",{staticClass:"ul-default",class:e.detailClass},t._l(e.groups,(function(i){return a("li",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:i.title,expression:"option.title",modifiers:{bottom:!0}}],key:i.value,staticClass:"li-img-text pointer",class:{"icon-active":e.trueValue===i.value},on:{click:function(a){return t.transformData(e.settingName,i.value,e)}}},[a("span",{staticClass:"iconfont",class:i.iconClass})])})),0)]:"options-radio"===e.showType?[a("ul",{staticClass:"ul-default",class:e.detailClass},t._l(e.groups,(function(i){return a("li",{key:i.value,staticClass:"li-radio pointer",on:{click:function(a){return t.transformData(e.settingName,i.value,e)}}},[e.trueValue===i.value?a("span",{staticClass:"iconfont icon-radio-selected"}):a("span",{staticClass:"iconfont icon-radio-unselected"}),a("span",[t._v(t._s(i.text))])])})),0)]:t._e(),"colorPicker-icon"===e.showType?[a("div",{staticClass:"dropDown onlyicon pointer",class:e.detailClass,attrs:{editRole:"colorPicker"},on:{click:function(a){return a.stopPropagation(),t.showColorPicker(a,e.settingName,e.isTransparent)}}},[a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e.title?e.title:"",expression:"line.title ? line.title : ''",modifiers:{bottom:!0}}],staticClass:"dropDown-icon"},[a("span",{staticClass:"iconfont",class:e.iconClass}),a("div",{staticClass:"color-show",style:"background-color:"+e.trueValue+";"})])])]:t._e(),"dropDown-icon-input"===e.showType?[a("dropdown",{staticClass:"dropDown pointer",class:[e.detailClass],attrs:{configs:e.dropDownData,value:t.getDropDownValue(e)},on:{change:function(a){return t.getDropDownSelected(a,e)}}},[a("div",[e.iconClass?a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e.title?e.title:"",expression:"line.title ? line.title : ''",modifiers:{bottom:!0}}],staticClass:"dropDown-icon"},[a("span",{staticClass:"iconfont",class:e.iconClass})]):t._e(),a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e.showValueTitle?e.trueValue:e.iconClass?"":e.title,expression:"line.showValueTitle ? line.trueValue : !line.iconClass ? line.title : ''",modifiers:{bottom:!0}}],staticClass:"dropDown-input-box",class:[e.readonly?"dropDownShadow":""]},[a("input",{staticClass:"dropDown-true-input",class:{ellipsis:e.readonly},attrs:{type:"text",spellcheck:"false",readonly:e.readonly,unselectable:e.readonly?"on":"off",placeholder:e.placeholder?e.placeholder:""},domProps:{value:e.trueValue},on:{change:function(a){return t.transformData(e.settingName,a.target.value,e)}}})])])])]:"seekBar"===e.showType?[a("div",{staticClass:"seekBar-box",class:e.detailClass},[a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e.titleMin?e.titleMin:"",expression:"line.titleMin ? line.titleMin : ''",modifiers:{bottom:!0}}],staticClass:"seekBar-icon"},[a("span",{staticClass:"iconfont",class:e.iconClassMin})]),a("div",{staticClass:"seekBar-bar pointer",attrs:{editRole:"seekBar"},on:{mousedown:function(a){return t.seekBarStart(a,e)},mousemove:function(a){return t.seekBarMove(a,e)},mouseup:function(a){return t.seekBarEnd(a,e)},mouseleave:function(a){return t.seekBarEnd(a,e)},selectstart:function(t){t.preventDefault()}}},[a("div",{staticClass:"seekBar-line"}),a("div",{staticClass:"seekBar-button",style:{left:e.trueValue}})]),a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e.titleMax?e.titleMax:"",expression:"line.titleMax ? line.titleMax : ''",modifiers:{bottom:!0}}],staticClass:"seekBar-icon"},[a("span",{staticClass:"iconfont",class:e.iconClassMax})])])]:"button"===e.showType?[a("div",{staticClass:"buttonArea",class:e.detailClass},[e.buttonIcon?a("div",{staticClass:"buttonIcon pointer",on:{click:function(a){return t.clickButton(e.callback,e.callValue,e.settingName)}}},[a("span",{staticClass:"iconfont",class:e.buttonIcon})]):t._e(),e.buttonText?a("div",{staticClass:"buttonText pointer",on:{click:function(a){return t.clickButton(e.callback,e.callValue,e.settingName)}}},[t._v(" "+t._s(e.buttonText)+" ")]):t._e()])]:t._e()],2)])})),0)])]}))],2)])}),[],!1,null,"65f58289",null);e.a=s.exports},c47b:function(t,e,a){"use strict";a("4de4"),a("d81d"),a("b0c0");var i=a("ade3"),o={data:function(){var t=this;return{dropDownUser:"",polys:this._.filter([{name:this.$t("design.polyNull"),value:""},{name:this.$t("design.polySum"),value:"sum"},{name:this.$t("design.polyAvg"),value:"avg"},{name:this.$t("design.polyCount"),value:"count"},{name:this.$t("design.polyMax"),value:"max"},{name:this.$t("design.polyMin"),value:"min"}],(function(e){return!(!t.isPolyNull&&""===e.value)})),checkedPoly:this.isPolyNull?"":"sum",choosedColumn:{},columnDropDowns:{dataSource:[],showKey:"column_clname",idKey:"column_id"},ifEditColumn:!1,editColumnStyle:{zIndex:8,width:"135px",position:"fixed"}}},props:["columns","isPolyNull"],components:{},watch:{columns:function(t){var e=this;this.columnDropDowns.dataSource=this._.map(t,(function(t,a){var o;return""===e.checkedPoly&&(e.checkedPoly=t.poly),o={},Object(i.a)(o,e.columnDropDowns.idKey,a),Object(i.a)(o,e.columnDropDowns.showKey,t.name),Object(i.a)(o,"poly",t.poly),o})),this.choosedColumn=this.columnDropDowns.dataSource[0]},choosedColumn:function(t){this.checkedPoly=t&&t.poly?t.poly:this.isPolyNull?"":"sum"}},methods:{editColumns:function(){if(this.columns&&this._.toArray(this.columns).length>0){this.ifEditColumn=!this.ifEditColumn;var t=this._.cloneDeep(this.editColumnStyle);return t.top=event.y-10+"px",t.left=event.x-145+"px",this.editColumnStyle=t,void(this.checkedPoly=this.choosedColumn.poly)}this.$notify({group:"foo-dataexporler",title:this.$t("public.warnInfo"),text:this.$t("design.lineSelectMeasure"),type:"warn"})},onMaskClick:function(){this.checkedPoly="",this.ifEditColumn=!1},update:function(){this.choosedColumn[this.columnDropDowns.idKey]&&this.$emit("updateData",this.choosedColumn[this.columnDropDowns.idKey],this.checkedPoly)},checkPoly:function(t){t.value!==this.checkedPoly&&(this.checkedPoly=t.value,this.update())}},created:function(){var t=this,e=this.columns;e&&(this.columnDropDowns.dataSource=this._.map(e,(function(e,a){var o;return o={},Object(i.a)(o,t.columnDropDowns.idKey,a),Object(i.a)(o,t.columnDropDowns.showKey,e.name),Object(i.a)(o,"poly",e.poly),o})),this.choosedColumn=this.columnDropDowns.dataSource[0])}},s=(a("4b7f"),a("2877")),n=Object(s.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("span",{staticClass:"iconfont icon-edit edit-column-icon",on:{click:function(e){return e.stopPropagation(),t.editColumns()}}})]),t.ifEditColumn?a("div",{style:t.editColumnStyle,attrs:{id:"editColumn"}},[a("div",{staticClass:"editC-column-name"},[a("dropdown",{attrs:{configs:t.columnDropDowns},model:{value:t.choosedColumn,callback:function(e){t.choosedColumn=e},expression:"choosedColumn"}},[a("div",{staticClass:"dropDown pointer fullBorderDropDown"},[a("div",{staticClass:"dropDown-input-box"},[a("input",{staticClass:"dropDown-true-input",attrs:{type:"text",spellcheck:"false",readonly:!0},domProps:{value:t.choosedColumn[t.columnDropDowns.showKey]}})])])])],1),t._l(t.polys,(function(e,i){return a("div",{staticClass:"editC-poly-container",on:{click:function(a){return t.checkPoly(e)}}},[a("div",{staticClass:"editC-poly-check"},[a("div",{staticClass:"md-container",class:e.value===t.checkedPoly?"checked-poly":""}),a("div",{directives:[{name:"show",rawName:"v-show",value:e.value===t.checkedPoly,expression:"item.value === checkedPoly"}],staticClass:"md-on"})]),a("div",{staticClass:"editC-poly-title"},[t._v(t._s(e.name))])])}))],2):t._e(),t.ifEditColumn?a("div",{staticClass:"edit-mask",on:{click:t.onMaskClick}}):t._e()])}),[],!1,null,"122afc32",null);e.a=n.exports},c5c9:function(t,e,a){"use strict";var i=a("5bae").a,o=(a("35e6"),a("2877")),s=Object(o.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("modal",{attrs:{properties:t.windowSetting,loadingSetting:t.loadingOpt},on:{afterClickButton:t.afterClickButton}},[a("div",{staticClass:"content",attrs:{slot:"windowBody"},on:{keydown:function(t){t.stopPropagation()}},slot:"windowBody"},[a("div",{staticClass:"errorText",domProps:{innerHTML:t._s(t.errorShowText)}}),a("div",{staticClass:"header"},[a("div",{staticClass:"titleArea"},[a("div",{staticClass:"titleName"},[t._v(t._s(t.$t("design.saveTempName")))]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentName,expression:"currentName"}],staticClass:"titleInput",class:{error:t.nameError},attrs:{type:"text",name:"reportTitle",placeholder:t.$t("design.saveTempNameHolder"),spellcheck:"false"},domProps:{value:t.currentName},on:{blur:function(e){return t.nameValidate(e.target.value)},input:function(e){e.target.composing||(t.currentName=e.target.value)}}})])]),a("div",{staticClass:"treeAera"},[a("nanoscrollerComponent",{attrs:{properties:{height:"100%",width:"100%",axis:"y"}}},[a("div",{staticClass:"treeBox"},[a("Item",{attrs:{sourceData:t.folderData,treeT:t.treeSetting,isAdd:t.addFolder,canNodeSelect:t.canNodeSelect},on:{chooseTreeItem:t.getTreeSelect,getDefaultData:t.getTreeDefaultData}})],1)])],1)])]),a("modal",{attrs:{properties:t.popupWindowOpt},on:{afterClickButton:t.changePopupWindowClick}})],1)}),[],!1,null,"5e9f1b07",null);e.a=s.exports},c879:function(t,e,a){"use strict";var i=a("4407");a.n(i).a},c92c:function(t,e,a){},c97e:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAewAAAFPCAYAAACPov0gAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABsdJREFUeNrs3H9LGmEAwPGznxQZhRCxFgQDB73/d7K/FgwCN9YGsZZDsVbuebZHiKZunneeZ58PPFAs765H83uPnmsMh8OsRlppFK0fRicDgGrshvEmjA9h9Mb9wFrNYn0WxnYJ2z5K2waAqqyH0U7x/ksjrLB30w+NxCBuhvGjpAOKJwknOW63E8YgrYQfCz6m/TCOw7gN4/uMt/0Zxn3O/W7PcNI0z36Alyc+j28s0fE8pufwujsscbEbm7CX5qrzbL4eYrBjzZse2wCwtLrjVtjxzOE0nZ11Cj4j2knbvk5j2cyy4s3SvB2nr/PM1bT9zbttwAo77wp7kBX/SmZ8PouvZsZXMq9qOJ+j479Kv8Oi/V5hT4rFeRhbJez0Lox3K/RHEU942unrXsEnD/F+uCh4uwBVOUqLtrq6rHKx2ZhylXgM0UEJ+7xZwQDFuXpdwnY/ijWwYg6yCRdVLble6ldlGjX7WBcAvEhrpgAABBsAEGwAeBmeX/IfP4/dNi0AULn4KaGuFTYA1HiF/VT8rNmdKQKAhYn//0krT7C75g4AFqY5KdheEgeAGhBsABBsAECwAUCwAQDBBgAEGwAEGwAQbABAsAFAsAEAwQYAwQYABBsAEGwAEGwAQLABAMEGAMEGAAQbABBsABBsAECwAUCwAQDBBgAEGwAEGwAQbABAsAFAsAEAwQYAwQYABBsAEGwAEGwAQLABAMEGAMEGAAQbABBsABBsAECwAUCwAQDBBgAEGwAEGwAQbABAsAFAsAEAwQYAwQYABBsAEGwAEGwAQLABAMEGAMEGAAQbABBsABBsAECwAUCwAQDBBgAEGwAEGwAQbABAsAFAsAEAwQYAwQYABBsAEGwAEGwAQLABAMEGAMEGAAQbABBsABBsAECwAUCwAQDBBgAEGwAEGwAQbABAsAFAsAEAwQYAwQYABBsAEGwAEGwAQLABAMEGAMEGAAQbABBsABBsAECwAUCwAQDBBgAEGwAEGwAQbABAsAFAsAEAwQYAwQYABBsAEGwAEGwAQLABAMEGAMEGAAQbABBsABBsAECwAUCwAQDBBgAEGwAEGwAQbABAsAFAsAEAwQYAwQYABBsAEGwAEGwAQLABAMEGAMEGAAQbABBsABBsAECwAUCwAQDBBgAEGwAEGwAQbABAsAFAsAEAwQYAwQYABBsAEGwAEGwAQLABAMEGAMEGAAQbABBsABBsAECwAUCwAQDBBgAEGwAEGwAQbABAsAFAsAEAwQYAwQYABBsAEGwAEGwAQLABAMEGAMEGAAQbABBsABBsAECwAUCwAQDBBgAEGwAEGwAQbABAsAFAsAEAwQYAwQYABBsAEGwAEGwAQLABAMEGAMEGAAQbABBsABBsAECwAUCwAQDBBgAEGwAEGwAQbABAsAFAsAEAwQYAwQYABBsAEGwAEGwAQLABAMEGAMEGAAQbABBsABBsAECwAUCwAQDBBgAEGwAEGwAQbABAsAFAsAEAwQYAwQYABBsAEGwAEGwAQLABAMEGAMEGAAQbABBsABBsAECwAUCwAQDBBgAEGwAEGwAQbABAsAFAsAEAwQYAwTYFACDYAIBgA4BgAwCCDQAINgAINgAg2ACAYAOAYAMAgg0Agg0ACDYAINgAINgAgGADAIINAIINAAg2ACDYACDYAIBgA4BgAwCCDQAINgAINgAg2ACAYAOAYAMAgg0Agg0ACDYAINgAINgAgGADAIINAIINAAg2ACDYACDYAIBgA4BgAwCCDQAINgAINgAg2ACAYAOAYAMAgg0Agg0ACDYAINgAINgAgGADAIINAIINAAg2ACDYACDYAIBgA4BgAwCCDQAINgAINgAg2ACAYAOAYAMAZdiY8m9t0wMAVtgAQM4V9iCMz6YFACo3ePpNYzgcmhIAWHJeEgcAwQYAirCxBMewG8Z6zts2KzzubhoAqyI+Hx+FcVfwdr+E8bCCc3VQwnYnzlXV72G3wjir8R12Gca1v3FgRQLUTrEYFLzdeALwfsWifR7GTgnb7U+aqxjseVa489gP4zgdXKdmd1R8K+Ek3VnXog3U3HYYp+nrqylhfcwR89G278P4OuNt8+xvUYvNVmpXv8Dt7oXxKv3OnfT7jzzEYMczqqbHKwAsre64FfbobCiuIm/TWVFZvj07g6ijw+zfF+/dzzmPfY9VoCSb2f9fzzTPineW/YwcpSZdpR4VaS21bjvnc+ynEvu1n+Z58HyFPe6HR+9lRBdh9DymAViwuJh8m/15+7Hoi3xjqLeyGl2LNGll2EuhfvB4AaAisUHxAqybErY9yGp24fAvAQYAda6m5vaS6kAAAAAASUVORK5CYII="},ca5c:function(t,e,a){"use strict";var i=a("047d").a,o=(a("cd24"),a("2877")),s=Object(o.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:{show:t.loading},expression:"{ show: loading }"}],staticClass:"side"},[a("ul",{staticClass:"side-right-tabs"},t._l(t.tabList,(function(e,i){return a("li",{key:i+"tabList",staticClass:"tabs-item",class:{"is-active":t.nowTab!==e.type},on:{click:function(a){return t.toggleTabs(e.type)}}},[t._v(" "+t._s(t.title[e.type])+" ")])})),0),a("div",{staticClass:"total-text"},[a("div",{staticClass:"title-text"},[t._v(t._s(t.$t("design.tableEidt")))])]),a("div",{staticClass:"middle"},["style"!==t.nowTab||t.isModule?t._e():t._l(t.style.type,(function(e,i){return a("div",{key:i+"style",staticClass:"styles-item",class:{hideDetail:!t.style[e].hideSetting}},[a("div",{staticClass:"style-title",on:{click:function(a){return t.switchDetailShow({type:t.nowTab,value:e})}}},[a("div",{staticClass:"icon-traingle"}),a("i",{staticClass:"icon iconfont",class:t.subTitle[t.nowTab][e].icon}),a("div",{staticClass:"style-title-text"},[t._v(t._s(t.subTitle[t.nowTab][e].text))])]),a("div",{staticClass:"forms"},t._l(t.style[e].type,(function(i,o){return a("div",{key:o+"style1",staticClass:"form"},[t._l(i,(function(i,o){return["colorPickerComponent"==t.style[e][i].alias&&t.style[e][i].filter?a("div",{key:o+"style2",staticClass:"line",class:t.style[e][i].classList,attrs:{name:i},on:{mousedown:function(a){return t.setCurrentType({value:e,v:i,type:t.nowTab,e:a})},click:function(e){return e.stopPropagation(),t.useColor()}}},[a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:t.style[e][i].toolTip,expression:"style[value][v].toolTip",modifiers:{bottom:!0}}],staticClass:"dropDown onlyicon pointer"},[a("div",{staticClass:"dropDown-icon"},[a("i",{class:t.style[e][i].iconClass}),a("div",{staticClass:"color-show",style:{"background-color":t.currentStyle.currentStyle[e][i]}})])])]):"dropDownComponent"==t.style[e][i].alias&&t.style[e][i].filter?a("dropdown",{key:o+"style3",staticClass:"line",class:t.style[e][i].classList,attrs:{name:i,configs:t.style[e][i].dropDownData,value:t.getData.dataresource[i]||t.currentStyle.currentStyle[e][i]},on:{change:function(a){return t.dropdownChanged(a,{value:e,v:i,type:t.nowTab})}}},[a("div",{staticClass:"dropDown dropDownShadow pointer"},[a("div",{staticClass:"dropDown-icon"},[a("i",{class:t.style[e][i].iconClass})]),t.style[e][i].oparateFlag&&!t.style[e][i].dataFlag?a("input",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:t.lastOperate.currentStatus[i],expression:"lastOperate.currentStatus[v]",modifiers:{bottom:!0}}],staticClass:"dropDown-input",attrs:{readonly:"",unselectable:"on"},domProps:{value:t.lastOperate.currentStatus[i]}}):t.style[e][i].dataFlag&&t.style[e][i].oparateFlag?a("input",{staticClass:"dropDown-input",attrs:{readonly:"",unselectable:"on"},domProps:{value:t._f("showINput")(t.getData.dataresource&&t.getData.dataresource[i],t.style[e][i].dropDownData.showKey)}}):a("input",{staticClass:"dropDown-input",attrs:{readonly:"",unselectable:"on"},domProps:{value:t._f("showVal")(t.currentStyle.currentStyle[e][i],t.style[e][i])}})])]):"moduleWindowComponent"==t.style[e][i].alias&&t.style[e][i].filter?a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:t.style[e][i].toolTip,expression:"style[value][v].toolTip",modifiers:{bottom:!0}}],key:o+"style4",staticClass:"line",class:t.style[e][i].classList,attrs:{name:i},on:{mousedown:function(a){return t.setCurrentType({value:e,v:i,type:t.nowTab,e:a})},click:function(e){return t.showModule(i)}}},[a("div",{staticClass:"labelIcon"},[a("span",[t._v(t._s(t.transModuleMsg.style[i]))]),a("i",{class:t.style[e][i].iconClass})])]):"text"==t.style[e][i].alias&&t.style[e][i].filter?a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:t.style[e][i].toolTip,expression:"style[value][v].toolTip",modifiers:{bottom:!0}}],key:o+"style10",staticClass:"line",class:t.style[e][i].classList,attrs:{name:i},on:{mousedown:function(a){return t.setCurrentType({value:e,v:i,type:t.nowTab,e:a})}}},[a("div",{staticClass:"labelIcon"},[a("span",[t._v(t._s(t.showStyleMsg[i]))])])]):"treeMode"==t.style[e][i].alias&&t.style[e][i].filter?a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:t.style[e][i].toolTip,expression:"style[value][v].toolTip",modifiers:{bottom:!0}}],key:o+"style11",staticClass:"line",class:t.style[e][i].classList,attrs:{name:i},on:{mousedown:function(a){return t.setCurrentType({value:e,v:i,type:t.nowTab,e:a})},click:t.outercept}},[a("div",{key:t.style[e][i].value,staticClass:"li-radio pointer",on:{click:function(a){return t.changeTreeMode(t.style[e][i].value)}}},[t.currentStyle.currentStyle[e][t.style[e][i].key]===t.style[e][i].value?a("span",{staticClass:"iconfont icon-radio-selected"}):a("span",{staticClass:"iconfont icon-radio-unselected"}),a("span",[t._v(t._s(t.style[e][i].toolTip))])])]):"treeWidth"==t.style[e][i].alias&&t.style[e][i].filter?a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:t.style[e][i].toolTip,expression:"style[value][v].toolTip",modifiers:{bottom:!0}}],key:o+"style12",class:t.style[e][i].classList,style:"staticWidth"===t.showTreeWidth?"display : block;":"display: none;",attrs:{name:i},on:{mousedown:function(a){return t.setCurrentType({value:e,v:i,type:t.nowTab,style:t.style,e:a})}}},[a("input",{ref:"treeWidth",refInFor:!0,staticClass:"iconInput-input",staticStyle:{width:"100%",height:"30px","border-bottom":"1px solid #d5d5d5"},attrs:{type:"text",placeholder:t.$t("design.treeWidthPlaceholder")},domProps:{value:t.getData.setting&&t.getData.setting.treeMode&&t.getData.setting.treeMode.treeWidth},on:{input:function(e){return t.transformData(e.target.value)}}})]):t.style[e][i].filter&&""===t.style[e][i].alias?a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:t.style[e][i].toolTip,expression:"style[value][v].toolTip",modifiers:{bottom:!0}}],key:o+"style4",class:t.style[e][i].classList,attrs:{name:i},on:{mousedown:function(a){return t.setCurrentType({value:e,v:i,type:t.nowTab,e:a})},click:t.toggle}},[a("div",{staticClass:"checkbox checkboxAuto"},[a("span",{staticClass:"iconfont",class:[t.lastOperate.currentStatus[i]?"icon-checkbox":"icon-checkbox-no",t.style[e][i].iconClass]}),a("span",{staticStyle:{cursor:"pointer"}},[t._v(t._s(t.showStyleMsg[i]))])])]):a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:t.style[e][i].toolTip,expression:"style[value][v].toolTip",modifiers:{bottom:!0}}],key:o+"style5",staticClass:"line",class:[t.style[e][i].classList,{"icon-active":i=="align"+t.currentStyle.currentStyle[e][t.style[e][i].key]}],attrs:{name:i},on:{mousedown:function(a){return t.setCurrentType({value:e,v:i,type:t.nowTab,e:a})},click:t.outercept}},[a("span",{staticClass:"iconfont",class:t.style[e][i].iconClass})])]}))],2)})),0)])})),"data"!==t.nowTab||t.isModule?t.isModule?[a("div",{staticClass:"styles-item noBg noBorderLeft"},[a("div",{staticClass:"forms"},[a("div",{staticClass:"line width-10"},[a("div",{staticClass:"line-middle"},[a("div",{staticClass:"buttonArea dataFormatReturn",on:{click:function(e){t.isModule=!1}}},[t._m(0),a("div",{staticClass:"buttonText"},[t._v(t._s(t.$t("design.lineReturn")))])])])]),a("div",{staticClass:"line width-10"},[a("div",{staticClass:"buttonArea dataFormatAdd",on:{click:function(e){return t.addItem(t.currentType)}}},[t._m(1),a("div",{staticClass:"buttonText"},[t._v(t._s(t.$t("design.lineAdd")))])])])])]),a("div",{staticClass:"styles-item noBorderLeft"},t._l(t.moduleMsg.type,(function(e,i){return a("div",{key:i+"moduleMsg",staticClass:"forms"},[t.currentType===e?a("div",t._l(t.moduleMsg[e].reback,(function(i,o){return a("div",{key:o+"moduleMsg1",staticClass:"item",attrs:{index:o}},[a("div",{staticClass:"line width-10 textRight"},[a("div",{staticClass:"line-middle"},[a("div",{staticClass:"buttonArea dataFormatDelete"},[a("div",{staticClass:"buttonIcon",on:{click:function(a){return t.deleteItem(o,e)}}},[a("span",{staticClass:"iconfont icon-close"})])])])]),t._l(t.moduleMsg[e].type,(function(o,s){return a("div",{key:s+"moduleMsg2",staticClass:"line width-10",attrs:{name:t.currentType+"-"+o},on:{mousedown:function(a){return t.setCurrentType({value:e,v:o,type:"moduleMsg",e:a})},click:function(a){return a.stopPropagation(),t.showListPlugin(e,o,"moduleMsg")}}},[t.transModuleMsg[t.nowTab][o]?a("div",{staticClass:"line-left-5",class:"decimal"===o?"line-left-8":""},[t._v(t._s(t.transModuleMsg[t.nowTab][o]))]):t._e(),a("div",{staticClass:"line-middle"},[a("dropdown",{staticClass:"dropDown fullBorderDropDown iconMsg dropDownShadow pointer",attrs:{configs:t.moduleMsg[e][o].dropDownData},on:{change:function(a){return t.dropdownChanged(a,{value:e,v:t.dt,type:"moduleMsg"})}}},[a("input",{staticClass:"dropDown-input",attrs:{readonly:t.moduleMsg[e][o].readonly,unselectable:"on",type:"text"},domProps:{value:t._f("showModuleMsg")(i[o],t.moduleMsg[e][o].dropDownData.showKey)}})])],1)])}))],2)})),0):t._e()])})),0)]:t._e():[t._t("blockName"),t._t("typeToggle"),t._l(t.data.type,(function(e,i){return a("div",{key:i+"dataType",staticClass:"styles-item noBg",class:{hideDetail:!t.data[e].hideSetting}},[a("div",{staticClass:"style-title",on:{click:function(a){return t.switchDetailShow({type:t.nowTab,value:e})}}},[a("div",{staticClass:"icon-traingle"}),a("i",{staticClass:"icon iconfont",class:t.subTitle[t.nowTab][e].icon}),a("div",{staticClass:"style-title-text"},[t._v(t._s(t.subTitle[t.nowTab][e].text))])]),"model"!==e||t.showMode?t._e():a("excel",{staticStyle:{"margin-top":"4px"},on:{transferData:t.getModelFromExcel}}),"model"===e?a("div",{staticClass:"forms"},[a("ul",{staticClass:"code-right-tabs"},[a("ul",{staticClass:"ul-default left"},t._l(t.radioChange,(function(e){return a("li",{key:e.value,staticClass:"li-radio pointer",on:{click:function(a){return t.changeShowType(e.value)}}},[t.isStaticData===e.value?a("span",{staticClass:"iconfont icon-radio-selected",attrs:{vl:t.isStaticData+"="+e.value}}):a("span",{staticClass:"iconfont icon-radio-unselected",attrs:{vl:t.isStaticData+"="+e.value}}),a("span",[t._v(t._s(e.name))])])})),0)]),"data"===t.nowTab&&t.showMode?a("staticDataModel",{attrs:{staticDataSource:t.staticDataSource,blockType:"tree"},on:{updateData:t.updateStaticData}}):t._e()],1):t._e(),"data"!==t.nowTab||t.showMode?t._e():a("div",{staticClass:"forms"},t._l(t.data[e].type,(function(i,o){return a("div",{key:o+"datatype1",staticClass:"line width-10",staticStyle:{height:"auto"}},[t._l(i,(function(i,o){return["chooseRoot"===i?a("div",{key:o+"datatype2"},[a("ul",{staticClass:"root-tabs"},t._l(t.data[e][i],(function(e,i){return a("li",{key:i+"datavalue",staticClass:"li-tab",class:{active:e.value===t.nowIndex},on:{click:function(e){return t.toggleFolderTabs(i)}}},[t._v(" "+t._s(e.name)+" ")])})),0)]):t._e(),t.showDataMsg[i]?a("div",{key:o+"datavalue2",staticClass:"line-left-5"},[a("span",[t._v(t._s(t.showDataMsg[i]))]),t.data[e][i].edit?a("editColumn",{staticClass:"edit-column",attrs:{isPolyNull:!0,columns:t.getData.dataresource&&t.getData.dataresource.polys},on:{updateData:t.updatePolyData}}):t._e()],1):t._e(),"dropDownComponent"==t.data[e][i].alias&&t.data[e][i].filter?a("dropdown",{key:o+"datavalue3",staticClass:"line-middle",attrs:{name:i,configs:t.data[e][i].dropDownData,type:"button",value:t.getFilterValue(e,i)},on:{change:function(a){return t.dropdownChanged(a,{value:e,v:i,type:t.nowTab})}}},[a("div",{staticClass:"dropDown fullBorderDropDown iconMsg dropDownShadow pointer",on:{click:function(a){return t.showListPlugin(e,i,t.nowTab)}}},[a("input",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:t.getData.dataresource&&t.getData.dataresource[t.data[e][i].showInInput],expression:"getData.dataresource && getData.dataresource[data[value][v].showInInput]",modifiers:{bottom:!0}}],staticClass:"dropDown-input",attrs:{readonly:"",unselectable:"on"},domProps:{value:t._f("showINput")(t.getData.dataresource&&t.getData.dataresource[t.data[e][i].showInInput],t.data[e][i].dropDownData.showKey,t.data[e][i].dropDownData.placeholder)}})])]):"moduleWindowComponent"==t.data[e][i].alias&&t.data[e][i].filter?a("div",{key:o+"datavalue4",staticClass:"line-middle",attrs:{name:i,type:"button"},on:{click:function(e){return t.showModule(i)}}},[a("div",{staticClass:"buttonArea leftFiveToFormat"},[a("span",{staticClass:"buttonIcon"},[a("span",{staticClass:"iconfont",class:t.data[e][i].iconClass})])])]):t.data[e][i].filter&&""===t.data[e][i].alias?a("button",{key:o+"datavalue5",staticClass:"line-middle tableChangeCheckBox pointer",attrs:{name:i,type:"button"},on:{mousedown:function(a){return t.setCurrentType({value:e,v:i,type:t.nowTab,e:a})},click:t.toggle}},[a("span",{staticClass:"iconMsg icon-checkbox iconfont",class:t.getData.dataresource&&t.getData.dataresource[i]?"icon-checkbox":"icon-checkbox-no"})]):t._e(),t._l(t.data[e][i].type,(function(o,s){return a("div",{key:s+"datavalue6"},[t.data[e][i][o].filter&&""===t.data[e][i][o].alias?a("div",{key:s,staticClass:"line",class:t.data[e][i][o].classList,attrs:{title:i,name:i},on:{mousedown:function(a){return t.setCurrentType({value:e,v:o,type:t.nowTab,e:a})},click:function(e){return t.toggle(!1)}}},[a("div",{staticClass:"checkbox checkboxAuto"},[a("span",{staticClass:"iconfont",class:[t.getData.dataresource&&t.getData.dataresource[o]?t.data[e][i][o].range[1]:t.data[e][i][o].range[0],t.data[e][i][o].iconClass]}),a("span",[t._v(t._s(t.data[e][i][o].title))])])]):t._e(),t.data[e][i][o].filter&&"dropDownComponent"===t.data[e][i][o].alias&&t.getData.dataresource&&t.getData.dataresource[t.data[e][i][o].showflag.settingName]?a("div",{key:s,staticClass:"line",staticStyle:{display:"flex"}},[t.data[e][i][o].title?a("div",{staticClass:"line-left-5",staticStyle:{"line-height":"30px"}},[t._v(t._s(t.data[e][i][o].title)+":")]):t._e(),a("dropdown",{staticClass:"dropDown fullBorderDropDown iconMsg pointer",staticStyle:{flex:"1"},attrs:{name:i,configs:t.animationMsg[e][o].dropDownData},on:{change:function(a){return t.dropdownChanged(a,{value:e,v:o,type:"animationMsg"})}}},[a("input",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:t.getData.dataresource&&t.getData.dataresource[t.data[e][i].showInInput],expression:"getData.dataresource && getData.dataresource[data[value][v].showInInput]",modifiers:{bottom:!0}}],staticClass:"dropDown-input",staticStyle:{width:"calc(100% - 25px)"},attrs:{readonly:"",unselectable:"on"},domProps:{value:t.getData.dataresource&&t.getData.dataresource[t.data[e][i][o].showInInput]&&t.getData.dataresource[t.data[e][i][o].showInInput][t.data[e][i][o].dropDownData.showKey]},on:{mousedown:function(a){return t.setCurrentType({value:e,v:o,type:"animationMsg",e:a})},click:function(a){return a.stopPropagation(),t.showListPlugin(e,o,"animationMsg")}}})])],1):t._e()])}))]}))],2)})),0)],1)})),a("filterRule",{attrs:{filterRules:t.getData.dataresource&&t.getData.dataresource.filterRules,sourceFieldList:t.getData.cacheDataSource&&t.getData.cacheDataSource[t.nowIndex]&&t.getData.cacheDataSource[t.nowIndex].columnList},on:{updateData:t.updateFilterRules}})]],2)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"buttonIcon"},[e("span",{staticClass:"iconfont icon-left-arrow"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"buttonIcon"},[e("span",{staticClass:"iconfont icon-add-format"})])}],!1,null,"5a0649a4",null);e.a=s.exports},cc96:function(t,e,a){"use strict";(function(t,i){a("0481"),a("4160"),a("c975"),a("4069"),a("159b");var o=a("b85c"),s=a("5530"),n=a("01d0"),r=a("749b"),l=a("0767"),c=a("d30e"),d=a("7c83"),u=a("b562"),h=a("729d"),p=a("0e96"),g=a("43c3"),m=a("ca5c"),f=a("9fb4"),w=a("69c8"),v=a("e73a"),y=a("0cf2"),A=a("2589"),D=a("c44c"),S=a("18bb"),b=a("ee34"),C=a("0f3e"),x=a("ac4f"),k=a("bfdd"),T=a("c5c9"),I=a("8955"),B=a("769e"),O=a("0135"),N=a("2f62");e.a={name:"design",metaInfo:function(){return{title:this.saveasSetting.title||this.newReportName,titleTemplate:"%s › "+this.$store.state.pageController.pageNameList[this.$store.state.draw.currentPage]}},data:function(){return{fieldSetting:{title:"title",param:"param",parentId:"parent_id",rootId:"root_id",style:"style",content:"content",modelOrigin:"model_origin"},showAll:!1,loading:this.$t("public.loading"),newReportName:this.$t("design.designNewReportName"),showRight:!0,moreDataShow:!1,configs:{public:{background:{color:"",image:""},border:{color:"",weight:"",style:"",radius:""},opacity:""},type:[["new","save","saveas","publish","tempublish"],["select","refresh","undo","redo"],["line","bar","pie","radar","reportWidget","table","dataobj","moretypes"],["more"],["dropdown"],["text","image","rectangle","round","otherShapes"],["model","view"]],stretchNum:2,isToggleNum:2,select:{name:this.$t("design.designSelect"),title:this.$t("design.designSelect"),show:!0,selectRule:!0},refresh:{name:this.$t("design.designRefresh"),title:this.$t("design.designRefresh"),show:!1,selectRule:!0},undo:{name:this.$t("design.designUndo"),title:this.$t("design.designUndo"),show:!1,selectRule:!0},redo:{name:this.$t("design.designRedo"),title:this.$t("design.designRedo"),show:!1,selectRule:!0},line:{name:this.$t("design.designLine"),title:this.$t("design.designLineTitle"),show:!0,toggle:!0},crossBar:{name:this.$t("design.designCrossBar"),title:this.$t("design.designCrossBarTitle"),show:!0,toggle:!0,typeNum:4},funnel:{name:this.$t("design.designFunnel"),title:this.$t("design.designFunnelTitle"),show:!0,toggle:!0},gauge:{name:this.$t("design.designGauge"),title:this.$t("design.designGaugeTitle"),show:!0,toggle:!0},map:{name:this.$t("design.designMap"),title:this.$t("design.designMapTitle"),show:!0,toggle:!0},map3D:{name:this.$t("design.designMap"),title:this.$t("design.designMapTitle"),show:!0,toggle:!0},bar:{name:this.$t("design.designBar"),title:this.$t("design.designBarTitle"),show:!0,toggle:!0},pie:{name:this.$t("design.designPie"),title:this.$t("design.designPieTitle"),show:!0,toggle:!0},radar:{name:this.$t("design.designRadar"),title:this.$t("design.designRadarTitle"),show:!0,toggle:!0},geo:{name:this.$t("design.designGeo"),title:this.$t("design.designGeo"),show:!0,toggle:!0},table:{name:this.$t("design.designTable"),title:this.$t("design.designTable"),show:!0,toggle:!0},dataobj:{name:this.$t("design.designDataObj"),title:this.$t("design.designDataObj"),show:!0,toggle:!0},more:{name:this.$t("design.designCom"),title:this.$t("design.designCom"),show:!0,toggle:!0},moretypes:{name:this.$t("design.designMore"),title:this.$t("design.designMore"),show:!0,selectRule:!0},dropdown:{name:this.$t("design.designFilter"),title:this.$t("design.designFilter"),show:!0,toggle:!0},text:{name:this.$t("design.designText"),title:this.$t("design.designText"),show:!0,toggle:!1},image:{name:this.$t("design.designImage"),title:this.$t("design.designImage"),show:!0,toggle:!1},rectangle:{name:this.$t("design.designRectangle"),title:this.$t("design.designRectangle"),show:!0,toggle:!1},round:{name:this.$t("design.designRound"),title:this.$t("design.designRound"),show:!0,toggle:!1},otherShapes:{name:this.$t("design.designOtherShapes"),title:this.$t("design.designOtherShapes"),show:!0,toggle:!1},tree:{name:this.$t("design.designTree"),title:this.$t("design.designTree"),show:!0,toggle:!0},view:{name:this.$t("design.designView"),title:this.$t("design.designView"),show:!0,selectRule:!0},model:{name:this.$t("design.designModel"),title:this.$t("design.designModel"),show:!0,selectRule:!0},reportWidget:{name:this.$t("design.designReport"),title:this.$t("design.designReport"),show:!0,toggle:!1},save:{name:this.$t("design.designSave"),title:this.$t("design.designSave"),show:!0,selectRule:!0},saveas:{name:this.$t("design.designSaveAs"),title:this.$t("design.designSaveAs"),show:!0,selectRule:!0},publish:{name:this.$t("design.designPublish"),title:this.$t("design.designPublish"),show:!0,selectRule:!0},tempublish:{name:this.$t("design.designTemPublish"),title:this.$t("design.designTemPublish"),show:!0,selectRule:!0},new:{name:this.$t("design.designNew"),title:this.$t("design.designNew"),show:!0,selectRule:!0},report:{layout:{},primary:{background:{color:"",image:""},color:"",font:""},secondary:{background:{color:"",image:""},color:"",font:""},hasPublic:!0,priority:0},page:{background:{color:"",image:""},hasPublic:!1,priority:1}},loadingSetting:{show:!1},modelId:"",modelName:"",saveError:"",publishError:"",popupWindowUser:"",urls:{openReport:"/report",saveReport:"/report",editReport:"/report",publishReport:"/report/publish",publishTemReport:"/report/template/publish"},saveasSetting:{title:"",parent_id:"",root_id:"",style:""},publishSetting:{title:"",parent_id:"",root_id:"",style:""}}},computed:Object(s.a)(Object(s.a)({},Object(N.d)({operate:function(t){return t.toolbar.operate},drawSize:function(t){return t.draw.drawSize},dropDownOpt:function(t){return t.dropDownOpt},colorPickerOpt:function(t){return t.colorPickerOpt},showTop:function(t){return t.toolbar.stretch},selectedBlock:function(t){return t.draw.selected},paramType:function(t){return t.draw.paramType},reportStyle:function(t){return t.draw.reportStyle},popupWindowOpt:function(t){return t.popupWindowOpt},popupWindowClick:function(t){return t.popupWindowClick},paramList:function(t){return t.reportParam.paramList}})),Object(N.c)({currentParamData:"currentParamData",paramSettingWithKey:"paramSettingWithKey",paramToBlock:"paramToBlock"})),watch:{operate:function(){switch(this.operate){case"refresh":case"undo":case"redo":this.changeOperate("");break;case"view":this.preview(),this.changeOperate("");break;case"model":this.openModel(),this.changeOperate("");break;case"save":this.getData(),this.saveReport(this.saveasSetting);break;case"saveas":case"publish":case"tempublish":this.getData();break;case"moretypes":this.changeShowMore(),this.changeOperate("");break;case"new":this.changeOperate("");var t={show:!0,type:"confirm",content:this.$t("design.designNewAlert"),style:{width:"300px",height:"160px"}};this.popupWindowUser="newReport",this.showPopupWindow(t)}},popupWindowClick:function(){switch(this.popupWindowUser){case"initLoad":this.emptyDesign(),this.hidePopupWindow();break;case"publishReport":case"publishTemReport":case"saveReport":this.hidePopupWindow();break;case"newReport":"confirm"===this.popupWindowClick.type&&this.emptyDesign(),this.hidePopupWindow();break;case"authority":window.parent&&window.close(),this.hidePopupWindow()}},popupWindowOpt:function(){!this.popupWindowOpt.show&&this.popupWindowUser&&(this.popupWindowUser="")},paramSettingWithKey:function(){var t,e={},a=Object(o.a)(this.paramSettingWithKey);try{for(a.s();!(t=a.n()).done;){var i=t.value,s=this.dateCalculate(i);e[i.key]=s}}catch(t){a.e(t)}finally{a.f()}this.changeReportParamDefaultValue(e)}},components:{blockName:I.a,toolbarComponent:n.a,drawComponent:r.a,leftSidebar:B.a,lineParam:l.a,imageParam:c.a,reportWidgetParam:d.a,rectangleParam:u.a,roundParam:h.a,otherShapesParam:p.a,tableParam:g.a,treeParam:m.a,textParam:f.a,dataobjParam:w.a,moreParam:v.a,dropdownParam:y.a,pageSettingParam:A.a,multipleParam:D.a,groupParam:S.a,reportSettingParam:b.a,typeToggle:C.a,saveComponent:x.a,publishComponent:k.a,tempublishComponent:T.a,moreControlComponent:O.a},methods:Object(s.a)({toggleType:function(t){var e=this.$refs[t.oldType+"param"].getDataForToggleType(t.oldType,t.newType);this.drawToggleBlockType({id:this.selectedBlock[0],data:e,newType:t.newType})},dateCalculate:function(e){var a="";switch(e.unit){case"year":a=e.defaultValue+" years ago";break;case"quarterly":a=3*e.defaultValue+" months ago";break;case"month":a=e.defaultValue+" months ago";break;case"week":a=e.defaultValue+" weeks ago";break;case"day":a=e.defaultValue+" days ago"}var i=t(a),o="",s="",n=i.getFullYear(),r=i.getMonth()+1,l=i.getDate();switch(e.unit){case"year":o+=n,s+=n;break;case"quarterly":o=o+n+"-0"+Math.ceil(r/3),s=s+n+"0"+Math.ceil(r/3);break;case"month":o=o+n+"-"+(r<10?"0"+r:r),s+=this.dateFormat(i,e.unit,e.timeFormat);break;case"week":o=o+n+"-"+(r<10?"0"+r:r)+"-"+(l<10?"0"+l:l),s=s+n+this.getWeek(i);break;case"day":o=o+n+"-"+(r<10?"0"+r:r)+"-"+(l<10?"0"+l:l),s+=this.dateFormat(i,e.unit,e.timeFormat)}return{pickerDate:o,realDate:s}},dateFormat:function(t,e,a){var i="",o=t.getFullYear(),s=t.getMonth()<9?"0"+(t.getMonth()+1):t.getMonth()+1,n=t.getDate()<10?"0"+t.getDate():t.getDate();switch(a){case"YYYYMMDD":i=i+o+s,"day"===e&&(i+=n);break;case"YYYY-MM-DD":i=i+o+"-"+s,"day"===e&&(i=i+"-"+n);break;case"YYYY/MM/DD":i=i+o+"/"+s,"day"===e&&(i=i+"/"+n);break;case"MMDD,YYYY":i+=s,"day"===e&&(i+=n),i=i+","+o;break;case"MM-DD-YYYY":i+=s,"day"===e&&(i=i+"-"+n),i=i+"-"+o;break;case"MM/DD/YYYY":i+=s,"day"===e&&(i=i+"/"+n),i=i+"/"+o}return i},templateSelectable:function(t){return"10000000000"!==t.template_id},getWeek:function(t){var e=new Date(t.getFullYear(),0,1),a=Math.ceil(((t-e)/864e5+e.getDay()+1)/7);return a<10?"0"+a:a},emptyDesign:function(){this.modelId="",this.configs.save.show=!1,this.restoreImgState(),this.restoreReportParam(),this.controllerRestoreData(),this.drawRestoreData()},getData:function(){var t=this,e=this,a={};a.draw=i.extend(!0,{},this.$store.state.draw),this._.forEach(a.draw.blockContent,(function(a){t._.forEach(a,(function(a){t._.forEach(a,(function(t,a){"contentData"===a&&(delete t.cacheDataSource,delete t.updatedFilters),"position"===a&&(t.top=parseFloat(t.top)/e.drawSize.pageZoom+"px",t.left=parseFloat(t.left)/e.drawSize.pageZoom+"px",t.width=parseFloat(t.width)/e.drawSize.pageZoom+"px",t.height=parseFloat(t.height)/e.drawSize.pageZoom+"px")}))}))})),a.pageController=i.extend(!0,{},this.$store.state.pageController),a.image=i.extend(!0,{},this.$store.state.image),a.dataObj=i.extend(!0,{},this.$store.state.dataObj),a.reportParam=i.extend(!0,{},this.$store.state.reportParam),a.linkInfos=i.extend(!0,{},this.$store.state.linkInfos),delete a.reportParam.paramDefaultValue,delete a.reportParam.paramSelectValue;var s,n=Object(o.a)(a.draw.selected);try{for(n.s();!(s=n.n()).done;){var r=s.value;a.draw.blockContent[a.draw.currentPage][r].selected=!1}}catch(t){n.e(t)}finally{n.f()}a.draw.selected=[],window.publicVariable.preview||(window.publicVariable.preview={}),window.publicVariable.preview.param=JSON.stringify(a.reportParam.paramList),delete a.reportParam.paramList,window.publicVariable.preview.data=a},preview:function(){var t=this.$openWindowPath+"#/view";this.getData(),!window.publicVariable.preview.blank||window.publicVariable.preview.blank.closed?window.publicVariable.preview.blank=window.open(t,"_blank"):(window.publicVariable.preview.blank.close(t),window.publicVariable.preview.blank=window.open(t,"_blank"),window.publicVariable.preview.blank.location.reload())},openModel:function(){var t=this.$openWindowPath+"#/model";!window.publicVariable.modelBlank||window.publicVariable.modelBlank.closed?window.publicVariable.modelBlank=window.open(t,"_blank"):window.publicVariable.modelBlank.focus()},saveReport:function(t){var e={},a=this,i=this.urls.saveReport,o="post",s={};"save"===this.operate?(e.modelId=this.modelId,o="put",this.loadingSetting.show=!0):"saveas"===this.operate&&(this.saveError="",this.loadingSetting.show=!0),s.title=t.title,s.param=window.publicVariable.preview.param,s.parent_id=t.parent_id,s.root_id=t.root_id,s.style=t.style,s.content=window.publicVariable.preview.data,e.initParams=JSON.stringify(s),this.$http({url:i,method:o,data:e}).then((function(e){"saveas"===a.operate?(a.modelId||(a.configs.save.show=!0),a.modelId=e.data.data.model_id,a.publishSetting.title=t.title,a.publishSetting.style=t.style,a.loadingSetting.show=!1):a.loadingSetting.show=!1,a.changeOperate(""),a.saveasSetting={title:t.title,parent_id:t.parent_id,root_id:t.root_id,style:t.style};var i={show:!0,type:"alert",content:a.$t("design.designSaveSuccess")};a.popupWindowUser="saveReport",a.showPopupWindow(i)})).catch((function(t){var e=a.$t("design.designSaveFail");if(t&&t.response&&t.response.data&&(e=t.response.data.message),"saveas"===a.operate)a.saveError=e,a.loadingSetting.show=!1;else{a.loadingSetting.show=!1,a.changeOperate("");var i={show:!0,type:"alert",content:e};a.popupWindowUser="saveReport",a.showPopupWindow(i)}}))},publishReport:function(t){var e={},a=this,i={};i[this.fieldSetting.title]=t.title,i[this.fieldSetting.param]=window.publicVariable.preview.param,i[this.fieldSetting.parentId]=t.parent_id,i[this.fieldSetting.rootId]=t.root_id,this.modelId?i[this.fieldSetting.modelOrigin]=this.modelId:i[this.fieldSetting.modelOrigin]="",i[this.fieldSetting.style]="model",i[this.fieldSetting.content]=window.publicVariable.preview.data,e.initParams=JSON.stringify(i),this.publishError="",this.loadingSetting.show=!0,this.$http({url:this.urls.publishReport,method:"post",data:e}).then((function(e){var i=e.data.data;i&&(a.modelId=i.analysis_model_id,a.configs.save.show=!0),a.modelName=t.title,a.publishSetting={model_id:i.analysis_model_id,title:t.title,parent_id:t.parent_id,root_id:t.root_id,style:"model"},a.saveasSetting.title=t.title,a.loadingSetting.show=!1,a.changeOperate("");var o={show:!0,type:"alert",content:a.$t("design.designPublishSuccess")};a.popupWindowUser="publishReport",a.showPopupWindow(o)})).catch((function(t){var e=a.$t("design.designSaveFail");t&&t.response&&t.response.data&&(e=t.response.data.message),a.publishError=e,a.loadingSetting.show=!1}))},publishTemReport:function(t){var e={},a=this,i={};i[this.fieldSetting.title]=t.title,i[this.fieldSetting.param]=window.publicVariable.preview.param,i[this.fieldSetting.parentId]=t.parent_id,i[this.fieldSetting.rootId]=t.root_id,this.modelId?i[this.fieldSetting.modelOrigin]=this.modelId:i[this.fieldSetting.modelOrigin]="",i[this.fieldSetting.style]="template",i[this.fieldSetting.content]=window.publicVariable.preview.data,e.initParams=JSON.stringify(i),this.publishError="",this.loadingSetting.show=!0,this.$http({url:this.urls.publishTemReport,method:"post",data:e}).then((function(e){var i=e.data.data;i&&(a.modelId=i.analysis_model_id,a.configs.save.show=!0),a.modelName=t.title,a.publishSetting={model_id:i.publish_template_id,title:t.title,parent_id:t.parent_id,root_id:t.root_id,style:"template"},a.saveasSetting.title=t.title,a.loadingSetting.show=!1,a.changeOperate("");var o={show:!0,type:"alert",content:a.$t("design.designPublishSuccess")};a.popupWindowUser="publishTemReport",a.showPopupWindow(o)})).catch((function(t){var e=a.$t("design.designSaveFail");t&&t.response&&t.response.data&&(e=t.response.data.message),a.publishError=e,a.loadingSetting.show=!1}))},changeShowRight:function(){this.showRight=!this.showRight,this.$refs.draw.setParentWidth()},changeShowMore:function(){this.moreDataShow=!this.moreDataShow},getMoreBool:function(t){this.moreDataShow=t},hideSomething:function(){this.dropDownOpt.isShow&&this.hideDropDown(),this.colorPickerOpt.flat&&this.hideColorPicker()},onShowSidebar:function(){this.$refs.leftSidebar.onShowSidebar()}},Object(N.b)({hideDropDown:"hideDropDown",changeDropDownSelected:"changeDropDownSelected",changeColorPickerSelected:"changeColorPickerSelected",hideColorPicker:"hideColorPicker",changeOperate:"changeOperate",drawEmptySelected:"_drawEmptySelected",drawRestoreData:"drawRestoreData",drawAddPage:"drawAddPage",drawChangeBlockLoadingState:"drawChangeBlockLoadingState",controllerRestoreData:"controllerRestoreData",restoreImgState:"restoreImgState",showPopupWindow:"showPopupWindow",hidePopupWindow:"hidePopupWindow",changePopupWindowClick:"changePopupWindowClick",restoreReportParam:"restoreReportParam",changeReportParamDefaultValue:"changeReportParamDefaultValue",modifyDataObject:"modifyDataObject",drawToggleBlockType:"drawToggleBlockType"})),created:function(){this.$route.params.id&&(this.modelId=this.$route.params.id)},mounted:function(){var t=this;if(this.showAll=!0,-1===t.$moduleRole.indexOf("model")&&(this.configs.model.show=!1),window.publicVariable={},window.onresize=function(){t.$refs.draw.setParentWidth(),t.$refs.toolbar.windowResize()},this.modelId){var e={};"template_report"===this.$route.query.template_showtype?(e.resId=this.modelId,e.type="edit",e.sourceType="TEMPLATE"):(e.resId=this.modelId,e.type="edit"),this.drawChangeBlockLoadingState({name:"design",loadState:"start"}),this.$http({url:this.urls.openReport,params:e,method:"get"}).then((function(e){var a=e.data.data;if(i.isEmptyObject(a)){var o={show:!0,type:"alert",content:t.$t("design.designNoData")};t.popupWindowUser="initLoad",t.showPopupWindow(o)}else{t.saveasSetting=a.init_params,t.publishSetting=a.init_params;var s=i.extend(!0,{},a.init_params.content);s.reportParam||(s.reportParam={}),s.reportParam.paramList=a.init_params.param?JSON.parse(a.init_params.param):[],t.restoreReportParam(s.reportParam),t.restoreImgState(s.image),t.controllerRestoreData(s.pageController),t.drawRestoreData(s.draw)}"template_report"===t.$route.query.template_showtype&&(t.configs.save.show=!1),t.drawChangeBlockLoadingState({name:"design",loadState:"finish"})})).catch((function(e){t.drawChangeBlockLoadingState({name:"design",loadState:"error"});var a=t.$t("design.designGetDataFailed");e&&e.response&&e.response.data&&(a=e.response.data.message);var i={show:!0,type:"alert",content:a,style:{width:"300px",height:"120px"}};t.popupWindowUser="initLoad",t.showPopupWindow(i)}))}else this.configs.save.show=!1}}}).call(this,a("1625"),a("1157"))},cd24:function(t,e,a){"use strict";var i=a("d43c");a.n(i).a},ce20:function(t,e,a){"use strict";(function(t){a("7db0"),a("4160"),a("2ca0"),a("159b");var i=a("b85c"),o=a("5530"),s=a("2f62"),n=["crossBar"];e.a={name:"toolbar",props:["configs"],data:function(){return{istoggle:!1,specialGroupShowCount:0}},computed:Object(o.a)({selectRule:function(){var t,e=[],a=Object(i.a)(this.configs.type);try{for(a.s();!(t=a.n()).done;){var o,s=t.value,n=Object(i.a)(s);try{for(n.s();!(o=n.n()).done;){var r=o.value;this.configs[r].selectRule&&e.push(r)}}catch(t){n.e(t)}finally{n.f()}}}catch(t){a.e(t)}finally{a.f()}return e},showTypeList:function(){var t,e=[],a=Object(i.a)(this.configs.type);try{for(a.s();!(t=a.n()).done;){var o,s=t.value,n=[],r=Object(i.a)(s);try{for(r.s();!(o=r.n()).done;){var l=o.value;if(this.configs[l].show){var c=this.configs[l].typeNum;if(c&&c>1)for(var d=0;d<c;d++)n.push(l+(+d+1));else n.push(l)}}}catch(t){r.e(t)}finally{r.f()}e.push(n)}}catch(t){a.e(t)}finally{a.f()}return e}},Object(s.d)({currentType:function(t){return t.toolbar.currentType},stretch:function(t){return t.toolbar.stretch}})),watch:{currentType:function(){if(this.istoggle){for(var t=!0,e=this.specialGroupShowCount;e<this.showTypeList[this.configs.stretchNum].length;e++)if(this.showTypeList[this.configs.stretchNum][e]===this.currentType){t=!1;break}t&&(this.istoggle=!1)}}},methods:{tooltip:function(t,e){if(this.configs[t]&&this.configs[t][e])return this.configs[t][e];var a,o=Object(i.a)(n);try{for(o.s();!(a=o.n()).done;){var s=a.value;if(t.startsWith(s))return this.configs[s][e]}}catch(t){o.e(t)}finally{o.f()}return""},windowResize:function(){this.stretch&&this.setSpecialGroupShowCount()},onShowSidebar:function(){this.$parent.onShowSidebar()},setSpecialGroupShowCount:function(){for(var e=t(this.$el).find(".singleSpan").outerWidth(!0),a=t(this.$el).find(".tbarOrigin"),i=a.width(),o=a.children(".showTypeList").siblings(".typeBlock"),s=i,n=0;n<o.length;n++){s-=t(o[n]).outerWidth(!0)}var r=Math.floor(s/e);r<this.showTypeList[this.configs.stretchNum].length?r-=1:this.istoggle=!1,this.specialGroupShowCount=r},getType:function(t){var e=t.target.getAttribute("type"),a=e;this.selectRule.forEach((function(t){t!==e||(a="select")})),e!==a&&this.$store.dispatch("changeOperate",e),this.$store.dispatch("getType",a)},showMore:function(){this.istoggle=!this.istoggle},isStretch:function(){this.$store.dispatch("getStretch",!this.stretch),this.stretch?this.$nextTick((function(){this.setSpecialGroupShowCount()})):this.istoggle=!1}},mounted:function(){this.setSpecialGroupShowCount()}}}).call(this,a("1157"))},cebe:function(t,e,a){"use strict";(function(t){a("7db0"),a("4160"),a("caad"),a("c975"),a("fb6a"),a("b64b"),a("2532"),a("159b");var i=a("5530"),o=a("2f62");e.a={name:"imageChooseList",props:{imgListObj:{type:Object,default:function(){return{nanoMaxHeight:"110px"}}}},data:function(){return{uploadError:!1,uploadErrorField:"",uploadImgUrl:"/analysis/upload_images",readImgUrl:"/report/view",isRemImg:!1,remSrc:"",defaultSet:{nanoMaxHeight:"110px"}}},watch:{isRemImg:function(){this.clearError()}},computed:Object(i.a)(Object(i.a)({},Object(o.d)({imgUrls:function(t){return t.image.imgUrls}})),{},{imagelistSet:function(){return t.extend(!0,{},this.defaultSet,this.imgListObj)}}),methods:Object(i.a)(Object(i.a)({},Object(o.b)({addUrl:"addUrl",delUrl:"delUrl"})),{},{changeRemOrLocal:function(){this.isRemImg=!this.isRemImg},okRemUrl:function(){var t=this.remSrc.slice(0,11);this.remSrc&&/.jpg|.JPG|.jpeg|.JPEG|.gif|.GIF|.png|.PNG|.svg|.SVG/.test(this.remSrc)&&"data:image/"!==t?(this.addUrl({url:this.remSrc,isLocal:!1}),this.remSrc=""):(this.remSrc="",this.uploadError=!0,this.uploadErrorField=this.$t("design.imageTrueUrl"))},selectImg:function(){var e=this;this.clearError();var a=this,i=t(this.$el).find("#imgLocal")[0].files[0];if(i&&i.type.includes("image/")&&i.size/1024<5e3){var o="";Object.keys(this.$route.query).forEach((function(t){-1!==t.indexOf("semf_")&&(o=o+(""===o?"?":"&")+t+"="+e.$route.query[t])}));var s=new FormData;s.append("file",i),this.$http.post(a.uploadImgUrl,s,{method:"post",headers:{"Content-Type":"multipart/form-data"}}).then((function(t){t.data.data&&t.data.data.imgflag&&e.addUrl({url:a.readImgUrl+"/"+t.data.data.imgflag+o,isLocal:!0})})).catch((function(t){t&&t.response&&t.response.data&&e.catchError(t.response.data)}))}else i?i.type.includes("image/")?i.size/1024>=5e3&&this.sizeError():this.typeError():this.emptyError()},emptyError:function(){this.uploadError=!0,this.uploadErrorField=this.$t("design.imageNotEmpty")},typeError:function(){this.uploadError=!0,this.uploadErrorField=this.$t("design.imageWrongType")},sizeError:function(){this.uploadError=!0,this.uploadErrorField=this.$t("design.imageWrongSize")},catchError:function(t){this.uploadError=!0,this.uploadErrorField=t.data.message},delPre:function(t){this.delUrl(t)},clearRemUrl:function(){this.remSrc=""},selectedImg:function(t){this.$emit("selectImageData",{urlChoosed:t})},clearError:function(){this.uploadError=!1,this.uploadErrorField=""}})}}).call(this,a("1157"))},cfd7:function(t,e,a){"use strict";var i=a("372d");a.n(i).a},d163:function(t,e,a){"use strict";(function(t){a("0481"),a("caad"),a("c975"),a("fb6a"),a("a434"),a("4069"),a("ac1f"),a("2532"),a("5319"),a("1276");var i=a("53ca"),o=a("b85c"),s=a("5530"),n=a("8a15"),r=a("2f62");e.a={name:"pageSetting",props:["getData","reportSetting"],components:{imgList:n.a},data:function(){return{settingContents:[{name:this.$t("design.pageBgColor"),id:"bgColor",icon:"icon-report-page",children:[{showType:"colorPicker-icon",title:this.$t("design.reportBackground"),settingName:"backgroundColor",class:"width-2",iconClass:"icon-bgcolor",isTransparent:!0}]},{name:this.$t("design.reportPageImage"),id:"reportPageBackgroundImage",icon:"icon-background-image",children:[{showType:"component",class:"width-10 heightAuto",component:"imgList",bindObj:{imgListObj:{nanoMaxHeight:"120px"}},onObj:{selectImageData:this.selectBackgroundImage}},{showType:"options-icon",settingName:"backgroundSize",class:"width-10",detailClass:"averageCenter dividingLine",changeCall:"backgroundSizeChange",groups:[{title:this.$t("design.reportPageImageFull"),value:"100% 100%",iconClass:"icon-full-size"},{title:this.$t("design.reportPageImageAuto"),value:"auto",iconClass:"icon-origin-size"},{title:this.$t("design.reportPageImageContain"),value:"contain",iconClass:"icon-suitable-size"}]},{showType:"options-icon",showflag:{settingName:"backgroundSize",value:["auto","contain"]},settingName:"backgroundRepeat",class:"width-10",detailClass:"averageCenter4 dividingLine",groups:[{title:this.$t("design.reportPageImageNoRepeat"),value:"no-repeat",iconClass:"icon-image-repeat"},{title:this.$t("design.reportPageImageRepeatX"),value:"repeat-x",iconClass:"icon-image-repeat-x"},{title:this.$t("design.reportPageImageRepeatY"),value:"repeat-y",iconClass:"icon-image-repeat-y"},{title:this.$t("design.reportPageImageRepeat"),value:"repeat",iconClass:"icon-image-no-repeat"}]},{showType:"options-icon",showflag:{settingName:"backgroundSize",value:["auto","contain"]},settingName:"backgroundPositionX",class:"width-5 horizontal",detailClass:"averageCenter",groups:[{title:this.$t("design.linePositionLeft"),value:"left",iconClass:"icon-horizontal-left"},{title:this.$t("design.linePositionCenter"),value:"center",iconClass:"icon-horizontal-center"},{title:this.$t("design.linePositionRight"),value:"right",iconClass:"icon-horizontal-right"}]},{showType:"options-icon",showflag:{settingName:"backgroundSize",value:["auto","contain"]},settingName:"backgroundPositionY",class:"width-5 horizontal",detailClass:"averageCenter borderLeft",groups:[{title:this.$t("design.linePositionTop"),value:"top",iconClass:"icon-vertical-top"},{title:this.$t("design.linePositionCenter"),value:"center",iconClass:"icon-vertical-middle"},{title:this.$t("design.linePositionBottom"),value:"bottom",iconClass:"icon-vertical-bottom"}]}]}],colorPickerOptions:{color:"#000000",flat:!1,isTransparent:!1,flexLeft:-176,flexTop:0},pickerUser:"",currentDropDown:{options:{},validate:{},user:"",relative:""},hideSettingList:[]}},computed:Object(s.a)({currentData:function(){return t.extend(!0,{},this.reportSetting,this.getData)},transformSetting:function(){var e,a=t.extend(!0,[],this.settingContents),i=Object(o.a)(a);try{for(i.s();!(e=i.n()).done;){var s,n=e.value,r=Object(o.a)(n.children);try{for(r.s();!(s=r.n()).done;){var l=s.value;switch(l.showType){case"input":l.trueValue=this.getValue(l.settingName,l.validate)+(l.unit?l.unit:"");break;case"options-icon":case"options-radio":case"colorPicker-icon":case"seekBar":l.trueValue=this.getValue(l.settingName);break;case"dropDown-icon-input":l.trueValue=this.getValue(l.settingName,l.validate,l.transformByArr?l.dropDownData:void 0)+(l.unit?l.unit:"")}}}catch(t){r.e(t)}finally{r.f()}}}catch(t){i.e(t)}finally{i.f()}return a}},Object(r.d)({dropDownOpt:function(t){return t.dropDownOpt},dropDownSelected:function(t){return t.dropDownSelected},colorPickerOpt:function(t){return t.colorPickerOpt},colorPickerSelected:function(t){return t.colorPickerSelected}})),watch:{dropDownSelected:function(){this.currentDropDown.user&&(this.getDropDownSelected(this.dropDownSelected),this.currentDropDown.dropDownData.isMultiple||this.hideDropDownPublic())},dropDownOpt:function(){!this.dropDownOpt.isShow&&this.currentDropDown.user&&(this.currentDropDown={user:""})},colorPickerSelected:function(){this.pickerUser&&this.getColor(this.colorPickerSelected)},colorPickerOpt:function(){!this.colorPickerOpt.flat&&this.pickerUser&&(this.pickerUser="")}},methods:Object(s.a)({getShowFlag:function(t){var e=this.getValue(t.settingName);return"object"===Object(i.a)(t.value)?t.value.includes(e):e===t.value},switchDetailShow:function(t){if(t){var e=this.hideSettingList.indexOf(t);e>=0?this.hideSettingList.splice(e,1):this.hideSettingList.push(t)}},validateData:function(t,e,a){var i=e;return"number"===a.type?(i=parseFloat(i),isNaN(i)?i=this.getValue(t):("number"==typeof a.min&&(i=i<a.min?a.min:i),"number"==typeof a.max&&(i=i>a.max?a.max:i),"number"==typeof a.scale&&(i*=a.scale),"string"==typeof a.unit&&(i+=a.unit))):"text"===a.type&&a.textLength&&(i=i.slice(0,a.textLength-1)),i},transformValue:function(t,e){var a=t;return"string"==typeof e.unit&&(a=a.replace(e.unit,"")),"number"==typeof e.scale&&(a=parseFloat(a)/e.scale),a},transformData:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e,o=a.validate;if(o&&(e=this.validateData(t,e,o)),e!==this.getValue(t)||i!==e){for(var s=t.split("."),n={},r=s.length-1;r>=0;r--){var l=s[r],c={};r===s.length-1?n[l]=e:(c[l]=n,n=c)}a.changeCall&&this[a.changeCall](t,e),this.drawChangePageStyle(n)}},getValue:function(t,e,a){var i,s=t.split("."),n=this.currentData,r=Object(o.a)(s);try{for(r.s();!(i=r.n()).done;){var l=i.value;if(!n){n="";break}n=n[l]}}catch(t){r.e(t)}finally{r.f()}if(n=void 0===n?"":n,e&&(n=this.transformValue(n,e)),a){var c,d=a.dropItems,u=Object(o.a)(d);try{for(u.s();!(c=u.n()).done;){var h=c.value;if(h[a.realField]===n){n=h[a.showField];break}}}catch(t){u.e(t)}finally{u.f()}}return n},showDropDown:function(e,a,i){if(this.currentDropDown.user===a)this.hideDropDownPublic();else{var o=t.extend(!0,{},i.dropDownData);o.el="dropDown"===t(e.target).attr("editRole")?e.target:t(e.target).parents('[editRole="dropDown"]')[0],o.isShow=!0;var s=this.getValue(a,i.validate);o.defaultItem=o.isMultiple?s?s.split(", "):[]:s,this.currentDropDown=t.extend(!0,{},i),this.currentDropDown.dropDownData=o,this.currentDropDown.user=a,this.showDropDownPublic(o)}},getDropDownSelected:function(t){var e=t[this.currentDropDown.dropDownData.realField];this.currentDropDown.dropDownSelectedCall&&this[this.currentDropDown.dropDownSelectedCall](t),this.transformData(this.currentDropDown.user,e,this.currentDropDown)},showColorPicker:function(e,a,i){var o={};this.pickerUser===a?this.hideColorPickerPublic():(this.pickerUser=a,o.color=this.getValue(a),o.isTransparent=i,o.flat=!0,o.el="colorPicker"===t(e.target).attr("editRole")?e.target:t(e.target).parents('[editRole="colorPicker"]')[0],this.showColorPickerPublic(o))},getColor:function(t){this.transformData(this.pickerUser,t.hex)},selectBackgroundImage:function(t){this.transformData("backgroundImage",t.urlChoosed)},backgroundSizeChange:function(t,e){"100% 100%"===e&&(this.transformData("backgroundRepeat","no-repeat"),this.transformData("backgroundPositionX","center"),this.transformData("backgroundPositionY","center"))}},Object(r.b)({drawChangePageStyle:"drawChangePageStyle",showDropDownPublic:"showDropDown",hideDropDownPublic:"hideDropDown",showColorPickerPublic:"showColorPicker",hideColorPickerPublic:"hideColorPicker"}))}}).call(this,a("1157"))},d193:function(t,e,a){t.exports=a.p+"img/box16.920a5cfe.png"},d221:function(t,e,a){"use strict";a("4160"),a("159b");var i=a("ade3");e.a={created:function(){if(this.getData[this.dataSourceKeys.key]&&this.getData[this.dataSourceKeys.key].selectedColumnList&&this.getData[this.dataSourceKeys.key].selectedColumnList.measure&&0===this._.toArray(this.getData[this.dataSourceKeys.key][this.dataSourceKeys.fields.polysKey]).length){var t,e={};this._(this.getData[this.dataSourceKeys.key].selectedColumnList.measure).forEach((function(t){e[t.column_id]={name:t.column_clname,poly:t.poly}})),this.drawChangeSelectedData((t={},Object(i.a)(t,this.dataSourceKeys.key,Object(i.a)({},this.dataSourceKeys.fields.polysKey,e)),Object(i.a)(t,this.changeDataKey,!1),t))}},methods:{updatePolyData:function(t,e){var a,o=this._.cloneDeep(this.getData[this.dataSourceKeys.key][this.dataSourceKeys.fields.polysKey]);o[t].poly=e,this.drawChangeSelectedData((a={},Object(i.a)(a,this.dataSourceKeys.key,Object(i.a)({},this.dataSourceKeys.fields.polysKey,o)),Object(i.a)(a,this.changeDataKey,!0),a))}}}},d30e:function(t,e,a){"use strict";a("c975"),a("a434");var i=a("5530"),o=a("2f62"),s=a("8a15"),n=a("eee9"),r=a("ec06"),l={name:"imageWidget",props:["getData","reportSetting"],components:{imageChooseList:s.a,backgroundAndBorder:n.a,interActive:r.a},data:function(){return{hideBlocksList:[],isRadio:void 0===this.getData.isRadio||this.getData.isRadio}},methods:Object(i.a)(Object(i.a)({},Object(o.b)({drawChangeSelectedData:"drawChangeSelectedData"})),{},{changeRadio:function(){this.isRadio=!this.isRadio,this.drawChangeSelectedData({isRadio:this.isRadio})},resetAllSetting:function(){this.drawChangeSelectedData({_imgUrl:{isLocal:!0,url:""}}),this.drawChangeSelectedData({style:this.reportSetting})},getSelectedImage:function(t){this.drawChangeSelectedData({_imgUrl:t.urlChoosed,isRadio:this.isRadio})},changeData:function(t){var e={style:t};this.drawChangeSelectedData(e)},hideDetailToggle:function(t){var e=this.hideBlocksList.indexOf(t);e>=0?this.hideBlocksList.splice(e,1):this.hideBlocksList.push(t)}})},c=(a("1b61"),a("2877")),d=Object(c.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"side"},[a("ul",{staticClass:"side-right-tabs"},[a("li",{staticClass:"tabs-item"},[t._v(t._s(t.$t("design.imageStyle")))])]),a("div",{staticClass:"total-text"},[a("div",{staticClass:"title-text"},[t._v(t._s(t.$t("design.imageTitle")))])]),a("div",{staticClass:"middle"},[t._t("blockName"),a("div",{staticClass:"styles-item",class:{hideDetail:t.hideBlocksList.includes("imageSource")}},[a("div",{staticClass:"style-title",on:{click:function(e){return e.stopPropagation(),t.hideDetailToggle("imageSource")}}},[a("div",{staticClass:"icon-traingle"}),a("i",{staticClass:"icon iconfont icon-image-source"}),a("div",{staticClass:"style-title-text"},[t._v(t._s(t.$t("design.imageSource")))])]),a("div",{staticClass:"forms"},[a("imageChooseList",{attrs:{imgListObj:{nanoMaxHeight:"110px"}},on:{selectImageData:t.getSelectedImage}}),a("div",{staticClass:"line width-10"},[a("div",{staticClass:"line-middle"},[a("div",{staticClass:"checkbox imgCheckbox",on:{click:function(e){return e.stopPropagation(),t.changeRadio(e)}}},[a("i",{directives:[{name:"show",rawName:"v-show",value:t.isRadio,expression:"isRadio"}],staticClass:"icon iconfont icon-checkbox"}),a("i",{directives:[{name:"show",rawName:"v-show",value:!t.isRadio,expression:"!isRadio"}],staticClass:"icon iconfont icon-checkbox-no"}),a("span",[t._v(t._s(t.$t("design.imageRadio")))])])])])],1)]),a("backgroundAndBorder",{attrs:{reportSetting:t.reportSetting,getData:t.getData}}),a("interActive",{attrs:{reportSetting:t.reportSetting,getData:t.getData,disables:["borderRadius"]}})],2)])}),[],!1,null,"79a29793",null);e.a=d.exports},d43c:function(t,e,a){},d7b8:function(t,e,a){},d969:function(t,e,a){"use strict";(function(t){a("4160"),a("4d63"),a("ac1f"),a("25f0"),a("159b"),a("cca6");var i=a("5530"),o=a("2f62");e.a={name:"blockName",data:function(){return{hideDetail:!1,dropDownData:{isShow:!1,defaultItem:"",showKey:"val",idKey:"real",dataSource:[{val:this.$t("design.allType"),real:"all"},{val:this.$t("design.textType"),real:"string"},{val:this.$t("design.numberType"),real:"number"}]},currentDropDown:""}},props:["ifFilter","getData"],computed:Object(i.a)(Object(i.a)(Object(i.a)({},Object(o.c)({currentBlockName:"currentBlockName",getAllBlockNamesExcept:"getAllBlockNamesExcept"})),Object(o.d)({drawSelected:function(t){return t.draw.selected}})),{},{filterParams:function(){return t.extend(!0,{},this.getData.defaultSetting,this.getData.setting)}}),methods:Object(i.a)(Object(i.a)({},Object(o.b)({drawChangeBlockName:"drawChangeBlockName",drawChangeSelectedData:"drawChangeSelectedData"})),{},{getShow:function(t){var e=this,a="";return this.dropDownData.dataSource.forEach((function(i){i[e.dropDownData.idKey]===t&&(a=i[e.dropDownData.showKey])})),a},toggleInput:function(){var t=this.filterParams&&this.filterParams.ifManual,e=Object.assign({},this._.cloneDeep(this.getData.setting),{ifManual:!t});this.changeData({setting:e})},changeData:function(t){this.drawChangeSelectedData(t)},switchDetailShow:function(){this.hideDetail=!this.hideDetail},changeName:function(t){var e=t.target.value,a=new RegExp("^[ ]+$");return!e||a.test(e)?(this.$notify({group:"foo-dataexporler",title:this.$t("public.warnInfo"),text:this.$t("design.blockNameNotEmpty"),type:"warn"}),void this.$forceUpdate()):this.getAllBlockNamesExcept()[e]?(this.$notify({group:"foo-dataexporler",title:this.$t("public.warnInfo"),text:e+":"+this.$t("design.repeatName"),type:"warn"}),void this.$forceUpdate()):void this.drawChangeBlockName({value:e})},getDropDownSelected:function(t){var e=t[this.dropDownData.idKey],a=Object.assign({},this._.cloneDeep(this.getData.setting),{dataType:e});this.changeData({setting:a}),this.changeData(a)}})}}).call(this,a("1157"))},dbdd:function(t,e,a){"use strict";var i=a("26a2");a.n(i).a},dc5a:function(t,e,a){"use strict";var i=a("8fc6");a.n(i).a},dc74:function(t,e,a){"use strict";var i=a("66ea").a,o=(a("892c"),a("2877")),s=Object(o.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"styles-item noBg filter-comp",class:[t.hideDetail?"hideDetail":""]},[a("div",{staticClass:"style-title",on:{click:t.switchDetailShow}},[a("div",{staticClass:"icon-traingle"}),a("div",{staticClass:"iconfont icon-filter"}),a("div",{staticClass:"style-title-text filter-title"},[t._v(t._s(t.$t("design.lineDatailter")))])]),a("div",{staticClass:"forms filter-form"},[a("div",{staticClass:"line add-btn"},[a("span",{staticClass:"text",on:{click:t.openDrawer}},[t._v(t._s(t.$t("design.addFilter")))])])]),a("drawer",{attrs:{placement:"bottom",visible:t.drawerVisible,title:t.$t("design.newFilter")},on:{close:t.closeDrawer}},[a("div",{staticClass:"forms filter-form"},t._l(t.showFilters,(function(e,i){return a("div",{key:i,staticClass:"filter-item"},[a("div",{staticClass:"add-or-del",on:{click:function(e){return e.stopPropagation(),t.addFilter(e)}}},[a("i",{staticClass:"iconfont icon-new-model"})]),a("div",{staticClass:"add-or-del",on:{click:function(e){return e.stopPropagation(),t.deleteFilter(i)}}},[a("i",{staticClass:"iconfont icon-rowLine"})]),i?a("div",{staticStyle:{"margin-right":"10px"}},[t._v("AND")]):t._e(),a("dropdown",{attrs:{configs:t.filterParam.sourceId.dropDownData,value:e.sourceId,iValue:e.sourceName},on:{change:function(e){return t.getDropDownSelected(e,"sourceId",i)},click:function(e){return t.showDropDown("sourceId",i)}}}),a("span",{staticClass:"text",staticStyle:{"margin-right":"10px"}},[t._v(t._s("="))]),a("dropdown",{attrs:{configs:t.filterParam.blockId.dropDownData,value:e.blockId,iValue:e.blockName},on:{change:function(e){return t.getDropDownSelected(e,"blockId",i)},click:function(e){return t.showDropDown("blockId",i)}}}),a("span",{staticClass:"text",staticStyle:{"margin-right":"10px"}},[t._v(t._s("."))]),a("dropdown",{attrs:{configs:t.filterParam.targetId.dropDownData,value:e.targetId,iValue:e.targetName},on:{change:function(e){return t.getDropDownSelected(e,"targetId",i)},click:function(e){return t.showDropDown("targetId",i)}}})],1)})),0)])],1)}),[],!1,null,"32ffd788",null);e.a=s.exports},dd2c:function(t,e,a){"use strict";var i=a("2dc5");a.n(i).a},ddfd:function(t,e,a){"use strict";var i=a("194c");a.n(i).a},df4e:function(t,e,a){},e2f4:function(t,e,a){},e42b:function(t,e,a){},e507:function(t,e,a){"use strict";a.r(e);var i=a("cc96").a,o=(a("ab39"),a("2877")),s=Object(o.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingSetting,expression:"loadingSetting"}],staticClass:"design",on:{click:t.hideSomething}},[t.showAll?a("div",{staticClass:"container",class:{notop:!t.showTop}},[a("div",{staticClass:"panel toolbar"},[a("toolbarComponent",{ref:"toolbar",attrs:{configs:t.configs}})],1),a("div",{staticClass:"panel",class:{noright:!t.showRight}},[a("div",{staticClass:"lt draw"},[a("drawComponent",{ref:"draw",attrs:{model:"edit",paramSettingWithKey:t.paramSettingWithKey}}),a("leftSidebar",{ref:"leftSidebar",attrs:{hideBar:!0,model:"edit",editId:t.modelId}}),a("moreControlComponent",{attrs:{configs:t.configs,showWindow:"moretypes"===t.operate,moreDataShow:t.moreDataShow},on:{moreBool:t.getMoreBool}})],1),a("div",{staticClass:"rt param"},[a("div",{staticClass:"l",on:{click:t.changeShowRight}},[a("span",{staticClass:"iconfont",class:[t.showRight?"icon-arrow-right":"icon-arrow-left"]})]),a("div",{staticClass:"r"},[a("nanoscrollerComponent",{attrs:{properties:{height:"100%",width:"100%",axis:"y"}},on:{onScrollStart:t.hideSomething}},[a("div",{staticClass:"box"},["pageSetting"===t.paramType?a("pageSettingParam",{attrs:{getData:t.currentParamData,reportSetting:t.reportStyle.pageStyle}}):"reportSetting"===t.paramType?a("reportSettingParam",{attrs:{getData:t.currentParamData}}):a(("line"===t.paramType||"bar"===t.paramType||"pie"===t.paramType||"radar"===t.paramType||t.paramType.startsWith("crossBar")||"funnel"===t.paramType||"gauge"===t.paramType||"map"===t.paramType||"map3D"===t.paramType?"line":t.paramType)+"Param",{ref:t.paramType+"param",tag:"component",attrs:{getData:t.currentParamData,reportSetting:t.reportStyle.blockStyle,params:t.paramToBlock,blockType:t.paramType},on:{toggleType:t.toggleType}},[a("blockName",{attrs:{slot:"blockName",ifFilter:"dropdown"===t.paramType,getData:t.currentParamData},slot:"blockName"}),a("typeToggle",{attrs:{slot:"typeToggle",configs:t.configs,blockType:t.paramType},on:{toggleType:t.toggleType},slot:"typeToggle"})],1)],1)])],1)])])]):t._e(),a("colorPicker",{ref:"colorPicker",attrs:{hideColorPicker:t.hideColorPicker,colorPicker:t.colorPickerOpt},on:{gainColor:t.changeColorPickerSelected}}),t.showAll?a("saveComponent",{attrs:{showWindow:"saveas"===t.operate,setting:t.saveasSetting,editId:t.modelId,errorText:t.saveError,loadingSetting:t.loadingSetting},on:{saveData:t.saveReport}}):t._e(),"publish"===t.operate?a("publishComponent",{attrs:{showWindow:"publish"===t.operate,setting:t.publishSetting,editId:t.modelId,errorText:t.publishError,loadingSetting:t.loadingSetting},on:{publishData:t.publishReport}}):t._e(),"tempublish"===t.operate?a("tempublishComponent",{attrs:{showWindow:"tempublish"===t.operate,setting:t.publishSetting,editId:t.modelId,errorText:t.publishError,loadingSetting:t.loadingSetting,canNodeSelect:t.templateSelectable},on:{publishTemData:t.publishTemReport}}):t._e(),a("modal",{attrs:{properties:t.popupWindowOpt},on:{afterClickButton:t.changePopupWindowClick}})],1)}),[],!1,null,"971a51d8",null);e.default=s.exports},e5ef:function(t,e,a){"use strict";(function(t){a("7db0");var i=a("5e7a"),o=a("0578");e.a={name:"leftSidebar",props:["model","editId","reportName","hideBar"],components:{pageController:i.a,layerList:o.a},data:function(){return{spread:!0,errorText:"",showSpread:!0,tabType:"page"}},directives:{focus:function(t){t.focus()}},watch:{},methods:{emptyError:function(){this.errorText=""},onSidebar:function(){this.spread=!0},onShowSidebar:function(){this.emptyError(),this.spread=!this.spread},onShowTabType:function(t){this.tabType=t},showList:function(){this.emptyError(),this.spread=!1},hideList:function(){this.emptyError(),this.spread=!0,t(this.$el).find("input").blur()}},mounted:function(){}}}).call(this,a("1157"))},e73a:function(t,e,a){"use strict";var i=a("2858").a,o=(a("dc5a"),a("2877")),s=Object(o.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"side"},[a("ul",{staticClass:"side-right-tabs"},t._l(t.tabList,(function(e){return a("li",{key:e.type,staticClass:"tabs-item pointer",class:{"is-active":t.nowTab!==e.type},on:{click:function(a){return t.toggleTabs(e.type)}}},[t._v(" "+t._s(e.name)+" ")])})),0),a("div",{staticClass:"total-text"},[a("div",{staticClass:"title-text"},[t._v(t._s(t.title.more))])]),t._l(t.transformSetting,(function(e){return a("div",{directives:[{name:"show",rawName:"v-show",value:(t.nowContent?t.nowContent:t.nowTab)===e.type,expression:"(nowContent ? nowContent : nowTab) === item.type"},{name:"loading",rawName:"v-loading",value:"data"===e.type?t.loadingSetting:{show:!1},expression:"item.type === 'data' ? loadingSetting : { show: false }"}],key:e.type,staticClass:"middle",class:e.type},["data"===e.type?a("div",{staticClass:"errorText horizontal",domProps:{innerHTML:t._s(t.errorText)}}):t._e(),"data"===e.type?t._t("blockName"):t._e(),t._l(e.children,(function(i){return["direction"===i.id&&t.showRotate||"direction"!==i.id?a("div",{key:i.id,staticClass:"styles-item",class:[i.id&&t.hideSettingList.includes(i.id)?"hideDetail":"",i.class]},[i.name?a("div",{staticClass:"style-title",on:{click:function(e){return t.switchDetailShow(i.id)}}},[a("div",{staticClass:"icon-traingle"}),a("div",{staticClass:"iconfont",class:i.icon}),a("div",{staticClass:"style-title-text"},[t._v(" "+t._s(i.name)+" "),i.isShowRefresh?a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:t.$t("design.designRefresh"),expression:"$t('design.designRefresh')",modifiers:{bottom:!0}}],staticClass:"iconfont iconRefresh",class:i.refreshIcon,on:{click:function(e){return t.refreshClick()}}}):t._e()])]):t._e(),"data"===e.type&&i.isShowExcel?a("excel",{on:{transferData:t.getModelFromExcel}}):t._e(),a("div",{staticClass:"forms"},["data"===e.type?a("div",[a("ul",{staticClass:"root-tabs"},t._l(t.tabsParam,(function(e,o){return a("li",{key:o,staticClass:"li-tab",class:{active:o===("dataControlSource"===i.id?t.nowControlIndex:t.nowIndex)},on:{click:function(e){"dataControlSource"===i.id?t.toggleControlTabs(o):t.toggleFolderTabs(o)}}},[t._v(" "+t._s(e)+" ")])})),0)]):t._e(),t._l(i.children,(function(e,i){return a("div",{directives:[{name:"show",rawName:"v-show",value:!e.showflag||t.getValue(e.showflag.settingName)===e.showflag.value,expression:"line.showflag ? getValue(line.showflag.settingName) === line.showflag.value : true"}],key:"line"+i,staticClass:"line",class:e.class,style:e.style?e.style:{}},[e.name?a("div",{class:"line-left-"+e.nameLength,style:{position:"relative"}},[a("span",[t._v(t._s(e.name))]),e.edit?a("editColumn",{staticClass:"edit-column",attrs:{isPolyNull:!0,columns:t.getData.dataSource&&t.getData.dataSource.polys},on:{updateData:t.updatePolyData}}):t._e()],1):t._e(),a("div",{staticClass:"line-middle",style:e.style?e.style:{}},["input"===e.showType?[t._v(" \\ "),a("div",{staticClass:"iconInput",class:e.detailClass},[e.iconClass?a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e.title?e.title:"",expression:"line.title ? line.title : ''",modifiers:{bottom:!0}}],staticClass:"iconInput-icon"},[a("span",{staticClass:"iconfont",class:e.iconClass})]):t._e(),a("input",{staticClass:"iconInput-input",attrs:{type:"text",spellcheck:"false",placeholder:e.placeholder?e.placeholder:""},domProps:{value:e.trueValue},on:{change:function(a){return t.transformData(e.settingName,a.target.value,e)},input:function(e){return t.lengthLimit(e)},compositionstart:function(e){return t.lengthComposition("start",e)},compositionend:function(e){return t.lengthComposition("end",e)}}})])]:t._e(),"input-text"===e.showType?[a("div",{staticClass:"iconInput",class:e.detailClass},[e.title?a("div",{staticClass:"iconInput-text"},[t._v(t._s(e.title)+":")]):t._e(),a("input",{staticClass:"iconInput-input",attrs:{type:"text",spellcheck:"false",placeholder:e.placeholder?e.placeholder:""},domProps:{value:e.trueValue},on:{change:function(a){return t.transformData(e.settingName,a.target.value,e)}}})])]:"options-icon"===e.showType?[a("ul",{staticClass:"ul-default",class:e.detailClass},t._l(e.groups,(function(i){return a("li",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:i.title,expression:"option.title",modifiers:{bottom:!0}}],key:i.value,staticClass:"li-img-text pointer",class:{"icon-active":e.trueValue===i.value},on:{click:function(a){return t.transformData(e.settingName,i.value,e)}}},[a("span",{staticClass:"iconfont",class:i.iconClass})])})),0)]:"options-radio"===e.showType&&("position"===e.name&&t.showPosition||"position"!==e.name)?[a("ul",{staticClass:"ul-default",class:e.detailClass},t._l(e.groups,(function(i){return a("li",{key:i.value,staticClass:"li-radio pointer",on:{click:function(a){return t.transformData(e.settingName,i.value,e)}}},[e.trueValue===i.value?a("span",{staticClass:"iconfont icon-radio-selected",attrs:{vl:e.trueValue+"="+i.value}}):a("span",{staticClass:"iconfont icon-radio-unselected",attrs:{vl:e.trueValue+"="+i.value}}),a("span",[t._v(t._s(i.text))])])})),0)]:t._e(),"colorPicker-icon"===e.showType?[a("div",{staticClass:"dropDown onlyicon pointer",class:e.detailClass,attrs:{editRole:"colorPicker"},on:{click:function(a){return a.stopPropagation(),t.showColorPicker(a,e.settingName,e.isTransparent)}}},[a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e.title?e.title:"",expression:"line.title ? line.title : ''",modifiers:{bottom:!0}}],staticClass:"dropDown-icon"},[a("span",{staticClass:"iconfont",class:e.iconClass}),a("div",{staticClass:"color-show",style:"background-color:"+e.trueValue+";"})])])]:t._e(),"dropDown-icon-input"===e.showType?[a("dropdown",{staticClass:"dropDown pointer",class:[e.detailClass],attrs:{configs:e.dropDownData,value:t.getDropDownValue(e)},on:{change:t.dropdownChanged}},[a("div",{attrs:{editRole:"dropDown"},on:{click:function(a){return a.stopPropagation(),t.showDropDown(e.settingName,e)}}},[e.iconClass?a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e.title?e.title:"",expression:"line.title ? line.title : ''",modifiers:{bottom:!0}}],staticClass:"dropDown-icon"},[a("span",{staticClass:"iconfont",class:e.iconClass})]):t._e(),a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e.showValueTitle?e.trueValue:e.iconClass?"":e.title,expression:"line.showValueTitle ? line.trueValue : !line.iconClass ? line.title : ''",modifiers:{bottom:!0}}],staticClass:"dropDown-input-box",class:[e.readonly?"dropDownShadow":""]},[a("input",{staticClass:"dropDown-true-input",class:{ellipsis:e.readonly},attrs:{type:"text",spellcheck:"false",readonly:e.readonly,unselectable:e.readonly?"on":"off",placeholder:e.placeholder?e.placeholder:""},domProps:{value:e.trueValue},on:{change:function(a){return t.transformData(e.settingName,a.target.value,e)},keydown:function(t){t.stopPropagation()}}})])])])]:"seekBar"===e.showType?[a("div",{staticClass:"seekBar-box",class:e.detailClass},[a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e.titleMin?e.titleMin:"",expression:"line.titleMin ? line.titleMin : ''",modifiers:{bottom:!0}}],staticClass:"seekBar-icon"},[a("span",{staticClass:"iconfont",class:e.iconClassMin})]),a("div",{staticClass:"seekBar-bar pointer",attrs:{editRole:"seekBar"},on:{mousedown:function(a){return t.seekBarStart(a,e)},mousemove:function(a){return t.seekBarMove(a,e)},mouseup:function(a){return t.seekBarEnd(a,e)},mouseleave:function(a){return t.seekBarEnd(a,e)},selectstart:function(t){t.preventDefault()}}},[a("div",{staticClass:"seekBar-line"}),a("div",{staticClass:"seekBar-button",style:{left:e.trueValue}})]),a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e.titleMax?e.titleMax:"",expression:"line.titleMax ? line.titleMax : ''",modifiers:{bottom:!0}}],staticClass:"seekBar-icon"},[a("span",{staticClass:"iconfont",class:e.iconClassMax})])])]:"button"===e.showType?[a("div",{staticClass:"buttonArea",class:e.detailClass},[e.buttonIcon?a("div",{staticClass:"buttonIcon pointer",on:{click:function(a){return t.clickButton(e.callback,e.callValue,e.settingName)}}},[a("span",{staticClass:"iconfont",class:e.buttonIcon})]):t._e(),e.buttonText?a("div",{staticClass:"buttonText pointer",on:{click:function(a){return t.clickButton(e.callback,e.callValue,e.settingName)}}},[t._v(" "+t._s(e.buttonText)+" ")]):t._e()])]:t._e(),"options-checkbox"===e.showType?[a("div",{staticClass:"checkbox pointer",class:e.detailClass,on:{click:function(a){return t.transformData(e.settingName,!e.trueValue,e)}}},[!0===e.trueValue?a("span",{staticClass:"iconfont icon-checkbox"}):a("span",{staticClass:"iconfont icon-checkbox-no"}),a("span",[t._v(t._s(e.text))])])]:t._e()],2)])}))],2)],1):t._e()]})),"style"===e.type?a("backgroundAndBorder",{attrs:{reportSetting:t.reportSetting,getData:t.getData}}):t._e(),"data"===e.type?a("filterRule",{attrs:{filterRules:t.getData.dataSource&&t.getData.dataSource.filterRules,sourceFieldList:t.getData.cacheDataSource&&t.getData.cacheDataSource[t.nowIndex]&&t.getData.cacheDataSource[t.nowIndex].columnList},on:{updateData:t.updateFilterRules}}):t._e()],2)}))],2)}),[],!1,null,"4d59d06f",null);e.a=s.exports},ea71:function(t,e,a){},ebc4:function(t,e,a){},ec06:function(t,e,a){"use strict";a("99af"),a("4160"),a("caad"),a("d81d"),a("a9e3"),a("8ba4"),a("d3b7"),a("2532"),a("3ca3"),a("159b"),a("ddb0"),a("e260"),a("e6cf");var i=a("2909"),o=a("3835"),s=(a("96cf"),a("1da1")),n=a("5530"),r=a("ade3"),l=a("2f62"),c={name:"interActive",props:{getData:{type:Object,default:function(){}},reportSetting:{type:Object,default:function(){}},disables:{type:Array,default:function(){return[]}}},data:function(){var t,e;return{hide:!1,remSrc:"",dropDownUser:"alertAndBorder",urls:{folder:"/report/folder"},defaults:{subTitle:this.$t("design.interActive"),hideSetting:!0,type:[["behavior"],["content"]],behavior:(t={filter:!0,name:this.$t("design.interactiveBehavior"),settingName:"interActiveData.behavior",class:"width-10",detailClass:"center",isShow:!0,dataSource:[{val:"无",real:"0"},{val:"弹窗",real:"1"},{val:"跳转",real:"2"}],alias:"dropDownComponent"},Object(r.a)(t,"detailClass","fullBorderDropDown"),Object(r.a)(t,"showValueTitle",!0),Object(r.a)(t,"currentStatus","0"),Object(r.a)(t,"showKey","val"),Object(r.a)(t,"idKey","real"),Object(r.a)(t,"iconMsg",!0),t),content:(e={filter:!0,type:"tree",isSearch:!0,dataSource:[{val:"",real:""}],isShow:!1,settingName:"interActiveData.content",name:this.$t("design.interactiveContent"),detailClass:"center",alias:"dropDownComponent"},Object(r.a)(e,"detailClass","fullBorderDropDown"),Object(r.a)(e,"showValueTitle",!0),Object(r.a)(e,"currentStatus",0),Object(r.a)(e,"realStatus",""),Object(r.a)(e,"showKey","val"),Object(r.a)(e,"idKey","real"),Object(r.a)(e,"pidKey","parentId"),Object(r.a)(e,"clickNodeToExpand",!0),Object(r.a)(e,"showType","type"),Object(r.a)(e,"chooseFolder",!1),Object(r.a)(e,"class","width-10"),Object(r.a)(e,"iconMsg",!0),Object(r.a)(e,"dropDownStyle",{height:"200px"}),e)},defaultSize:{filter:!0,detailClass:"center",title:this.$t("design.windowSize"),alias:"inputComponent",currentStatus:0,isShow:!1,showKey:"val",class:"width-10",iconMsg:!0,children:[{filter:!0,title:this.$t("design.sizeWidth"),alias:"inputComponent",settingName:"interActiveData.modalWidth",key:"modalWidth",currentStatus:0,showKey:"val",iconMsg:!0,iconClass:["iconfont"],classList:["width-4"]},{filter:!0,title:this.$t("design.sizeHeight"),alias:"inputComponent",settingName:"interActiveData.modalHeight",key:"modalHeight",currentStatus:0,iconMsg:!0,showKey:"val",iconClass:["iconfont"],classList:["width-4"]}]},defaultLink:{filter:!1,title:this.$t("design.linkApi"),alias:"linkComponent",settingName:"interActiveData.links",currentStatus:"",isShow:!1,showKey:"val",idKey:"real",iconClass:["iconfont"],classList:["width-10"]}}},computed:Object(n.a)({},Object(l.d)({colorPickerOpt:function(t){return t.colorPickerOpt},blockContent:function(t){return t.draw.blockContent}})),mounted:function(){var t=this.getData.interActiveData;this.initData(t)},methods:Object(n.a)(Object(n.a)({},Object(l.b)({drawChangeinterActiveData:"drawChangeinterActiveData"})),{},{initData:function(){var t=arguments,e=this;return Object(s.a)(regeneratorRuntime.mark((function a(){var s,n,r,l,c,d,u,h,p,g,m;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.length>0&&void 0!==t[0]?t[0]:{},r=n.behavior,l=void 0===r?"":r,c=n.content,d=(void 0===c?{}:c).real,a.next=5,Promise.all([e.getFolderData("MODEL"),e.getFolderData("SHARE")]);case 5:u=a.sent,h=Object(o.a)(u,2),p=h[0],g=h[1],m=[].concat(Object(i.a)(p),Object(i.a)(g)),e.filesArray=[],(s=e.filesArray).push.apply(s,Object(i.a)(m)),l&&(e.defaults.behavior.currentStatus=l,"1"!==l&&"2"!==l||(e.defaults.content.isShow=!0),"1"===l?e.defaultSize.isShow=!0:"2"===l&&(e.defaultLink.isShow=!0)),e.linkShow(m,d),e.defaultSize.children.forEach((function(t){t.currentStatus=n[t.key]})),e.defaultLink.currentStatus=n.links;case 16:case"end":return a.stop()}}),a)})))()},linkShow:function(t,e){this.apartData(t,e)},inputFocus:function(){this.$refs.onLinkUrl.focus()},sizeInpFocus:function(t){this.$refs.sizeUrl[t].focus()},transformData:function(t,e,a){a.currentStatus=e;var i={};this._.set(i,t,e),this.drawChangeinterActiveData(i)},hideDetailToggle:function(){this.hide=!this.hide},setCurrentType:function(t){this.disables.includes(t)||(this.currentType=t)},changeData:function(t){this.changeCurrentStatus(t)},changeCurrentStatus:function(t){var e={},a={};if(t){var i=t.v,o=t.finalMsg;if(e=this.defaults[i])if("string"==typeof e.currentStatus)e.currentStatus=o;else if(Number.isInteger(e.currentStatus))for(var s=0;s<e.dataSource.length;s++)e.dataSource[s].real===o&&(e.currentStatus=s)}else{var n=this.lastStyle;for(var r in n)if(e=this.defaults[r])if("string"==typeof e.currentStatus)e.currentStatus=n[r];else if(Number.isInteger(e.currentStatus))for(var l=0;l<e.dataSource.length;l++)e.dataSource[l].real===n[r]&&(e.currentStatus=l)}if("interActiveData.behavior"===e.settingName&&"0"!==e.currentStatus){this.linkShow(this.filesArray,e.currentStatus);var c=this.defaults.content,d=c.realStatus;"1"===e.currentStatus?(this.defaultLink.isShow=!1,this.defaultSize.isShow=!0):"2"===e.currentStatus&&(this.defaultLink.isShow=!0,this.defaultSize.isShow=!1);for(var u=0;u<c.dataSource.length;u++){if(c.dataSource[u].real===d){this.defaults.content.currentStatus=u;break}u===c.dataSource.length-1&&(this.defaults.content.currentStatus=0)}}if("string"==typeof e.settingName){if("interActiveData.content"===e.settingName){var h=e.dataSource[e.currentStatus];this._.set(a,e.settingName,h)}else this._.set(a,e.settingName,e.currentStatus);this.drawChangeinterActiveData(a)}},apartData:function(t,e){var a=t.map((function(t){return Object(n.a)({val:t.share_clname||t.model_clname,real:t.share_id||t.model_id,type:"share_report"===t.share_showtype||"model_report"===t.model_type?"more_file":"folder",parentId:t.share_parentid||t.parent_id},t)}));"2"===e&&a.unshift({val:"外部链接",real:"links",type:"more_file",parentId:"0",root_id:"1000000000",pkid:"1000000000"}),this.defaults.content.dataSource=a},getFolderData:function(t){var e=this;return Object(s.a)(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.$http({url:e.urls.folder,method:"get",params:{type:t}});case 2:return i=a.sent,a.abrupt("return",i.data.data||[]);case 4:case"end":return a.stop()}}),a)})))()},getListItem:function(t,e){if(this.currentType){var a=this.currentType.v,i=t.real?t.real:t.val;if(i!==e.currentStatus){if("interActiveData.behavior"===e.settingName){var o=this.defaults.content;"links"!==o.dataSource[o.currentStatus].real&&(this.defaultLink.isShow=!1),"0"===i?(this.defaults.content.isShow=!1,this.defaultLink.isShow=!1,this.defaultSize.isShow=!1):"1"===i?(this.defaults.content.isShow=!0,this.defaultLink.isShow=!1):"2"===i&&(this.defaults.content.isShow=!0,this.defaultSize.isShow=!1)}"interActiveData.content"===e.settingName&&(this.defaults.content.realStatus=i),this.changeData({v:a,finalMsg:i})}}}})},d=(a("55a4"),a("2877")),u=Object(d.a)(c,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"styles-item",class:{hideDetail:t.hide}},[a("div",{staticClass:"style-title",on:{click:function(e){return e.stopPropagation(),t.hideDetailToggle()}}},[a("div",{staticClass:"icon-traingle"}),a("i",{staticClass:"icon iconfont icon-data-obj"}),a("div",{staticClass:"style-title-text"},[t._v(t._s(t.defaults.subTitle))])]),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.hide,expression:"!hide"}],staticClass:"forms"},[t._l(t.defaults.type,(function(e,i){return a("div",{key:i,staticClass:"line width-10"},t._l(e,(function(e,i){return a("div",{key:i},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.defaults[e].filter&&"dropDownComponent"==t.defaults[e].alias&&t.defaults[e].isShow,expression:"defaults[v].filter && defaults[v].alias == 'dropDownComponent' && defaults[v].isShow"}],staticClass:"pointer"},[a("div",{staticClass:"line-left-5",attrs:{name:e}},[a("div",[t._v(t._s(t.defaults[e].name))])]),a("div",{staticClass:"line-middle"},[a("dropdown",{attrs:{configs:t.defaults[e],value:""!==t.defaults[e].currentStatu?t.defaults[e].dataSource[t.defaults[e].currentStatus]:void 0},on:{change:function(a){return t.getListItem(a,t.defaults[e])}}},[a("div",{staticClass:"dropDown pointer fullBorderDropDown"},[a("div",{staticClass:"dropDown-input-box"},[a("input",{staticClass:"dropDown-true-input pointer",attrs:{readonly:""},domProps:{value:""!==t.defaults[e].currentStatu?t.defaults[e].dataSource[t.defaults[e].currentStatus].val:""},on:{mousedown:function(a){return t.setCurrentType({v:e,$event:a,defaults:t.defaults})}}})])])])],1)])])})),0)})),t.defaultSize.isShow&&"inputComponent"==t.defaultSize.alias?[a("div",{staticClass:"title-text pointer"},[a("div",{staticClass:"iconInput"},[a("div",{staticClass:"iconInput-text"},[t._v(t._s(t.defaultSize.title))]),t._l(t.defaultSize.children,(function(e,i){return a("div",{key:i,staticClass:"iconInput-text"},[a("div",{staticClass:"iconInput"},[a("div",{staticClass:"iconInput-icon"},[t._v(t._s(t.defaultSize.children[i].title)+"：")]),a("input",{ref:"sizeUrl",refInFor:!0,staticClass:"iconInput-input",attrs:{type:"text"},domProps:{value:e.currentStatus},on:{click:function(e){return t.sizeInpFocus(i)},change:function(a){return t.transformData(e.settingName,a.target.value,e)}}})])])}))],2)])]:t._e(),t.defaultLink.isShow&&"linkComponent"==t.defaultLink.alias?[a("div",{staticClass:"iconInput"},[a("div",{staticClass:"iconInput-text link-text"},[t._v(t._s(t.defaultLink.title)+":")]),a("input",{ref:"onLinkUrl",staticClass:"iconInput-input",attrs:{type:"text",spellcheck:"false",placeholder:t.$t("design.reportTrueUrl")},domProps:{value:t.defaultLink.currentStatus},on:{change:function(e){return t.transformData(t.defaultLink.settingName,e.target.value,t.defaultLink)},click:function(e){return t.inputFocus()}}})])]:t._e()],2)])}),[],!1,null,"b7cd74aa",null);e.a=u.exports},ecfb:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAtsAAAGXCAYAAABiApwiAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAC8tJREFUeNrs3b9vG1UAwPG7NOVHJGhUBEJhaCdGaoJUxroIMnWI+AdI1QEBiyWWbhg2psJAxVI1sCOFDXWpC2XJEDkbS6UsLUNplC4BoUrHu/QirqkNiXPP8dmfj3RyfbUv1rur9c31+ZxmWZYcte2T80vhZimBg+vObK619q5cSFeb/R5/Izu7ZdgAgGFIjzq2i9C+HpavwyKCOKjFIriX9sR2HuBXejx+PSxNwQ0AjH1sl0L7YoilZbuDAY6h2XDT6RPcu8eX4AYAJiu2hTZDCu5GuJnt8bSNENsbRg8AGLvYPmhoX0vv5bGUP659KZvr2m2TLRwPeUAvhWOhtZ/gLqK73WdzKyG6HVMAwHjE9iBntENc5RF17lGSPfohufur3Ta5XkyOP/de8spb00k6HY6Hbz/MXvtoP8EdYnux+IXtxJ5NPkweTykR3ABAvWN70Kkj+ZnM8Cp//j356+ovyR8/2W2T7ULy6uVnk2PvdpL7dx4kf79dnnu9jyklnT7B3TCtBACobWwfdo52PpXkUjbnA23s+CK988bt5MH3xd3mfoMbAGDsYtuHIYlhIV3djeoDBXfxvPw47PXByXbYTsfoAgC1iG2hzYgGdz6lZCUsp3ps9mLYjmMVABjt2BbajHhw53/X6rPZr1yHGwAY2dgW2tQhuEvPbfTY7JarlAAAIxfbQps6BXfpeWd6bNaUEgBgYFNCm3FRxHWzuNspInpHOBZ3/64RjtHlPs9b77HZ62E7jmMAYCCVntkW2oyCQ04pafYJ+Y6RBQCOLLZDxHwcbr4R2tQ9uAEARiq2S6H9ZYiXy4aVOgV38via2wAAVeseOrZLU0dy50Nsd4wrNQvuM0YKAIjg/KFie09oi21qF9zAE+/pjeLfygmj8YTvTDkDBjVwbPcIbbGN4Ib4x3K7dLeTf3i3+EbUxdL6nS9lCuvz9+nTxbpuWLcS1uX3y+G4Ur6evOAW2sAIxHaf0M69Gd6UfAkIghviHcfl99+HyePLVm4kT06JWi/Wn94TzjvXjS8uZ/lBaRuNsH5DcAttYARi+z9C21VIENwwnOO4FW6u/E9w/xiO78XicpY3y+/VPYJ7PXn6Mw2nk3/Pik+kUf6f2n6XKWVi+IbjcY1toc04BfdLyTPPv5O8fH8qSS9cyuZqE93X0nv5WcevwrJYp9dNlODe/eKmjSKg8/ut0sOW8zPWYX0+xaSxuzKsa/fYRsf15Gu1/+2ryZZPC2sZhjGLbaHNOPk0/e3U68kLd6aT9Njd5M/kdvKgNq/9/WQuOf74y19vhdhu2psAUPPYFtqMo2vpvfy4zs8QN0O0dr1uAGDosS20AQBgMFNCGwAAhhzbQhsAACLEttAGAIDD6zlnO8R2JrQBAOBwpvb5OKENAAARYvuW0AYAgAFiO/9K3mKONgAAUGVsh+V0WMQ2AABEiG0AAEBsAwCA2AYAALFtCAAAQGwDAIDYBgAAxDYAAIhtAAAQ2wAAgNgGAACxDQAAYhsAABDbAABwxLH9MCwtwwQAANXGdh7azZnNta5hAgCAamNbaAMAQIzYFtoAABAptgEAALENAAD1jO2FdLVjmAAAIEJsB+cMEwAAxIltAABAbAMAgNgGAACxDQAAiG0AABDbAAAgtgEAALENAABiGwAAxDYAACC2AQBAbAMAgNgGAADENgAAiG0AABDbAACA2AYAALENAABiGwAAENsAACC2AQBAbAMAAGIbAADENgAAiG0AAEBsAwCA2AYAALENAACIbQAAENsAACC2AQAAsQ0AAGIbAADENgAAILYBAEBsAwAAYhsAAMQ2AACIbQAAQGwDAIDYBgAAsQ0AAIhtAAAQ2wAAILYBAACxDQAAYhsAAMQ2AAAgtgEAQGwDAIDYBgAAxDYAAIhtAAAQ2wAAgNgGAACxDQAAkxDbtwwTAABEiO0b2dmmYQIAgAixDQAAiG0AAKhXbC+kq03DBAAAEWI7uGmYAAAgTmwDAACRYtul/wAAIEZsu/QfAABEim0AAEBsAwCA2AYAALENAACIbQAAENsAACC2AQAAsQ0AAGIbAADENgAAILYBAEBsAwCA2AYAAMQ2AACIbQAAENsAAIDYBgAAsQ0AAGIbAAAQ2wAAILYBAEBsAwAAYhsAAMQ2AACIbQAAQGwDAIDYBgCASY/trbB0DQUAAFQrzbLsqZXbJ+ezmc211PAAAMDgTCMBAACxDQAAYhsAABDbAAAgtgEAQGwDAABiGwAAxDYAAIhtAABAbAMAgNgGAACxDQAAiG0AABDbAAAgtgEAALENAABiGwAAxDYAACC2AQBAbAMAgNgGAADENgAAiG0AABDbAACA2AYAALENAABiGwAAENsAACC2AQBAbAMAAGIbAADENgAAiG0AAEBsAwCA2AYAALENAACIbQAAENsAACC2AQAAsQ0AAGIbAADENgAAILYBAEBsAwCA2AYAAMQ2AACIbQAAENsAAIDYBgAAsQ0AAGIbAAAQ2wAAILYBAEBsAwAAYhsAAMQ2AACIbQAAQGwDAIDYBgAAsQ0AAIhtAAAQ2wAAILYBAACxDQAAYhsAAMQ2AAAgtgEAQGwDAIDYBgAAxDYAAIhtAAAQ2wAAgNgGAACxDQAAYhsAABDbAAAgtgEAQGwDAABiGwAAxDYAAIhtAABAbAMAgNgGAACxDQAAiG0AABDbAACA2AYAALENAABiGwAAENsAACC2AQBAbAMAAGIbAADENgAAiG0AAEBsAwCA2AYAALENAACIbQAAENsAACC2AQAAsQ0AAGIbAADENgAAILYBAEBsAwCA2AYAAMQ2AACIbQAAENsAAIDYBgAAsQ0AAGIbAAAQ2wAAILYBAEBsAwAAYhsAAMQ2AACIbQAAQGwDAIDYBgAAsQ0AAIhtAAAQ2wAAILYBAACxDQAAYhsAAMQ2AAAgtgEAQGwDAIDYBgAAxDYAAIhtAAAQ2wAAQOWxvZCutg0TAABEiO3gM8MEAABxYhsAABDbAAAgtgEAQGwDAABiGwAAxDYAAIhtAABAbAMAgNgGAACxDQAAiG0AABDbAAAgtgEAALENAABiGwAAxDYAACC2AQBAbAMAgNgGAADENgAAiG0AABDbAACA2AYAALENAABiGwAAENsAACC2AQBAbAMAAGIbAADENgAAiG0AAEBsAwCA2AYAALENAACIbQAAENsAAIDYBgAAsQ0AAGIbAAAQ2wAAILYBAEBsAwAAYhsAAMQ2AACIbQAAQGwDAIDYBgAAsQ0AAIhtAAAQ2wAAILYBAACxDQAAYhsAAMQ2AAAgtgEAQGwDAIDYBgAAxDYAABxpbG+fnJ81LAAAUHFsF6HdMSwAAFBhbJdC+4xhAQCACmM7aAltAACIE9sAAIDYBgAAsQ0AAGIbAAAQ2wAAILYBAEBsAwAAYhsAAMQ2AACIbQAAQGwDAIDYBgAAxDYAAIhtAAAQ2wAAgNgGAACxDQAAYhsAABDbAAAgtgEAQGwDAABiGwAAxDYAAIhtAABAbAMAwJBju2s4AAAgQmzPbK6thJuLhgQAACqO7SK4l3eDe/vkfMPwAABARbFdCu5PwtIR3AAAMLjpXitDcF8Nob2dB7chAgCAwfS9GklxhruV/9kZbgAAqDC2S8GdM6UEAACqjO2SluAGAIAIsV2aUiK4AQCgytgW3AAAECe21xfS1WXBDQAA1cd2MywNwQ0AABXH9o3s7JbgBgCACLEtuAEAIGJsC24AAIgY24IbAAAixrbgBgCAiLEtuAEAIGJsC24AAIgY24IbAAAixrbgBgCAiLEtuAEAIGJsC24AAIgY24IbAAAixrbgBgCAiLEtuAEAIGJsC24AAIgY24IbAACxHZngBgBAbAtuAACoVJpl2dB+WAjt2Tyuw9INAb6Urwuhnd9etyv27fPwi0q7vCKMYb4Tb4X1zfDn/Jeamz3uP/U8AADGKLb7BTcAAIyjqWH/wF5TSgAAYBwN/cz2rtIZ7o2wdIcc/O0BXm/b4VIbnbCPO4YBADhqU0f1g0tnuLt2AwAA4+gfAQYAdMjQ98AdVOAAAAAASUVORK5CYII="},ede6:function(t,e,a){"use strict";var i=a("e2f4");a.n(i).a},ee34:function(t,e,a){"use strict";var i=a("43d0").a,o=(a("dd2c"),a("2877")),s=Object(o.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"side"},[a("ul",{staticClass:"side-right-tabs"},t._l(t.tabList,(function(e){return a("li",{key:e.type,staticClass:"tabs-item pointer",class:{"is-active":t.nowTab!==e.type},on:{click:function(a){return t.toggleTabs(e.type)}}},[t._v(" "+t._s(e.name)+" ")])})),0),a("div",{staticClass:"total-text"},[a("div",{staticClass:"title-text"},[t._v(t._s(t.$t("design.reportTitle")))])]),t._l(t.transformSetting,(function(e){return a("div",{directives:[{name:"show",rawName:"v-show",value:(t.nowContent?t.nowContent:t.nowTab)===e.type,expression:"(nowContent ? nowContent : nowTab) === item.type"}],key:e.type,staticClass:"middle",class:e.type},["data"===e.type?a("div",{staticClass:"errorText",domProps:{innerHTML:t._s(t.errorText)}}):t._e(),t._l(e.children,(function(e){return[a("div",{key:e.id,staticClass:"styles-item",class:[e.id&&t.hideSettingList.includes(e.id)?"hideDetail":"",e.class]},[e.name?a("div",{staticClass:"style-title",on:{click:function(a){return t.switchDetailShow(e.id)}}},[a("div",{staticClass:"icon-traingle"}),a("div",{staticClass:"iconfont",class:e.icon}),a("div",{staticClass:"style-title-text"},[t._v(t._s(e.name))])]):t._e(),a("div",{staticClass:"forms"},t._l(e.children,(function(e,i){return a("div",{directives:[{name:"show",rawName:"v-show",value:!e.showflag||t.getShowFlag(e.showflag),expression:"line.showflag ? getShowFlag(line.showflag) : true"}],key:"line"+i,class:["component"===e.showType?"":"line",e.class]},[e.name?a("div",{class:"line-left-"+e.nameLength},[t._v(t._s(e.name))]):t._e(),a("div",{class:["component"===e.showType?"":"line-middle"]},["input"===e.showType?[a("div",{staticClass:"iconInput",class:e.detailClass},[e.iconClass?a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e.title?e.title:"",expression:"line.title ? line.title : ''",modifiers:{bottom:!0}}],staticClass:"iconInput-icon"},[a("span",{staticClass:"iconfont",class:e.iconClass})]):t._e(),a("input",{staticClass:"iconInput-input",attrs:{type:"text",spellcheck:"false",placeholder:e.placeholder?e.placeholder:""},domProps:{value:e.trueValue},on:{change:function(a){return t.transformData(e.settingName,a.target.value,e)}}})])]:t._e(),"options-icon"===e.showType?[a("ul",{staticClass:"ul-default",class:e.detailClass},t._l(e.groups,(function(i){return a("li",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:i.title,expression:"option.title",modifiers:{bottom:!0}}],key:i.value,staticClass:"li-img-text pointer",class:{"icon-active":e.trueValue===i.value},style:i.liStyle,on:{click:function(a){return t.transformData(e.settingName,i.value,e)}}},[a("span",{staticClass:"iconfont",class:i.iconClass,style:e.trueValue===i.value&&"reportSetting.echartsTheme"===e.settingName?t.themeActiveStyle:""})])})),0)]:t._e(),"options-radio"===e.showType?[a("ul",{staticClass:"ul-default",class:e.detailClass},t._l(e.groups,(function(i){return a("li",{key:i.value,staticClass:"li-radio pointer",on:{click:function(a){return t.transformData(e.settingName,i.value,e)}}},[e.trueValue===i.value?a("span",{staticClass:"iconfont icon-radio-selected"}):a("span",{staticClass:"iconfont icon-radio-unselected"}),a("span",[t._v(t._s(i.text))])])})),0)]:t._e(),"options-checkbox"===e.showType?[a("div",{staticClass:"checkbox pointer",class:e.detailClass,on:{click:function(a){return t.transformData(e.settingName,!e.trueValue,e)}}},[!0===e.trueValue?a("span",{staticClass:"iconfont icon-checkbox"}):a("span",{staticClass:"iconfont icon-checkbox-no"}),a("span",[t._v(t._s(e.text))])])]:t._e(),"colorPicker-icon"===e.showType?[a("div",{staticClass:"dropDown onlyicon pointer",class:e.detailClass,attrs:{editRole:"colorPicker"},on:{click:function(a){return a.stopPropagation(),t.showColorPicker(a,e.settingName,e.isTransparent)}}},[a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e.title?e.title:"",expression:"line.title ? line.title : ''",modifiers:{bottom:!0}}],staticClass:"dropDown-icon"},[a("span",{staticClass:"iconfont",class:e.iconClass}),a("div",{staticClass:"color-show",style:"background-color:"+e.trueValue+";"})])])]:t._e(),"dropDown-icon-input"===e.showType?[a("dropdown",{staticClass:"dropDown pointer",class:[e.detailClass],attrs:{configs:e.dropDownData,value:t.getDropDownValue(e)},on:{change:t.getDropDownSelected,click:function(a){return t.showDropDown(e)}}},[a("div",[e.iconClass?a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e.title?e.title:"",expression:"line.title ? line.title : ''",modifiers:{bottom:!0}}],staticClass:"dropDown-icon"},[a("span",{staticClass:"iconfont",class:e.iconClass})]):t._e(),a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e.showValueTitle?e.trueValue:e.iconClass?"":e.title,expression:"line.showValueTitle ? line.trueValue : !line.iconClass ? line.title : ''",modifiers:{bottom:!0}}],staticClass:"dropDown-input-box",class:[e.readonly?"dropDownShadow":""]},[a("input",{staticClass:"dropDown-true-input",class:{ellipsis:e.readonly},attrs:{type:"text",spellcheck:"false",readonly:e.readonly,unselectable:e.readonly?"on":"off",placeholder:e.placeholder?e.placeholder:""},domProps:{value:e.trueValue},on:{change:function(a){return t.transformData(e.settingName,a.target.value,e)}}})])])])]:t._e(),"button"===e.showType?[a("div",{staticClass:"buttonArea",class:[e.detailClass,e.disableFlag?"disable":""]},[e.buttonIcon?a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e.title?e.title:"",expression:"line.title ? line.title : ''",modifiers:{bottom:!0}}],staticClass:"buttonIcon pointer",on:{click:function(a){return t.clickButton(e.callback,e.callValue,e.settingName,e.disableFlag)}}},[a("span",{staticClass:"iconfont",class:e.buttonIcon})]):t._e(),e.buttonText?a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e.title?e.title:"",expression:"line.title ? line.title : ''",modifiers:{bottom:!0}}],staticClass:"buttonText pointer",on:{click:function(a){return t.clickButton(e.callback,e.callValue,e.settingName,e.disableFlag)}}},[t._v(" "+t._s(e.buttonText)+" ")]):t._e()])]:t._e(),"text"===e.showType?[a("div",{staticClass:"onlyText",class:e.detailClass},[t._v(t._s(e.text))])]:t._e(),"component"===e.showType?[a(e.component,t._g(t._b({tag:"component"},"component",e.bindObj,!1),e.onObj))]:t._e()],2)])})),0)])]}))],2)}))],2)}),[],!1,null,"e47b4752",null);e.a=s.exports},ee36a:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHQAAABzCAYAAABJnyafAAAB7ElEQVR42u3Wr0oEQRzA8XuESzbBVxAMRrMYfAQNPoGCBsMV4UAQg8JhEixGBZsgV/yHCCcqilXR8zAY17Q6cC4m0S27e/NZ+MJu2fD7zAxTS9O0/tWEBqJarf/y/lVblS79CdoOH6puQCMDHVElqv8VtHF9dbek8tZ7fVsOdn8GHR4aU4lbW91q5AJtbe7shWIfYNHNzSy02kcnZ3lBM8y0/zRXNnZjH2pRTU/OrifJRxIcAmpu0LAqwo+6L73u+OhUM/bBFtnFeacTxMImywuaocIsR4vzK9s/j1yXIpciARVQAY0+oEANDaiACqiAAo1+YEAFVEAFFChQoAIqoAIKFChQARVQAQUKFKiACqiAAgUKVEAFVECBAgUqoAIqoECBAhVQARVQoECBCqiACihQoEAFVEAFFChQoAIqoAIKFChQARVQAQUKFKiACqiAAgUKVEAFVECBAgUqoAIqoECBAhVQARXQ2AMK1NCACqiACijQ6Ac2sKDjo1PN2IdXlqYnZ9fzgmaY3Zde9+K804l9mEUXDJLkI5mbWWjlBj3YP2yn/ae1ubMX+1CLKiB+O9zePNznBc1Whh1afGFDhdMynJouRS5FaeP0+FIl7unx+V+gI6pE9V9BVb2ARgL6HlBV6TLQekDVQFT7BDxijcITfQASAAAAAElFTkSuQmCC"},eee9:function(t,e,a){"use strict";var i=a("bca5").a,o=(a("a18b"),a("2877")),s=Object(o.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"styles-item",class:{hideDetail:t.hide}},[a("div",{staticClass:"style-title",on:{click:function(e){return e.stopPropagation(),t.hideDetailToggle()}}},[a("div",{staticClass:"icon-traingle"}),a("i",{staticClass:"icon iconfont icon-bgAndBorder"}),a("div",{staticClass:"style-title-text"},[t._v(t._s(t.defaults.subTitle))])]),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.hide,expression:"!hide"}],staticClass:"forms"},t._l(t.defaults.type,(function(e,i){return a("div",{key:i,staticClass:"formItem"},t._l(e,(function(e,i){return a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:t.defaults[e].toolTip,expression:"defaults[v].toolTip",modifiers:{bottom:!0}}],key:i,class:[{line:!t.defaults[e].notLine},t.defaults[e].classList]},[t.defaults[e].filter&&"dropDownComponent"==t.defaults[e].alias?a("dropdown",{attrs:{configs:t.defaults[e],value:[t.defaults[e].dataSource[t.defaults[e].currentStatus].real],disabled:t.disables.includes(e)},on:{change:t.getListItem}},[a("div",{staticClass:"dropDown",on:{mousedown:function(a){return t.setCurrentType({v:e})}}},[a("div",{staticClass:"clickShow",attrs:{name:e}},[a("div",{staticClass:"dropDown-icon"},[a("i",{class:t.defaults[e].iconClass})]),a("input",{staticClass:"dropDown-input",attrs:{readonly:""},domProps:{value:t.defaults[e].dataSource[t.defaults[e].currentStatus].val}})]),t.disables.includes(e)?a("div",{staticClass:"disableDrop"}):t._e()])]):t.defaults[e].filter&&"colorPickerComponent"==t.defaults[e].alias?a("div",{staticClass:"dropDown onlyicon",on:{mousedown:function(a){return t.setCurrentType({v:e})},click:function(a){return a.stopPropagation(),t.showListPlugin({v:e},a)}}},[a("div",{staticClass:"dropDown-icon",attrs:{name:e}},[a("i",{class:t.defaults[e].iconClass}),t.defaults[e].iconMsg?a("div",{staticClass:"color-show",style:{"background-color":t.defaults[e].currentStatus}}):t._e()]),t.disables.includes(e)?a("div",{staticClass:"disableDrop"}):t._e()]):t._e()],1)})),0)})),0)])}),[],!1,null,"278d27d2",null);e.a=s.exports},f0f3:function(t,e,a){},f444:function(t,e,a){"use strict";a("4de4"),a("caad"),a("d81d"),a("2532");var i=a("2ef0"),o=a.n(i);e.a={created:function(){},methods:{getDataForToggleType:function(t,e){var a={},i=a._dataSource,s=void 0===i?o.a.cloneDeep(this.getData[this.dataSourceKeys.key]):i,n=a._rootId,r=void 0===n?o.a.get(s,this.dataSourceKeys.fields.rootIdKey,0):n,l=a._cacheDataSource,c=void 0===l?o.a.get(this.getData,[this.cacheDataSourceKeys.key,r],[]):l,d=a._staticDataSource,u=void 0===d?o.a.cloneDeep(this.getData[this.staticDataSourceKeys.key]):d,h={cacheDataSource:{modelList:o.a.get(c,this.cacheDataSourceKeys.fields.modelListKey,[]),dimensionList:o.a.get(c,this.cacheDataSourceKeys.fields.dimensionListKey,[]),measureList:o.a.get(c,this.cacheDataSourceKeys.fields.measureListKey,[]),columnList:o.a.get(c,this.cacheDataSourceKeys.fields.columnListKey,[])},dataSource:{rootId:r,folderId:o.a.get(s,this.dataSourceKeys.fields.folderIdKey,""),modelId:o.a.get(s,this.dataSourceKeys.fields.modelIdKey,""),dimension:o.a.get(s,this.dataSourceKeys.fields.dimensionKey,[]),measure:o.a.get(s,this.dataSourceKeys.fields.measureKey,[]),dataType:o.a.get(s,this.dataSourceKeys.fields.dataTypeKey,""),polys:o.a.get(s,this.dataSourceKeys.fields.polysKey,{}),filterRules:o.a.get(s,this.dataSourceKeys.fields.filterRulesKey,[])},staticDataSource:{isStaticData:o.a.get(u,this.staticDataSourceKeys.fields.isStaticDataKey,!0)}};return 0===h.cacheDataSource.dimensionList.length&&h.cacheDataSource.columnList.length>0&&(h.cacheDataSource.dimensionList=o.a.filter(h.cacheDataSource.columnList,{analy_type:"dimension"})),0===h.cacheDataSource.measureList.length&&h.cacheDataSource.columnList.length>0&&(h.cacheDataSource.measureList=o.a.filter(h.cacheDataSource.columnList,{analy_type:"measure"})),(o.a.includes(["line","bar","pie","radar","dataobj"],t)&&"table"===e||o.a.includes(["line","bar","pie","radar","dataobj"],e)&&"table"===t)&&(h.dataSource.dimension=o.a.map(h.dataSource.dimension,(function(t){var e;return o.a.isString(t)?e=o.a.filter(h.cacheDataSource.dimensionList,{pkid:t})[0]:o.a.isObject(t)&&(e=t.pkid),e})),h.dataSource.measure=o.a.map(h.dataSource.measure,(function(t){var e;return o.a.isString(t)?(e=o.a.filter(h.cacheDataSource.measureList,{pkid:t})[0],"1"!==o.a.get(h.dataSource.polys,[t,"poly"],"1")&&"sum"!==o.a.get(h.dataSource.polys,[t,"poly"],"")||o.a.set(h.dataSource.polys,[t,"poly"],"")):o.a.isObject(t)&&(e=t.pkid,"1"!==o.a.get(h.dataSource.polys,[e,"poly"],"1")&&""!==o.a.get(h.dataSource.polys,[e,"poly"],"sum")||o.a.set(h.dataSource.polys,[e,"poly"],"sum")),e}))),h}}}},f6b0:function(t,e,a){"use strict";(function(t){a("7db0"),a("498a");var i=a("53ca"),o=a("5530"),s=a("2f62");e.a={name:"saveAs",props:{showWindow:{type:Boolean,default:!1},setting:{type:Object,default:function(){return{}}},errorText:{type:String,default:""},editId:{type:String,default:""},loadingSetting:{type:Object,default:function(){return{}}}},data:function(){return{errorShowText:"",nameError:!1,currentName:"",currentSelected:{},folderData:[],treeSetting:{id:"model_id",name:"model_clname",pId:"parent_id",defaultItem:!0,addDefField:this.$t("design.saveNewFolder"),defaultExpand:"first",type:"model_type"},addFolder:!1,folderUrl:"analysis/folder",addFolderUrl:"/analysis/folder",loadingSettingInner:{show:!1}}},watch:{errorText:function(){this.errorShowText=this.errorText},showWindow:function(){this.showWindow?(this.currentSelected={},this.editId?(this.treeSetting.defaultItem=this.setting.parent_id,this.currentName=this.setting.title+"-"+this.$t("design.saveReportCopy")):this.treeSetting.defaultItem=!0):(this.currentName="",this.errorShowText="",this.nameError=!1)}},computed:{windowSetting:function(){var t={type:"custom",head:this.$t("design.saveReportTo")};return t.show=this.showWindow,t},loadingOpt:function(){return!0===this.loadingSetting.show?this.loadingSetting:!0===this.loadingSettingInner.show?this.loadingSettingInner:{show:!1}}},methods:Object(o.a)(Object(o.a)({},Object(s.b)({changeOperate:"changeOperate"})),{},{getTreeSelect:function(t){this.errorShowText="",this.currentSelected=Object(o.a)({},t)},getTreeDefaultData:function(t){this.getTreeSelect(t)},nameValidate:function(t){return/\S/.test(t)?(this.errorShowText="",this.nameError=!1,!0):(this.errorShowText=this.$t("design.saveReportNameEmpty"),this.nameError=!0,!1)},clickAddNewFolder:function(){this.errorShowText="",t.isEmptyObject(this.currentSelected)?this.errorShowText=this.$t("design.saveSelectFolderToNew"):this.addFolder=!0},addNewFolder:function(t){var e=this,a={};if(a.type=t.parent.model_type,a.clname=t.addValue,a.parentId=t.parent.model_id,a.rootId=t.parent.root_id,!/\S/.test(t.addValue))return this.addFolder=!1,void(this.errorShowText=this.$t("design.saveFolderNameEmpty"));this.loadingSettingInner.show=!0,this.$http({url:this.addFolderUrl,data:a,method:"post"}).then((function(t){e.loadingSettingInner.show=!1,e.addFolder=!1,"object"===Object(i.a)(t.data.data)&&(e.folderData=t.data.data)})).catch((function(t){e.loadingSettingInner.show=!1,e.addFolder=!1;var a=e.$t("design.saveNewFolderError");t&&t.response&&t.response.data&&(a=t.response.data.message),e.errorShowText=a,t&&t.response&&t.response.data&&(this.popWindowOpt.type="alert",this.popWindowOpt.confirm=this.$t("dataExplore.confirm"),this.popWindowOpt.show=!0,this.popWindowOpt.head=this.$t("dataExplore.hint"),this.popWindowOpt.content=this.$t("dataExplore.existedFiles"))}))},afterClickButton:function(t){var e=t.type;"confirm"===e?this.saveData():"close"!==e&&"cancel"!==e||this.closeSaveWindow()},saveData:function(){var e=t(this.$el).find('[name="reportTitle"]').val();if(this.nameValidate(e))if(t.isEmptyObject(this.currentSelected))this.errorShowText=this.$t("design.saveSelectFolderFirst");else{var a={title:e.trim(),style:this.currentSelected.style,parent_id:this.currentSelected.model_id,root_id:this.currentSelected.root_id};this.$emit("saveData",a)}else t(this.$el).find('[name="reportTitle"]').focus()},closeSaveWindow:function(){this.changeOperate("")}}),mounted:function(){var t=this;this.loadingSettingInner.show=!0,this.$http.get(this.folderUrl).then((function(e){t.loadingSettingInner.show=!1,"object"===Object(i.a)(e.data.data)?t.folderData=e.data.data:t.errorShowText=e.data})).catch((function(e){t.loadingSettingInner.show=!1;var a=t.$t("design.saveGetFolderListFail");e&&e.response&&e.response.data&&(a=e.response.data.message),t.errorShowText=a}))}}}).call(this,a("1157"))},f71c:function(t,e,a){},f968:function(t,e,a){"use strict";(function(t){var i=a("b85c");e.a={name:"paramSelectWindow",props:["show","showParamSetting","paramValue"],data:function(){return{currentValue:{},paramName:{reportTime:"",beginTime:this.$t("design.paramWindowStartTime"),endTime:this.$t("design.paramWindowEndTime")},dataFmt:{day:"yyyy-MM-dd",week:"yyyy-MM-dd",month:"yyyy-MM",quarterly:"yyyy-MM",year:"yyyy"}}},computed:{windowOpt:function(){return{show:this.show,type:"custom",head:this.$t("design.designParamSelect"),style:{width:"480px",height:"280px"}}},dataPickerOpt:function(){var t,e={},a=Object(i.a)(this.showParamSetting);try{for(a.s();!(t=a.n()).done;){var o=t.value,s={eCont:o.key+"ParamSetting",isShowNavImg:!1,isShowWeek:"week"===o.unit,realDateFmt:this.dataFmt[o.unit],dateFmt:this.dataFmt[o.unit],alwaysUseStartDate:!0,disabledDates:"quarterly"===o.unit?["....0[5-9]","....1[0-2]"]:null,startDate:this.selectedValue[o.key].pickerDate,minDate:"endTime"===o.key?this.selectedValue.beginTime.pickerDate:"1900-01-01",maxDate:"beginTime"===o.key?this.selectedValue.endTime.pickerDate:"2099-12-31"};e[o.key]=s}}catch(t){a.e(t)}finally{a.f()}return e},selectedValue:function(){return t.extend(!0,{},this.paramValue,this.currentValue)}},methods:{selectParam:function(t){this.$emit("selectParam",t,this.currentValue)},selectValue:function(){var t=arguments.length<=0?void 0:arguments[0],e=arguments.length<=1?void 0:arguments[1],a=t.cal.getP("y","yyyy"),i=t.cal.getP("M","MM"),o=t.cal.getP("d","dd"),s="",n="";switch(e.unit){case"year":s+=a,n+=a;break;case"quarterly":s=s+a+"-"+i,n=n+a+i;break;case"month":s=s+a+"-"+i,n+=this.dateFormat(e.timeFormat,e.unit,a,i,o);break;case"week":s=s+a+"-"+i+"-"+o,n=n+a+t.cal.getP("W","WW");break;case"day":s=s+a+"-"+i+"-"+o,n+=this.dateFormat(e.timeFormat,e.unit,a,i,o)}this.$set(this.currentValue,e.key,{pickerDate:s,realDate:n})},dateFormat:function(t,e,a,i,o){var s="";switch(t){case"YYYYMMDD":s=s+a+i,"day"===e&&(s+=o);break;case"YYYY-MM-DD":s=s+a+"-"+i,"day"===e&&(s=s+"-"+o);break;case"YYYY/MM/DD":s=s+a+"/"+i,"day"===e&&(s=s+"/"+o);break;case"MMDD,YYYY":s+=i,"day"===e&&(s+=o),s=s+","+a;break;case"MM-DD-YYYY":s+=i,"day"===e&&(s=s+"-"+o),s=s+"-"+a;break;case"MM/DD/YYYY":s+=i,"day"===e&&(s=s+"/"+o),s=s+"/"+a}return s}}}}).call(this,a("1157"))},fa14:function(t,e,a){},fbd2:function(t,e,a){"use strict";(function(t){a("a9e3"),a("8ba4");var i=a("ade3"),o=a("5530"),s=a("2f62"),n=a("eee9"),r=a("6239"),l=a("ec06");e.a={props:["getData","reportSetting"],data:function(){var t={suBTitle:{shape:{text:this.$t("design.graphSubTitleShape"),icon:"icon-shape"},attribute:{text:this.$t("design.graphSubTitleAttribute"),icon:"icon-property"},style:{text:this.$t("design.graphSubTitleBox"),icon:"icon-bgAndBorder"},frame:{text:this.$t("design.graphSubTitleFrame"),icon:"icon-shape"}},graph:{}};return Object(o.a)(Object(o.a)({},t),{},{dropDownUser:"rectangle",curRotateVal:this.getData.attribute&&this.getData.attribute.rotate?this.getData.attribute.rotate:0,defaults:{type:["attribute","frame"],attribute:{subTitle:"属性",hideSetting:!0,type:[["rotate"]],rotate:{toolTip:this.$t("design.graphRotate"),filter:!0,alias:"",info:this.$t("design.graphSubTitleRotate"),currentStatus:"",iconClass:[],iconMsg:!0,classList:["width-5"],required:!0,range:[-360,360]}},frame:{subTitle:"框",hideSetting:!0,type:[["borderImage"]],borderImage:{filter:!0,toolTip:this.$t("design.graphSubTitleFrame"),dataSource:[{val:"无",real:"none"},{val:"框1",real:'url("'.concat(a("0b5b"),'") 71 23 / 71px 23px / 0 stretch')},{val:"框2",real:'url("'.concat(a("0df3"),'") 32 37 fill / 32px 37px / 0 stretch')},{val:"框3",real:'url("'.concat(a("ee36a"),'") 14 fill / 14px / 0 stretch')},{val:"框4",real:'url("'.concat(a("397b"),'") 14 100 / 14px 100px / 0 stretch')},{val:"框5",real:'url("'.concat(a("a9b6"),'") 46 305 117 33 fill / 46px 305px 117px 33px / 0 repeat')},{val:"框6",real:'url("'.concat(a("57e3"),'") 45 103 51 29 fill / 45px 103px 51px 29px / 0 repeat')},{val:"框7",real:'url("'.concat(a("2f81"),'") 29 107 109 16 fill / 29px 107px 109px 16px / 0 repeat')},{val:"框8",real:'url("'.concat(a("c97e"),'") 15 11 16 8 fill / 15px 11px 16px 8px / 0 repeat')},{val:"框9",real:'url("'.concat(a("ecfb"),'") 152 27 127 354 fill / 152px 27px 127px 354px / 0 repeat')},{val:"框10",real:'url("'.concat(a("2080"),'") 56 4 76 393 fill / 56px 4px 76px 393px / 0 repeat')},{val:"框11",real:'url("'.concat(a("aae8"),'") 17 24 18 19 fill / 17px 24px 18px 19px / 0 repeat')},{val:"框12",real:'url("'.concat(a("7d78"),'") 71 23 fill / 71px 23px / 0 stretch')},{val:"框13",real:'url("'.concat(a("5ee3"),'") 288 500 272 680 fill / 288px 500px 272px 680px / 0 repeat')},{val:"框14",real:'url("'.concat(a("8fa7"),'") 220 664 460 500 fill / 220px 664px 460px 500px / 0 repeat')},{val:"框15",real:'url("'.concat(a("abdb"),'") 423 606 410 652 fill / 423px 606px 410px 652px / 0 repeat')},{val:"框16",real:'url("'.concat(a("d193"),'") 101 690 35 693 fill / 101px 690px 35px 693px / 0 repeat')},{val:"框17",real:'url("'.concat(a("89e2"),'") 65 740 88 561 fill / 65px 740px 88px 560px / 0 repeat')},{val:"框18",real:'url("'.concat(a("31a4"),'") 4 805 281 730 fill / 4px 805px 281px 730px / 0 repeat')}],alias:"dropDownComponent",currentStatus:0,showKey:"val",idKey:"real",iconClass:void 0,classList:["width-5"]}}}})},components:{backgroundAndBorder:n.a,eventTrigger:r.a,interActive:l.a},computed:{lastStyle:function(){return t.extend(!0,{},{currentStyle:this.reportSetting},{currentStyle:this.getData.style})}},mounted:function(){this.changeCurrentStatus()},watch:{getData:function(){this.getData.attribute?this.getData.attribute&&this.getData.attribute.rotate!==this.curRotateVal&&(this.curRotateVal=this.getData.attribute.rotate):this.curRotateVal=0,this.changeCurrentStatus(),this.getData.flag&&this.drawChangeSelectedData({flag:!1})}},methods:Object(o.a)(Object(o.a)({},Object(s.b)({drawChangeSelectedData:"drawChangeSelectedData"})),{},{switchDetailShow:function(t){var e=t.type,a=t.value,i=this[e][a].hideSetting;this[e][a].hideSetting=!i},updataEventData:function(t,e){this.drawChangeSelectedData({events:null,changeData:e}),this.drawChangeSelectedData({events:t,changeData:e})},getListItem:function(t){if(this.currentType){var e=this.currentType.v,a=t.real?t.real:t.val;this.changeData({v:e,finalMsg:a,type:"style"})}},setCurrentType:function(t){this.currentType=t},changeData:function(t){if(t){this.changeCurrentStatus(t);var e=t.v,a=t.finalMsg,o=t.hex;a?this.drawChangeSelectedData({style:Object(i.a)({},e,a)}):o&&this.drawChangeSelectedData({style:Object(i.a)({},e,o)})}},changeCurrentStatus:function(){for(var t=this.lastStyle.currentStyle,e=this.defaults.type,a=0;a<e.length;a++)for(var i in t){var o=this.defaults[e[a]][i];if(o)if("string"==typeof o.currentStatus)o.currentStatus=t[i];else if(Number.isInteger(o.currentStatus))for(var s=0;s<o.dataSource.length;s++)o.dataSource[s].real===t[i]&&(o.currentStatus=s)}},checkBlur:function(t){var e=this.currentType.v,a=t.target,o=a.value;1===o.length&&"-"===o&&(a.value="",this.drawChangeSelectedData({attribute:Object(i.a)({},e,"")}))},checkInsert:function(t){var e=this.currentType,a=e.v,o=e.value,s=this.defaults[o][a].range,n=void 0===s?[]:s,r=t.target,l=r.value;if(37!==t.keyCode&&38!==t.keyCode&&39!==t.keyCode&&40!==t.keyCode)if(0!==l.length){if("-"===l.charAt(0)&&1===l.length)return;if(isNaN(Math.abs(l))){var c=parseInt(l);l=isNaN(c)?"":c}else l<=n[0]?l=n[0]:l>n[1]&&(l=n[1]),l=parseInt(l);this.drawChangeSelectedData({attribute:Object(i.a)({},a,l)}),r.value=l}else this.drawChangeSelectedData({attribute:Object(i.a)({},a,"")})},slowRatote:function(t){var e=t.keyCode,a=t.target.value;isNaN(parseInt(a))||(38===e?a-=-10:40===e&&(a-=10),this.changeRotate(a))},changeRotate:function(t){var e=this.currentType.v;t%=360,this.curRotateVal=t,this.drawChangeSelectedData({attribute:Object(i.a)({},e,t)})},addRotate:function(){var t=this.curRotateVal;t-=-10,this.changeRotate(t)},reduceRotate:function(){var t=this.curRotateVal;t-=10,this.changeRotate(t)}})}}).call(this,a("1157"))}}]);