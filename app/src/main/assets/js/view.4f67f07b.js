(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"10de":function(t,e,a){},2012:function(t,e,a){"use strict";var i=a("d003");a.n(i).a},3175:function(t,e,a){"use strict";(function(t){a("99af"),a("7db0"),a("4160"),a("caad"),a("a15b"),a("ac1f"),a("2532"),a("1276"),a("2ca0"),a("159b"),a("cca6");var i=a("2909"),o=a("b85c"),r=a("5530"),n=a("0aad"),s=a("5fd9"),l=a("dd9a"),c=a("6172"),h=a("2883"),d=a("ec8a"),p=a("43e9"),u=a("1e94"),g=a("209c"),m=a("3418"),w=a("02c3"),f=a("14a6"),v=a("be1e"),D=a("b805"),y=a("bdfb"),S=a("7739"),b=a("cc61"),C=a("4061"),k=a("23aa"),P=a("4c64"),x=a("2f62"),Y=["crossBar"];e.a={name:"draw",props:["model"],components:{lineComponent:n.a,pieComponent:l.a,radarComponent:c.a,tableComponent:v.a,treeComponent:D.a,textComponent:y.a,imageComponent:s.a,rectangleComponent:m.a,roundComponent:w.a,otherShapesComponent:f.a,dataobjComponent:S.a,moreComponent:b.a,dropdownComponent:C.a,reportWidgetComponent:k.a,paramWindow:P.a,crossBarComponent:h.a,funnelComponent:d.a,gaugeComponent:p.a,mapComponent:u.a,map3DComponent:g.a},data:function(){return{selectType:"select",parentWidth:0,parentHeight:0,drawEventData:{mouseState:"",pageWidth:0,pageHeight:0,offsetX:0,offsetY:0,marginX:0,marginY:0,startX:0,startY:0,currentX:0,currentY:0,endX:0,endY:0,moveDistanceX:0,moveDistanceY:0,scale:1},defaultData:{minLeft:30,minTop:10,defaultBlockWidth:200,defaultBlockHeight:150,minMoveDistance:10,contextmenuLineHeight:30,contextmenuWidth:180},maxSubMenuNum:4,contextMenu:{show:!1,subX:"left",subY:"top",style:{position:"absolute"},data:[{text:this.$t("design.drawCopy"),value:"copy"},{text:this.$t("design.drawPaste"),value:"paste"},{text:this.$t("design.drawGroup"),value:"group"},{text:this.$t("design.drawUnGroup"),value:"ungroup"},{text:this.$t("design.drawOrder"),value:"changeLevel",children:{style:{position:"absolute"},data:[{text:this.$t("design.drawMoveUp"),value:"moveUp"},{text:this.$t("design.drawMoveDown"),value:"moveDown"},{text:this.$t("design.drawMoveToTop"),value:"moveToTop"},{text:this.$t("design.drawMoveToBottom"),value:"moveToBottom"}]}},{text:this.$t("design.drawHorizontal"),value:"horizontal",children:{style:{position:"absolute"},data:[{text:this.$t("design.drawHorizontalLeft"),value:"horizontalLeft"},{text:this.$t("design.drawHorizontalCenter"),value:"horizontalCenter"},{text:this.$t("design.drawHorizontalRight"),value:"horizontalRight"}]}},{text:this.$t("design.drawVertical"),value:"vertical",children:{style:{position:"absolute"},data:[{text:this.$t("design.drawVerticalTop"),value:"verticalTop"},{text:this.$t("design.drawVerticalCenter"),value:"verticalCenter"},{text:this.$t("design.drawVerticalBottom"),value:"verticalBottom"}]}},{text:this.$t("design.drawDelete"),value:"delete"},{text:this.$t("design.drawReportSetting"),value:"reportSetting"},{text:this.$t("design.drawPageSetting"),value:"pageSetting"}]},contextMenuShow:{},showParamWindow:!1,popupWindowUser:"",selfUuid:"",isInit:!0,drawPanels:null,drawGroups:{},drawGroupCarouselInterval:{},oldDrawPosition:"",oldPageZoom:1,move:{ArrowUp:{direct:"top",flag:1},ArrowDown:{direct:"top",flag:-1},ArrowLeft:{direct:"left",flag:1},ArrowRight:{direct:"left",flag:-1}}}},computed:Object(r.a)(Object(r.a)({resizerData:function(){var e=this,a={show:!1,position:{}};return 1===this.selected.length||(this._.forEach(this.selected,(function(i){var o=e.drawBlockContent[e.currentPage][i];o.selected&&(a.show=!0);var r=parseInt(o.position.top),n=parseInt(o.position.left),s=parseInt(o.position.height),l=parseInt(o.position.width);t.isEmptyObject(a.position)?a.position={top:r,left:n,bottom:r+s,right:n+l,"z-index":o.position["z-index"]}:(a.position.top=Math.min(a.position.top,r),a.position.left=Math.min(a.position.left,n),a.position.bottom=Math.max(a.position.bottom,r+s),a.position.right=Math.max(a.position.right,n+l),a.position["z-index"]=Math.max(a.position["z-index"],o.position["z-index"]))})),a.style={position:"absolute",top:a.position.top+"px",left:a.position.left+"px",height:"0",width:"0","z-index":a.position["z-index"]},a.resizer={top:a.position.top+"px",left:a.position.left+"px",height:a.position.bottom-a.position.top+"px",width:a.position.right-a.position.left+"px"},a.styleLeft={position:"absolute",top:"0",left:"0",height:a.position.bottom-a.position.top+"px",width:"1px"},a.styleRight={position:"absolute",top:"0",left:a.position.right-a.position.left-1+"px",height:a.position.bottom-a.position.top+"px",width:"1px"},a.styleTop={position:"absolute",top:"0",left:"0",height:"1px",width:a.position.right-a.position.left+"px"},a.styleBottom={position:"absolute",top:a.position.bottom-a.position.top-1+"px",left:"0",height:"1px",width:a.position.right-a.position.left+"px"},a.leftCenter={top:(a.position.bottom-a.position.top-1)/2+"px"},a.leftBottom={top:a.position.bottom-a.position.top-1+"px"},a.rightTop={left:a.position.right-a.position.left-1+"px"},a.rightCenter={top:(a.position.bottom-a.position.top-1)/2+"px",left:a.position.right-a.position.left-1+"px"},a.rightBottom={top:a.position.bottom-a.position.top-1+"px",left:a.position.right-a.position.left-1+"px"},a.topCenter={left:(a.position.right-a.position.left-1)/2+"px"},a.bottomCenter={top:a.position.bottom-a.position.top-1+"px",left:(a.position.right-a.position.left-1)/2+"px"}),a},drawBlockContent:function(){var e=t.extend(!0,{},this.blockContent);for(var a in e){this.drawGroups[a]?this._.forEach(this.drawGroups[a],(function(t){t.count=0})):this.drawGroups[a]={};for(var i=0;i<this.pageContent[a].length;i++){var o=this.pageContent[a][i];e[a][o].position.scale="edit"===this.model?1:this.drawEventData.scale>0?this.drawEventData.scale:1,e[a][o].position["z-index"]=i,"view"===this.model&&e[a][o].contentData.groupSetting&&e[a][o].contentData.groupSetting.isCarousel&&(this.drawGroups[a][e[a][o].group]||(this.drawGroups[a][e[a][o].group]={currentIndex:1,count:0}),e[a][o].contentData.groupSetting.currentIndex=e[a][o].contentData.groupSetting.currentIndex||1,this.drawGroups[a][e[a][o].group].count=this.drawGroups[a][e[a][o].group].count+1,e[a][o].contentData.groupSetting.index=this.drawGroups[a][e[a][o].group].count)}}return e},pageSize:function(){var e=this.defaultData.minLeft,a="5px";"view"===this.model&&!1===this.reportSetting.showPadding&&(e=0,a="0");var i=Object.assign({},this.drawSize),o=this.parentWidth-2*e;if(this.drawEventData.pageWidth=parseFloat(this.drawSize.width),this.drawEventData.pageHeight=parseFloat(this.drawSize.height),"edit"===this.model&&(this.reportSetting.showPadding||(this.drawEventData.pageWidth=this.drawEventData.pageWidth+1),i.width=(this.drawEventData.pageWidth=this.drawEventData.pageWidth*i.pageZoom)+"px",i.height=(this.drawEventData.pageHeight=this.drawEventData.pageHeight*i.pageZoom)+"px"),this.drawEventData.pageWidth>o)this.drawEventData.scale=o/this.drawEventData.pageWidth,i.margin=a+" 0";else{var r=1,n=a+" auto";"view"===this.model&&this.reportSetting.fullScreen&&(r=o/this.drawEventData.pageWidth,n=a+" 0"),this.drawEventData.scale=r,i.margin=n}if(i.transform="scale("+this.drawEventData.scale+")","edit"===this.model&&this.oldPageZoom!==i.pageZoom){this.oldDrawPosition=t.extend(!0,{},this.blockContent);var s=this._.cloneDeep(this.blockContent);for(var l in s){var c=s[l];for(var h in c)c[h].position.width=(parseFloat(c[h].position.width)/this.oldPageZoom||1)*i.pageZoom+"px",c[h].position.height=(parseFloat(c[h].position.height)/this.oldPageZoom||1)*i.pageZoom+"px",c[h].position.top=(parseFloat(c[h].position.top)/this.oldPageZoom||1)*i.pageZoom+"px",c[h].position.left=(parseFloat(c[h].position.left)/this.oldPageZoom||1)*i.pageZoom+"px"}this.oldPageZoom=i.pageZoom,this.changeAllPosition(s)}return i},transformPageStyle:function(){var t,e={},a=Object(o.a)(this.pageList);try{for(a.s();!(t=a.n()).done;){var i=t.value,r=Object.assign({position:"relative"},this.reportStyle.pageStyle,this.pageStyle[i],this.pageSize);e[i]=r,this.reportSetting.showPadding||"edit"!==this.model||(e[i].border="1px dashed rgba(0,0,0,0.26)")}}catch(t){a.e(t)}finally{a.f()}return e},transformGraticuleStyle:function(){var e,a={},i={},r=Object(o.a)(this.pageList);try{for(r.s();!(e=r.n()).done;){var n=e.value,s=Object.assign({position:"relative"},this.reportStyle.pageStyle,this.pageStyle[n],this.pageSize);a[n]=s,this.reportSetting.showPadding||"edit"!==this.model||(a[n].border="1px dashed rgba(0,0,0,0.26)")}}catch(t){r.e(t)}finally{r.f()}for(var l in a)i[l]={},a[l].backgroundImage&&!t.isEmptyObject(a[l].backgroundImage)&&a[l].backgroundImage.url&&(i[l].backgroundPosition=a[l].backgroundPositionX+" "+a[l].backgroundPositionY,i[l].backgroundRepeat=a[l].backgroundRepeat,i[l].backgroundSize=a[l].backgroundSize,i[l].backgroundImage="url("+(a[l].backgroundImage.isLocal?this.$projectName:"")+a[l].backgroundImage.url+")");return i},pageBoxStyle:function(){var t=this.defaultData.minTop,e=this.defaultData.minLeft,a="100%",i="none";"view"===this.model&&(!1===this.reportSetting.showPadding&&(t=0,e=0),this.reportSetting.showDirection&&(a="auto",i="left"));var o=this.drawEventData.pageHeight*this.drawEventData.scale+3*t;return{width:a,height:(o=this.$el&&this.$el.offsetHeight>o?o+(this.$el.offsetHeight-o):o)+"px",padding:t+"px "+e+"px",cursor:this.toolbarType!==this.selectType||"select"===this.drawEventData.mouseState||"create"===this.drawEventData.mouseState?"crosshair":"default",float:i}},padStyle:function(){var t="100%";if("view"===this.model&&this.reportSetting.showDirection){t=0;var e,a=Object(o.a)(this.pageList);try{for(a.s();!(e=a.n()).done;){var i=e.value,r=Object.assign({position:"relative"},this.reportStyle.pageStyle,this.pageStyle[i],this.pageSize);t+=parseFloat(r.width)}}catch(t){a.e(t)}finally{a.f()}t+="px"}return{position:"relative",width:t,height:"auto",padding:"0",cursor:this.toolbarType!==this.selectType||"select"===this.drawEventData.mouseState||"create"===this.drawEventData.mouseState?"crosshair":"default"}},nanoscrollerStyle:function(){return!this.reportSetting.showPadding&&this.model,{}},auxiliaryFrameStyle:function(){var t=this.drawEventData,e=Math.min(t.startX,t.currentX),a=Math.min(t.startY,t.currentY),i=Math.max(t.startX,t.currentX),o=Math.max(t.startY,t.currentY),r={position:"absolute"};return"select"!==t.mouseState&&"create"!==t.mouseState||(r.top=a-t.offsetY+"px",r.left=e-t.offsetX+"px",r.height=o-a+"px",r.width=i-e+"px"),r},showReportParam:function(){var t=!1;return this.paramSettingWithKey.length>0&&(t=!0),t},showBolckArea:function(){var t=this;return function(e){return e.contentData.groupSetting&&e.contentData.groupSetting.isCarousel?e.contentData.groupSetting.currentIndex===e.contentData.groupSetting.index:"edit"===t.model||(void 0===e.contentData.show||e.contentData.show)}}},Object(x.d)({popupWindowClick:function(t){return t.popupWindowClick},drawSize:function(t){return t.draw.drawSize},reportStyle:function(t){return t.draw.reportStyle},reportSetting:function(t){return t.draw.reportSetting},pageStyle:function(t){return t.draw.pageStyle},currentPage:function(t){return t.draw.currentPage},blockContent:function(t){return t.draw.blockContent},pageContent:function(t){return t.draw.pageContent},selected:function(t){return t.draw.selected},lastAddPage:function(t){return t.draw.lastAddPage},lastDeletePage:function(t){return t.draw.lastDeletePage},dataForToggleType:function(t){return t.draw.dataForToggleType},pageList:function(t){return t.pageController.pageList},toolbarType:function(t){return t.toolbar.currentType},paramStyleSetting:function(t){return t.reportParam.paramStyleSetting},paramSelectValue:function(t){return t.reportParam.paramSelectValue},paramDefaultValue:function(t){return t.reportParam.paramDefaultValue},showLogo:function(t){return t.reportParam.showLogo}})),Object(x.c)({selectedData:"selectedData",selectedType:"selectedType",loadingState:"loadingState",paramSettingWithKey:"paramSettingWithKey",paramCurrentValue:"paramCurrentValue",paramToBlock:"paramToBlock",groupData:"groupData"})),watch:{selected:function(){var t,e="",a=[],i=!0,r=Object(o.a)(this.selected);try{for(r.s();!(t=r.n()).done;){var n=t.value;this.drawBlockContent[this.currentPage][n].group?a.includes(this.drawBlockContent[this.currentPage][n].group)||a.push(this.drawBlockContent[this.currentPage][n].group):i=!1}}catch(t){r.e(t)}finally{r.f()}e=0===this.selected.length?"reportSetting":1===this.selected.length?this.selectedType[0]:i&&1===a.length?"group":"multiple",this.changeParamType(e)},popupWindowClick:function(){switch(this.popupWindowUser){case"copyExceed":this.hidePopupWindow(),this.popupWindowUser=""}},currentPage:function(){var t=this;"all"===this.currentPage?this.$nextTick((function(){t.drawAddPanel(t.$refs.drawPanel)})):this.$nextTick((function(){t.$refs.drawPanel&&t.drawAddPanel(t.$refs.drawPanel[0])}))},groupData:function(){this.isInit&&"view"===this.model&&(this.startAutoCarousel(),this.isInit=!1)}},methods:Object(r.a)({comName:function(t){var e,a=Object(o.a)(Y);try{for(a.s();!(e=a.n()).done;){var i=e.value;if(t.type.startsWith(i))return i+"Component"}}catch(t){a.e(t)}finally{a.f()}return("bar"===t.type?"line":t.type)+"Component"},clickParamButton:function(){"view"===this.model&&(this.showParamWindow=!0)},selectParam:function(t,e){"confirm"===t.type&&this.changeReportParamSelectValue(e),this.showParamWindow=!1},setParentWidth:function(){this.$nextTick((function(){this.parentWidth=this.$el.parentNode.clientWidth}))},mousedown:function(e){if("view"!==this.model&&this.currentPage){this.contextMenu.show=!1;var a=0-parseFloat(t(this.$el).children().children(".mCSB_container")[0].style.top);this.drawEventData.offsetX=t(this.$el).parent().offset().left,this.drawEventData.offsetY=t(this.$el).parent().offset().top,this.drawEventData.marginX=parseFloat(t(this.$el).find('[editRole="'+this.currentPage+'"]')[0].offsetLeft),this.drawEventData.marginY=parseFloat(t(this.$el).find('[editRole="'+this.currentPage+'"]')[0].offsetTop),this.drawEventData.startX=e.pageX,this.drawEventData.startY=e.pageY+a,this.drawEventData.currentX=e.pageX,this.drawEventData.currentY=e.pageY+a;var i=t(e.target),o="bolck"===i.attr("editRole")?i:i.parents('[editRole="bolck"]');if(this.toolbarType===this.selectType)if(1===e.which)if(e.ctrlKey)this.drawEventData.mouseState="ctrlSelect";else if(1===i.parents('[editRole="border"]').length)this.drawEventData.mouseState=i.attr("editRole");else if(1===o.length){var r=o.attr("name");this.drawBlockContent[this.currentPage][r].selected?1===this.selected.length?this.drawBlockContent[this.currentPage][r].group?this.drawEventData.mouseState="selectSingle":this.drawEventData.mouseState="move":this.drawEventData.mouseState="selectSingle":(this.selectSingle(r),this.drawEventData.mouseState="move")}else this.drawEventData.mouseState="select";else 3===e.which&&(this.drawEventData.mouseState="contextMenu");else 1===e.which&&(this.emptySelect(),this.drawEventData.mouseState="create")}},mousemove:function(e){if("view"!==this.model&&this.currentPage){0===e.which&&this.drawEventData.mouseState&&this.emptyDrawEventData();var a=0-parseFloat(t(this.$el).children().children(".mCSB_container")[0].style.top);switch(this.drawEventData.mouseState){case"select":case"create":this.drawEventData.currentX=e.pageX,this.drawEventData.currentY=e.pageY+a;break;case"selectSingle":e.pageX===this.drawEventData.startX&&e.pageY+a===this.drawEventData.startY||(this.drawEventData.mouseState="move",this.drawEventData.currentX=e.pageX,this.drawEventData.currentY=e.pageY+a);break;case"move":var i=e.pageX,o=e.pageY+a;this.moveSelect("ing",i,o);break;case"leftTop":case"leftCenter":case"leftBottom":case"rightTop":case"rightCenter":case"rightBottom":case"topCenter":case"bottomCenter":var r=e.pageX,n=e.pageY+a;this.changeSize(this.drawEventData.mouseState,"ing",r,n)}}},mouseup:function(e){if("view"!==this.model&&this.currentPage){var a=0-parseFloat(t(this.$el).children().children(".mCSB_container")[0].style.top);this.drawEventData.endX=e.pageX,this.drawEventData.endY=e.pageY+a;var i="bolck"===t(e.target).attr("editRole")?t(e.target):t(e.target).parents('[editRole="bolck"]');switch(this.drawEventData.mouseState){case"select":this.emptySelect(),this.selectArea();break;case"create":this.createArea();break;case"ctrlSelect":1===i.length&&e.ctrlKey&&this.selectSingle(i.attr("name"),"ctrl");break;case"selectSingle":this.selectSingle(i.attr("name"));break;case"move":this.moveSelect("end");break;case"contextMenu":this.showContextMenu(i);break;case"leftTop":case"leftCenter":case"leftBottom":case"rightTop":case"rightCenter":case"rightBottom":case"topCenter":case"bottomCenter":this.changeSize(this.drawEventData.mouseState,"end")}this.toolbarType!==this.selectType&&this.changeType(this.selectType),this.emptyDrawEventData()}},mouseleave:function(){if("view"!==this.model&&this.currentPage){switch(this.contextMenu.show=!1,this.drawEventData.endX=this.drawEventData.currentX,this.drawEventData.endY=this.drawEventData.currentY,this.drawEventData.mouseState){case"select":this.emptySelect(),this.selectArea();break;case"create":this.emptySelect(),this.createArea();break;case"ctrlSelect":case"selectSingle":break;case"move":this.moveSelect("end");break;case"contextMenu":break;case"leftTop":case"leftCenter":case"leftBottom":case"rightTop":case"rightCenter":case"rightBottom":case"topCenter":case"bottomCenter":this.changeSize(this.drawEventData.mouseState,"end")}""!==this.drawEventData.mouseState&&(this.toolbarType!==this.selectType&&this.changeType(this.selectType),this.emptyDrawEventData())}},showContextMenu:function(t){if(t.length>0){var e=t.attr("name");this.drawBlockContent[this.currentPage][e].selected||this.selectSingle(e)}else this.emptySelect();var a=this.drawEventData,i=this.contextMenu,r=0,n={};if(0===this.selected.length)n={reportSetting:!0,pageSetting:!0},r=2;else{if(n={changeLevel:!0,delete:!0,copy:!0},r=3,1===this.selected.length&&this.drawBlockContent[this.currentPage][this.selected[0]].group)n.ungroup=!0;else if(this.selected.length>1){var s=[];n.horizontal=!0,n.vertical=!0;var l,c=Object(o.a)(this.selected);try{for(c.s();!(l=c.n()).done;){var h=l.value;this.drawBlockContent[this.currentPage][h].group?(n.ungroup=!0,s.includes(this.drawBlockContent[this.currentPage][h].group)||s.push(this.drawBlockContent[this.currentPage][h].group)):n.group=!0}}catch(t){c.e(t)}finally{c.f()}s.length>1&&(n.group=!0)}!0===n.ungroup&&(r+=1),!0===n.group&&(r+=1)}var d=localStorage.getItem("copy"),p=d?JSON.parse(d):{};(p.copyContent?p.copyContent:[]).length>0&&(n.paste=!0,r+=1),this.contextMenuShow=n;var u=this.defaultData.contextmenuLineHeight,g=r*u,m=this.maxSubMenuNum*u,w=this.defaultData.contextmenuWidth,f=document.body.clientHeight,v=this.parentWidth;a.endX-a.offsetX+w>v?(i.style.left=a.endX-a.offsetX-w+"px",i.subX="right"):(i.style.left=a.endX-a.offsetX+"px",a.endX-a.offsetX+2*w>v?i.subX="right":i.subX="left"),a.endY+g>f?(i.style.top=a.endY-a.offsetY-g+"px",i.subY="bottom"):(i.style.top=a.endY-a.offsetY+"px",a.endY+g+m>f?i.subY="bottom":i.subY="top"),i.show=!0},clickMenu:function(t){var e=Object(i.a)(this.selected);switch(t){case"reportSetting":case"pageSetting":this.changeParamType(t);break;case"copy":this.copySelected();break;case"paste":this.pasteCopies();break;case"group":this.groupAndUngroup("group",e);break;case"ungroup":this.groupAndUngroup("ungroup",e);break;case"changeLevel":break;case"delete":this.deleteSelected();break;case"moveUp":this.changeLevel("moveUp");break;case"moveDown":this.changeLevel("moveDown");break;case"moveToTop":this.changeLevel("moveToTop");break;case"moveToBottom":this.changeLevel("moveToBottom");break;case"horizontalLeft":case"horizontalCenter":case"horizontalRight":case"verticalTop":case"verticalCenter":case"verticalBottom":this.changeAlignment(t)}this.contextMenu.show=!1},changeLevel:function(t){var e=Object(i.a)(this.pageContent[this.currentPage]);if("moveUp"===t){for(var a=e.length-1;a>=0;a--)if(this.drawBlockContent[this.currentPage][e[a]].selected&&e[a+1]&&!this.drawBlockContent[this.currentPage][e[a+1]].selected){var o=[e[a+1],e[a]];e[a]=o[0],e[a+1]=o[1]}}else if("moveDown"===t){for(var r=0;r<e.length;r++)if(this.drawBlockContent[this.currentPage][e[r]].selected&&e[r-1]&&!this.drawBlockContent[this.currentPage][e[r-1]].selected){var n=[e[r-1],e[r]];e[r]=n[0],e[r-1]=n[1]}}else{for(var s=[],l=[],c=0;c<e.length;c++)this.drawBlockContent[this.currentPage][e[c]].selected?s.push(e[c]):l.push(e[c]);"moveToTop"===t?e=[].concat(l,s):"moveToBottom"===t&&(e=[].concat(s,l))}this.changeIndex(e)},groupAndUngroup:function(t,e){if("group"===t)this.groupBlock(e),this.changeParamType("group");else if("ungroup"===t)if(1===e.length)if(2===this.groupData[this.currentPage][this.drawBlockContent[this.currentPage][e[0]].group].children.length){var a=Object(i.a)(this.groupData[this.currentPage][this.drawBlockContent[this.currentPage][e[0]].group].children);this.ungroupBlock(a)}else this.ungroupBlock(e);else this.ungroupBlock(e),this.changeParamType("multiple")},copySelected:function(){if(this.selectedData.length>0){var t=localStorage.getItem("copy"),e={uuid:this.selfUuid,copyContent:this.selectedData},a=JSON.stringify(e);try{localStorage.setItem("copy",""),localStorage.setItem("copy",a)}catch(t){}if(localStorage.getItem("copy")!==a){localStorage.setItem("copy",t);var i={show:!0,type:"alert",content:this.$t("design.drawCopyExceed"),style:{width:"300px",height:"120px"}};this.popupWindowUser="copyExceed",this.showPopupWindow(i)}}},pasteCopies:function(){var e=this.defaultData.minMoveDistance,a=parseFloat(this.drawSize.width),i=parseFloat(this.drawSize.height),o=localStorage.getItem("copy"),r=o?JSON.parse(o):{},n=r.copyContent?r.copyContent:[];if(n.length>0){n[0].contentData.dataSource?n[0].contentData.dataSource.filterRules=[]:n[0].contentData.dataresource&&(n[0].contentData.dataresource.filterRules=[]);for(var s=0;s<n.length;s++){var l={top:parseInt(n[s].position.top)+e+"px",left:parseInt(n[s].position.left)+e+"px"};n[s].position=t.extend(!0,{},n[s].position,l)}r.copyContent=n;var c=JSON.stringify(r);try{localStorage.setItem("copy",c)}catch(t){}for(var h=0;h<n.length;h++){var d=parseInt(n[h].position.top),p=parseInt(n[h].position.left),u=parseInt(n[h].position.height),g=parseInt(n[h].position.width),m={};p<0?m.left="0px":p+g>a&&(m.left=a-g+"px"),d<0?m.top="0px":d+u>i&&(m.top=i-u+"px"),n[h].position=t.extend(!0,{},n[h].position,m)}this.emptySelect(),this.pasteBlock(n)}},changeAlignment:function(t){var e,a,i,o,r=this,n={};this._.forEach(this.selected,(function(t,n){var s=r.drawBlockContent[r.currentPage][t],l=r._.mapValues(s.position,(function(t){return parseFloat(t)}));0===n?(e=l.left,a=l.top,i=l.left+l.width,o=l.top+l.height):(e=e>l.left?l.left:e,a=a>l.top?l.top:a,i=i<l.left+l.width?l.left+l.width:i,o=o<l.top+l.height?l.top+l.height:o)})),this._.forEach(this.selected,(function(s){n[s]={};var l=r.drawBlockContent[r.currentPage][s],c=r._.mapValues(l.position,(function(t){return parseFloat(t)}));switch(t){case"horizontalLeft":n[s].left=e+"px";break;case"horizontalRight":n[s].left=i-c.width+"px";break;case"horizontalCenter":var h=(e+i)/2;n[s].left=h-c.width/2+"px";break;case"verticalTop":n[s].top=a+"px";break;case"verticalBottom":n[s].top=o-c.height+"px";break;case"verticalCenter":var d=(a+o)/2;n[s].top=d-c.height/2+"px"}})),this.changePosition(n)},emptyDrawEventData:function(){this.drawEventData.mouseState="",this.drawEventData.marginX=0,this.drawEventData.marginY=0,this.drawEventData.startX=0,this.drawEventData.startY=0,this.drawEventData.currentX=0,this.drawEventData.currentY=0,this.drawEventData.endX=0,this.drawEventData.endY=0,this.drawEventData.moveDistanceX=0,this.drawEventData.moveDistanceY=0},calculateSize:function(t,e,a,i,o){a=a||0===a?a:t,i=i||0===i?i:e;var r=this.drawEventData,n=o?Math.min(t,a):t,s=o?Math.min(e,i):e,l=o?Math.max(t,a):a,c=o?Math.max(e,i):i,h={};return s<=r.offsetY+r.marginY?h.top=s-r.offsetY-r.marginY:s>=r.offsetY+r.marginY+r.pageHeight*r.scale?h.top=r.pageHeight+(s-r.offsetY-r.marginY-r.pageHeight*r.scale):h.top=(s-r.offsetY-r.marginY)/r.scale,n<=r.offsetX+r.marginX?h.left=n-r.offsetX-r.marginX:n>=r.offsetX+r.marginX+r.pageWidth*r.scale?h.left=r.pageWidth+(n-r.offsetX-r.marginX-r.pageWidth*r.scale):h.left=(n-r.offsetX-r.marginX)/r.scale,c<=r.offsetY+r.marginY?h.bottom=c-r.offsetY-r.marginY:c>=r.offsetY+r.marginY+r.pageHeight*r.scale?h.bottom=r.pageHeight+(c-r.offsetY-r.marginY-r.pageHeight*r.scale):h.bottom=(c-r.offsetY-r.marginY)/r.scale,l<=r.offsetX+r.marginX?h.right=l-r.offsetX-r.marginX:l>=r.offsetX+r.marginX+r.pageWidth*r.scale?h.right=r.pageWidth+(l-r.offsetX-r.marginX-r.pageWidth*r.scale):h.right=(l-r.offsetX-r.marginX)/r.scale,h},changeSize:function(t,e,a,i){var o,r=this,n=this.drawEventData,s=!1,l={};if("end"===e)o=this.calculateSize(n.startX,n.startY,n.endX,n.endY),s=!0;else{var c=this.calculateSize(n.startX,n.startY,n.currentX,n.currentY),h=this.calculateSize(n.startX,n.startY,a,i);c.left=h.left=Math.round(c.left/this.defaultData.minMoveDistance)*this.defaultData.minMoveDistance,c.top=h.top=Math.round(c.top/this.defaultData.minMoveDistance)*this.defaultData.minMoveDistance;var d=parseInt((c.right-c.left)/this.defaultData.minMoveDistance)!==parseInt((h.right-h.left)/this.defaultData.minMoveDistance),p=parseInt((c.bottom-c.top)/this.defaultData.minMoveDistance)!==parseInt((h.bottom-h.top)/this.defaultData.minMoveDistance);(d||p)&&(n.currentX=a,n.currentY=i,o=h,s=!0)}if(s){var u=parseInt((o.right-o.left)/this.defaultData.minMoveDistance)*this.defaultData.minMoveDistance,g=parseInt((o.bottom-o.top)/this.defaultData.minMoveDistance)*this.defaultData.minMoveDistance;this._.forEach(this.selected,(function(e){var a=r.drawBlockContent[r.currentPage][e],i=r._.mapValues(a.position,(function(t){return parseFloat(t)})),o=r._.mapValues(r.selected.length>1?r.resizerData.resizer:a.position,(function(t){return parseFloat(t)}));o.width=o.width<=1?1:o.width,o.height=o.height<=1?1:o.height,i.width=i.width<=1?1:i.width,i.height=i.height<=1?1:i.height;var s=r._.cloneDeep(o);switch(l[e]={},t){case"leftTop":s.top=s.top-n.moveDistanceY+g,s.left=s.left-n.moveDistanceX+u,s.height=s.height+n.moveDistanceY-g,s.width=s.width+n.moveDistanceX-u;break;case"leftCenter":s.left=s.left-n.moveDistanceX+u,s.width=s.width+n.moveDistanceX-u;break;case"leftBottom":s.left=s.left-n.moveDistanceX+u,s.height=s.height-n.moveDistanceY+g,s.width=s.width+n.moveDistanceX-u;break;case"rightTop":s.top=s.top-n.moveDistanceY+g,s.height=s.height+n.moveDistanceY-g,s.width=s.width-n.moveDistanceX+u;break;case"rightCenter":s.width=s.width-n.moveDistanceX+u;break;case"rightBottom":s.width=s.width-n.moveDistanceX+u,s.height=s.height-n.moveDistanceY+g;break;case"topCenter":s.top=s.top-n.moveDistanceY+g,s.height=s.height+n.moveDistanceY-g;break;case"bottomCenter":s.height=s.height-n.moveDistanceY+g}l[e].top=Math.round(i.top+(s.top-o.top)+(i.top-o.top)/o.height*(s.height-o.height))+"px",l[e].left=Math.round(i.left+(s.left-o.left)+(i.left-o.left)/o.width*(s.width-o.width))+"px",l[e].width=Math.round(s.width/o.width*i.width)+"px",l[e].height=Math.round(s.height/o.height*i.height)+"px"})),n.moveDistanceY=g,n.moveDistanceX=u,this.changePosition(l)}},moveSelect:function(t,e,a){var i,o=this.drawEventData,r=!1,n={};if("end"===t)i=this.calculateSize(o.startX,o.startY,o.endX,o.endY),r=!0,this.isPosition=!1;else{var s=this.calculateSize(o.startX,o.startY,o.currentX,o.currentY),l=this.calculateSize(o.startX,o.startY,e,a),c=parseInt((s.right-s.left)/this.defaultData.minMoveDistance)!==parseInt((l.right-l.left)/this.defaultData.minMoveDistance),h=parseInt((s.bottom-s.top)/this.defaultData.minMoveDistance)!==parseInt((l.bottom-l.top)/this.defaultData.minMoveDistance);(c||h)&&(o.currentX=e,o.currentY=a,i=l,r=!0)}if(r){var d=parseInt((i.right-i.left)/this.defaultData.minMoveDistance)*this.defaultData.minMoveDistance,p=parseInt((i.bottom-i.top)/this.defaultData.minMoveDistance)*this.defaultData.minMoveDistance;for(var u in this.selected){var g=this.selected[u];n[g]={};var m=this.drawBlockContent[this.currentPage][g];n[g].top=Math.round(parseFloat(m.position.top)/this.defaultData.minMoveDistance)*this.defaultData.minMoveDistance-o.moveDistanceY+p+"px",n[g].left=Math.round(parseFloat(m.position.left)/this.defaultData.minMoveDistance)*this.defaultData.minMoveDistance-o.moveDistanceX+d+"px"}o.moveDistanceY=p,o.moveDistanceX=d,this.changePosition(n)}},selectArea:function(){var t=[],e=this.drawEventData,a=this.calculateSize(e.startX,e.startY,e.endX,e.endY,!0);for(var i in this.drawBlockContent[this.currentPage]){var r=this.drawBlockContent[this.currentPage][i],n=parseFloat(r.position.top),s=parseFloat(r.position.left),l=parseFloat(r.position.top)+parseFloat(r.position.height),c=parseFloat(r.position.left)+parseFloat(r.position.width),h=a.left<=s&&s<=a.right,d=a.left<=c&&c<=a.right,p=s<=a.left&&a.right<=c,u=a.top<=n&&n<=a.bottom,g=a.top<=l&&l<=a.bottom,m=n<=a.top&&a.bottom<=l;if((h||d||p)&&(u||g||m)&&(t.includes(r.id)||t.push(r.id),r.group)){var w,f=Object(o.a)(this.groupData[this.currentPage][r.group].children);try{for(f.s();!(w=f.n()).done;){var v=w.value;t.includes(v)||t.push(v)}}catch(t){f.e(t)}finally{f.f()}}}for(var D=0,y=t;D<y.length;D++){var S=y[D];this.triggerSelect(S)}},selectSingle:function(t,e){var a,r=this,n=this.drawBlockContent[this.currentPage][t].group,s=[],l=!1,c=[],h={empty:!1,completeSelectedGroup:!1,clickedGroup:!1,clickedSelf:!1},d=Object(o.a)(this.selected);try{for(d.s();!(a=d.n()).done;){var p=a.value;this.drawBlockContent[this.currentPage][p].group&&(s.includes(this.drawBlockContent[this.currentPage][p].group)||s.push(this.drawBlockContent[this.currentPage][p].group))}}catch(t){d.e(t)}finally{d.f()}if(n){if((c=Object(i.a)(this.groupData[this.currentPage][n].children)).length===this.selected.length){l=!0;var u,g=Object(o.a)(this.selected);try{for(g.s();!(u=g.n()).done;){var m=u.value;c.includes(m)||(l=!1)}}catch(t){g.e(t)}finally{g.f()}}}else c=[t];1===s.length&&1===this.selected.length?n===s[0]?"ctrl"===e||this.drawBlockContent[this.currentPage][t].selected?h.completeSelectedGroup=!0:(h.empty=!0,h.clickedSelf=!0):"ctrl"===e?(h.completeSelectedGroup=!0,h.clickedGroup=!0):(h.empty=!0,h.clickedGroup=!0):l?"ctrl"===e?h.clickedGroup=!0:(h.empty=!0,h.clickedSelf=!0):("ctrl"===e||(h.empty=!0),h.clickedGroup=!0),this.$nextTick((function(){if(h.empty&&r.emptySelect(),h.completeSelectedGroup){var e,a=Object(i.a)(r.groupData[r.currentPage][s[0]].children),n=Object(o.a)(a);try{for(n.s();!(e=n.n()).done;){var l=e.value;r.drawBlockContent[r.currentPage][l].selected||r.triggerSelect(l)}}catch(t){n.e(t)}finally{n.f()}}if(h.clickedGroup){var d,p=Object(o.a)(c);try{for(p.s();!(d=p.n()).done;){var u=d.value;r.triggerSelect(u)}}catch(t){p.e(t)}finally{p.f()}}h.clickedSelf&&r.triggerSelect(t)}))},createArea:function(){var t=this.drawEventData,e={type:this.toolbarType,selected:!1,position:{position:"absolute"},group:"",contentData:{}},a=this.calculateSize(t.startX,t.startY,t.endX,t.endY,!0);a.top=Math.round(a.top/this.defaultData.minMoveDistance)*this.defaultData.minMoveDistance,a.bottom=Math.round(a.bottom/this.defaultData.minMoveDistance)*this.defaultData.minMoveDistance,a.left=Math.round(a.left/this.defaultData.minMoveDistance)*this.defaultData.minMoveDistance,a.right=Math.round(a.right/this.defaultData.minMoveDistance)*this.defaultData.minMoveDistance,e.position.top=a.top+"px",e.position.left=a.left+"px";var i=a.bottom-a.top,o=a.right-a.left,r=i||this.defaultData.defaultBlockHeight,n=o||this.defaultData.defaultBlockWidth;e.position.height=r+"px",e.position.width=n+"px",this.addBlock(e)},uuidBuilder:function(t,e){var a,i,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),r=[];if(e=e||o.length,t)for(a=0;a<t;a++)r[a]=o[0|Math.random()*e];else for(r[8]=r[13]=r[18]=r[23]="-",r[14]="4",a=0;a<36;a++)r[a]||(i=0|16*Math.random(),r[a]=o[19===a?3&i|8:i]);return r.join("")},startAutoCarousel:function(){var t=this;t._.forEach(t.groupData,(function(e,a){t._.forEach(e,(function(e,i){if(e.setting&&t._.get(e,"setting.isCarousel")&&"auto"===t._.get(e,"setting.groupCarouselTrigger")){var o=0;clearInterval(t.drawGroupCarouselInterval[i]),t.drawGroupCarouselInterval[i]=setInterval((function(){(o=t.drawGroups[a][i].currentIndex+1)===t.drawGroups[a][i].count+1&&(o=1),t.drawGroups[a][i].currentIndex=o;var r={};t._.forEach(e.children,(function(t){r[t]={groupSetting:{currentIndex:o}}})),t.drawChangeSpecialDatas(r)}),e.setting.carouselTime)}}))}))}},Object(x.b)({showPopupWindow:"showPopupWindow",hidePopupWindow:"hidePopupWindow",emptySelect:"_drawEmptySelected",addBlock:"_drawAddBlock",triggerSelect:"_drawTriggerSelect",deleteSelected:"_drawDeleteSelected",changePosition:"_drawChangeBlockPosition",changeAllPosition:"_drawChangeAllBlockPosition",groupBlock:"_drawGroup",ungroupBlock:"_drawUngroup",pasteBlock:"_drawPasteBlock",selectAll:"_drawSelectedAll",changeParamType:"_drawChangeParamType",changeIndex:"_drawChangeIndex",changeType:"getType",changeReportParamSelectValue:"changeReportParamSelectValue",drawAddPanel:"drawAddPanel",drawChangeSpecialDatas:"drawChangeSpecialDatas"})),mounted:function(){var t=this,e=[37,38,39,40];this.setParentWidth(),"edit"===this.model?(window.onkeydown=function(a){var i=a.target.tagName.toUpperCase();if("INPUT"!==i&&"TEXTAREA"!==i||a.target.className.includes("dropDown-true-input")){46===a.keyCode||8===a.keyCode?t.deleteSelected():65===a.keyCode&&a.ctrlKey?t.selectAll():67===a.keyCode&&a.ctrlKey||67===a.keyCode&&a.metaKey?t.copySelected():(86===a.keyCode&&a.ctrlKey||86===a.keyCode&&a.metaKey)&&t.pasteCopies();var o={};if(e.includes(a.keyCode)){for(var r in t.selected){var n=t.selected[r];o[n]={};var s=t.drawBlockContent[t.currentPage][n];o[n][t.move[a.key].direct]=parseFloat(s.position[t.move[a.key].direct])-t.defaultData.minMoveDistance*t.move[a.key].flag+"px"}t.changePosition(o)}}},window.onbeforeunload=function(){var e=localStorage.getItem("copy");(e?JSON.parse(e):{}).uuid===t.selfUuid&&localStorage.setItem("copy","")},window.onstorage=function(){}):this.$route.params.id||this.$nextTick((function(){t.isInit&&(t.startAutoCarousel(),t.isInit=!1)}))},created:function(){this.selfUuid=this.uuidBuilder()}}}).call(this,a("1157"))},"3bca":function(t,e,a){"use strict";var i=a("10de");a.n(i).a},"42dd":function(t,e,a){"use strict";(function(t,i){var o=a("b85c"),r=a("5530"),n=a("749b"),s=a("5a0c"),l=a.n(s),c=a("78fa"),h=a("2f62");e.a={name:"viewpc",metaInfo:function(){return{title:this.reportName,titleTemplate:"%s › "+this.$store.state.pageController.pageNameList[this.$store.state.draw.currentPage]}},data:function(){return{timer:null,isMove:!1,showAll:!1,reportName:"",modelId:"",panelShow:!1,urls:{openReport:"/report"}}},components:{drawComponent:n.a,viewPage:c.a},computed:Object(r.a)(Object(r.a)({},Object(h.d)({popupWindowOpt:function(t){return t.popupWindowOpt},popupWindowClick:function(t){return t.popupWindowClick},modalClick:function(t){return t.modalClick},dropDownOpt:function(t){return t.dropDownOpt},reportSetting:function(t){return t.draw.reportSetting}})),Object(h.c)({paramSettingWithKey:"paramSettingWithKey",paramToBlock:"paramToBlock"})),watch:{popupWindowClick:function(){switch(this.popupWindowUser){case"initLoad":this.hidePopupWindow();break;case"authority":window.parent&&window.close(),this.hidePopupWindow()}},popupWindowOpt:function(){!this.popupWindowOpt.show&&this.popupWindowUser&&(this.popupWindowUser="")},paramSettingWithKey:function(){var t,e={},a=Object(o.a)(this.paramSettingWithKey);try{for(a.s();!(t=a.n()).done;){var i=t.value;e[i.key]=this.dateCalculate(i)}}catch(t){a.e(t)}finally{a.f()}this.changeReportParamDefaultValue(e)},modalClick:function(){this.showPopupWindow(this.modalClick)}},methods:Object(r.a)({mouseLeave:function(){this.panelShow=!1},mousemove:function(){var t=this;this.reportSetting.showDirection?this.panelShow=!1:(this.isMove=!0,this.panelShow=!0,clearTimeout(this.timer),this.timer=setTimeout((function(){this.isMove=!1,t.panelShow=!1}),5e3))},hideSomething:function(){this.dropDownOpt.isShow&&this.hideDropDown()},dateCalculate:function(e){var a="";switch(e.unit){case"year":a=e.defaultValue+" years ago";break;case"quarterly":a=3*e.defaultValue+" months ago";break;case"month":a=e.defaultValue+" months ago";break;case"week":a=e.defaultValue+" weeks ago";break;case"day":a=e.defaultValue+" days ago"}var i=t(a),o=this.$route.query[e.key],r="",n="",s=i.getFullYear(),l=i.getMonth()+1,c=i.getDate();switch(e.unit){case"year":r+=s,o&&(r=o.substr(0,4)),n+=s;break;case"quarterly":r=r+s+"-0"+Math.ceil(l/3),o&&(r=o.substr(0,4)+"-"+o.substring(4)),n=n+s+"0"+Math.ceil(l/3);break;case"month":r=r+s+"-"+(l<10?"0"+l:l),o&&(r=o.substr(0,4)+"-"+o.substring(4)),n+=this.dateFormat(i,e.unit,e.timeFormat);break;case"week":r=r+s+"-"+(l<10?"0"+l:l)+"-"+(c<10?"0"+c:c),o&&(r=this.convertWeekNumberToFirstDate(o.substr(0,4),o.substring(4))),n=n+s+this.getWeek(i);break;case"day":r=r+s+"-"+(l<10?"0"+l:l)+"-"+(c<10?"0"+c:c),o&&(r=o.substr(0,4)+"-"+o.substr(4,2)+"-"+o.substr(6,2)),n+=this.dateFormat(i,e.unit,e.timeFormat)}return o&&(n=o),{pickerDate:r,realDate:n}},convertWeekNumberToFirstDate:function(t,e,a){void 0===a&&(a=!0);var i=1,o=parseInt(t),r=parseInt(e),n=1,s=new Date(o,0,n);if(!a){if(!(i<r))return s;i++}return 1!==s.getDay()&&(n+=7-s.getDay()+1,s.setFullYear(o,0,n)),i<r&&(n+=7*(r-i),s.setFullYear(o,0,n)),l()(s).format("YYYY-MM-DD")},dateFormat:function(t,e,a){var i="",o=t.getFullYear(),r=t.getMonth()<9?"0"+(t.getMonth()+1):t.getMonth()+1,n=t.getDate()<10?"0"+t.getDate():t.getDate();switch(a){case"YYYYMMDD":i=i+o+r,"day"===e&&(i+=n);break;case"YYYY-MM-DD":i=i+o+"-"+r,"day"===e&&(i=i+"-"+n);break;case"YYYY/MM/DD":i=i+o+"/"+r,"day"===e&&(i=i+"/"+n);break;case"MMDD,YYYY":i+=r,"day"===e&&(i+=n),i=i+","+o;break;case"MM-DD-YYYY":i+=r,"day"===e&&(i=i+"-"+n),i=i+"-"+o;break;case"MM/DD/YYYY":i+=r,"day"===e&&(i=i+"/"+n),i=i+"/"+o}return i},getWeek:function(t){var e=new Date(t.getFullYear(),0,1),a=Math.ceil(((t-e)/864e5+e.getDay()+1)/7);return a<10?"0"+a:a}},Object(h.b)({hideDropDown:"hideDropDown",changeDropDownSelected:"changeDropDownSelected",drawRestoreData:"drawRestoreData",drawChangeBlockLoadingState:"drawChangeBlockLoadingState",controllerRestoreData:"controllerRestoreData",showPopupWindow:"showPopupWindow",hidePopupWindow:"hidePopupWindow",changePopupWindowClick:"changePopupWindowClick",restoreReportParam:"restoreReportParam",changeReportParamDefaultValue:"changeReportParamDefaultValue",changeReportParamSelectValue:"changeReportParamSelectValue"})),mounted:function(){var t=this;if(this.showAll=!0,window.onresize=function(){t.$refs.draw.setParentWidth()},this.$route.params.id){this.modelId=this.$route.params.id;var e={resId:this.modelId,type:"view"};this.drawChangeBlockLoadingState({name:"view",loadState:"start"}),this.$http({url:this.urls.openReport,params:e,method:"get"}).then((function(e){if(i.isEmptyObject(e.data)){var a={show:!0,type:"alert",content:t.$t("design.designNoData")};t.popupWindowUser="initLoad",t.showPopupWindow(a)}else{e.data=e.data.data;var o=e.data.init_params.content;t.reportName=e.data.init_params.title,o.reportParam||(o.reportParam={}),o.reportParam.paramList=e.data.init_params.param?JSON.parse(e.data.init_params.param):[],t.restoreReportParam(o.reportParam),t.controllerRestoreData(o.pageController),t.drawRestoreData(o.draw)}t.drawChangeBlockLoadingState({name:"view",loadState:"finish"})})).catch((function(e){t.drawChangeBlockLoadingState({name:"view",loadState:"error"});var a=t.$t("design.designGetDataFailed");e&&e.response&&e.response.data&&(a=e.response.data.message);var i={show:!0,type:"alert",content:a,style:{height:"145px"}};t.popupWindowUser="initLoad",t.showPopupWindow(i)}))}else if(opener){var a=i.extend(!0,{},opener.publicVariable.preview.data);t.reportName=t.$t("design.designView")+" Model",a.reportParam.paramList=opener.publicVariable.preview.param?JSON.parse(opener.publicVariable.preview.param):[],this.restoreReportParam(a.reportParam),this.controllerRestoreData(a.pageController),this.drawRestoreData(a.draw)}}}}).call(this,a("1625"),a("1157"))},"4c64":function(t,e,a){"use strict";var i=a("f968").a,o=(a("5be5"),a("2877")),r=Object(o.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("modal",{attrs:{properties:t.windowOpt},on:{afterClickButton:t.selectParam}},[a("div",{staticClass:"paramSelectWindow",attrs:{slot:"windowBody"},slot:"windowBody"},t._l(t.showParamSetting,(function(e){return a("div",{key:e.key,staticClass:"singleParam"},[a("div",{staticClass:"paramTitle"},[a("span",{staticClass:"paramName"},[t._v(t._s(t.paramName[e.key]))]),a("span",{staticClass:"paramValue"},[t._v(" "+t._s(t.selectedValue[e.key].realDate)+" ")])]),a("div",{staticClass:"TimeParam",attrs:{id:e.key+"ParamSetting"}},[a("my97DatePicker",{attrs:{properties:t.dataPickerOpt[e.key]},on:{onpicked:function(a){return t.selectValue(a,e)}}})],1)])})),0)])}),[],!1,null,null,null);e.a=r.exports},"5be5":function(t,e,a){"use strict";var i=a("fa14");a.n(i).a},"749b":function(t,e,a){"use strict";var i=a("3175").a,o=(a("a98e"),a("2877")),r=Object(o.a)(i,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("nanoscrollerComponent",{attrs:{properties:{height:"100%",width:"100%",axis:"view"===t.model&&t.reportSetting.showDirection?"x":"y",isKeyboard:!1,style:t.nanoscrollerStyle}}},[i("div",{directives:[{name:"loadingLinear",rawName:"v-loadingLinear",value:{show:t.loadingState},expression:"{ show: loadingState }"}],style:t.padStyle,on:{mousedown:function(e){return t.mousedown(e)},mousemove:function(e){return t.mousemove(e)},mouseup:function(e){return t.mouseup(e)},mouseleave:function(e){return t.mouseleave(e)},contextmenu:function(t){t.preventDefault()},selectstart:function(t){t.preventDefault()}}},[t._l(t.pageList,(function(e,o){return[e===t.currentPage||"all"===t.currentPage||"view"===t.model&&t.reportSetting.showDirection?i("div",{key:"draw-"+e,staticClass:"pagebox",style:t.pageBoxStyle},[i("div",{staticClass:"page",class:{overHide:"view"===t.model,boxShadow:t.reportSetting.showPadding},style:t.transformPageStyle[e],attrs:{editRole:e}},[i("div",{ref:"drawPanel",refInFor:!0,staticClass:"graticule",class:{graticuleLine:"edit"===t.model},style:t.transformGraticuleStyle[e]},[t._l(t.drawBlockContent[e],(function(e){return i("div",{directives:[{name:"show",rawName:"v-show",value:t.showBolckArea(e),expression:"showBolckArea(item)"}],key:e.id,staticClass:"bolckArea",class:{selected:e.selected},style:e.position,attrs:{editRole:"bolck",name:e.id}},[i("div",{key:"draw-"+e.id,staticClass:"blockContent",attrs:{editRole:"content"}},[i(t.comName(e),{tag:"component",attrs:{blockType:e.type,model:t.model,getData:e.contentData,getStyle:e.position,blockId:e.id,reportSetting:t.reportStyle.blockStyle,theme:t.reportSetting.echartsTheme,toggleData:t.dataForToggleType[e.id],params:t.paramToBlock}})],1),"edit"===t.model&&"text"!==e.type?i("div",{staticClass:"block-content-mask"}):t._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:e.selected,expression:"item.selected"}],staticClass:"selectBorder"},[i("div",{staticClass:"borderTop"}),i("div",{staticClass:"borderBottom"}),i("div",{staticClass:"borderLeft"}),i("div",{staticClass:"borderRight"})]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.selected&&1===t.selected.length,expression:"item.selected && selected.length === 1"}],staticClass:"border",attrs:{editRole:"border"}},[i("div",{staticClass:"leftTop",attrs:{editRole:"leftTop"}}),i("div",{staticClass:"leftCenter",attrs:{editRole:"leftCenter"}}),i("div",{staticClass:"leftBottom",attrs:{editRole:"leftBottom"}}),i("div",{staticClass:"rightTop",attrs:{editRole:"rightTop"}}),i("div",{staticClass:"rightCenter",attrs:{editRole:"rightCenter"}}),i("div",{staticClass:"rightBottom",attrs:{editRole:"rightBottom"}}),i("div",{staticClass:"topCenter",attrs:{editRole:"topCenter"}}),i("div",{staticClass:"bottomCenter",attrs:{editRole:"bottomCenter"}})])])})),t._l(t.groupData[e],(function(t,e){return i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"group.show"}],key:e,staticClass:"groupFrame",style:t.style},[i("div",{staticClass:"selectBorder"},[i("div",{staticClass:"borderGroup",style:t.styleTop}),i("div",{staticClass:"borderGroup",style:t.styleBottom}),i("div",{staticClass:"borderGroup",style:t.styleLeft}),i("div",{staticClass:"borderGroup",style:t.styleRight})])])})),i("div",{directives:[{name:"show",rawName:"v-show",value:t.resizerData.show,expression:"resizerData.show"}],staticClass:"resizer",style:t.resizerData.style},[i("div",{staticClass:"selectBorder"},[i("div",{staticClass:"borderGroup",style:t.resizerData.styleTop}),i("div",{staticClass:"borderGroup",style:t.resizerData.styleBottom}),i("div",{staticClass:"borderGroup",style:t.resizerData.styleLeft}),i("div",{staticClass:"borderGroup",style:t.resizerData.styleRight})]),i("div",{staticClass:"border",attrs:{editRole:"border"}},[i("div",{staticClass:"leftTop",attrs:{editRole:"leftTop"}}),i("div",{staticClass:"leftCenter",style:t.resizerData.leftCenter,attrs:{editRole:"leftCenter"}}),i("div",{staticClass:"leftBottom",style:t.resizerData.leftBottom,attrs:{editRole:"leftBottom"}}),i("div",{staticClass:"rightTop",style:t.resizerData.rightTop,attrs:{editRole:"rightTop"}}),i("div",{staticClass:"rightCenter",style:t.resizerData.rightCenter,attrs:{editRole:"rightCenter"}}),i("div",{staticClass:"rightBottom",style:t.resizerData.rightBottom,attrs:{editRole:"rightBottom"}}),i("div",{staticClass:"topCenter",style:t.resizerData.topCenter,attrs:{editRole:"topCenter"}}),i("div",{staticClass:"bottomCenter",style:t.resizerData.bottomCenter,attrs:{editRole:"bottomCenter"}})])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.reportStyle.pageNum.show,expression:"reportStyle.pageNum.show"}],staticClass:"pageNum",class:[t.reportStyle.pageNum.position]},[t._v(t._s(o+1))]),i("img",{directives:[{name:"show",rawName:"v-show",value:"view"===t.model&&t.showLogo,expression:"model === 'view' && showLogo"}],staticClass:"logoImage",attrs:{src:a("aca7"),alt:"数据股份图标"}}),t.showReportParam&&(e===t.currentPage||"all"===t.currentPage&&0===o)?i("div",{staticClass:"reportParam",class:[t.paramStyleSetting.position,"view"===t.model?"pointer":""],on:{click:t.clickParamButton}},[i("span",{staticClass:"iconfont icon-report-param"})]):t._e()],2)])]):t._e()]})),i("div",{directives:[{name:"show",rawName:"v-show",value:"select"===t.drawEventData.mouseState||"create"===t.drawEventData.mouseState,expression:"drawEventData.mouseState === 'select' || drawEventData.mouseState === 'create'"}],staticClass:"auxiliaryFrame",style:t.auxiliaryFrameStyle}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.contextMenu.show,expression:"contextMenu.show"}],staticClass:"contextMenu",style:t.contextMenu.style,attrs:{id:"contextMenu"},on:{mousedown:function(t){t.stopPropagation()},mouseup:function(t){t.stopPropagation()}}},[i("ul",{staticClass:"menuBox",staticStyle:{padding:"0",margin:"0"}},t._l(t.contextMenu.data,(function(e){return i("li",{directives:[{name:"show",rawName:"v-show",value:t.contextMenuShow[e.value],expression:"contextMenuShow[menu.value]"}],key:e.value,staticClass:"menuList",style:{height:t.defaultData.contextmenuLineHeight+"px"},on:{click:function(a){return a.stopPropagation(),t.clickMenu(e.value)}}},[i("div",{staticClass:"menuText",class:{spread:e.children}},[t._v(t._s(e.text))]),e.children?i("ul",{staticClass:"subMenuBox",class:{subleft:"left"===t.contextMenu.subX,subright:"right"===t.contextMenu.subX,subtop:"top"===t.contextMenu.subY,subbottom:"bottom"===t.contextMenu.subY},style:e.children.style},t._l(e.children.data,(function(e){return i("li",{key:e.value,staticClass:"subMenuList",style:{height:t.defaultData.contextmenuLineHeight+"px"},on:{click:function(a){return a.stopPropagation(),t.clickMenu(e.value)}}},[i("div",{staticClass:"subMenuText"},[t._v(t._s(e.text))])])})),0):t._e()])})),0)]),"view"===t.model?i("paramWindow",{attrs:{show:t.showParamWindow,showParamSetting:t.paramSettingWithKey,paramValue:t.paramCurrentValue},on:{selectParam:t.selectParam}}):t._e()],2)])}),[],!1,null,"3d200661",null);e.a=r.exports},"75f8":function(t,e,a){},"78fa":function(t,e,a){"use strict";var i=a("5530"),o=a("2f62"),r={name:"viewSwitch",data:function(){return{showType:"all"}},methods:{bindSwitch:function(){this.$emit("changeShowType",this.showType),this.showType="page"===this.showType?"all":"page"}}},n=(a("2012"),a("2877")),s=Object(n.a)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"toggle-button-wrapper"},[a("input",{attrs:{type:"checkbox",id:"toggle-button",name:"switch"}}),a("label",{staticClass:"button-label",attrs:{for:"toggle-button"},on:{click:t.bindSwitch}},[a("span",{staticClass:"circle"}),a("span",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:t.$t("design.viewAllShow"),expression:"$t('design.viewAllShow')",modifiers:{bottom:!0}}],staticClass:"text on"},[t._v(t._s(t.$t("design.viewAllShow")))]),a("span",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:t.$t("design.viewPageShow"),expression:"$t('design.viewPageShow')",modifiers:{bottom:!0}}],staticClass:"text off"},[t._v(t._s(t.$t("design.viewPageShow")))])])])}),[],!1,null,"a66fb948",null).exports,l=a("c0e9"),c=a.n(l),h=a("e511"),d=a.n(h),p={name:"viewPage",components:{viewSwitch:s},props:["model","reportName","panelShow"],data:function(){return{editPage:"",showType:"page",firstOpen:!1,errorText:"",showSpread:!0,currentIndex:0,showDropDowmFlag:!1,fullScreen:!1}},directives:{focus:function(t){t.focus()}},computed:Object(i.a)({},Object(o.d)({lastAddPage:function(t){return t.draw.lastAddPage},drawSize:function(t){return t.draw.drawSize},currentPage:function(t){return t.draw.currentPage},pageList:function(t){return t.pageController.pageList},pageNameList:function(t){return t.pageController.pageNameList},drawPanels:function(t){return t.draw.drawPanels},pageContent:function(t){return t.draw.pageContent}})),watch:{lastAddPage:function(){this.lastAddPage&&(this.emptyError(),this.controllerAddPage(this.lastAddPage))},pageList:function(){this.firstOpen?(this.firstOpen=!1,this.editId||"view"===this.model?this.drawChangeCurrentPage(this.pageList[0]):this.drawAddPage()):0===this.pageList.length&&this.drawAddPage()},currentPage:function(){for(var t=0;t<this.pageList.length;t++)this.currentPage===this.pageList[t]&&(this.currentIndex=t+1)}},methods:Object(i.a)(Object(i.a)({},Object(o.b)({drawChangeCurrentPage:"drawChangeCurrentPage",drawChangeBlockLoadingState:"drawChangeBlockLoadingState",drawAddPage:"drawAddPage",drawDeletePage:"drawDeletePage",controllerAddPage:"controllerAddPage",controllerDeletePage:"controllerDeletePage",controllerChangePageName:"controllerChangePageName",controllerMovePage:"controllerMovePage",changelogoValue:"changelogoValue"})),{},{emptyError:function(){this.errorText=""},lisetningSwitch:function(t){this.showType=t},showDropDowm:function(){this.showDropDowmFlag=!this.showDropDowmFlag},drawFullScreen:function(){var t=document.documentElement;t=t||document.body,this.fullScreen=!0,t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullScreen?t.webkitRequestFullScreen():t.msRequestFullscreen&&t.msRequestFullscreen()},drawShrinkScreen:function(){this.fullScreen=!1,document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},drawDownloadReport:function(){var t=this;this.drawChangeBlockLoadingState({name:"view",loadState:"start"});var e=new d.a(parseFloat(this.drawSize.width)>parseFloat(this.drawSize.height)?"l":"p","pt",[3*parseFloat(this.drawSize.width)/4,3*parseFloat(this.drawSize.height)/4]);this.changelogoValue(!0),setTimeout((function(){t.htmlToPdf(e,t.reportName,0)}),2)},htmlToPdf:function(t,e,a){var i=this,o=null,r=(o=i.drawPanels.length?i.drawPanels[a]:i.drawPanels).offsetWidth,n=o.offsetHeight,s=document.createElement("canvas");s.width=r,s.height=n,s.getContext("2d").scale(2,2),c()(o,{scale:2,useCORS:!0,dpi:window.devicePixelRatio,allowTaint:!1,taintTest:!1}).then((function(o){var r=o.getContext("2d");r.mozImageSmoothingEnabled=!1,r.webkitImageSmoothingEnabled=!1,r.msImageSmoothingEnabled=!1,r.imageSmoothingEnabled=!1;var n=o.width,s=o.height,l=i._.ceil(n/(3*parseFloat(i.drawSize.width)/4)*(3*parseFloat(i.drawSize.height)/4)),c=s,h=0,d=3*parseFloat(i.drawSize.width)/4,p=d/n*s,u=o.toDataURL("image/jpeg",1);if(t.internal.scaleFactor=1.33,c<l)t.addImage(u,"jpeg",0,0,d,p);else for(;c>0;)t.addImage(u,"jpeg",0,h,d,p),c-=l,h-=3*parseFloat(i.drawSize.height)/4,c>0&&t.addPage();i.drawPanels.length!==a+1&&i.drawPanels.length?(t.addPage([3*parseFloat(i.drawSize.width)/4,3*parseFloat(i.drawSize.height)/4],parseFloat(i.drawSize.width)>parseFloat(i.drawSize.height)?"l":"p"),i.htmlToPdf(t,e,a+1)):(i.drawChangeBlockLoadingState({name:"view",loadState:"finish"}),t.save("".concat(e,".pdf")),setTimeout((function(){i.changelogoValue(!1)}),2))}))},changeShowType:function(t){this.emptyError(),this.showType=t,"all"===t?this.drawChangeCurrentPage("all"):this.drawChangeCurrentPage(this.pageList[0])},clickPage:function(t){this.emptyError();var e=this;if(this.showDropDowmFlag=!1,!this.editPage&&"page"===this.showType){if("left"===t||"right"===t)for(var a=0;a<this.pageList.length;a++)this.currentPage===this.pageList[a]&&("left"===t?t=0===a?this.pageList[a]:this.pageList[a-1]:"right"===t&&(t=a===this.pageList.length-1?this.pageList[a]:this.pageList[a+1]));clearTimeout(this.clickSetTime),this.clickSetTime=setTimeout((function(){e.drawChangeCurrentPage(t)}),300)}}}),mounted:function(){var t=this;this.$nextTick((function(){window.parent.parent&&window.parent.parent.report_data&&(window.addEventListener("message",(function(e){"export"===e.data&&t.drawDownloadReport()})),this.changeShowType("all"),this.showSpread=!1)})),"edit"!==this.model||this.editId?this.pageList.length>0?this.drawChangeCurrentPage(this.pageList[0]):this.firstOpen=!0:this.drawAddPage()}},u=(a("3bca"),Object(n.a)(p,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.panelShow,expression:"panelShow"}],staticClass:"view-page-wrapper",attrs:{onselectstart:"return false;"}},[a("div",{staticClass:"float-left"},["page"===t.showType?[a("span",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:t.$t("design.viewLeft"),expression:"$t('design.viewLeft')",modifiers:{bottom:!0}}],staticClass:"iconfont icon-arrow-left",class:{ends:1===t.currentIndex},on:{click:function(e){return t.clickPage("left")}}}),a("span",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:t.$t("design.viewRight"),expression:"$t('design.viewRight')",modifiers:{bottom:!0}}],staticClass:"iconfont icon-arrow-right",class:{ends:t.currentIndex===t.pageList.length},on:{click:function(e){return t.clickPage("right")}}}),a("span",{staticClass:"line"}),a("span",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:t.pageNameList[t.currentPage],expression:"pageNameList[currentPage]",modifiers:{bottom:!0}}]},[t._v(" "+t._s(t.pageNameList[t.currentPage])+" ")]),a("span",[t._v(" ( "+t._s(t.$t("design.viewDI"))+" "+t._s(t.currentIndex)+" "+t._s(t.$t("design.viewDPage"))+" , "+t._s(t.$t("design.viewGONG"))+" "+t._s(t.pageList.length)+" "+t._s(t.$t("design.viewGPage"))+" ) ")]),a("span",{staticClass:"iconfont more icon-showdrop drop-dowm",on:{click:function(e){return e.preventDefault(),t.showDropDowm()}}},[a("ul",{directives:[{name:"show",rawName:"v-show",value:t.showDropDowmFlag,expression:"showDropDowmFlag"}],staticClass:"ul-list",on:{mouseleave:function(e){return e.preventDefault(),t.showDropDowm()}}},t._l(t.pageList,(function(e,i){return a("li",{key:i,class:{active:i===t.currentIndex-1},on:{click:function(a){return a.preventDefault(),t.clickPage(e)}}},[t._v(" "+t._s(i+1)+" . "+t._s(t.pageNameList[e])+" ")])})),0)]),a("span",{staticClass:"line"})]:t._e(),a("span",[a("view-switch",{on:{changeShowType:t.changeShowType,click:function(e){return t.changeShowType()}}})],1)],2),a("div",{staticClass:"float-right"},[a("span",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:t.$t("design.drawDownloadReport"),expression:"$t('design.drawDownloadReport')",modifiers:{bottom:!0}}],staticClass:"iconfont icon-bottom downReport",on:{click:function(e){return t.drawDownloadReport()}}}),a("span",{staticClass:"line"}),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.fullScreen,expression:"!fullScreen"},{name:"tooltip",rawName:"v-tooltip.bottom",value:t.$t("design.drawPcFullScreen"),expression:"$t('design.drawPcFullScreen')",modifiers:{bottom:!0}}],staticClass:"iconfont icon-enlarge full",on:{click:function(e){return t.drawFullScreen()}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.fullScreen,expression:"fullScreen"},{name:"tooltip",rawName:"v-tooltip.bottom",value:t.$t("design.drawPcShrinkScreen"),expression:"$t('design.drawPcShrinkScreen')",modifiers:{bottom:!0}}],staticClass:"iconfont icon-narrow shrink",on:{click:function(e){return t.drawShrinkScreen()}}})])])])}),[],!1,null,"522dfed1",null));e.a=u.exports},"8a6e":function(t,e,a){"use strict";a.r(e);var i=a("42dd").a,o=(a("92fa5"),a("2877")),r=Object(o.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"view",on:{click:t.hideSomething,mouseleave:t.mouseLeave,mousemove:t.mousemove}},[t.showAll?a("div",{staticClass:"container"},[a("drawComponent",{ref:"draw",attrs:{model:"view"}}),a("view-page",{attrs:{model:"view",reportName:t.reportName,panelShow:t.panelShow},on:{"update:panelShow":function(e){t.panelShow=e},"update:panel-show":function(e){t.panelShow=e}}})],1):t._e(),a("modal",{attrs:{properties:t.popupWindowOpt},on:{afterClickButton:t.changePopupWindowClick}},[a("div",{style:{width:"100%",height:"100%"},attrs:{slot:"windowBody"},slot:"windowBody"},[a("iframe",{style:{width:"100%",height:"100%"},attrs:{src:t.modalClick.iframeSrc,frameborder:"0"}})])])],1)}),[],!1,null,"55145d8f",null);e.default=r.exports},"92fa5":function(t,e,a){"use strict";var i=a("75f8");a.n(i).a},a98e:function(t,e,a){"use strict";var i=a("af96");a.n(i).a},aca7:function(t,e,a){t.exports=a.p+"img/logo.0b8406e1.jpg"},af96:function(t,e,a){},d003:function(t,e,a){},f968:function(t,e,a){"use strict";(function(t){var i=a("b85c");e.a={name:"paramSelectWindow",props:["show","showParamSetting","paramValue"],data:function(){return{currentValue:{},paramName:{reportTime:"",beginTime:this.$t("design.paramWindowStartTime"),endTime:this.$t("design.paramWindowEndTime")},dataFmt:{day:"yyyy-MM-dd",week:"yyyy-MM-dd",month:"yyyy-MM",quarterly:"yyyy-MM",year:"yyyy"}}},computed:{windowOpt:function(){return{show:this.show,type:"custom",head:this.$t("design.designParamSelect"),style:{width:"480px",height:"280px"}}},dataPickerOpt:function(){var t,e={},a=Object(i.a)(this.showParamSetting);try{for(a.s();!(t=a.n()).done;){var o=t.value,r={eCont:o.key+"ParamSetting",isShowNavImg:!1,isShowWeek:"week"===o.unit,realDateFmt:this.dataFmt[o.unit],dateFmt:this.dataFmt[o.unit],alwaysUseStartDate:!0,disabledDates:"quarterly"===o.unit?["....0[5-9]","....1[0-2]"]:null,startDate:this.selectedValue[o.key].pickerDate,minDate:"endTime"===o.key?this.selectedValue.beginTime.pickerDate:"1900-01-01",maxDate:"beginTime"===o.key?this.selectedValue.endTime.pickerDate:"2099-12-31"};e[o.key]=r}}catch(t){a.e(t)}finally{a.f()}return e},selectedValue:function(){return t.extend(!0,{},this.paramValue,this.currentValue)}},methods:{selectParam:function(t){this.$emit("selectParam",t,this.currentValue)},selectValue:function(){var t=arguments.length<=0?void 0:arguments[0],e=arguments.length<=1?void 0:arguments[1],a=t.cal.getP("y","yyyy"),i=t.cal.getP("M","MM"),o=t.cal.getP("d","dd"),r="",n="";switch(e.unit){case"year":r+=a,n+=a;break;case"quarterly":r=r+a+"-"+i,n=n+a+i;break;case"month":r=r+a+"-"+i,n+=this.dateFormat(e.timeFormat,e.unit,a,i,o);break;case"week":r=r+a+"-"+i+"-"+o,n=n+a+t.cal.getP("W","WW");break;case"day":r=r+a+"-"+i+"-"+o,n+=this.dateFormat(e.timeFormat,e.unit,a,i,o)}this.$set(this.currentValue,e.key,{pickerDate:r,realDate:n})},dateFormat:function(t,e,a,i,o){var r="";switch(t){case"YYYYMMDD":r=r+a+i,"day"===e&&(r+=o);break;case"YYYY-MM-DD":r=r+a+"-"+i,"day"===e&&(r=r+"-"+o);break;case"YYYY/MM/DD":r=r+a+"/"+i,"day"===e&&(r=r+"/"+o);break;case"MMDD,YYYY":r+=i,"day"===e&&(r+=o),r=r+","+a;break;case"MM-DD-YYYY":r+=i,"day"===e&&(r=r+"-"+o),r=r+"-"+a;break;case"MM/DD/YYYY":r+=i,"day"===e&&(r=r+"/"+o),r=r+"/"+a}return r}}}}).call(this,a("1157"))},fa14:function(t,e,a){}}]);