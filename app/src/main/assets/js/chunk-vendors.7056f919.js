(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"00b4":function(t,e,n){"use strict";n("ac1f");var r,i,a=n("23e7"),o=n("861d"),s=(r=!1,(i=/[ac]/).exec=function(){return r=!0,/./.exec.apply(this,arguments)},!0===i.test("abc")&&r),u=/./.test;a({target:"RegExp",proto:!0,forced:!s},{test:function(t){if("function"!=typeof this.exec)return u.call(this,t);var e=this.exec(t);if(null!==e&&!o(e))throw new Error("RegExp exec method returned something other than an Object or null");return!!e}})},"00d4":function(t,e,n){"use strict";var r=n("51c4");n.n(r).a},"00ee":function(t,e,n){var r={};r[n("b622")("toStringTag")]="z",t.exports="[object z]"===String(r)},"0132":function(t,e,n){(function(e,r){t.exports=function(t,n){"use strict";var i;return t=t&&t.hasOwnProperty("default")?t.default:t,n=n&&n.hasOwnProperty("default")?n.default:n,function(i){var a;function o(){return document.createElement("canvas")}i.exports,(a=window).DOMParser=window.DOMParser;var s,u=function(e,r,i){if(null!=e||null!=r||null!=i){var l=function(e){var r={opts:e,FRAMERATE:30,MAX_VIRTUAL_PIXELS:3e4,rootEmSize:12,emSize:12,log:function(t){}};1==r.opts.log&&"undefined"!=typeof console&&(r.log=function(t){console.log(t)}),r.init=function(t){var e=0;r.UniqueId=function(){return"canvg"+ ++e},r.Definitions={},r.Styles={},r.StylesSpecificity={},r.Animations=[],r.Images=[],r.ctx=t,r.ViewPort=new function(){this.viewPorts=[],this.Clear=function(){this.viewPorts=[]},this.SetCurrent=function(t,e){this.viewPorts.push({width:t,height:e})},this.RemoveCurrent=function(){this.viewPorts.pop()},this.Current=function(){return this.viewPorts[this.viewPorts.length-1]},this.width=function(){return this.Current().width},this.height=function(){return this.Current().height},this.ComputeSize=function(t){return null!=t&&"number"==typeof t?t:"x"==t?this.width():"y"==t?this.height():Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))/Math.sqrt(2)}}},r.init(),r.ImagesLoaded=function(){for(var t=0;t<r.Images.length;t++)if(!r.Images[t].loaded)return!1;return!0},r.trim=function(t){return t.replace(/^\s+|\s+$/g,"")},r.compressSpaces=function(t){return t.replace(/(?!\u3000)\s+/gm," ")},r.ajax=function(t){var e;return(e=a.XMLHttpRequest?new a.XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"))?(e.open("GET",t,!1),e.send(null),e.responseText):null},r.parseXml=function(t){if("undefined"!=typeof Windows&&void 0!==Windows.Data&&void 0!==Windows.Data.Xml){var n=new Windows.Data.Xml.Dom.XmlDocument,r=new Windows.Data.Xml.Dom.XmlLoadSettings;return r.prohibitDtd=!1,n.loadXml(t,r),n}if(!a.DOMParser)return t=t.replace(/<!DOCTYPE svg[^>]*>/,""),(n=new ActiveXObject("Microsoft.XMLDOM")).async="false",n.loadXML(t),n;try{var i=e.xmldom?new a.DOMParser(e.xmldom):new a.DOMParser;return i.parseFromString(t,"image/svg+xml")}catch(n){return(i=e.xmldom?new a.DOMParser(e.xmldom):new a.DOMParser).parseFromString(t,"text/xml")}},r.Property=function(t,e){this.name=t,this.value=e},r.Property.prototype.getValue=function(){return this.value},r.Property.prototype.hasValue=function(){return null!=this.value&&""!==this.value},r.Property.prototype.numValue=function(){if(!this.hasValue())return 0;var t=parseFloat(this.value);return(this.value+"").match(/%$/)&&(t/=100),t},r.Property.prototype.valueOrDefault=function(t){return this.hasValue()?this.value:t},r.Property.prototype.numValueOrDefault=function(t){return this.hasValue()?this.numValue():t},r.Property.prototype.addOpacity=function(e){var n=this.value;if(null!=e.value&&""!=e.value&&"string"==typeof this.value){var i=new t(this.value);i.ok&&(n="rgba("+i.r+", "+i.g+", "+i.b+", "+e.numValue()+")")}return new r.Property(this.name,n)},r.Property.prototype.getDefinition=function(){var t=this.value.match(/#([^\)'"]+)/);return t&&(t=t[1]),t||(t=this.value),r.Definitions[t]},r.Property.prototype.isUrlDefinition=function(){return 0==this.value.indexOf("url(")},r.Property.prototype.getFillStyleDefinition=function(t,e){var n=this.getDefinition();if(null!=n&&n.createGradient)return n.createGradient(r.ctx,t,e);if(null!=n&&n.createPattern){if(n.getHrefAttribute().hasValue()){var i=n.attribute("patternTransform");n=n.getHrefAttribute().getDefinition(),i.hasValue()&&(n.attribute("patternTransform",!0).value=i.value)}return n.createPattern(r.ctx,t)}return null},r.Property.prototype.getDPI=function(t){return 96},r.Property.prototype.getREM=function(t){return r.rootEmSize},r.Property.prototype.getEM=function(t){return r.emSize},r.Property.prototype.getUnits=function(){return(this.value+"").replace(/[0-9\.\-]/g,"")},r.Property.prototype.isPixels=function(){if(!this.hasValue())return!1;var t=this.value+"";return!!t.match(/px$/)||!!t.match(/^[0-9]+$/)},r.Property.prototype.toPixels=function(t,e){if(!this.hasValue())return 0;var n=this.value+"";if(n.match(/rem$/))return this.numValue()*this.getREM(t);if(n.match(/em$/))return this.numValue()*this.getEM(t);if(n.match(/ex$/))return this.numValue()*this.getEM(t)/2;if(n.match(/px$/))return this.numValue();if(n.match(/pt$/))return this.numValue()*this.getDPI(t)*(1/72);if(n.match(/pc$/))return 15*this.numValue();if(n.match(/cm$/))return this.numValue()*this.getDPI(t)/2.54;if(n.match(/mm$/))return this.numValue()*this.getDPI(t)/25.4;if(n.match(/in$/))return this.numValue()*this.getDPI(t);if(n.match(/%$/))return this.numValue()*r.ViewPort.ComputeSize(t);var i=this.numValue();return e&&i<1?i*r.ViewPort.ComputeSize(t):i},r.Property.prototype.toMilliseconds=function(){if(!this.hasValue())return 0;var t=this.value+"";return t.match(/s$/)?1e3*this.numValue():(t.match(/ms$/),this.numValue())},r.Property.prototype.toRadians=function(){if(!this.hasValue())return 0;var t=this.value+"";return t.match(/deg$/)?this.numValue()*(Math.PI/180):t.match(/grad$/)?this.numValue()*(Math.PI/200):t.match(/rad$/)?this.numValue():this.numValue()*(Math.PI/180)};var i={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};return r.Property.prototype.toTextBaseline=function(){return this.hasValue()?i[this.value]:null},r.Font=new function(){this.Styles="normal|italic|oblique|inherit",this.Variants="normal|small-caps|inherit",this.Weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit",this.CreateFont=function(t,e,n,i,a,o){var s=null!=o?this.Parse(o):this.CreateFont("","","","","",r.ctx.font);return{fontFamily:a=a||s.fontFamily,fontSize:i||s.fontSize,fontStyle:t||s.fontStyle,fontWeight:n||s.fontWeight,fontVariant:e||s.fontVariant,toString:function(){return[this.fontStyle,this.fontVariant,this.fontWeight,this.fontSize,this.fontFamily].join(" ")}}};var t=this;this.Parse=function(e){for(var n={},i=r.trim(r.compressSpaces(e||"")).split(" "),a={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1},o="",s=0;s<i.length;s++)a.fontStyle||-1==t.Styles.indexOf(i[s])?a.fontVariant||-1==t.Variants.indexOf(i[s])?a.fontWeight||-1==t.Weights.indexOf(i[s])?a.fontSize?"inherit"!=i[s]&&(o+=i[s]):("inherit"!=i[s]&&(n.fontSize=i[s].split("/")[0]),a.fontStyle=a.fontVariant=a.fontWeight=a.fontSize=!0):("inherit"!=i[s]&&(n.fontWeight=i[s]),a.fontStyle=a.fontVariant=a.fontWeight=!0):("inherit"!=i[s]&&(n.fontVariant=i[s]),a.fontStyle=a.fontVariant=!0):("inherit"!=i[s]&&(n.fontStyle=i[s]),a.fontStyle=!0);return""!=o&&(n.fontFamily=o),n}},r.ToNumberArray=function(t){for(var e=r.trim(r.compressSpaces((t||"").replace(/,/g," "))).split(" "),n=0;n<e.length;n++)e[n]=parseFloat(e[n]);return e},r.Point=function(t,e){this.x=t,this.y=e},r.Point.prototype.angleTo=function(t){return Math.atan2(t.y-this.y,t.x-this.x)},r.Point.prototype.applyTransform=function(t){var e=this.x*t[0]+this.y*t[2]+t[4],n=this.x*t[1]+this.y*t[3]+t[5];this.x=e,this.y=n},r.CreatePoint=function(t){var e=r.ToNumberArray(t);return new r.Point(e[0],e[1])},r.CreatePath=function(t){for(var e=r.ToNumberArray(t),n=[],i=0;i<e.length;i+=2)n.push(new r.Point(e[i],e[i+1]));return n},r.BoundingBox=function(t,e,n,r){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN,this.x=function(){return this.x1},this.y=function(){return this.y1},this.width=function(){return this.x2-this.x1},this.height=function(){return this.y2-this.y1},this.addPoint=function(t,e){null!=t&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=t,this.x2=t),t<this.x1&&(this.x1=t),t>this.x2&&(this.x2=t)),null!=e&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=e,this.y2=e),e<this.y1&&(this.y1=e),e>this.y2&&(this.y2=e))},this.addX=function(t){this.addPoint(t,null)},this.addY=function(t){this.addPoint(null,t)},this.addBoundingBox=function(t){this.addPoint(t.x1,t.y1),this.addPoint(t.x2,t.y2)},this.addQuadraticCurve=function(t,e,n,r,i,a){var o=t+2/3*(n-t),s=e+2/3*(r-e),u=o+1/3*(i-t),l=s+1/3*(a-e);this.addBezierCurve(t,e,o,u,s,l,i,a)},this.addBezierCurve=function(t,e,n,r,i,a,o,s){var u=[t,e],l=[n,r],c=[i,a],h=[o,s];this.addPoint(u[0],u[1]),this.addPoint(h[0],h[1]);for(var f=0;f<=1;f++){var d=function(t){return Math.pow(1-t,3)*u[f]+3*Math.pow(1-t,2)*t*l[f]+3*(1-t)*Math.pow(t,2)*c[f]+Math.pow(t,3)*h[f]},p=6*u[f]-12*l[f]+6*c[f],m=-3*u[f]+9*l[f]-9*c[f]+3*h[f],g=3*l[f]-3*u[f];if(0!=m){var _=Math.pow(p,2)-4*g*m;if(!(_<0)){var v=(-p+Math.sqrt(_))/(2*m);0<v&&v<1&&(0==f&&this.addX(d(v)),1==f&&this.addY(d(v)));var y=(-p-Math.sqrt(_))/(2*m);0<y&&y<1&&(0==f&&this.addX(d(y)),1==f&&this.addY(d(y)))}}else{if(0==p)continue;var b=-g/p;0<b&&b<1&&(0==f&&this.addX(d(b)),1==f&&this.addY(d(b)))}}},this.isPointInBox=function(t,e){return this.x1<=t&&t<=this.x2&&this.y1<=e&&e<=this.y2},this.addPoint(t,e),this.addPoint(n,r)},r.Transform=function(t){var e=this;this.Type={},this.Type.translate=function(t){this.p=r.CreatePoint(t),this.apply=function(t){t.translate(this.p.x||0,this.p.y||0)},this.unapply=function(t){t.translate(-1*this.p.x||0,-1*this.p.y||0)},this.applyToPoint=function(t){t.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0])}},this.Type.rotate=function(t){var e=r.ToNumberArray(t);this.angle=new r.Property("angle",e[0]),this.cx=e[1]||0,this.cy=e[2]||0,this.apply=function(t){t.translate(this.cx,this.cy),t.rotate(this.angle.toRadians()),t.translate(-this.cx,-this.cy)},this.unapply=function(t){t.translate(this.cx,this.cy),t.rotate(-1*this.angle.toRadians()),t.translate(-this.cx,-this.cy)},this.applyToPoint=function(t){var e=this.angle.toRadians();t.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0]),t.applyTransform([Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0]),t.applyTransform([1,0,0,1,-this.p.x||0,-this.p.y||0])}},this.Type.scale=function(t){this.p=r.CreatePoint(t),this.apply=function(t){t.scale(this.p.x||1,this.p.y||this.p.x||1)},this.unapply=function(t){t.scale(1/this.p.x||1,1/this.p.y||this.p.x||1)},this.applyToPoint=function(t){t.applyTransform([this.p.x||0,0,0,this.p.y||0,0,0])}},this.Type.matrix=function(t){this.m=r.ToNumberArray(t),this.apply=function(t){t.transform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5])},this.unapply=function(t){var e=this.m[0],n=this.m[2],r=this.m[4],i=this.m[1],a=this.m[3],o=this.m[5],s=1/(e*(1*a-0*o)-n*(1*i-0*o)+r*(0*i-0*a));t.transform(s*(1*a-0*o),s*(0*o-1*i),s*(0*r-1*n),s*(1*e-0*r),s*(n*o-r*a),s*(r*i-e*o))},this.applyToPoint=function(t){t.applyTransform(this.m)}},this.Type.SkewBase=function(t){this.base=e.Type.matrix,this.base(t),this.angle=new r.Property("angle",t)},this.Type.SkewBase.prototype=new this.Type.matrix,this.Type.skewX=function(t){this.base=e.Type.SkewBase,this.base(t),this.m=[1,0,Math.tan(this.angle.toRadians()),1,0,0]},this.Type.skewX.prototype=new this.Type.SkewBase,this.Type.skewY=function(t){this.base=e.Type.SkewBase,this.base(t),this.m=[1,Math.tan(this.angle.toRadians()),0,1,0,0]},this.Type.skewY.prototype=new this.Type.SkewBase,this.transforms=[],this.apply=function(t){for(var e=0;e<this.transforms.length;e++)this.transforms[e].apply(t)},this.unapply=function(t){for(var e=this.transforms.length-1;0<=e;e--)this.transforms[e].unapply(t)},this.applyToPoint=function(t){for(var e=0;e<this.transforms.length;e++)this.transforms[e].applyToPoint(t)};for(var n=r.trim(r.compressSpaces(t)).replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/),i=0;i<n.length;i++)if("none"!==n[i]){var a=r.trim(n[i].split("(")[0]),o=n[i].split("(")[1].replace(")",""),s=this.Type[a];if(void 0!==s){var u=new s(o);u.type=a,this.transforms.push(u)}}},r.AspectRatio=function(t,e,n,i,a,o,s,u,l,c){var h=(e=(e=r.compressSpaces(e)).replace(/^defer\s/,"")).split(" ")[0]||"xMidYMid",f=e.split(" ")[1]||"meet",d=n/i,p=a/o,m=Math.min(d,p),g=Math.max(d,p);"meet"==f&&(i*=m,o*=m),"slice"==f&&(i*=g,o*=g),l=new r.Property("refX",l),c=new r.Property("refY",c),l.hasValue()&&c.hasValue()?t.translate(-m*l.toPixels("x"),-m*c.toPixels("y")):(h.match(/^xMid/)&&("meet"==f&&m==p||"slice"==f&&g==p)&&t.translate(n/2-i/2,0),h.match(/YMid$/)&&("meet"==f&&m==d||"slice"==f&&g==d)&&t.translate(0,a/2-o/2),h.match(/^xMax/)&&("meet"==f&&m==p||"slice"==f&&g==p)&&t.translate(n-i,0),h.match(/YMax$/)&&("meet"==f&&m==d||"slice"==f&&g==d)&&t.translate(0,a-o)),"none"==h?t.scale(d,p):"meet"==f?t.scale(m,m):"slice"==f&&t.scale(g,g),t.translate(null==s?0:-s,null==u?0:-u)},r.Element={},r.EmptyProperty=new r.Property("EMPTY",""),r.Element.ElementBase=function(t){this.attributes={},this.styles={},this.stylesSpecificity={},this.children=[],this.attribute=function(t,e){var n=this.attributes[t];return null!=n?n:(1==e&&(n=new r.Property(t,""),this.attributes[t]=n),n||r.EmptyProperty)},this.getHrefAttribute=function(){for(var t in this.attributes)if("href"==t||t.match(/:href$/))return this.attributes[t];return r.EmptyProperty},this.style=function(t,e,n){var i=this.styles[t];if(null!=i)return i;var a=this.attribute(t);if(null!=a&&a.hasValue())return this.styles[t]=a;if(1!=n){var o=this.parent;if(null!=o){var s=o.style(t);if(null!=s&&s.hasValue())return s}}return 1==e&&(i=new r.Property(t,""),this.styles[t]=i),i||r.EmptyProperty},this.render=function(t){if("none"!=this.style("display").value&&"hidden"!=this.style("visibility").value){if(t.save(),this.style("mask").hasValue()){var e=this.style("mask").getDefinition();null!=e&&e.apply(t,this)}else if(this.style("filter").hasValue()){var n=this.style("filter").getDefinition();null!=n&&n.apply(t,this)}else this.setContext(t),this.renderChildren(t),this.clearContext(t);t.restore()}},this.setContext=function(t){},this.clearContext=function(t){},this.renderChildren=function(t){for(var e=0;e<this.children.length;e++)this.children[e].render(t)},this.addChild=function(t,e){var n=t;e&&(n=r.CreateElement(t)),n.parent=this,"title"!=n.type&&this.children.push(n)},this.addStylesFromStyleDefinition=function(){for(var e in r.Styles)if("@"!=e[0]&&s(t,e)){var n=r.Styles[e],i=r.StylesSpecificity[e];if(null!=n)for(var a in n){var o=this.stylesSpecificity[a];void 0===o&&(o="000"),o<i&&(this.styles[a]=n[a],this.stylesSpecificity[a]=i)}}};var e,n=new RegExp("^[A-Z-]+$");if(null!=t&&1==t.nodeType){for(var i=0;i<t.attributes.length;i++){var a=t.attributes[i],o=(e=a.nodeName,n.test(e)?e.toLowerCase():e);this.attributes[o]=new r.Property(o,a.value)}if(this.addStylesFromStyleDefinition(),this.attribute("style").hasValue()){var u=this.attribute("style").value.split(";");for(i=0;i<u.length;i++)if(""!=r.trim(u[i])){var l=u[i].split(":"),c=r.trim(l[0]),h=r.trim(l[1]);this.styles[c]=new r.Property(c,h)}}for(this.attribute("id").hasValue()&&null==r.Definitions[this.attribute("id").value]&&(r.Definitions[this.attribute("id").value]=this),i=0;i<t.childNodes.length;i++){var f=t.childNodes[i];if(1==f.nodeType&&this.addChild(f,!0),this.captureTextNodes&&(3==f.nodeType||4==f.nodeType)){var d=f.value||f.text||f.textContent||"";""!=r.compressSpaces(d)&&this.addChild(new r.Element.tspan(f),!1)}}}},r.Element.RenderedElementBase=function(t){this.base=r.Element.ElementBase,this.base(t),this.calculateOpacity=function(){for(var t=1,e=this;null!=e;){var n=e.style("opacity",!1,!0);n.hasValue()&&(t*=n.numValue()),e=e.parent}return t},this.setContext=function(t,e){if(!e){var n;if(this.style("fill").isUrlDefinition())null!=(n=this.style("fill").getFillStyleDefinition(this,this.style("fill-opacity")))&&(t.fillStyle=n);else if(this.style("fill").hasValue()){var i;"currentColor"==(i=this.style("fill")).value&&(i.value=this.style("color").value),"inherit"!=i.value&&(t.fillStyle="none"==i.value?"rgba(0,0,0,0)":i.value)}if(this.style("fill-opacity").hasValue()&&(i=(i=new r.Property("fill",t.fillStyle)).addOpacity(this.style("fill-opacity")),t.fillStyle=i.value),this.style("stroke").isUrlDefinition())null!=(n=this.style("stroke").getFillStyleDefinition(this,this.style("stroke-opacity")))&&(t.strokeStyle=n);else if(this.style("stroke").hasValue()){var a;"currentColor"==(a=this.style("stroke")).value&&(a.value=this.style("color").value),"inherit"!=a.value&&(t.strokeStyle="none"==a.value?"rgba(0,0,0,0)":a.value)}if(this.style("stroke-opacity").hasValue()&&(a=(a=new r.Property("stroke",t.strokeStyle)).addOpacity(this.style("stroke-opacity")),t.strokeStyle=a.value),this.style("stroke-width").hasValue()){var o=this.style("stroke-width").toPixels();t.lineWidth=0==o?.001:o}if(this.style("stroke-linecap").hasValue()&&(t.lineCap=this.style("stroke-linecap").value),this.style("stroke-linejoin").hasValue()&&(t.lineJoin=this.style("stroke-linejoin").value),this.style("stroke-miterlimit").hasValue()&&(t.miterLimit=this.style("stroke-miterlimit").value),this.style("paint-order").hasValue()&&(t.paintOrder=this.style("paint-order").value),this.style("stroke-dasharray").hasValue()&&"none"!=this.style("stroke-dasharray").value){var s=r.ToNumberArray(this.style("stroke-dasharray").value);void 0!==t.setLineDash?t.setLineDash(s):void 0!==t.webkitLineDash?t.webkitLineDash=s:void 0===t.mozDash||1==s.length&&0==s[0]||(t.mozDash=s);var u=this.style("stroke-dashoffset").toPixels();void 0!==t.lineDashOffset?t.lineDashOffset=u:void 0!==t.webkitLineDashOffset?t.webkitLineDashOffset=u:void 0!==t.mozDashOffset&&(t.mozDashOffset=u)}}if(void 0!==t.font){t.font=r.Font.CreateFont(this.style("font-style").value,this.style("font-variant").value,this.style("font-weight").value,this.style("font-size").hasValue()?this.style("font-size").toPixels()+"px":"",this.style("font-family").value).toString();var l=this.style("font-size",!1,!1);l.isPixels()&&(r.emSize=l.toPixels())}if(this.style("transform",!1,!0).hasValue()&&new r.Transform(this.style("transform",!1,!0).value).apply(t),this.style("clip-path",!1,!0).hasValue()){var c=this.style("clip-path",!1,!0).getDefinition();null!=c&&c.apply(t)}t.globalAlpha=this.calculateOpacity()}},r.Element.RenderedElementBase.prototype=new r.Element.ElementBase,r.Element.PathElementBase=function(t){this.base=r.Element.RenderedElementBase,this.base(t),this.path=function(t){return null!=t&&t.beginPath(),new r.BoundingBox},this.renderChildren=function(t){this.path(t),r.Mouse.checkPath(this,t),""!=t.fillStyle&&("inherit"!=this.style("fill-rule").valueOrDefault("inherit")?t.fill(this.style("fill-rule").value):t.fill()),""!=t.strokeStyle&&t.stroke();var e=this.getMarkers();if(null!=e){if(this.style("marker-start").isUrlDefinition()&&(n=this.style("marker-start").getDefinition()).render(t,e[0][0],e[0][1]),this.style("marker-mid").isUrlDefinition())for(var n=this.style("marker-mid").getDefinition(),i=1;i<e.length-1;i++)n.render(t,e[i][0],e[i][1]);this.style("marker-end").isUrlDefinition()&&(n=this.style("marker-end").getDefinition()).render(t,e[e.length-1][0],e[e.length-1][1])}},this.getBoundingBox=function(){return this.path()},this.getMarkers=function(){return null}},r.Element.PathElementBase.prototype=new r.Element.RenderedElementBase,r.Element.svg=function(t){this.base=r.Element.RenderedElementBase,this.base(t),this.baseClearContext=this.clearContext,this.clearContext=function(t){this.baseClearContext(t),r.ViewPort.RemoveCurrent()},this.baseSetContext=this.setContext,this.setContext=function(t){if(t.strokeStyle="rgba(0,0,0,0)",t.lineCap="butt",t.lineJoin="miter",t.miterLimit=4,t.canvas.style&&void 0!==t.font&&void 0!==a.getComputedStyle){t.font=a.getComputedStyle(t.canvas).getPropertyValue("font");var e=new r.Property("fontSize",r.Font.Parse(t.font).fontSize);e.hasValue()&&(r.rootEmSize=r.emSize=e.toPixels("y"))}this.baseSetContext(t),this.attribute("x").hasValue()||(this.attribute("x",!0).value=0),this.attribute("y").hasValue()||(this.attribute("y",!0).value=0),t.translate(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"));var n=r.ViewPort.width(),i=r.ViewPort.height();if(this.attribute("width").hasValue()||(this.attribute("width",!0).value="100%"),this.attribute("height").hasValue()||(this.attribute("height",!0).value="100%"),void 0===this.root){n=this.attribute("width").toPixels("x"),i=this.attribute("height").toPixels("y");var o=0,s=0;this.attribute("refX").hasValue()&&this.attribute("refY").hasValue()&&(o=-this.attribute("refX").toPixels("x"),s=-this.attribute("refY").toPixels("y")),"visible"!=this.attribute("overflow").valueOrDefault("hidden")&&(t.beginPath(),t.moveTo(o,s),t.lineTo(n,s),t.lineTo(n,i),t.lineTo(o,i),t.closePath(),t.clip())}if(r.ViewPort.SetCurrent(n,i),this.attribute("viewBox").hasValue()){var u=r.ToNumberArray(this.attribute("viewBox").value),l=u[0],c=u[1];n=u[2],i=u[3],r.AspectRatio(t,this.attribute("preserveAspectRatio").value,r.ViewPort.width(),n,r.ViewPort.height(),i,l,c,this.attribute("refX").value,this.attribute("refY").value),r.ViewPort.RemoveCurrent(),r.ViewPort.SetCurrent(u[2],u[3])}}},r.Element.svg.prototype=new r.Element.RenderedElementBase,r.Element.rect=function(t){this.base=r.Element.PathElementBase,this.base(t),this.path=function(t){var e=this.attribute("x").toPixels("x"),n=this.attribute("y").toPixels("y"),i=this.attribute("width").toPixels("x"),a=this.attribute("height").toPixels("y"),o=this.attribute("rx").toPixels("x"),s=this.attribute("ry").toPixels("y");if(this.attribute("rx").hasValue()&&!this.attribute("ry").hasValue()&&(s=o),this.attribute("ry").hasValue()&&!this.attribute("rx").hasValue()&&(o=s),o=Math.min(o,i/2),s=Math.min(s,a/2),null!=t){var u=(Math.sqrt(2)-1)/3*4;t.beginPath(),t.moveTo(e+o,n),t.lineTo(e+i-o,n),t.bezierCurveTo(e+i-o+u*o,n,e+i,n+s-u*s,e+i,n+s),t.lineTo(e+i,n+a-s),t.bezierCurveTo(e+i,n+a-s+u*s,e+i-o+u*o,n+a,e+i-o,n+a),t.lineTo(e+o,n+a),t.bezierCurveTo(e+o-u*o,n+a,e,n+a-s+u*s,e,n+a-s),t.lineTo(e,n+s),t.bezierCurveTo(e,n+s-u*s,e+o-u*o,n,e+o,n),t.closePath()}return new r.BoundingBox(e,n,e+i,n+a)}},r.Element.rect.prototype=new r.Element.PathElementBase,r.Element.circle=function(t){this.base=r.Element.PathElementBase,this.base(t),this.path=function(t){var e=this.attribute("cx").toPixels("x"),n=this.attribute("cy").toPixels("y"),i=this.attribute("r").toPixels();return null!=t&&(t.beginPath(),t.arc(e,n,i,0,2*Math.PI,!1),t.closePath()),new r.BoundingBox(e-i,n-i,e+i,n+i)}},r.Element.circle.prototype=new r.Element.PathElementBase,r.Element.ellipse=function(t){this.base=r.Element.PathElementBase,this.base(t),this.path=function(t){var e=(Math.sqrt(2)-1)/3*4,n=this.attribute("rx").toPixels("x"),i=this.attribute("ry").toPixels("y"),a=this.attribute("cx").toPixels("x"),o=this.attribute("cy").toPixels("y");return null!=t&&(t.beginPath(),t.moveTo(a+n,o),t.bezierCurveTo(a+n,o+e*i,a+e*n,o+i,a,o+i),t.bezierCurveTo(a-e*n,o+i,a-n,o+e*i,a-n,o),t.bezierCurveTo(a-n,o-e*i,a-e*n,o-i,a,o-i),t.bezierCurveTo(a+e*n,o-i,a+n,o-e*i,a+n,o),t.closePath()),new r.BoundingBox(a-n,o-i,a+n,o+i)}},r.Element.ellipse.prototype=new r.Element.PathElementBase,r.Element.line=function(t){this.base=r.Element.PathElementBase,this.base(t),this.getPoints=function(){return[new r.Point(this.attribute("x1").toPixels("x"),this.attribute("y1").toPixels("y")),new r.Point(this.attribute("x2").toPixels("x"),this.attribute("y2").toPixels("y"))]},this.path=function(t){var e=this.getPoints();return null!=t&&(t.beginPath(),t.moveTo(e[0].x,e[0].y),t.lineTo(e[1].x,e[1].y)),new r.BoundingBox(e[0].x,e[0].y,e[1].x,e[1].y)},this.getMarkers=function(){var t=this.getPoints(),e=t[0].angleTo(t[1]);return[[t[0],e],[t[1],e]]}},r.Element.line.prototype=new r.Element.PathElementBase,r.Element.polyline=function(t){this.base=r.Element.PathElementBase,this.base(t),this.points=r.CreatePath(this.attribute("points").value),this.path=function(t){var e=new r.BoundingBox(this.points[0].x,this.points[0].y);null!=t&&(t.beginPath(),t.moveTo(this.points[0].x,this.points[0].y));for(var n=1;n<this.points.length;n++)e.addPoint(this.points[n].x,this.points[n].y),null!=t&&t.lineTo(this.points[n].x,this.points[n].y);return e},this.getMarkers=function(){for(var t=[],e=0;e<this.points.length-1;e++)t.push([this.points[e],this.points[e].angleTo(this.points[e+1])]);return 0<t.length&&t.push([this.points[this.points.length-1],t[t.length-1][1]]),t}},r.Element.polyline.prototype=new r.Element.PathElementBase,r.Element.polygon=function(t){this.base=r.Element.polyline,this.base(t),this.basePath=this.path,this.path=function(t){var e=this.basePath(t);return null!=t&&(t.lineTo(this.points[0].x,this.points[0].y),t.closePath()),e}},r.Element.polygon.prototype=new r.Element.polyline,r.Element.path=function(t){this.base=r.Element.PathElementBase,this.base(t);var e=this.attribute("d").value;e=e.replace(/,/gm," ");for(var n=0;n<2;n++)e=e.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2");for(e=(e=e.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2")).replace(/([0-9])([+\-])/gm,"$1 $2"),n=0;n<2;n++)e=e.replace(/(\.[0-9]*)(\.)/gm,"$1 $2");e=e.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),e=r.compressSpaces(e),e=r.trim(e),this.PathParser=new function(t){this.tokens=t.split(" "),this.reset=function(){this.i=-1,this.command="",this.previousCommand="",this.start=new r.Point(0,0),this.control=new r.Point(0,0),this.current=new r.Point(0,0),this.points=[],this.angles=[]},this.isEnd=function(){return this.i>=this.tokens.length-1},this.isCommandOrEnd=function(){return!!this.isEnd()||null!=this.tokens[this.i+1].match(/^[A-Za-z]$/)},this.isRelativeCommand=function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return!0}return!1},this.getToken=function(){return this.i++,this.tokens[this.i]},this.getScalar=function(){return parseFloat(this.getToken())},this.nextCommand=function(){this.previousCommand=this.command,this.command=this.getToken()},this.getPoint=function(){var t=new r.Point(this.getScalar(),this.getScalar());return this.makeAbsolute(t)},this.getAsControlPoint=function(){var t=this.getPoint();return this.control=t},this.getAsCurrentPoint=function(){var t=this.getPoint();return this.current=t},this.getReflectedControlPoint=function(){return"c"!=this.previousCommand.toLowerCase()&&"s"!=this.previousCommand.toLowerCase()&&"q"!=this.previousCommand.toLowerCase()&&"t"!=this.previousCommand.toLowerCase()?this.current:new r.Point(2*this.current.x-this.control.x,2*this.current.y-this.control.y)},this.makeAbsolute=function(t){return this.isRelativeCommand()&&(t.x+=this.current.x,t.y+=this.current.y),t},this.addMarker=function(t,e,n){null!=n&&0<this.angles.length&&null==this.angles[this.angles.length-1]&&(this.angles[this.angles.length-1]=this.points[this.points.length-1].angleTo(n)),this.addMarkerAngle(t,null==e?null:e.angleTo(t))},this.addMarkerAngle=function(t,e){this.points.push(t),this.angles.push(e)},this.getMarkerPoints=function(){return this.points},this.getMarkerAngles=function(){for(var t=0;t<this.angles.length;t++)if(null==this.angles[t])for(var e=t+1;e<this.angles.length;e++)if(null!=this.angles[e]){this.angles[t]=this.angles[e];break}return this.angles}}(e),this.path=function(t){var e=this.PathParser;e.reset();var n=new r.BoundingBox;for(null!=t&&t.beginPath();!e.isEnd();)switch(e.nextCommand(),e.command){case"M":case"m":var i=e.getAsCurrentPoint();for(e.addMarker(i),n.addPoint(i.x,i.y),null!=t&&t.moveTo(i.x,i.y),e.start=e.current;!e.isCommandOrEnd();)i=e.getAsCurrentPoint(),e.addMarker(i,e.start),n.addPoint(i.x,i.y),null!=t&&t.lineTo(i.x,i.y);break;case"L":case"l":for(;!e.isCommandOrEnd();){var a=e.current;i=e.getAsCurrentPoint(),e.addMarker(i,a),n.addPoint(i.x,i.y),null!=t&&t.lineTo(i.x,i.y)}break;case"H":case"h":for(;!e.isCommandOrEnd();){var o=new r.Point((e.isRelativeCommand()?e.current.x:0)+e.getScalar(),e.current.y);e.addMarker(o,e.current),e.current=o,n.addPoint(e.current.x,e.current.y),null!=t&&t.lineTo(e.current.x,e.current.y)}break;case"V":case"v":for(;!e.isCommandOrEnd();)o=new r.Point(e.current.x,(e.isRelativeCommand()?e.current.y:0)+e.getScalar()),e.addMarker(o,e.current),e.current=o,n.addPoint(e.current.x,e.current.y),null!=t&&t.lineTo(e.current.x,e.current.y);break;case"C":case"c":for(;!e.isCommandOrEnd();){var s=e.current,u=e.getPoint(),l=e.getAsControlPoint(),c=e.getAsCurrentPoint();e.addMarker(c,l,u),n.addBezierCurve(s.x,s.y,u.x,u.y,l.x,l.y,c.x,c.y),null!=t&&t.bezierCurveTo(u.x,u.y,l.x,l.y,c.x,c.y)}break;case"S":case"s":for(;!e.isCommandOrEnd();)s=e.current,u=e.getReflectedControlPoint(),l=e.getAsControlPoint(),c=e.getAsCurrentPoint(),e.addMarker(c,l,u),n.addBezierCurve(s.x,s.y,u.x,u.y,l.x,l.y,c.x,c.y),null!=t&&t.bezierCurveTo(u.x,u.y,l.x,l.y,c.x,c.y);break;case"Q":case"q":for(;!e.isCommandOrEnd();)s=e.current,l=e.getAsControlPoint(),c=e.getAsCurrentPoint(),e.addMarker(c,l,l),n.addQuadraticCurve(s.x,s.y,l.x,l.y,c.x,c.y),null!=t&&t.quadraticCurveTo(l.x,l.y,c.x,c.y);break;case"T":case"t":for(;!e.isCommandOrEnd();)s=e.current,l=e.getReflectedControlPoint(),e.control=l,c=e.getAsCurrentPoint(),e.addMarker(c,l,l),n.addQuadraticCurve(s.x,s.y,l.x,l.y,c.x,c.y),null!=t&&t.quadraticCurveTo(l.x,l.y,c.x,c.y);break;case"A":case"a":for(;!e.isCommandOrEnd();){s=e.current;var h=e.getScalar(),f=e.getScalar(),d=e.getScalar()*(Math.PI/180),p=e.getScalar(),m=e.getScalar(),g=(c=e.getAsCurrentPoint(),new r.Point(Math.cos(d)*(s.x-c.x)/2+Math.sin(d)*(s.y-c.y)/2,-Math.sin(d)*(s.x-c.x)/2+Math.cos(d)*(s.y-c.y)/2)),_=Math.pow(g.x,2)/Math.pow(h,2)+Math.pow(g.y,2)/Math.pow(f,2);1<_&&(h*=Math.sqrt(_),f*=Math.sqrt(_));var v=(p==m?-1:1)*Math.sqrt((Math.pow(h,2)*Math.pow(f,2)-Math.pow(h,2)*Math.pow(g.y,2)-Math.pow(f,2)*Math.pow(g.x,2))/(Math.pow(h,2)*Math.pow(g.y,2)+Math.pow(f,2)*Math.pow(g.x,2)));isNaN(v)&&(v=0);var y=new r.Point(v*h*g.y/f,v*-f*g.x/h),b=new r.Point((s.x+c.x)/2+Math.cos(d)*y.x-Math.sin(d)*y.y,(s.y+c.y)/2+Math.sin(d)*y.x+Math.cos(d)*y.y),x=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))},w=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(x(t)*x(e))},T=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(w(t,e))},S=T([1,0],[(g.x-y.x)/h,(g.y-y.y)/f]),E=[(g.x-y.x)/h,(g.y-y.y)/f],C=[(-g.x-y.x)/h,(-g.y-y.y)/f],A=T(E,C);w(E,C)<=-1&&(A=Math.PI),1<=w(E,C)&&(A=0);var M=1-m?1:-1,O=S+M*(A/2),D=new r.Point(b.x+h*Math.cos(O),b.y+f*Math.sin(O));if(e.addMarkerAngle(D,O-M*Math.PI/2),e.addMarkerAngle(c,O-M*Math.PI),n.addPoint(c.x,c.y),null!=t){w=f<h?h:f;var N=f<h?1:h/f,I=f<h?f/h:1;t.translate(b.x,b.y),t.rotate(d),t.scale(N,I),t.arc(0,0,w,S,S+A,1-m),t.scale(1/N,1/I),t.rotate(-d),t.translate(-b.x,-b.y)}}break;case"Z":case"z":null!=t&&n.x1!==n.x2&&n.y1!==n.y2&&t.closePath(),e.current=e.start}return n},this.getMarkers=function(){for(var t=this.PathParser.getMarkerPoints(),e=this.PathParser.getMarkerAngles(),n=[],r=0;r<t.length;r++)n.push([t[r],e[r]]);return n}},r.Element.path.prototype=new r.Element.PathElementBase,r.Element.pattern=function(t){this.base=r.Element.ElementBase,this.base(t),this.createPattern=function(t,e){var n=this.attribute("width").toPixels("x",!0),i=this.attribute("height").toPixels("y",!0),a=new r.Element.svg;a.attributes.viewBox=new r.Property("viewBox",this.attribute("viewBox").value),a.attributes.width=new r.Property("width",n+"px"),a.attributes.height=new r.Property("height",i+"px"),a.attributes.transform=new r.Property("transform",this.attribute("patternTransform").value),a.children=this.children;var s=o();s.width=n,s.height=i;var u=s.getContext("2d");this.attribute("x").hasValue()&&this.attribute("y").hasValue()&&u.translate(this.attribute("x").toPixels("x",!0),this.attribute("y").toPixels("y",!0));for(var l=-1;l<=1;l++)for(var c=-1;c<=1;c++)u.save(),a.attributes.x=new r.Property("x",l*s.width),a.attributes.y=new r.Property("y",c*s.height),a.render(u),u.restore();return t.createPattern(s,"repeat")}},r.Element.pattern.prototype=new r.Element.ElementBase,r.Element.marker=function(t){this.base=r.Element.ElementBase,this.base(t),this.baseRender=this.render,this.render=function(t,e,n){if(e){t.translate(e.x,e.y),"auto"==this.attribute("orient").valueOrDefault("auto")&&t.rotate(n),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&t.scale(t.lineWidth,t.lineWidth),t.save();var i=new r.Element.svg;i.attributes.viewBox=new r.Property("viewBox",this.attribute("viewBox").value),i.attributes.refX=new r.Property("refX",this.attribute("refX").value),i.attributes.refY=new r.Property("refY",this.attribute("refY").value),i.attributes.width=new r.Property("width",this.attribute("markerWidth").value),i.attributes.height=new r.Property("height",this.attribute("markerHeight").value),i.attributes.fill=new r.Property("fill",this.attribute("fill").valueOrDefault("black")),i.attributes.stroke=new r.Property("stroke",this.attribute("stroke").valueOrDefault("none")),i.children=this.children,i.render(t),t.restore(),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&t.scale(1/t.lineWidth,1/t.lineWidth),"auto"==this.attribute("orient").valueOrDefault("auto")&&t.rotate(-n),t.translate(-e.x,-e.y)}}},r.Element.marker.prototype=new r.Element.ElementBase,r.Element.defs=function(t){this.base=r.Element.ElementBase,this.base(t),this.render=function(t){}},r.Element.defs.prototype=new r.Element.ElementBase,r.Element.GradientBase=function(t){this.base=r.Element.ElementBase,this.base(t),this.stops=[];for(var e=0;e<this.children.length;e++){var n=this.children[e];"stop"==n.type&&this.stops.push(n)}this.getGradient=function(){},this.gradientUnits=function(){return this.attribute("gradientUnits").valueOrDefault("objectBoundingBox")},this.attributesToInherit=["gradientUnits"],this.inheritStopContainer=function(t){for(var e=0;e<this.attributesToInherit.length;e++){var n=this.attributesToInherit[e];!this.attribute(n).hasValue()&&t.attribute(n).hasValue()&&(this.attribute(n,!0).value=t.attribute(n).value)}},this.createGradient=function(t,e,n){var i=this;this.getHrefAttribute().hasValue()&&(i=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(i));var a=function(t){return n.hasValue()?new r.Property("color",t).addOpacity(n).value:t},s=this.getGradient(t,e);if(null==s)return a(i.stops[i.stops.length-1].color);for(var u=0;u<i.stops.length;u++)s.addColorStop(i.stops[u].offset,a(i.stops[u].color));if(this.attribute("gradientTransform").hasValue()){var l=r.ViewPort.viewPorts[0],c=new r.Element.rect;c.attributes.x=new r.Property("x",-r.MAX_VIRTUAL_PIXELS/3),c.attributes.y=new r.Property("y",-r.MAX_VIRTUAL_PIXELS/3),c.attributes.width=new r.Property("width",r.MAX_VIRTUAL_PIXELS),c.attributes.height=new r.Property("height",r.MAX_VIRTUAL_PIXELS);var h=new r.Element.g;h.attributes.transform=new r.Property("transform",this.attribute("gradientTransform").value),h.children=[c];var f=new r.Element.svg;f.attributes.x=new r.Property("x",0),f.attributes.y=new r.Property("y",0),f.attributes.width=new r.Property("width",l.width),f.attributes.height=new r.Property("height",l.height),f.children=[h];var d=o();d.width=l.width,d.height=l.height;var p=d.getContext("2d");return p.fillStyle=s,f.render(p),p.createPattern(d,"no-repeat")}return s}},r.Element.GradientBase.prototype=new r.Element.ElementBase,r.Element.linearGradient=function(t){this.base=r.Element.GradientBase,this.base(t),this.attributesToInherit.push("x1"),this.attributesToInherit.push("y1"),this.attributesToInherit.push("x2"),this.attributesToInherit.push("y2"),this.getGradient=function(t,e){var n="objectBoundingBox"==this.gradientUnits()?e.getBoundingBox(t):null;this.attribute("x1").hasValue()||this.attribute("y1").hasValue()||this.attribute("x2").hasValue()||this.attribute("y2").hasValue()||(this.attribute("x1",!0).value=0,this.attribute("y1",!0).value=0,this.attribute("x2",!0).value=1,this.attribute("y2",!0).value=0);var r="objectBoundingBox"==this.gradientUnits()?n.x()+n.width()*this.attribute("x1").numValue():this.attribute("x1").toPixels("x"),i="objectBoundingBox"==this.gradientUnits()?n.y()+n.height()*this.attribute("y1").numValue():this.attribute("y1").toPixels("y"),a="objectBoundingBox"==this.gradientUnits()?n.x()+n.width()*this.attribute("x2").numValue():this.attribute("x2").toPixels("x"),o="objectBoundingBox"==this.gradientUnits()?n.y()+n.height()*this.attribute("y2").numValue():this.attribute("y2").toPixels("y");return r==a&&i==o?null:t.createLinearGradient(r,i,a,o)}},r.Element.linearGradient.prototype=new r.Element.GradientBase,r.Element.radialGradient=function(t){this.base=r.Element.GradientBase,this.base(t),this.attributesToInherit.push("cx"),this.attributesToInherit.push("cy"),this.attributesToInherit.push("r"),this.attributesToInherit.push("fx"),this.attributesToInherit.push("fy"),this.getGradient=function(t,e){var n=e.getBoundingBox(t);this.attribute("cx").hasValue()||(this.attribute("cx",!0).value="50%"),this.attribute("cy").hasValue()||(this.attribute("cy",!0).value="50%"),this.attribute("r").hasValue()||(this.attribute("r",!0).value="50%");var r="objectBoundingBox"==this.gradientUnits()?n.x()+n.width()*this.attribute("cx").numValue():this.attribute("cx").toPixels("x"),i="objectBoundingBox"==this.gradientUnits()?n.y()+n.height()*this.attribute("cy").numValue():this.attribute("cy").toPixels("y"),a=r,o=i;this.attribute("fx").hasValue()&&(a="objectBoundingBox"==this.gradientUnits()?n.x()+n.width()*this.attribute("fx").numValue():this.attribute("fx").toPixels("x")),this.attribute("fy").hasValue()&&(o="objectBoundingBox"==this.gradientUnits()?n.y()+n.height()*this.attribute("fy").numValue():this.attribute("fy").toPixels("y"));var s="objectBoundingBox"==this.gradientUnits()?(n.width()+n.height())/2*this.attribute("r").numValue():this.attribute("r").toPixels();return t.createRadialGradient(a,o,0,r,i,s)}},r.Element.radialGradient.prototype=new r.Element.GradientBase,r.Element.stop=function(t){this.base=r.Element.ElementBase,this.base(t),this.offset=this.attribute("offset").numValue(),this.offset<0&&(this.offset=0),1<this.offset&&(this.offset=1);var e=this.style("stop-color",!0);""===e.value&&(e.value="#000"),this.style("stop-opacity").hasValue()&&(e=e.addOpacity(this.style("stop-opacity"))),this.color=e.value},r.Element.stop.prototype=new r.Element.ElementBase,r.Element.AnimateBase=function(t){this.base=r.Element.ElementBase,this.base(t),r.Animations.push(this),this.duration=0,this.begin=this.attribute("begin").toMilliseconds(),this.maxDuration=this.begin+this.attribute("dur").toMilliseconds(),this.getProperty=function(){var t=this.attribute("attributeType").value,e=this.attribute("attributeName").value;return"CSS"==t?this.parent.style(e,!0):this.parent.attribute(e,!0)},this.initialValue=null,this.initialUnits="",this.removed=!1,this.calcValue=function(){return""},this.update=function(t){if(null==this.initialValue&&(this.initialValue=this.getProperty().value,this.initialUnits=this.getProperty().getUnits()),this.duration>this.maxDuration){if("indefinite"==this.attribute("repeatCount").value||"indefinite"==this.attribute("repeatDur").value)this.duration=0;else if("freeze"!=this.attribute("fill").valueOrDefault("remove")||this.frozen){if("remove"==this.attribute("fill").valueOrDefault("remove")&&!this.removed)return this.removed=!0,this.getProperty().value=this.parent.animationFrozen?this.parent.animationFrozenValue:this.initialValue,!0}else this.frozen=!0,this.parent.animationFrozen=!0,this.parent.animationFrozenValue=this.getProperty().value;return!1}this.duration=this.duration+t;var e=!1;if(this.begin<this.duration){var n=this.calcValue();this.attribute("type").hasValue()&&(n=this.attribute("type").value+"("+n+")"),this.getProperty().value=n,e=!0}return e},this.from=this.attribute("from"),this.to=this.attribute("to"),this.values=this.attribute("values"),this.values.hasValue()&&(this.values.value=this.values.value.split(";")),this.progress=function(){var t={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(this.values.hasValue()){var e=t.progress*(this.values.value.length-1),n=Math.floor(e),i=Math.ceil(e);t.from=new r.Property("from",parseFloat(this.values.value[n])),t.to=new r.Property("to",parseFloat(this.values.value[i])),t.progress=(e-n)/(i-n)}else t.from=this.from,t.to=this.to;return t}},r.Element.AnimateBase.prototype=new r.Element.ElementBase,r.Element.animate=function(t){this.base=r.Element.AnimateBase,this.base(t),this.calcValue=function(){var t=this.progress();return t.from.numValue()+(t.to.numValue()-t.from.numValue())*t.progress+this.initialUnits}},r.Element.animate.prototype=new r.Element.AnimateBase,r.Element.animateColor=function(e){this.base=r.Element.AnimateBase,this.base(e),this.calcValue=function(){var e=this.progress(),n=new t(e.from.value),r=new t(e.to.value);if(n.ok&&r.ok){var i=n.r+(r.r-n.r)*e.progress,a=n.g+(r.g-n.g)*e.progress,o=n.b+(r.b-n.b)*e.progress;return"rgb("+parseInt(i,10)+","+parseInt(a,10)+","+parseInt(o,10)+")"}return this.attribute("from").value}},r.Element.animateColor.prototype=new r.Element.AnimateBase,r.Element.animateTransform=function(t){this.base=r.Element.AnimateBase,this.base(t),this.calcValue=function(){for(var t=this.progress(),e=r.ToNumberArray(t.from.value),n=r.ToNumberArray(t.to.value),i="",a=0;a<e.length;a++)i+=e[a]+(n[a]-e[a])*t.progress+" ";return i}},r.Element.animateTransform.prototype=new r.Element.animate,r.Element.font=function(t){this.base=r.Element.ElementBase,this.base(t),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.isRTL=!1,this.isArabic=!1,this.fontFace=null,this.missingGlyph=null,this.glyphs=[];for(var e=0;e<this.children.length;e++){var n=this.children[e];"font-face"==n.type?(this.fontFace=n).style("font-family").hasValue()&&(r.Definitions[n.style("font-family").value]=this):"missing-glyph"==n.type?this.missingGlyph=n:"glyph"==n.type&&(""!=n.arabicForm?(this.isRTL=!0,this.isArabic=!0,void 0===this.glyphs[n.unicode]&&(this.glyphs[n.unicode]=[]),this.glyphs[n.unicode][n.arabicForm]=n):this.glyphs[n.unicode]=n)}},r.Element.font.prototype=new r.Element.ElementBase,r.Element.fontface=function(t){this.base=r.Element.ElementBase,this.base(t),this.ascent=this.attribute("ascent").value,this.descent=this.attribute("descent").value,this.unitsPerEm=this.attribute("units-per-em").numValue()},r.Element.fontface.prototype=new r.Element.ElementBase,r.Element.missingglyph=function(t){this.base=r.Element.path,this.base(t),this.horizAdvX=0},r.Element.missingglyph.prototype=new r.Element.path,r.Element.glyph=function(t){this.base=r.Element.path,this.base(t),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.unicode=this.attribute("unicode").value,this.arabicForm=this.attribute("arabic-form").value},r.Element.glyph.prototype=new r.Element.path,r.Element.text=function(t){this.captureTextNodes=!0,this.base=r.Element.RenderedElementBase,this.base(t),this.baseSetContext=this.setContext,this.setContext=function(t){this.baseSetContext(t);var e=this.style("dominant-baseline").toTextBaseline();null==e&&(e=this.style("alignment-baseline").toTextBaseline()),null!=e&&(t.textBaseline=e)},this.initializeCoordinates=function(t){this.x=this.attribute("x").toPixels("x"),this.y=this.attribute("y").toPixels("y"),this.attribute("dx").hasValue()&&(this.x+=this.attribute("dx").toPixels("x")),this.attribute("dy").hasValue()&&(this.y+=this.attribute("dy").toPixels("y")),this.x+=this.getAnchorDelta(t,this,0)},this.getBoundingBox=function(t){this.initializeCoordinates(t);for(var e=null,n=0;n<this.children.length;n++){var r=this.getChildBoundingBox(t,this,this,n);null==e?e=r:e.addBoundingBox(r)}return e},this.renderChildren=function(t){this.initializeCoordinates(t);for(var e=0;e<this.children.length;e++)this.renderChild(t,this,this,e)},this.getAnchorDelta=function(t,e,n){var r=this.style("text-anchor").valueOrDefault("start");if("start"!=r){for(var i=0,a=n;a<e.children.length;a++){var o=e.children[a];if(n<a&&o.attribute("x").hasValue())break;i+=o.measureTextRecursive(t)}return-1*("end"==r?i:i/2)}return 0},this.adjustChildCoordinates=function(t,e,n,r){var i=n.children[r];return i.attribute("x").hasValue()?(i.x=i.attribute("x").toPixels("x")+e.getAnchorDelta(t,n,r),i.attribute("dx").hasValue()&&(i.x+=i.attribute("dx").toPixels("x"))):(i.attribute("dx").hasValue()&&(e.x+=i.attribute("dx").toPixels("x")),i.x=e.x),e.x=i.x+i.measureText(t),i.attribute("y").hasValue()?(i.y=i.attribute("y").toPixels("y"),i.attribute("dy").hasValue()&&(i.y+=i.attribute("dy").toPixels("y"))):(i.attribute("dy").hasValue()&&(e.y+=i.attribute("dy").toPixels("y")),i.y=e.y),e.y=i.y,i},this.getChildBoundingBox=function(t,e,n,r){var i=this.adjustChildCoordinates(t,e,n,r),a=i.getBoundingBox(t);for(r=0;r<i.children.length;r++){var o=e.getChildBoundingBox(t,e,i,r);a.addBoundingBox(o)}return a},this.renderChild=function(t,e,n,r){var i=this.adjustChildCoordinates(t,e,n,r);for(i.render(t),r=0;r<i.children.length;r++)e.renderChild(t,e,i,r)}},r.Element.text.prototype=new r.Element.RenderedElementBase,r.Element.TextElementBase=function(t){this.base=r.Element.RenderedElementBase,this.base(t),this.getGlyph=function(t,e,n){var r=e[n],i=null;if(t.isArabic){var a="isolated";(0==n||" "==e[n-1])&&n<e.length-2&&" "!=e[n+1]&&(a="terminal"),0<n&&" "!=e[n-1]&&n<e.length-2&&" "!=e[n+1]&&(a="medial"),0<n&&" "!=e[n-1]&&(n==e.length-1||" "==e[n+1])&&(a="initial"),void 0!==t.glyphs[r]&&null==(i=t.glyphs[r][a])&&"glyph"==t.glyphs[r].type&&(i=t.glyphs[r])}else i=t.glyphs[r];return null==i&&(i=t.missingGlyph),i},this.renderChildren=function(t){var e=this.parent.style("font-family").getDefinition();if(null==e)"stroke"==t.paintOrder?(""!=t.strokeStyle&&t.strokeText(r.compressSpaces(this.getText()),this.x,this.y),""!=t.fillStyle&&t.fillText(r.compressSpaces(this.getText()),this.x,this.y)):(""!=t.fillStyle&&t.fillText(r.compressSpaces(this.getText()),this.x,this.y),""!=t.strokeStyle&&t.strokeText(r.compressSpaces(this.getText()),this.x,this.y));else{var n=this.parent.style("font-size").numValueOrDefault(r.Font.Parse(r.ctx.font).fontSize),i=this.parent.style("font-style").valueOrDefault(r.Font.Parse(r.ctx.font).fontStyle),a=this.getText();e.isRTL&&(a=a.split("").reverse().join(""));for(var o=r.ToNumberArray(this.parent.attribute("dx").value),s=0;s<a.length;s++){var u=this.getGlyph(e,a,s),l=n/e.fontFace.unitsPerEm;t.translate(this.x,this.y),t.scale(l,-l);var c=t.lineWidth;t.lineWidth=t.lineWidth*e.fontFace.unitsPerEm/n,"italic"==i&&t.transform(1,0,.4,1,0,0),u.render(t),"italic"==i&&t.transform(1,0,-.4,1,0,0),t.lineWidth=c,t.scale(1/l,-1/l),t.translate(-this.x,-this.y),this.x+=n*(u.horizAdvX||e.horizAdvX)/e.fontFace.unitsPerEm,void 0===o[s]||isNaN(o[s])||(this.x+=o[s])}}},this.getText=function(){},this.measureTextRecursive=function(t){for(var e=this.measureText(t),n=0;n<this.children.length;n++)e+=this.children[n].measureTextRecursive(t);return e},this.measureText=function(t){var e=this.parent.style("font-family").getDefinition();if(null!=e){var n=this.parent.style("font-size").numValueOrDefault(r.Font.Parse(r.ctx.font).fontSize),i=0,a=this.getText();e.isRTL&&(a=a.split("").reverse().join(""));for(var o=r.ToNumberArray(this.parent.attribute("dx").value),s=0;s<a.length;s++)i+=(this.getGlyph(e,a,s).horizAdvX||e.horizAdvX)*n/e.fontFace.unitsPerEm,void 0===o[s]||isNaN(o[s])||(i+=o[s]);return i}var u=r.compressSpaces(this.getText());if(!t.measureText)return 10*u.length;t.save(),this.setContext(t,!0);var l=t.measureText(u).width;return t.restore(),l},this.getBoundingBox=function(t){var e=this.parent.style("font-size").numValueOrDefault(r.Font.Parse(r.ctx.font).fontSize);return new r.BoundingBox(this.x,this.y-e,this.x+this.measureText(t),this.y)}},r.Element.TextElementBase.prototype=new r.Element.RenderedElementBase,r.Element.tspan=function(t){this.captureTextNodes=!0,this.base=r.Element.TextElementBase,this.base(t),this.text=r.compressSpaces(t.value||t.text||t.textContent||""),this.getText=function(){return 0<this.children.length?"":this.text}},r.Element.tspan.prototype=new r.Element.TextElementBase,r.Element.tref=function(t){this.base=r.Element.TextElementBase,this.base(t),this.getText=function(){var t=this.getHrefAttribute().getDefinition();if(null!=t)return t.children[0].getText()}},r.Element.tref.prototype=new r.Element.TextElementBase,r.Element.a=function(t){this.base=r.Element.TextElementBase,this.base(t),this.hasText=0<t.childNodes.length;for(var e=0;e<t.childNodes.length;e++)3!=t.childNodes[e].nodeType&&(this.hasText=!1);this.text=this.hasText?t.childNodes[0].value||t.childNodes[0].data:"",this.getText=function(){return this.text},this.baseRenderChildren=this.renderChildren,this.renderChildren=function(t){if(this.hasText){this.baseRenderChildren(t);var e=new r.Property("fontSize",r.Font.Parse(r.ctx.font).fontSize);r.Mouse.checkBoundingBox(this,new r.BoundingBox(this.x,this.y-e.toPixels("y"),this.x+this.measureText(t),this.y))}else if(0<this.children.length){var n=new r.Element.g;n.children=this.children,n.parent=this,n.render(t)}},this.onclick=function(){a.open(this.getHrefAttribute().value)},this.onmousemove=function(){r.ctx.canvas.style.cursor="pointer"}},r.Element.a.prototype=new r.Element.TextElementBase,r.Element.image=function(t){this.base=r.Element.RenderedElementBase,this.base(t);var e=this.getHrefAttribute().value;if(""!=e){var n=e.match(/\.svg$/);if(r.Images.push(this),this.loaded=!1,n)this.img=r.ajax(e),this.loaded=!0;else{this.img=document.createElement("img"),1==r.opts.useCORS&&(this.img.crossOrigin="Anonymous");var i=this;this.img.onload=function(){i.loaded=!0},this.img.onerror=function(){r.log('ERROR: image "'+e+'" not found'),i.loaded=!0},this.img.src=e}this.renderChildren=function(t){var e=this.attribute("x").toPixels("x"),a=this.attribute("y").toPixels("y"),o=this.attribute("width").toPixels("x"),s=this.attribute("height").toPixels("y");0!=o&&0!=s&&(t.save(),n?t.drawSvg(this.img,e,a,o,s):(t.translate(e,a),r.AspectRatio(t,this.attribute("preserveAspectRatio").value,o,this.img.width,s,this.img.height,0,0),i.loaded&&(void 0===this.img.complete||this.img.complete)&&t.drawImage(this.img,0,0)),t.restore())},this.getBoundingBox=function(){var t=this.attribute("x").toPixels("x"),e=this.attribute("y").toPixels("y"),n=this.attribute("width").toPixels("x"),i=this.attribute("height").toPixels("y");return new r.BoundingBox(t,e,t+n,e+i)}}},r.Element.image.prototype=new r.Element.RenderedElementBase,r.Element.g=function(t){this.base=r.Element.RenderedElementBase,this.base(t),this.getBoundingBox=function(t){for(var e=new r.BoundingBox,n=0;n<this.children.length;n++)e.addBoundingBox(this.children[n].getBoundingBox(t));return e}},r.Element.g.prototype=new r.Element.RenderedElementBase,r.Element.symbol=function(t){this.base=r.Element.RenderedElementBase,this.base(t),this.render=function(t){}},r.Element.symbol.prototype=new r.Element.RenderedElementBase,r.Element.style=function(t){this.base=r.Element.ElementBase,this.base(t);for(var e="",n=0;n<t.childNodes.length;n++)e+=t.childNodes[n].data;e=e.replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"");var i=(e=r.compressSpaces(e)).split("}");for(n=0;n<i.length;n++)if(""!=r.trim(i[n]))for(var a=i[n].split("{"),o=a[0].split(","),s=a[1].split(";"),u=0;u<o.length;u++){var l=r.trim(o[u]);if(""!=l){for(var c=r.Styles[l]||{},h=0;h<s.length;h++){var f=s[h].indexOf(":"),d=s[h].substr(0,f),p=s[h].substr(f+1,s[h].length-f);null!=d&&null!=p&&(c[r.trim(d)]=new r.Property(r.trim(d),r.trim(p)))}if(r.Styles[l]=c,r.StylesSpecificity[l]=g(l),"@font-face"==l)for(var m=c["font-family"].value.replace(/"/g,""),_=c.src.value.split(","),v=0;v<_.length;v++)if(0<_[v].indexOf('format("svg")'))for(var y=_[v].indexOf("url"),b=_[v].indexOf(")",y),x=_[v].substr(y+5,b-y-6),w=r.parseXml(r.ajax(x)).getElementsByTagName("font"),T=0;T<w.length;T++){var S=r.CreateElement(w[T]);r.Definitions[m]=S}}}},r.Element.style.prototype=new r.Element.ElementBase,r.Element.use=function(t){this.base=r.Element.RenderedElementBase,this.base(t),this.baseSetContext=this.setContext,this.setContext=function(t){this.baseSetContext(t),this.attribute("x").hasValue()&&t.translate(this.attribute("x").toPixels("x"),0),this.attribute("y").hasValue()&&t.translate(0,this.attribute("y").toPixels("y"))};var e=this.getHrefAttribute().getDefinition();this.path=function(t){null!=e&&e.path(t)},this.elementTransform=function(){if(null!=e&&e.style("transform",!1,!0).hasValue())return new r.Transform(e.style("transform",!1,!0).value)},this.getBoundingBox=function(t){if(null!=e)return e.getBoundingBox(t)},this.renderChildren=function(t){if(null!=e){var n=e;"symbol"==e.type&&((n=new r.Element.svg).type="svg",n.attributes.viewBox=new r.Property("viewBox",e.attribute("viewBox").value),n.attributes.preserveAspectRatio=new r.Property("preserveAspectRatio",e.attribute("preserveAspectRatio").value),n.attributes.overflow=new r.Property("overflow",e.attribute("overflow").value),n.children=e.children),"svg"==n.type&&(this.attribute("width").hasValue()&&(n.attributes.width=new r.Property("width",this.attribute("width").value)),this.attribute("height").hasValue()&&(n.attributes.height=new r.Property("height",this.attribute("height").value)));var i=n.parent;n.parent=null,n.render(t),n.parent=i}}},r.Element.use.prototype=new r.Element.RenderedElementBase,r.Element.mask=function(t){this.base=r.Element.ElementBase,this.base(t),this.apply=function(t,e){var n=this.attribute("x").toPixels("x"),i=this.attribute("y").toPixels("y"),a=this.attribute("width").toPixels("x"),s=this.attribute("height").toPixels("y");if(0==a&&0==s){for(var u=new r.BoundingBox,l=0;l<this.children.length;l++)u.addBoundingBox(this.children[l].getBoundingBox(t));n=Math.floor(u.x1),i=Math.floor(u.y1),a=Math.floor(u.width()),s=Math.floor(u.height())}var c=e.attribute("mask").value;e.attribute("mask").value="";var h=o();h.width=n+a,h.height=i+s;var f=h.getContext("2d");this.renderChildren(f);var d=o();d.width=n+a,d.height=i+s;var p=d.getContext("2d");e.render(p),p.globalCompositeOperation="destination-in",p.fillStyle=f.createPattern(h,"no-repeat"),p.fillRect(0,0,n+a,i+s),t.fillStyle=p.createPattern(d,"no-repeat"),t.fillRect(0,0,n+a,i+s),e.attribute("mask").value=c},this.render=function(t){}},r.Element.mask.prototype=new r.Element.ElementBase,r.Element.clipPath=function(t){this.base=r.Element.ElementBase,this.base(t),this.apply=function(t){var e="undefined"!=typeof CanvasRenderingContext2D,n=t.beginPath,i=t.closePath;e&&(CanvasRenderingContext2D.prototype.beginPath=function(){},CanvasRenderingContext2D.prototype.closePath=function(){}),n.call(t);for(var a=0;a<this.children.length;a++){var o=this.children[a];if(void 0!==o.path){var s=void 0!==o.elementTransform&&o.elementTransform();!s&&o.style("transform",!1,!0).hasValue()&&(s=new r.Transform(o.style("transform",!1,!0).value)),s&&s.apply(t),o.path(t),e&&(CanvasRenderingContext2D.prototype.closePath=i),s&&s.unapply(t)}}i.call(t),t.clip(),e&&(CanvasRenderingContext2D.prototype.beginPath=n,CanvasRenderingContext2D.prototype.closePath=i)},this.render=function(t){}},r.Element.clipPath.prototype=new r.Element.ElementBase,r.Element.filter=function(t){this.base=r.Element.ElementBase,this.base(t),this.apply=function(t,e){var n=e.getBoundingBox(t),r=Math.floor(n.x1),i=Math.floor(n.y1),a=Math.floor(n.width()),s=Math.floor(n.height()),u=e.style("filter").value;e.style("filter").value="";for(var l=0,c=0,h=0;h<this.children.length;h++){var f=this.children[h].extraFilterDistance||0;l=Math.max(l,f),c=Math.max(c,f)}var d=o();d.width=a+2*l,d.height=s+2*c;var p=d.getContext("2d");for(p.translate(-r+l,-i+c),e.render(p),h=0;h<this.children.length;h++)"function"==typeof this.children[h].apply&&this.children[h].apply(p,0,0,a+2*l,s+2*c);t.drawImage(d,0,0,a+2*l,s+2*c,r-l,i-c,a+2*l,s+2*c),e.style("filter",!0).value=u},this.render=function(t){}},r.Element.filter.prototype=new r.Element.ElementBase,r.Element.feMorphology=function(t){this.base=r.Element.ElementBase,this.base(t),this.apply=function(t,e,n,r,i){}},r.Element.feMorphology.prototype=new r.Element.ElementBase,r.Element.feComposite=function(t){this.base=r.Element.ElementBase,this.base(t),this.apply=function(t,e,n,r,i){}},r.Element.feComposite.prototype=new r.Element.ElementBase,r.Element.feColorMatrix=function(t){this.base=r.Element.ElementBase,this.base(t);var e=r.ToNumberArray(this.attribute("values").value);switch(this.attribute("type").valueOrDefault("matrix")){case"saturate":var n=e[0];e=[.213+.787*n,.715-.715*n,.072-.072*n,0,0,.213-.213*n,.715+.285*n,.072-.072*n,0,0,.213-.213*n,.715-.715*n,.072+.928*n,0,0,0,0,0,1,0,0,0,0,0,1];break;case"hueRotate":var i=e[0]*Math.PI/180,a=function(t,e,n){return t+Math.cos(i)*e+Math.sin(i)*n};e=[a(.213,.787,-.213),a(.715,-.715,-.715),a(.072,-.072,.928),0,0,a(.213,-.213,.143),a(.715,.285,.14),a(.072,-.072,-.283),0,0,a(.213,-.213,-.787),a(.715,-.715,.715),a(.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break;case"luminanceToAlpha":e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1]}function o(t,e,n,r,i,a){return t[n*r*4+4*e+a]}function s(t,e,n,r,i,a,o){t[n*r*4+4*e+a]=o}function u(t,n){var r=e[t];return r*(r<0?n-255:n)}this.apply=function(t,e,n,r,i){var a=t.getImageData(0,0,r,i);for(n=0;n<i;n++)for(e=0;e<r;e++){var l=o(a.data,e,n,r,0,0),c=o(a.data,e,n,r,0,1),h=o(a.data,e,n,r,0,2),f=o(a.data,e,n,r,0,3);s(a.data,e,n,r,0,0,u(0,l)+u(1,c)+u(2,h)+u(3,f)+u(4,1)),s(a.data,e,n,r,0,1,u(5,l)+u(6,c)+u(7,h)+u(8,f)+u(9,1)),s(a.data,e,n,r,0,2,u(10,l)+u(11,c)+u(12,h)+u(13,f)+u(14,1)),s(a.data,e,n,r,0,3,u(15,l)+u(16,c)+u(17,h)+u(18,f)+u(19,1))}t.clearRect(0,0,r,i),t.putImageData(a,0,0)}},r.Element.feColorMatrix.prototype=new r.Element.ElementBase,r.Element.feGaussianBlur=function(t){this.base=r.Element.ElementBase,this.base(t),this.blurRadius=Math.floor(this.attribute("stdDeviation").numValue()),this.extraFilterDistance=this.blurRadius,this.apply=function(t,e,i,a,o){n&&void 0!==n.canvasRGBA?(t.canvas.id=r.UniqueId(),t.canvas.style.display="none",document.body.appendChild(t.canvas),n.canvasRGBA(t.canvas,e,i,a,o,this.blurRadius),document.body.removeChild(t.canvas)):r.log("ERROR: StackBlur.js must be included for blur to work")}},r.Element.feGaussianBlur.prototype=new r.Element.ElementBase,r.Element.title=function(t){},r.Element.title.prototype=new r.Element.ElementBase,r.Element.desc=function(t){},r.Element.desc.prototype=new r.Element.ElementBase,r.Element.MISSING=function(t){r.log("ERROR: Element '"+t.nodeName+"' not yet implemented.")},r.Element.MISSING.prototype=new r.Element.ElementBase,r.CreateElement=function(t){var e=t.nodeName.replace(/^[^:]+:/,"");e=e.replace(/\-/g,"");var n=null;return(n=void 0!==r.Element[e]?new r.Element[e](t):new r.Element.MISSING(t)).type=t.nodeName,n},r.load=function(t,e){r.loadXml(t,r.ajax(e))},r.loadXml=function(t,e){r.loadXmlDoc(t,r.parseXml(e))},r.loadXmlDoc=function(t,e){r.init(t);var n=function(e){for(var n=t.canvas;n;)e.x-=n.offsetLeft,e.y-=n.offsetTop,n=n.offsetParent;return a.scrollX&&(e.x+=a.scrollX),a.scrollY&&(e.y+=a.scrollY),e};1!=r.opts.ignoreMouse&&(t.canvas.onclick=function(t){var e=n(new r.Point(null!=t?t.clientX:event.clientX,null!=t?t.clientY:event.clientY));r.Mouse.onclick(e.x,e.y)},t.canvas.onmousemove=function(t){var e=n(new r.Point(null!=t?t.clientX:event.clientX,null!=t?t.clientY:event.clientY));r.Mouse.onmousemove(e.x,e.y)});var i=r.CreateElement(e.documentElement);i.root=!0,i.addStylesFromStyleDefinition();var o=!0,s=function(){r.ViewPort.Clear(),t.canvas.parentNode?r.ViewPort.SetCurrent(t.canvas.parentNode.clientWidth,t.canvas.parentNode.clientHeight):r.ViewPort.SetCurrent(800,600),1!=r.opts.ignoreDimensions&&(i.style("width").hasValue()&&(t.canvas.width=i.style("width").toPixels("x"),t.canvas.style&&(t.canvas.style.width=t.canvas.width+"px")),i.style("height").hasValue()&&(t.canvas.height=i.style("height").toPixels("y"),t.canvas.style&&(t.canvas.style.height=t.canvas.height+"px")));var n=t.canvas.clientWidth||t.canvas.width,a=t.canvas.clientHeight||t.canvas.height;if(1==r.opts.ignoreDimensions&&i.style("width").hasValue()&&i.style("height").hasValue()&&(n=i.style("width").toPixels("x"),a=i.style("height").toPixels("y")),r.ViewPort.SetCurrent(n,a),null!=r.opts.offsetX&&(i.attribute("x",!0).value=r.opts.offsetX),null!=r.opts.offsetY&&(i.attribute("y",!0).value=r.opts.offsetY),null!=r.opts.scaleWidth||null!=r.opts.scaleHeight){var s=null,u=null,l=r.ToNumberArray(i.attribute("viewBox").value);null!=r.opts.scaleWidth&&(i.attribute("width").hasValue()?s=i.attribute("width").toPixels("x")/r.opts.scaleWidth:isNaN(l[2])||(s=l[2]/r.opts.scaleWidth)),null!=r.opts.scaleHeight&&(i.attribute("height").hasValue()?u=i.attribute("height").toPixels("y")/r.opts.scaleHeight:isNaN(l[3])||(u=l[3]/r.opts.scaleHeight)),null==s&&(s=u),null==u&&(u=s),i.attribute("width",!0).value=r.opts.scaleWidth,i.attribute("height",!0).value=r.opts.scaleHeight,i.style("transform",!0,!0).value+=" scale("+1/s+","+1/u+")"}1!=r.opts.ignoreClear&&t.clearRect(0,0,n,a),i.render(t),o&&(o=!1,"function"==typeof r.opts.renderCallback&&r.opts.renderCallback(e))},u=!0;r.ImagesLoaded()&&(u=!1,s()),r.intervalID=setInterval((function(){var t=!1;if(u&&r.ImagesLoaded()&&(t=!(u=!1)),1!=r.opts.ignoreMouse&&(t|=r.Mouse.hasEvents()),1!=r.opts.ignoreAnimation)for(var e=0;e<r.Animations.length;e++)t|=r.Animations[e].update(1e3/r.FRAMERATE);"function"==typeof r.opts.forceRedraw&&1==r.opts.forceRedraw()&&(t=!0),t&&(s(),r.Mouse.runEvents())}),1e3/r.FRAMERATE)},r.stop=function(){r.intervalID&&clearInterval(r.intervalID)},r.Mouse=new function(){this.events=[],this.hasEvents=function(){return 0!=this.events.length},this.onclick=function(t,e){this.events.push({type:"onclick",x:t,y:e,run:function(t){t.onclick&&t.onclick()}})},this.onmousemove=function(t,e){this.events.push({type:"onmousemove",x:t,y:e,run:function(t){t.onmousemove&&t.onmousemove()}})},this.eventElements=[],this.checkPath=function(t,e){for(var n=0;n<this.events.length;n++){var r=this.events[n];e.isPointInPath&&e.isPointInPath(r.x,r.y)&&(this.eventElements[n]=t)}},this.checkBoundingBox=function(t,e){for(var n=0;n<this.events.length;n++){var r=this.events[n];e.isPointInBox(r.x,r.y)&&(this.eventElements[n]=t)}},this.runEvents=function(){r.ctx.canvas.style.cursor="";for(var t=0;t<this.events.length;t++)for(var e=this.events[t],n=this.eventElements[t];n;)e.run(n),n=n.parent;this.events=[],this.eventElements=[]}},r}(i||{});"string"==typeof e&&(e=document.getElementById(e)),null!=e.svg&&e.svg.stop(),e.childNodes&&1==e.childNodes.length&&"OBJECT"==e.childNodes[0].nodeName||(e.svg=l);var c=e.getContext("2d");void 0!==r.documentElement?l.loadXmlDoc(c,r):"<"==r.substr(0,1)?l.loadXml(c,r):l.load(c,r)}else for(var h=document.querySelectorAll("svg"),f=0;f<h.length;f++){var d=h[f],p=document.createElement("canvas");p.width=d.clientWidth,p.height=d.clientHeight,d.parentNode.insertBefore(p,d),d.parentNode.removeChild(d);var m=document.createElement("div");m.appendChild(d),u(p,m.innerHTML)}};"undefined"==typeof Element||(void 0!==Element.prototype.matches?s=function(t,e){return t.matches(e)}:void 0!==Element.prototype.webkitMatchesSelector?s=function(t,e){return t.webkitMatchesSelector(e)}:void 0!==Element.prototype.mozMatchesSelector?s=function(t,e){return t.mozMatchesSelector(e)}:void 0!==Element.prototype.msMatchesSelector?s=function(t,e){return t.msMatchesSelector(e)}:void 0!==Element.prototype.oMatchesSelector?s=function(t,e){return t.oMatchesSelector(e)}:("function"!=typeof e&&"function"!=typeof Zepto||(s=function(t,e){return r(t).is(e)}),void 0===s&&"undefined"!=typeof Sizzle&&(s=Sizzle.matchesSelector)));var l=/(\[[^\]]+\])/g,c=/(#[^\s\+>~\.\[:]+)/g,h=/(\.[^\s\+>~\.\[:]+)/g,f=/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi,d=/(:[\w-]+\([^\)]*\))/gi,p=/(:[^\s\+>~\.\[:]+)/g,m=/([^\s\+>~\.\[:]+)/g;function g(t){var e=[0,0,0],n=function(n,r){var i=t.match(n);null!=i&&(e[r]+=i.length,t=t.replace(n," "))};return t=(t=t.replace(/:not\(([^\)]*)\)/g,"     $1 ")).replace(/{[\s\S]*/gm," "),n(l,1),n(c,0),n(h,1),n(f,2),n(d,1),n(p,1),t=(t=t.replace(/[\*\s\+>~]/g," ")).replace(/[#\.]/g," "),n(m,2),e.join("")}"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.drawSvg=function(t,e,n,r,i,a){var o={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:e,offsetY:n,scaleWidth:r,scaleHeight:i};for(var s in a)a.hasOwnProperty(s)&&(o[s]=a[s]);u(this.canvas,t,o)}),i.exports=u}(i={exports:{}}),i.exports}(n("58e1"),n("42ee"))}).call(this,n("1157"),n("1157"))},"0261":function(t,e,n){var r=n("23e7"),i=n("d039"),a=n("8eb5"),o=Math.abs,s=Math.exp,u=Math.E;r({target:"Math",stat:!0,forced:i((function(){return-2e-17!=Math.sinh(-2e-17)}))},{sinh:function(t){return o(t=+t)<1?(a(t)-a(-t))/2:(s(t-1)-s(-t-1))*(u/2)}})},"0366":function(t,e,n){var r=n("1c0b");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},"036c":function(t,e,n){"use strict";var r=n("8e99");n.n(r).a},"03d6":function(t,e,n){var r=n("9c0e"),i=n("6ca1"),a=n("39ad")(!1),o=n("5a94")("IE_PROTO");t.exports=function(t,e){var n,s=i(t),u=0,l=[];for(n in s)n!=o&&r(s,n)&&l.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~a(l,n)||l.push(n));return l}},"0481":function(t,e,n){"use strict";var r=n("23e7"),i=n("a2bf"),a=n("7b0b"),o=n("50c4"),s=n("a691"),u=n("65f0");r({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=a(this),n=o(e.length),r=u(e,0);return r.length=i(r,e,e,n,0,void 0===t?1:s(t)),r}})},"04d3":function(t,e,n){"use strict";var r=n("23e7"),i=n("857a");r({target:"String",proto:!0,forced:n("af03")("blink")},{blink:function(){return i(this,"blink","","")}})},"051b":function(t,e,n){var r=n("1a14"),i=n("10db");t.exports=n("0bad")?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},"0538":function(t,e,n){"use strict";var r=n("1c0b"),i=n("861d"),a=[].slice,o={},s=function(t,e,n){if(!(e in o)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";o[e]=Function("C,a","return new C("+r.join(",")+")")}return o[e](t,n)};t.exports=Function.bind||function(t){var e=r(this),n=a.call(arguments,1),o=function(){var r=n.concat(a.call(arguments));return this instanceof o?s(e,r.length,r):e.apply(t,r)};return i(e.prototype)&&(o.prototype=e.prototype),o}},"057f":function(t,e,n){var r=n("fc6a"),i=n("241c").f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return o&&"[object Window]"==a.call(t)?function(t){try{return i(t)}catch(t){return o.slice()}}(t):i(r(t))}},"05ef":function(t,e,n){(function(r){function i(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==r&&"env"in r&&(t=Object({NODE_ENV:"production",VUE_APP_API:"/api/dataengine/dataexporler",VUE_APP_PUBLIC_PATH:"./",VUE_APP_TYPE:"local",BASE_URL:""}).DEBUG),t}(e=t.exports=n("546b")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),!n)return;var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var i=0,a=0;t[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(i++,"%c"===t&&(a=i))})),t.splice(a,0,r)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=i,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(i())}).call(this,n("4362"))},"05f5":function(t,e,n){var r=n("7a41"),i=n("ef08").document,a=r(i)&&r(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},"0610":function(t,e,n){"use strict";var r=n("5a59");n.n(r).a},"06c5":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n("a630"),n("fb6a"),n("b0c0"),n("d3b7"),n("25f0"),n("3ca3");var r=n("6b75");function i(t,e){if(t){if("string"==typeof t)return Object(r.a)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(t,e):void 0}}},"06cf":function(t,e,n){var r=n("83ab"),i=n("d1e7"),a=n("5c6c"),o=n("fc6a"),s=n("c04e"),u=n("5135"),l=n("0cfb"),c=Object.getOwnPropertyDescriptor;e.f=r?c:function(t,e){if(t=o(t),e=s(e,!0),l)try{return c(t,e)}catch(t){}if(u(t,e))return a(!i.f.call(t,e),t[e])}},"072d":function(t,e,n){"use strict";var r=n("0bad"),i=n("9876"),a=n("fed5"),o=n("1917"),s=n("0983"),u=n("9fbb"),l=Object.assign;t.exports=!l||n("4b8b")((function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=l({},t)[n]||Object.keys(l({},e)).join("")!=r}))?function(t,e){for(var n=s(t),l=arguments.length,c=1,h=a.f,f=o.f;l>c;)for(var d,p=u(arguments[c++]),m=h?i(p).concat(h(p)):i(p),g=m.length,_=0;g>_;)d=m[_++],r&&!f.call(p,d)||(n[d]=p[d]);return n}:l},"07ac":function(t,e,n){var r=n("23e7"),i=n("6f53").values;r({target:"Object",stat:!0},{values:function(t){return i(t)}})},"07d6":function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},"0983":function(t,e,n){var r=n("c901");t.exports=function(t){return Object(r(t))}},"0a06":function(t,e,n){"use strict";var r=n("c532"),i=n("30b5"),a=n("f6b4"),o=n("5270"),s=n("4a7b");function u(t){this.defaults=t,this.interceptors={request:new a,response:new a}}u.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[o,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)n=n.then(e.shift(),e.shift());return n},u.prototype.getUri=function(t){return t=s(this.defaults,t),i(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(t){u.prototype[t]=function(e,n){return this.request(r.merge(n||{},{method:t,url:e}))}})),r.forEach(["post","put","patch"],(function(t){u.prototype[t]=function(e,n,i){return this.request(r.merge(i||{},{method:t,url:e,data:n}))}})),t.exports=u},"0ac8":function(t,e,n){var r=n("23e7"),i=n("8eb5");r({target:"Math",stat:!0,forced:i!=Math.expm1},{expm1:i})},"0ae2":function(t,e,n){var r=n("9876"),i=n("fed5"),a=n("1917");t.exports=function(t){var e=r(t),n=i.f;if(n)for(var o,s=n(t),u=a.f,l=0;s.length>l;)u.call(t,o=s[l++])&&e.push(o);return e}},"0b25":function(t,e,n){var r=n("a691"),i=n("50c4");t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=i(e);if(e!==n)throw RangeError("Wrong length or index");return n}},"0b3d":function(t,e,n){"use strict";n("99af"),n("c975"),n("fb6a"),n("a434"),n("a9e3"),n("b680"),n("d3b7"),n("4d63"),n("ac1f"),n("25f0"),n("1276");e.a={methods:{setColorsHistory:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"history";if(t){var n={history:{key:this.colorsHistoryKey,colors:this.colorsHistory,limit:9},historySelf:{key:this.colorsSelfHistoryKey,colors:this.colorsSelfHistory,limit:8}},r=n[e].colors,i=n[e].limit,a=r.indexOf(t);a>=0&&r.splice(a,1),r.length>=i&&(r.length=i-1),r.unshift(t),localStorage.setItem(n[e].key,JSON.stringify(r))}},setColorValue:function(t){var e=new RegExp("^[a-zA-Z]{1,}$"),n={r:0,g:0,b:0,a:1};if(/#/.test(t))n=this.hex2rgba(t);else if(/rgb/.test(t))n=this.rgb2rgba(t);else if("string"!=typeof t||e.test(t)){if("[object Object]"===Object.prototype.toString.call(t))n=t;else if("string"==typeof t&&e.test(t))return}else n=this.rgb2rgba("rgba(".concat(t,")"));var r=n,i=r.r,a=r.g,o=r.b,s=r.a,u=this.rgb2hsv(n);return{r:i,g:a,b:o,a:void 0===s?1:s,h:u.h,s:u.s,v:u.v}},showBgColor:function(t){return"string"!=typeof t||/#/.test(t)||/rgb/.test(t)?t:"rgba(".concat(t,")")},createAlphaSquare:function(t){var e=document.createElement("canvas"),n=e.getContext("2d"),r=2*t;return e.width=r,e.height=r,n.fillStyle="#ffffff",n.fillRect(0,0,r,r),n.fillStyle="#ccd5db",n.fillRect(0,0,t,t),n.fillRect(t,t,t,t),e},createLinearGradient:function(t,e,n,r,i,a){var o="l"===t,s=e.createLinearGradient(0,0,o?n:0,o?0:r);s.addColorStop(.01,a),s.addColorStop(.99,i),e.fillStyle=s,e.fillRect(0,0,n,r)},rgb2hex:function(t,e){var n=t.r,r=t.g,i=t.b,a=function(t){return("0"+Number(t).toString(16)).slice(-2)},o="#".concat(a(n)).concat(a(r)).concat(a(i));return e?o.toUpperCase():o},hex2rgba:function(t){2===(t=t.slice(1)).length&&(t=t+t+t),3===t.length&&(t+=t);var e=function(t){return parseInt(t,16)||0};return{r:e(t.slice(0,2)),g:e(t.slice(2,4)),b:e(t.slice(4,6)),a:1}},rgb2rgba:function(t){return"string"==typeof t?(t=(/rgba?\((.*?)\)/.exec(t)||["","0,0,0,1"])[1].split(","),{r:Number(t[0])||0,g:Number(t[1])||0,b:Number(t[2])||0,a:Number(t[3]?t[3]:1)}):t},rgb2hsv:function(t){var e=t.r,n=t.g,r=t.b;e/=255,n/=255,r/=255;var i=Math.max(e,n,r),a=Math.min(e,n,r),o=i-a,s=0;return i===a?s=0:i===e?s=n>=r?60*(n-r)/o:60*(n-r)/o+360:i===n?s=60*(r-e)/o+120:i===r&&(s=60*(e-n)/o+240),{h:s=Math.floor(s),s:parseFloat((0===i?0:1-a/i).toFixed(2)),v:parseFloat(i.toFixed(2))}}}}},"0b99":function(t,e,n){"use strict";var r=n("19fa")(!0);n("393a")(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})}))},"0bad":function(t,e,n){t.exports=!n("4b8b")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},"0c47":function(t,e,n){var r=n("da84");n("d44e")(r.JSON,"JSON",!0)},"0ccb":function(t,e,n){var r=n("50c4"),i=n("1148"),a=n("1d80"),o=Math.ceil,s=function(t){return function(e,n,s){var u,l,c=String(a(e)),h=c.length,f=void 0===s?" ":String(s),d=r(n);return d<=h||""==f?c:(u=d-h,(l=i.call(f,o(u/f.length))).length>u&&(l=l.slice(0,u)),t?c+l:l+c)}};t.exports={start:s(!1),end:s(!0)}},"0cfb":function(t,e,n){var r=n("83ab"),i=n("d039"),a=n("cc12");t.exports=!r&&!i((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},"0d03":function(t,e,n){var r=n("6eeb"),i=Date.prototype,a=i.toString,o=i.getTime;new Date(NaN)+""!="Invalid Date"&&r(i,"toString",(function(){var t=o.call(this);return t==t?a.call(this):"Invalid Date"}))},"0d3b":function(t,e,n){var r=n("d039"),i=n("b622"),a=n("c430"),o=i("iterator");t.exports=!r((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n="";return t.pathname="c%20d",e.forEach((function(t,r){e.delete("b"),n+=r+t})),a&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},"0df6":function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},"0e15":function(t,e,n){var r=n("597f");t.exports=function(t,e,n){return void 0===n?r(t,e,!1):r(t,n,!1!==e)}},1098:function(t,e,n){"use strict";e.__esModule=!0;var r=o(n("17ed")),i=o(n("f893")),a="function"==typeof i.default&&"symbol"==typeof r.default?function(t){return typeof t}:function(t){return t&&"function"==typeof i.default&&t.constructor===i.default&&t!==i.default.prototype?"symbol":typeof t};function o(t){return t&&t.__esModule?t:{default:t}}e.default="function"==typeof i.default&&"symbol"===a(r.default)?function(t){return void 0===t?"undefined":a(t)}:function(t){return t&&"function"==typeof i.default&&t.constructor===i.default&&t!==i.default.prototype?"symbol":void 0===t?"undefined":a(t)}},"10d1":function(t,e,n){"use strict";var r,i=n("da84"),a=n("e2cc"),o=n("f183"),s=n("6d61"),u=n("acac"),l=n("861d"),c=n("69f3").enforce,h=n("7f9a"),f=!i.ActiveXObject&&"ActiveXObject"in i,d=Object.isExtensible,p=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},m=t.exports=s("WeakMap",p,u);if(h&&f){r=u.getConstructor(p,"WeakMap",!0),o.REQUIRED=!0;var g=m.prototype,_=g.delete,v=g.has,y=g.get,b=g.set;a(g,{delete:function(t){if(l(t)&&!d(t)){var e=c(this);return e.frozen||(e.frozen=new r),_.call(this,t)||e.frozen.delete(t)}return _.call(this,t)},has:function(t){if(l(t)&&!d(t)){var e=c(this);return e.frozen||(e.frozen=new r),v.call(this,t)||e.frozen.has(t)}return v.call(this,t)},get:function(t){if(l(t)&&!d(t)){var e=c(this);return e.frozen||(e.frozen=new r),v.call(this,t)?y.call(this,t):e.frozen.get(t)}return y.call(this,t)},set:function(t,e){if(l(t)&&!d(t)){var n=c(this);n.frozen||(n.frozen=new r),v.call(this,t)?b.call(this,t,e):n.frozen.set(t,e)}else b.call(this,t,e);return this}})}},"10db":function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},1148:function(t,e,n){"use strict";var r=n("a691"),i=n("1d80");t.exports="".repeat||function(t){var e=String(i(this)),n="",a=r(t);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(e+=e))1&a&&(n+=e);return n}},"124c":function(t,e,n){},1276:function(t,e,n){"use strict";var r=n("d784"),i=n("44e7"),a=n("825a"),o=n("1d80"),s=n("4840"),u=n("8aa5"),l=n("50c4"),c=n("14c3"),h=n("9263"),f=n("d039"),d=[].push,p=Math.min,m=!f((function(){return!RegExp(4294967295,"y")}));r("split",2,(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=String(o(this)),a=void 0===n?4294967295:n>>>0;if(0===a)return[];if(void 0===t)return[r];if(!i(t))return e.call(r,t,a);for(var s,u,l,c=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,m=new RegExp(t.source,f+"g");(s=h.call(m,r))&&!((u=m.lastIndex)>p&&(c.push(r.slice(p,s.index)),s.length>1&&s.index<r.length&&d.apply(c,s.slice(1)),l=s[0].length,p=u,c.length>=a));)m.lastIndex===s.index&&m.lastIndex++;return p===r.length?!l&&m.test("")||c.push(""):c.push(r.slice(p)),c.length>a?c.slice(0,a):c}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var i=o(this),a=null==e?void 0:e[t];return void 0!==a?a.call(e,i,n):r.call(String(i),e,n)},function(t,i){var o=n(r,t,this,i,r!==e);if(o.done)return o.value;var h=a(t),f=String(this),d=s(h,RegExp),g=h.unicode,_=(h.ignoreCase?"i":"")+(h.multiline?"m":"")+(h.unicode?"u":"")+(m?"y":"g"),v=new d(m?h:"^(?:"+h.source+")",_),y=void 0===i?4294967295:i>>>0;if(0===y)return[];if(0===f.length)return null===c(v,f)?[f]:[];for(var b=0,x=0,w=[];x<f.length;){v.lastIndex=m?x:0;var T,S=c(v,m?f:f.slice(x));if(null===S||(T=p(l(v.lastIndex+(m?0:x)),f.length))===b)x=u(f,x,g);else{if(w.push(f.slice(b,x)),w.length===y)return w;for(var E=1;E<=S.length-1;E++)if(w.push(S[E]),w.length===y)return w;x=b=T}}return w.push(f.slice(b)),w}]}),!m)},"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},"12a8":function(t,e,n){"use strict";var r=n("23e7"),i=n("83ab"),a=n("eb1d"),o=n("7b0b"),s=n("1c0b"),u=n("9bf2");i&&r({target:"Object",proto:!0,forced:a},{__defineGetter__:function(t,e){u.f(o(this),t,{get:s(e),enumerable:!0,configurable:!0})}})},"12fe":function(t,e,n){"use strict";(function(t){n("7db0"),n("caad"),n("a434"),n("b0c0"),n("d3b7"),n("6062"),n("2532"),n("3ca3"),n("498a"),n("ddb0"),n("e260");var r=n("5530"),i=n("2909"),a=n("be44");e.a={name:"Item",mixins:[a.b],props:{isTrans:{type:Boolean,default:!0},chooseModel:{type:Boolean,default:!1},chooseFolder:{type:Boolean,default:!0},treeT:{type:Object},isAdd:{default:!1},sourceData:{type:Array,default:function(){return[]}},totalSourceData:{default:null},toNext:{default:!1},canNodeSelect:Function},data:function(){return{tempSourceData:this.sourceData,selected:[],dbSelected:[],dragSelected:[],openName:[],dbChangeNewName:"",newName:"",showValidate:!1,treeSearchFather:[],defaultSet:{id:"model_id",name:"model_clname",pId:"parent_id",rootId:"0",defaultItem:!0,addDefField:this.t("treeNew"),defaultExpand:"none",isDbClick:!1,isDrag:!1,isDelete:!1,treeDropDown:!1,lazy:!1},isDbClicked:!1,singleChooseClick:null,dragSetTimeOut:null,treeDragData:{top:0,left:0,isDraggable:!1,currentDragModel:{}}}},directives:{focus:function(t){t.focus()}},computed:{defaultTreeT:function(){return t.extend(!0,{},this.defaultSet,this.treeT)},uniqueData:function(){return this.toNext?this.totalSourceData:this.tempSourceData},treeData:function(){var t=this.tempSourceData;return this.isTrans&&(t=this.listToTree(t)),t},trueSelected:function(){return this.toNext?this.toNext.selected:this.selected},trueDbSelected:function(){return this.toNext?this.toNext.dbSelected:this.dbSelected},trueOpenName:function(){return this.toNext?this.toNext.openName:this.openName},trueDragSelected:function(){return this.toNext?this.toNext.dragSelected:this.dragSelected},trueTreeDragData:function(){return this.toNext?this.toNext.dragData:this.treeDragData},trueIsDbClicked:function(){return this.toNext?this.toNext.isDbClicked:this.isDbClicked}},watch:{isAdd:function(){if(this.newName=this.defaultTreeT.addDefField,this.treeSearchFather=[],!0===this.isAdd&&!this.toNext){for(var t,e=0;e<this.tempSourceData.length;e++)this.trueSelected[0]===this.tempSourceData[e][this.defaultTreeT.id]&&this.findFather(this.tempSourceData[e][this.defaultTreeT.pId]);(t=this.openName).push.apply(t,Object(i.a)(this.treeSearchFather)),this.openName.push(this.trueSelected[0]),this.openName=Object(i.a)(new Set(this.openName))}},trueOpenName:function(){this.toNext||this.$emit("treeHeightChanged")},sourceData:{handler:function(t){this.tempSourceData=t,this.handleDefaultItem(),this.handleDefaultExpand()},deep:!0}},created:function(){this.newName=this.defaultTreeT.addDefField,this.toNext||(this.handleDefaultItem(),this.handleDefaultExpand())},methods:{handleDelete:function(t){this.$emit("deleteItem",t)},fixMouseState:function(e){var n=t(this.$el).find(".move-tree-block")[0],r=t(n).outerHeight()/2,i=this.calcUlTreeOffset(e);this.$set(this.treeDragData,"top",e.pageY-i.top-r),this.$set(this.treeDragData,"left",t(this.$el).find(".show-node").offset().left-i.left)},dragMouseDown:function(t,e){if(!this.trueIsDbClicked&&!this.isAdd&&this.treeT.isDrag&&!this.trueTreeDragData.isDraggable){var n=this;clearTimeout(this.dragSetTimeOut),this.dragSetTimeOut=setTimeout((function(){n.trueOpenName.includes(t[n.defaultTreeT.id])&&n.toggle(t),n.toNext?n.$emit("getFromNextData",{mouseState:{isDragStart:!0,event:e,curDragMol:t}}):(n.treeDragData.isDraggable=!0,n.treeDragData.currentDragModel=t,n.fixMouseState(e))}),200)}},dragMouseMove:function(t){if(!this.trueIsDbClicked&&!this.isAdd&&this.treeT.isDrag&&this.trueTreeDragData.isDraggable){this.toNext?this.$emit("getFromNextData",{mouseState:{isDragStart:!0,event:t}}):this.fixMouseState(t);var e=this.findMouseUpNode(t);e!==this.trueTreeDragData.currentDragModel[this.defaultTreeT.id]?this.toNext?this.$emit("getFromNextData",{dragSelected:e}):(this.dragSelected=[],this.dragSelected.push(e)):this.toNext?this.$emit("getFromNextData",{dragSelected:[]}):this.dragSelected=[]}},dragMouseUp:function(t){this.treeT.isDrag&&this.trueTreeDragData.isDraggable&&(this.toNext?this.$emit("getFromNextData",{mouseState:{isDragStart:!1,event:t}}):(this.treeDragData.isDraggable=!1,this.handleMouseUp(t),this.clearTreeDragData()))},getFromNextData:function(t){if(this.toNext)this.$emit("getFromNextData",t);else{if(t.choosed&&(this.selected=[],this.selected.push(t.choosed)),t.dbChoosed&&(this.dbSelected=[],this.dbSelected.push(t.dbChoosed)),t.openItem)if(this.openName.includes(t.openItem))for(var e=0;e<this.openName.length;e++)t.openItem===this.openName[e]&&this.openName.splice(e,1);else this.openName.push(t.openItem);t.dragSelected&&(this.dragSelected=[],this.dragSelected.push(t.dragSelected)),t.mouseState&&(t.mouseState.curDragMol&&(this.treeDragData.currentDragModel=t.mouseState.curDragMol),t.mouseState.isDragStart?(this.treeDragData.isDraggable=!0,this.fixMouseState(t.mouseState.event)):(this.treeDragData.isDraggable=!1,this.handleMouseUp(t.mouseState.event),this.clearTreeDragData())),void 0!==t.dbClicked&&(this.isDbClicked=t.dbClicked)}},mouseLeave:function(){this.treeT.isDrag&&this.trueTreeDragData.isDraggable&&!this.toNext&&(this.treeDragData.isDraggable=!1,this.clearTreeDragData())},clearTreeDragData:function(){this.dragSelected=[],this.treeDragData.currentDragModel={},this.treeDragData.top=0,this.treeDragData.left=0,this.dragSetTimeOut=null},handleMouseUp:function(t){var e=this.findMouseUpNode(t);if("root"===e)this.$emit("getDragData",{dragData:this.trueTreeDragData.currentDragModel,parentData:e});else if(e!==this.trueTreeDragData.currentDragModel[this.defaultTreeT.id]){for(var n=this.uniqueData,r={},i=0;i<n.length;i++)n[i][this.defaultTreeT.id]===e&&(r=n[i]);this.$emit("getDragData",{dragData:this.trueTreeDragData.currentDragModel,parentData:r}),this.trueOpenName.includes(r[this.defaultTreeT.id])||this.toggle(r)}},findShowNodes:function(){var e=[];e=this.toNext?t(this.$el).parents(".first-level").find(".show-node"):t(this.$el).find(".show-node");for(var n=[],r=this.calcUlTreeOffset(),i=0;i<e.length;i++){var a=t(e[i]).offset().top+t(e[i]).outerHeight()-r.top;a>=0&&n.push({_dom:e[i],_pos:a})}return n},findMouseUpNode:function(e){var n=this.calcUlTreeOffset(e),r=this.findShowNodes(),i=e.pageY-n.top,a=null;if(r.length>1)for(var o=0;o<r.length;o++){if(0===o){if(i<=r[o]._pos){a=r[o]._dom;break}}else if(o===r.length-1&&i>=r[o]._pos){a="root";break}if(r[o]._pos<i&&i<r[o+1]._pos){a=r[o+1]._dom;break}}else a="root";return"root"!==a?t(a).find("#show-id").text().trim():a},changeFolderName:function(t){clearTimeout(this.singleChooseClick),this.treeT.isDbClick&&(this.dbChangeNewName=t[this.defaultTreeT.name],this.isDbClicked=!0,this.toNext?this.$emit("getFromNextData",{dbChoosed:t[this.defaultTreeT.id],dbClicked:this.isDbClicked}):(this.dbSelected=[],this.dbSelected.push(t[this.defaultTreeT.id])))},calcUlTreeOffset:function(){return this.toNext?t(this.$el).parents(".first-level").offset():t(this.$el).offset()},loadNodeData:function(t){this.$emit("loadNodeData",t)},toggle:function(t){if(this.defaultTreeT.lazy&&this.loadNodeData(t),!this.isAdd&&!this.trueIsDbClicked)if(clearTimeout(this.dragSetTimeOut),this.toNext)this.$emit("getFromNextData",{openItem:t[this.defaultTreeT.id]});else if(this.trueOpenName.includes(t[this.defaultTreeT.id]))for(var e=0;e<this.trueOpenName.length;e++)t[this.defaultTreeT.id]===this.trueOpenName[e]&&this.openName.splice(e,1);else this.openName.push(t[this.defaultTreeT.id])},chooseTreeItem:function(t){if((!this.canNodeSelect||this.canNodeSelect(t))&&!this.isAdd&&!this.trueIsDbClicked){if(!this.chooseModel&&"file"===t.type)return;if(!this.chooseFolder&&"folder"===t.type)return void this.toggle(t);var e=this;clearTimeout(this.dragSetTimeOut),clearTimeout(this.singleChooseClick),clearTimeout(this.dblSettimeout),this.singleChooseClick=setTimeout((function(){if(e.toNext&&e.$emit("getFromNextData",{choosed:t[e.defaultTreeT.id]}),!e.isAdd){if("function"==typeof e.defaultTreeT.validate){if(!e.defaultTreeT.validate(t))return void(e.showValidate=!0);e.sendData(t)}e.sendData(t)}}),200)}},changeDbNewName:function(t){var e=this;clearTimeout(this.singleChooseClick),clearTimeout(this.dblSettimeout),setTimeout((function(){var n={};n.oldModel=t,n.newChangeName=e.dbChangeNewName,e.$emit("changeDbNewName",n),e.isDbClicked=!1,e.toNext&&e.$emit("getFromNextData",{dbClicked:e.isDbClicked}),e.dbChangeNewName=""}),300)},changeDbNewNameT:function(t){this.$emit("changeDbNewName",t)},getDragDataT:function(t){this.$emit("getDragData",t)},changeT:function(t){this.$emit("changeNewName",t)},handleDefaultItem:function(){if(this.defaultTreeT){var t=this.defaultTreeT.defaultItem;if(!0===t)this.treeData.length>0&&(this.selected=[],this.selected.push(this.treeData[0][this.defaultTreeT.id]),this.$emit("getDefaultData",this.treeData[0]));else if("string"==typeof this.defaultTreeT.defaultItem||"number"==typeof this.defaultTreeT.defaultItem)for(var e=0;e<this.tempSourceData.length;e++)t===this.tempSourceData[e][this.defaultTreeT.id]&&(this.selected=[],this.selected.push(this.tempSourceData[e][this.defaultTreeT.id]),this.$emit("getDefaultData",this.tempSourceData[e]))}},handleDefaultExpand:function(){if("first"===this.defaultTreeT.defaultExpand){for(var t=0;t<this.treeData.length;t++)this.openName.push(this.treeData[t][this.defaultTreeT.id]);if("string"==typeof this.defaultTreeT.defaultItem||"number"==typeof this.defaultTreeT.defaultItem)for(var e=0;e<this.tempSourceData.length;e++){var n;if(this.defaultTreeT.defaultItem===this.tempSourceData[e][this.defaultTreeT.id])this.findFather(this.tempSourceData[e][this.defaultTreeT.pId]),(n=this.openName).push.apply(n,Object(i.a)(this.treeSearchFather))}this.openName=Object(i.a)(new Set(this.openName))}else if("all"===this.defaultTreeT.defaultExpand)for(var r=0;r<this.tempSourceData.length;r++)this.openName.push(this.tempSourceData[r][this.defaultTreeT.id]);else if("none"===this.defaultTreeT.defaultExpand)if(!0===this.defaultTreeT.defaultItem)this.treeData.length>0&&this.openName.push(this.treeData[0][this.defaultTreeT.id]);else if("string"==typeof this.defaultTreeT.defaultItem||"number"==typeof this.defaultTreeT.defaultItem)for(var a=0;a<this.tempSourceData.length;a++){var o;if(this.defaultTreeT.defaultItem===this.tempSourceData[a][this.defaultTreeT.id])if(this.findFather(this.tempSourceData[a][this.defaultTreeT.pId]),this.treeSearchFather.length>0)(o=this.openName).push.apply(o,Object(i.a)(this.treeSearchFather))}},findFather:function(t){for(var e=this.tempSourceData,n=this.defaultTreeT.pId,r=this.defaultTreeT.id,i=0;i<e.length;i++)t===e[i][r]&&(this.treeSearchFather.push(e[i][r]),this.findFather(e[i][n]))},changeNewName:function(t){var e=this;clearTimeout(this.newSettime),setTimeout((function(){var n={};e.toNext||"root"!==e.isAdd?n.parent=t:n.parent="root",n.addValue=e.newName,e.$emit("changeNewName",n)}),300)},sendData:function(t){this.selected=[],this.selected.push(t[this.defaultTreeT.id]),this.$emit("chooseTreeItem",t)},setSelect:function(t){if(!0===t)this.treeData.length>0&&this.sendData(this.treeData[0]);else if("empty"===t)this.selected=[],this.$emit("chooseTreeItem",{});else if(t)for(var e=0;e<this.tempSourceData.length;e++)this.tempSourceData[e][this.defaultTreeT.id]===t&&this.sendData(this.tempSourceData[e])},transTreeData:function(t){if(t.length>0){var e=this.defaultTreeT.rootId;return this.findChild(e)}return[]},listToTree:function(t){for(var e,n,r={},i=[],a=0;a<t.length;a++)r[t[a][this.defaultTreeT.id]]=t[a],t[a].children=[];for(n=0;n<t.length;n+=1)e=t[n],this.defaultTreeT.type?this.defaultTreeT.folder?e.type=e[this.defaultTreeT.type]===this.defaultTreeT.folder?"folder":"file":e.type=e[this.defaultTreeT.type]&&e[this.defaultTreeT.type].includes("file")?"file":"folder":e.type="folder",e[this.defaultTreeT.pId]!==this.defaultTreeT.rootId?r[e[this.defaultTreeT.pId]]&&r[e[this.defaultTreeT.pId]].children.push(e):i.push(e);return i},findChild:function(t){for(var e=[],n=this.tempSourceData,i=n.length,a=0;a<i;a++)if(n[a][this.defaultTreeT.pId]===t){var o=Object(r.a)({},n[a]);this.defaultTreeT.type?this.defaultTreeT.folder?o.type=o[this.defaultTreeT.type]===this.defaultTreeT.folder?"folder":"file":o.type=o[this.defaultTreeT.type]&&o[this.defaultTreeT.type].includes("file")?"file":"folder":o.type="folder",o.children=this.findChild(o[this.defaultTreeT.id]),e.push(o)}return e}}}}).call(this,n("1157"))},"130f":function(t,e,n){var r=n("23e7"),i=n("da84"),a=n("2cf49");r({global:!0,bind:!0,enumerable:!0,forced:!i.setImmediate||!i.clearImmediate},{setImmediate:a.set,clearImmediate:a.clear})},"131a":function(t,e,n){n("23e7")({target:"Object",stat:!0},{setPrototypeOf:n("d2bb")})},1393:function(t,e,n){"use strict";var r=n("23e7"),i=n("857a");r({target:"String",proto:!0,forced:n("af03")("big")},{big:function(){return i(this,"big","","")}})},"13d5":function(t,e,n){"use strict";var r=n("23e7"),i=n("d58f").left,a=n("a640"),o=n("ae40"),s=a("reduce"),u=o("reduce",{1:0});r({target:"Array",proto:!0,forced:!s||!u},{reduce:function(t){return i(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"143c":function(t,e,n){n("74e8")("Int32",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},1452:function(t,e,n){"use strict";n("a9e3");var r=n("3835"),i={mixins:[n("0b3d").a],props:{color:{type:String,default:"#000000"},hsv:{type:Object,default:null},size:{type:Number,default:152},width:{type:Number,default:152}},data:function(){return{slideSaturationStyle:{},prefix:this.prefix}},inject:["prefix"],mounted:function(){this.renderColor(),this.renderSlide()},methods:{renderColor:function(){var t=this.$refs.canvasSaturation,e=this.size,n=this.width,r=t.getContext("2d");t.width=n,t.height=e,r.fillStyle=this.color,r.fillRect(0,0,n,e),this.createLinearGradient("l",r,n,e,"rgba(255,255,255,0)","#FFFFFF"),this.createLinearGradient("p",r,n,e,"#000000","rgba(0,0,0,0)")},renderSlide:function(){this.slideSaturationStyle={left:this.hsv.s*this.width-5+"px",top:(1-this.hsv.v)*this.size-5+"px"}},selectSaturation:function(t){var e=this,n=this.$el.getBoundingClientRect(),i=n.top,a=n.left,o=t.target.getContext("2d"),s=function(t){var n=t.clientX-a,s=t.clientY-i;n<0&&(n=0),s<0&&(s=0),n>e.width&&(n=e.width),s>e.size&&(s=e.size),e.slideSaturationStyle={left:n-5+"px",top:s-5+"px"};var u=o.getImageData(Math.min(n,e.width-1),Math.min(s,e.size-1),1,1),l=Object(r.a)(u.data,3),c=l[0],h=l[1],f=l[2];e.$emit("selectSaturation",{r:c,g:h,b:f})};s(t);document.addEventListener("mousemove",s),document.addEventListener("mouseup",(function t(){document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",t)}))}}},a=(n("255f"),n("2877")),o=Object(a.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.prefix+"-saturation",on:{mousedown:function(e){return e.preventDefault(),e.stopPropagation(),t.selectSaturation(e)}}},[n("canvas",{ref:"canvasSaturation",class:t.prefix+"-canvas2"}),n("div",{class:t.prefix+"-slide",style:t.slideSaturationStyle})])}),[],!1,null,"2aebeee2",null);e.a=o.exports},"145e":function(t,e,n){"use strict";var r=n("7b0b"),i=n("23cb"),a=n("50c4"),o=Math.min;t.exports=[].copyWithin||function(t,e){var n=r(this),s=a(n.length),u=i(t,s),l=i(e,s),c=arguments.length>2?arguments[2]:void 0,h=o((void 0===c?s:i(c,s))-l,s-u),f=1;for(l<u&&u<l+h&&(f=-1,l+=h-1,u+=h-1);h-- >0;)l in n?n[u]=n[l]:delete n[u],u+=f,l+=f;return n}},"14c3":function(t,e,n){var r=n("c6b6"),i=n("9263");t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var a=n.call(t,e);if("object"!=typeof a)throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},"159b":function(t,e,n){var r=n("da84"),i=n("fdbc"),a=n("17c2"),o=n("9112");for(var s in i){var u=r[s],l=u&&u.prototype;if(l&&l.forEach!==a)try{o(l,"forEach",a)}catch(t){l.forEach=a}}},"15fd":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n("a4d3"),n("c975"),n("b64b");function r(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}},1609:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},1625:function(t,e,n){t.exports=n("bae1")},"170b":function(t,e,n){"use strict";var r=n("ebb5"),i=n("50c4"),a=n("23cb"),o=n("4840"),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("subarray",(function(t,e){var n=s(this),r=n.length,u=a(t,r);return new(o(n,n.constructor))(n.buffer,n.byteOffset+u*n.BYTES_PER_ELEMENT,i((void 0===e?r:a(e,r))-u))}))},1715:function(t,e,n){n("159b"),n("ddb0"),n("130f"),n("9f96"),n("4795"),n("2b3d"),n("bf19"),n("9861");var r=n("428f");t.exports=r},"17c2":function(t,e,n){"use strict";var r=n("b727").forEach,i=n("a640"),a=n("ae40"),o=i("forEach"),s=a("forEach");t.exports=o&&s?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},"17ed":function(t,e,n){t.exports={default:n("511f"),__esModule:!0}},"182d":function(t,e,n){var r=n("f8cd");t.exports=function(t,e){var n=r(t);if(n%e)throw RangeError("Wrong offset");return n}},1836:function(t,e,n){var r=n("6ca1"),i=n("6438").f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return o&&"[object Window]"==a.call(t)?function(t){try{return i(t)}catch(t){return o.slice()}}(t):i(r(t))}},"18a5":function(t,e,n){"use strict";var r=n("23e7"),i=n("857a");r({target:"String",proto:!0,forced:n("af03")("anchor")},{anchor:function(t){return i(this,"a","name",t)}})},1911:function(t,e,n){},1913:function(t,e,n){"use strict";var r=n("23e7"),i=n("857a");r({target:"String",proto:!0,forced:n("af03")("fontsize")},{fontsize:function(t){return i(this,"font","size",t)}})},1917:function(t,e){e.f={}.propertyIsEnumerable},"197b":function(t,e,n){n("746f")("species")},"19aa":function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},"19fa":function(t,e,n){var r=n("fc5e"),i=n("c901");t.exports=function(t){return function(e,n){var a,o,s=String(i(e)),u=r(n),l=s.length;return u<0||u>=l?t?"":void 0:(a=s.charCodeAt(u))<55296||a>56319||u+1===l||(o=s.charCodeAt(u+1))<56320||o>57343?t?s.charAt(u):a:t?s.slice(u,u+2):o-56320+(a-55296<<10)+65536}}},"1a14":function(t,e,n){var r=n("77e9"),i=n("faf5"),a=n("3397"),o=Object.defineProperty;e.f=n("0bad")?Object.defineProperty:function(t,e,n){if(r(t),e=a(e,!0),r(n),i)try{return o(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},"1be4":function(t,e,n){var r=n("d066");t.exports=r("document","documentElement")},"1bf2":function(t,e,n){n("23e7")({target:"Reflect",stat:!0},{ownKeys:n("56ef")})},"1c0b":function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},"1c7e":function(t,e,n){var r=n("b622")("iterator"),i=!1;try{var a=0,o={next:function(){return{done:!!a++}},return:function(){i=!0}};o[r]=function(){return this},Array.from(o,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var a={};a[r]=function(){return{next:function(){return{done:n=!0}}}},t(a)}catch(t){}return n}},"1cdc":function(t,e,n){var r=n("342f");t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},"1d1c":function(t,e,n){var r=n("23e7"),i=n("83ab");r({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperties:n("37e8")})},"1d2b":function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},"1d44":function(t,e,n){},"1d80":function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},"1da1":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n("d3b7"),n("e6cf");function r(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function i(t){return function(){var e=this,n=arguments;return new Promise((function(i,a){var o=t.apply(e,n);function s(t){r(o,i,a,s,u,"next",t)}function u(t){r(o,i,a,s,u,"throw",t)}s(void 0)}))}}},"1dde":function(t,e,n){var r=n("d039"),i=n("b622"),a=n("2d00"),o=i("species");t.exports=function(t){return a>=51||!r((function(){var e=[];return(e.constructor={})[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"1e25":function(t,e,n){"use strict";var r=n("23e7"),i=n("58a8").end,a=n("c8d2")("trimEnd"),o=a?function(){return i(this)}:"".trimEnd;r({target:"String",proto:!0,forced:a},{trimEnd:o,trimRight:o})},"1ec1":function(t,e){var n=Math.log;t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:n(1+t)}},"1edf":function(t,e,n){"use strict";var r=n("7ad1");n.n(r).a},"1f5d":function(t,e,n){"use strict";(function(t){n("b6ca");var r={install:function(e,n){if(!r.installed){r.install.installed=!0;var i={};for(var a in n)i[a]=n[a];var o='<div class="loadingBox"><div class="loadingBlock"></div></div>';e.directive("loading",{bind:function(e,n){n.value.show&&t(e).append(o)},update:function(e,n){n.value.show?t(e).append(o):t(e).children(".loadingBox").remove()},unbind:function(e){t(e).children(".loadingBox").remove()}})}}};"undefined"!=typeof window&&window.Vue&&window.Vue.use(r),e.a=r}).call(this,n("1157"))},"1fe2":function(t,e,n){"use strict";n("6d61")("WeakSet",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),n("acac"))},"20bf":function(t,e,n){"use strict";var r=n("8aa7");(0,n("ebb5").exportTypedArrayStaticMethod)("from",n("a078"),r)},"20f9":function(t,e,n){},"219c":function(t,e,n){"use strict";var r=n("ebb5"),i=r.aTypedArray,a=r.exportTypedArrayMethod,o=[].sort;a("sort",(function(t){return o.call(i(this),t)}))},2266:function(t,e,n){var r=n("825a"),i=n("e95a"),a=n("50c4"),o=n("0366"),s=n("35a1"),u=n("9bdd"),l=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,e,n,c,h){var f,d,p,m,g,_,v,y=o(e,n,c?2:1);if(h)f=t;else{if("function"!=typeof(d=s(t)))throw TypeError("Target is not iterable");if(i(d)){for(p=0,m=a(t.length);m>p;p++)if((g=c?y(r(v=t[p])[0],v[1]):y(t[p]))&&g instanceof l)return g;return new l(!1)}f=d.call(t)}for(_=f.next;!(v=_.call(f)).done;)if("object"==typeof(g=u(f,y,v.value,c))&&g&&g instanceof l)return g;return new l(!1)}).stop=function(t){return new l(!0,t)}},"22a8":function(t,e,n){"use strict";var r={mixins:[n("0b3d").a],props:{colorsDefault:{type:Array,default:function(){return[]}},colorsDefaultShow:{type:Boolean,default:!1},colorsHistoryKeyShow:{type:Boolean,default:!1},colorsSelfShow:{type:Boolean,default:!1},colorsSelf:{type:Array,default:function(){return[]}},text:{type:String,default:""},colorsHistory:{type:Array,default:function(){return[]}}},inject:["prefix"],data:function(){return{prefix:this.prefix}},methods:{selectColorSelf:function(t){this.$emit("selectColorSelf",t)},selectColor:function(t){this.$emit("selectColor",t)}}},i=(n("e3c8"),n("2877")),a=Object(i.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.prefix+"-colors-box"},[t.text?n("div",{class:t.prefix+"-text"},[t._v(t._s(t.text))]):t._e(),t.colorsDefaultShow?n("ul",{class:t.prefix+"-colors"},t._l(t.colorsDefault.filter((function(t){return!("string"==typeof t&&new RegExp("^[a-zA-Z]{1,}$").test(t))})).map(t.showBgColor),(function(e){return n("li",{key:e,class:t.prefix+"-item",on:{click:function(n){return t.selectColor(e)}}},[n("div",{class:t.prefix+"-color",style:{background:e}})])})),0):t._e(),t.colorsHistoryKeyShow?n("ul",{class:t.prefix+"-colors "+t.prefix+"-history"},t._l(t.colorsHistory,(function(e){return n("li",{key:e,class:t.prefix+"-item",on:{click:function(n){return t.selectColor(e)}}},[n("div",{class:t.prefix+"-color",style:{background:e}})])})),0):t._e(),t.colorsSelfShow?n("ul",{class:t.prefix+"-colors "+t.prefix+"-history"},[t._l(t.colorsSelf,(function(e){return n("li",{key:e,class:t.prefix+"-item",on:{click:function(n){return t.selectColor(e)}}},[n("div",{class:t.prefix+"-color",style:{background:e}})])})),n("li",{class:t.prefix+"-item",on:{click:function(e){return t.selectColorSelf(!0)}}},[n("div",{class:t.prefix+"-color "+t.prefix+"-add",style:{background:"#999"}},[n("span",[t._v("+")])])])],2):t._e()])}),[],!1,null,"1cb8cdae",null);e.a=a.exports},2315:function(t,e,n){"use strict";var r=n("23e7"),i=n("857a");r({target:"String",proto:!0,forced:n("af03")("strike")},{strike:function(){return i(this,"strike","","")}})},2351:function(t,e,n){n("746f")("split")},"23cb":function(t,e,n){var r=n("a691"),i=Math.max,a=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):a(n,e)}},"23dc":function(t,e,n){n("d44e")(Math,"Math",!0)},"23e7":function(t,e,n){var r=n("da84"),i=n("06cf").f,a=n("9112"),o=n("6eeb"),s=n("ce4e"),u=n("e893"),l=n("94ca");t.exports=function(t,e){var n,c,h,f,d,p=t.target,m=t.global,g=t.stat;if(n=m?r:g?r[p]||s(p,{}):(r[p]||{}).prototype)for(c in e){if(f=e[c],h=t.noTargetGet?(d=i(n,c))&&d.value:n[c],!l(m?c:p+(g?".":"#")+c,t.forced)&&void 0!==h){if(typeof f==typeof h)continue;u(f,h)}(t.sham||h&&h.sham)&&a(f,"sham",!0),o(n,c,f,t)}}},"241c":function(t,e,n){var r=n("ca84"),i=n("7839").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},2432:function(t,e,n){"use strict";(function(t){var r=n("be44"),i=n("2f56");e.a={name:"ModalTree",mixins:[r.b],components:{btn:i.a},props:{treeT:{type:Object},sourceData:{type:Array},isAdd:{default:!1},chooseModel:{default:!1}},data:function(){return{activeTab:"myFolder",customeTabs:[],defTabs:[{key:"myFolder",flag:0,name:this.t("myFolders"),icon:"myfolder"},{key:"sharedFolder",flag:1,name:this.t("sharedFolders"),icon:"sharedFolder"}],ifChange:!1}},created:function(){},computed:{computedTabs:function(){return t.extend(!0,[],this.defTabs,this.customeTabs)}},methods:{deleteItem:function(t){this.$emit("deleteItem",t)},chooseTreeItem:function(t){this.$emit("chooseTreeItem",t)},changeNewName:function(t){this.$emit("changeNewName",t)},getDefaultData:function(){this.$emit("getDefaultData")},changeDbNewName:function(t){this.$emit("changeDbNewName",t)},getDragData:function(t){this.$emit("getDragData",t)},changeTab:function(t){this.activeTab!==t.key&&(this.ifChange=!0,this.activeTab=t.key,this.$emit("changeTabs",t))}}}}).call(this,n("1157"))},2444:function(t,e,n){"use strict";(function(e){var r=n("c532"),i=n("c8af"),a={"Content-Type":"application/x-www-form-urlencoded"};function o(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s,u={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==e&&"[object process]"===Object.prototype.toString.call(e))&&(s=n("b50d")),s),transformRequest:[function(t,e){return i(e,"Accept"),i(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(o(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(o(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(t){u.headers[t]={}})),r.forEach(["post","put","patch"],(function(t){u.headers[t]=r.merge(a)})),t.exports=u}).call(this,n("4362"))},"252c":function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return a}));var r=void 0;function i(){i.init||(i.init=!0,r=-1!==function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(t.indexOf("Trident/")>0){var n=t.indexOf("rv:");return parseInt(t.substring(n+3,t.indexOf(".",n)),10)}var r=t.indexOf("Edge/");return r>0?parseInt(t.substring(r+5,t.indexOf(".",r)),10):-1}())}var a={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"resize-observer",attrs:{tabindex:"-1"}})},staticRenderFns:[],_scopeId:"data-v-b329ee4c",name:"resize-observer",methods:{compareAndNotify:function(){this._w===this.$el.offsetWidth&&this._h===this.$el.offsetHeight||(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.$emit("notify"))},addResizeHandlers:function(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers:function(){this._resizeObject&&this._resizeObject.onload&&(!r&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),delete this._resizeObject.onload)}},mounted:function(){var t=this;i(),this.$nextTick((function(){t._w=t.$el.offsetWidth,t._h=t.$el.offsetHeight}));var e=document.createElement("object");this._resizeObject=e,e.setAttribute("aria-hidden","true"),e.setAttribute("tabindex",-1),e.onload=this.addResizeHandlers,e.type="text/html",r&&this.$el.appendChild(e),e.data="about:blank",r||this.$el.appendChild(e)},beforeDestroy:function(){this.removeResizeHandlers()}};var o={version:"0.4.5",install:function(t){t.component("resize-observer",a),t.component("ResizeObserver",a)}},s=null;"undefined"!=typeof window?s=window.Vue:void 0!==t&&(s=t.Vue),s&&s.use(o)}).call(this,n("c8ba"))},2532:function(t,e,n){"use strict";var r=n("23e7"),i=n("5a34"),a=n("1d80");r({target:"String",proto:!0,forced:!n("ab13")("includes")},{includes:function(t){return!!~String(a(this)).indexOf(i(t),arguments.length>1?arguments[1]:void 0)}})},2554:function(t,e,n){"use strict";var r=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===i}(t)}(t)};var i="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function a(t,e){return!1!==e.clone&&e.isMergeableObject(t)?c((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function o(t,e,n){return t.concat(e).map((function(t){return a(t,n)}))}function s(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(e){return t.propertyIsEnumerable(e)})):[]}(t))}function u(t,e){try{return e in t}catch(t){return!1}}function l(t,e,n){var r={};return n.isMergeableObject(t)&&s(t).forEach((function(e){r[e]=a(t[e],n)})),s(e).forEach((function(i){(function(t,e){return u(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,i)||(u(t,i)&&n.isMergeableObject(e[i])?r[i]=function(t,e){if(!e.customMerge)return c;var n=e.customMerge(t);return"function"==typeof n?n:c}(i,n)(t[i],e[i],n):r[i]=a(e[i],n))})),r}function c(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||o,n.isMergeableObject=n.isMergeableObject||r,n.cloneUnlessOtherwiseSpecified=a;var i=Array.isArray(e);return i===Array.isArray(t)?i?n.arrayMerge(t,e,n):l(t,e,n):a(e,n)}c.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,n){return c(t,n,e)}),{})};var h=c;t.exports=h},"255f":function(t,e,n){"use strict";var r=n("290d");n.n(r).a},"25a1":function(t,e,n){"use strict";var r=n("ebb5"),i=n("d58f").right,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduceRight",(function(t){return i(a(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}))},"25eb":function(t,e,n){var r=n("23e7"),i=n("c20d");r({target:"Number",stat:!0,forced:Number.parseInt!=i},{parseInt:i})},"25f0":function(t,e,n){"use strict";var r=n("6eeb"),i=n("825a"),a=n("d039"),o=n("ad6d"),s=RegExp.prototype,u=s.toString,l=a((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),c="toString"!=u.name;(l||c)&&r(RegExp.prototype,"toString",(function(){var t=i(this),e=String(t.source),n=t.flags;return"/"+e+"/"+String(void 0===n&&t instanceof RegExp&&!("flags"in s)?o.call(t):n)}),{unsafe:!0})},2626:function(t,e,n){"use strict";var r=n("d066"),i=n("9bf2"),a=n("b622"),o=n("83ab"),s=a("species");t.exports=function(t){var e=r(t),n=i.f;o&&e&&!e[s]&&n(e,s,{configurable:!0,get:function(){return this}})}},"26dd":function(t,e,n){"use strict";var r=n("6f4f"),i=n("10db"),a=n("92f0"),o={};n("051b")(o,n("cc15")("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=r(o,{next:i(1,n)}),a(t,e+" Iterator")}},"26e9":function(t,e,n){"use strict";var r=n("23e7"),i=n("e8b5"),a=[].reverse,o=[1,2];r({target:"Array",proto:!0,forced:String(o)===String(o.reverse())},{reverse:function(){return i(this)&&(this.length=this.length),a.call(this)}})},"277d":function(t,e,n){n("23e7")({target:"Array",stat:!0},{isArray:n("e8b5")})},2877:function(t,e,n){"use strict";function r(t,e,n,r,i,a,o,s){var u,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),r&&(l.functional=!0),a&&(l._scopeId="data-v-"+a),o?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=u):i&&(u=s?function(){i.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:i),u)if(l.functional){l._injectStyles=u;var c=l.render;l.render=function(t,e){return u.call(e),c(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,u):[u]}return{exports:t,options:l}}n.d(e,"a",(function(){return r}))},2909:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("6b75");n("a4d3"),n("e01a"),n("d28b"),n("a630"),n("d3b7"),n("3ca3"),n("ddb0"),n("e260");var i=n("06c5");function a(t){return function(t){if(Array.isArray(t))return Object(r.a)(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Object(i.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},"290d":function(t,e,n){},"294a":function(t,e){e.difference=function(t,e){for(var n=[],r=0;r<t.length;r++){var i=t[r];-1==e.indexOf(i)&&n.push(i)}return n},e.flatten=function(t){return[].concat.apply([],t)},e.find=function(t,e){for(var n=null,r=0;r<t.length;r++)if(e(t[r])){n=t[r];break}return n},e.findLastIndex=function(t,e){for(var n=-1,r=t.length-1;r>=0;r--)if(e(t[r])){n=r;break}return n},e.includes=function(t,e){for(var n=!1,r=0;r<t.length;r++)if(t[r]===e){n=!0;break}return n},e.isNaN=function(t){return Number.isNaN(t)},e.keys=function(t){return Object.keys(t)},e.pullAt=function(t,e){return t.splice(e,1)},e.unique=function(t,e){return t.filter((function(e,n){return t.indexOf(e)==n}))}},2954:function(t,e,n){"use strict";var r=n("ebb5"),i=n("4840"),a=n("d039"),o=r.aTypedArray,s=r.aTypedArrayConstructor,u=r.exportTypedArrayMethod,l=[].slice;u("slice",(function(t,e){for(var n=l.call(o(this),t,e),r=i(this,this.constructor),a=0,u=n.length,c=new(s(r))(u);u>a;)c[a]=n[a++];return c}),a((function(){new Int8Array(1).slice()})))},"2a1b":function(t,e,n){n("746f")("match")},"2af1":function(t,e,n){n("23e7")({target:"Math",stat:!0},{sign:n("f748")})},"2b19":function(t,e,n){n("23e7")({target:"Object",stat:!0},{is:n("129f")})},"2b3d":function(t,e,n){"use strict";n("3ca3");var r,i=n("23e7"),a=n("83ab"),o=n("0d3b"),s=n("da84"),u=n("37e8"),l=n("6eeb"),c=n("19aa"),h=n("5135"),f=n("60da"),d=n("4df4"),p=n("6547").codeAt,m=n("5fb2"),g=n("d44e"),_=n("9861"),v=n("69f3"),y=s.URL,b=_.URLSearchParams,x=_.getState,w=v.set,T=v.getterFor("URL"),S=Math.floor,E=Math.pow,C=/[A-Za-z]/,A=/[\d+-.A-Za-z]/,M=/\d/,O=/^(0x|0X)/,D=/^[0-7]+$/,N=/^\d+$/,I=/^[\dA-Fa-f]+$/,P=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,L=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,R=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,k=/[\u0009\u000A\u000D]/g,B=function(t,e){var n,r,i;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return"Invalid host";if(!(n=z(e.slice(1,-1))))return"Invalid host";t.host=n}else if(X(t)){if(e=m(e),P.test(e))return"Invalid host";if(null===(n=F(e)))return"Invalid host";t.host=n}else{if(L.test(e))return"Invalid host";for(n="",r=d(e),i=0;i<r.length;i++)n+=W(r[i],U);t.host=n}},F=function(t){var e,n,r,i,a,o,s,u=t.split(".");if(u.length&&""==u[u.length-1]&&u.pop(),(e=u.length)>4)return t;for(n=[],r=0;r<e;r++){if(""==(i=u[r]))return t;if(a=10,i.length>1&&"0"==i.charAt(0)&&(a=O.test(i)?16:8,i=i.slice(8==a?1:2)),""===i)o=0;else{if(!(10==a?N:8==a?D:I).test(i))return t;o=parseInt(i,a)}n.push(o)}for(r=0;r<e;r++)if(o=n[r],r==e-1){if(o>=E(256,5-e))return null}else if(o>255)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*E(256,3-r);return s},z=function(t){var e,n,r,i,a,o,s,u=[0,0,0,0,0,0,0,0],l=0,c=null,h=0,f=function(){return t.charAt(h)};if(":"==f()){if(":"!=t.charAt(1))return;h+=2,c=++l}for(;f();){if(8==l)return;if(":"!=f()){for(e=n=0;n<4&&I.test(f());)e=16*e+parseInt(f(),16),h++,n++;if("."==f()){if(0==n)return;if(h-=n,l>6)return;for(r=0;f();){if(i=null,r>0){if(!("."==f()&&r<4))return;h++}if(!M.test(f()))return;for(;M.test(f());){if(a=parseInt(f(),10),null===i)i=a;else{if(0==i)return;i=10*i+a}if(i>255)return;h++}u[l]=256*u[l]+i,2!=++r&&4!=r||l++}if(4!=r)return;break}if(":"==f()){if(h++,!f())return}else if(f())return;u[l++]=e}else{if(null!==c)return;h++,c=++l}}if(null!==c)for(o=l-c,l=7;0!=l&&o>0;)s=u[l],u[l--]=u[c+o-1],u[c+--o]=s;else if(8!=l)return;return u},j=function(t){var e,n,r,i;if("number"==typeof t){for(e=[],n=0;n<4;n++)e.unshift(t%256),t=S(t/256);return e.join(".")}if("object"==typeof t){for(e="",r=function(t){for(var e=null,n=1,r=null,i=0,a=0;a<8;a++)0!==t[a]?(i>n&&(e=r,n=i),r=null,i=0):(null===r&&(r=a),++i);return i>n&&(e=r,n=i),e}(t),n=0;n<8;n++)i&&0===t[n]||(i&&(i=!1),r===n?(e+=n?":":"::",i=!0):(e+=t[n].toString(16),n<7&&(e+=":")));return"["+e+"]"}return t},U={},H=f({},U,{" ":1,'"':1,"<":1,">":1,"`":1}),V=f({},H,{"#":1,"?":1,"{":1,"}":1}),G=f({},V,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),W=function(t,e){var n=p(t,0);return n>32&&n<127&&!h(e,t)?t:encodeURIComponent(t)},$={ftp:21,file:null,http:80,https:443,ws:80,wss:443},X=function(t){return h($,t.scheme)},q=function(t){return""!=t.username||""!=t.password},Y=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},Z=function(t,e){var n;return 2==t.length&&C.test(t.charAt(0))&&(":"==(n=t.charAt(1))||!e&&"|"==n)},K=function(t){var e;return t.length>1&&Z(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)},J=function(t){var e=t.path,n=e.length;!n||"file"==t.scheme&&1==n&&Z(e[0],!0)||e.pop()},Q=function(t){return"."===t||"%2e"===t.toLowerCase()},tt={},et={},nt={},rt={},it={},at={},ot={},st={},ut={},lt={},ct={},ht={},ft={},dt={},pt={},mt={},gt={},_t={},vt={},yt={},bt={},xt=function(t,e,n,i){var a,o,s,u,l,c=n||tt,f=0,p="",m=!1,g=!1,_=!1;for(n||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(R,"")),e=e.replace(k,""),a=d(e);f<=a.length;){switch(o=a[f],c){case tt:if(!o||!C.test(o)){if(n)return"Invalid scheme";c=nt;continue}p+=o.toLowerCase(),c=et;break;case et:if(o&&(A.test(o)||"+"==o||"-"==o||"."==o))p+=o.toLowerCase();else{if(":"!=o){if(n)return"Invalid scheme";p="",c=nt,f=0;continue}if(n&&(X(t)!=h($,p)||"file"==p&&(q(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=p,n)return void(X(t)&&$[t.scheme]==t.port&&(t.port=null));p="","file"==t.scheme?c=dt:X(t)&&i&&i.scheme==t.scheme?c=rt:X(t)?c=st:"/"==a[f+1]?(c=it,f++):(t.cannotBeABaseURL=!0,t.path.push(""),c=vt)}break;case nt:if(!i||i.cannotBeABaseURL&&"#"!=o)return"Invalid scheme";if(i.cannotBeABaseURL&&"#"==o){t.scheme=i.scheme,t.path=i.path.slice(),t.query=i.query,t.fragment="",t.cannotBeABaseURL=!0,c=bt;break}c="file"==i.scheme?dt:at;continue;case rt:if("/"!=o||"/"!=a[f+1]){c=at;continue}c=ut,f++;break;case it:if("/"==o){c=lt;break}c=_t;continue;case at:if(t.scheme=i.scheme,o==r)t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.query=i.query;else if("/"==o||"\\"==o&&X(t))c=ot;else if("?"==o)t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.query="",c=yt;else{if("#"!=o){t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.path.pop(),c=_t;continue}t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.query=i.query,t.fragment="",c=bt}break;case ot:if(!X(t)||"/"!=o&&"\\"!=o){if("/"!=o){t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,c=_t;continue}c=lt}else c=ut;break;case st:if(c=ut,"/"!=o||"/"!=p.charAt(f+1))continue;f++;break;case ut:if("/"!=o&&"\\"!=o){c=lt;continue}break;case lt:if("@"==o){m&&(p="%40"+p),m=!0,s=d(p);for(var v=0;v<s.length;v++){var y=s[v];if(":"!=y||_){var b=W(y,G);_?t.password+=b:t.username+=b}else _=!0}p=""}else if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&X(t)){if(m&&""==p)return"Invalid authority";f-=d(p).length+1,p="",c=ct}else p+=o;break;case ct:case ht:if(n&&"file"==t.scheme){c=mt;continue}if(":"!=o||g){if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&X(t)){if(X(t)&&""==p)return"Invalid host";if(n&&""==p&&(q(t)||null!==t.port))return;if(u=B(t,p))return u;if(p="",c=gt,n)return;continue}"["==o?g=!0:"]"==o&&(g=!1),p+=o}else{if(""==p)return"Invalid host";if(u=B(t,p))return u;if(p="",c=ft,n==ht)return}break;case ft:if(!M.test(o)){if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&X(t)||n){if(""!=p){var x=parseInt(p,10);if(x>65535)return"Invalid port";t.port=X(t)&&x===$[t.scheme]?null:x,p=""}if(n)return;c=gt;continue}return"Invalid port"}p+=o;break;case dt:if(t.scheme="file","/"==o||"\\"==o)c=pt;else{if(!i||"file"!=i.scheme){c=_t;continue}if(o==r)t.host=i.host,t.path=i.path.slice(),t.query=i.query;else if("?"==o)t.host=i.host,t.path=i.path.slice(),t.query="",c=yt;else{if("#"!=o){K(a.slice(f).join(""))||(t.host=i.host,t.path=i.path.slice(),J(t)),c=_t;continue}t.host=i.host,t.path=i.path.slice(),t.query=i.query,t.fragment="",c=bt}}break;case pt:if("/"==o||"\\"==o){c=mt;break}i&&"file"==i.scheme&&!K(a.slice(f).join(""))&&(Z(i.path[0],!0)?t.path.push(i.path[0]):t.host=i.host),c=_t;continue;case mt:if(o==r||"/"==o||"\\"==o||"?"==o||"#"==o){if(!n&&Z(p))c=_t;else if(""==p){if(t.host="",n)return;c=gt}else{if(u=B(t,p))return u;if("localhost"==t.host&&(t.host=""),n)return;p="",c=gt}continue}p+=o;break;case gt:if(X(t)){if(c=_t,"/"!=o&&"\\"!=o)continue}else if(n||"?"!=o)if(n||"#"!=o){if(o!=r&&(c=_t,"/"!=o))continue}else t.fragment="",c=bt;else t.query="",c=yt;break;case _t:if(o==r||"/"==o||"\\"==o&&X(t)||!n&&("?"==o||"#"==o)){if(".."===(l=(l=p).toLowerCase())||"%2e."===l||".%2e"===l||"%2e%2e"===l?(J(t),"/"==o||"\\"==o&&X(t)||t.path.push("")):Q(p)?"/"==o||"\\"==o&&X(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&Z(p)&&(t.host&&(t.host=""),p=p.charAt(0)+":"),t.path.push(p)),p="","file"==t.scheme&&(o==r||"?"==o||"#"==o))for(;t.path.length>1&&""===t.path[0];)t.path.shift();"?"==o?(t.query="",c=yt):"#"==o&&(t.fragment="",c=bt)}else p+=W(o,V);break;case vt:"?"==o?(t.query="",c=yt):"#"==o?(t.fragment="",c=bt):o!=r&&(t.path[0]+=W(o,U));break;case yt:n||"#"!=o?o!=r&&("'"==o&&X(t)?t.query+="%27":t.query+="#"==o?"%23":W(o,U)):(t.fragment="",c=bt);break;case bt:o!=r&&(t.fragment+=W(o,H))}f++}},wt=function(t){var e,n,r=c(this,wt,"URL"),i=arguments.length>1?arguments[1]:void 0,o=String(t),s=w(r,{type:"URL"});if(void 0!==i)if(i instanceof wt)e=T(i);else if(n=xt(e={},String(i)))throw TypeError(n);if(n=xt(s,o,null,e))throw TypeError(n);var u=s.searchParams=new b,l=x(u);l.updateSearchParams(s.query),l.updateURL=function(){s.query=String(u)||null},a||(r.href=St.call(r),r.origin=Et.call(r),r.protocol=Ct.call(r),r.username=At.call(r),r.password=Mt.call(r),r.host=Ot.call(r),r.hostname=Dt.call(r),r.port=Nt.call(r),r.pathname=It.call(r),r.search=Pt.call(r),r.searchParams=Lt.call(r),r.hash=Rt.call(r))},Tt=wt.prototype,St=function(){var t=T(this),e=t.scheme,n=t.username,r=t.password,i=t.host,a=t.port,o=t.path,s=t.query,u=t.fragment,l=e+":";return null!==i?(l+="//",q(t)&&(l+=n+(r?":"+r:"")+"@"),l+=j(i),null!==a&&(l+=":"+a)):"file"==e&&(l+="//"),l+=t.cannotBeABaseURL?o[0]:o.length?"/"+o.join("/"):"",null!==s&&(l+="?"+s),null!==u&&(l+="#"+u),l},Et=function(){var t=T(this),e=t.scheme,n=t.port;if("blob"==e)try{return new URL(e.path[0]).origin}catch(t){return"null"}return"file"!=e&&X(t)?e+"://"+j(t.host)+(null!==n?":"+n:""):"null"},Ct=function(){return T(this).scheme+":"},At=function(){return T(this).username},Mt=function(){return T(this).password},Ot=function(){var t=T(this),e=t.host,n=t.port;return null===e?"":null===n?j(e):j(e)+":"+n},Dt=function(){var t=T(this).host;return null===t?"":j(t)},Nt=function(){var t=T(this).port;return null===t?"":String(t)},It=function(){var t=T(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},Pt=function(){var t=T(this).query;return t?"?"+t:""},Lt=function(){return T(this).searchParams},Rt=function(){var t=T(this).fragment;return t?"#"+t:""},kt=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(a&&u(Tt,{href:kt(St,(function(t){var e=T(this),n=String(t),r=xt(e,n);if(r)throw TypeError(r);x(e.searchParams).updateSearchParams(e.query)})),origin:kt(Et),protocol:kt(Ct,(function(t){var e=T(this);xt(e,String(t)+":",tt)})),username:kt(At,(function(t){var e=T(this),n=d(String(t));if(!Y(e)){e.username="";for(var r=0;r<n.length;r++)e.username+=W(n[r],G)}})),password:kt(Mt,(function(t){var e=T(this),n=d(String(t));if(!Y(e)){e.password="";for(var r=0;r<n.length;r++)e.password+=W(n[r],G)}})),host:kt(Ot,(function(t){var e=T(this);e.cannotBeABaseURL||xt(e,String(t),ct)})),hostname:kt(Dt,(function(t){var e=T(this);e.cannotBeABaseURL||xt(e,String(t),ht)})),port:kt(Nt,(function(t){var e=T(this);Y(e)||(""==(t=String(t))?e.port=null:xt(e,t,ft))})),pathname:kt(It,(function(t){var e=T(this);e.cannotBeABaseURL||(e.path=[],xt(e,t+"",gt))})),search:kt(Pt,(function(t){var e=T(this);""==(t=String(t))?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",xt(e,t,yt)),x(e.searchParams).updateSearchParams(e.query)})),searchParams:kt(Lt),hash:kt(Rt,(function(t){var e=T(this);""!=(t=String(t))?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",xt(e,t,bt)):e.fragment=null}))}),l(Tt,"toJSON",(function(){return St.call(this)}),{enumerable:!0}),l(Tt,"toString",(function(){return St.call(this)}),{enumerable:!0}),y){var Bt=y.createObjectURL,Ft=y.revokeObjectURL;Bt&&l(wt,"createObjectURL",(function(t){return Bt.apply(y,arguments)})),Ft&&l(wt,"revokeObjectURL",(function(t){return Ft.apply(y,arguments)}))}g(wt,"URL"),i({global:!0,forced:!o,sham:!a},{URL:wt})},"2c3e":function(t,e,n){var r=n("83ab"),i=n("9f7f").UNSUPPORTED_Y,a=n("9bf2").f,o=n("69f3").get,s=RegExp.prototype;r&&i&&a(RegExp.prototype,"sticky",{configurable:!0,get:function(){if(this!==s){if(this instanceof RegExp)return!!o(this).sticky;throw TypeError("Incompatible receiver, RegExp required")}}})},"2ca0":function(t,e,n){"use strict";var r,i=n("23e7"),a=n("06cf").f,o=n("50c4"),s=n("5a34"),u=n("1d80"),l=n("ab13"),c=n("c430"),h="".startsWith,f=Math.min,d=l("startsWith");i({target:"String",proto:!0,forced:!!(c||d||(r=a(String.prototype,"startsWith"),!r||r.writable))&&!d},{startsWith:function(t){var e=String(u(this));s(t);var n=o(f(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return h?h.call(e,r,n):e.slice(n,n+r.length)===r}})},"2cf49":function(t,e,n){var r,i,a,o=n("da84"),s=n("d039"),u=n("c6b6"),l=n("0366"),c=n("1be4"),h=n("cc12"),f=n("1cdc"),d=o.location,p=o.setImmediate,m=o.clearImmediate,g=o.process,_=o.MessageChannel,v=o.Dispatch,y=0,b={},x=function(t){if(b.hasOwnProperty(t)){var e=b[t];delete b[t],e()}},w=function(t){return function(){x(t)}},T=function(t){x(t.data)},S=function(t){o.postMessage(t+"",d.protocol+"//"+d.host)};p&&m||(p=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return b[++y]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},r(y),y},m=function(t){delete b[t]},"process"==u(g)?r=function(t){g.nextTick(w(t))}:v&&v.now?r=function(t){v.now(w(t))}:_&&!f?(a=(i=new _).port2,i.port1.onmessage=T,r=l(a.postMessage,a,1)):!o.addEventListener||"function"!=typeof postMessage||o.importScripts||s(S)||"file:"===d.protocol?r="onreadystatechange"in h("script")?function(t){c.appendChild(h("script")).onreadystatechange=function(){c.removeChild(this),x(t)}}:function(t){setTimeout(w(t),0)}:(r=S,o.addEventListener("message",T,!1))),t.exports={set:p,clear:m}},"2d00":function(t,e,n){var r,i,a=n("da84"),o=n("342f"),s=a.process,u=s&&s.versions,l=u&&u.v8;l?i=(r=l.split("."))[0]+r[1]:o&&(!(r=o.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/))&&(i=r[1]),t.exports=i&&+i},"2d26":function(t,e,n){n("5d91"),n("1715");var r=n("428f");t.exports=r},"2d83":function(t,e,n){"use strict";var r=n("387f");t.exports=function(t,e,n,i,a){var o=new Error(t);return r(o,e,n,i,a)}},"2e67":function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},"2f11":function(t,e,n){"use strict";var r=n("8267");n.n(r).a},"2f56":function(t,e,n){"use strict";n("b0c0");var r={name:"btn",components:{Button:n("5c96").Button},props:{icon:String,type:String,loading:Boolean},computed:{btnType:function(){return this.type||"default"}},methods:{handleClick:function(t){this.$emit("click",t)}}},i=(n("0610"),n("2877")),a=Object(i.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return e("Button",{class:"common-btn "+this.btnType,attrs:{loading:this.loading},on:{click:this.handleClick}},[this.icon&&!this.loading?e("i",{class:"common-btn-icon iconfont icon-"+this.icon}):this._e(),this._t("default")],2)}),[],!1,null,null,null).exports;a.install=function(t){t.component(a.name,a)};e.a=a},"2f62":function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return T})),n.d(e,"c",(function(){return w})),n.d(e,"d",(function(){return b}));var r=("undefined"!=typeof window?window:void 0!==t?t:{}).__VUE_DEVTOOLS_GLOBAL_HOOK__;function i(t,e){if(void 0===e&&(e=[]),null===t||"object"!=typeof t)return t;var n,r=(n=function(e){return e.original===t},e.filter(n)[0]);if(r)return r.copy;var a=Array.isArray(t)?[]:{};return e.push({original:t,copy:a}),Object.keys(t).forEach((function(n){a[n]=i(t[n],e)})),a}function a(t,e){Object.keys(t).forEach((function(n){return e(t[n],n)}))}function o(t){return null!==t&&"object"==typeof t}var s=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=("function"==typeof n?n():n)||{}},u={namespaced:{configurable:!0}};u.namespaced.get=function(){return!!this._rawModule.namespaced},s.prototype.addChild=function(t,e){this._children[t]=e},s.prototype.removeChild=function(t){delete this._children[t]},s.prototype.getChild=function(t){return this._children[t]},s.prototype.hasChild=function(t){return t in this._children},s.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},s.prototype.forEachChild=function(t){a(this._children,t)},s.prototype.forEachGetter=function(t){this._rawModule.getters&&a(this._rawModule.getters,t)},s.prototype.forEachAction=function(t){this._rawModule.actions&&a(this._rawModule.actions,t)},s.prototype.forEachMutation=function(t){this._rawModule.mutations&&a(this._rawModule.mutations,t)},Object.defineProperties(s.prototype,u);var l=function(t){this.register([],t,!1)};l.prototype.get=function(t){return t.reduce((function(t,e){return t.getChild(e)}),this.root)},l.prototype.getNamespace=function(t){var e=this.root;return t.reduce((function(t,n){return t+((e=e.getChild(n)).namespaced?n+"/":"")}),"")},l.prototype.update=function(t){!function t(e,n,r){0;if(n.update(r),r.modules)for(var i in r.modules){if(!n.getChild(i))return void 0;t(e.concat(i),n.getChild(i),r.modules[i])}}([],this.root,t)},l.prototype.register=function(t,e,n){var r=this;void 0===n&&(n=!0);var i=new s(e,n);0===t.length?this.root=i:this.get(t.slice(0,-1)).addChild(t[t.length-1],i);e.modules&&a(e.modules,(function(e,i){r.register(t.concat(i),e,n)}))},l.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1],r=e.getChild(n);r&&r.runtime&&e.removeChild(n)},l.prototype.isRegistered=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1];return e.hasChild(n)};var c;var h=function(t){var e=this;void 0===t&&(t={}),!c&&"undefined"!=typeof window&&window.Vue&&y(window.Vue);var n=t.plugins;void 0===n&&(n=[]);var i=t.strict;void 0===i&&(i=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new l(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new c,this._makeLocalGettersCache=Object.create(null);var a=this,o=this.dispatch,s=this.commit;this.dispatch=function(t,e){return o.call(a,t,e)},this.commit=function(t,e,n){return s.call(a,t,e,n)},this.strict=i;var u=this._modules.root.state;g(this,u,[],this._modules.root),m(this,u),n.forEach((function(t){return t(e)})),(void 0!==t.devtools?t.devtools:c.config.devtools)&&function(t){r&&(t._devtoolHook=r,r.emit("vuex:init",t),r.on("vuex:travel-to-state",(function(e){t.replaceState(e)})),t.subscribe((function(t,e){r.emit("vuex:mutation",t,e)}),{prepend:!0}),t.subscribeAction((function(t,e){r.emit("vuex:action",t,e)}),{prepend:!0}))}(this)},f={state:{configurable:!0}};function d(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function p(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;g(t,n,[],t._modules.root,!0),m(t,n,e)}function m(t,e,n){var r=t._vm;t.getters={},t._makeLocalGettersCache=Object.create(null);var i=t._wrappedGetters,o={};a(i,(function(e,n){o[n]=function(t,e){return function(){return t(e)}}(e,t),Object.defineProperty(t.getters,n,{get:function(){return t._vm[n]},enumerable:!0})}));var s=c.config.silent;c.config.silent=!0,t._vm=new c({data:{$$state:e},computed:o}),c.config.silent=s,t.strict&&function(t){t._vm.$watch((function(){return this._data.$$state}),(function(){0}),{deep:!0,sync:!0})}(t),r&&(n&&t._withCommit((function(){r._data.$$state=null})),c.nextTick((function(){return r.$destroy()})))}function g(t,e,n,r,i){var a=!n.length,o=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[o],t._modulesNamespaceMap[o]=r),!a&&!i){var s=_(e,n.slice(0,-1)),u=n[n.length-1];t._withCommit((function(){c.set(s,u,r.state)}))}var l=r.context=function(t,e,n){var r=""===e,i={dispatch:r?t.dispatch:function(n,r,i){var a=v(n,r,i),o=a.payload,s=a.options,u=a.type;return s&&s.root||(u=e+u),t.dispatch(u,o)},commit:r?t.commit:function(n,r,i){var a=v(n,r,i),o=a.payload,s=a.options,u=a.type;s&&s.root||(u=e+u),t.commit(u,o,s)}};return Object.defineProperties(i,{getters:{get:r?function(){return t.getters}:function(){return function(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach((function(i){if(i.slice(0,r)===e){var a=i.slice(r);Object.defineProperty(n,a,{get:function(){return t.getters[i]},enumerable:!0})}})),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}(t,e)}},state:{get:function(){return _(t.state,n)}}}),i}(t,o,n);r.forEachMutation((function(e,n){!function(t,e,n,r){(t._mutations[e]||(t._mutations[e]=[])).push((function(e){n.call(t,r.state,e)}))}(t,o+n,e,l)})),r.forEachAction((function(e,n){var r=e.root?n:o+n,i=e.handler||e;!function(t,e,n,r){(t._actions[e]||(t._actions[e]=[])).push((function(e){var i,a=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},e);return(i=a)&&"function"==typeof i.then||(a=Promise.resolve(a)),t._devtoolHook?a.catch((function(e){throw t._devtoolHook.emit("vuex:error",e),e})):a}))}(t,r,i,l)})),r.forEachGetter((function(e,n){!function(t,e,n,r){if(t._wrappedGetters[e])return void 0;t._wrappedGetters[e]=function(t){return n(r.state,r.getters,t.state,t.getters)}}(t,o+n,e,l)})),r.forEachChild((function(r,a){g(t,e,n.concat(a),r,i)}))}function _(t,e){return e.reduce((function(t,e){return t[e]}),t)}function v(t,e,n){return o(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}function y(t){c&&t===c||
/*!
 * vuex v3.5.1
 * (c) 2020 Evan You
 * @license MIT
 */
function(t){if(Number(t.version.split(".")[0])>=2)t.mixin({beforeCreate:n});else{var e=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[n].concat(t.init):n,e.call(this,t)}}function n(){var t=this.$options;t.store?this.$store="function"==typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}}(c=t)}f.state.get=function(){return this._vm._data.$$state},f.state.set=function(t){0},h.prototype.commit=function(t,e,n){var r=this,i=v(t,e,n),a=i.type,o=i.payload,s=(i.options,{type:a,payload:o}),u=this._mutations[a];u&&(this._withCommit((function(){u.forEach((function(t){t(o)}))})),this._subscribers.slice().forEach((function(t){return t(s,r.state)})))},h.prototype.dispatch=function(t,e){var n=this,r=v(t,e),i=r.type,a=r.payload,o={type:i,payload:a},s=this._actions[i];if(s){try{this._actionSubscribers.slice().filter((function(t){return t.before})).forEach((function(t){return t.before(o,n.state)}))}catch(t){0}var u=s.length>1?Promise.all(s.map((function(t){return t(a)}))):s[0](a);return new Promise((function(t,e){u.then((function(e){try{n._actionSubscribers.filter((function(t){return t.after})).forEach((function(t){return t.after(o,n.state)}))}catch(t){0}t(e)}),(function(t){try{n._actionSubscribers.filter((function(t){return t.error})).forEach((function(e){return e.error(o,n.state,t)}))}catch(t){0}e(t)}))}))}},h.prototype.subscribe=function(t,e){return d(t,this._subscribers,e)},h.prototype.subscribeAction=function(t,e){return d("function"==typeof t?{before:t}:t,this._actionSubscribers,e)},h.prototype.watch=function(t,e,n){var r=this;return this._watcherVM.$watch((function(){return t(r.state,r.getters)}),e,n)},h.prototype.replaceState=function(t){var e=this;this._withCommit((function(){e._vm._data.$$state=t}))},h.prototype.registerModule=function(t,e,n){void 0===n&&(n={}),"string"==typeof t&&(t=[t]),this._modules.register(t,e),g(this,this.state,t,this._modules.get(t),n.preserveState),m(this,this.state)},h.prototype.unregisterModule=function(t){var e=this;"string"==typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit((function(){var n=_(e.state,t.slice(0,-1));c.delete(n,t[t.length-1])})),p(this)},h.prototype.hasModule=function(t){return"string"==typeof t&&(t=[t]),this._modules.isRegistered(t)},h.prototype.hotUpdate=function(t){this._modules.update(t),p(this,!0)},h.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(h.prototype,f);var b=E((function(t,e){var n={};return S(e).forEach((function(e){var r=e.key,i=e.val;n[r]=function(){var e=this.$store.state,n=this.$store.getters;if(t){var r=C(this.$store,"mapState",t);if(!r)return;e=r.context.state,n=r.context.getters}return"function"==typeof i?i.call(this,e,n):e[i]},n[r].vuex=!0})),n})),x=E((function(t,e){var n={};return S(e).forEach((function(e){var r=e.key,i=e.val;n[r]=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var r=this.$store.commit;if(t){var a=C(this.$store,"mapMutations",t);if(!a)return;r=a.context.commit}return"function"==typeof i?i.apply(this,[r].concat(e)):r.apply(this.$store,[i].concat(e))}})),n})),w=E((function(t,e){var n={};return S(e).forEach((function(e){var r=e.key,i=e.val;i=t+i,n[r]=function(){if(!t||C(this.$store,"mapGetters",t))return this.$store.getters[i]},n[r].vuex=!0})),n})),T=E((function(t,e){var n={};return S(e).forEach((function(e){var r=e.key,i=e.val;n[r]=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var r=this.$store.dispatch;if(t){var a=C(this.$store,"mapActions",t);if(!a)return;r=a.context.dispatch}return"function"==typeof i?i.apply(this,[r].concat(e)):r.apply(this.$store,[i].concat(e))}})),n}));function S(t){return function(t){return Array.isArray(t)||o(t)}(t)?Array.isArray(t)?t.map((function(t){return{key:t,val:t}})):Object.keys(t).map((function(e){return{key:e,val:t[e]}})):[]}function E(t){return function(e,n){return"string"!=typeof e?(n=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,n)}}function C(t,e,n){return t._modulesNamespaceMap[n]}function A(t,e,n){var r=n?t.groupCollapsed:t.group;try{r.call(t,e)}catch(n){t.log(e)}}function M(t){try{t.groupEnd()}catch(e){t.log("—— log end ——")}}function O(){var t=new Date;return" @ "+D(t.getHours(),2)+":"+D(t.getMinutes(),2)+":"+D(t.getSeconds(),2)+"."+D(t.getMilliseconds(),3)}function D(t,e){return n="0",r=e-t.toString().length,new Array(r+1).join(n)+t;var n,r}var N={Store:h,install:y,version:"3.5.1",mapState:b,mapMutations:x,mapGetters:w,mapActions:T,createNamespacedHelpers:function(t){return{mapState:b.bind(null,t),mapGetters:w.bind(null,t),mapMutations:x.bind(null,t),mapActions:T.bind(null,t)}},createLogger:function(t){void 0===t&&(t={});var e=t.collapsed;void 0===e&&(e=!0);var n=t.filter;void 0===n&&(n=function(t,e,n){return!0});var r=t.transformer;void 0===r&&(r=function(t){return t});var a=t.mutationTransformer;void 0===a&&(a=function(t){return t});var o=t.actionFilter;void 0===o&&(o=function(t,e){return!0});var s=t.actionTransformer;void 0===s&&(s=function(t){return t});var u=t.logMutations;void 0===u&&(u=!0);var l=t.logActions;void 0===l&&(l=!0);var c=t.logger;return void 0===c&&(c=console),function(t){var h=i(t.state);void 0!==c&&(u&&t.subscribe((function(t,o){var s=i(o);if(n(t,h,s)){var u=O(),l=a(t),f="mutation "+t.type+u;A(c,f,e),c.log("%c prev state","color: #9E9E9E; font-weight: bold",r(h)),c.log("%c mutation","color: #03A9F4; font-weight: bold",l),c.log("%c next state","color: #4CAF50; font-weight: bold",r(s)),M(c)}h=s})),l&&t.subscribeAction((function(t,n){if(o(t,n)){var r=O(),i=s(t),a="action "+t.type+r;A(c,a,e),c.log("%c action","color: #03A9F4; font-weight: bold",i),M(c)}})))}}};e.a=N}).call(this,n("c8ba"))},"2f9a":function(t,e){t.exports=function(){}},"301c":function(t,e,n){n("e198")("asyncIterator")},"30b5":function(t,e,n){"use strict";var r=n("c532");function i(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var a;if(n)a=n(e);else if(r.isURLSearchParams(e))a=e.toString();else{var o=[];r.forEach(e,(function(t,e){null!=t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,(function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),o.push(i(e)+"="+i(t))})))})),a=o.join("&")}if(a){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+a}return t}},3110:function(t,e,n){},"31ce":function(t,e,n){"use strict";n("a15b"),n("d81d"),n("b64b"),n("ac1f"),n("1276");var r=n("ade3"),i=n("5530"),a={components:{Box:n("c3b4").a},props:{color:{type:String,default:""}},data:function(){return{prefix:this.prefix}},inject:["prefix"],methods:{inputHex:function(t,e){var n={R:this.r,G:this.g,B:this.b,A:this.a},a=Object(i.a)(Object(i.a)({},n),Object(r.a)({},e,t)),o=Object.keys(a).map((function(t){return a[t]})).join(",");this.$emit("inputColor",o)}},computed:{r:function(){return this.color.split(",")[0]},g:function(){return this.color.split(",")[1]},b:function(){return this.color.split(",")[2]},a:function(){return this.color.split(",")[3]}}},o=(n("43b1"),n("2877")),s=Object(o.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.prefix+"-rgba-box"},[n("Box",{attrs:{name:"R",color:t.r,maxLimit:255,type:"limit"},on:{inputColor:t.inputHex}}),n("Box",{attrs:{name:"G",color:t.g,maxLimit:255,type:"limit"},on:{inputColor:t.inputHex}}),n("Box",{attrs:{name:"B",color:t.b,maxLimit:255,type:"limit"},on:{inputColor:t.inputHex}}),n("Box",{attrs:{name:"A",color:t.a,maxLimit:100,type:"limit",times:100},on:{inputColor:t.inputHex}})],1)}),[],!1,null,"3bea7277",null);e.a=s.exports},3280:function(t,e,n){"use strict";var r=n("ebb5"),i=n("e58c"),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("lastIndexOf",(function(t){return i.apply(a(this),arguments)}))},3397:function(t,e,n){var r=n("7a41");t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},3408:function(t,e,n){t.exports=n.p+"img/folder.363bd51b.png"},3410:function(t,e,n){var r=n("23e7"),i=n("d039"),a=n("7b0b"),o=n("e163"),s=n("e177");r({target:"Object",stat:!0,forced:i((function(){o(1)})),sham:!s},{getPrototypeOf:function(t){return o(a(t))}})},"342f":function(t,e,n){var r=n("d066");t.exports=r("navigator","userAgent")||""},"35a1":function(t,e,n){var r=n("f5df"),i=n("3f8c"),a=n("b622")("iterator");t.exports=function(t){if(null!=t)return t[a]||t["@@iterator"]||i[r(t)]}},"35b3":function(t,e,n){n("23e7")({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},"36da":function(t,e,n){},"37e8":function(t,e,n){var r=n("83ab"),i=n("9bf2"),a=n("825a"),o=n("df75");t.exports=r?Object.defineProperties:function(t,e){a(t);for(var n,r=o(e),s=r.length,u=0;s>u;)i.f(t,n=r[u++],e[n]);return t}},3835:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n("a4d3"),n("e01a"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0"),n("e260");var r=n("06c5");function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){i=!0,a=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}(t,e)||Object(r.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},"387f":function(t,e,n){"use strict";t.exports=function(t,e,n,r,i){return t.config=e,n&&(t.code=n),t.request=r,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},"38cf":function(t,e,n){n("23e7")({target:"String",proto:!0},{repeat:n("1148")})},3934:function(t,e,n){"use strict";var r=n("c532");t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=i(window.location.href),function(e){var n=r.isString(e)?i(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},"393a":function(t,e,n){"use strict";var r=n("e444"),i=n("512c"),a=n("ba01"),o=n("051b"),s=n("8a0d"),u=n("26dd"),l=n("92f0"),c=n("ce7a"),h=n("cc15")("iterator"),f=!([].keys&&"next"in[].keys()),d=function(){return this};t.exports=function(t,e,n,p,m,g,_){u(n,e,p);var v,y,b,x=function(t){if(!f&&t in E)return E[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},w=e+" Iterator",T="values"==m,S=!1,E=t.prototype,C=E[h]||E["@@iterator"]||m&&E[m],A=C||x(m),M=m?T?x("entries"):A:void 0,O="Array"==e&&E.entries||C;if(O&&(b=c(O.call(new t)))!==Object.prototype&&b.next&&(l(b,w,!0),r||"function"==typeof b[h]||o(b,h,d)),T&&C&&"values"!==C.name&&(S=!0,A=function(){return C.call(this)}),r&&!_||!f&&!S&&E[h]||o(E,h,A),s[e]=A,s[w]=d,m)if(v={values:T?A:x("values"),keys:g?A:x("keys"),entries:M},_)for(y in v)y in E||a(E,y,v[y]);else i(i.P+i.F*(f||S),e,v);return v}},"39ad":function(t,e,n){var r=n("6ca1"),i=n("d16a"),a=n("9d11");t.exports=function(t){return function(e,n,o){var s,u=r(e),l=i(u.length),c=a(o,l);if(t&&n!=n){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((t||c in u)&&u[c]===n)return t||c||0;return!t&&-1}}},"3a7b":function(t,e,n){"use strict";var r=n("ebb5"),i=n("b727").findIndex,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("findIndex",(function(t){return i(a(this),t,arguments.length>1?arguments[1]:void 0)}))},"3b4e":function(t,e,n){"use strict";(function(t){var r=n("5530");n("e4bd"),n("b8b7");e.a={name:"nanoscrollerComponent",data:function(){return{widgetWrapper:null}},props:{properties:{type:Object,default:function(){return{height:"auto",width:"auto",style:{},axis:"y",isDisplay:!1,isRefresh:!1,isKeyboard:!0}}}},updated:function(){("y"!==this.properties.axis||this.properties.isRefresh)&&this.widgetWrapper.mCustomScrollbar("update")},mounted:function(){var e=this;e.widgetWrapper=t(this.$el),e.widgetWrapper.mCustomScrollbar({theme:"minimal-dark",axis:this.properties.axis,keyboard:{enable:this.properties.isKeyboard},advanced:{autoExpandHorizontalScroll:!0,updateOnSelectorChange:"ul li div table",updateOnContentResize:!0,updateOnImageLoad:!0},scrollInertia:0,callbacks:{onScrollStart:function(){e.$emit("onScrollStart")},onScroll:function(){e.$emit("onScroll",this)},whileScrolling:function(){e.$emit("whileScrolling",this)},onInit:function(){e.properties.isDisplay&&e.widgetWrapper.children().children().css("display","inline-block")}}})},computed:{getStyle:function(){var t=Object(r.a)({height:this.properties.height,width:this.properties.width},this.properties.style);return this.properties.maxHeight&&(t["max-height"]=this.properties.maxHeight),t}}}}).call(this,n("1157"))},"3bbe":function(t,e,n){var r=n("861d");t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},"3c35":function(t,e){(function(e){t.exports=e}).call(this,{})},"3c4e":function(t,e,n){"use strict";var r=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===i}(t)}(t)};var i="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function a(t,e){var n;return e&&!0===e.clone&&r(t)?s((n=t,Array.isArray(n)?[]:{}),t,e):t}function o(t,e,n){var i=t.slice();return e.forEach((function(e,o){void 0===i[o]?i[o]=a(e,n):r(e)?i[o]=s(t[o],e,n):-1===t.indexOf(e)&&i.push(a(e,n))})),i}function s(t,e,n){var i=Array.isArray(e);return i===Array.isArray(t)?i?((n||{arrayMerge:o}).arrayMerge||o)(t,e,n):function(t,e,n){var i={};return r(t)&&Object.keys(t).forEach((function(e){i[e]=a(t[e],n)})),Object.keys(e).forEach((function(o){r(e[o])&&t[o]?i[o]=s(t[o],e[o],n):i[o]=a(e[o],n)})),i}(t,e,n):a(e,n)}s.all=function(t,e){if(!Array.isArray(t)||t.length<2)throw new Error("first argument should be an array with at least two elements");return t.reduce((function(t,n){return s(t,n,e)}))};var u=s;t.exports=u},"3c5d":function(t,e,n){"use strict";var r=n("ebb5"),i=n("50c4"),a=n("182d"),o=n("7b0b"),s=n("d039"),u=r.aTypedArray;(0,r.exportTypedArrayMethod)("set",(function(t){u(this);var e=a(arguments.length>1?arguments[1]:void 0,1),n=this.length,r=o(t),s=i(r.length),l=0;if(s+e>n)throw RangeError("Wrong length");for(;l<s;)this[e+l]=r[l++]}),s((function(){new Int8Array(1).set({})})))},"3ca3":function(t,e,n){"use strict";var r=n("6547").charAt,i=n("69f3"),a=n("7dd0"),o=i.set,s=i.getterFor("String Iterator");a(String,"String",(function(t){o(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=s(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=r(n,i),e.index+=t.length,{value:t,done:!1})}))},"3db9":function(t,e,n){"use strict";e.a={get:function(t){var e=new XMLHttpRequest;e.open("get",t.url),e.responseType=t.responseType||"text",t.onprogress&&(e.onprogress=function(e){if(e.lengthComputable){var n=e.loaded/e.total;t.onprogress(n,e.loaded,e.total)}else t.onprogress(null)}),e.onload=function(n){e.status>=400?t.onerror&&t.onerror():t.onload&&t.onload(e.response)},t.onerror&&(e.onerror=t.onerror),e.send(null)}}},"3ea3":function(t,e,n){var r=n("23e7"),i=n("f748"),a=Math.abs,o=Math.pow;r({target:"Math",stat:!0},{cbrt:function(t){return i(t=+t)*o(a(t),1/3)}})},"3f3a":function(t,e,n){var r=n("23e7"),i=n("83ab"),a=n("825a"),o=n("c04e"),s=n("9bf2");r({target:"Reflect",stat:!0,forced:n("d039")((function(){Reflect.defineProperty(s.f({},1,{value:1}),1,{value:2})})),sham:!i},{defineProperty:function(t,e,n){a(t);var r=o(e,!0);a(n);try{return s.f(t,r,n),!0}catch(t){return!1}}})},"3f6b":function(t,e,n){t.exports={default:n("b9c7"),__esModule:!0}},"3f8c":function(t,e){t.exports={}},"3fcc":function(t,e,n){"use strict";var r=n("ebb5"),i=n("b727").map,a=n("4840"),o=r.aTypedArray,s=r.aTypedArrayConstructor;(0,r.exportTypedArrayMethod)("map",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0,(function(t,e){return new(s(a(t,t.constructor)))(e)}))}))},4057:function(t,e,n){var r=n("23e7"),i=Math.hypot,a=Math.abs,o=Math.sqrt;r({target:"Math",stat:!0,forced:!!i&&i(1/0,NaN)!==1/0},{hypot:function(t,e){for(var n,r,i=0,s=0,u=arguments.length,l=0;s<u;)l<(n=a(arguments[s++]))?(i=i*(r=l/n)*r+1,l=n):i+=n>0?(r=n/l)*r:n;return l===1/0?1/0:l*o(i)}})},4069:function(t,e,n){n("44d2")("flat")},4075:function(t,e,n){"use strict";(function(t){n("7db0"),n("498a"),n("cca6");var r=n("be44");e.a={name:"modal",mixins:[r.b],props:{properties:{type:Object},loadingSetting:{type:Object,default:function(){return{}}}},data:function(){return{defaultSetting:{alert:{head:this.t("tips"),content:this.t("popupWindowAlertContent"),confirm:this.t("yes"),cancel:this.t("no"),showFoot:!0,showClose:!1,showConfirm:!0,showCancel:!1},confirm:{head:this.t("confirm"),content:this.t("popupWindowConfirmContent"),confirm:this.t("yes"),cancel:this.t("no"),showFoot:!0,showClose:!1,showConfirm:!0,showCancel:!0},prompt:{head:this.t("tips"),content:this.t("popupWindowPromptContent"),confirm:this.t("yes"),cancel:this.t("no"),inputError:!1,value:"",showFoot:!0,showClose:!1,showConfirm:!0,showCancel:!0},custom:{head:this.t("custom"),content:this.t("popupWindowCustomContent"),confirm:this.t("yes"),cancel:this.t("no"),showFoot:!0,showClose:!0,showConfirm:!0,showCancel:!0}},position:{},inputValue:""}},watch:{properties:{handler:function(){this.properties.show?(this.position={},this.$nextTick((function(){this.setPosition()}))):this.inputValue=""},deep:!0}},computed:{options:function(){var t={};switch(this.properties.type){case"alert":t=Object.assign(t,this.defaultSetting.alert,this.properties);break;case"confirm":t=Object.assign(t,this.defaultSetting.confirm,this.properties);break;case"prompt":t=Object.assign(t,this.defaultSetting.prompt,this.properties);break;case"custom":t=Object.assign(t,this.defaultSetting.custom,this.properties);break;case"autoDisapper":t=Object.assign(t,this.defaultSetting.autoDisapper,this.properties);break;default:t=Object.assign(t,this.defaultSetting.alert,this.properties,{type:"alert"})}return t},loadingOptions:function(){return t.extend(!0,{},{show:!1},this.loadingSetting)}},methods:{setPosition:function(){var e=t(this.$el).find(".modal-window").outerWidth(!0),n=t(this.$el).find(".modal-window").outerHeight(!0);this.position={"margin-top":-n/2+"px","margin-left":-e/2+"px"}},afterClickButton:function(e){"prompt"===this.options.type&&(this.inputValue=t(this.$el).find("#promptValue").val().trim()),this.$emit("afterClickButton",{type:e,data:this.inputValue})}},mounted:function(){this.properties.show&&(this.position={},this.$nextTick((function(){this.setPosition()})))}}}).call(this,n("1157"))},"408a":function(t,e,n){var r=n("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=r(t))throw TypeError("Incorrect invocation");return+t}},"40d9":function(t,e,n){var r=n("23e7"),i=Math.floor,a=Math.log,o=Math.LOG2E;r({target:"Math",stat:!0},{clz32:function(t){return(t>>>=0)?31-i(a(t+.5)*o):32}})},4127:function(t,e,n){"use strict";var r=n("d233"),i=n("b313"),a=Object.prototype.hasOwnProperty,o={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},s=Array.isArray,u=Array.prototype.push,l=function(t,e){u.apply(t,s(e)?e:[e])},c=Date.prototype.toISOString,h={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:r.encode,encodeValuesOnly:!1,formatter:i.formatters[i.default],indices:!1,serializeDate:function(t){return c.call(t)},skipNulls:!1,strictNullHandling:!1},f=function t(e,n,i,a,o,u,c,f,d,p,m,g,_){var v=e;if("function"==typeof c?v=c(n,v):v instanceof Date?v=p(v):"comma"===i&&s(v)&&(v=v.join(",")),null===v){if(a)return u&&!g?u(n,h.encoder,_):n;v=""}if("string"==typeof v||"number"==typeof v||"boolean"==typeof v||r.isBuffer(v))return u?[m(g?n:u(n,h.encoder,_))+"="+m(u(v,h.encoder,_))]:[m(n)+"="+m(String(v))];var y,b=[];if(void 0===v)return b;if(s(c))y=c;else{var x=Object.keys(v);y=f?x.sort(f):x}for(var w=0;w<y.length;++w){var T=y[w];o&&null===v[T]||(s(v)?l(b,t(v[T],"function"==typeof i?i(n,T):n,i,a,o,u,c,f,d,p,m,g,_)):l(b,t(v[T],n+(d?"."+T:"["+T+"]"),i,a,o,u,c,f,d,p,m,g,_)))}return b};t.exports=function(t,e){var n,r=t,u=function(t){if(!t)return h;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||h.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=i.default;if(void 0!==t.format){if(!a.call(i.formatters,t.format))throw new TypeError("Unknown format option provided.");n=t.format}var r=i.formatters[n],o=h.filter;return("function"==typeof t.filter||s(t.filter))&&(o=t.filter),{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:h.addQueryPrefix,allowDots:void 0===t.allowDots?h.allowDots:!!t.allowDots,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:h.charsetSentinel,delimiter:void 0===t.delimiter?h.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:h.encode,encoder:"function"==typeof t.encoder?t.encoder:h.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:h.encodeValuesOnly,filter:o,formatter:r,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:h.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:h.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:h.strictNullHandling}}(e);"function"==typeof u.filter?r=(0,u.filter)("",r):s(u.filter)&&(n=u.filter);var c,d=[];if("object"!=typeof r||null===r)return"";c=e&&e.arrayFormat in o?e.arrayFormat:e&&"indices"in e?e.indices?"indices":"repeat":"indices";var p=o[c];n||(n=Object.keys(r)),u.sort&&n.sort(u.sort);for(var m=0;m<n.length;++m){var g=n[m];u.skipNulls&&null===r[g]||l(d,f(r[g],g,p,u.strictNullHandling,u.skipNulls,u.encode?u.encoder:null,u.filter,u.sort,u.allowDots,u.serializeDate,u.formatter,u.encodeValuesOnly,u.charset))}var _=d.join(u.delimiter),v=!0===u.addQueryPrefix?"?":"";return u.charsetSentinel&&("iso-8859-1"===u.charset?v+="utf8=%26%2310003%3B&":v+="utf8=%E2%9C%93&"),_.length>0?v+_:""}},4160:function(t,e,n){"use strict";var r=n("23e7"),i=n("17c2");r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},4185:function(t,e,n){},"41b2":function(t,e,n){"use strict";e.__esModule=!0;var r,i=n("3f6b"),a=(r=i)&&r.__esModule?r:{default:r};e.default=a.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},"41b9":function(t,e,n){"use strict";n("4160"),n("b0c0"),n("159b"),n("55fd"),n("baeb"),n("a623"),n("4de4"),n("d81d");var r={name:"tabs",props:{forceRender:Boolean,defaultActive:String},data:function(){return{panes:[],activeKey:void 0}},mounted:function(){this.getTabpaneList()},methods:{changeTab:function(t){this.activeKey=t},getTabpaneList:function(t){var e=this,n=this.$slots,r=[];n.default&&(r=n.default.filter((function(t){return t.tag&&t.componentOptions&&"tabpane"===t.componentOptions.Ctor.options.name}))),!(r.length&&r.every((function(t,n){return t===e.panes[n]})))&&(this.panes=r),t||(void 0!==this.defaultActive?this.activeKey=this.defaultActive:this.panes.length?this.activeKey=this.panes[0].data.attrs.name||0:this.activeKey=0)}},created:function(){this.$on("tab-nav-update",this.getTabpaneList.bind(null,!0))},updated:function(){this.getTabpaneList(!0)},render:function(){var t=this,e=arguments[0];return e("div",{class:"tabs"},[e("div",{class:"tabs-nav"},[e("ul",[this.panes.map((function(n,r){return e("li",{key:n.data.attrs.name||r,on:{click:function(){return t.changeTab(n.data.attrs.name||r)}},class:"tabs-nav-item ".concat(t.activeKey===n.data.attrs.name||t.activeKey===r?"tabs-nav-item-active":"")},[n.data.attrs.label])}))])]),e("div",{class:"tabs-content"},[this.panes])])}},i=(n("a24a"),n("2877")),a=Object(i.a)(r,void 0,void 0,!1,null,null,null).exports;a.install=function(t){t.component(a.name,a)};var o=a,s={name:"tabpane",componentName:"tabpane",props:{title:String,name:String},computed:{index:function(){var t=this,e=-1;return this.$parent.panes.forEach((function(n,r){n.componentInstance===t&&(e=r)})),e},active:function(){return this.$parent.activeKey===(this.$attrs.name||this.index)}},updated:function(){this.$parent.$emit("tab-nav-update")}},u=(n("bfbc"),Object(i.a)(s,(function(){var t=this.$createElement,e=this._self._c||t;return!this.$parent.forceRender||this.active?e("div",{directives:[{name:"show",rawName:"v-show",value:this.active,expression:"active"}],staticClass:"tabs-tabpane"},[this._t("default")],2):this._e()}),[],!1,null,null,null).exports);u.install=function(t){t.component(u.name,u)};var l=u,c=n("2f56"),h=(n("caad"),n("b64b"),n("96cf"),n("1da1")),f=n("be44"),d=n("db9f"),p={name:"drawer",mixins:[f.b],components:{btn:c.a},props:{hideHeader:Boolean,width:String,height:String,visible:Boolean,placement:String,title:String,footerBtns:Array,maskCloseable:{type:Boolean,default:!0},onOk:Function},data:function(){return{footerButtons:[{type:"ok",text:this.t("confirm"),click:this.doOk,loading:this.okBtnLoading},{type:"cancel",text:this.t("no"),click:this.onClose}],okBtnLoading:!1}},mounted:function(){document.body.appendChild(this.$el)},methods:{onClose:function(){this.$emit("close")},doOk:function(){var t=this;return Object(h.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.okBtnLoading=!0,e.prev=1,!t.onOk){e.next=9;break}return e.next=5,t.onOk();case 5:!1!==e.sent&&t.onClose(),e.next=10;break;case 9:t.onClose();case 10:return e.prev=10,t.okBtnLoading=!1,e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[1,,10,13]])})))()},stopPop:function(t){Object(d.b)(t)},maskClicked:function(){!1!==this.maskCloseable&&this.onClose()}},computed:{footer:function(){return this.footerBtns instanceof Array?this.footerBtns:this.footerButtons},place:function(){return this.placement||"right"},drawerStyle:function(){var t={};return["left","right"].includes(this.place)&&(t.width=this.width||"412px",t.height="100vh",t.top=0),["top","bottom"].includes(this.place)&&(t.height=this.height||"410px",t.width="100vw",t.left=0),"left"===this.place&&(t.left=0),"right"===this.place&&(t.right=0),"top"===this.place&&(t.top=0),"bottom"===this.place&&(t.bottom=0),t}},render:function(){var t=this,e=arguments[0];return this.visible?e("div",{class:"drawer-mask",on:{click:this.maskClicked}},[e("div",{class:"drawer ".concat(this.place),style:this.drawerStyle,on:{click:function(e){return t.stopPop(e)}}},[this.hideHeader?null:e("header",{class:"drawer-header"},[e("div",{class:"drawer-title"},[this.title]),this.$slots.titleRight?this.$slots.titleRight:null,e("i",{class:"icon-close iconfont",on:{click:function(){return t.onClose()}}})]),e("content",{class:"drawer-body"},[Object.keys(this.$slots).map((function(e){return t.$slots[e]}))]),this.footer.length?e("footer",{class:"drawer-footer"},[this.footer.map((function(t){return e(c.a,{class:"drawer-footer-btn",attrs:{type:t.type,icon:t.icon,loading:t.loading},on:{click:function(e){return t.click&&t.click(e)}}},[t.text])}))]):null])]):null}},m=(n("f1f3"),Object(i.a)(p,void 0,void 0,!1,null,null,null).exports);m.install=function(t){t.component(m.name,m)};var g=m,_=(n("a630"),n("3ca3"),n("5c96")),v={name:"ipt",components:{Input:_.Input},props:{placeholder:String,mode:{type:String,default:"default"},readonly:{type:Boolean,default:!1},value:String},watch:{nativeInputValue:function(t){var e=this.getInput();e&&e.value!==t&&(e.value=t)}},computed:{nativeInputValue:function(){return null===this.value||void 0===this.value?"":String(this.value)},suffix:function(){return"search"===this.mode?"iconfont icon-search":"dropdown"===this.mode?"iconfont icon-showdrop":void 0}},methods:{handleInput:function(t){this.$emit("input",t)},handleChange:function(t){this.$emit("change",t)},handleFocus:function(t){this.$emit("focus",t)},handleBlur:function(t){this.$emit("blur",t)},getInput:function(){var t,e=this.$el;return Array.from(e.children).forEach((function(e){["el-input__inner","el-textarea__inner"].includes(e.getAttribute("class"))&&(t=e)})),t}}},y=(n("00d4"),Object(i.a)(v,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("Input",t._b({class:"ipt "+t.mode,attrs:{"suffix-icon":t.suffix},on:{input:t.handleInput,change:t.handleChange,focus:t.handleFocus,blur:t.handleBlur}},"Input",t._props,!1))}),[],!1,null,null,null).exports);y.install=function(t){t.component(y.name,y)};var b=y,x=n("df29").a,w=(n("a02f"),Object(i.a)(x,(function(){var t,e,n=this,r=n.$createElement,i=n._self._c||r;return i("div",{class:n.prefix+"-color-picker-box",on:{contextmenu:function(t){t.preventDefault()},selectstart:function(t){t.preventDefault()}}},[i("transition",{on:{"after-enter":n.afterAni,"after-leave":n.afterAni}},[i("div",{directives:[{name:"show",rawName:"v-show",value:n.colorPicker.flat,expression:"colorPicker.flat"}],class:(t={},t[n.prefix+"-color-picker-inner-box"]=!0,t[n.prefix+"-enter"]=n.enterAni,t[n.prefix+"-leave"]=n.leaveAni,t),on:{click:function(t){return n.stopPop(t)}}},[i("div",{class:n.prefix+"-color-picker",style:{width:n.width+"px"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!n.colorsSelfShow,expression:"!colorsSelfShow"}],class:n.prefix+"-color-picker-innder-box"},[i("div",{class:n.prefix+"-color-box"},[i("HexBox",{attrs:{name:"#",color:n.modelHex},on:{inputColor:n.inputHex}}),i("Preview",{attrs:{color:n.rgbaString},on:{setSelfColor:n.setSelfColor}})],1),i("div",{attrs:{id:n.prefix+"-colors-default-box"}},[i("Colors",{attrs:{"colors-default":n.colorsDefault,"colors-history-key":n.colorsHistoryKey,"colors-default-show":!0,"colors-history":n.colorsHistory},on:{selectColor:n.selectColor}})],1),i("div",{class:n.prefix+"-color-alpha-box"},[i("div",{class:n.prefix+"-color-alpha-text"},[n._v(n._s(n.t("transparency")))]),i("Alpha",{ref:"alpha",attrs:{color:n.rgbString,rgba:n.rgba,width:n.hueWidth,height:n.hueHeight},on:{selectAlpha:n.selectAlpha}})],1),i("Colors",{attrs:{text:n.t("recentlyUsed"),"colors-history-key-show":!0,"colors-history-key":n.colorsHistoryKey,"colors-history":n.colorsHistory},on:{selectColor:n.selectColor}}),i("Colors",{attrs:{text:n.t("customColor"),"colors-self":n.colorsSelfHistory,"colors-self-show":!0,"colors-history-key":n.colorsHistoryKey,"colors-history":n.colorsHistory},on:{selectColor:n.selectColor,selectColorSelf:n.selectColorSelf}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:n.colorsSelfShow,expression:"colorsSelfShow"}],class:n.prefix+"-color-picker-innder-box"},[i("div",{class:n.prefix+"-title"},[i("span",{class:n.prefix+"-sub"},[n._v(n._s(n.t("customColor")))]),i("span",{class:n.prefix+"-back",on:{click:function(t){n.colorsSelfShow=!1}}})]),i("div",{class:n.prefix+"-color-box"},[i("HexBox",{attrs:{name:"#",color:n.modelHex},on:{inputColor:n.inputHex}}),i("Preview",{attrs:{color:n.rgbaString,width:n.previewWidth,height:n.previewHeight},on:{setSelfColor:n.setSelfColor}})],1),i("div",{class:n.prefix+"-color-set"},[i("Saturation",{ref:"saturation",attrs:{color:n.rgbString,hsv:n.hsv,size:n.hueHeight2,width:n.hueWidth2},on:{selectSaturation:n.selectSaturation}}),i("div",{class:n.prefix+"-color-alpha-box"},[i("div",{class:n.prefix+"-color-alpha-text"},[n._v(n._s(n.t("hueTransparency")))]),i("div",{class:n.prefix+"-color-hue-box "+n.prefix+"-preview-diff"},[i("Preview",{attrs:{color:n.rgbaString,width:n.previewWidth2,height:n.previewHeight2},on:{setSelfColor:n.setSelfColor}}),i("Hue",{ref:"hue",attrs:{hsv:n.hsv,width:n.hueWidth,height:n.hueHeight},on:{selectHue:n.selectHue}})],1),i("Alpha",{ref:"alpha",attrs:{color:n.rgbString,rgba:n.rgba,width:n.hueWidth,height:n.hueHeight},on:{selectAlpha:n.selectAlpha}})],1)],1),i("RgbaBox",{attrs:{color:n.modelRgba},on:{inputColor:n.inputRgba}})],1)])])]),i("transition",{on:{"after-enter":n.afterAni,"after-leave":n.afterAni}},[i("div",{directives:[{name:"show",rawName:"v-show",value:n.colorPicker.flat,expression:"colorPicker.flat"}],class:(e={},e[n.prefix+"-mask"]=!0,e[n.prefix+"-enterMask"]=n.enterAni,e[n.prefix+"-leaveMask"]=n.leaveAni,e),on:{click:function(t){return t.stopPropagation(),n.close(t)}}})])],1)}),[],!1,null,null,null).exports);n("5b42"),n("e4ea");w.install=function(t){t.component(w.name,t)};var T=w,S=(n("99af"),n("7db0"),n("a15b"),n("fb6a"),n("a434"),n("a9e3"),n("d3b7"),n("ac1f"),n("25f0"),n("2532"),n("1276"),n("cca6"),n("2909")),E=n("53ca"),C=n("b901"),A=n.n(C),M=n("16d9"),O=n.n(M),D={name:"wordBreaker",props:{word:[String,Number],length:[String,Number],mode:{type:String,default:"flexible"}},computed:{showWord:function(){if("number"!=typeof this.word&&!this.word)return"";if("normal"===this.mode){var t=this.word.length;if(!this.length)throw new Error("wordBreaker组件mode为normal时必须传入length");if(isNaN(Number(this.length)))throw new Error("wordBreaker 组件mode为normal 时传入的length必须不是NaN");return t=Number(this.length),this.word.toString().slice(0,t)+"..."}return this.word.toString()},getStyle:function(){return{width:"flexible"===this.mode&&("string"==typeof this.length||this.length instanceof Array)?this.length:void 0}}}},N=(n("7067"),Object(i.a)(D,(function(){var t=this.$createElement;return(this._self._c||t)("div",{class:"word-breaker "+this.mode,style:this.getStyle,attrs:{title:this.word}},[this._v(" "+this._s(this.showWord)+" ")])}),[],!1,null,"cbd3067c",null).exports);N.install=function(t){t.component(N.name,N)};var I=N,P={name:"dropdown",mixins:[f.b],components:{ipt:b,Tree:_.Tree,Dropdown:_.Dropdown,Scrollbar:_.Scrollbar,DropdownMenu:_.DropdownMenu,DropdownItem:_.DropdownItem,wordBreaker:I},props:{configs:{type:Object,default:function(){return{}}},disabled:{type:Boolean,defalut:!1},value:[String,Object,Array,Number],iValue:String},data:function(){return{width:"",realValue:[],folderIcon:n("3408"),modelIcon:n("9597"),defaultConfigs:{placement:"bottom-start",dataSource:[],showKey:"value",idKey:"res_id",pidKey:"parent_id",type:"list",trigger:"click",defaultValue:"",isSearch:!1,returnJson:!0,isMultiple:!1,relateChildren:!1,noData:this.t("dropDownNoData"),canItemSelect:function(){return!0},showIcon:!0,showType:"showType",folder:"folder",chooseFolder:!1,folderIcon:"",modelIcon:"",maxSelect:void 0,placeholder:void 0,dropdownStyle:{width:"100%"}},filterWord:""}},computed:{settings:function(){return Object.assign(this.defaultConfigs,this.configs)},iptValue:function(){var t=this,e=[];return this.choosed.forEach((function(n){var r=t.settings.dataSource.find((function(e){return e[t.settings.idKey]===n}));r&&e.push(r[t.settings.showKey])})),e.join(",")},choosed:function(){return this.getChoosed(null===this.value||void 0===this.value?this.realValue:this.value)},filteredSource:function(){var t=this;return this.settings.isSearch?this.settings.dataSource.filter((function(e){return e[t.settings.showKey].toString().includes(t.filterWord)})):this.settings.dataSource},isChoosedAll:function(){var t=this;return this.settings.maxSelect===this.choosed.length||this.filteredSource.length&&this.filteredSource.every((function(e){return t.choosed.includes(e[t.settings.idKey])}))},treeData:function(){if(!this.settings.idKey||!this.settings.pidKey)throw new Error("dropdown: type为tree时必须传入idKey和pidKey");return"list"===this.settings.type?[]:Object(d.c)(this.filteredSource,this.settings.idKey,this.settings.pidKey)},treeProps:function(){return{children:"children",label:this.settings.showKey}},currentSelectedKey:function(){return"tree"!==this.settings.type||this.settings.isMultiple?void 0:this.choosed.length?this.choosed[0]:void 0}},methods:{change:function(t,e){var n=this;this.settings.isMultiple||this.$refs.dropdown.hide();var r,i=this.settings,a=i.returnJson,o=i.idKey,s=i.isMultiple,u=i.dataSource,l=i.type,c=this.choosed,h=A()(t),f=r=h instanceof Array?h.map((function(t){return t.children&&"tree"===l&&delete t.children,t[o]})):h[o];if(s&&!e){var p=O()(c,(function(t){return t===r}));if("tree"===l&&this.settings.relateChildren)if(this.isChoosed(h))c.splice(p,1),Object(d.a)(h).forEach((function(t){if(n.isChoosed(t)){var e=t[o],r=O()(c,(function(t){return t===e}));c.splice(r,1)}}));else c.push(r),Object(d.a)(h).forEach((function(t){n.isChoosed(t)||c.push(t[o])}));else p<0?c.push(r):c.splice(p,1);f=c}var m=r;if(a)if(m=h,f instanceof Array){var g=[];f.forEach((function(t){var e=u.find((function(e){return e[o]===t}));if(e){var n=A()(e);n.children&&delete n.children,g.push(n)}})),f=g}else{var _=u.find((function(t){return t[o]===f})),v=A()(_);v.children&&delete v.children,f=v}"tree"===l&&(f instanceof Array?f=f.map((function(t){return"object"===Object(E.a)(t)&&t.children&&delete t.children,t})):"object"===Object(E.a)(f)&&f.children&&delete f.children,h instanceof Array?h=h.map((function(t){return"object"===Object(E.a)(t)&&t.children&&delete t.children,t})):"object"===Object(E.a)(h)&&h.children&&delete h.children),this.$emit("input",f),this.realValue=f,this.$emit("change",f,m)},dropdownItemClicked:function(t){(this.isChoosed(t)||this.choosed.length!==this.settings.maxSelect)&&(!this.isFolder(t)||this.settings.chooseFolder?(this.settings.canItemSelect(t)&&this.change(t),this.setCurrentNode()):this.setCurrentNode())},isChoosed:function(t){var e=t[this.settings.idKey];return this.choosed.includes(e)},getWidth:function(){var t=this.$el.getBoundingClientRect().width;t&&(this.width=t+"px")},visibleChange:function(t){this.filterWord="",t&&(this.getWidth(),this.disabled&&this.$refs.dropdown.hide(),this.setCurrentNode())},selectAll:function(){var t=this,e=this.settings,n=e.maxSelect,r=e.idKey,i=e.canItemSelect,a=e.chooseFolder;if(this.isChoosedAll)this.change([],!0);else{var o=this.filteredSource.filter((function(e){return i(e)&&!(t.isFolder(e)&&!a)}));if(void 0!==n&&"number"==typeof n){var s=this.filteredSource.filter((function(e){return!t.choosed.includes(e[r])&&i(e)&&!(t.isFolder(e)&&!a)}));o=[].concat(Object(S.a)(this.choosed),Object(S.a)(s.slice(0,n-this.choosed.length)))}this.change(o,!0)}},getChoosed:function(t){var e=this;return null!=t?t instanceof Array?t.map((function(t){return"object"===Object(E.a)(t)?t[e.settings.idKey]:t})):"object"===Object(E.a)(t)?[t[this.settings.idKey]]:[t]:[]},setCurrentNode:function(){this.$refs.tree&&this.$refs.tree.setCurrentKey(this.currentSelectedKey)},handleClick:function(t){this.$emit("click",t)},isFolder:function(t){var e=this.settings.folder;return e instanceof Array?e.includes(t[this.settings.showType]):t[this.settings.showType]===this.settings.folder}},watch:{value:function(t){t!==this.realValue&&null!=t&&(this.realValue=t)},"settings.dataSource":function(t,e){var n=this;this.setCurrentNode(),t.length!==e.length&&this.$refs&&this.$refs.dropdown&&this.$refs.dropdown.visible&&setTimeout((function(){var t=n.$refs.dropdown,e=t.dropdownElm,r=getComputedStyle(e),i="string"==typeof r["margin-top"]?Number(r["margin-top"].split("px")[0]):0,a="string"==typeof r["marigin-bottom"]?Number(r["marigin-bottom"].split("px")[0]):0,o=Number(r.height.split("px")[0])+i+a,s=n.$el.getBoundingClientRect();document.body.clientHeight-s.top-s.height<o&&(t.hide(),setTimeout((function(){t.show(),setTimeout((function(){e.style.left=s.left+16+"px"}),0)}),0))}),0)}},mounted:function(){this.getWidth(),this.value&&(this.realValue=this.value)}},L=(n("2f11"),Object(i.a)(P,(function(){var t,e=this,n=e.$createElement,r=e._self._c||n;return r("div",{staticClass:"dropdown-wrapper",on:{click:e.handleClick}},[r("Dropdown",{ref:"dropdown",attrs:{trigger:e.settings.trigger,placement:e.settings.placement,"hide-on-click":!e.settings.isMultiple},on:{command:e.dropdownItemClicked,"visible-change":e.visibleChange}},[e._t("default",[r("ipt",{style:e.settings.dropdownStyle,attrs:{mode:"dropdown",value:void 0!==e.iValue?e.iValue:e.iptValue,placeholder:e.settings.placeholder}})]),r("DropdownMenu",{staticClass:"dropdown-box",style:{width:e.width},attrs:{slot:"dropdown"},slot:"dropdown"},[e.settings.dataSource.length?[e.settings.isSearch||e.settings.isMultiple?r("div",{staticClass:"search-wrapper"},[e.settings.isSearch?r("ipt",{attrs:{mode:"search",placeholder:e.t("dropDownEnter")},model:{value:e.filterWord,callback:function(t){e.filterWord=t},expression:"filterWord"}}):e._e(),e.settings.isMultiple?r("div",{staticClass:"multiple-wrapper"},[e.settings.isMultiple?r("i",{staticClass:"icon iconfont",class:(t={},t["icon-checkbox"]=e.isChoosedAll,t["icon-checkbox-no"]=!e.isChoosedAll,t),on:{click:e.selectAll}}):e._e(),e._v(" "+e._s(e.t("selectAll"))+" ")]):e._e()],1):e._e(),"list"===e.settings.type?r("Scrollbar",{ref:"scrollbar",attrs:{tag:"ul","wrap-class":"dropdown-scroll-wrapper"}},e._l(e.filteredSource,(function(t){var n,i;return r("DropdownItem",{key:t[e.settings.idKey],class:(n={},n["dropdown-item"]=!0,n["dropdown-item-selected"]=e.isChoosed(t),n["dropdown-item-disabled"]=!e.isChoosed(t)&&e.choosed.length===e.settings.maxSelect,n),attrs:{command:t},nativeOn:{mousedown:function(t){t.stopPropagation(),t.preventDefault()}}},[e.settings.isMultiple?r("i",{staticClass:"icon iconfont",class:(i={},i["icon-checkbox"]=e.settings.isMultiple&&e.isChoosed(t),i["icon-checkbox-no"]=e.settings.isMultiple&&!e.isChoosed(t),i)}):e._e(),r("wordBreaker",{attrs:{word:t[e.settings.showKey]}})],1)})),1):e._e(),"tree"===this.settings.type?r("Scrollbar",{ref:"scrollbar",attrs:{tag:"ul","wrap-class":"dropdown-scroll-wrapper"}},[r("Tree",{ref:"tree",attrs:{data:e.treeData,props:e.treeProps,"node-key":e.settings.idKey,"highlight-curren":!this.settings.isMultiple,"expand-on-click-node":!e.settings.chooseFolder&&!e.settings.isMultiple},on:{"node-click":e.dropdownItemClicked},scopedSlots:e._u([{key:"default",fn:function(t){var n,i,a=t.node,o=t.data;return r("div",{staticClass:"custom-tree-node",class:(n={},n["dropdown-item"]=!0,n["dropdown-item-selected"]=e.isChoosed(o),n["dropdown-item-disabled"]=!e.isChoosed(o)&&e.choosed.length===e.settings.maxSelect,n)},[e.settings.isMultiple?r("i",{staticClass:"icon iconfont",class:(i={},i["icon-checkbox"]=e.settings.isMultiple&&e.isChoosed(o),i["icon-checkbox-no"]=e.settings.isMultiple&&!e.isChoosed(o),i)}):e._e(),e.settings.showIcon&&!e.settings.folderIcon&&e.isFolder(o)?r("img",{staticClass:"default-tree-icon",attrs:{src:e.folderIcon}}):e._e(),!e.settings.showIcon||e.settings.modelIcon||e.isFolder(o)?e._e():r("img",{staticClass:"default-tree-icon",attrs:{src:e.modelIcon}}),e.settings.showIcon&&e.settings.folderIcon&&e.isFolder(o)?r("i",{class:["icon","iconfont",e.settings.folderIcon]}):e._e(),e.settings.showIcon&&e.settings.modelIcon&&!e.isFolder(o)?r("i",{class:["icon","iconfont",e.settings.modelIcon]}):e._e(),r("wordBreaker",{attrs:{word:a.label}})],1)}}],null,!1,997015509)})],1):e._e()]:r("div",{staticClass:"no-data",domProps:{innerHTML:e._s(e.settings.noData)}})],2)],2)],1)}),[],!1,null,null,null).exports);L.install=function(t){t.component(L.name,L)};var R=L,k={name:"paginatorComp",mixins:[f.b],props:["pageMsg"],data:function(){return{lastCurrentPage:1,defaults:{totalCounts:1,pageSize:10,currentPage:1,visiblePages:7,showLefted:!1,disableClass:!0,istail:!0,ispages:!0,isSearch:!1,isDetail:!1,band:!0,paginator:{},control:{background:"#eee"},confirm:{},pages:{padding:"2px 3px"},active:{backgroundColor:"#fff",border:"1px solid #A16F6F"},search:{width:"45px"}}}},watch:{d:function(){this.lastCurrentPage=this.pageMsg.currentPage}},computed:{d:function(){var t=Object.assign({},this.defaults,this.pageMsg),e=Math.ceil(t.totalCounts/t.pageSize);return Object.assign(t,{pageNum:e}),e<t.visiblePages&&(t.visiblePages=e),t},pages:function(){for(var t=[],e=this.minAndMax,n=e.min,r=e.max,i=n;i<=r;i++)t.push(i);return t},minAndMax:function(){var t=this.d,e=t.pageNum,n=t.currentPage,r=t.visiblePages,i=n-Math.floor(r/2);i<=1&&(i=1);var a=i+r-1;return a>e&&(a=e,i=e-r+1),{max:a,min:i,visiblePages:r,pageNum:e}},showMore:function(){var t=!0,e=this.minAndMax;return e.min+e.visiblePages>e.pageNum&&(t=!1),t}},methods:{choosePage:function(t){var e=t.type;this.lastCurrentPage=this.d.currentPage;var n=this.d,r=n.pageNum,i=n.currentPage;switch(e){case"first":this.d.currentPage=1;break;case"last":this.d.currentPage=r;break;case"prev":--i<=1&&(i=1),this.d.currentPage=i;break;case"next":++i>=r&&(i=r),this.d.currentPage=i;break;default:this.d.currentPage=e}this.lastCurrentPage!==this.d.currentPage&&this.d.band&&this.$emit("gainMsg",this.d.currentPage)},setCurrentPage:function(t){var e=t.target,n=this.d.pageNum;if(parseInt(e.value)){var r=Math.abs(Math.ceil(e.value));r>=n&&(r=n),e.value=r,13===t.keyCode&&(this.d.currentPage=r,this.$emit("gainMsg",this.d.currentPage))}else e.value=""},comfirmPage:function(){var t=document.querySelector("#search"),e=parseInt(t.value);this.d.currentPage=e,this.$emit("gainMsg",e)},isActive:function(t){return t===this.d.currentPage}},filters:{addPlaces:function(t){return t<10&&(t="0"+t),t}}},B=(n("a92f"),Object(i.a)(k,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{style:t.d.paginator,attrs:{name:"page"},on:{keydown:function(t){t.stopPropagation()},keyup:function(t){t.stopPropagation()}}},[t.d.disableClass&&t.d.istail?n("span",{style:t.d.control,on:{click:function(e){return t.choosePage({type:"first"})}}},[t._t("first",[t._v(t._s(t.t("paginatorFirstPage")))])],2):t._e(),t.d.disableClass?n("span",{style:t.d.control,on:{click:function(e){return t.choosePage({type:"prev"})}}},[t._t("prev",[t._v(t._s(t.t("paginatorPrevPage")))])],2):t._e(),t._l(t.pages,(function(e){return n("span",{directives:[{name:"show",rawName:"v-show",value:t.d.ispages,expression:"d.ispages"}],key:e,staticClass:"pages",style:t.isActive(e)?t.d.active:t.d.pages,attrs:{name:e},on:{click:function(n){return t.choosePage({type:e})}}},[t._v(t._s(e))])})),t.showMore&&t.d.showLefted?n("span",[t._t("showMore",[t._v("...")])],2):t._e(),t.d.ispages?t._e():n("span",{style:[t.d.pages]},[t._v(" "+t._s(t.d.currentPage+"/"+t.d.pageNum+" - "+t.d.totalCounts)+" ")]),t.d.disableClass?n("span",{style:t.d.control,on:{click:function(e){return t.choosePage({type:"next"})}}},[t._t("next",[t._v(t._s(t.t("paginatorNextPage")))])],2):t._e(),t.d.disableClass&&t.d.istail?n("span",{style:t.d.control,on:{click:function(e){return t.choosePage({type:"last"})}}},[t._t("last",[t._v(t._s(t.t("paginatorLastPage")))])],2):t._e(),t.d.isSearch?[n("label",{attrs:{for:"search"}},[t._t("jump",[t._v(t._s(t.t("paginatorJumpTo")))])],2),n("input",{style:t.d.search,attrs:{type:"text",id:"search"},domProps:{value:t.d.currentPage},on:{keyup:function(e){return t.setCurrentPage(e)}}}),n("span",{style:t.d.confirm,on:{click:t.comfirmPage}},[t._v(" "+t._s(t.t("ok"))+" ")])]:t._e(),t.d.isDetail?n("span",[t._v(" "+t._s(t.t("paginatorDetailPage",{pageNum:t.d.pageNum,totalCounts:t.d.totalCounts}))+" ")]):t._e()],2)}),[],!1,null,"9a8ff2c2",null).exports);B.install=function(t){t.component(B.name,B)};var F=B,z=n("3b4e").a,j=Object(i.a)(z,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"mCustomScrollbar",style:this.getStyle},[this._t("default")],2)}),[],!1,null,null,null).exports;j.install=function(t){t.component(j.name,j)};var U=j,H=n("4075").a,V=(n("86ba"),Object(i.a)(H,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.options.show?n("div",[n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingOptions,expression:"loadingOptions"}],staticClass:"modal-window",class:t.options.type,style:[t.position,t.options.style]},[n("div",{staticClass:"window-head"},["custom"===t.options.type?t._t("windowHead",[n("div",{staticClass:"window-title",domProps:{innerHTML:t._s(t.options.head)}})]):n("div",{staticClass:"window-title",domProps:{innerHTML:t._s(t.options.head)}}),t.options.showClose?n("div",{staticClass:"window-close",on:{click:function(e){return t.afterClickButton("close")}}},[t._v("X")]):t._e()],2),n("div",{staticClass:"window-body",class:[t.options.showFoot?"":"window-body-large"]},["custom"===t.options.type?t._t("windowBody",[n("div",{staticClass:"window-content",domProps:{innerHTML:t._s(t.options.content)}})]):n("div",{staticClass:"window-content",domProps:{innerHTML:t._s(t.options.content)}}),"prompt"===t.options.type?n("textarea",{staticClass:"window-textarea",class:{error:t.options.inputError},attrs:{id:"promptValue",spellcheck:"false"},domProps:{value:t.inputValue?t.inputValue:t.options.value}}):t._e()],2),t.options.showFoot?n("div",{staticClass:"window-foot"},["custom"===t.options.type?t._t("windowFoot",[t.options.showConfirm?n("div",{staticClass:"window-button ok-button",on:{click:function(e){return t.afterClickButton("confirm")}}},[n("div",{domProps:{innerHTML:t._s(t.options.confirm)}})]):t._e(),t.options.showCancel?n("div",{staticClass:"window-button cancel-button",on:{click:function(e){return t.afterClickButton("cancel")}}},[n("div",{domProps:{innerHTML:t._s(t.options.cancel)}})]):t._e()]):[t.options.showConfirm?n("div",{staticClass:"window-button ok-button",on:{click:function(e){return t.afterClickButton("confirm")}}},[n("div",{domProps:{innerHTML:t._s(t.options.confirm)}})]):t._e(),t.options.showCancel?n("div",{staticClass:"window-button cancel-button",on:{click:function(e){return t.afterClickButton("cancel")}}},[n("div",{domProps:{innerHTML:t._s(t.options.cancel)}})]):t._e()]],2):t._e()]),n("div",{staticClass:"modal-backdrop",style:[t.options.backDropStyle]})]):t._e()}),[],!1,null,"3e064461",null).exports);V.install=function(t){t.component(V.name,V)};var G=V,W=n("d893").a,$=(n("a4b9"),Object(i.a)(W,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"sqlHighLighter",style:[this.highLightStyle]},[e("textarea",{attrs:{id:"sqlAreaShow"},domProps:{value:this.properties.sqlString}})])}),[],!1,null,"13fdb482",null).exports);$.install=function(t){t.component($.name,$)};var X=$,q=n("12fe").a,Y=(n("6253"),Object(i.a)(q,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"ul-tree",class:{"first-level":!t.toNext,dragPadding:!t.toNext&&t.defaultTreeT.isDrag,cursorMove:t.defaultTreeT.isDrag&&t.trueTreeDragData.isDraggable,treeDropDown:t.defaultTreeT.treeDropDown},on:{mousemove:function(e){return e.stopPropagation(),t.dragMouseMove(e)},mouseup:function(e){return e.stopPropagation(),t.dragMouseUp(e)},mouseleave:function(e){return e.stopPropagation(),t.mouseLeave(e)},contextmenu:function(t){t.preventDefault()},selectstart:function(t){t.preventDefault()}}},[t.showValidate?n("div",{staticClass:"show-validate"},[t._v(t._s(t.defaultTreeT.validateError))]):t._e(),t._l(t.treeData,(function(e,r){return n("li",{key:"li"+r,staticClass:"tree-wrapper"},[n("div",{staticClass:"show-node",class:{choosed:t.trueSelected.length>0&&t.trueSelected[0]==e[t.defaultTreeT.id],dragToNode:t.trueDragSelected[0]===e[t.defaultTreeT.id]}},["folder"===e.type?n("div",{staticClass:"toggleBlock",on:{click:function(n){return n.stopPropagation(),t.toggle(e)}}},[n("span",{staticClass:"toggle iconfont",class:t.trueOpenName.length>0&&t.trueOpenName.includes(e[t.defaultTreeT.id])?"icon-morexia":"icon-morezuo"})]):t._e(),"folder"!==e.type?n("div",{staticClass:"toggleBlock"}):t._e(),"folder"===e.type?n("div",{staticClass:"imgFolder",class:{imgFolderOpen:t.trueOpenName.length>0&&t.trueOpenName.includes(e[t.defaultTreeT.id])}}):t._e(),"folder"!==e.type?n("div",{staticClass:"imgFolder model"}):t._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:!(t.trueIsDbClicked&&t.trueDbSelected.length>0&&t.trueDbSelected[0]==e[t.defaultTreeT.id]),expression:"\n          !(\n            trueIsDbClicked &&\n            trueDbSelected.length > 0 &&\n            trueDbSelected[0] == model[defaultTreeT.id]\n          )\n        "}],staticClass:"node",class:{cursorMove:t.defaultTreeT.isDrag&&t.trueTreeDragData.isDraggable},attrs:{title:e[t.defaultTreeT.name]},on:{mousedown:function(n){return n.stopPropagation(),t.dragMouseDown(e,n)},click:function(n){return n.stopPropagation(),t.chooseTreeItem(e)},dblclick:function(n){return n.stopPropagation(),t.changeFolderName(e)}}},[t._v(" "+t._s(e[t.defaultTreeT.name])+" "),n("span",{style:{display:"none"},attrs:{id:"show-id"}},[t._v(" "+t._s(e[t.defaultTreeT.id])+" ")])]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.dbChangeNewName,expression:"dbChangeNewName"},{name:"show",rawName:"v-show",value:t.treeT.isDbClick&&t.isDbClicked&&t.trueDbSelected.length>0&&t.trueDbSelected[0]==e[t.defaultTreeT.id],expression:"\n          treeT.isDbClick &&\n            isDbClicked &&\n            trueDbSelected.length > 0 &&\n            trueDbSelected[0] == model[defaultTreeT.id]\n        "},{name:"focus",rawName:"v-focus"}],staticClass:"db-change-input",attrs:{type:"text",spellcheck:"false"},domProps:{value:t.dbChangeNewName},on:{blur:function(n){return n.stopPropagation(),t.changeDbNewName(e)},keydown:function(t){t.stopPropagation()},input:function(e){e.target.composing||(t.dbChangeNewName=e.target.value)}}}),t.treeT.isDelete?n("i",{staticClass:"iconfont icon-close",on:{click:function(n){return n.stopPropagation(),t.handleDelete(e)}}}):t._e()]),n("div",{directives:[{name:"show",rawName:"v-show",value:!0===t.isAdd&&t.trueSelected.length>0&&t.trueSelected[0]==e[t.defaultTreeT.id],expression:"\n        isAdd === true &&\n          trueSelected.length > 0 &&\n          trueSelected[0] == model[defaultTreeT.id]\n      "}],staticClass:"add-children"},[t._m(0,!0),n("div",{staticClass:"imgFolder"}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newName,expression:"newName"},{name:"focus",rawName:"v-focus"}],staticClass:"add-children-input",attrs:{spellcheck:"false"},domProps:{value:t.newName},on:{blur:function(n){return n.stopPropagation(),t.changeNewName(e)},keydown:function(t){t.stopPropagation()},input:function(e){e.target.composing||(t.newName=e.target.value)}}})]),e.children&&e.children.length>0?n("item",{directives:[{name:"show",rawName:"v-show",value:t.trueOpenName.length>0&&t.trueOpenName.includes(e[t.defaultTreeT.id]),expression:"\n        trueOpenName.length > 0 &&\n          trueOpenName.includes(model[defaultTreeT.id])\n      "}],attrs:{sourceData:e.children,totalSourceData:t.uniqueData,treeT:t.treeT,chooseModel:t.chooseModel,isTrans:!1,isAdd:t.isAdd,toNext:{selected:t.trueSelected,openName:t.trueOpenName,dbSelected:t.trueDbSelected,dragSelected:t.trueDragSelected,dragData:t.trueTreeDragData,isDbClicked:t.trueIsDbClicked}},on:{toggle:t.toggle,deleteItem:t.handleDelete,loadNodeData:t.loadNodeData,chooseTreeItem:t.chooseTreeItem,changeNewName:t.changeT,changeDbNewName:t.changeDbNewNameT,getDragData:t.getDragDataT,getFromNextData:t.getFromNextData}}):t._e()],1)})),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.toNext&&"root"===t.isAdd,expression:"!toNext && isAdd === 'root'"}],staticClass:"add-root"},[t._m(1),n("div",{staticClass:"imgFolder"}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newName,expression:"newName"},{name:"focus",rawName:"v-focus"}],staticClass:"add-root-input",attrs:{spellcheck:"false"},domProps:{value:t.newName},on:{blur:function(e){return e.stopPropagation(),t.changeNewName()},keydown:function(t){t.stopPropagation()},input:function(e){e.target.composing||(t.newName=e.target.value)}}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.defaultTreeT.isDrag&&t.trueTreeDragData.isDraggable&&!t.toNext,expression:"defaultTreeT.isDrag && trueTreeDragData.isDraggable && !toNext"}],staticClass:"move-tree-block",style:{top:t.trueTreeDragData.top+"px",left:t.trueTreeDragData.left+"px"},on:{click:function(t){t.stopPropagation()},selectstart:function(t){t.preventDefault()}}},[t._m(2),n("div",{staticClass:"imgFolder"}),n("div",{staticClass:"node"},[t._v(t._s(t.trueTreeDragData.currentDragModel[t.defaultTreeT.name]))])])],2)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"toggleBlock"},[e("span",{staticClass:"toggle"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"toggleBlock"},[e("span",{staticClass:"toggle"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"toggleBlock"},[e("span",{staticClass:"toggle"})])}],!1,null,"4435b560",null).exports);Y.install=function(t){t.component(Y.name,Y)};var Z=Y,K=n("2432").a,J=(n("7330"),Object(i.a)(K,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal-tree"},[n("div",{staticClass:"tabMenu"},t._l(t.computedTabs,(function(e,r){return n("btn",{key:"leftTab"+r,staticClass:"modal-tree-btn",attrs:{icon:e.icon,type:t.activeTab===e.key?"primary":"normal"},on:{click:function(n){return t.changeTab(e)}}},[t._v(t._s(e.name))])})),1),n("Item",{ref:"folderTree",attrs:{sourceData:t.sourceData,treeT:t.treeT,isAdd:t.isAdd,chooseModel:t.chooseModel},on:{deleteItem:t.deleteItem,chooseTreeItem:t.chooseTreeItem,changeNewName:t.changeNewName,getDefaultData:t.getDefaultData,changeDbNewName:t.changeDbNewName,getDragData:t.getDragData}})],1)}),[],!1,null,null,null).exports);J.install=function(t){t.component(J.name,J)};var Q=J,tt=n("1f5d"),et=(n("0fae"),[c.a,b,o,Z,G,g,l,R,Q,T,I,F,X,U]),nt=function(t,e){e&&(f.a.use(e.lang),f.a.i18n(e.i18n)),et.forEach((function(e){t.component(e.name,e)})),t.use(tt.a)};"undefined"!=typeof window&&window.Vue&&nt(window.Vue);e.a={install:nt,btn:c.a,ipt:b,tabs:o,Item:Z,modal:G,drawer:g,tabpane:l,loading:tt.a,dropdown:R,ModalTree:Q,colorPicker:T,wordBreaker:I,paginatorComp:F,highLightComponent:X,nanoscrollerComponent:U}},"428f":function(t,e,n){var r=n("da84");t.exports=r},"42ee":function(t,e){var n=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],r=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function i(t,e,n,r,i){if("string"==typeof t)t=document.getElementById(t);else if("undefined"!=typeof HTMLCanvasElement&&!t instanceof HTMLCanvasElement)return;var a,o=t.getContext("2d");try{try{a=o.getImageData(e,n,r,i)}catch(t){throw new Error("unable to access local image data: "+t)}}catch(t){throw new Error("unable to access image data: "+t)}return a}function a(t,e,n,r,a,s){if(!(isNaN(s)||s<1)){s|=0;var u=i(t,e,n,r,a);u=o(u,e,n,r,a,s),t.getContext("2d").putImageData(u,e,n)}}function o(t,e,i,a,o,s){var u,c,h,f,d,p,m,g,_,v,y,b,x,w,T,S,E,C,A,M,O,D,N,I,P=t.data,L=s+s+1,R=a-1,k=o-1,B=s+1,F=B*(B+1)/2,z=new l,j=z;for(h=1;h<L;h++)if(j=j.next=new l,h==B)var U=j;j.next=z;var H=null,V=null;m=p=0;var G=n[s],W=r[s];for(c=0;c<o;c++){for(S=E=C=A=g=_=v=y=0,b=B*(M=P[p]),x=B*(O=P[p+1]),w=B*(D=P[p+2]),T=B*(N=P[p+3]),g+=F*M,_+=F*O,v+=F*D,y+=F*N,j=z,h=0;h<B;h++)j.r=M,j.g=O,j.b=D,j.a=N,j=j.next;for(h=1;h<B;h++)f=p+((R<h?R:h)<<2),g+=(j.r=M=P[f])*(I=B-h),_+=(j.g=O=P[f+1])*I,v+=(j.b=D=P[f+2])*I,y+=(j.a=N=P[f+3])*I,S+=M,E+=O,C+=D,A+=N,j=j.next;for(H=z,V=U,u=0;u<a;u++)P[p+3]=N=y*G>>W,0!=N?(N=255/N,P[p]=(g*G>>W)*N,P[p+1]=(_*G>>W)*N,P[p+2]=(v*G>>W)*N):P[p]=P[p+1]=P[p+2]=0,g-=b,_-=x,v-=w,y-=T,b-=H.r,x-=H.g,w-=H.b,T-=H.a,f=m+((f=u+s+1)<R?f:R)<<2,g+=S+=H.r=P[f],_+=E+=H.g=P[f+1],v+=C+=H.b=P[f+2],y+=A+=H.a=P[f+3],H=H.next,b+=M=V.r,x+=O=V.g,w+=D=V.b,T+=N=V.a,S-=M,E-=O,C-=D,A-=N,V=V.next,p+=4;m+=a}for(u=0;u<a;u++){for(E=C=A=S=_=v=y=g=0,b=B*(M=P[p=u<<2]),x=B*(O=P[p+1]),w=B*(D=P[p+2]),T=B*(N=P[p+3]),g+=F*M,_+=F*O,v+=F*D,y+=F*N,j=z,h=0;h<B;h++)j.r=M,j.g=O,j.b=D,j.a=N,j=j.next;for(d=a,h=1;h<=s;h++)p=d+u<<2,g+=(j.r=M=P[p])*(I=B-h),_+=(j.g=O=P[p+1])*I,v+=(j.b=D=P[p+2])*I,y+=(j.a=N=P[p+3])*I,S+=M,E+=O,C+=D,A+=N,j=j.next,h<k&&(d+=a);for(p=u,H=z,V=U,c=0;c<o;c++)P[(f=p<<2)+3]=N=y*G>>W,N>0?(N=255/N,P[f]=(g*G>>W)*N,P[f+1]=(_*G>>W)*N,P[f+2]=(v*G>>W)*N):P[f]=P[f+1]=P[f+2]=0,g-=b,_-=x,v-=w,y-=T,b-=H.r,x-=H.g,w-=H.b,T-=H.a,f=u+((f=c+B)<k?f:k)*a<<2,g+=S+=H.r=P[f],_+=E+=H.g=P[f+1],v+=C+=H.b=P[f+2],y+=A+=H.a=P[f+3],H=H.next,b+=M=V.r,x+=O=V.g,w+=D=V.b,T+=N=V.a,S-=M,E-=O,C-=D,A-=N,V=V.next,p+=a}return t}function s(t,e,n,r,a,o){if(!(isNaN(o)||o<1)){o|=0;var s=i(t,e,n,r,a);s=u(s,e,n,r,a,o),t.getContext("2d").putImageData(s,e,n)}}function u(t,e,i,a,o,s){var u,c,h,f,d,p,m,g,_,v,y,b,x,w,T,S,E,C,A,M,O=t.data,D=s+s+1,N=a-1,I=o-1,P=s+1,L=P*(P+1)/2,R=new l,k=R;for(h=1;h<D;h++)if(k=k.next=new l,h==P)var B=k;k.next=R;var F=null,z=null;m=p=0;var j=n[s],U=r[s];for(c=0;c<o;c++){for(w=T=S=g=_=v=0,y=P*(E=O[p]),b=P*(C=O[p+1]),x=P*(A=O[p+2]),g+=L*E,_+=L*C,v+=L*A,k=R,h=0;h<P;h++)k.r=E,k.g=C,k.b=A,k=k.next;for(h=1;h<P;h++)f=p+((N<h?N:h)<<2),g+=(k.r=E=O[f])*(M=P-h),_+=(k.g=C=O[f+1])*M,v+=(k.b=A=O[f+2])*M,w+=E,T+=C,S+=A,k=k.next;for(F=R,z=B,u=0;u<a;u++)O[p]=g*j>>U,O[p+1]=_*j>>U,O[p+2]=v*j>>U,g-=y,_-=b,v-=x,y-=F.r,b-=F.g,x-=F.b,f=m+((f=u+s+1)<N?f:N)<<2,g+=w+=F.r=O[f],_+=T+=F.g=O[f+1],v+=S+=F.b=O[f+2],F=F.next,y+=E=z.r,b+=C=z.g,x+=A=z.b,w-=E,T-=C,S-=A,z=z.next,p+=4;m+=a}for(u=0;u<a;u++){for(T=S=w=_=v=g=0,y=P*(E=O[p=u<<2]),b=P*(C=O[p+1]),x=P*(A=O[p+2]),g+=L*E,_+=L*C,v+=L*A,k=R,h=0;h<P;h++)k.r=E,k.g=C,k.b=A,k=k.next;for(d=a,h=1;h<=s;h++)p=d+u<<2,g+=(k.r=E=O[p])*(M=P-h),_+=(k.g=C=O[p+1])*M,v+=(k.b=A=O[p+2])*M,w+=E,T+=C,S+=A,k=k.next,h<I&&(d+=a);for(p=u,F=R,z=B,c=0;c<o;c++)O[f=p<<2]=g*j>>U,O[f+1]=_*j>>U,O[f+2]=v*j>>U,g-=y,_-=b,v-=x,y-=F.r,b-=F.g,x-=F.b,f=u+((f=c+P)<I?f:I)*a<<2,g+=w+=F.r=O[f],_+=T+=F.g=O[f+1],v+=S+=F.b=O[f+2],F=F.next,y+=E=z.r,b+=C=z.g,x+=A=z.b,w-=E,T-=C,S-=A,z=z.next,p+=a}return t}function l(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}t.exports={image:function(t,e,n,r){if("string"==typeof t)t=document.getElementById(t);else if("undefined"!=typeof HTMLImageElement&&!t instanceof HTMLImageElement)return;var i=t.naturalWidth,o=t.naturalHeight;if("string"==typeof e)e=document.getElementById(e);else if("undefined"!=typeof HTMLCanvasElement&&!e instanceof HTMLCanvasElement)return;e.style.width=i+"px",e.style.height=o+"px",e.width=i,e.height=o;var u=e.getContext("2d");u.clearRect(0,0,i,o),u.drawImage(t,0,0),isNaN(n)||n<1||(r?a(e,0,0,i,o,n):s(e,0,0,i,o,n))},canvasRGBA:a,canvasRGB:s,imageDataRGBA:o,imageDataRGB:u}},4328:function(t,e,n){"use strict";var r=n("4127"),i=n("9e6a"),a=n("b313");t.exports={formats:a,parse:i,stringify:r}},4362:function(t,e,n){var r,i;e.nextTick=function(t){var e=Array.prototype.slice.call(arguments);e.shift(),setTimeout((function(){t.apply(null,e)}),0)},e.platform=e.arch=e.execPath=e.title="browser",e.pid=1,e.browser=!0,e.env={},e.argv=[],e.binding=function(t){throw new Error("No such module. (Possibly not yet loaded)")},i="/",e.cwd=function(){return i},e.chdir=function(t){r||(r=n("df7c")),i=r.resolve(t,i)},e.exit=e.kill=e.umask=e.dlopen=e.uptime=e.memoryUsage=e.uvCounters=function(){},e.features={}},"43b1":function(t,e,n){"use strict";var r=n("9740");n.n(r).a},"44ac":function(t,e,n){var r=n("61c0"),i=n("f65b"),a=(n("906f"),{MMsDDdMMsDD:/(?!\d{1,4}\/\d{1,4}\s*-\s*\d{1,4}\/\d{1,4}\/)(\d{1,4})\/(\d{1,4})\s*-\s*(\d{1,4})\/(\d{1,4})/g,MMsDDdDD:/(?!\d{1,4}\/\d{1,4}\s*-\s*\d{1,4}\/)(\d{1,4})\/(\d{1,4})\s*-\s*(\d{1,4})/g,MMsDD:/(?!\d{1,4}\/\d{1,4}\/)(\d{1,4})\/(\d{1,4})/g,hhcmm:/(\s+\d{1,2}|^\d{1,2})\:?(\d{2})\s*(\S+)*/g});function o(t,e,n){var r,i;if(r=a.MMsDDdMMsDD.exec(t))i=" t:"+s(r[1],r[2])+",dt: - t:"+s(r[3],r[4])+",dt: ";else if(r=a.MMsDDdDD.exec(t)){i=" t:"+s(r[1],r[2])+",dt: - t:"+s(r[1],r[3])+",dt: "}else if(r=a.MMsDD.exec(t)){i=" t:"+s(r[1],r[2])+",dt: "}else{if(!(r=a.hhcmm.exec(t)))return{str:t,tokensIn:e,tokensOut:n};i=" t:"+r[1].trim()+"h"+r[2]+"m,dt: "+(r[3]||"")}return n.push(r[0]),e.push(i),{str:t=o(t.replace(r[0],i),e,n).str,tokensIn:e,tokensOut:n}}function s(t,e){var n=[t,e].filter((function(t){return 4==t.length})),r=[t,e].filter((function(t){return 4!=t.length}));return(n[0]?n[0]+"y":"")+(r[0]+"M")+(r[1]?r[1]+"d":"")}function u(t){var e=o(t,[],[]).str.replace(/t\:\S*,dt\:\S*(\s*-\s*t\:\S*,dt\:\S*)?/,"");return null!=/\w+/g.exec(e)}t.exports=function(t){for(var e=function(t){var e=function(t){var e=[],n=[],i=(t=t.replace(/\s+/g," ")).split(/\s+/g),a=null,o="";for(;i.length;){o=(o+" "+i.shift()).trim();try{a=r.stdT(new Date(o));for(var s=o+" "+i[0];;)try{var u=r.stdT(new Date(s));if("Invalid Date"==u)break;a=u;o=o+" "+i.shift(),s=s+" "+i[0]}catch(t){break}for(;;)try{if(r.stdT(new Date(o.replace(/^\s*\S+\s*/,"")))!=a)break;o=o.replace(/^\s*\S+\s*/,"")}catch(t){break}o.length>6&&(e.push(a),n.push(o)),o=""}catch(t){}}return{tokensIn:e,tokensOut:n}}(t),n=e.tokensOut.filter(u),i=o(function(t,e){for(var n=0;n<e.length;n++){var i=e[n],a=r.stdTtoT(r.stdT(new Date(i)));t=t.replace(i,a)}return t}(t,n),[],[]),a=e.tokensOut.concat(i.tokensOut),s=e.tokensIn.concat(i.tokensIn);return{str:i.str,tokensOut:a,tokensIn:s}}(t=(" "+t).replace(/\s+(\d+)([a-zA-Z]+)/g," $1 $2").replace(/\s+([a-zA-Z]+)(\d+)/g," $1 $2").replace(/\s+/g," ").replace(/^\s+/,"")),n=e.str,a=n.split(" "),s=[],l=0;l<a.length;l++)a[l].match(r.reT)||(a[l]=a[l].replace(/^\W+/,"").replace(/\W+$/,""));for(l=0;l<a.length;l++){var c=a[l],h=c,f=c+" "+(a[l+1]||""),d=i(h),p=i(f);p&&p.value==d.value?(l++,s.push(i(f))):s.push(i(h))}return{str:n,tokensOut:e.tokensOut,tokensIn:e.tokensIn,symbols:s}}},"44ad":function(t,e,n){var r=n("d039"),i=n("c6b6"),a="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?a.call(t,""):Object(t)}:Object},"44d2":function(t,e,n){var r=n("b622"),i=n("7c73"),a=n("9bf2"),o=r("unscopables"),s=Array.prototype;null==s[o]&&a.f(s,o,{configurable:!0,value:i(null)}),t.exports=function(t){s[o][t]=!0}},"44de":function(t,e,n){var r=n("da84");t.exports=function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},"44e7":function(t,e,n){var r=n("861d"),i=n("c6b6"),a=n("b622")("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==i(t))}},"45fc":function(t,e,n){"use strict";var r=n("23e7"),i=n("b727").some,a=n("a640"),o=n("ae40"),s=a("some"),u=o("some");r({target:"Array",proto:!0,forced:!s||!u},{some:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},"466d":function(t,e,n){"use strict";var r=n("d784"),i=n("825a"),a=n("50c4"),o=n("1d80"),s=n("8aa5"),u=n("14c3");r("match",1,(function(t,e,n){return[function(e){var n=o(this),r=null==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var r=n(e,t,this);if(r.done)return r.value;var o=i(t),l=String(this);if(!o.global)return u(o,l);var c=o.unicode;o.lastIndex=0;for(var h,f=[],d=0;null!==(h=u(o,l));){var p=String(h[0]);f[d]=p,""===p&&(o.lastIndex=s(l,a(o.lastIndex),c)),d++}return 0===d?null:f}]}))},"467f":function(t,e,n){"use strict";var r=n("2d83");t.exports=function(t,e,n){var i=n.config.validateStatus;!i||i(n.status)?t(n):e(r("Request failed with status code "+n.status,n.config,null,n.request,n))}},4795:function(t,e,n){var r=n("23e7"),i=n("da84"),a=n("342f"),o=[].slice,s=function(t){return function(e,n){var r=arguments.length>2,i=r?o.call(arguments,2):void 0;return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,n)}};r({global:!0,bind:!0,forced:/MSIE .\./.test(a)},{setTimeout:s(i.setTimeout),setInterval:s(i.setInterval)})},4840:function(t,e,n){var r=n("825a"),i=n("1c0b"),a=n("b622")("species");t.exports=function(t,e){var n,o=r(t).constructor;return void 0===o||null==(n=r(o)[a])?e:i(n)}},4930:function(t,e,n){var r=n("d039");t.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},"498a":function(t,e,n){"use strict";var r=n("23e7"),i=n("58a8").trim;r({target:"String",proto:!0,forced:n("c8d2")("trim")},{trim:function(){return i(this)}})},"4a7b":function(t,e,n){"use strict";var r=n("c532");t.exports=function(t,e){e=e||{};var n={},i=["url","method","params","data"],a=["headers","auth","proxy"],o=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];r.forEach(i,(function(t){void 0!==e[t]&&(n[t]=e[t])})),r.forEach(a,(function(i){r.isObject(e[i])?n[i]=r.deepMerge(t[i],e[i]):void 0!==e[i]?n[i]=e[i]:r.isObject(t[i])?n[i]=r.deepMerge(t[i]):void 0!==t[i]&&(n[i]=t[i])})),r.forEach(o,(function(r){void 0!==e[r]?n[r]=e[r]:void 0!==t[r]&&(n[r]=t[r])}));var s=i.concat(a).concat(o),u=Object.keys(e).filter((function(t){return-1===s.indexOf(t)}));return r.forEach(u,(function(r){void 0!==e[r]?n[r]=e[r]:void 0!==t[r]&&(n[r]=t[r])})),n}},"4a9b":function(t,e,n){n("74e8")("Float64",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},"4ae1":function(t,e,n){var r=n("23e7"),i=n("d066"),a=n("1c0b"),o=n("825a"),s=n("861d"),u=n("7c73"),l=n("0538"),c=n("d039"),h=i("Reflect","construct"),f=c((function(){function t(){}return!(h((function(){}),[],t)instanceof t)})),d=!c((function(){h((function(){}))})),p=f||d;r({target:"Reflect",stat:!0,forced:p,sham:p},{construct:function(t,e){a(t),o(e);var n=arguments.length<3?t:a(arguments[2]);if(d&&!f)return h(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(l.apply(t,r))}var i=n.prototype,c=u(s(i)?i:Object.prototype),p=Function.apply.call(t,c,e);return s(p)?p:c}})},"4b8b":function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},"4c53":function(t,e,n){"use strict";var r=n("23e7"),i=n("857a");r({target:"String",proto:!0,forced:n("af03")("sub")},{sub:function(){return i(this,"sub","","")}})},"4cae":function(t,e){var n=1e3,r=6e4,i=60*r,a=24*i;function o(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}t.exports=function(t,e){e=e||{};var s,u=typeof t;if("string"===u&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!e)return;var o=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*o;case"days":case"day":case"d":return o*a;case"hours":case"hour":case"hrs":case"hr":case"h":return o*i;case"minutes":case"minute":case"mins":case"min":case"m":return o*r;case"seconds":case"second":case"secs":case"sec":case"s":return o*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}(t);if("number"===u&&!1===isNaN(t))return e.long?o(s=t,a,"day")||o(s,i,"hour")||o(s,r,"minute")||o(s,n,"second")||s+" ms":function(t){if(t>=a)return Math.round(t/a)+"d";if(t>=i)return Math.round(t/i)+"h";if(t>=r)return Math.round(t/r)+"m";if(t>=n)return Math.round(t/n)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},"4d20":function(t,e,n){var r=n("1917"),i=n("10db"),a=n("6ca1"),o=n("3397"),s=n("9c0e"),u=n("faf5"),l=Object.getOwnPropertyDescriptor;e.f=n("0bad")?l:function(t,e){if(t=a(t),e=o(e,!0),u)try{return l(t,e)}catch(t){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},"4d63":function(t,e,n){var r=n("83ab"),i=n("da84"),a=n("94ca"),o=n("7156"),s=n("9bf2").f,u=n("241c").f,l=n("44e7"),c=n("ad6d"),h=n("9f7f"),f=n("6eeb"),d=n("d039"),p=n("69f3").set,m=n("2626"),g=n("b622")("match"),_=i.RegExp,v=_.prototype,y=/a/g,b=/a/g,x=new _(y)!==y,w=h.UNSUPPORTED_Y;if(r&&a("RegExp",!x||w||d((function(){return b[g]=!1,_(y)!=y||_(b)==b||"/a/i"!=_(y,"i")})))){for(var T=function(t,e){var n,r=this instanceof T,i=l(t),a=void 0===e;if(!r&&i&&t.constructor===T&&a)return t;x?i&&!a&&(t=t.source):t instanceof T&&(a&&(e=c.call(t)),t=t.source),w&&(n=!!e&&e.indexOf("y")>-1)&&(e=e.replace(/y/g,""));var s=o(x?new _(t,e):_(t,e),r?this:v,T);return w&&n&&p(s,{sticky:n}),s},S=function(t){t in T||s(T,t,{configurable:!0,get:function(){return _[t]},set:function(e){_[t]=e}})},E=u(_),C=0;E.length>C;)S(E[C++]);v.constructor=T,T.prototype=v,f(i,"RegExp",T)}m("RegExp")},"4d64":function(t,e,n){var r=n("fc6a"),i=n("50c4"),a=n("23cb"),o=function(t){return function(e,n,o){var s,u=r(e),l=i(u.length),c=a(o,l);if(t&&n!=n){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((t||c in u)&&u[c]===n)return t||c||0;return!t&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}},"4d88":function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},"4d90":function(t,e,n){"use strict";var r=n("23e7"),i=n("0ccb").start;r({target:"String",proto:!0,forced:n("9a0c")},{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},"4de4":function(t,e,n){"use strict";var r=n("23e7"),i=n("b727").filter,a=n("1dde"),o=n("ae40"),s=a("filter"),u=o("filter");r({target:"Array",proto:!0,forced:!s||!u},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(t,e,n){"use strict";var r=n("0366"),i=n("7b0b"),a=n("9bdd"),o=n("e95a"),s=n("50c4"),u=n("8418"),l=n("35a1");t.exports=function(t){var e,n,c,h,f,d,p=i(t),m="function"==typeof this?this:Array,g=arguments.length,_=g>1?arguments[1]:void 0,v=void 0!==_,y=l(p),b=0;if(v&&(_=r(_,g>2?arguments[2]:void 0,2)),null==y||m==Array&&o(y))for(n=new m(e=s(p.length));e>b;b++)d=v?_(p[b],b):p[b],u(n,b,d);else for(f=(h=y.call(p)).next,n=new m;!(c=f.call(h)).done;b++)d=v?a(h,_,[c.value,b],!0):c.value,u(n,b,d);return n.length=b,n}},"4e71":function(t,e,n){n("e198")("observable")},"4e82":function(t,e,n){"use strict";var r=n("23e7"),i=n("1c0b"),a=n("7b0b"),o=n("d039"),s=n("a640"),u=[],l=u.sort,c=o((function(){u.sort(void 0)})),h=o((function(){u.sort(null)})),f=s("sort");r({target:"Array",proto:!0,forced:c||!h||!f},{sort:function(t){return void 0===t?l.call(a(this)):l.call(a(this),i(t))}})},"4ebc":function(t,e,n){var r=n("4d88");t.exports=Array.isArray||function(t){return"Array"==r(t)}},"4ec9":function(t,e,n){"use strict";var r=n("6d61"),i=n("6566");t.exports=r("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),i)},"4fad":function(t,e,n){var r=n("23e7"),i=n("6f53").entries;r({target:"Object",stat:!0},{entries:function(t){return i(t)}})},"50c4":function(t,e,n){var r=n("a691"),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},"511f":function(t,e,n){n("0b99"),n("658f"),t.exports=n("fcd4").f("iterator")},"512c":function(t,e,n){var r=n("ef08"),i=n("5524"),a=n("9c0c"),o=n("051b"),s=n("9c0e"),u=function(t,e,n){var l,c,h,f=t&u.F,d=t&u.G,p=t&u.S,m=t&u.P,g=t&u.B,_=t&u.W,v=d?i:i[e]||(i[e]={}),y=v.prototype,b=d?r:p?r[e]:(r[e]||{}).prototype;for(l in d&&(n=e),n)(c=!f&&b&&void 0!==b[l])&&s(v,l)||(h=c?b[l]:n[l],v[l]=d&&"function"!=typeof b[l]?n[l]:g&&c?a(h,r):_&&b[l]==h?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(h):m&&"function"==typeof h?a(Function.call,h):h,m&&((v.virtual||(v.virtual={}))[l]=h,t&u.R&&y&&!y[l]&&o(y,l,h)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},5135:function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"51c4":function(t,e,n){},"51eb":function(t,e,n){"use strict";var r=n("825a"),i=n("c04e");t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return i(r(this),"number"!==t)}},5270:function(t,e,n){"use strict";var r=n("c532"),i=n("c401"),a=n("2e67"),o=n("2444");function s(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return s(t),t.headers=t.headers||{},t.data=i(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||o.adapter)(t).then((function(e){return s(t),e.data=i(e.data,e.headers,t.transformResponse),e}),(function(e){return a(e)||(s(t),e&&e.response&&(e.response.data=i(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},5319:function(t,e,n){"use strict";var r=n("d784"),i=n("825a"),a=n("7b0b"),o=n("50c4"),s=n("a691"),u=n("1d80"),l=n("8aa5"),c=n("14c3"),h=Math.max,f=Math.min,d=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,m=/\$([$&'`]|\d\d?)/g;r("replace",2,(function(t,e,n,r){var g=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,_=r.REPLACE_KEEPS_$0,v=g?"$":"$0";return[function(n,r){var i=u(this),a=null==n?void 0:n[t];return void 0!==a?a.call(n,i,r):e.call(String(i),n,r)},function(t,r){if(!g&&_||"string"==typeof r&&-1===r.indexOf(v)){var a=n(e,t,this,r);if(a.done)return a.value}var u=i(t),d=String(this),p="function"==typeof r;p||(r=String(r));var m=u.global;if(m){var b=u.unicode;u.lastIndex=0}for(var x=[];;){var w=c(u,d);if(null===w)break;if(x.push(w),!m)break;""===String(w[0])&&(u.lastIndex=l(d,o(u.lastIndex),b))}for(var T,S="",E=0,C=0;C<x.length;C++){w=x[C];for(var A=String(w[0]),M=h(f(s(w.index),d.length),0),O=[],D=1;D<w.length;D++)O.push(void 0===(T=w[D])?T:String(T));var N=w.groups;if(p){var I=[A].concat(O,M,d);void 0!==N&&I.push(N);var P=String(r.apply(void 0,I))}else P=y(A,d,M,O,N,r);M>=E&&(S+=d.slice(E,M)+P,E=M+A.length)}return S+d.slice(E)}];function y(t,n,r,i,o,s){var u=r+t.length,l=i.length,c=m;return void 0!==o&&(o=a(o),c=p),e.call(s,c,(function(e,a){var s;switch(a.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,r);case"'":return n.slice(u);case"<":s=o[a.slice(1,-1)];break;default:var c=+a;if(0===c)return e;if(c>l){var h=d(c/10);return 0===h?e:h<=l?void 0===i[h-1]?a.charAt(1):i[h-1]+a.charAt(1):e}s=i[c-1]}return void 0===s?"":s}))}}))},5327:function(t,e,n){var r=n("23e7"),i=n("1ec1"),a=Math.acosh,o=Math.log,s=Math.sqrt,u=Math.LN2;r({target:"Math",stat:!0,forced:!a||710!=Math.floor(a(Number.MAX_VALUE))||a(1/0)!=1/0},{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?o(t)+u:i(t-1+s(t-1)*s(t+1))}})},5377:function(t,e,n){var r=n("83ab"),i=n("9bf2"),a=n("ad6d"),o=n("9f7f").UNSUPPORTED_Y;r&&("g"!=/./g.flags||o)&&i.f(RegExp.prototype,"flags",{configurable:!0,get:a})},"53ca":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n("a4d3"),n("e01a"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0"),n("e260");function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}},"542d":function(t,e,n){"use strict";var r=n("23e7"),i=n("d039"),a=n("408a"),o=1..toPrecision;r({target:"Number",proto:!0,forced:i((function(){return"1"!==o.call(1,void 0)}))||!i((function(){o.call({})}))},{toPrecision:function(t){return void 0===t?o.call(a(this)):o.call(a(this),t)}})},"546b":function(t,e,n){function r(t){var n;function r(){if(r.enabled){var t=r,i=+new Date,a=i-(n||i);t.diff=a,t.prev=n,t.curr=i,n=i;for(var o=new Array(arguments.length),s=0;s<o.length;s++)o[s]=arguments[s];o[0]=e.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var u=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;u++;var i=e.formatters[r];if("function"==typeof i){var a=o[u];n=i.call(t,a),o.splice(u,1),u--}return n})),e.formatArgs.call(t,o);var l=r.log||e.log||console.log.bind(console);l.apply(t,o)}}return r.namespace=t,r.enabled=e.enabled(t),r.useColors=e.useColors(),r.color=function(t){var n,r=0;for(n in t)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]}(t),r.destroy=i,"function"==typeof e.init&&e.init(r),e.instances.push(r),r}function i(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=r.debug=r.default=r).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var n;e.save(t),e.names=[],e.skips=[];var r=("string"==typeof t?t:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(t=r[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(n=0;n<e.instances.length;n++){var a=e.instances[n];a.enabled=e.enabled(a.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=n("4cae"),e.instances=[],e.names=[],e.skips=[],e.formatters={}},5524:function(t,e){var n=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},5530:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n("a4d3"),n("4de4"),n("4160"),n("e439"),n("dbb4"),n("b64b"),n("159b");var r=n("ade3");function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},"55fd":function(t,e,n){},5692:function(t,e,n){var r=n("c430"),i=n("c6cd");(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(t,e,n){var r=n("d066"),i=n("241c"),a=n("7418"),o=n("825a");t.exports=r("Reflect","ownKeys")||function(t){var e=i.f(o(t)),n=a.f;return n?e.concat(n(t)):e}},"583b":function(t,e,n){var r=n("23e7"),i=n("5e89"),a=Math.abs;r({target:"Number",stat:!0},{isSafeInteger:function(t){return i(t)&&a(t)<=9007199254740991}})},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var r=n("1d80"),i="["+n("5899")+"]",a=RegExp("^"+i+i+"*"),o=RegExp(i+i+"*$"),s=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(a,"")),2&t&&(n=n.replace(o,"")),n}};t.exports={start:s(1),end:s(2),trim:s(3)}},"58ca":function(t,e,n){"use strict";(function(t){var r=n("2554"),i=n.n(r);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t){return function(t){if(Array.isArray(t))return h(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||c(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){if(t){if("string"==typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,e):void 0}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f(t){return Array.isArray(t)}function d(t){return void 0===t}function p(t){return"object"===a(t)}function m(t){return"object"===a(t)&&null!==t}function g(t){return"function"==typeof t}var _=(function(){try{return!d(window)}catch(t){return!1}}()?window:t).console||{};function v(t){_&&_.warn&&_.warn(t)}var y=function(){return v("This vue app/component has no vue-meta configuration")},b={title:void 0,titleChunk:"",titleTemplate:"%s",htmlAttrs:{},bodyAttrs:{},headAttrs:{},base:[],link:[],meta:[],style:[],script:[],noscript:[],__dangerouslyDisableSanitizers:[],__dangerouslyDisableSanitizersByTagID:{}},x="metaInfo",w="data-vue-meta",T="data-vue-meta-server-rendered",S="vmid",E="content",C="template",A=!0,M=10,O="ssr",D=Object.keys(b),N=[D[12],D[13]],I=[D[1],D[2],"changed"].concat(N),P=[D[3],D[4],D[5]],L=["link","style","script"],R=["base","meta","link"],k=["noscript","script","style"],B=["innerHTML","cssText","json"],F=["once","skip","template"],z=["body","pbody"],j=["allowfullscreen","amp","amp-boilerplate","async","autofocus","autoplay","checked","compact","controls","declare","default","defaultchecked","defaultmuted","defaultselected","defer","disabled","enabled","formnovalidate","hidden","indeterminate","inert","ismap","itemscope","loop","multiple","muted","nohref","noresize","noshade","novalidate","nowrap","open","pauseonexit","readonly","required","reversed","scoped","seamless","selected","sortable","truespeed","typemustmatch","visible"],U=null;function H(t,e,n){var r=t.debounceWait;e._vueMeta.initialized||!e._vueMeta.initializing&&"watcher"!==n||(e._vueMeta.initialized=null),e._vueMeta.initialized&&!e._vueMeta.pausing&&function(t,e){if(!(e=void 0===e?10:e))return void t();clearTimeout(U),U=setTimeout((function(){t()}),e)}((function(){e.$meta().refresh()}),r)}function V(t,e,n){if(!Array.prototype.findIndex){for(var r=0;r<t.length;r++)if(e.call(n,t[r],r,t))return r;return-1}return t.findIndex(e,n)}function G(t){return Array.from?Array.from(t):Array.prototype.slice.call(t)}function W(t,e){if(!Array.prototype.includes){for(var n in t)if(t[n]===e)return!0;return!1}return t.includes(e)}var $=function(t,e){return(e||document).querySelectorAll(t)};function X(t,e){return t[e]||(t[e]=document.getElementsByTagName(e)[0]),t[e]}function q(t,e,n){var r=e.appId,i=e.attribute,a=e.type,o=e.tagIDKeyName;n=n||{};var s=["".concat(a,"[").concat(i,'="').concat(r,'"]'),"".concat(a,"[data-").concat(o,"]")].map((function(t){for(var e in n){var r=n[e],i=r&&!0!==r?'="'.concat(r,'"'):"";t+="[data-".concat(e).concat(i,"]")}return t}));return G($(s.join(", "),t))}function Y(t,e){t.removeAttribute(e)}function Z(t){return(t=t||this)&&(!0===t._vueMeta||p(t._vueMeta))}function K(t,e){return t._vueMeta.pausing=!0,function(){return J(t,e)}}function J(t,e){if(t._vueMeta.pausing=!1,e||void 0===e)return t.$meta().refresh()}function Q(t){var e=t.$router;!t._vueMeta.navGuards&&e&&(t._vueMeta.navGuards=!0,e.beforeEach((function(e,n,r){K(t),r()})),e.afterEach((function(){t.$nextTick((function(){var e=J(t).metaInfo;e&&g(e.afterNavigation)&&e.afterNavigation(e)}))})))}var tt=1;function et(t,e){var n=["activated","deactivated","beforeMount"],r=!1;return{beforeCreate:function(){var i=this,a=this.$root,o=this.$options,s=t.config.devtools;if(Object.defineProperty(this,"_hasMetaInfo",{configurable:!0,get:function(){return s&&!a._vueMeta.deprecationWarningShown&&(v("VueMeta DeprecationWarning: _hasMetaInfo has been deprecated and will be removed in a future version. Please use hasMetaInfo(vm) instead"),a._vueMeta.deprecationWarningShown=!0),Z(this)}}),this===a&&a.$once("hook:beforeMount",(function(){if(!(r=this.$el&&1===this.$el.nodeType&&this.$el.hasAttribute("data-server-rendered"))&&a._vueMeta&&1===a._vueMeta.appId){var t=X({},"html");r=t&&t.hasAttribute(e.ssrAttribute)}})),!d(o[e.keyName])&&null!==o[e.keyName]){if(a._vueMeta||(a._vueMeta={appId:tt},tt++,s&&a.$options[e.keyName]&&this.$nextTick((function(){var t=function(t,e,n){if(Array.prototype.find)return t.find(e,n);for(var r=0;r<t.length;r++)if(e.call(n,t[r],r,t))return t[r]}(a.$children,(function(t){return t.$vnode&&t.$vnode.fnOptions}));t&&t.$vnode.fnOptions[e.keyName]&&v("VueMeta has detected a possible global mixin which adds a ".concat(e.keyName," property to all Vue components on the page. This could cause severe performance issues. If possible, use $meta().addApp to add meta information instead"))}))),!this._vueMeta){this._vueMeta=!0;for(var u=this.$parent;u&&u!==a;)d(u._vueMeta)&&(u._vueMeta=!1),u=u.$parent}g(o[e.keyName])&&(o.computed=o.computed||{},o.computed.$metaInfo=o[e.keyName],this.$isServer||this.$on("hook:created",(function(){this.$watch("$metaInfo",(function(){H(e,this.$root,"watcher")}))}))),d(a._vueMeta.initialized)&&(a._vueMeta.initialized=this.$isServer,a._vueMeta.initialized||(a._vueMeta.initializedSsr||(a._vueMeta.initializedSsr=!0,this.$on("hook:beforeMount",(function(){var t=this.$root;r&&(t._vueMeta.appId=e.ssrAppId)}))),this.$on("hook:mounted",(function(){var t=this.$root;t._vueMeta.initialized||(t._vueMeta.initializing=!0,this.$nextTick((function(){var n=t.$meta().refresh(),r=n.tags,i=n.metaInfo;!1===r&&null===t._vueMeta.initialized&&this.$nextTick((function(){return H(e,t,"init")})),t._vueMeta.initialized=!0,delete t._vueMeta.initializing,!e.refreshOnceOnNavigation&&i.afterNavigation&&Q(t)})))})),e.refreshOnceOnNavigation&&Q(a))),this.$on("hook:destroyed",(function(){var t=this;this.$parent&&Z(this)&&(delete this._hasMetaInfo,this.$nextTick((function(){if(e.waitOnDestroyed&&t.$el&&t.$el.offsetParent)var n=setInterval((function(){t.$el&&null!==t.$el.offsetParent||(clearInterval(n),H(e,t.$root,"destroyed"))}),50);else H(e,t.$root,"destroyed")})))})),this.$isServer||n.forEach((function(t){i.$on("hook:".concat(t),(function(){H(e,this.$root,t)}))}))}}}}function nt(t){return{keyName:(t=p(t)?t:{}).keyName||x,attribute:t.attribute||w,ssrAttribute:t.ssrAttribute||T,tagIDKeyName:t.tagIDKeyName||S,contentKeyName:t.contentKeyName||E,metaTemplateKeyName:t.metaTemplateKeyName||C,debounceWait:d(t.debounceWait)?M:t.debounceWait,waitOnDestroyed:d(t.waitOnDestroyed)?A:t.waitOnDestroyed,ssrAppId:t.ssrAppId||O,refreshOnceOnNavigation:!!t.refreshOnceOnNavigation}}function rt(t,e){return e&&p(t)?(f(t[e])||(t[e]=[]),t):f(t)?t:[]}var it=[[/&/g,"&amp;"],[/</g,"&lt;"],[/>/g,"&gt;"],[/"/g,"&quot;"],[/'/g,"&#x27;"]],at=[[/&/g,"&"],[/</g,"<"],[/>/g,">"],[/"/g,'"'],[/'/g,"'"]];function ot(t,e,n){n=n||[];var r={doEscape:function(t){return n.reduce((function(t,e){return t.replace(e[0],e[1])}),t)}};return N.forEach((function(t,n){if(0===n)rt(e,t);else if(1===n)for(var i in e[t])rt(e[t],i);r[t]=e[t]})),function t(e,n,r,i){var a=n.tagIDKeyName,o=r.doEscape,s=void 0===o?function(t){return t}:o,u={};for(var l in e){var c=e[l];if(W(I,l))u[l]=c;else{var h=N[0];if(r[h]&&W(r[h],l))u[l]=c;else{var d=e[a];if(d&&(h=N[1],r[h]&&r[h][d]&&W(r[h][d],l)))u[l]=c;else if("string"==typeof c?u[l]=s(c):f(c)?u[l]=c.map((function(e){return m(e)?t(e,n,r,!0):s(e)})):m(c)?u[l]=t(c,n,r,!0):u[l]=c,i){var p=s(l);l!==p&&(u[p]=u[l],delete u[l])}}}}return u}(e,t,r)}function st(t,e,n,r){var i=t.component,a=t.metaTemplateKeyName,o=t.contentKeyName;return!0!==n&&!0!==e[a]&&(d(n)&&e[a]&&(n=e[a],e[a]=!0),n?(d(r)&&(r=e[o]),e[o]=g(n)?n.call(i,r):n.replace(/%s/g,r),!0):(delete e[a],!1))}var ut=!1;function lt(t,e,n){return n=n||{},void 0===e.title&&delete e.title,P.forEach((function(t){if(e[t])for(var n in e[t])n in e[t]&&void 0===e[t][n]&&(W(j,n)&&!ut&&(v("VueMeta: Please note that since v2 the value undefined is not used to indicate boolean attributes anymore, see migration guide for details"),ut=!0),delete e[t][n])})),i()(t,e,{arrayMerge:function(t,e){return function(t,e,n){var r=t.component,i=t.tagIDKeyName,a=t.metaTemplateKeyName,o=t.contentKeyName,s=[];return e.length||n.length?(e.forEach((function(t,e){if(t[i]){var u=V(n,(function(e){return e[i]===t[i]})),l=n[u];if(-1!==u){if(o in l&&void 0===l[o]||"innerHTML"in l&&void 0===l.innerHTML)return s.push(t),void n.splice(u,1);if(null!==l[o]&&null!==l.innerHTML){var c=t[a];if(c){if(!l[a])return st({component:r,metaTemplateKeyName:a,contentKeyName:o},l,c),void(l.template=!0);l[o]||st({component:r,metaTemplateKeyName:a,contentKeyName:o},l,void 0,t[o])}}else n.splice(u,1)}else s.push(t)}else s.push(t)})),s.concat(n)):s}(n,t,e)}})}function ct(t,e){return function t(e,n,r){if(r=r||{},n._inactive)return r;var i=(e=e||{}).keyName,a=n.$metaInfo,o=n.$options,s=n.$children;if(o[i]){var u=a||o[i];p(u)&&(r=lt(r,u,e))}s.length&&s.forEach((function(n){(function(t){return(t=t||this)&&!d(t._vueMeta)})(n)&&(r=t(e,n,r))}));return r}(t||{},e,b)}var ht=[];function ft(t,e,n,r){var i=t.tagIDKeyName,a=!1;return n.forEach((function(t){t[i]&&t.callback&&(a=!0,function(t,e){1===arguments.length&&(e=t,t=""),ht.push([t,e])}("".concat(e,"[data-").concat(i,'="').concat(t[i],'"]'),t.callback))})),r&&a?dt():a}function dt(){var t;"complete"!==(t||document).readyState?document.onreadystatechange=function(){pt()}:pt()}function pt(t){ht.forEach((function(e){var n=e[0],r=e[1],i="".concat(n,'[onload="this.__vm_l=1"]'),a=[];t||(a=G($(i))),t&&t.matches(i)&&(a=[t]),a.forEach((function(t){if(!t.__vm_cb){var e=function(){t.__vm_cb=!0,Y(t,"onload"),r(t)};t.__vm_l?e():t.__vm_ev||(t.__vm_ev=!0,t.addEventListener("load",e))}}))}))}var mt,gt={};function _t(t,e,n,r,i){var a=(e||{}).attribute,o=i.getAttribute(a);o&&(gt[n]=JSON.parse(decodeURI(o)),Y(i,a));var s=gt[n]||{},u=[];for(var l in s)void 0!==s[l]&&t in s[l]&&(u.push(l),r[l]||delete s[l][t]);for(var c in r){var h=s[c];h&&h[t]===r[c]||(u.push(c),void 0!==r[c]&&(s[c]=s[c]||{},s[c][t]=r[c]))}for(var f=0,d=u;f<d.length;f++){var p=d[f],m=s[p],g=[];for(var _ in m)Array.prototype.push.apply(g,[].concat(m[_]));if(g.length){var v=W(j,p)&&g.some(Boolean)?"":g.filter((function(t){return void 0!==t})).join(" ");i.setAttribute(p,v)}else Y(i,p)}gt[n]=s}function vt(t,e,n,r,i,a){var o=e||{},s=o.attribute,u=o.tagIDKeyName,l=z.slice();l.push(u);var c=[],h={appId:t,attribute:s,type:n,tagIDKeyName:u},f={head:q(i,h),pbody:q(a,h,{pbody:!0}),body:q(a,h,{body:!0})};if(r.length>1){var d=[];r=r.filter((function(t){var e=JSON.stringify(t),n=!W(d,e);return d.push(e),n}))}r.forEach((function(e){if(!e.skip){var r=document.createElement(n);e.once||r.setAttribute(s,t),Object.keys(e).forEach((function(t){if(!W(F,t))if("innerHTML"!==t)if("json"!==t)if("cssText"!==t)if("callback"!==t){var n=W(l,t)?"data-".concat(t):t,i=W(j,t);if(!i||e[t]){var a=i?"":e[t];r.setAttribute(n,a)}}else r.onload=function(){return e[t](r)};else r.styleSheet?r.styleSheet.cssText=e.cssText:r.appendChild(document.createTextNode(e.cssText));else r.innerHTML=JSON.stringify(e.json);else r.innerHTML=e.innerHTML}));var i,a=f[function(t){var e=t.body,n=t.pbody;return e?"body":n?"pbody":"head"}(e)];a.some((function(t,e){return i=e,r.isEqualNode(t)}))&&(i||0===i)?a.splice(i,1):c.push(r)}}));var p=[];for(var m in f)Array.prototype.push.apply(p,f[m]);return p.forEach((function(t){t.parentNode.removeChild(t)})),c.forEach((function(t){t.hasAttribute("data-body")?a.appendChild(t):t.hasAttribute("data-pbody")?a.insertBefore(t,a.firstChild):i.appendChild(t)})),{oldTags:p,newTags:c}}function yt(t,e,n){var r=e=e||{},i=r.ssrAttribute,a=r.ssrAppId,o={},s=X(o,"html");if(t===a&&s.hasAttribute(i)){Y(s,i);var u=!1;return L.forEach((function(t){n[t]&&ft(e,t,n[t])&&(u=!0)})),u&&dt(),!1}var l,c={},h={};for(var d in n)if(!W(I,d))if("title"!==d){if(W(P,d)){var p=d.substr(0,4);_t(t,e,d,n[d],X(o,p))}else if(f(n[d])){var m=vt(t,e,d,n[d],X(o,"head"),X(o,"body")),g=m.oldTags,_=m.newTags;_.length&&(c[d]=_,h[d]=g)}}else((l=n.title)||""===l)&&(document.title=l);return{tagsAdded:c,tagsRemoved:h}}function bt(t,e,n){return{set:function(r){return function(t,e,n,r){if(t&&t.$el)return yt(e,n,r);(mt=mt||{})[e]=r}(t,e,n,r)},remove:function(){return function(t,e,n){if(t&&t.$el){var r,i={},a=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=c(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}(P);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.substr(0,4);_t(e,n,o,{},X(i,s))}}catch(t){a.e(t)}finally{a.f()}return function(t,e){var n=t.attribute;G($("[".concat(n,'="').concat(e,'"]'))).map((function(t){return t.remove()}))}(n,e)}mt[e]&&(delete mt[e],wt())}(t,e,n)}}}function xt(){return mt}function wt(t){!t&&Object.keys(mt).length||(mt=void 0)}function Tt(t,e,n,r){n=n||[];var i=(t=t||{}).tagIDKeyName;return e.title&&(e.titleChunk=e.title),e.titleTemplate&&"%s"!==e.titleTemplate&&st({component:r,contentKeyName:"title"},e,e.titleTemplate,e.titleChunk||""),e.base&&(e.base=Object.keys(e.base).length?[e.base]:[]),e.meta&&(e.meta=e.meta.filter((function(t,e,n){return!t[i]||e===V(n,(function(e){return e[i]===t[i]}))})),e.meta.forEach((function(e){return st(t,e)}))),ot(t,e,n)}function St(t,e,n,r){var i=t||{},a=i.ssrAppId,o=i.attribute,s=i.tagIDKeyName,u=r||{},c=u.appId,h=u.isSSR,f=void 0===h||h,d=u.body,p=void 0!==d&&d,m=u.pbody,g=void 0!==m&&m,_=u.ln,v=void 0!==_&&_,y=[s].concat(l(z));return n&&n.length?n.reduce((function(t,n){if(n.skip)return t;if(0===Object.keys(n).length)return t;if(Boolean(n.body)!==p||Boolean(n.pbody)!==g)return t;var r=n.once?"":" ".concat(o,'="').concat(c||(!1===f?"1":a),'"');for(var i in n)if(!B.includes(i)&&!F.includes(i))if("callback"!==i){var s="";y.includes(i)&&(s="data-");var u=!s&&j.includes(i);u&&!n[i]||(r+=" ".concat(s).concat(i)+(u?"":'="'.concat(n[i],'"')))}else r+=' onload="this.__vm_l=1"';var l="";n.json&&(l=JSON.stringify(n.json));var h=n.innerHTML||n.cssText||l,d=!R.includes(e),m=d&&k.includes(e);return"".concat(t,"<").concat(e).concat(r).concat(!m&&d?"/":"",">")+(m?"".concat(h,"</").concat(e,">"):"")+(v?"\n":"")}),""):""}function Et(t,e,n){var r={data:e,extraData:void 0,addInfo:function(t,e){this.extraData=this.extraData||{},this.extraData[t]=e},callInjectors:function(t){var e=this.injectors;return(t.body||t.pbody?"":e.title.text(t))+e.meta.text(t)+e.base.text(t)+e.link.text(t)+e.style.text(t)+e.script.text(t)+e.noscript.text(t)},injectors:{head:function(t){return r.callInjectors(u(u({},n),{},{ln:t}))},bodyPrepend:function(t){return r.callInjectors(u(u({},n),{},{ln:t,pbody:!0}))},bodyAppend:function(t){return r.callInjectors(u(u({},n),{},{ln:t,body:!0}))}}},i=function(e){if(I.includes(e))return"continue";r.injectors[e]={text:function(i){if(i=u(u({addSsrAttribute:!0===i},n),i),"title"===e)return function(t,e,n,r){var i=(r||{}).ln;return n?"<".concat(e,">").concat(n,"</").concat(e,">").concat(i?"\n":""):""}(0,e,r.data[e],i);if(P.includes(e)){var a={},s=r.data[e];if(s){var c=!1===i.isSSR?"1":t.ssrAppId;for(var h in s)a[h]=o({},c,s[h])}if(r.extraData)for(var f in r.extraData){var d=r.extraData[f][e];if(d)for(var p in d)a[p]=u(u({},a[p]),{},o({},f,d[p]))}return function(t,e,n,r){var i=r.addSsrAttribute,a=t||{},o=a.attribute,s=a.ssrAttribute,u="";for(var c in n){var h=n[c],f=[];for(var d in h)f.push.apply(f,l([].concat(h[d])));f.length&&(u+=j.includes(c)&&f.some(Boolean)?"".concat(c):"".concat(c,'="').concat(f.join(" "),'"'),u+=" ")}return u&&(u+="".concat(o,'="').concat(encodeURI(JSON.stringify(n)),'"')),"htmlAttrs"===e&&i?"".concat(s).concat(u?" ":"").concat(u):u}(t,e,a,i)}var m=St(t,e,r.data[e],i);if(r.extraData)for(var g in r.extraData){var _=r.extraData[g][e],v=St(t,e,_,u({appId:g},i));m="".concat(m).concat(v)}return m}}};for(var a in b)i(a);return r}function Ct(t){t=t||{};var e=this.$root;return{getOptions:function(){return function(t){var e={};for(var n in t)e[n]=t[n];return e}(t)},setOptions:function(n){n&&n.refreshOnceOnNavigation&&(t.refreshOnceOnNavigation=!!n.refreshOnceOnNavigation,Q(e));if(n&&"debounceWait"in n){var r=parseInt(n.debounceWait);isNaN(r)||(t.debounceWait=r)}n&&"waitOnDestroyed"in n&&(t.waitOnDestroyed=!!n.waitOnDestroyed)},refresh:function(){return function(t,e){if(e=e||{},!t._vueMeta)return y(),{};var n=Tt(e,ct(e,t),at,t),r=yt(t._vueMeta.appId,e,n);r&&g(n.changed)&&(n.changed(n,r.tagsAdded,r.tagsRemoved),r={addedTags:r.tagsAdded,removedTags:r.tagsRemoved});var i=xt();if(i){for(var a in i)yt(a,e,i[a]),delete i[a];wt(!0)}return{vm:t,metaInfo:n,tags:r}}(e,t)},inject:function(n){return function(t,e,n){if(!t._vueMeta)return y(),{};var r=Et(e,Tt(e,ct(e,t),it,t),n),i=xt();if(i){for(var a in i)r.addInfo(a,i[a]),delete i[a];wt(!0)}return r.injectors}(e,t,n)},pause:function(){return K(e)},resume:function(){return J(e)},addApp:function(n){return bt(e,n,t)}}}var At={version:"2.4.0",install:function(t,e){t.__vuemeta_installed||(t.__vuemeta_installed=!0,e=nt(e),t.prototype.$meta=function(){return Ct.call(this,e)},t.mixin(et(t,e)))},generate:function(t,e){return function(t,e){return Et(e=nt(e),Tt(e,t,it)).injectors}(t,e)},hasMetaInfo:Z};e.a=At}).call(this,n("c8ba"))},"58e1":function(t,e){t.exports=function(t){this.ok=!1,this.alpha=1,"#"==t.charAt(0)&&(t=t.substr(1,6)),t=(t=t.replace(/ /g,"")).toLowerCase();var e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};t=e[t]||t;for(var n=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3]),parseFloat(t[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]}},{re:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#00ff00","336699"],process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,example:["#fb0","f0f"],process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,a=n[r].process,o=i.exec(t);if(o){var s=a(o);this.r=s[0],this.g=s[1],this.b=s[2],s.length>3&&(this.alpha=s[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var t=this.r.toString(16),e=this.g.toString(16),n=this.b.toString(16);return 1==t.length&&(t="0"+t),1==e.length&&(e="0"+e),1==n.length&&(n="0"+n),"#"+t+e+n},this.getHelpXML=function(){for(var t=new Array,r=0;r<n.length;r++)for(var i=n[r].example,a=0;a<i.length;a++)t[t.length]=i[a];for(var o in e)t[t.length]=o;var s=document.createElement("ul");s.setAttribute("id","rgbcolor-examples");for(r=0;r<t.length;r++)try{var u=document.createElement("li"),l=new RGBColor(t[r]),c=document.createElement("div");c.style.cssText="margin: 3px; border: 1px solid black; background:"+l.toHex()+"; color:"+l.toHex(),c.appendChild(document.createTextNode("test"));var h=document.createTextNode(" "+t[r]+" -> "+l.toRGB()+" -> "+l.toHex());u.appendChild(c),u.appendChild(h),s.appendChild(u)}catch(t){}return s}}},"597f":function(t,e){t.exports=function(t,e,n,r){var i,a=0;return"boolean"!=typeof e&&(r=n,n=e,e=void 0),function(){var o=this,s=Number(new Date)-a,u=arguments;function l(){a=Number(new Date),n.apply(o,u)}function c(){i=void 0}r&&!i&&l(),i&&clearTimeout(i),void 0===r&&s>t?l():!0!==e&&(i=setTimeout(r?c:l,void 0===r?t-s:t))}}},"5a0c":function(t,e,n){t.exports=function(){"use strict";var t="millisecond",e="second",n="minute",r="hour",i="day",a="week",o="month",s="quarter",u="year",l="date",c=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d+)?$/,h=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},d={s:f,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?"+":"-")+f(r,2,"0")+":"+f(i,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.add(r,o),a=n-i<0,s=e.add(r+(a?-1:1),o);return+(-(r+(n-i)/(a?i-s:s-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(c){return{M:o,y:u,w:a,d:i,D:l,h:r,m:n,s:e,ms:t,Q:s}[c]||String(c||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},p={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},m="en",g={};g[m]=p;var _=function(t){return t instanceof x},v=function(t,e,n){var r;if(!t)return m;if("string"==typeof t)g[t]&&(r=t),e&&(g[t]=e,r=t);else{var i=t.name;g[i]=t,r=i}return!n&&r&&(m=r),r||!n&&m},y=function(t,e){if(_(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new x(n)},b=d;b.l=v,b.i=_,b.w=function(t,e){return y(t,{locale:e.$L,utc:e.$u,$offset:e.$offset})};var x=function(){function f(t){this.$L=this.$L||v(t.locale,null,!0),this.parse(t)}var d=f.prototype;return d.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(b.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(c);if(r){var i=r[2]-1||0,a=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)}}return new Date(e)}(t),this.init()},d.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},d.$utils=function(){return b},d.isValid=function(){return!("Invalid Date"===this.$d.toString())},d.isSame=function(t,e){var n=y(t);return this.startOf(e)<=n&&n<=this.endOf(e)},d.isAfter=function(t,e){return y(t)<this.startOf(e)},d.isBefore=function(t,e){return this.endOf(e)<y(t)},d.$g=function(t,e,n){return b.u(t)?this[e]:this.set(n,t)},d.unix=function(){return Math.floor(this.valueOf()/1e3)},d.valueOf=function(){return this.$d.getTime()},d.startOf=function(t,s){var c=this,h=!!b.u(s)||s,f=b.p(t),d=function(t,e){var n=b.w(c.$u?Date.UTC(c.$y,e,t):new Date(c.$y,e,t),c);return h?n:n.endOf(i)},p=function(t,e){return b.w(c.toDate()[t].apply(c.toDate("s"),(h?[0,0,0,0]:[23,59,59,999]).slice(e)),c)},m=this.$W,g=this.$M,_=this.$D,v="set"+(this.$u?"UTC":"");switch(f){case u:return h?d(1,0):d(31,11);case o:return h?d(1,g):d(0,g+1);case a:var y=this.$locale().weekStart||0,x=(m<y?m+7:m)-y;return d(h?_-x:_+(6-x),g);case i:case l:return p(v+"Hours",0);case r:return p(v+"Minutes",1);case n:return p(v+"Seconds",2);case e:return p(v+"Milliseconds",3);default:return this.clone()}},d.endOf=function(t){return this.startOf(t,!1)},d.$set=function(a,s){var c,h=b.p(a),f="set"+(this.$u?"UTC":""),d=(c={},c[i]=f+"Date",c[l]=f+"Date",c[o]=f+"Month",c[u]=f+"FullYear",c[r]=f+"Hours",c[n]=f+"Minutes",c[e]=f+"Seconds",c[t]=f+"Milliseconds",c)[h],p=h===i?this.$D+(s-this.$W):s;if(h===o||h===u){var m=this.clone().set(l,1);m.$d[d](p),m.init(),this.$d=m.set(l,Math.min(this.$D,m.daysInMonth())).$d}else d&&this.$d[d](p);return this.init(),this},d.set=function(t,e){return this.clone().$set(t,e)},d.get=function(t){return this[b.p(t)]()},d.add=function(t,s){var l,c=this;t=Number(t);var h=b.p(s),f=function(e){var n=y(c);return b.w(n.date(n.date()+Math.round(e*t)),c)};if(h===o)return this.set(o,this.$M+t);if(h===u)return this.set(u,this.$y+t);if(h===i)return f(1);if(h===a)return f(7);var d=(l={},l[n]=6e4,l[r]=36e5,l[e]=1e3,l)[h]||1,p=this.$d.getTime()+t*d;return b.w(p,this)},d.subtract=function(t,e){return this.add(-1*t,e)},d.format=function(t){var e=this;if(!this.isValid())return"Invalid Date";var n=t||"YYYY-MM-DDTHH:mm:ssZ",r=b.z(this),i=this.$locale(),a=this.$H,o=this.$m,s=this.$M,u=i.weekdays,l=i.months,c=function(t,r,i,a){return t&&(t[r]||t(e,n))||i[r].substr(0,a)},f=function(t){return b.s(a%12||12,t,"0")},d=i.meridiem||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:b.s(s+1,2,"0"),MMM:c(i.monthsShort,s,l,3),MMMM:c(l,s),D:this.$D,DD:b.s(this.$D,2,"0"),d:String(this.$W),dd:c(i.weekdaysMin,this.$W,u,2),ddd:c(i.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(a),HH:b.s(a,2,"0"),h:f(1),hh:f(2),a:d(a,o,!0),A:d(a,o,!1),m:String(o),mm:b.s(o,2,"0"),s:String(this.$s),ss:b.s(this.$s,2,"0"),SSS:b.s(this.$ms,3,"0"),Z:r};return n.replace(h,(function(t,e){return e||p[t]||r.replace(":","")}))},d.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},d.diff=function(t,l,c){var h,f=b.p(l),d=y(t),p=6e4*(d.utcOffset()-this.utcOffset()),m=this-d,g=b.m(this,d);return g=(h={},h[u]=g/12,h[o]=g,h[s]=g/3,h[a]=(m-p)/6048e5,h[i]=(m-p)/864e5,h[r]=m/36e5,h[n]=m/6e4,h[e]=m/1e3,h)[f]||m,c?g:b.a(g)},d.daysInMonth=function(){return this.endOf(o).$D},d.$locale=function(){return g[this.$L]},d.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=v(t,e,!0);return r&&(n.$L=r),n},d.clone=function(){return b.w(this.$d,this)},d.toDate=function(){return new Date(this.valueOf())},d.toJSON=function(){return this.isValid()?this.toISOString():null},d.toISOString=function(){return this.$d.toISOString()},d.toString=function(){return this.$d.toUTCString()},f}(),w=x.prototype;return y.prototype=w,[["$ms",t],["$s",e],["$m",n],["$H",r],["$W",i],["$M",o],["$y",u],["$D",l]].forEach((function(t){w[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),y.extend=function(t,e){return t(e,x,y),y},y.locale=v,y.isDayjs=_,y.unix=function(t){return y(1e3*t)},y.en=g[m],y.Ls=g,y}()},"5a34":function(t,e,n){var r=n("44e7");t.exports=function(t){if(r(t))throw TypeError("The method doesn't accept regular expressions");return t}},"5a51":function(t,e,n){"use strict";n("a9e3"),n("b680");var r={mixins:[n("0b3d").a],inject:["prefix"],props:{color:{type:String,default:"#000000"},rgba:{type:Object,default:null},width:{type:Number,default:15},height:{type:Number,default:30}},data:function(){return{slideAlphaStyle:{},alphaSize:5,modelColor:(1*this.rgba.a).mul(100),prefix:this.prefix}},watch:{color:function(){this.renderColor()},"rgba.a":function(){this.modelColor=this.rgba.a.mul(100),this.renderSlide()}},mounted:function(){this.renderColor(),this.renderSlide()},methods:{change:function(t){var e=t.target.value;e>100&&(e=100),(e<0||"number"!=typeof(1*e)||isNaN(e))&&(e=0);var n=(1*e).div(100);this.modelColor=(1*e).div(1),this.$emit("selectAlpha",n)},renderColor:function(){var t=this.$refs.canvasAlpha,e=this.width,n=this.height,r=this.alphaSize,i=this.createAlphaSquare(r),a=t.getContext("2d");t.width=e,t.height=n,a.fillStyle=a.createPattern(i,"repeat"),a.fillRect(0,0,e,n),this.createLinearGradient("l",a,e,n,"rgba(255,255,255,0)",this.color)},renderSlide:function(){this.slideAlphaStyle={right:this.rgba.a*this.width-9+"px"}},selectAlpha:function(t){var e=this,n=this.$el.getBoundingClientRect().left,r=function(t){var r=t.clientX-n-64;r<0&&(r=0),r>e.width&&(r=e.width);var i=parseFloat(((e.width-r)/e.width).toFixed(2));e.$emit("selectAlpha",i)};r(t);document.addEventListener("mousemove",r),document.addEventListener("mouseup",(function t(){document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",t)}))}}},i=(n("036c"),n("2877")),a=Object(i.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.prefix+"-color-alpha-set"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.modelColor,expression:"modelColor"}],class:t.prefix+"-value",attrs:{type:"tel"},domProps:{value:t.modelColor},on:{input:[function(e){e.target.composing||(t.modelColor=e.target.value)},t.change]}}),n("div",{class:t.prefix+"-color-alpha",on:{mousedown:function(e){return e.preventDefault(),e.stopPropagation(),t.selectAlpha(e)}}},[n("canvas",{ref:"canvasAlpha",class:t.prefix+"-canvas2"}),n("div",{class:t.prefix+"-slide",style:t.slideAlphaStyle})])])}),[],!1,null,"f4a67f0a",null);e.a=a.exports},"5a59":function(t,e,n){},"5a94":function(t,e,n){var r=n("b367")("keys"),i=n("8b1a");t.exports=function(t){return r[t]||(r[t]=i(t))}},"5b42":function(t,e,n){n("a9e3"),n("d3b7"),n("ac1f"),n("25f0"),n("5319"),n("1276"),n("a9e3"),n("d3b7"),n("ac1f"),n("25f0"),n("5319"),n("1276");Number.prototype.div=function(t){return function(t,e){var n=0,r=0,i=t.toString(),a=e.toString();try{i.split(".")[1]&&(n=i.toString().split(".")[1].length)}catch(t){}try{a.split(".")[1]&&(r=a.toString().split(".")[1].length)}catch(t){}return Number(i.replace(".",""))/Number(a.replace(".",""))*Math.pow(10,r-n)}(this,t)},Number.prototype.mul=function(t){return function(t,e){var n=0,r=t.toString(),i=e.toString();try{r.split(".")[1]&&(n+=r.split(".")[1].length)}catch(t){}try{i.split(".")[1]&&(n+=i.split(".")[1].length)}catch(t){}return Number(r.replace(".",""))*Number(i.replace(".",""))/Math.pow(10,n)}(t,this)}},"5b63":function(t,e,n){"use strict";var r=n("36da");n.n(r).a},"5b66":function(t,e,n){var r;n("a4d3"),n("e01a"),n("944a"),n("99af"),n("c975"),n("a15b"),n("baa5"),n("fb6a"),n("45fc"),n("a434"),n("0c47"),n("23dc"),n("d3b7"),n("4d63"),n("ac1f"),n("25f0"),n("466d"),n("5319"),n("1276"),n("498a"),n("a4d3"),n("e01a"),n("944a"),n("99af"),n("c975"),n("a15b"),n("baa5"),n("fb6a"),n("45fc"),n("a434"),n("0c47"),n("23dc"),n("d3b7"),n("4d63"),n("ac1f"),n("25f0"),n("466d"),n("5319"),n("1276"),n("498a");var i,a=n("7037");i=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===a(t)&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=15)}([,,function(t,e,n){"use strict";function r(t){this.__parent=t,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function i(t,e){this.__cache=[""],this.__indent_size=t.indent_size,this.__indent_string=t.indent_char,t.indent_with_tabs||(this.__indent_string=new Array(t.indent_size+1).join(t.indent_char)),e=e||"",t.indent_level>0&&(e=new Array(t.indent_level+1).join(this.__indent_string)),this.__base_string=e,this.__base_string_length=e.length}function a(t,e){this.__indent_cache=new i(t,e),this.raw=!1,this._end_with_newline=t.end_with_newline,this.indent_size=t.indent_size,this.wrap_line_length=t.wrap_line_length,this.indent_empty_lines=t.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new r(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}r.prototype.clone_empty=function(){var t=new r(this.__parent);return t.set_indent(this.__indent_count,this.__alignment_count),t},r.prototype.item=function(t){return t<0?this.__items[this.__items.length+t]:this.__items[t]},r.prototype.has_match=function(t){for(var e=this.__items.length-1;e>=0;e--)if(this.__items[e].match(t))return!0;return!1},r.prototype.set_indent=function(t,e){this.is_empty()&&(this.__indent_count=t||0,this.__alignment_count=e||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},r.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},r.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},r.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var t=this.__parent.current_line;return t.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),t.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),t.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count," "===t.__items[0]&&(t.__items.splice(0,1),t.__character_count-=1),!0}return!1},r.prototype.is_empty=function(){return 0===this.__items.length},r.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},r.prototype.push=function(t){this.__items.push(t);var e=t.lastIndexOf("\n");-1!==e?this.__character_count=t.length-e:this.__character_count+=t.length},r.prototype.pop=function(){var t=null;return this.is_empty()||(t=this.__items.pop(),this.__character_count-=t.length),t},r.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},r.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},r.prototype.trim=function(){for(;" "===this.last();)this.__items.pop(),this.__character_count-=1},r.prototype.toString=function(){var t="";return this.is_empty()?this.__parent.indent_empty_lines&&(t=this.__parent.get_indent_string(this.__indent_count)):(t=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),t+=this.__items.join("")),t},i.prototype.get_indent_size=function(t,e){var n=this.__base_string_length;return e=e||0,t<0&&(n=0),n+=t*this.__indent_size,n+=e},i.prototype.get_indent_string=function(t,e){var n=this.__base_string;return e=e||0,t<0&&(t=0,n=""),e+=t*this.__indent_size,this.__ensure_cache(e),n+=this.__cache[e]},i.prototype.__ensure_cache=function(t){for(;t>=this.__cache.length;)this.__add_column()},i.prototype.__add_column=function(){var t=this.__cache.length,e=0,n="";this.__indent_size&&t>=this.__indent_size&&(t-=(e=Math.floor(t/this.__indent_size))*this.__indent_size,n=new Array(e+1).join(this.__indent_string)),t&&(n+=new Array(t+1).join(" ")),this.__cache.push(n)},a.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},a.prototype.get_line_number=function(){return this.__lines.length},a.prototype.get_indent_string=function(t,e){return this.__indent_cache.get_indent_string(t,e)},a.prototype.get_indent_size=function(t,e){return this.__indent_cache.get_indent_size(t,e)},a.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},a.prototype.add_new_line=function(t){return!(this.is_empty()||!t&&this.just_added_newline()||(this.raw||this.__add_outputline(),0))},a.prototype.get_code=function(t){this.trim(!0);var e=this.current_line.pop();e&&("\n"===e[e.length-1]&&(e=e.replace(/\n+$/g,"")),this.current_line.push(e)),this._end_with_newline&&this.__add_outputline();var n=this.__lines.join("\n");return"\n"!==t&&(n=n.replace(/[\n]/g,t)),n},a.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},a.prototype.set_indent=function(t,e){return t=t||0,e=e||0,this.next_line.set_indent(t,e),this.__lines.length>1?(this.current_line.set_indent(t,e),!0):(this.current_line.set_indent(),!1)},a.prototype.add_raw_token=function(t){for(var e=0;e<t.newlines;e++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(t.whitespace_before),this.current_line.push(t.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},a.prototype.add_token=function(t){this.__add_space_before_token(),this.current_line.push(t),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},a.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},a.prototype.remove_indent=function(t){for(var e=this.__lines.length;t<e;)this.__lines[t]._remove_indent(),t++;this.current_line._remove_wrap_indent()},a.prototype.trim=function(t){for(t=void 0!==t&&t,this.current_line.trim();t&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},a.prototype.just_added_newline=function(){return this.current_line.is_empty()},a.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},a.prototype.ensure_empty_line_above=function(t,e){for(var n=this.__lines.length-2;n>=0;){var i=this.__lines[n];if(i.is_empty())break;if(0!==i.item(0).indexOf(t)&&i.item(-1)!==e){this.__lines.splice(n+1,0,new r(this)),this.previous_line=this.__lines[this.__lines.length-2];break}n--}},t.exports.Output=a},,,,function(t,e,n){"use strict";function r(t,e){this.raw_options=i(t,e),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs","\t"===this.indent_char),this.indent_with_tabs&&(this.indent_char="\t",1===this.indent_size&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php"],["auto"])}function i(t,e){var n,r={};for(n in t=o(t))n!==e&&(r[n]=t[n]);if(e&&t[e])for(n in t[e])r[n]=t[e][n];return r}function o(t){var e,n={};for(e in t)n[e.replace(/-/g,"_")]=t[e];return n}r.prototype._get_array=function(t,e){var n=this.raw_options[t],r=e||[];return"object"===a(n)?null!==n&&"function"==typeof n.concat&&(r=n.concat()):"string"==typeof n&&(r=n.split(/[^a-zA-Z0-9_\/\-]+/)),r},r.prototype._get_boolean=function(t,e){var n=this.raw_options[t];return void 0===n?!!e:!!n},r.prototype._get_characters=function(t,e){var n=this.raw_options[t],r=e||"";return"string"==typeof n&&(r=n.replace(/\\r/,"\r").replace(/\\n/,"\n").replace(/\\t/,"\t")),r},r.prototype._get_number=function(t,e){var n=this.raw_options[t];e=parseInt(e,10),isNaN(e)&&(e=0);var r=parseInt(n,10);return isNaN(r)&&(r=e),r},r.prototype._get_selection=function(t,e,n){var r=this._get_selection_list(t,e,n);if(1!==r.length)throw new Error("Invalid Option Value: The option '"+t+"' can only be one of the following values:\n"+e+"\nYou passed in: '"+this.raw_options[t]+"'");return r[0]},r.prototype._get_selection_list=function(t,e,n){if(!e||0===e.length)throw new Error("Selection list cannot be empty.");if(n=n||[e[0]],!this._is_valid_selection(n,e))throw new Error("Invalid Default Value!");var r=this._get_array(t,n);if(!this._is_valid_selection(r,e))throw new Error("Invalid Option Value: The option '"+t+"' can contain only the following values:\n"+e+"\nYou passed in: '"+this.raw_options[t]+"'");return r},r.prototype._is_valid_selection=function(t,e){return t.length&&e.length&&!t.some((function(t){return-1===e.indexOf(t)}))},t.exports.Options=r,t.exports.normalizeOpts=o,t.exports.mergeOpts=i},,function(t,e,n){"use strict";var r=RegExp.prototype.hasOwnProperty("sticky");function i(t){this.__input=t||"",this.__input_length=this.__input.length,this.__position=0}i.prototype.restart=function(){this.__position=0},i.prototype.back=function(){this.__position>0&&(this.__position-=1)},i.prototype.hasNext=function(){return this.__position<this.__input_length},i.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__input.charAt(this.__position),this.__position+=1),t},i.prototype.peek=function(t){var e=null;return t=t||0,(t+=this.__position)>=0&&t<this.__input_length&&(e=this.__input.charAt(t)),e},i.prototype.__match=function(t,e){t.lastIndex=e;var n=t.exec(this.__input);return!n||r&&t.sticky||n.index!==e&&(n=null),n},i.prototype.test=function(t,e){return e=e||0,(e+=this.__position)>=0&&e<this.__input_length&&!!this.__match(t,e)},i.prototype.testChar=function(t,e){var n=this.peek(e);return t.lastIndex=0,null!==n&&t.test(n)},i.prototype.match=function(t){var e=this.__match(t,this.__position);return e?this.__position+=e[0].length:e=null,e},i.prototype.read=function(t,e,n){var r,i="";return t&&(r=this.match(t))&&(i+=r[0]),!e||!r&&t||(i+=this.readUntil(e,n)),i},i.prototype.readUntil=function(t,e){var n,r=this.__position;t.lastIndex=this.__position;var i=t.exec(this.__input);return i?(r=i.index,e&&(r+=i[0].length)):r=this.__input_length,n=this.__input.substring(this.__position,r),this.__position=r,n},i.prototype.readUntilAfter=function(t){return this.readUntil(t,!0)},i.prototype.get_regexp=function(t,e){var n=null,i="g";return e&&r&&(i="y"),"string"==typeof t&&""!==t?n=new RegExp(t,i):t&&(n=new RegExp(t.source,i)),n},i.prototype.get_literal_regexp=function(t){return RegExp(t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},i.prototype.peekUntilAfter=function(t){var e=this.__position,n=this.readUntilAfter(t);return this.__position=e,n},i.prototype.lookBack=function(t){var e=this.__position-1;return e>=t.length&&this.__input.substring(e-t.length,e).toLowerCase()===t},t.exports.InputScanner=i},,,,,function(t,e,n){"use strict";function r(t,e){t="string"==typeof t?t:t.source,e="string"==typeof e?e:e.source,this.__directives_block_pattern=new RegExp(t+/ beautify( \w+[:]\w+)+ /.source+e,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(t+/\sbeautify\signore:end\s/.source+e,"g")}r.prototype.get_directives=function(t){if(!t.match(this.__directives_block_pattern))return null;var e={};this.__directive_pattern.lastIndex=0;for(var n=this.__directive_pattern.exec(t);n;)e[n[1]]=n[2],n=this.__directive_pattern.exec(t);return e},r.prototype.readIgnored=function(t){return t.readUntilAfter(this.__directives_end_ignore_pattern)},t.exports.Directives=r},,function(t,e,n){"use strict";var r=n(16).Beautifier,i=n(17).Options;t.exports=function(t,e){return new r(t,e).beautify()},t.exports.defaultOptions=function(){return new i}},function(t,e,n){"use strict";var r=n(17).Options,i=n(2).Output,a=n(8).InputScanner,o=new(0,n(13).Directives)(/\/\*/,/\*\//),s=/\r\n|[\r\n]/,u=/\r\n|[\r\n]/g,l=/\s/,c=/(?:\s|\n)+/g,h=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g,f=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function d(t,e){this._source_text=t||"",this._options=new r(e),this._ch=null,this._input=null,this.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},this.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0}}d.prototype.eatString=function(t){var e="";for(this._ch=this._input.next();this._ch;){if(e+=this._ch,"\\"===this._ch)e+=this._input.next();else if(-1!==t.indexOf(this._ch)||"\n"===this._ch)break;this._ch=this._input.next()}return e},d.prototype.eatWhitespace=function(t){for(var e=l.test(this._input.peek()),n=!0;l.test(this._input.peek());)this._ch=this._input.next(),t&&"\n"===this._ch&&(this._options.preserve_newlines||n)&&(n=!1,this._output.add_new_line(!0));return e},d.prototype.foundNestedPseudoClass=function(){for(var t=0,e=1,n=this._input.peek(e);n;){if("{"===n)return!0;if("("===n)t+=1;else if(")"===n){if(0===t)return!1;t-=1}else if(";"===n||"}"===n)return!1;e++,n=this._input.peek(e)}return!1},d.prototype.print_string=function(t){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(t)},d.prototype.preserveSingleSpace=function(t){t&&(this._output.space_before_token=!0)},d.prototype.indent=function(){this._indentLevel++},d.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--},d.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t=this._source_text,e=this._options.eol;"auto"===e&&(e="\n",t&&s.test(t||"")&&(e=t.match(s)[0]));var n=(t=t.replace(u,"\n")).match(/^[\t ]*/)[0];this._output=new i(this._options,n),this._input=new a(t),this._indentLevel=0,this._nestedLevel=0,this._ch=null;for(var r,d,p=0,m=!1,g=!1,_=!1,v=!1,y=!1,b=this._ch;r=""!==this._input.read(c),d=b,this._ch=this._input.next(),"\\"===this._ch&&this._input.hasNext()&&(this._ch+=this._input.next()),b=this._ch,this._ch;)if("/"===this._ch&&"*"===this._input.peek()){this._output.add_new_line(),this._input.back();var x=this._input.read(h),w=o.get_directives(x);w&&"start"===w.ignore&&(x+=o.readIgnored(this._input)),this.print_string(x),this.eatWhitespace(!0),this._output.add_new_line()}else if("/"===this._ch&&"/"===this._input.peek())this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(f)),this.eatWhitespace(!0);else if("@"===this._ch)if(this.preserveSingleSpace(r),"{"===this._input.peek())this.print_string(this._ch+this.eatString("}"));else{this.print_string(this._ch);var T=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);T.match(/[ :]$/)&&(T=this.eatString(": ").replace(/\s$/,""),this.print_string(T),this._output.space_before_token=!0),"extend"===(T=T.replace(/\s$/,""))?v=!0:"import"===T&&(y=!0),T in this.NESTED_AT_RULE?(this._nestedLevel+=1,T in this.CONDITIONAL_GROUP_RULE&&(_=!0)):m||0!==p||-1===T.indexOf(":")||(g=!0,this.indent())}else"#"===this._ch&&"{"===this._input.peek()?(this.preserveSingleSpace(r),this.print_string(this._ch+this.eatString("}"))):"{"===this._ch?(g&&(g=!1,this.outdent()),this.indent(),this._output.space_before_token=!0,this.print_string(this._ch),_?(_=!1,m=this._indentLevel>this._nestedLevel):m=this._indentLevel>=this._nestedLevel,this._options.newline_between_rules&&m&&this._output.previous_line&&"{"!==this._output.previous_line.item(-1)&&this._output.ensure_empty_line_above("/",","),this.eatWhitespace(!0),this._output.add_new_line()):"}"===this._ch?(this.outdent(),this._output.add_new_line(),"{"===d&&this._output.trim(!0),y=!1,v=!1,g&&(this.outdent(),g=!1),this.print_string(this._ch),m=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&"}"!==this._input.peek()&&this._output.add_new_line(!0)):":"===this._ch?!m&&!_||this._input.lookBack("&")||this.foundNestedPseudoClass()||this._input.lookBack("(")||v||0!==p?(this._input.lookBack(" ")&&(this._output.space_before_token=!0),":"===this._input.peek()?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":")):(this.print_string(":"),g||(g=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent())):'"'===this._ch||"'"===this._ch?(this.preserveSingleSpace(r),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)):";"===this._ch?0===p?(g&&(this.outdent(),g=!1),v=!1,y=!1,this.print_string(this._ch),this.eatWhitespace(!0),"/"!==this._input.peek()&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0):"("===this._ch?this._input.lookBack("url")?(this.print_string(this._ch),this.eatWhitespace(),p++,this.indent(),this._ch=this._input.next(),")"===this._ch||'"'===this._ch||"'"===this._ch?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),p&&(p--,this.outdent()))):(this.preserveSingleSpace(r),this.print_string(this._ch),this.eatWhitespace(),p++,this.indent()):")"===this._ch?(p&&(p--,this.outdent()),this.print_string(this._ch)):","===this._ch?(this.print_string(this._ch),this.eatWhitespace(!0),!this._options.selector_separator_newline||g||0!==p||y?this._output.space_before_token=!0:this._output.add_new_line()):">"!==this._ch&&"+"!==this._ch&&"~"!==this._ch||g||0!==p?"]"===this._ch?this.print_string(this._ch):"["===this._ch?(this.preserveSingleSpace(r),this.print_string(this._ch)):"="===this._ch?(this.eatWhitespace(),this.print_string("="),l.test(this._ch)&&(this._ch="")):"!"!==this._ch||this._input.lookBack("\\")?(this.preserveSingleSpace(r),this.print_string(this._ch)):(this.print_string(" "),this.print_string(this._ch)):this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&l.test(this._ch)&&(this._ch=""));return this._output.get_code(e)},t.exports.Beautifier=d},function(t,e,n){"use strict";var r=n(6).Options;function i(t){r.call(this,t,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var e=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||e}i.prototype=new r,t.exports.Options=i}]),void 0===(r=function(){return{css_beautify:i}}.apply(e,[]))||(t.exports=r)},"5bf7":function(t,e,n){"use strict";var r=n("23e7"),i=n("83ab"),a=n("eb1d"),o=n("7b0b"),s=n("c04e"),u=n("e163"),l=n("06cf").f;i&&r({target:"Object",proto:!0,forced:a},{__lookupSetter__:function(t){var e,n=o(this),r=s(t,!0);do{if(e=l(n,r))return e.set}while(n=u(n))}})},"5c6c":function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"5cc6":function(t,e,n){n("74e8")("Uint8",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},"5d41":function(t,e,n){var r=n("23e7"),i=n("861d"),a=n("825a"),o=n("5135"),s=n("06cf"),u=n("e163");r({target:"Reflect",stat:!0},{get:function t(e,n){var r,l,c=arguments.length<3?e:arguments[2];return a(e)===c?e[n]:(r=s.f(e,n))?o(r,"value")?r.value:void 0===r.get?void 0:r.get.call(c):i(l=u(e))?t(l,n,c):void 0}})},"5d91":function(t,e,n){n("a4d3"),n("b636"),n("e01a"),n("dc8d"),n("efe9"),n("d28b"),n("2a1b"),n("8edd"),n("80e0"),n("6b9e"),n("197b"),n("2351"),n("8172"),n("944a"),n("81b8"),n("cca6"),n("b8bf"),n("7a82"),n("1d1c"),n("4fad"),n("dca8"),n("c1f9"),n("e439"),n("dbb4"),n("7039"),n("3410"),n("2b19"),n("c906"),n("e21d"),n("e43e"),n("b64b"),n("cee8"),n("af93"),n("131a"),n("07ac"),n("d3b7"),n("12a8"),n("e71b"),n("bf96"),n("5bf7"),n("c0b6"),n("b0c0"),n("b56e"),n("6c57"),n("a630"),n("277d"),n("5ded"),n("99af"),n("a874"),n("a623"),n("cb29"),n("4de4"),n("7db0"),n("c740"),n("0481"),n("5db7"),n("4160"),n("caad"),n("c975"),n("a15b"),n("baa5"),n("d81d"),n("13d5"),n("f4dd"),n("26e9"),n("fb6a"),n("45fc"),n("4e82"),n("a434"),n("f785"),n("4069"),n("73d9"),n("e260"),n("f6d6"),n("d80f"),n("f5b2"),n("8a79"),n("2532"),n("466d"),n("a1f0"),n("843c"),n("4d90"),n("38cf"),n("5319"),n("841c"),n("1276"),n("2ca0"),n("498a"),n("eee7"),n("1e25"),n("3ca3"),n("18a5"),n("1393"),n("04d3"),n("cc71"),n("c7cd"),n("9767"),n("1913"),n("c5d0"),n("9911"),n("c96a"),n("2315"),n("4c53"),n("664f"),n("4d63"),n("ac1f"),n("5377"),n("2c3e"),n("00b4"),n("25f0"),n("e25e"),n("acd8"),n("a9e3"),n("35b3"),n("f00c"),n("8ba4"),n("9129"),n("583b"),n("aff5"),n("e6e1"),n("c35a"),n("25eb"),n("b680"),n("542d"),n("5327"),n("79a8"),n("9ff9"),n("3ea3"),n("40d9"),n("ff9c"),n("0ac8"),n("f664"),n("4057"),n("bc01"),n("6b93"),n("ca21"),n("90d7"),n("2af1"),n("0261"),n("7898"),n("23dc"),n("b65f"),n("6eba"),n("f4b3"),n("accc"),n("0d03"),n("efec"),n("e9c4"),n("0c47"),n("e6cf"),n("820e"),n("a79d"),n("4ec9"),n("6062"),n("10d1"),n("1fe2"),n("c19f"),n("82da"),n("ace4"),n("b420"),n("fd87"),n("5cc6"),n("8a59"),n("8b09"),n("84c3"),n("143c"),n("fb2c"),n("cfc3"),n("4a9b"),n("20bf"),n("ec97"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("a6fd"),n("4ae1"),n("3f3a"),n("ac16"),n("5d41"),n("9e4a"),n("7f78"),n("c760"),n("db96"),n("1bf2"),n("d6dd"),n("7ed3"),n("8b9a");var r=n("428f");t.exports=r},"5db2":function(t,e,n){},"5db7":function(t,e,n){"use strict";var r=n("23e7"),i=n("a2bf"),a=n("7b0b"),o=n("50c4"),s=n("1c0b"),u=n("65f0");r({target:"Array",proto:!0},{flatMap:function(t){var e,n=a(this),r=o(n.length);return s(t),(e=u(n,0)).length=i(e,n,n,r,0,1,t,arguments.length>1?arguments[1]:void 0),e}})},"5ded":function(t,e,n){"use strict";var r=n("23e7"),i=n("d039"),a=n("8418");r({target:"Array",stat:!0,forced:i((function(){function t(){}return!(Array.of.call(t)instanceof t)}))},{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)a(n,t,arguments[t++]);return n.length=e,n}})},"5e89":function(t,e,n){var r=n("861d"),i=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&i(t)===t}},"5f96":function(t,e,n){"use strict";var r=n("ebb5"),i=r.aTypedArray,a=r.exportTypedArrayMethod,o=[].join;a("join",(function(t){return o.apply(i(this),arguments)}))},"5fb2":function(t,e,n){"use strict";var r=/[^\0-\u007E]/,i=/[.\u3002\uFF0E\uFF61]/g,a="Overflow: input needs wider integers to process",o=Math.floor,s=String.fromCharCode,u=function(t){return t+22+75*(t<26)},l=function(t,e,n){var r=0;for(t=n?o(t/700):t>>1,t+=o(t/e);t>455;r+=36)t=o(t/35);return o(r+36*t/(t+38))},c=function(t){var e,n,r=[],i=(t=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=t.charCodeAt(n++);56320==(64512&a)?e.push(((1023&i)<<10)+(1023&a)+65536):(e.push(i),n--)}else e.push(i)}return e}(t)).length,c=128,h=0,f=72;for(e=0;e<t.length;e++)(n=t[e])<128&&r.push(s(n));var d=r.length,p=d;for(d&&r.push("-");p<i;){var m=2147483647;for(e=0;e<t.length;e++)(n=t[e])>=c&&n<m&&(m=n);var g=p+1;if(m-c>o((2147483647-h)/g))throw RangeError(a);for(h+=(m-c)*g,c=m,e=0;e<t.length;e++){if((n=t[e])<c&&++h>2147483647)throw RangeError(a);if(n==c){for(var _=h,v=36;;v+=36){var y=v<=f?1:v>=f+26?26:v-f;if(_<y)break;var b=_-y,x=36-y;r.push(s(u(y+b%x))),_=o(b/x)}r.push(s(u(_))),f=l(h,g,p==d),h=0,++p}}++h,++c}return r.join("")};t.exports=function(t){var e,n,a=[],o=t.toLowerCase().replace(i,".").split(".");for(e=0;e<o.length;e++)n=o[e],a.push(r.test(n)?"xn--"+c(n):n);return a.join(".")}},6062:function(t,e,n){"use strict";var r=n("6d61"),i=n("6566");t.exports=r("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),i)},"60bd":function(t,e,n){"use strict";var r=n("da84"),i=n("ebb5"),a=n("e260"),o=n("b622")("iterator"),s=r.Uint8Array,u=a.values,l=a.keys,c=a.entries,h=i.aTypedArray,f=i.exportTypedArrayMethod,d=s&&s.prototype[o],p=!!d&&("values"==d.name||null==d.name),m=function(){return u.call(h(this))};f("entries",(function(){return c.call(h(this))})),f("keys",(function(){return l.call(h(this))})),f("values",m,!p),f(o,m,!p)},"60da":function(t,e,n){"use strict";var r=n("83ab"),i=n("d039"),a=n("df75"),o=n("7418"),s=n("d1e7"),u=n("7b0b"),l=n("44ad"),c=Object.assign,h=Object.defineProperty;t.exports=!c||i((function(){if(r&&1!==c({b:1},c(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=c({},t)[n]||"abcdefghijklmnopqrst"!=a(c({},e)).join("")}))?function(t,e){for(var n=u(t),i=arguments.length,c=1,h=o.f,f=s.f;i>c;)for(var d,p=l(arguments[c++]),m=h?a(p).concat(h(p)):a(p),g=m.length,_=0;g>_;)d=m[_++],r&&!f.call(p,d)||(n[d]=p[d]);return n}:c},"61c0":function(t,e,n){for(var r=n("294a"),i=n("906f"),a=/t\:\S*,dt\:\S*/g,o=["y","M","w","d","h","m","s","ms"],s=[],u=0;u<o.length;u++){var l=o[u];s.push(_(l).canon)}var c=["y","M","d","h","m","s"],h=[365,30,24,60,60],f=["-","-"," ",":",":",""];function d(t){for(var e="t:",n=",dt:",r=0;r<o.length;r++){var i=o[r];null!=t.t[i]&&(e+=t.t[i]+i),null!=t.dt[i]&&(n+=t.dt[i]+i)}return e+n}function p(t,e){for(var n=!1,r=0;r<t.length;r++)if(m(t[r],e)){n=!0;break}return n}function m(t,e){return r.includes(e,y(t))}function g(t){var e=r.find(c,(function(e){return t.t[e]}));return null==e&&(e=r.find(c,(function(e){return t.dt[e]}))),e}function _(t){for(var e={},n=null,a=null,o=t="M"==t?t:t.toLowerCase(),s=r.keys(i),u=0;u<s.length;u++){for(var l=i[s[u]],c=r.keys(l),h=0;h<c.length;h++){var f=l[c[h]];if(r.includes(f,t)){o=f[0],a=c[h];break}}if(null!=a){n=s[u];break}}return e.name=n,e.value=a,e.canon=o,e}function v(t){return w(x(null==t?new Date:t))}function y(t){return t?t.constructor.name:null}function b(t){if(!t.match(a))return null;var e={y:(/(\d+(\.\d+)?)y/.exec(t)||[])[1],M:(/(\d+(\.\d+)?)M/.exec(t)||[])[1],w:(/(\d+(\.\d+)?)w/.exec(t)||[])[1],d:(/(\d+(\.\d+)?)d/.exec(t)||[])[1],h:(/(\d+(\.\d+)?)h/.exec(t)||[])[1],m:(/(\d+(\.\d+)?)m/.exec(t)||[])[1],s:(/(\d+(\.\d+)?)s/.exec(t)||[])[1]};e=function(t){return t=function(t){for(var e=c.slice().reverse(),n=h.slice().reverse(),r=0,i=0;i<e.length;i++){var a=e[i];if(null!=t[a]||0!=r){if(t[a]=parseFloat(t[a]||"0")+r,i==e.length-1)break;var o=parseInt(parseFloat(t[a]||"0")/n[i]);o>0?(r=o,t[a]=parseFloat(t[a]||"0")%n[i]):r=0}}return t}(t=function(t){for(var e=c,n=h,r=0,i=0;i<e.length;i++){var a=e[i];if(null!=t[a]||0!=r){if(t[a]=parseFloat(t[a]||"0")+r,i==e.length-1)break;var o=parseFloat(t[a]||"0")-parseInt(t[a]||"0");o>0?(r=o*n[i],t[a]=parseInt(t[a])):r=0}}return t}(t=function(t){var e=parseFloat(t.w||"0"),n=parseFloat(t.d||"0");return t.d=n+7*e,delete t.w,t}(t)))}(e);for(var n=[],r=0;r<c.length;r++){var i=c[r];n.push(e[i])}return n}function x(t){"string"==typeof t&&(t=new Date(t));var e=[t.getFullYear(),t.getMonth()+1,t.getDate()].join("-");return _time=/(\d\S+)/.exec(t.toTimeString())[1],format=e+" "+_time,format}function w(t){var e=t.split(" "),n=e[0].split("-"),r=e[1].split(":");return"t:"+n[0]+"y"+n[1]+"M"+n[2]+"d"+r[0]+"h"+r[1]+"m"+r[2]+"s,dt:"}t.exports={TtoStdT:function(t,e){"string"!=typeof t&&(t=d(t));for(var n=b(v(e)),r=b(t),i=[],a=0;a<n.length;a++){var o=parseFloat(r[a]);Number.isNaN(o)&&(o=parseFloat(n[a])),i.push(o)}var s="";for(a=0;a<f.length;a++){var u=i[a].toString(),l=/(\d+)(\.\d+)?/.exec(u)[1],c=/(\d+)\.?(\d+)?/.exec(u)[2];if(1==l.length&&(u="0"+u),null!=c)for(var h=0;h<3-c.length;h++)u+="0";s+=u+f[a]}return s},TtoStr:d,delimSyms:function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t[r];null==i?n++:(n>2&&e.push("trinull"),e.push(i),n=0)}return e},hasSym:p,has_dt:function(t){return r.keys(t.dt).length>0},has_pureTimeUnit:function(t){var e=t.dt,n=t.t,i=!0;for(var a in e)if(!r.includes(o,a)){i=!1;break}for(var a in n)if(!r.includes(o,a)){i=!1;break}return i},has_t:function(t){return r.keys(t.t).length>0},highestOverride:function(t){for(var e=null,n=0;n<c.length;n++){var r=c[n];if(/^=/.exec(t[r])){e=r;break}}return e},isSym:m,largestUnit:g,lemma:_,nextLargestUnit:function(t){var e=g(t);return c[c.indexOf(e)-1]},nowT:v,opType:function(t,e,n){var r=y(t)||"",i=y(n)||"",a=y(e);"o"!=a&&"r"!=a&&"c"!=a&&(a="");return r+a+i},orderChunks:function(t){var e=t.filter((function(t){return!p(t,["T"])})),n=t.filter((function(t){return p(t,["T"])})),r=e.sort((function(t,e){return t.length-e.length})),i=n.sort((function(t,e){return t.length-e.length}));return r.concat(i)},removeTnPlus:function(t){for(var e=0;e<t.length;e++){var n=t[e];m(n,["op"])&&"plus"==n.value&&m(t[e+1],["n"])&&t.splice(e,1)}return t},reT:a,sName:y,splitByArr:function(t,e){for(var n=0;n<e.length;n++){var r=e[n];t=t.replace(r,"#{REPLACE}")}return t.split("#{REPLACE}")},splitSyms:function(t,e){for(var n=[],r=[],i=0;i<t.length;i++){var a=t[i];a==e||y(a)==e?(n.push(r),r=[]):i==t.length-1?(r.push(a),n.push(r)):r.push(a)}return n},splitT:b,stdT:x,stdTdelim:f,stdTtoT:w,tOrdering:c,timeUnitOrder:o,canonTimeUnitOrder:s,tokenToStr:function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n].token);return e.join(" ")},unparsedStr:function(t,e){for(var n=t.split(/\s+/),r=[],i=0;i<e.length;i++)null==e[i]&&r.push(n[i]);return r.join(" ")}}},"620a":function(t,e,n){"use strict";(function(t){var r,i=n("3db9"),a={supportWebGL:function(){if(null==r)try{var t=document.createElement("canvas");if(!(t.getContext("webgl")||t.getContext("experimental-webgl")))throw new Error}catch(t){r=!1}return r}};a.Int8Array="undefined"==typeof Int8Array?Array:Int8Array,a.Uint8Array="undefined"==typeof Uint8Array?Array:Uint8Array,a.Uint16Array="undefined"==typeof Uint16Array?Array:Uint16Array,a.Uint32Array="undefined"==typeof Uint32Array?Array:Uint32Array,a.Int16Array="undefined"==typeof Int16Array?Array:Int16Array,a.Float32Array="undefined"==typeof Float32Array?Array:Float32Array,a.Float64Array="undefined"==typeof Float64Array?Array:Float64Array;var o={};"undefined"!=typeof window?o=window:void 0!==t&&(o=t),a.requestAnimationFrame=o.requestAnimationFrame||o.msRequestAnimationFrame||o.mozRequestAnimationFrame||o.webkitRequestAnimationFrame||function(t){setTimeout(t,16)},a.createCanvas=function(){return document.createElement("canvas")},a.createImage=function(){return new o.Image},a.request={get:i.a.get},a.addEventListener=function(t,e,n,r){t.addEventListener(e,n,r)},a.removeEventListener=function(t,e,n){t.removeEventListener(e,n)},e.a=a}).call(this,n("c8ba"))},"621a":function(t,e,n){"use strict";var r=n("da84"),i=n("83ab"),a=n("a981"),o=n("9112"),s=n("e2cc"),u=n("d039"),l=n("19aa"),c=n("a691"),h=n("50c4"),f=n("0b25"),d=n("77a7"),p=n("e163"),m=n("d2bb"),g=n("241c").f,_=n("9bf2").f,v=n("81d5"),y=n("d44e"),b=n("69f3"),x=b.get,w=b.set,T=r.ArrayBuffer,S=T,E=r.DataView,C=E&&E.prototype,A=Object.prototype,M=r.RangeError,O=d.pack,D=d.unpack,N=function(t){return[255&t]},I=function(t){return[255&t,t>>8&255]},P=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},L=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},R=function(t){return O(t,23,4)},k=function(t){return O(t,52,8)},B=function(t,e){_(t.prototype,e,{get:function(){return x(this)[e]}})},F=function(t,e,n,r){var i=f(n),a=x(t);if(i+e>a.byteLength)throw M("Wrong index");var o=x(a.buffer).bytes,s=i+a.byteOffset,u=o.slice(s,s+e);return r?u:u.reverse()},z=function(t,e,n,r,i,a){var o=f(n),s=x(t);if(o+e>s.byteLength)throw M("Wrong index");for(var u=x(s.buffer).bytes,l=o+s.byteOffset,c=r(+i),h=0;h<e;h++)u[l+h]=c[a?h:e-h-1]};if(a){if(!u((function(){T(1)}))||!u((function(){new T(-1)}))||u((function(){return new T,new T(1.5),new T(NaN),"ArrayBuffer"!=T.name}))){for(var j,U=(S=function(t){return l(this,S),new T(f(t))}).prototype=T.prototype,H=g(T),V=0;H.length>V;)(j=H[V++])in S||o(S,j,T[j]);U.constructor=S}m&&p(C)!==A&&m(C,A);var G=new E(new S(2)),W=C.setInt8;G.setInt8(0,2147483648),G.setInt8(1,2147483649),!G.getInt8(0)&&G.getInt8(1)||s(C,{setInt8:function(t,e){W.call(this,t,e<<24>>24)},setUint8:function(t,e){W.call(this,t,e<<24>>24)}},{unsafe:!0})}else S=function(t){l(this,S,"ArrayBuffer");var e=f(t);w(this,{bytes:v.call(new Array(e),0),byteLength:e}),i||(this.byteLength=e)},E=function(t,e,n){l(this,E,"DataView"),l(t,S,"DataView");var r=x(t).byteLength,a=c(e);if(a<0||a>r)throw M("Wrong offset");if(a+(n=void 0===n?r-a:h(n))>r)throw M("Wrong length");w(this,{buffer:t,byteLength:n,byteOffset:a}),i||(this.buffer=t,this.byteLength=n,this.byteOffset=a)},i&&(B(S,"byteLength"),B(E,"buffer"),B(E,"byteLength"),B(E,"byteOffset")),s(E.prototype,{getInt8:function(t){return F(this,1,t)[0]<<24>>24},getUint8:function(t){return F(this,1,t)[0]},getInt16:function(t){var e=F(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=F(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return L(F(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return L(F(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return D(F(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return D(F(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){z(this,1,t,N,e)},setUint8:function(t,e){z(this,1,t,N,e)},setInt16:function(t,e){z(this,2,t,I,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){z(this,2,t,I,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){z(this,4,t,P,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){z(this,4,t,P,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){z(this,4,t,R,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){z(this,8,t,k,e,arguments.length>2?arguments[2]:void 0)}});y(S,"ArrayBuffer"),y(E,"DataView"),t.exports={ArrayBuffer:S,DataView:E}},6253:function(t,e,n){"use strict";var r=n("8286");n.n(r).a},"62e2":function(t,e,n){},"62e4":function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},6438:function(t,e,n){var r=n("03d6"),i=n("9742").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},"649e":function(t,e,n){"use strict";var r=n("ebb5"),i=n("b727").some,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("some",(function(t){return i(a(this),t,arguments.length>1?arguments[1]:void 0)}))},"64e5":function(t,e,n){"use strict";var r=n("d039"),i=n("0ccb").start,a=Math.abs,o=Date.prototype,s=o.getTime,u=o.toISOString;t.exports=r((function(){return"0385-07-25T07:06:39.999Z"!=u.call(new Date(-50000000000001))}))||!r((function(){u.call(new Date(NaN))}))?function(){if(!isFinite(s.call(this)))throw RangeError("Invalid time value");var t=this.getUTCFullYear(),e=this.getUTCMilliseconds(),n=t<0?"-":t>9999?"+":"";return n+i(a(t),n?6:4,0)+"-"+i(this.getUTCMonth()+1,2,0)+"-"+i(this.getUTCDate(),2,0)+"T"+i(this.getUTCHours(),2,0)+":"+i(this.getUTCMinutes(),2,0)+":"+i(this.getUTCSeconds(),2,0)+"."+i(e,3,0)+"Z"}:u},6547:function(t,e,n){var r=n("a691"),i=n("1d80"),a=function(t){return function(e,n){var a,o,s=String(i(e)),u=r(n),l=s.length;return u<0||u>=l?t?"":void 0:(a=s.charCodeAt(u))<55296||a>56319||u+1===l||(o=s.charCodeAt(u+1))<56320||o>57343?t?s.charAt(u):a:t?s.slice(u,u+2):o-56320+(a-55296<<10)+65536}};t.exports={codeAt:a(!1),charAt:a(!0)}},6566:function(t,e,n){"use strict";var r=n("9bf2").f,i=n("7c73"),a=n("e2cc"),o=n("0366"),s=n("19aa"),u=n("2266"),l=n("7dd0"),c=n("2626"),h=n("83ab"),f=n("f183").fastKey,d=n("69f3"),p=d.set,m=d.getterFor;t.exports={getConstructor:function(t,e,n,l){var c=t((function(t,r){s(t,c,e),p(t,{type:e,index:i(null),first:void 0,last:void 0,size:0}),h||(t.size=0),null!=r&&u(r,t[l],t,n)})),d=m(e),g=function(t,e,n){var r,i,a=d(t),o=_(t,e);return o?o.value=n:(a.last=o={index:i=f(e,!0),key:e,value:n,previous:r=a.last,next:void 0,removed:!1},a.first||(a.first=o),r&&(r.next=o),h?a.size++:t.size++,"F"!==i&&(a.index[i]=o)),t},_=function(t,e){var n,r=d(t),i=f(e);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==e)return n};return a(c.prototype,{clear:function(){for(var t=d(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,h?t.size=0:this.size=0},delete:function(t){var e=d(this),n=_(this,t);if(n){var r=n.next,i=n.previous;delete e.index[n.index],n.removed=!0,i&&(i.next=r),r&&(r.previous=i),e.first==n&&(e.first=r),e.last==n&&(e.last=i),h?e.size--:this.size--}return!!n},forEach:function(t){for(var e,n=d(this),r=o(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!_(this,t)}}),a(c.prototype,n?{get:function(t){var e=_(this,t);return e&&e.value},set:function(t,e){return g(this,0===t?0:t,e)}}:{add:function(t){return g(this,t=0===t?0:t,t)}}),h&&r(c.prototype,"size",{get:function(){return d(this).size}}),c},setStrong:function(t,e,n){var r=e+" Iterator",i=m(e),a=m(r);l(t,e,(function(t,e){p(this,{type:r,target:t,state:i(t),kind:e,last:void 0})}),(function(){for(var t=a(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),c(e)}}},"658f":function(t,e,n){n("6858");for(var r=n("ef08"),i=n("051b"),a=n("8a0d"),o=n("cc15")("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var l=s[u],c=r[l],h=c&&c.prototype;h&&!h[o]&&i(h,o,l),a[l]=a.Array}},"65f0":function(t,e,n){var r=n("861d"),i=n("e8b5"),a=n("b622")("species");t.exports=function(t,e){var n;return i(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[a])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},"664f":function(t,e,n){"use strict";var r=n("23e7"),i=n("857a");r({target:"String",proto:!0,forced:n("af03")("sup")},{sup:function(){return i(this,"sup","","")}})},6858:function(t,e,n){"use strict";var r=n("2f9a"),i=n("ea34"),a=n("8a0d"),o=n("6ca1");t.exports=n("393a")(Array,"Array",(function(t,e){this._t=o(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},"693d":function(t,e,n){"use strict";var r=n("ef08"),i=n("9c0e"),a=n("0bad"),o=n("512c"),s=n("ba01"),u=n("e34a").KEY,l=n("4b8b"),c=n("b367"),h=n("92f0"),f=n("8b1a"),d=n("cc15"),p=n("fcd4"),m=n("e198"),g=n("0ae2"),_=n("4ebc"),v=n("77e9"),y=n("7a41"),b=n("0983"),x=n("6ca1"),w=n("3397"),T=n("10db"),S=n("6f4f"),E=n("1836"),C=n("4d20"),A=n("fed5"),M=n("1a14"),O=n("9876"),D=C.f,N=M.f,I=E.f,P=r.Symbol,L=r.JSON,R=L&&L.stringify,k=d("_hidden"),B=d("toPrimitive"),F={}.propertyIsEnumerable,z=c("symbol-registry"),j=c("symbols"),U=c("op-symbols"),H=Object.prototype,V="function"==typeof P&&!!A.f,G=r.QObject,W=!G||!G.prototype||!G.prototype.findChild,$=a&&l((function(){return 7!=S(N({},"a",{get:function(){return N(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=D(H,e);r&&delete H[e],N(t,e,n),r&&t!==H&&N(H,e,r)}:N,X=function(t){var e=j[t]=S(P.prototype);return e._k=t,e},q=V&&"symbol"==typeof P.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof P},Y=function(t,e,n){return t===H&&Y(U,e,n),v(t),e=w(e,!0),v(n),i(j,e)?(n.enumerable?(i(t,k)&&t[k][e]&&(t[k][e]=!1),n=S(n,{enumerable:T(0,!1)})):(i(t,k)||N(t,k,T(1,{})),t[k][e]=!0),$(t,e,n)):N(t,e,n)},Z=function(t,e){v(t);for(var n,r=g(e=x(e)),i=0,a=r.length;a>i;)Y(t,n=r[i++],e[n]);return t},K=function(t){var e=F.call(this,t=w(t,!0));return!(this===H&&i(j,t)&&!i(U,t))&&(!(e||!i(this,t)||!i(j,t)||i(this,k)&&this[k][t])||e)},J=function(t,e){if(t=x(t),e=w(e,!0),t!==H||!i(j,e)||i(U,e)){var n=D(t,e);return!n||!i(j,e)||i(t,k)&&t[k][e]||(n.enumerable=!0),n}},Q=function(t){for(var e,n=I(x(t)),r=[],a=0;n.length>a;)i(j,e=n[a++])||e==k||e==u||r.push(e);return r},tt=function(t){for(var e,n=t===H,r=I(n?U:x(t)),a=[],o=0;r.length>o;)!i(j,e=r[o++])||n&&!i(H,e)||a.push(j[e]);return a};V||(s((P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(n){this===H&&e.call(U,n),i(this,k)&&i(this[k],t)&&(this[k][t]=!1),$(this,t,T(1,n))};return a&&W&&$(H,t,{configurable:!0,set:e}),X(t)}).prototype,"toString",(function(){return this._k})),C.f=J,M.f=Y,n("6438").f=E.f=Q,n("1917").f=K,A.f=tt,a&&!n("e444")&&s(H,"propertyIsEnumerable",K,!0),p.f=function(t){return X(d(t))}),o(o.G+o.W+o.F*!V,{Symbol:P});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)d(et[nt++]);for(var rt=O(d.store),it=0;rt.length>it;)m(rt[it++]);o(o.S+o.F*!V,"Symbol",{for:function(t){return i(z,t+="")?z[t]:z[t]=P(t)},keyFor:function(t){if(!q(t))throw TypeError(t+" is not a symbol!");for(var e in z)if(z[e]===t)return e},useSetter:function(){W=!0},useSimple:function(){W=!1}}),o(o.S+o.F*!V,"Object",{create:function(t,e){return void 0===e?S(t):Z(S(t),e)},defineProperty:Y,defineProperties:Z,getOwnPropertyDescriptor:J,getOwnPropertyNames:Q,getOwnPropertySymbols:tt});var at=l((function(){A.f(1)}));o(o.S+o.F*at,"Object",{getOwnPropertySymbols:function(t){return A.f(b(t))}}),L&&o(o.S+o.F*(!V||l((function(){var t=P();return"[null]"!=R([t])||"{}"!=R({a:t})||"{}"!=R(Object(t))}))),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(y(e)||void 0!==t)&&!q(t))return _(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!q(e))return e}),r[1]=e,R.apply(L,r)}}),P.prototype[B]||n("051b")(P.prototype,B,P.prototype.valueOf),h(P,"Symbol"),h(Math,"Math",!0),h(r.JSON,"JSON",!0)},"69f3":function(t,e,n){var r,i,a,o=n("7f9a"),s=n("da84"),u=n("861d"),l=n("9112"),c=n("5135"),h=n("f772"),f=n("d012"),d=s.WeakMap;if(o){var p=new d,m=p.get,g=p.has,_=p.set;r=function(t,e){return _.call(p,t,e),e},i=function(t){return m.call(p,t)||{}},a=function(t){return g.call(p,t)}}else{var v=h("state");f[v]=!0,r=function(t,e){return l(t,v,e),e},i=function(t){return c(t,v)?t[v]:{}},a=function(t){return c(t,v)}}t.exports={set:r,get:i,has:a,enforce:function(t){return a(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!u(e)||(n=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},"6b75":function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,"a",(function(){return r}))},"6b93":function(t,e,n){var r=n("23e7"),i=Math.log,a=Math.LOG10E;r({target:"Math",stat:!0},{log10:function(t){return i(t)*a}})},"6b9e":function(t,e,n){n("746f")("search")},"6bb1":function(t,e,n){"use strict";var r,i;r=[n("ff50"),n("5b66"),n("6dd3")],void 0===(i=function(t,e,n){return function(t,e,n){var r=function(e,n){return t.js_beautify(e,n)};return r.js=t.js_beautify,r.css=e.css_beautify,r.html=n.html_beautify,r.js_beautify=t.js_beautify,r.css_beautify=e.css_beautify,r.html_beautify=n.html_beautify,r}(t,e,n)}.apply(e,r))||(t.exports=i)},"6c49":function(t){t.exports=JSON.parse('{"confirm":"Confirm","custom":"Custom","dropDownNew":"new items","dropDownEnter":"please enter what you want to search","dropDownNoData":"there is no data","dropDownNoSearchData":"there is no data you searched","myFolders":"My Folders","no":"No","ok":"OK","paginatorDetailPage":"Sum {pageNum} page/ count {totalCounts} data","paginatorFirstPage":"First","paginatorJumpTo":"jump to:","paginatorLastPage":"Last","paginatorNextPage":"Next","paginatorPrevPage":"Prev","pickColor":"Pick color","popupWindowAlertContent":"Service request failed ！","popupWindowConfirmContent":"Please confirm","popupWindowCustomContent":"The custom content . ","popupWindowPromptContent":"Please enter","selectAll":"Select All","sharedFolders":"Shared Folders","tips":"Tips","treeNew":"new items","yes":"Yes","transparency":"transparency","recentlyUsed":"recently used","customColor":"custom color","hueTransparency":"hue transparency"}')},"6c57":function(t,e,n){n("23e7")({global:!0},{globalThis:n("da84")})},"6ca1":function(t,e,n){var r=n("9fbb"),i=n("c901");t.exports=function(t){return r(i(t))}},"6d61":function(t,e,n){"use strict";var r=n("23e7"),i=n("da84"),a=n("94ca"),o=n("6eeb"),s=n("f183"),u=n("2266"),l=n("19aa"),c=n("861d"),h=n("d039"),f=n("1c7e"),d=n("d44e"),p=n("7156");t.exports=function(t,e,n){var m=-1!==t.indexOf("Map"),g=-1!==t.indexOf("Weak"),_=m?"set":"add",v=i[t],y=v&&v.prototype,b=v,x={},w=function(t){var e=y[t];o(y,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(g&&!c(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return g&&!c(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(g&&!c(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(a(t,"function"!=typeof v||!(g||y.forEach&&!h((function(){(new v).entries().next()})))))b=n.getConstructor(e,t,m,_),s.REQUIRED=!0;else if(a(t,!0)){var T=new b,S=T[_](g?{}:-0,1)!=T,E=h((function(){T.has(1)})),C=f((function(t){new v(t)})),A=!g&&h((function(){for(var t=new v,e=5;e--;)t[_](e,e);return!t.has(-0)}));C||((b=e((function(e,n){l(e,b,t);var r=p(new v,e,b);return null!=n&&u(n,r[_],r,m),r}))).prototype=y,y.constructor=b),(E||A)&&(w("delete"),w("has"),m&&w("get")),(A||S)&&w(_),g&&y.clear&&delete y.clear}return x[t]=b,r({global:!0,forced:b!=v},x),d(b,t),g||n.setStrong(b,t,m),b}},"6dd3":function(t,e,n){var r,i;n("a4d3"),n("e01a"),n("944a"),n("99af"),n("c975"),n("a15b"),n("baa5"),n("fb6a"),n("45fc"),n("a434"),n("0c47"),n("23dc"),n("d3b7"),n("4d63"),n("ac1f"),n("25f0"),n("466d"),n("5319"),n("841c"),n("1276"),n("498a"),n("a4d3"),n("e01a"),n("944a"),n("99af"),n("c975"),n("a15b"),n("baa5"),n("fb6a"),n("45fc"),n("a434"),n("0c47"),n("23dc"),n("cca6"),n("d3b7"),n("4d63"),n("ac1f"),n("25f0"),n("466d"),n("5319"),n("841c"),n("1276"),n("498a");var a,o=n("7037");a=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===o(t)&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=18)}([,,function(t,e,n){"use strict";function r(t){this.__parent=t,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function i(t,e){this.__cache=[""],this.__indent_size=t.indent_size,this.__indent_string=t.indent_char,t.indent_with_tabs||(this.__indent_string=new Array(t.indent_size+1).join(t.indent_char)),e=e||"",t.indent_level>0&&(e=new Array(t.indent_level+1).join(this.__indent_string)),this.__base_string=e,this.__base_string_length=e.length}function a(t,e){this.__indent_cache=new i(t,e),this.raw=!1,this._end_with_newline=t.end_with_newline,this.indent_size=t.indent_size,this.wrap_line_length=t.wrap_line_length,this.indent_empty_lines=t.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new r(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}r.prototype.clone_empty=function(){var t=new r(this.__parent);return t.set_indent(this.__indent_count,this.__alignment_count),t},r.prototype.item=function(t){return t<0?this.__items[this.__items.length+t]:this.__items[t]},r.prototype.has_match=function(t){for(var e=this.__items.length-1;e>=0;e--)if(this.__items[e].match(t))return!0;return!1},r.prototype.set_indent=function(t,e){this.is_empty()&&(this.__indent_count=t||0,this.__alignment_count=e||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},r.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},r.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},r.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var t=this.__parent.current_line;return t.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),t.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),t.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count," "===t.__items[0]&&(t.__items.splice(0,1),t.__character_count-=1),!0}return!1},r.prototype.is_empty=function(){return 0===this.__items.length},r.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},r.prototype.push=function(t){this.__items.push(t);var e=t.lastIndexOf("\n");-1!==e?this.__character_count=t.length-e:this.__character_count+=t.length},r.prototype.pop=function(){var t=null;return this.is_empty()||(t=this.__items.pop(),this.__character_count-=t.length),t},r.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},r.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},r.prototype.trim=function(){for(;" "===this.last();)this.__items.pop(),this.__character_count-=1},r.prototype.toString=function(){var t="";return this.is_empty()?this.__parent.indent_empty_lines&&(t=this.__parent.get_indent_string(this.__indent_count)):(t=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),t+=this.__items.join("")),t},i.prototype.get_indent_size=function(t,e){var n=this.__base_string_length;return e=e||0,t<0&&(n=0),n+=t*this.__indent_size,n+=e},i.prototype.get_indent_string=function(t,e){var n=this.__base_string;return e=e||0,t<0&&(t=0,n=""),e+=t*this.__indent_size,this.__ensure_cache(e),n+=this.__cache[e]},i.prototype.__ensure_cache=function(t){for(;t>=this.__cache.length;)this.__add_column()},i.prototype.__add_column=function(){var t=this.__cache.length,e=0,n="";this.__indent_size&&t>=this.__indent_size&&(t-=(e=Math.floor(t/this.__indent_size))*this.__indent_size,n=new Array(e+1).join(this.__indent_string)),t&&(n+=new Array(t+1).join(" ")),this.__cache.push(n)},a.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},a.prototype.get_line_number=function(){return this.__lines.length},a.prototype.get_indent_string=function(t,e){return this.__indent_cache.get_indent_string(t,e)},a.prototype.get_indent_size=function(t,e){return this.__indent_cache.get_indent_size(t,e)},a.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},a.prototype.add_new_line=function(t){return!(this.is_empty()||!t&&this.just_added_newline()||(this.raw||this.__add_outputline(),0))},a.prototype.get_code=function(t){this.trim(!0);var e=this.current_line.pop();e&&("\n"===e[e.length-1]&&(e=e.replace(/\n+$/g,"")),this.current_line.push(e)),this._end_with_newline&&this.__add_outputline();var n=this.__lines.join("\n");return"\n"!==t&&(n=n.replace(/[\n]/g,t)),n},a.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},a.prototype.set_indent=function(t,e){return t=t||0,e=e||0,this.next_line.set_indent(t,e),this.__lines.length>1?(this.current_line.set_indent(t,e),!0):(this.current_line.set_indent(),!1)},a.prototype.add_raw_token=function(t){for(var e=0;e<t.newlines;e++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(t.whitespace_before),this.current_line.push(t.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},a.prototype.add_token=function(t){this.__add_space_before_token(),this.current_line.push(t),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},a.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},a.prototype.remove_indent=function(t){for(var e=this.__lines.length;t<e;)this.__lines[t]._remove_indent(),t++;this.current_line._remove_wrap_indent()},a.prototype.trim=function(t){for(t=void 0!==t&&t,this.current_line.trim();t&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},a.prototype.just_added_newline=function(){return this.current_line.is_empty()},a.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},a.prototype.ensure_empty_line_above=function(t,e){for(var n=this.__lines.length-2;n>=0;){var i=this.__lines[n];if(i.is_empty())break;if(0!==i.item(0).indexOf(t)&&i.item(-1)!==e){this.__lines.splice(n+1,0,new r(this)),this.previous_line=this.__lines[this.__lines.length-2];break}n--}},t.exports.Output=a},function(t,e,n){"use strict";t.exports.Token=function(t,e,n,r){this.type=t,this.text=e,this.comments_before=null,this.newlines=n||0,this.whitespace_before=r||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}},,,function(t,e,n){"use strict";function r(t,e){this.raw_options=i(t,e),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs","\t"===this.indent_char),this.indent_with_tabs&&(this.indent_char="\t",1===this.indent_size&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php"],["auto"])}function i(t,e){var n,r={};for(n in t=a(t))n!==e&&(r[n]=t[n]);if(e&&t[e])for(n in t[e])r[n]=t[e][n];return r}function a(t){var e,n={};for(e in t)n[e.replace(/-/g,"_")]=t[e];return n}r.prototype._get_array=function(t,e){var n=this.raw_options[t],r=e||[];return"object"===o(n)?null!==n&&"function"==typeof n.concat&&(r=n.concat()):"string"==typeof n&&(r=n.split(/[^a-zA-Z0-9_\/\-]+/)),r},r.prototype._get_boolean=function(t,e){var n=this.raw_options[t];return void 0===n?!!e:!!n},r.prototype._get_characters=function(t,e){var n=this.raw_options[t],r=e||"";return"string"==typeof n&&(r=n.replace(/\\r/,"\r").replace(/\\n/,"\n").replace(/\\t/,"\t")),r},r.prototype._get_number=function(t,e){var n=this.raw_options[t];e=parseInt(e,10),isNaN(e)&&(e=0);var r=parseInt(n,10);return isNaN(r)&&(r=e),r},r.prototype._get_selection=function(t,e,n){var r=this._get_selection_list(t,e,n);if(1!==r.length)throw new Error("Invalid Option Value: The option '"+t+"' can only be one of the following values:\n"+e+"\nYou passed in: '"+this.raw_options[t]+"'");return r[0]},r.prototype._get_selection_list=function(t,e,n){if(!e||0===e.length)throw new Error("Selection list cannot be empty.");if(n=n||[e[0]],!this._is_valid_selection(n,e))throw new Error("Invalid Default Value!");var r=this._get_array(t,n);if(!this._is_valid_selection(r,e))throw new Error("Invalid Option Value: The option '"+t+"' can contain only the following values:\n"+e+"\nYou passed in: '"+this.raw_options[t]+"'");return r},r.prototype._is_valid_selection=function(t,e){return t.length&&e.length&&!t.some((function(t){return-1===e.indexOf(t)}))},t.exports.Options=r,t.exports.normalizeOpts=a,t.exports.mergeOpts=i},,function(t,e,n){"use strict";var r=RegExp.prototype.hasOwnProperty("sticky");function i(t){this.__input=t||"",this.__input_length=this.__input.length,this.__position=0}i.prototype.restart=function(){this.__position=0},i.prototype.back=function(){this.__position>0&&(this.__position-=1)},i.prototype.hasNext=function(){return this.__position<this.__input_length},i.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__input.charAt(this.__position),this.__position+=1),t},i.prototype.peek=function(t){var e=null;return t=t||0,(t+=this.__position)>=0&&t<this.__input_length&&(e=this.__input.charAt(t)),e},i.prototype.__match=function(t,e){t.lastIndex=e;var n=t.exec(this.__input);return!n||r&&t.sticky||n.index!==e&&(n=null),n},i.prototype.test=function(t,e){return e=e||0,(e+=this.__position)>=0&&e<this.__input_length&&!!this.__match(t,e)},i.prototype.testChar=function(t,e){var n=this.peek(e);return t.lastIndex=0,null!==n&&t.test(n)},i.prototype.match=function(t){var e=this.__match(t,this.__position);return e?this.__position+=e[0].length:e=null,e},i.prototype.read=function(t,e,n){var r,i="";return t&&(r=this.match(t))&&(i+=r[0]),!e||!r&&t||(i+=this.readUntil(e,n)),i},i.prototype.readUntil=function(t,e){var n,r=this.__position;t.lastIndex=this.__position;var i=t.exec(this.__input);return i?(r=i.index,e&&(r+=i[0].length)):r=this.__input_length,n=this.__input.substring(this.__position,r),this.__position=r,n},i.prototype.readUntilAfter=function(t){return this.readUntil(t,!0)},i.prototype.get_regexp=function(t,e){var n=null,i="g";return e&&r&&(i="y"),"string"==typeof t&&""!==t?n=new RegExp(t,i):t&&(n=new RegExp(t.source,i)),n},i.prototype.get_literal_regexp=function(t){return RegExp(t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},i.prototype.peekUntilAfter=function(t){var e=this.__position,n=this.readUntilAfter(t);return this.__position=e,n},i.prototype.lookBack=function(t){var e=this.__position-1;return e>=t.length&&this.__input.substring(e-t.length,e).toLowerCase()===t},t.exports.InputScanner=i},function(t,e,n){"use strict";var r=n(8).InputScanner,i=n(3).Token,a=n(10).TokenStream,o=n(11).WhitespacePattern,s={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},u=function(t,e){this._input=new r(t),this._options=e||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new o(this._input)};u.prototype.tokenize=function(){var t;this._input.restart(),this.__tokens=new a,this._reset();for(var e=new i(s.START,""),n=null,r=[],o=new a;e.type!==s.EOF;){for(t=this._get_next_token(e,n);this._is_comment(t);)o.add(t),t=this._get_next_token(e,n);o.isEmpty()||(t.comments_before=o,o=new a),t.parent=n,this._is_opening(t)?(r.push(n),n=t):n&&this._is_closing(t,n)&&(t.opened=n,n.closed=t,n=r.pop(),t.parent=n),t.previous=e,e.next=t,this.__tokens.add(t),e=t}return this.__tokens},u.prototype._is_first_token=function(){return this.__tokens.isEmpty()},u.prototype._reset=function(){},u.prototype._get_next_token=function(t,e){this._readWhitespace();var n=this._input.read(/.+/g);return n?this._create_token(s.RAW,n):this._create_token(s.EOF,"")},u.prototype._is_comment=function(t){return!1},u.prototype._is_opening=function(t){return!1},u.prototype._is_closing=function(t,e){return!1},u.prototype._create_token=function(t,e){return new i(t,e,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token)},u.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},t.exports.Tokenizer=u,t.exports.TOKEN=s},function(t,e,n){"use strict";function r(t){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=t}r.prototype.restart=function(){this.__position=0},r.prototype.isEmpty=function(){return 0===this.__tokens_length},r.prototype.hasNext=function(){return this.__position<this.__tokens_length},r.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__tokens[this.__position],this.__position+=1),t},r.prototype.peek=function(t){var e=null;return t=t||0,(t+=this.__position)>=0&&t<this.__tokens_length&&(e=this.__tokens[t]),e},r.prototype.add=function(t){this.__parent_token&&(t.parent=this.__parent_token),this.__tokens.push(t),this.__tokens_length+=1},t.exports.TokenStream=r},function(t,e,n){"use strict";var r=n(12).Pattern;function i(t,e){r.call(this,t,e),e?this._line_regexp=this._input.get_regexp(e._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}i.prototype=new r,i.prototype.__set_whitespace_patterns=function(t,e){t+="\\t ",e+="\\n\\r",this._match_pattern=this._input.get_regexp("["+t+e+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+e+"]")},i.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var t=this._input.read(this._match_pattern);if(" "===t)this.whitespace_before_token=" ";else if(t){var e=this.__split(this._newline_regexp,t);this.newline_count=e.length-1,this.whitespace_before_token=e[this.newline_count]}return t},i.prototype.matching=function(t,e){var n=this._create();return n.__set_whitespace_patterns(t,e),n._update(),n},i.prototype._create=function(){return new i(this._input,this)},i.prototype.__split=function(t,e){t.lastIndex=0;for(var n=0,r=[],i=t.exec(e);i;)r.push(e.substring(n,i.index)),n=i.index+i[0].length,i=t.exec(e);return n<e.length?r.push(e.substring(n,e.length)):r.push(""),r},t.exports.WhitespacePattern=i},function(t,e,n){"use strict";function r(t,e){this._input=t,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,e&&(this._starting_pattern=this._input.get_regexp(e._starting_pattern,!0),this._match_pattern=this._input.get_regexp(e._match_pattern,!0),this._until_pattern=this._input.get_regexp(e._until_pattern),this._until_after=e._until_after)}r.prototype.read=function(){var t=this._input.read(this._starting_pattern);return this._starting_pattern&&!t||(t+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),t},r.prototype.read_match=function(){return this._input.match(this._match_pattern)},r.prototype.until_after=function(t){var e=this._create();return e._until_after=!0,e._until_pattern=this._input.get_regexp(t),e._update(),e},r.prototype.until=function(t){var e=this._create();return e._until_after=!1,e._until_pattern=this._input.get_regexp(t),e._update(),e},r.prototype.starting_with=function(t){var e=this._create();return e._starting_pattern=this._input.get_regexp(t,!0),e._update(),e},r.prototype.matching=function(t){var e=this._create();return e._match_pattern=this._input.get_regexp(t,!0),e._update(),e},r.prototype._create=function(){return new r(this._input,this)},r.prototype._update=function(){},t.exports.Pattern=r},function(t,e,n){"use strict";function r(t,e){t="string"==typeof t?t:t.source,e="string"==typeof e?e:e.source,this.__directives_block_pattern=new RegExp(t+/ beautify( \w+[:]\w+)+ /.source+e,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(t+/\sbeautify\signore:end\s/.source+e,"g")}r.prototype.get_directives=function(t){if(!t.match(this.__directives_block_pattern))return null;var e={};this.__directive_pattern.lastIndex=0;for(var n=this.__directive_pattern.exec(t);n;)e[n[1]]=n[2],n=this.__directive_pattern.exec(t);return e},r.prototype.readIgnored=function(t){return t.readUntilAfter(this.__directives_end_ignore_pattern)},t.exports.Directives=r},function(t,e,n){"use strict";var r=n(12).Pattern,i={django:!1,erb:!1,handlebars:!1,php:!1};function a(t,e){r.call(this,t,e),this.__template_pattern=null,this._disabled=Object.assign({},i),this._excluded=Object.assign({},i),e&&(this.__template_pattern=this._input.get_regexp(e.__template_pattern),this._excluded=Object.assign(this._excluded,e._excluded),this._disabled=Object.assign(this._disabled,e._disabled));var n=new r(t);this.__patterns={handlebars_comment:n.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:n.starting_with(/{{{/).until_after(/}}}/),handlebars:n.starting_with(/{{/).until_after(/}}/),php:n.starting_with(/<\?(?:[=]|php)/).until_after(/\?>/),erb:n.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:n.starting_with(/{%/).until_after(/%}/),django_value:n.starting_with(/{{/).until_after(/}}/),django_comment:n.starting_with(/{#/).until_after(/#}/)}}a.prototype=new r,a.prototype._create=function(){return new a(this._input,this)},a.prototype._update=function(){this.__set_templated_pattern()},a.prototype.disable=function(t){var e=this._create();return e._disabled[t]=!0,e._update(),e},a.prototype.read_options=function(t){var e=this._create();for(var n in i)e._disabled[n]=-1===t.templating.indexOf(n);return e._update(),e},a.prototype.exclude=function(t){var e=this._create();return e._excluded[t]=!0,e._update(),e},a.prototype.read=function(){var t="";t=this._match_pattern?this._input.read(this._starting_pattern):this._input.read(this._starting_pattern,this.__template_pattern);for(var e=this._read_template();e;)this._match_pattern?e+=this._input.read(this._match_pattern):e+=this._input.readUntil(this.__template_pattern),t+=e,e=this._read_template();return this._until_after&&(t+=this._input.readUntilAfter(this._until_pattern)),t},a.prototype.__set_templated_pattern=function(){var t=[];this._disabled.php||t.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||t.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||t.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(t.push(this.__patterns.django._starting_pattern.source),t.push(this.__patterns.django_value._starting_pattern.source),t.push(this.__patterns.django_comment._starting_pattern.source)),this._until_pattern&&t.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+t.join("|")+")")},a.prototype._read_template=function(){var t="",e=this._input.peek();if("<"===e){var n=this._input.peek(1);this._disabled.php||this._excluded.php||"?"!==n||(t=t||this.__patterns.php.read()),this._disabled.erb||this._excluded.erb||"%"!==n||(t=t||this.__patterns.erb.read())}else"{"===e&&(this._disabled.handlebars||this._excluded.handlebars||(t=(t=(t=t||this.__patterns.handlebars_comment.read())||this.__patterns.handlebars_unescaped.read())||this.__patterns.handlebars.read()),this._disabled.django||(this._excluded.django||this._excluded.handlebars||(t=t||this.__patterns.django_value.read()),this._excluded.django||(t=(t=t||this.__patterns.django_comment.read())||this.__patterns.django.read())));return t},t.exports.TemplatablePattern=a},,,,function(t,e,n){"use strict";var r=n(19).Beautifier,i=n(20).Options;t.exports=function(t,e,n,i){return new r(t,e,n,i).beautify()},t.exports.defaultOptions=function(){return new i}},function(t,e,n){"use strict";var r=n(20).Options,i=n(2).Output,a=n(21).Tokenizer,o=n(21).TOKEN,s=/\r\n|[\r\n]/,u=/\r\n|[\r\n]/g,l=function(t,e){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=t.max_preserve_newlines,this.preserve_newlines=t.preserve_newlines,this._output=new i(t,e)};l.prototype.current_line_has_match=function(t){return this._output.current_line.has_match(t)},l.prototype.set_space_before_token=function(t,e){this._output.space_before_token=t,this._output.non_breaking_space=e},l.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()},l.prototype.add_raw_token=function(t){this._output.add_raw_token(t)},l.prototype.print_preserved_newlines=function(t){var e=0;t.type!==o.TEXT&&t.previous.type!==o.TEXT&&(e=t.newlines?1:0),this.preserve_newlines&&(e=t.newlines<this.max_preserve_newlines+1?t.newlines:this.max_preserve_newlines+1);for(var n=0;n<e;n++)this.print_newline(n>0);return 0!==e},l.prototype.traverse_whitespace=function(t){return!(!t.whitespace_before&&!t.newlines||(this.print_preserved_newlines(t)||(this._output.space_before_token=!0),0))},l.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped},l.prototype.print_newline=function(t){this._output.add_new_line(t)},l.prototype.print_token=function(t){t.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(t.text))},l.prototype.indent=function(){this.indent_level++},l.prototype.get_full_indent=function(t){return(t=this.indent_level+(t||0))<1?"":this._output.get_indent_string(t)};var c=function(t,e){var n=null,r=null;return e.closed?("script"===t?n="text/javascript":"style"===t&&(n="text/css"),(n=function(t){for(var e=null,n=t.next;n.type!==o.EOF&&t.closed!==n;){if(n.type===o.ATTRIBUTE&&"type"===n.text){n.next&&n.next.type===o.EQUALS&&n.next.next&&n.next.next.type===o.VALUE&&(e=n.next.next.text);break}n=n.next}return e}(e)||n).search("text/css")>-1?r="css":n.search(/module|((text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect))/)>-1?r="javascript":n.search(/(text|application|dojo)\/(x-)?(html)/)>-1?r="html":n.search(/test\/null/)>-1&&(r="null"),r):null};function h(t,e){return-1!==e.indexOf(t)}function f(t,e,n){this.parent=t||null,this.tag=e?e.tag_name:"",this.indent_level=n||0,this.parser_token=e||null}function d(t){this._printer=t,this._current_frame=null}function p(t,e,n,i){this._source_text=t||"",e=e||{},this._js_beautify=n,this._css_beautify=i,this._tag_stack=null;var a=new r(e,"html");this._options=a,this._is_wrap_attributes_force="force"===this._options.wrap_attributes.substr(0,"force".length),this._is_wrap_attributes_force_expand_multiline="force-expand-multiline"===this._options.wrap_attributes,this._is_wrap_attributes_force_aligned="force-aligned"===this._options.wrap_attributes,this._is_wrap_attributes_aligned_multiple="aligned-multiple"===this._options.wrap_attributes,this._is_wrap_attributes_preserve="preserve"===this._options.wrap_attributes.substr(0,"preserve".length),this._is_wrap_attributes_preserve_aligned="preserve-aligned"===this._options.wrap_attributes}d.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null},d.prototype.record_tag=function(t){var e=new f(this._current_frame,t,this._printer.indent_level);this._current_frame=e},d.prototype._try_pop_frame=function(t){var e=null;return t&&(e=t.parser_token,this._printer.indent_level=t.indent_level,this._current_frame=t.parent),e},d.prototype._get_frame=function(t,e){for(var n=this._current_frame;n&&-1===t.indexOf(n.tag);){if(e&&-1!==e.indexOf(n.tag)){n=null;break}n=n.parent}return n},d.prototype.try_pop=function(t,e){var n=this._get_frame([t],e);return this._try_pop_frame(n)},d.prototype.indent_to_tag=function(t){var e=this._get_frame(t);e&&(this._printer.indent_level=e.indent_level)},p.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t=this._source_text,e=this._options.eol;"auto"===this._options.eol&&(e="\n",t&&s.test(t)&&(e=t.match(s)[0]));var n=(t=t.replace(u,"\n")).match(/^[\t ]*/)[0],r={text:"",type:""},i=new m,c=new l(this._options,n),h=new a(t,this._options).tokenize();this._tag_stack=new d(c);for(var f=null,p=h.next();p.type!==o.EOF;)p.type===o.TAG_OPEN||p.type===o.COMMENT?i=f=this._handle_tag_open(c,p,i,r):p.type===o.ATTRIBUTE||p.type===o.EQUALS||p.type===o.VALUE||p.type===o.TEXT&&!i.tag_complete?f=this._handle_inside_tag(c,p,i,h):p.type===o.TAG_CLOSE?f=this._handle_tag_close(c,p,i):p.type===o.TEXT?f=this._handle_text(c,p,i):c.add_raw_token(p),r=f,p=h.next();return c._output.get_code(e)},p.prototype._handle_tag_close=function(t,e,n){var r={text:e.text,type:e.type};return t.alignment_size=0,n.tag_complete=!0,t.set_space_before_token(e.newlines||""!==e.whitespace_before,!0),n.is_unformatted?t.add_raw_token(e):("<"===n.tag_start_char&&(t.set_space_before_token("/"===e.text[0],!0),this._is_wrap_attributes_force_expand_multiline&&n.has_wrapped_attrs&&t.print_newline(!1)),t.print_token(e)),!n.indent_content||n.is_unformatted||n.is_content_unformatted||(t.indent(),n.indent_content=!1),n.is_inline_element||n.is_unformatted||n.is_content_unformatted||t.set_wrap_point(),r},p.prototype._handle_inside_tag=function(t,e,n,r){var i=n.has_wrapped_attrs,a={text:e.text,type:e.type};if(t.set_space_before_token(e.newlines||""!==e.whitespace_before,!0),n.is_unformatted)t.add_raw_token(e);else if("{"===n.tag_start_char&&e.type===o.TEXT)t.print_preserved_newlines(e)?(e.newlines=0,t.add_raw_token(e)):t.print_token(e);else{if(e.type===o.ATTRIBUTE?(t.set_space_before_token(!0),n.attr_count+=1):(e.type===o.EQUALS||e.type===o.VALUE&&e.previous.type===o.EQUALS)&&t.set_space_before_token(!1),e.type===o.ATTRIBUTE&&"<"===n.tag_start_char&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(t.traverse_whitespace(e),i=i||0!==e.newlines),this._is_wrap_attributes_force)){var s=n.attr_count>1;if(this._is_wrap_attributes_force_expand_multiline&&1===n.attr_count){var u,l=!0,c=0;do{if((u=r.peek(c)).type===o.ATTRIBUTE){l=!1;break}c+=1}while(c<4&&u.type!==o.EOF&&u.type!==o.TAG_CLOSE);s=!l}s&&(t.print_newline(!1),i=!0)}t.print_token(e),i=i||t.previous_token_wrapped(),n.has_wrapped_attrs=i}return a},p.prototype._handle_text=function(t,e,n){var r={text:e.text,type:"TK_CONTENT"};return n.custom_beautifier_name?this._print_custom_beatifier_text(t,e,n):n.is_unformatted||n.is_content_unformatted?t.add_raw_token(e):(t.traverse_whitespace(e),t.print_token(e)),r},p.prototype._print_custom_beatifier_text=function(t,e,n){var r=this;if(""!==e.text){var i,a=e.text,o=1,s="",u="";"javascript"===n.custom_beautifier_name&&"function"==typeof this._js_beautify?i=this._js_beautify:"css"===n.custom_beautifier_name&&"function"==typeof this._css_beautify?i=this._css_beautify:"html"===n.custom_beautifier_name&&(i=function(t,e){return new p(t,e,r._js_beautify,r._css_beautify).beautify()}),"keep"===this._options.indent_scripts?o=0:"separate"===this._options.indent_scripts&&(o=-t.indent_level);var l=t.get_full_indent(o);if(a=a.replace(/\n[ \t]*$/,""),"html"!==n.custom_beautifier_name&&"<"===a[0]&&a.match(/^(<!--|<!\[CDATA\[)/)){var c=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(a);if(!c)return void t.add_raw_token(e);s=l+c[1]+"\n",a=c[4],c[5]&&(u=l+c[5]),a=a.replace(/\n[ \t]*$/,""),(c[2]||-1!==c[3].indexOf("\n"))&&(c=c[3].match(/[ \t]+$/))&&(e.whitespace_before=c[0])}if(a)if(i){var h=function(){this.eol="\n"};h.prototype=this._options.raw_options,a=i(l+a,new h)}else{var f=e.whitespace_before;f&&(a=a.replace(new RegExp("\n("+f+")?","g"),"\n")),a=l+a.replace(/\n/g,"\n"+l)}s&&(a=a?s+a+"\n"+u:s+u),t.print_newline(!1),a&&(e.text=a,e.whitespace_before="",e.newlines=0,t.add_raw_token(e),t.print_newline(!0))}},p.prototype._handle_tag_open=function(t,e,n,r){var i=this._get_tag_open_token(e);return(n.is_unformatted||n.is_content_unformatted)&&e.type===o.TAG_OPEN&&0===e.text.indexOf("</")?(t.add_raw_token(e),i.start_tag_token=this._tag_stack.try_pop(i.tag_name)):(t.traverse_whitespace(e),this._set_tag_position(t,e,i,n,r),i.is_inline_element||t.set_wrap_point(),t.print_token(e)),(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(i.alignment_size=e.text.length+1),i.tag_complete||i.is_unformatted||(t.alignment_size=i.alignment_size),i};var m=function(t,e){var n;this.parent=t||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",e?(this.tag_start_char=e.text[0],this.text=e.text,"<"===this.tag_start_char?(n=e.text.match(/^<([^\s>]*)/),this.tag_check=n?n[1]:""):(n=e.text.match(/^{{(?:[\^]|#\*?)?([^\s}]+)/),this.tag_check=n?n[1]:"","{{#>"===e.text&&">"===this.tag_check&&null!==e.next&&(this.tag_check=e.next.text)),this.tag_check=this.tag_check.toLowerCase(),e.type===o.COMMENT&&(this.tag_complete=!0),this.is_start_tag="/"!==this.tag_check.charAt(0),this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||e.closed&&"/>"===e.closed.text,this.is_end_tag=this.is_end_tag||"{"===this.tag_start_char&&(this.text.length<3||/[^#\^]/.test(this.text.charAt(2)))):this.tag_complete=!0};p.prototype._get_tag_open_token=function(t){var e=new m(this._tag_stack.get_parser_token(),t);return e.alignment_size=this._options.wrap_attributes_indent_size,e.is_end_tag=e.is_end_tag||h(e.tag_check,this._options.void_elements),e.is_empty_element=e.tag_complete||e.is_start_tag&&e.is_end_tag,e.is_unformatted=!e.tag_complete&&h(e.tag_check,this._options.unformatted),e.is_content_unformatted=!e.is_empty_element&&h(e.tag_check,this._options.content_unformatted),e.is_inline_element=h(e.tag_name,this._options.inline)||"{"===e.tag_start_char,e},p.prototype._set_tag_position=function(t,e,n,r,i){n.is_empty_element||(n.is_end_tag?n.start_tag_token=this._tag_stack.try_pop(n.tag_name):(this._do_optional_end_element(n)&&(n.is_inline_element||(n.parent&&(n.parent.multiline_content=!0),t.print_newline(!1))),this._tag_stack.record_tag(n),"script"!==n.tag_name&&"style"!==n.tag_name||n.is_unformatted||n.is_content_unformatted||(n.custom_beautifier_name=c(n.tag_check,e)))),h(n.tag_check,this._options.extra_liners)&&(t.print_newline(!1),t._output.just_added_blankline()||t.print_newline(!0)),n.is_empty_element?("{"===n.tag_start_char&&"else"===n.tag_check&&(this._tag_stack.indent_to_tag(["if","unless","each"]),n.indent_content=!0,t.current_line_has_match(/{{#if/)||t.print_newline(!1)),"!--"===n.tag_name&&i.type===o.TAG_CLOSE&&r.is_end_tag&&-1===n.text.indexOf("\n")||n.is_inline_element||n.is_unformatted||t.print_newline(!1)):n.is_unformatted||n.is_content_unformatted?n.is_inline_element||n.is_unformatted||t.print_newline(!1):n.is_end_tag?(n.start_tag_token&&n.start_tag_token.multiline_content||!(n.is_inline_element||r.is_inline_element||i.type===o.TAG_CLOSE&&n.start_tag_token===r||"TK_CONTENT"===i.type))&&t.print_newline(!1):(n.indent_content=!n.custom_beautifier_name,"<"===n.tag_start_char&&("html"===n.tag_name?n.indent_content=this._options.indent_inner_html:"head"===n.tag_name?n.indent_content=this._options.indent_head_inner_html:"body"===n.tag_name&&(n.indent_content=this._options.indent_body_inner_html)),n.is_inline_element||"TK_CONTENT"===i.type||(n.parent&&(n.parent.multiline_content=!0),t.print_newline(!1)))};var g=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","nav","ol","p","pre","section","table","ul"],_=["a","audio","del","ins","map","noscript","video"];p.prototype._do_optional_end_element=function(t){var e=null;if(!t.is_empty_element&&t.is_start_tag&&t.parent){if("body"===t.tag_name)e=e||this._tag_stack.try_pop("head");else if("li"===t.tag_name)e=e||this._tag_stack.try_pop("li",["ol","ul"]);else if("dd"===t.tag_name||"dt"===t.tag_name)e=(e=e||this._tag_stack.try_pop("dt",["dl"]))||this._tag_stack.try_pop("dd",["dl"]);else if("p"===t.parent.tag_name&&-1!==g.indexOf(t.tag_name)){var n=t.parent.parent;n&&-1!==_.indexOf(n.tag_name)||(e=e||this._tag_stack.try_pop("p"))}else"rp"===t.tag_name||"rt"===t.tag_name?e=(e=e||this._tag_stack.try_pop("rt",["ruby","rtc"]))||this._tag_stack.try_pop("rp",["ruby","rtc"]):"optgroup"===t.tag_name?e=e||this._tag_stack.try_pop("optgroup",["select"]):"option"===t.tag_name?e=e||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):"colgroup"===t.tag_name?e=e||this._tag_stack.try_pop("caption",["table"]):"thead"===t.tag_name?e=(e=e||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]):"tbody"===t.tag_name||"tfoot"===t.tag_name?e=(e=(e=(e=e||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]))||this._tag_stack.try_pop("thead",["table"]))||this._tag_stack.try_pop("tbody",["table"]):"tr"===t.tag_name?e=(e=(e=e||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]))||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"]):"th"!==t.tag_name&&"td"!==t.tag_name||(e=(e=e||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]))||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"]));return t.parent=this._tag_stack.get_parser_token(),e}},t.exports.Beautifier=p},function(t,e,n){"use strict";var r=n(6).Options;function i(t){r.call(this,t,"html"),1===this.templating.length&&"auto"===this.templating[0]&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}i.prototype=new r,t.exports.Options=i},function(t,e,n){"use strict";var r=n(9).Tokenizer,i=n(9).TOKEN,a=n(13).Directives,o=n(14).TemplatablePattern,s=n(12).Pattern,u={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:i.START,RAW:i.RAW,EOF:i.EOF},l=new a(/<\!--/,/-->/),c=function(t,e){r.call(this,t,e),this._current_tag_name="";var n=new o(this._input).read_options(this._options),i=new s(this._input);if(this.__patterns={word:n.until(/[\n\r\t <]/),single_quote:n.until_after(/'/),double_quote:n.until_after(/"/),attribute:n.until(/[\n\r\t =>]|\/>/),element_name:n.until(/[\n\r\t >\/]/),handlebars_comment:i.starting_with(/{{!--/).until_after(/--}}/),handlebars:i.starting_with(/{{/).until_after(/}}/),handlebars_open:i.until(/[\n\r\t }]/),handlebars_raw_close:i.until(/}}/),comment:i.starting_with(/<!--/).until_after(/-->/),cdata:i.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:i.starting_with(/<!\[/).until_after(/]>/),processing:i.starting_with(/<\?/).until_after(/\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter){var a=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=i.matching(a).until_after(a)}};(c.prototype=new r)._is_comment=function(t){return!1},c.prototype._is_opening=function(t){return t.type===u.TAG_OPEN},c.prototype._is_closing=function(t,e){return t.type===u.TAG_CLOSE&&e&&((">"===t.text||"/>"===t.text)&&"<"===e.text[0]||"}}"===t.text&&"{"===e.text[0]&&"{"===e.text[1])},c.prototype._reset=function(){this._current_tag_name=""},c.prototype._get_next_token=function(t,e){var n=null;this._readWhitespace();var r=this._input.peek();return null===r?this._create_token(u.EOF,""):n=(n=(n=(n=(n=(n=(n=(n=(n=n||this._read_open_handlebars(r,e))||this._read_attribute(r,t,e))||this._read_raw_content(r,t,e))||this._read_close(r,e))||this._read_content_word(r))||this._read_comment_or_cdata(r))||this._read_processing(r))||this._read_open(r,e))||this._create_token(u.UNKNOWN,this._input.next())},c.prototype._read_comment_or_cdata=function(t){var e=null,n=null,r=null;return"<"===t&&("!"===this._input.peek(1)&&((n=this.__patterns.comment.read())?(r=l.get_directives(n))&&"start"===r.ignore&&(n+=l.readIgnored(this._input)):n=this.__patterns.cdata.read()),n&&((e=this._create_token(u.COMMENT,n)).directives=r)),e},c.prototype._read_processing=function(t){var e=null,n=null;if("<"===t){var r=this._input.peek(1);"!"!==r&&"?"!==r||(n=(n=this.__patterns.conditional_comment.read())||this.__patterns.processing.read()),n&&((e=this._create_token(u.COMMENT,n)).directives=null)}return e},c.prototype._read_open=function(t,e){var n=null,r=null;return e||"<"===t&&(n=this._input.next(),"/"===this._input.peek()&&(n+=this._input.next()),n+=this.__patterns.element_name.read(),r=this._create_token(u.TAG_OPEN,n)),r},c.prototype._read_open_handlebars=function(t,e){var n=null,r=null;return e||this._options.indent_handlebars&&"{"===t&&"{"===this._input.peek(1)&&("!"===this._input.peek(2)?(n=(n=this.__patterns.handlebars_comment.read())||this.__patterns.handlebars.read(),r=this._create_token(u.COMMENT,n)):(n=this.__patterns.handlebars_open.read(),r=this._create_token(u.TAG_OPEN,n))),r},c.prototype._read_close=function(t,e){var n=null,r=null;return e&&("<"===e.text[0]&&(">"===t||"/"===t&&">"===this._input.peek(1))?(n=this._input.next(),"/"===t&&(n+=this._input.next()),r=this._create_token(u.TAG_CLOSE,n)):"{"===e.text[0]&&"}"===t&&"}"===this._input.peek(1)&&(this._input.next(),this._input.next(),r=this._create_token(u.TAG_CLOSE,"}}"))),r},c.prototype._read_attribute=function(t,e,n){var r=null,i="";if(n&&"<"===n.text[0])if("="===t)r=this._create_token(u.EQUALS,this._input.next());else if('"'===t||"'"===t){var a=this._input.next();a+='"'===t?this.__patterns.double_quote.read():this.__patterns.single_quote.read(),r=this._create_token(u.VALUE,a)}else(i=this.__patterns.attribute.read())&&(r=e.type===u.EQUALS?this._create_token(u.VALUE,i):this._create_token(u.ATTRIBUTE,i));return r},c.prototype._is_content_unformatted=function(t){return-1===this._options.void_elements.indexOf(t)&&(-1!==this._options.content_unformatted.indexOf(t)||-1!==this._options.unformatted.indexOf(t))},c.prototype._read_raw_content=function(t,e,n){var r="";if(n&&"{"===n.text[0])r=this.__patterns.handlebars_raw_close.read();else if(e.type===u.TAG_CLOSE&&"<"===e.opened.text[0]){var i=e.opened.text.substr(1).toLowerCase();if("script"===i||"style"===i){var a=this._read_comment_or_cdata(t);if(a)return a.type=u.TEXT,a;r=this._input.readUntil(new RegExp("</"+i+"[\\n\\r\\t ]*?>","ig"))}else this._is_content_unformatted(i)&&(r=this._input.readUntil(new RegExp("</"+i+"[\\n\\r\\t ]*?>","ig")))}return r?this._create_token(u.TEXT,r):null},c.prototype._read_content_word=function(t){var e="";if(this._options.unformatted_content_delimiter&&t===this._options.unformatted_content_delimiter[0]&&(e=this.__patterns.unformatted_content_delimiter.read()),e||(e=this.__patterns.word.read()),e)return this._create_token(u.TEXT,e)},t.exports.Tokenizer=c,t.exports.TOKEN=u}]),r=[n,n("ff50"),n("5b66")],void 0===(i=function(t){var e=n("ff50"),r=n("5b66");return{html_beautify:function(t,n){return a(t,n,e.js_beautify,r.css_beautify)}}}.apply(e,r))||(t.exports=i)},"6dd8":function(t,e,n){"use strict";n.r(e),function(t){var n=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var n=-1;return t.some((function(t,r){return t[0]===e&&(n=r,!0)})),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),r=this.__entries__[n];return r&&r[1]},e.prototype.set=function(e,n){var r=t(this.__entries__,e);~r?this.__entries__[r][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,r=t(n,e);~r&&n.splice(r,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];t.call(e,i[1],i[0])}},e}()}(),r="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,i=void 0!==t&&t.Math===Math?t:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),a="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)};var o=["top","right","bottom","left","width","height","size","weight"],s="undefined"!=typeof MutationObserver,u=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&u()}function s(){a(o)}function u(){var t=Date.now();if(n){if(t-i<2)return;r=!0}else n=!0,r=!1,setTimeout(s,e);i=t}return u}(this.refresh.bind(this),20)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),s?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e;o.some((function(t){return!!~n.indexOf(t)}))&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),l=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},c=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||i},h=_(0,0,0,0);function f(t){return parseFloat(t)||0}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce((function(e,n){return e+f(t["border-"+n+"-width"])}),0)}function p(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return h;var r=c(t).getComputedStyle(t),i=function(t){for(var e={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],a=t["padding-"+i];e[i]=f(a)}return e}(r),a=i.left+i.right,o=i.top+i.bottom,s=f(r.width),u=f(r.height);if("border-box"===r.boxSizing&&(Math.round(s+a)!==e&&(s-=d(r,"left","right")+a),Math.round(u+o)!==n&&(u-=d(r,"top","bottom")+o)),!function(t){return t===c(t).document.documentElement}(t)){var l=Math.round(s+a)-e,p=Math.round(u+o)-n;1!==Math.abs(l)&&(s-=l),1!==Math.abs(p)&&(u-=p)}return _(i.left,i.top,s,u)}var m="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof c(t).SVGGraphicsElement}:function(t){return t instanceof c(t).SVGElement&&"function"==typeof t.getBBox};function g(t){return r?m(t)?function(t){var e=t.getBBox();return _(0,0,e.width,e.height)}(t):p(t):h}function _(t,e,n,r){return{x:t,y:e,width:n,height:r}}var v=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=_(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=g(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),y=function(t,e){var n,r,i,a,o,s,u,c=(r=(n=e).x,i=n.y,a=n.width,o=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,u=Object.create(s.prototype),l(u,{x:r,y:i,width:a,height:o,top:i,right:r+a,bottom:o+i,left:r}),u);l(this,{target:t,contentRect:c})},b=function(){function t(t,e,r){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=r}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof c(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new v(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof c(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new y(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),x="undefined"!=typeof WeakMap?new WeakMap:new n,w=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=u.getInstance(),r=new b(e,n,this);x.set(this,r)};["observe","unobserve","disconnect"].forEach((function(t){w.prototype[t]=function(){var e;return(e=x.get(this))[t].apply(e,arguments)}}));var T=void 0!==i.ResizeObserver?i.ResizeObserver:w;e.default=T}.call(this,n("c8ba"))},"6eba":function(t,e,n){n("23e7")({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}})},"6eeb":function(t,e,n){var r=n("da84"),i=n("9112"),a=n("5135"),o=n("ce4e"),s=n("8925"),u=n("69f3"),l=u.get,c=u.enforce,h=String(String).split("String");(t.exports=function(t,e,n,s){var u=!!s&&!!s.unsafe,l=!!s&&!!s.enumerable,f=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof e||a(n,"name")||i(n,"name",e),c(n).source=h.join("string"==typeof e?e:"")),t!==r?(u?!f&&t[e]&&(l=!0):delete t[e],l?t[e]=n:i(t,e,n)):l?t[e]=n:o(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||s(this)}))},"6f4f":function(t,e,n){var r=n("77e9"),i=n("85e7"),a=n("9742"),o=n("5a94")("IE_PROTO"),s=function(){},u=function(){var t,e=n("05f5")("iframe"),r=a.length;for(e.style.display="none",n("9141").appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;r--;)delete u.prototype[a[r]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=r(t),n=new s,s.prototype=null,n[o]=t):n=u(),void 0===e?n:i(n,e)}},"6f53":function(t,e,n){var r=n("83ab"),i=n("df75"),a=n("fc6a"),o=n("d1e7").f,s=function(t){return function(e){for(var n,s=a(e),u=i(s),l=u.length,c=0,h=[];l>c;)n=u[c++],r&&!o.call(s,n)||h.push(t?[n,s[n]]:s[n]);return h}};t.exports={entries:s(!0),values:s(!1)}},7037:function(t,e,n){function r(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=r=function(t){return typeof t}:t.exports=r=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(e)}n("a4d3"),n("e01a"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0"),n("a4d3"),n("e01a"),n("d28b"),n("e260"),n("d3b7"),n("3ca3"),n("ddb0"),t.exports=r},7039:function(t,e,n){var r=n("23e7"),i=n("d039"),a=n("057f").f;r({target:"Object",stat:!0,forced:i((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:a})},7067:function(t,e,n){"use strict";var r=n("1d44");n.n(r).a},7098:function(t,e,n){"use strict";n("a4d3"),n("e01a"),n("99af"),n("4de4"),n("4160"),n("d81d"),n("13d5"),n("b64b"),n("d3b7"),n("25f0"),n("159b"),n("a4d3"),n("e01a"),n("99af"),n("4de4"),n("4160"),n("d81d"),n("13d5"),n("b64b"),n("d3b7"),n("25f0"),n("159b");var r=n("7037"),i=function(t){return function(t){return!!t&&"object"===r(t)}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===a}(t)}(t)};var a="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function o(t,e){return!1!==e.clone&&e.isMergeableObject(t)?h((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function s(t,e,n){return t.concat(e).map((function(t){return o(t,n)}))}function u(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(e){return t.propertyIsEnumerable(e)})):[]}(t))}function l(t,e){try{return e in t}catch(t){return!1}}function c(t,e,n){var r={};return n.isMergeableObject(t)&&u(t).forEach((function(e){r[e]=o(t[e],n)})),u(e).forEach((function(i){(function(t,e){return l(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,i)||(l(t,i)&&n.isMergeableObject(e[i])?r[i]=function(t,e){if(!e.customMerge)return h;var n=e.customMerge(t);return"function"==typeof n?n:h}(i,n)(t[i],e[i],n):r[i]=o(e[i],n))})),r}function h(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||s,n.isMergeableObject=n.isMergeableObject||i,n.cloneUnlessOtherwiseSpecified=o;var r=Array.isArray(e);return r===Array.isArray(t)?r?n.arrayMerge(t,e,n):c(t,e,n):o(e,n)}h.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,n){return h(t,n,e)}),{})};var f=h;t.exports=f},"70a3":function(t,e,n){},7156:function(t,e,n){var r=n("861d"),i=n("d2bb");t.exports=function(t,e,n){var a,o;return i&&"function"==typeof(a=e.constructor)&&a!==n&&r(o=a.prototype)&&o!==n.prototype&&i(t,o),t}},7182:function(t,e,n){},"72f7":function(t,e,n){"use strict";var r=n("ebb5").exportTypedArrayMethod,i=n("d039"),a=n("da84").Uint8Array,o=a&&a.prototype||{},s=[].toString,u=[].join;i((function(){s.call({})}))&&(s=function(){return u.call(this)});var l=o.toString!=s;r("toString",s,l)},7330:function(t,e,n){"use strict";var r=n("79fe");n.n(r).a},"735e":function(t,e,n){"use strict";var r=n("ebb5"),i=n("81d5"),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("fill",(function(t){return i.apply(a(this),arguments)}))},"73d9":function(t,e,n){n("44d2")("flatMap")},7418:function(t,e){e.f=Object.getOwnPropertySymbols},"746f":function(t,e,n){var r=n("428f"),i=n("5135"),a=n("e538"),o=n("9bf2").f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});i(e,t)||o(e,t,{value:a.f(t)})}},"74e8":function(t,e,n){"use strict";var r=n("23e7"),i=n("da84"),a=n("83ab"),o=n("8aa7"),s=n("ebb5"),u=n("621a"),l=n("19aa"),c=n("5c6c"),h=n("9112"),f=n("50c4"),d=n("0b25"),p=n("182d"),m=n("c04e"),g=n("5135"),_=n("f5df"),v=n("861d"),y=n("7c73"),b=n("d2bb"),x=n("241c").f,w=n("a078"),T=n("b727").forEach,S=n("2626"),E=n("9bf2"),C=n("06cf"),A=n("69f3"),M=n("7156"),O=A.get,D=A.set,N=E.f,I=C.f,P=Math.round,L=i.RangeError,R=u.ArrayBuffer,k=u.DataView,B=s.NATIVE_ARRAY_BUFFER_VIEWS,F=s.TYPED_ARRAY_TAG,z=s.TypedArray,j=s.TypedArrayPrototype,U=s.aTypedArrayConstructor,H=s.isTypedArray,V=function(t,e){for(var n=0,r=e.length,i=new(U(t))(r);r>n;)i[n]=e[n++];return i},G=function(t,e){N(t,e,{get:function(){return O(this)[e]}})},W=function(t){var e;return t instanceof R||"ArrayBuffer"==(e=_(t))||"SharedArrayBuffer"==e},$=function(t,e){return H(t)&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},X=function(t,e){return $(t,e=m(e,!0))?c(2,t[e]):I(t,e)},q=function(t,e,n){return!($(t,e=m(e,!0))&&v(n)&&g(n,"value"))||g(n,"get")||g(n,"set")||n.configurable||g(n,"writable")&&!n.writable||g(n,"enumerable")&&!n.enumerable?N(t,e,n):(t[e]=n.value,t)};a?(B||(C.f=X,E.f=q,G(j,"buffer"),G(j,"byteOffset"),G(j,"byteLength"),G(j,"length")),r({target:"Object",stat:!0,forced:!B},{getOwnPropertyDescriptor:X,defineProperty:q}),t.exports=function(t,e,n){var a=t.match(/\d+$/)[0]/8,s=t+(n?"Clamped":"")+"Array",u="get"+t,c="set"+t,m=i[s],g=m,_=g&&g.prototype,E={},C=function(t,e){N(t,e,{get:function(){return function(t,e){var n=O(t);return n.view[u](e*a+n.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,r){var i=O(t);n&&(r=(r=P(r))<0?0:r>255?255:255&r),i.view[c](e*a+i.byteOffset,r,!0)}(this,e,t)},enumerable:!0})};B?o&&(g=e((function(t,e,n,r){return l(t,g,s),M(v(e)?W(e)?void 0!==r?new m(e,p(n,a),r):void 0!==n?new m(e,p(n,a)):new m(e):H(e)?V(g,e):w.call(g,e):new m(d(e)),t,g)})),b&&b(g,z),T(x(m),(function(t){t in g||h(g,t,m[t])})),g.prototype=_):(g=e((function(t,e,n,r){l(t,g,s);var i,o,u,c=0,h=0;if(v(e)){if(!W(e))return H(e)?V(g,e):w.call(g,e);i=e,h=p(n,a);var m=e.byteLength;if(void 0===r){if(m%a)throw L("Wrong length");if((o=m-h)<0)throw L("Wrong length")}else if((o=f(r)*a)+h>m)throw L("Wrong length");u=o/a}else u=d(e),i=new R(o=u*a);for(D(t,{buffer:i,byteOffset:h,byteLength:o,length:u,view:new k(i)});c<u;)C(t,c++)})),b&&b(g,z),_=g.prototype=y(j)),_.constructor!==g&&h(_,"constructor",g),F&&h(_,F,s),E[s]=g,r({global:!0,forced:g!=m,sham:!B},E),"BYTES_PER_ELEMENT"in g||h(g,"BYTES_PER_ELEMENT",a),"BYTES_PER_ELEMENT"in _||h(_,"BYTES_PER_ELEMENT",a),S(s)}):t.exports=function(){}},"77a7":function(t,e){var n=Math.abs,r=Math.pow,i=Math.floor,a=Math.log,o=Math.LN2;t.exports={pack:function(t,e,s){var u,l,c,h=new Array(s),f=8*s-e-1,d=(1<<f)-1,p=d>>1,m=23===e?r(2,-24)-r(2,-77):0,g=t<0||0===t&&1/t<0?1:0,_=0;for((t=n(t))!=t||t===1/0?(l=t!=t?1:0,u=d):(u=i(a(t)/o),t*(c=r(2,-u))<1&&(u--,c*=2),(t+=u+p>=1?m/c:m*r(2,1-p))*c>=2&&(u++,c/=2),u+p>=d?(l=0,u=d):u+p>=1?(l=(t*c-1)*r(2,e),u+=p):(l=t*r(2,p-1)*r(2,e),u=0));e>=8;h[_++]=255&l,l/=256,e-=8);for(u=u<<e|l,f+=e;f>0;h[_++]=255&u,u/=256,f-=8);return h[--_]|=128*g,h},unpack:function(t,e){var n,i=t.length,a=8*i-e-1,o=(1<<a)-1,s=o>>1,u=a-7,l=i-1,c=t[l--],h=127&c;for(c>>=7;u>0;h=256*h+t[l],l--,u-=8);for(n=h&(1<<-u)-1,h>>=-u,u+=e;u>0;n=256*n+t[l],l--,u-=8);if(0===h)h=1-s;else{if(h===o)return n?NaN:c?-1/0:1/0;n+=r(2,e),h-=s}return(c?-1:1)*n*r(2,h-e)}}},"77e9":function(t,e,n){var r=n("7a41");t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},7839:function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},7898:function(t,e,n){var r=n("23e7"),i=n("8eb5"),a=Math.exp;r({target:"Math",stat:!0},{tanh:function(t){var e=i(t=+t),n=i(-t);return e==1/0?1:n==1/0?-1:(e-n)/(a(t)+a(-t))}})},"79a8":function(t,e,n){var r=n("23e7"),i=Math.asinh,a=Math.log,o=Math.sqrt;r({target:"Math",stat:!0,forced:!(i&&1/i(0)>0)},{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):a(e+o(e*e+1)):e}})},"79fe":function(t,e,n){},"7a41":function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},"7a77":function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},"7a82":function(t,e,n){var r=n("23e7"),i=n("83ab");r({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperty:n("9bf2").f})},"7aac":function(t,e,n){"use strict";var r=n("c532");t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,i,a,o){var s=[];s.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},"7ad1":function(t,e,n){},"7b0b":function(t,e,n){var r=n("1d80");t.exports=function(t){return Object(r(t))}},"7b3e":function(t,e,n){"use strict";var r,i=n("a3de");i.canUseDOM&&(r=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("",""))
/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */,t.exports=function(t,e){if(!i.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,a=n in document;if(!a){var o=document.createElement("div");o.setAttribute(n,"return;"),a="function"==typeof o[n]}return!a&&r&&"wheel"===t&&(a=document.implementation.hasFeature("Events.wheel","3.0")),a}},"7c73":function(t,e,n){var r,i=n("825a"),a=n("37e8"),o=n("7839"),s=n("d012"),u=n("1be4"),l=n("cc12"),c=n("f772"),h=c("IE_PROTO"),f=function(){},d=function(t){return"<script>"+t+"<\/script>"},p=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;p=r?function(t){t.write(d("")),t.close();var e=t.parentWindow.Object;return t=null,e}(r):((e=l("iframe")).style.display="none",u.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(d("document.F=Object")),t.close(),t.F);for(var n=o.length;n--;)delete p.prototype[o[n]];return p()};s[h]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(f.prototype=i(t),n=new f,f.prototype=null,n[h]=t):n=p(),void 0===e?n:a(n,e)}},"7cb2":function(t,e,n){var r;r=function(t){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=106)}([function(e,n){e.exports=t},function(t,e,n){"use strict";var r=n(40),i=n(52),a=n(5),o=n(4),s=n(8),u=n(19),l=n(35),c=n(15),h=n(0),f=n.n(h),d=n(36),p=n(60),m=n.n(p),g=n(61),_=n(124),v=n(125),y=n(129),b=n(130),x=n(2),w=n(132),T=n(43),S=n(76),E=n(133),C=n(134),A=n(135),M=n(136),O=n(41),D=n(37),N=n(26),I=n(3),P=n(137),L=n(56),R=n(138),k=n(139),B=n(140),F=n(9),z=n(74),j=n(54),U=n(18),H=n(59),V=n(141),G=n(146),W=n(71),$=n(147),X=n(148),q=n(149),Y=n(150),Z=n(151),K=n(152);function J(t){return t instanceof HTMLCanvasElement||t instanceof HTMLImageElement||t instanceof Image}f.a.util.extend(l.a.prototype,V.a),s.a.import(G.a),s.a.import(W.a),s.a.import($.a),s.a.import(X.a),s.a.import(q.a),s.a.import(Y.a),s.a.import(Z.a),s.a.import(K.a);var Q=d.a.prototype.addToScene,tt=d.a.prototype.removeFromScene;d.a.prototype.addToScene=function(t){if(Q.call(this,t),this.__zr){var e=this.__zr;t.traverse((function(t){t.__zr=e,t.addAnimatorsToZr&&t.addAnimatorsToZr(e)}))}},d.a.prototype.removeFromScene=function(t){tt.call(this,t),t.traverse((function(t){var e=t.__zr;t.__zr=null,e&&t.removeAnimatorsFromZr&&t.removeAnimatorsFromZr(e)}))},u.a.prototype.setTextureImage=function(t,e,n,r){if(this.shader){var i,a,o=n.getZr(),s=this;return s.autoUpdateTextureStatus=!1,s.disableTexture(t),(a=e)&&"none"!==a&&(i=et.loadTexture(e,n,r,(function(e){s.enableTexture(t),o&&o.refresh()})),s.set(t,i)),i}};var et={};et.Renderer=i.a,et.Node=l.a,et.Mesh=r.a,et.Shader=s.a,et.Material=u.a,et.Texture=o.a,et.Texture2D=a.a,et.Geometry=c.a,et.SphereGeometry=w.a,et.PlaneGeometry=T.a,et.CubeGeometry=S.a,et.AmbientLight=E.a,et.DirectionalLight=C.a,et.PointLight=A.a,et.SpotLight=M.a,et.PerspectiveCamera=O.a,et.OrthographicCamera=D.a,et.Vector2=N.a,et.Vector3=I.a,et.Vector4=P.a,et.Quaternion=L.a,et.Matrix2=R.a,et.Matrix2d=k.a,et.Matrix3=B.a,et.Matrix4=F.a,et.Plane=z.a,et.Ray=j.a,et.BoundingBox=U.a,et.Frustum=H.a;var nt=g.a.createBlank("rgba(255,255,255,0)").image;function rt(t){return Math.pow(2,Math.round(Math.log(t)/Math.LN2))}function it(t){if((t.wrapS===o.a.REPEAT||t.wrapT===o.a.REPEAT)&&t.image){var e=rt(t.width),n=rt(t.height);if(e!==t.width||n!==t.height){var r=document.createElement("canvas");r.width=e,r.height=n,r.getContext("2d").drawImage(t.image,0,0,e,n),t.image=r}}}et.loadTexture=function(t,e,n,r){"function"==typeof n&&(r=n,n={}),n=n||{};for(var i=Object.keys(n).sort(),a="",o=0;o<i.length;o++)a+=i[o]+"_"+n[i[o]]+"_";var s,u=e.__textureCache=e.__textureCache||new m.a(20);if((s=t).getZr&&s.setOption){var l=t.__textureid__;if(h=u.get(a+l))h.texture.surface.setECharts(t),r&&r(h.texture);else{var c=new _.a(t);for(c.onupdate=function(){e.getZr().refresh()},h={texture:c.getTexture()},o=0;o<i.length;o++)h.texture[i[o]]=n[i[o]];l=t.__textureid__||"__ecgl_ec__"+h.texture.__uid__,t.__textureid__=l,u.put(a+l,h),r&&r(h.texture)}return h.texture}if(J(t)){var h;if(l=t.__textureid__,!(h=u.get(a+l))){for(h={texture:new et.Texture2D({image:t})},o=0;o<i.length;o++)h.texture[i[o]]=n[i[o]];l=t.__textureid__||"__ecgl_image__"+h.texture.__uid__,t.__textureid__=l,u.put(a+l,h),it(h.texture),r&&r(h.texture)}return h.texture}if(h=u.get(a+t))h.callbacks?h.callbacks.push(r):r&&r(h.texture);else if(t.match(/.hdr$|^data:application\/octet-stream/)){h={callbacks:[r]};var f=g.a.loadTexture(t,{exposure:n.exposure,fileType:"hdr"},(function(){f.dirty(),h.callbacks.forEach((function(t){t&&t(f)})),h.callbacks=null}));h.texture=f,u.put(a+t,h)}else{for(f=new et.Texture2D({image:new Image}),o=0;o<i.length;o++)f[i[o]]=n[i[o]];h={texture:f,callbacks:[r]};var d=f.image;d.onload=function(){f.image=d,it(f),f.dirty(),h.callbacks.forEach((function(t){t&&t(f)})),h.callbacks=null},d.src=t,f.image=nt,u.put(a+t,h)}return h.texture},et.createAmbientCubemap=function(t,e,n,r){var i=(t=t||{}).texture,a=x.a.firstNotNull(t.exposure,1),o=new v.a({intensity:x.a.firstNotNull(t.specularIntensity,1)}),s=new y.a({intensity:x.a.firstNotNull(t.diffuseIntensity,1),coefficients:[.844,.712,.691,-.037,.083,.167,.343,.288,.299,-.041,-.021,-.009,-.003,-.041,-.064,-.011,-.007,-.004,-.031,.034,.081,-.06,-.049,-.06,.046,.056,.05]});return o.cubemap=et.loadTexture(i,n,{exposure:a},(function(){o.cubemap.flipY=!1;var t=Date.now();o.prefilter(e,32);var n=Date.now()-t;console.log("Prefilter environment map: "+n+"ms"),s.coefficients=b.a.projectEnvironmentMap(e,o.cubemap,{lod:1}),r&&r()})),{specular:o,diffuse:s}},et.createBlankTexture=g.a.createBlank,et.isImage=J,et.additiveBlend=function(t){t.blendEquation(t.FUNC_ADD),t.blendFunc(t.SRC_ALPHA,t.ONE)},et.parseColor=function(t,e){return t instanceof Array?(e||(e=[]),e[0]=t[0],e[1]=t[1],e[2]=t[2],t.length>3?e[3]=t[3]:e[3]=1,e):((e=f.a.color.parse(t||"#000",e)||[0,0,0,0])[0]/=255,e[1]/=255,e[2]/=255,e)},et.directionFromAlphaBeta=function(t,e){var n=t/180*Math.PI+Math.PI/2,r=-e/180*Math.PI+Math.PI/2,i=[],a=Math.sin(n);return i[0]=a*Math.cos(r),i[1]=-Math.cos(n),i[2]=a*Math.sin(r),i},et.getShadowResolution=function(t){var e=1024;switch(t){case"low":e=512;break;case"medium":break;case"high":e=2048;break;case"ultra":e=4096}return e},et.COMMON_SHADERS=["lambert","color","realistic","hatching"],et.createShader=function(t){var e=s.a.source(t+".vertex"),n=s.a.source(t+".fragment");e||console.error("Vertex shader of '%s' not exits",t),n||console.error("Fragment shader of '%s' not exits",t);var r=new s.a(e,n);return r.name=t,r},et.createMaterial=function(t,e){e instanceof Array||(e=[e]);var n=et.createShader(t),r=new u.a({shader:n});return e.forEach((function(t){"string"==typeof t&&r.define(t)})),r},et.setMaterialFromModel=function(t,e,n,r){e.autoUpdateTextureStatus=!1;var i=n.getModel(t+"Material"),a=i.get("detailTexture"),o=x.a.firstNotNull(i.get("textureTiling"),1),s=x.a.firstNotNull(i.get("textureOffset"),0);"number"==typeof o&&(o=[o,o]),"number"==typeof s&&(s=[s,s]);var u=o[0]>1||o[1]>1?et.Texture.REPEAT:et.Texture.CLAMP_TO_EDGE,l={anisotropic:8,wrapS:u,wrapT:u};if("realistic"===t){var c=i.get("roughness"),h=i.get("metalness");null!=h?isNaN(h)&&(e.setTextureImage("metalnessMap",h,r,l),h=x.a.firstNotNull(i.get("metalnessAdjust"),.5)):h=0,null!=c?isNaN(c)&&(e.setTextureImage("roughnessMap",c,r,l),c=x.a.firstNotNull(i.get("roughnessAdjust"),.5)):c=.5;var f=i.get("normalTexture");e.setTextureImage("detailMap",a,r,l),e.setTextureImage("normalMap",f,r,l),e.set({roughness:c,metalness:h,detailUvRepeat:o,detailUvOffset:s})}else if("lambert"===t)e.setTextureImage("detailMap",a,r,l),e.set({detailUvRepeat:o,detailUvOffset:s});else if("color"===t)e.setTextureImage("detailMap",a,r,l),e.set({detailUvRepeat:o,detailUvOffset:s});else if("hatching"===t){var d=i.get("hatchingTextures")||[];d.length<6&&console.error("Invalid hatchingTextures.");for(var p=0;p<6;p++)e.setTextureImage("hatch"+(p+1),d[p],r,{anisotropic:8,wrapS:et.Texture.REPEAT,wrapT:et.Texture.REPEAT});e.set({detailUvRepeat:o,detailUvOffset:s})}},et.updateVertexAnimation=function(t,e,n,r){var i=r.get("animation"),a=r.get("animationDurationUpdate"),o=r.get("animationEasingUpdate"),s=n.shadowDepthMaterial;if(i&&e&&a>0&&e.geometry.vertexCount===n.geometry.vertexCount){n.material.define("vertex","VERTEX_ANIMATION"),n.ignorePreZ=!0,s&&s.define("vertex","VERTEX_ANIMATION");for(var u=0;u<t.length;u++)n.geometry.attributes[t[u][0]].value=e.geometry.attributes[t[u][1]].value;n.geometry.dirty(),n.__percent=0,n.material.set("percent",0),n.stopAnimation(),n.animate().when(a,{__percent:1}).during((function(){n.material.set("percent",n.__percent),s&&s.set("percent",n.__percent)})).done((function(){n.ignorePreZ=!1,n.material.undefine("vertex","VERTEX_ANIMATION"),s&&s.undefine("vertex","VERTEX_ANIMATION")})).start(o)}else n.material.undefine("vertex","VERTEX_ANIMATION"),s&&s.undefine("vertex","VERTEX_ANIMATION")},e.a=et},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a={firstNotNull:function(){for(var t=0,e=arguments.length;t<e;t++)if(null!=arguments[t])return arguments[t]},queryDataIndex:function(t,e){return null!=e.dataIndexInside?e.dataIndexInside:null!=e.dataIndex?i.a.util.isArray(e.dataIndex)?i.a.util.map(e.dataIndex,(function(e){return t.indexOfRawIndex(e)})):t.indexOfRawIndex(e.dataIndex):null!=e.name?i.a.util.isArray(e.name)?i.a.util.map(e.name,(function(e){return t.indexOfName(e)})):t.indexOfName(e.name):void 0}};e.a=a},function(t,e,n){"use strict";var r=n(12),i=function(t,e,n){t=t||0,e=e||0,n=n||0,this.array=r.a.fromValues(t,e,n),this._dirty=!0};i.prototype={constructor:i,add:function(t){return r.a.add(this.array,this.array,t.array),this._dirty=!0,this},set:function(t,e,n){return this.array[0]=t,this.array[1]=e,this.array[2]=n,this._dirty=!0,this},setArray:function(t){return this.array[0]=t[0],this.array[1]=t[1],this.array[2]=t[2],this._dirty=!0,this},clone:function(){return new i(this.x,this.y,this.z)},copy:function(t){return r.a.copy(this.array,t.array),this._dirty=!0,this},cross:function(t,e){return r.a.cross(this.array,t.array,e.array),this._dirty=!0,this},dist:function(t){return r.a.dist(this.array,t.array)},distance:function(t){return r.a.distance(this.array,t.array)},div:function(t){return r.a.div(this.array,this.array,t.array),this._dirty=!0,this},divide:function(t){return r.a.divide(this.array,this.array,t.array),this._dirty=!0,this},dot:function(t){return r.a.dot(this.array,t.array)},len:function(){return r.a.len(this.array)},length:function(){return r.a.length(this.array)},lerp:function(t,e,n){return r.a.lerp(this.array,t.array,e.array,n),this._dirty=!0,this},min:function(t){return r.a.min(this.array,this.array,t.array),this._dirty=!0,this},max:function(t){return r.a.max(this.array,this.array,t.array),this._dirty=!0,this},mul:function(t){return r.a.mul(this.array,this.array,t.array),this._dirty=!0,this},multiply:function(t){return r.a.multiply(this.array,this.array,t.array),this._dirty=!0,this},negate:function(){return r.a.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return r.a.normalize(this.array,this.array),this._dirty=!0,this},random:function(t){return r.a.random(this.array,t),this._dirty=!0,this},scale:function(t){return r.a.scale(this.array,this.array,t),this._dirty=!0,this},scaleAndAdd:function(t,e){return r.a.scaleAndAdd(this.array,this.array,t.array,e),this._dirty=!0,this},sqrDist:function(t){return r.a.sqrDist(this.array,t.array)},squaredDistance:function(t){return r.a.squaredDistance(this.array,t.array)},sqrLen:function(){return r.a.sqrLen(this.array)},squaredLength:function(){return r.a.squaredLength(this.array)},sub:function(t){return r.a.sub(this.array,this.array,t.array),this._dirty=!0,this},subtract:function(t){return r.a.subtract(this.array,this.array,t.array),this._dirty=!0,this},transformMat3:function(t){return r.a.transformMat3(this.array,this.array,t.array),this._dirty=!0,this},transformMat4:function(t){return r.a.transformMat4(this.array,this.array,t.array),this._dirty=!0,this},transformQuat:function(t){return r.a.transformQuat(this.array,this.array,t.array),this._dirty=!0,this},applyProjection:function(t){var e=this.array;if(0===(t=t.array)[15]){var n=-1/e[2];e[0]=t[0]*e[0]*n,e[1]=t[5]*e[1]*n,e[2]=(t[10]*e[2]+t[14])*n}else e[0]=t[0]*e[0]+t[12],e[1]=t[5]*e[1]+t[13],e[2]=t[10]*e[2]+t[14];return this._dirty=!0,this},eulerFromQuat:function(t,e){i.eulerFromQuat(this,t,e)},eulerFromMat3:function(t,e){i.eulerFromMat3(this,t,e)},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var a=Object.defineProperty;if(a){var o=i.prototype;a(o,"x",{get:function(){return this.array[0]},set:function(t){this.array[0]=t,this._dirty=!0}}),a(o,"y",{get:function(){return this.array[1]},set:function(t){this.array[1]=t,this._dirty=!0}}),a(o,"z",{get:function(){return this.array[2]},set:function(t){this.array[2]=t,this._dirty=!0}})}function s(t,e,n){return t<e?e:t>n?n:t}i.add=function(t,e,n){return r.a.add(t.array,e.array,n.array),t._dirty=!0,t},i.set=function(t,e,n,i){r.a.set(t.array,e,n,i),t._dirty=!0},i.copy=function(t,e){return r.a.copy(t.array,e.array),t._dirty=!0,t},i.cross=function(t,e,n){return r.a.cross(t.array,e.array,n.array),t._dirty=!0,t},i.distance=i.dist=function(t,e){return r.a.distance(t.array,e.array)},i.divide=i.div=function(t,e,n){return r.a.divide(t.array,e.array,n.array),t._dirty=!0,t},i.dot=function(t,e){return r.a.dot(t.array,e.array)},i.len=function(t){return r.a.length(t.array)},i.lerp=function(t,e,n,i){return r.a.lerp(t.array,e.array,n.array,i),t._dirty=!0,t},i.min=function(t,e,n){return r.a.min(t.array,e.array,n.array),t._dirty=!0,t},i.max=function(t,e,n){return r.a.max(t.array,e.array,n.array),t._dirty=!0,t},i.multiply=i.mul=function(t,e,n){return r.a.multiply(t.array,e.array,n.array),t._dirty=!0,t},i.negate=function(t,e){return r.a.negate(t.array,e.array),t._dirty=!0,t},i.normalize=function(t,e){return r.a.normalize(t.array,e.array),t._dirty=!0,t},i.random=function(t,e){return r.a.random(t.array,e),t._dirty=!0,t},i.scale=function(t,e,n){return r.a.scale(t.array,e.array,n),t._dirty=!0,t},i.scaleAndAdd=function(t,e,n,i){return r.a.scaleAndAdd(t.array,e.array,n.array,i),t._dirty=!0,t},i.squaredDistance=i.sqrDist=function(t,e){return r.a.sqrDist(t.array,e.array)},i.squaredLength=i.sqrLen=function(t){return r.a.sqrLen(t.array)},i.subtract=i.sub=function(t,e,n){return r.a.subtract(t.array,e.array,n.array),t._dirty=!0,t},i.transformMat3=function(t,e,n){return r.a.transformMat3(t.array,e.array,n.array),t._dirty=!0,t},i.transformMat4=function(t,e,n){return r.a.transformMat4(t.array,e.array,n.array),t._dirty=!0,t},i.transformQuat=function(t,e,n){return r.a.transformQuat(t.array,e.array,n.array),t._dirty=!0,t};var u=Math.atan2,l=Math.asin,c=Math.abs;i.eulerFromQuat=function(t,e,n){t._dirty=!0,e=e.array;var r=t.array,i=e[0],a=e[1],o=e[2],c=e[3],h=i*i,f=a*a,d=o*o,p=c*c;switch(n=(n||"XYZ").toUpperCase()){case"XYZ":r[0]=u(2*(i*c-a*o),p-h-f+d),r[1]=l(s(2*(i*o+a*c),-1,1)),r[2]=u(2*(o*c-i*a),p+h-f-d);break;case"YXZ":r[0]=l(s(2*(i*c-a*o),-1,1)),r[1]=u(2*(i*o+a*c),p-h-f+d),r[2]=u(2*(i*a+o*c),p-h+f-d);break;case"ZXY":r[0]=l(s(2*(i*c+a*o),-1,1)),r[1]=u(2*(a*c-o*i),p-h-f+d),r[2]=u(2*(o*c-i*a),p-h+f-d);break;case"ZYX":r[0]=u(2*(i*c+o*a),p-h-f+d),r[1]=l(s(2*(a*c-i*o),-1,1)),r[2]=u(2*(i*a+o*c),p+h-f-d);break;case"YZX":r[0]=u(2*(i*c-o*a),p-h+f-d),r[1]=u(2*(a*c-i*o),p+h-f-d),r[2]=l(s(2*(i*a+o*c),-1,1));break;case"XZY":r[0]=u(2*(i*c+a*o),p-h+f-d),r[1]=u(2*(i*o+a*c),p+h-f-d),r[2]=l(s(2*(o*c-i*a),-1,1));break;default:console.warn("Unkown order: "+n)}return t},i.eulerFromMat3=function(t,e,n){var r=e.array,i=r[0],a=r[3],o=r[6],h=r[1],f=r[4],d=r[7],p=r[2],m=r[5],g=r[8],_=t.array;switch(n=(n||"XYZ").toUpperCase()){case"XYZ":_[1]=l(s(o,-1,1)),c(o)<.99999?(_[0]=u(-d,g),_[2]=u(-a,i)):(_[0]=u(m,f),_[2]=0);break;case"YXZ":_[0]=l(-s(d,-1,1)),c(d)<.99999?(_[1]=u(o,g),_[2]=u(h,f)):(_[1]=u(-p,i),_[2]=0);break;case"ZXY":_[0]=l(s(m,-1,1)),c(m)<.99999?(_[1]=u(-p,g),_[2]=u(-a,f)):(_[1]=0,_[2]=u(h,i));break;case"ZYX":_[1]=l(-s(p,-1,1)),c(p)<.99999?(_[0]=u(m,g),_[2]=u(h,i)):(_[0]=0,_[2]=u(-a,f));break;case"YZX":_[2]=l(s(h,-1,1)),c(h)<.99999?(_[0]=u(-d,f),_[1]=u(-p,i)):(_[0]=0,_[1]=u(o,g));break;case"XZY":_[2]=l(-s(a,-1,1)),c(a)<.99999?(_[0]=u(m,f),_[1]=u(o,i)):(_[0]=u(-d,g),_[1]=0);break;default:console.warn("Unkown order: "+n)}return t._dirty=!0,t},Object.defineProperties(i,{POSITIVE_X:{get:function(){return new i(1,0,0)}},NEGATIVE_X:{get:function(){return new i(-1,0,0)}},POSITIVE_Y:{get:function(){return new i(0,1,0)}},NEGATIVE_Y:{get:function(){return new i(0,-1,0)}},POSITIVE_Z:{get:function(){return new i(0,0,1)}},NEGATIVE_Z:{get:function(){return new i(0,0,-1)}},UP:{get:function(){return new i(0,1,0)}},ZERO:{get:function(){return new i}}}),e.a=i},function(t,e,n){"use strict";var r=n(7),i=n(11),a=n(57),o=r.a.extend({width:512,height:512,type:i.a.UNSIGNED_BYTE,format:i.a.RGBA,wrapS:i.a.REPEAT,wrapT:i.a.REPEAT,minFilter:i.a.LINEAR_MIPMAP_LINEAR,magFilter:i.a.LINEAR,useMipmap:!0,anisotropic:1,flipY:!0,sRGB:!0,unpackAlignment:4,premultiplyAlpha:!1,dynamic:!1,NPOT:!1,__used:0},(function(){this._cache=new a.a}),{getWebGLTexture:function(t){var e=t.gl,n=this._cache;return n.use(t.__uid__),n.miss("webgl_texture")&&n.put("webgl_texture",e.createTexture()),this.dynamic?this.update(t):n.isDirty()&&(this.update(t),n.fresh()),n.get("webgl_texture")},bind:function(){},unbind:function(){},dirty:function(){this._cache&&this._cache.dirtyAll()},update:function(t){},updateCommon:function(t){var e=t.gl;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,this.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,this.unpackAlignment),this.format===i.a.DEPTH_COMPONENT&&(this.useMipmap=!1);var n=t.getGLExtension("EXT_sRGB");this.format!==o.SRGB||n||(this.format=o.RGB),this.format!==o.SRGB_ALPHA||n||(this.format=o.RGBA),this.NPOT=!this.isPowerOfTwo()},getAvailableWrapS:function(){return this.NPOT?i.a.CLAMP_TO_EDGE:this.wrapS},getAvailableWrapT:function(){return this.NPOT?i.a.CLAMP_TO_EDGE:this.wrapT},getAvailableMinFilter:function(){var t=this.minFilter;return this.NPOT||!this.useMipmap?t===i.a.NEAREST_MIPMAP_NEAREST||t===i.a.NEAREST_MIPMAP_LINEAR?i.a.NEAREST:t===i.a.LINEAR_MIPMAP_LINEAR||t===i.a.LINEAR_MIPMAP_NEAREST?i.a.LINEAR:t:t},getAvailableMagFilter:function(){return this.magFilter},nextHighestPowerOfTwo:function(t){--t;for(var e=1;e<32;e<<=1)t|=t>>e;return t+1},dispose:function(t){var e=this._cache;e.use(t.__uid__);var n=e.get("webgl_texture");n&&t.gl.deleteTexture(n),e.deleteContext(t.__uid__)},isRenderable:function(){},isPowerOfTwo:function(){}});Object.defineProperty(o.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t}}),Object.defineProperty(o.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t}}),o.BYTE=i.a.BYTE,o.UNSIGNED_BYTE=i.a.UNSIGNED_BYTE,o.SHORT=i.a.SHORT,o.UNSIGNED_SHORT=i.a.UNSIGNED_SHORT,o.INT=i.a.INT,o.UNSIGNED_INT=i.a.UNSIGNED_INT,o.FLOAT=i.a.FLOAT,o.HALF_FLOAT=36193,o.UNSIGNED_INT_24_8_WEBGL=34042,o.DEPTH_COMPONENT=i.a.DEPTH_COMPONENT,o.DEPTH_STENCIL=i.a.DEPTH_STENCIL,o.ALPHA=i.a.ALPHA,o.RGB=i.a.RGB,o.RGBA=i.a.RGBA,o.LUMINANCE=i.a.LUMINANCE,o.LUMINANCE_ALPHA=i.a.LUMINANCE_ALPHA,o.SRGB=35904,o.SRGB_ALPHA=35906,o.COMPRESSED_RGB_S3TC_DXT1_EXT=33776,o.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777,o.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778,o.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779,o.NEAREST=i.a.NEAREST,o.LINEAR=i.a.LINEAR,o.NEAREST_MIPMAP_NEAREST=i.a.NEAREST_MIPMAP_NEAREST,o.LINEAR_MIPMAP_NEAREST=i.a.LINEAR_MIPMAP_NEAREST,o.NEAREST_MIPMAP_LINEAR=i.a.NEAREST_MIPMAP_LINEAR,o.LINEAR_MIPMAP_LINEAR=i.a.LINEAR_MIPMAP_LINEAR,o.REPEAT=i.a.REPEAT,o.CLAMP_TO_EDGE=i.a.CLAMP_TO_EDGE,o.MIRRORED_REPEAT=i.a.MIRRORED_REPEAT,e.a=o},function(t,e,n){"use strict";var r=n(4),i=n(11),a=n(14),o=n(73).a.isPowerOfTwo;function s(t){return Math.pow(2,Math.round(Math.log(t)/Math.LN2))}var u=r.a.extend((function(){return{image:null,pixels:null,mipmaps:[],convertToPOT:!1}}),{textureType:"texture2D",update:function(t){var e=t.gl;e.bindTexture(e.TEXTURE_2D,this._cache.get("webgl_texture")),this.updateCommon(t);var n=this.format,a=this.type,o=!(!this.convertToPOT||this.mipmaps.length||!this.image||this.wrapS!==r.a.REPEAT&&this.wrapT!==r.a.REPEAT||!this.NPOT);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,o?this.wrapS:this.getAvailableWrapS()),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,o?this.wrapT:this.getAvailableWrapT()),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,o?this.magFilter:this.getAvailableMagFilter()),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,o?this.minFilter:this.getAvailableMinFilter());var s=t.getGLExtension("EXT_texture_filter_anisotropic");if(s&&this.anisotropic>1&&e.texParameterf(e.TEXTURE_2D,s.TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropic),36193===a&&(t.getGLExtension("OES_texture_half_float")||(a=i.a.FLOAT)),this.mipmaps.length)for(var u=this.width,l=this.height,c=0;c<this.mipmaps.length;c++){var h=this.mipmaps[c];this._updateTextureData(e,h,c,u,l,n,a,!1),u/=2,l/=2}else this._updateTextureData(e,this,0,this.width,this.height,n,a,o),!this.useMipmap||this.NPOT&&!o||e.generateMipmap(e.TEXTURE_2D);e.bindTexture(e.TEXTURE_2D,null)},_updateTextureData:function(t,e,n,i,a,o,u,l){if(e.image){var c=e.image;l&&(this._potCanvas=function(t,e){var n=s(t.width),r=s(t.height);return(e=e||document.createElement("canvas")).width=n,e.height=r,e.getContext("2d").drawImage(t.image,0,0,n,r),e}(this,this._potCanvas),c=this._potCanvas),t.texImage2D(t.TEXTURE_2D,n,o,o,u,c)}else o<=r.a.COMPRESSED_RGBA_S3TC_DXT5_EXT&&o>=r.a.COMPRESSED_RGB_S3TC_DXT1_EXT?t.compressedTexImage2D(t.TEXTURE_2D,n,o,i,a,0,e.pixels):t.texImage2D(t.TEXTURE_2D,n,o,i,a,0,o,u,e.pixels)},generateMipmap:function(t){var e=t.gl;this.useMipmap&&!this.NPOT&&(e.bindTexture(e.TEXTURE_2D,this._cache.get("webgl_texture")),e.generateMipmap(e.TEXTURE_2D))},isPowerOfTwo:function(){return o(this.width)&&o(this.height)},isRenderable:function(){return this.image?"CANVAS"===this.image.nodeName||"VIDEO"===this.image.nodeName||this.image.complete:!(!this.width||!this.height)},bind:function(t){t.gl.bindTexture(t.gl.TEXTURE_2D,this.getWebGLTexture(t))},unbind:function(t){t.gl.bindTexture(t.gl.TEXTURE_2D,null)},load:function(t,e){var n=a.a.createImage();e&&(n.crossOrigin=e);var r=this;return n.onload=function(){r.dirty(),r.trigger("success",r),n.onload=null},n.onerror=function(){r.trigger("error",r),n.onerror=null},n.src=t,this.image=n,this}});Object.defineProperty(u.prototype,"width",{get:function(){return this.image?this.image.width:this._width},set:function(t){this.image?console.warn("Texture from image can't set width"):(this._width!==t&&this.dirty(),this._width=t)}}),Object.defineProperty(u.prototype,"height",{get:function(){return this.image?this.image.height:this._height},set:function(t){this.image?console.warn("Texture from image can't set height"):(this._height!==t&&this.dirty(),this._height=t)}}),e.a=u},function(t,e,n){"use strict";var r=n(161);e.a=r.a},function(t,e,n){"use strict";var r=n(110),i=n(53),a=n(23),o=function(){this.__uid__=a.a.genGUID()};o.__initializers__=[function(t){a.a.extend(this,t)}],a.a.extend(o,r.a),a.a.extend(o.prototype,i.a),e.a=o},function(t,e,n){"use strict";var r=n(23),i=n(14),a=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g,o=/attribute\s+(float|int|vec2|vec3|vec4)\s+([\s\S]*?);/g,s=/#define\s+(\w+)?(\s+[\d-.]+)?\s*;?\s*\n/g,u={bool:"1i",int:"1i",sampler2D:"t",samplerCube:"t",float:"1f",vec2:"2f",vec3:"3f",vec4:"4f",ivec2:"2i",ivec3:"3i",ivec4:"4i",mat2:"m2",mat3:"m3",mat4:"m4"};function l(t){for(var e=[],n=0;n<t;n++)e[n]=0;return e}var c={bool:function(){return!0},int:function(){return 0},float:function(){return 0},sampler2D:function(){return null},samplerCube:function(){return null},vec2:function(){return l(2)},vec3:function(){return l(3)},vec4:function(){return l(4)},ivec2:function(){return l(2)},ivec3:function(){return l(3)},ivec4:function(){return l(4)},mat2:function(){return l(4)},mat3:function(){return l(9)},mat4:function(){return l(16)},array:function(){return[]}},h=["POSITION","NORMAL","BINORMAL","TANGENT","TEXCOORD","TEXCOORD_0","TEXCOORD_1","COLOR","JOINT","WEIGHT"],f=["SKIN_MATRIX","VIEWPORT_SIZE","VIEWPORT","DEVICEPIXELRATIO","WINDOW_SIZE","NEAR","FAR","TIME"],d=["WORLD","VIEW","PROJECTION","WORLDVIEW","VIEWPROJECTION","WORLDVIEWPROJECTION","WORLDINVERSE","VIEWINVERSE","PROJECTIONINVERSE","WORLDVIEWINVERSE","VIEWPROJECTIONINVERSE","WORLDVIEWPROJECTIONINVERSE","WORLDTRANSPOSE","VIEWTRANSPOSE","PROJECTIONTRANSPOSE","WORLDVIEWTRANSPOSE","VIEWPROJECTIONTRANSPOSE","WORLDVIEWPROJECTIONTRANSPOSE","WORLDINVERSETRANSPOSE","VIEWINVERSETRANSPOSE","PROJECTIONINVERSETRANSPOSE","WORLDVIEWINVERSETRANSPOSE","VIEWPROJECTIONINVERSETRANSPOSE","WORLDVIEWPROJECTIONINVERSETRANSPOSE"],p={vec4:4,vec3:3,vec2:2,float:1},m={},g={};function _(t){return t.replace(/[ \t]*\/\/.*\n/g,"").replace(/[ \t]*\/\*[\s\S]*?\*\//g,"")}function v(){console.error("Wrong uniform/attributes syntax")}function y(t,e){for(var n=/[,=\(\):]/,r=e.replace(/:\s*\[\s*(.*)\s*\]/g,"="+t+"($1)").replace(/\s+/g,"").split(/(?=[,=\(\):])/g),a=[],o=0;o<r.length;o++)r[o].match(n)?a.push(r[o].charAt(0),r[o].slice(1)):a.push(r[o]);var s,u=0,l={},c=null;function p(t){t||v();var e=t.match(/\[(.*?)\]/);s=t.replace(/\[(.*?)\]/,""),l[s]={},e&&(l[s].isArray=!0,l[s].arraySize=e[1])}for(p((r=a)[0]),o=1;o<r.length;o++){var m=r[o];if(m)if("="!==m)if(":"!==m)if(","!==m)if(")"!==m)if("("!==m)if(m.indexOf("vec")>=0){if(1!==u&&4!==u){v();break}u=2,c=[]}else if(1!==u)if(4!==u)p(m),u=0;else{var g=m;h.indexOf(g)>=0||f.indexOf(g)>=0||d.indexOf(g)>=0?l[s].semantic=g:"ignore"===g||"unconfigurable"===g?l[s].ignore=!0:l[s].value="bool"===t?"true"===g:parseFloat(g)}else l[s].value="bool"===t?"true"===m:parseFloat(m),c=null;else{if(2!==u){v();break}if(!(c instanceof Array)){v();break}c.push(+r[++o])}else l[s].value=new i.a.Float32Array(c),c=null,u=5;else if(2===u){if(!(c instanceof Array)){v();break}c.push(+r[++o])}else u=5;else u=4;else{if(0!==u&&3!==u){v();break}u=1}}return l}function b(t,e){"object"==typeof t&&(e=t.fragment,t=t.vertex),t=_(t),e=_(e),this._shaderID=function(t,e){var n="vertex:"+t+"fragment:"+e;if(m[n])return m[n];var i=r.a.genGUID();return m[n]=i,g[i]={vertex:t,fragment:e},i}(t,e),this._vertexCode=b.parseImport(t),this._fragmentCode=b.parseImport(e),this.attributeSemantics={},this.matrixSemantics={},this.uniformSemantics={},this.matrixSemanticKeys=[],this.uniformTemplates={},this.attributes={},this.textures={},this.vertexDefines={},this.fragmentDefines={},this._parseAttributes(),this._parseUniforms(),this._parseDefines()}b.prototype={constructor:b,createUniforms:function(){var t={};for(var e in this.uniformTemplates){var n=this.uniformTemplates[e];t[e]={type:n.type,value:n.value()}}return t},_parseImport:function(){this._vertexCode=b.parseImport(this.vertex),this._fragmentCode=b.parseImport(this.fragment)},_addSemanticUniform:function(t,e,n){if(h.indexOf(n)>=0)this.attributeSemantics[n]={symbol:t,type:e};else if(d.indexOf(n)>=0){var r=!1,i=n;n.match(/TRANSPOSE$/)&&(r=!0,i=n.slice(0,-9)),this.matrixSemantics[n]={symbol:t,type:e,isTranspose:r,semanticNoTranspose:i}}else f.indexOf(n)>=0&&(this.uniformSemantics[n]={symbol:t,type:e})},_addMaterialUniform:function(t,e,n,r,i,a){a[t]={type:n,value:i?c.array:r||c[e],semantic:null}},_parseUniforms:function(){var t={},e=this;function n(t){return null!=t?function(){return t}:null}function r(r,i,a){var o=y(i,a),s=[];for(var l in o){var c=o[l],h=c.semantic,f=l,d=u[i],p=n(o[l].value);o[l].isArray&&(f+="["+o[l].arraySize+"]",d+="v"),s.push(f),e._uniformList.push(l),c.ignore||("sampler2D"!==i&&"samplerCube"!==i||(e.textures[l]={shaderType:"fragment",type:i}),h?e._addSemanticUniform(l,d,h):e._addMaterialUniform(l,i,d,p,o[l].isArray,t))}return s.length>0?"uniform "+i+" "+s.join(",")+";\n":""}this._uniformList=[],this._vertexCode=this._vertexCode.replace(a,r),this._fragmentCode=this._fragmentCode.replace(a,r),e.matrixSemanticKeys=Object.keys(this.matrixSemantics),this.uniformTemplates=t},_parseAttributes:function(){var t={},e=this;this._vertexCode=this._vertexCode.replace(o,(function(n,r,i){var a=y(r,i),o=p[r]||1,s=[];for(var u in a){var l=a[u].semantic;if(t[u]={type:"float",size:o,semantic:l||null},l){if(h.indexOf(l)<0)throw new Error('Unkown semantic "'+l+'"');e.attributeSemantics[l]={symbol:u,type:r}}s.push(u)}return"attribute "+r+" "+s.join(",")+";\n"})),this.attributes=t},_parseDefines:function(){var t=this;function e(e,n,r){var i=t.fragmentDefines;return i[n]||(i[n]="false"!==r&&("true"===r||(r?isNaN(parseFloat(r))?r.trim():parseFloat(r):null))),""}this._vertexCode=this._vertexCode.replace(s,e),this._fragmentCode=this._fragmentCode.replace(s,e)},clone:function(){var t=g[this._shaderID];return new b(t.vertex,t.fragment)}},Object.defineProperty&&(Object.defineProperty(b.prototype,"shaderID",{get:function(){return this._shaderID}}),Object.defineProperty(b.prototype,"vertex",{get:function(){return this._vertexCode}}),Object.defineProperty(b.prototype,"fragment",{get:function(){return this._fragmentCode}}),Object.defineProperty(b.prototype,"uniforms",{get:function(){return this._uniformList}}));var x=/(@import)\s*([0-9a-zA-Z_\-\.]*)/g;b.parseImport=function(t){return t=t.replace(x,(function(t,e,n){return(t=b.source(n))?b.parseImport(t):(console.error('Shader chunk "'+n+'" not existed in library'),"")}))};var w=/(@export)\s*([0-9a-zA-Z_\-\.]*)\s*\n([\s\S]*?)@end/g;b.import=function(t){t.replace(w,(function(t,e,n,r){if(r=r.replace(/(^[\s\t\xa0\u3000]+)|([\u3000\xa0\s\t]+\x24)/g,"")){for(var i,a=n.split("."),o=b.codes,s=0;s<a.length-1;)o[i=a[s++]]||(o[i]={}),o=o[i];o[i=a[s]]=r}return r}))},b.codes={},b.source=function(t){for(var e=t.split("."),n=b.codes,r=0;n&&r<e.length;)n=n[e[r++]];return"string"!=typeof n?(console.error('Shader "'+t+'" not existed in library'),""):n},e.a=b},function(t,e,n){"use strict";var r,i,a,o,s=n(21),u=n(12),l=n(55),c=n(34),h=n(3),f=function(){this._axisX=new h.a,this._axisY=new h.a,this._axisZ=new h.a,this.array=s.a.create(),this._dirty=!0};f.prototype={constructor:f,setArray:function(t){for(var e=0;e<this.array.length;e++)this.array[e]=t[e];return this._dirty=!0,this},adjoint:function(){return s.a.adjoint(this.array,this.array),this._dirty=!0,this},clone:function(){return(new f).copy(this)},copy:function(t){return s.a.copy(this.array,t.array),this._dirty=!0,this},determinant:function(){return s.a.determinant(this.array)},fromQuat:function(t){return s.a.fromQuat(this.array,t.array),this._dirty=!0,this},fromRotationTranslation:function(t,e){return s.a.fromRotationTranslation(this.array,t.array,e.array),this._dirty=!0,this},fromMat2d:function(t){return f.fromMat2d(this,t),this},frustum:function(t,e,n,r,i,a){return s.a.frustum(this.array,t,e,n,r,i,a),this._dirty=!0,this},identity:function(){return s.a.identity(this.array),this._dirty=!0,this},invert:function(){return s.a.invert(this.array,this.array),this._dirty=!0,this},lookAt:function(t,e,n){return s.a.lookAt(this.array,t.array,e.array,n.array),this._dirty=!0,this},mul:function(t){return s.a.mul(this.array,this.array,t.array),this._dirty=!0,this},mulLeft:function(t){return s.a.mul(this.array,t.array,this.array),this._dirty=!0,this},multiply:function(t){return s.a.multiply(this.array,this.array,t.array),this._dirty=!0,this},multiplyLeft:function(t){return s.a.multiply(this.array,t.array,this.array),this._dirty=!0,this},ortho:function(t,e,n,r,i,a){return s.a.ortho(this.array,t,e,n,r,i,a),this._dirty=!0,this},perspective:function(t,e,n,r){return s.a.perspective(this.array,t,e,n,r),this._dirty=!0,this},rotate:function(t,e){return s.a.rotate(this.array,this.array,t,e.array),this._dirty=!0,this},rotateX:function(t){return s.a.rotateX(this.array,this.array,t),this._dirty=!0,this},rotateY:function(t){return s.a.rotateY(this.array,this.array,t),this._dirty=!0,this},rotateZ:function(t){return s.a.rotateZ(this.array,this.array,t),this._dirty=!0,this},scale:function(t){return s.a.scale(this.array,this.array,t.array),this._dirty=!0,this},translate:function(t){return s.a.translate(this.array,this.array,t.array),this._dirty=!0,this},transpose:function(){return s.a.transpose(this.array,this.array),this._dirty=!0,this},decomposeMatrix:(r=u.a.create(),i=u.a.create(),a=u.a.create(),o=c.a.create(),function(t,e,n){var s=this.array;u.a.set(r,s[0],s[1],s[2]),u.a.set(i,s[4],s[5],s[6]),u.a.set(a,s[8],s[9],s[10]);var h=u.a.length(r),f=u.a.length(i),d=u.a.length(a);this.determinant()<0&&(h=-h),t&&t.set(h,f,d),n.set(s[12],s[13],s[14]),c.a.fromMat4(o,s),o[0]/=h,o[1]/=h,o[2]/=h,o[3]/=f,o[4]/=f,o[5]/=f,o[6]/=d,o[7]/=d,o[8]/=d,l.a.fromMat3(e.array,o),l.a.normalize(e.array,e.array),e._dirty=!0,n._dirty=!0}),toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var d=Object.defineProperty;if(d){var p=f.prototype;d(p,"z",{get:function(){var t=this.array;return this._axisZ.set(t[8],t[9],t[10]),this._axisZ},set:function(t){var e=this.array;t=t.array,e[8]=t[0],e[9]=t[1],e[10]=t[2],this._dirty=!0}}),d(p,"y",{get:function(){var t=this.array;return this._axisY.set(t[4],t[5],t[6]),this._axisY},set:function(t){var e=this.array;t=t.array,e[4]=t[0],e[5]=t[1],e[6]=t[2],this._dirty=!0}}),d(p,"x",{get:function(){var t=this.array;return this._axisX.set(t[0],t[1],t[2]),this._axisX},set:function(t){var e=this.array;t=t.array,e[0]=t[0],e[1]=t[1],e[2]=t[2],this._dirty=!0}})}f.adjoint=function(t,e){return s.a.adjoint(t.array,e.array),t._dirty=!0,t},f.copy=function(t,e){return s.a.copy(t.array,e.array),t._dirty=!0,t},f.determinant=function(t){return s.a.determinant(t.array)},f.identity=function(t){return s.a.identity(t.array),t._dirty=!0,t},f.ortho=function(t,e,n,r,i,a,o){return s.a.ortho(t.array,e,n,r,i,a,o),t._dirty=!0,t},f.perspective=function(t,e,n,r,i){return s.a.perspective(t.array,e,n,r,i),t._dirty=!0,t},f.lookAt=function(t,e,n,r){return s.a.lookAt(t.array,e.array,n.array,r.array),t._dirty=!0,t},f.invert=function(t,e){return s.a.invert(t.array,e.array),t._dirty=!0,t},f.multiply=f.mul=function(t,e,n){return s.a.mul(t.array,e.array,n.array),t._dirty=!0,t},f.fromQuat=function(t,e){return s.a.fromQuat(t.array,e.array),t._dirty=!0,t},f.fromRotationTranslation=function(t,e,n){return s.a.fromRotationTranslation(t.array,e.array,n.array),t._dirty=!0,t},f.fromMat2d=function(t,e){return t._dirty=!0,e=e.array,(t=t.array)[0]=e[0],t[4]=e[2],t[12]=e[4],t[1]=e[1],t[5]=e[3],t[13]=e[5],t},f.rotate=function(t,e,n,r){return s.a.rotate(t.array,e.array,n,r.array),t._dirty=!0,t},f.rotateX=function(t,e,n){return s.a.rotateX(t.array,e.array,n),t._dirty=!0,t},f.rotateY=function(t,e,n){return s.a.rotateY(t.array,e.array,n),t._dirty=!0,t},f.rotateZ=function(t,e,n){return s.a.rotateZ(t.array,e.array,n),t._dirty=!0,t},f.scale=function(t,e,n){return s.a.scale(t.array,e.array,n.array),t._dirty=!0,t},f.transpose=function(t,e){return s.a.transpose(t.array,e.array),t._dirty=!0,t},f.translate=function(t,e,n){return s.a.translate(t.array,e.array,n.array),t._dirty=!0,t},e.a=f},function(t,e,n){"use strict";var r=n(7),i=n(4),a=(n(27),n(11)),o=n(57),s=a.a.FRAMEBUFFER,u=a.a.RENDERBUFFER,l=a.a.DEPTH_ATTACHMENT,c=a.a.COLOR_ATTACHMENT0,h=r.a.extend({depthBuffer:!0,viewport:null,_width:0,_height:0,_textures:null,_boundRenderer:null},(function(){this._cache=new o.a,this._textures={}}),{getTextureWidth:function(){return this._width},getTextureHeight:function(){return this._height},bind:function(t){if(t.__currentFrameBuffer){if(t.__currentFrameBuffer===this)return;console.warn("Renderer already bound with another framebuffer. Unbind it first")}t.__currentFrameBuffer=this;var e=t.gl;e.bindFramebuffer(s,this._getFrameBufferGL(t)),this._boundRenderer=t;var n=this._cache;n.put("viewport",t.viewport);var r,i,a=!1;for(var o in this._textures){a=!0;var c=this._textures[o];c&&(r=c.texture.width,i=c.texture.height,this._doAttach(t,c.texture,o,c.target))}this._width=r,this._height=i,!a&&this.depthBuffer&&console.error("Must attach texture before bind, or renderbuffer may have incorrect width and height."),this.viewport?t.setViewport(this.viewport):t.setViewport(0,0,r,i,1);var h=n.get("attached_textures");if(h)for(var o in h)if(!this._textures[o]){var f=h[o];this._doDetach(e,o,f)}if(!n.get("depthtexture_attached")&&this.depthBuffer){n.miss("renderbuffer")&&n.put("renderbuffer",e.createRenderbuffer());var d=n.get("renderbuffer");r===n.get("renderbuffer_width")&&i===n.get("renderbuffer_height")||(e.bindRenderbuffer(u,d),e.renderbufferStorage(u,e.DEPTH_COMPONENT16,r,i),n.put("renderbuffer_width",r),n.put("renderbuffer_height",i),e.bindRenderbuffer(u,null)),n.get("renderbuffer_attached")||(e.framebufferRenderbuffer(s,l,u,d),n.put("renderbuffer_attached",!0))}},unbind:function(t){t.__currentFrameBuffer=null,t.gl.bindFramebuffer(s,null),this._boundRenderer=null,this._cache.use(t.__uid__);var e=this._cache.get("viewport");e&&t.setViewport(e),this.updateMipmap(t)},updateMipmap:function(t){var e=t.gl;for(var n in this._textures){var r=this._textures[n];if(r){var o=r.texture;if(!o.NPOT&&o.useMipmap&&o.minFilter===i.a.LINEAR_MIPMAP_LINEAR){var s="textureCube"===o.textureType?a.a.TEXTURE_CUBE_MAP:a.a.TEXTURE_2D;e.bindTexture(s,o.getWebGLTexture(t)),e.generateMipmap(s),e.bindTexture(s,null)}}}},checkStatus:function(t){return t.checkFramebufferStatus(s)},_getFrameBufferGL:function(t){var e=this._cache;return e.use(t.__uid__),e.miss("framebuffer")&&e.put("framebuffer",t.gl.createFramebuffer()),e.get("framebuffer")},attach:function(t,e,n){if(!t.width)throw new Error("The texture attached to color buffer is not a valid.");e=e||c,n=n||a.a.TEXTURE_2D;var r,i=this._boundRenderer;if(i&&i.gl){var o=this._cache;o.use(i.__uid__),r=o.get("attached_textures")}var s=this._textures[e];if(!s||s.target!==n||s.texture!==t||!r||null==r[e]){var u=!0;i&&(u=this._doAttach(i,t,e,n),this.viewport||i.setViewport(0,0,t.width,t.height,1)),u&&(this._textures[e]=this._textures[e]||{},this._textures[e].texture=t,this._textures[e].target=n)}},_doAttach:function(t,e,n,r){var i=t.gl,o=e.getWebGLTexture(t),c=this._cache.get("attached_textures");if(c&&c[n]){var h=c[n];if(h.texture===e&&h.target===r)return}var f=!0;if(((n=+n)===l||n===a.a.DEPTH_STENCIL_ATTACHMENT)&&(t.getGLExtension("WEBGL_depth_texture")||(console.error("Depth texture is not supported by the browser"),f=!1),e.format!==a.a.DEPTH_COMPONENT&&e.format!==a.a.DEPTH_STENCIL&&(console.error("The texture attached to depth buffer is not a valid."),f=!1),f)){var d=this._cache.get("renderbuffer");d&&(i.framebufferRenderbuffer(s,l,u,null),i.deleteRenderbuffer(d),this._cache.put("renderbuffer",!1)),this._cache.put("renderbuffer_attached",!1),this._cache.put("depthtexture_attached",!0)}return i.framebufferTexture2D(s,n,r,o,0),c||(c={},this._cache.put("attached_textures",c)),c[n]=c[n]||{},c[n].texture=e,c[n].target=r,f},_doDetach:function(t,e,n){t.framebufferTexture2D(s,e,n,null,0);var r=this._cache.get("attached_textures");r&&r[e]&&(r[e]=null),e!==l&&e!==a.a.DEPTH_STENCIL_ATTACHMENT||this._cache.put("depthtexture_attached",!1)},detach:function(t,e){this._textures[t]=null,this._boundRenderer&&(this._cache.use(this._boundRenderer.__uid__),this._doDetach(this._boundRenderer.gl,t,e))},dispose:function(t){var e=t.gl,n=this._cache;n.use(t.__uid__);var r=n.get("renderbuffer");r&&e.deleteRenderbuffer(r);var i=n.get("framebuffer");i&&e.deleteFramebuffer(i),n.deleteContext(t.__uid__),this._textures={}}});h.DEPTH_ATTACHMENT=l,h.COLOR_ATTACHMENT0=c,h.STENCIL_ATTACHMENT=a.a.STENCIL_ATTACHMENT,h.DEPTH_STENCIL_ATTACHMENT=a.a.DEPTH_STENCIL_ATTACHMENT,e.a=h},function(t,e,n){"use strict";e.a={DEPTH_BUFFER_BIT:256,STENCIL_BUFFER_BIT:1024,COLOR_BUFFER_BIT:16384,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,ZERO:0,ONE:1,SRC_COLOR:768,ONE_MINUS_SRC_COLOR:769,SRC_ALPHA:770,ONE_MINUS_SRC_ALPHA:771,DST_ALPHA:772,ONE_MINUS_DST_ALPHA:773,DST_COLOR:774,ONE_MINUS_DST_COLOR:775,SRC_ALPHA_SATURATE:776,FUNC_ADD:32774,BLEND_EQUATION:32777,BLEND_EQUATION_RGB:32777,BLEND_EQUATION_ALPHA:34877,FUNC_SUBTRACT:32778,FUNC_REVERSE_SUBTRACT:32779,BLEND_DST_RGB:32968,BLEND_SRC_RGB:32969,BLEND_DST_ALPHA:32970,BLEND_SRC_ALPHA:32971,CONSTANT_COLOR:32769,ONE_MINUS_CONSTANT_COLOR:32770,CONSTANT_ALPHA:32771,ONE_MINUS_CONSTANT_ALPHA:32772,BLEND_COLOR:32773,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,ARRAY_BUFFER_BINDING:34964,ELEMENT_ARRAY_BUFFER_BINDING:34965,STREAM_DRAW:35040,STATIC_DRAW:35044,DYNAMIC_DRAW:35048,BUFFER_SIZE:34660,BUFFER_USAGE:34661,CURRENT_VERTEX_ATTRIB:34342,FRONT:1028,BACK:1029,FRONT_AND_BACK:1032,CULL_FACE:2884,BLEND:3042,DITHER:3024,STENCIL_TEST:2960,DEPTH_TEST:2929,SCISSOR_TEST:3089,POLYGON_OFFSET_FILL:32823,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_COVERAGE:32928,NO_ERROR:0,INVALID_ENUM:1280,INVALID_VALUE:1281,INVALID_OPERATION:1282,OUT_OF_MEMORY:1285,CW:2304,CCW:2305,LINE_WIDTH:2849,ALIASED_POINT_SIZE_RANGE:33901,ALIASED_LINE_WIDTH_RANGE:33902,CULL_FACE_MODE:2885,FRONT_FACE:2886,DEPTH_RANGE:2928,DEPTH_WRITEMASK:2930,DEPTH_CLEAR_VALUE:2931,DEPTH_FUNC:2932,STENCIL_CLEAR_VALUE:2961,STENCIL_FUNC:2962,STENCIL_FAIL:2964,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STENCIL_BACK_FUNC:34816,STENCIL_BACK_FAIL:34817,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,VIEWPORT:2978,SCISSOR_BOX:3088,COLOR_CLEAR_VALUE:3106,COLOR_WRITEMASK:3107,UNPACK_ALIGNMENT:3317,PACK_ALIGNMENT:3333,MAX_TEXTURE_SIZE:3379,MAX_VIEWPORT_DIMS:3386,SUBPIXEL_BITS:3408,RED_BITS:3410,GREEN_BITS:3411,BLUE_BITS:3412,ALPHA_BITS:3413,DEPTH_BITS:3414,STENCIL_BITS:3415,POLYGON_OFFSET_UNITS:10752,POLYGON_OFFSET_FACTOR:32824,TEXTURE_BINDING_2D:32873,SAMPLE_BUFFERS:32936,SAMPLES:32937,SAMPLE_COVERAGE_VALUE:32938,SAMPLE_COVERAGE_INVERT:32939,COMPRESSED_TEXTURE_FORMATS:34467,DONT_CARE:4352,FASTEST:4353,NICEST:4354,GENERATE_MIPMAP_HINT:33170,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DEPTH_COMPONENT:6402,ALPHA:6406,RGB:6407,RGBA:6408,LUMINANCE:6409,LUMINANCE_ALPHA:6410,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,FRAGMENT_SHADER:35632,VERTEX_SHADER:35633,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VARYING_VECTORS:36348,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_FRAGMENT_UNIFORM_VECTORS:36349,SHADER_TYPE:35663,DELETE_STATUS:35712,LINK_STATUS:35714,VALIDATE_STATUS:35715,ATTACHED_SHADERS:35717,ACTIVE_UNIFORMS:35718,ACTIVE_ATTRIBUTES:35721,SHADING_LANGUAGE_VERSION:35724,CURRENT_PROGRAM:35725,NEVER:512,LESS:513,EQUAL:514,LEQUAL:515,GREATER:516,NOTEQUAL:517,GEQUAL:518,ALWAYS:519,KEEP:7680,REPLACE:7681,INCR:7682,DECR:7683,INVERT:5386,INCR_WRAP:34055,DECR_WRAP:34056,VENDOR:7936,RENDERER:7937,VERSION:7938,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TEXTURE_2D:3553,TEXTURE:5890,TEXTURE_CUBE_MAP:34067,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,MAX_CUBE_MAP_TEXTURE_SIZE:34076,TEXTURE0:33984,TEXTURE1:33985,TEXTURE2:33986,TEXTURE3:33987,TEXTURE4:33988,TEXTURE5:33989,TEXTURE6:33990,TEXTURE7:33991,TEXTURE8:33992,TEXTURE9:33993,TEXTURE10:33994,TEXTURE11:33995,TEXTURE12:33996,TEXTURE13:33997,TEXTURE14:33998,TEXTURE15:33999,TEXTURE16:34e3,TEXTURE17:34001,TEXTURE18:34002,TEXTURE19:34003,TEXTURE20:34004,TEXTURE21:34005,TEXTURE22:34006,TEXTURE23:34007,TEXTURE24:34008,TEXTURE25:34009,TEXTURE26:34010,TEXTURE27:34011,TEXTURE28:34012,TEXTURE29:34013,TEXTURE30:34014,TEXTURE31:34015,ACTIVE_TEXTURE:34016,REPEAT:10497,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,SAMPLER_2D:35678,SAMPLER_CUBE:35680,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,COMPILE_STATUS:35713,LOW_FLOAT:36336,MEDIUM_FLOAT:36337,HIGH_FLOAT:36338,LOW_INT:36339,MEDIUM_INT:36340,HIGH_INT:36341,FRAMEBUFFER:36160,RENDERBUFFER:36161,RGBA4:32854,RGB5_A1:32855,RGB565:36194,DEPTH_COMPONENT16:33189,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,DEPTH_STENCIL:34041,RENDERBUFFER_WIDTH:36162,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_STENCIL_SIZE:36181,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,COLOR_ATTACHMENT0:36064,DEPTH_ATTACHMENT:36096,STENCIL_ATTACHMENT:36128,DEPTH_STENCIL_ATTACHMENT:33306,NONE:0,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_UNSUPPORTED:36061,FRAMEBUFFER_BINDING:36006,RENDERBUFFER_BINDING:36007,MAX_RENDERBUFFER_SIZE:34024,INVALID_FRAMEBUFFER_OPERATION:1286,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,CONTEXT_LOST_WEBGL:37442,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,BROWSER_DEFAULT_WEBGL:37444}},function(t,e,n){"use strict";var r,i=n(20),a={create:function(){var t=new i.a(3);return t[0]=0,t[1]=0,t[2]=0,t},clone:function(t){var e=new i.a(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},fromValues:function(t,e,n){var r=new i.a(3);return r[0]=t,r[1]=e,r[2]=n,r},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},set:function(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t},add:function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},subtract:function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}};a.sub=a.subtract,a.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t},a.mul=a.multiply,a.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t},a.div=a.divide,a.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t},a.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t},a.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},a.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t},a.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)},a.dist=a.distance,a.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i},a.sqrDist=a.squaredDistance,a.length=function(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)},a.len=a.length,a.squaredLength=function(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r},a.sqrLen=a.squaredLength,a.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},a.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},a.normalize=function(t,e){var n=e[0],r=e[1],i=e[2],a=n*n+r*r+i*i;return a>0&&(a=1/Math.sqrt(a),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a),t},a.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},a.cross=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[0],s=n[1],u=n[2];return t[0]=i*u-a*s,t[1]=a*o-r*u,t[2]=r*s-i*o,t},a.lerp=function(t,e,n,r){var i=e[0],a=e[1],o=e[2];return t[0]=i+r*(n[0]-i),t[1]=a+r*(n[1]-a),t[2]=o+r*(n[2]-o),t},a.random=function(t,e){e=e||1;var n=2*Object(i.c)()*Math.PI,r=2*Object(i.c)()-1,a=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*a,t[1]=Math.sin(n)*a,t[2]=r*e,t},a.transformMat4=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[3]*r+n[7]*i+n[11]*a+n[15];return o=o||1,t[0]=(n[0]*r+n[4]*i+n[8]*a+n[12])/o,t[1]=(n[1]*r+n[5]*i+n[9]*a+n[13])/o,t[2]=(n[2]*r+n[6]*i+n[10]*a+n[14])/o,t},a.transformMat3=function(t,e,n){var r=e[0],i=e[1],a=e[2];return t[0]=r*n[0]+i*n[3]+a*n[6],t[1]=r*n[1]+i*n[4]+a*n[7],t[2]=r*n[2]+i*n[5]+a*n[8],t},a.transformQuat=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[0],s=n[1],u=n[2],l=n[3],c=l*r+s*a-u*i,h=l*i+u*r-o*a,f=l*a+o*i-s*r,d=-o*r-s*i-u*a;return t[0]=c*l+d*-o+h*-u-f*-s,t[1]=h*l+d*-s+f*-o-c*-u,t[2]=f*l+d*-u+c*-s-h*-o,t},a.rotateX=function(t,e,n,r){var i=[],a=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],a[0]=i[0],a[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),a[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t},a.rotateY=function(t,e,n,r){var i=[],a=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],a[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),a[1]=i[1],a[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t},a.rotateZ=function(t,e,n,r){var i=[],a=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],a[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),a[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),a[2]=i[2],t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t},a.forEach=(r=a.create(),function(t,e,n,i,a,o){var s,u;for(e||(e=3),n||(n=0),u=i?Math.min(i*e+n,t.length):t.length,s=n;s<u;s+=e)r[0]=t[s],r[1]=t[s+1],r[2]=t[s+2],a(r,r,o),t[s]=r[0],t[s+1]=r[1],t[s+2]=r[2];return t}),a.angle=function(t,e){var n=a.fromValues(t[0],t[1],t[2]),r=a.fromValues(e[0],e[1],e[2]);a.normalize(n,n),a.normalize(r,r);var i=a.dot(n,r);return i>1?0:Math.acos(i)},e.a=a},function(t,e){var n={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},r={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},i=Object.prototype.toString,a=Array.prototype,o=a.forEach,s=a.filter,u=a.slice,l=a.map,c=a.reduce,h={};function f(t){if(null==t||"object"!=typeof t)return t;var e=t,a=i.call(t);if("[object Array]"===a){if(!T(t)){e=[];for(var o=0,s=t.length;o<s;o++)e[o]=f(t[o])}}else if(r[a]){if(!T(t)){var u=t.constructor;if(t.constructor.from)e=u.from(t);else for(e=new u(t.length),o=0,s=t.length;o<s;o++)e[o]=f(t[o])}}else if(!n[a]&&!T(t)&&!w(t))for(var l in e={},t)t.hasOwnProperty(l)&&(e[l]=f(t[l]));return e}function d(t,e,n){if(!b(e)||!b(t))return n?f(e):t;for(var r in e)if(e.hasOwnProperty(r)){var i=t[r],a=e[r];!b(a)||!b(i)||y(a)||y(i)||w(a)||w(i)||x(a)||x(i)||T(a)||T(i)?!n&&r in t||(t[r]=f(e[r])):d(i,a,n)}return t}function p(t,e,n){for(var r in e)e.hasOwnProperty(r)&&(n?null!=e[r]:null==t[r])&&(t[r]=e[r]);return t}var m,g=function(){return h.createCanvas()};function _(t,e,n){if(t&&e)if(t.forEach&&t.forEach===o)t.forEach(e,n);else if(t.length===+t.length)for(var r=0,i=t.length;r<i;r++)e.call(n,t[r],r,t);else for(var a in t)t.hasOwnProperty(a)&&e.call(n,t[a],a,t)}function v(t,e){var n=u.call(arguments,2);return function(){return t.apply(e,n.concat(u.call(arguments)))}}function y(t){return"[object Array]"===i.call(t)}function b(t){var e=typeof t;return"function"===e||!!t&&"object"==e}function x(t){return!!n[i.call(t)]}function w(t){return"object"==typeof t&&"number"==typeof t.nodeType&&"object"==typeof t.ownerDocument}function T(t){return t.__ec_primitive__}function S(t){var e=y(t),n=this;function r(t,r){e?n.set(t,r):n.set(r,t)}t instanceof S?t.each(r):t&&_(t,r)}h.createCanvas=function(){return document.createElement("canvas")},S.prototype={constructor:S,get:function(t){return this.hasOwnProperty(t)?this[t]:null},set:function(t,e){return this[t]=e},each:function(t,e){for(var n in void 0!==e&&(t=v(t,e)),this)this.hasOwnProperty(n)&&t(this[n],n)},removeKey:function(t){delete this[t]}},e.$override=function(t,e){"createCanvas"===t&&(m=null),h[t]=e},e.clone=f,e.merge=d,e.mergeAll=function(t,e){for(var n=t[0],r=1,i=t.length;r<i;r++)n=d(n,t[r],e);return n},e.extend=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},e.defaults=p,e.createCanvas=g,e.getContext=function(){return m||(m=g().getContext("2d")),m},e.indexOf=function(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n}return-1},e.inherits=function(t,e){var n=t.prototype;function r(){}for(var i in r.prototype=e.prototype,t.prototype=new r,n)t.prototype[i]=n[i];t.prototype.constructor=t,t.superClass=e},e.mixin=function(t,e,n){p(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,n)},e.isArrayLike=function(t){if(t)return"string"!=typeof t&&"number"==typeof t.length},e.each=_,e.map=function(t,e,n){if(t&&e){if(t.map&&t.map===l)return t.map(e,n);for(var r=[],i=0,a=t.length;i<a;i++)r.push(e.call(n,t[i],i,t));return r}},e.reduce=function(t,e,n,r){if(t&&e){if(t.reduce&&t.reduce===c)return t.reduce(e,n,r);for(var i=0,a=t.length;i<a;i++)n=e.call(r,n,t[i],i,t);return n}},e.filter=function(t,e,n){if(t&&e){if(t.filter&&t.filter===s)return t.filter(e,n);for(var r=[],i=0,a=t.length;i<a;i++)e.call(n,t[i],i,t)&&r.push(t[i]);return r}},e.find=function(t,e,n){if(t&&e)for(var r=0,i=t.length;r<i;r++)if(e.call(n,t[r],r,t))return t[r]},e.bind=v,e.curry=function(t){var e=u.call(arguments,1);return function(){return t.apply(this,e.concat(u.call(arguments)))}},e.isArray=y,e.isFunction=function(t){return"function"==typeof t},e.isString=function(t){return"[object String]"===i.call(t)},e.isObject=b,e.isBuiltInObject=x,e.isTypedArray=function(t){return!!r[i.call(t)]},e.isDom=w,e.eqNaN=function(t){return t!=t},e.retrieve=function(t){for(var e=0,n=arguments.length;e<n;e++)if(null!=arguments[e])return arguments[e]},e.retrieve2=function(t,e){return null!=t?t:e},e.retrieve3=function(t,e,n){return null!=t?t:null!=e?e:n},e.slice=function(){return Function.call.apply(u,arguments)},e.normalizeCssArray=function(t){if("number"==typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t},e.assert=function(t,e){if(!t)throw new Error(e)},e.trim=function(t){return null==t?null:"function"==typeof t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},e.setAsPrimitive=function(t){t.__ec_primitive__=!0},e.isPrimitive=T,e.createHashMap=function(t){return new S(t)},e.concatArray=function(t,e){for(var n=new t.constructor(t.length+e.length),r=0;r<t.length;r++)n[r]=t[r];var i=t.length;for(r=0;r<e.length;r++)n[r+i]=e[r];return n},e.noop=function(){}},function(t,e,n){"use strict";(function(t){var r,i=n(112),a={supportWebGL:function(){if(null==r)try{var t=document.createElement("canvas");if(!t.getContext("webgl")&&!t.getContext("experimental-webgl"))throw new Error}catch(t){r=!1}return r}};a.Int8Array="undefined"==typeof Int8Array?Array:Int8Array,a.Uint8Array="undefined"==typeof Uint8Array?Array:Uint8Array,a.Uint16Array="undefined"==typeof Uint16Array?Array:Uint16Array,a.Uint32Array="undefined"==typeof Uint32Array?Array:Uint32Array,a.Int16Array="undefined"==typeof Int16Array?Array:Int16Array,a.Float32Array="undefined"==typeof Float32Array?Array:Float32Array,a.Float64Array="undefined"==typeof Float64Array?Array:Float64Array;var o={};"undefined"!=typeof window?o=window:void 0!==t&&(o=t),a.requestAnimationFrame=o.requestAnimationFrame||o.msRequestAnimationFrame||o.mozRequestAnimationFrame||o.webkitRequestAnimationFrame||function(t){setTimeout(t,16)},a.createCanvas=function(){return document.createElement("canvas")},a.createImage=function(){return new o.Image},a.request={get:i.a.get},e.a=a}).call(e,n(68))},function(t,e,n){"use strict";var r=n(14),i=n(12),a=n(21),o=n(18),s=n(118),u=i.a.create,l=i.a.add,c=i.a.set,h=s.a.Attribute,f=s.a.extend((function(){return{attributes:{position:new h("position","float",3,"POSITION"),texcoord0:new h("texcoord0","float",2,"TEXCOORD_0"),texcoord1:new h("texcoord1","float",2,"TEXCOORD_1"),normal:new h("normal","float",3,"NORMAL"),tangent:new h("tangent","float",4,"TANGENT"),color:new h("color","float",4,"COLOR"),weight:new h("weight","float",3,"WEIGHT"),joint:new h("joint","float",4,"JOINT"),barycentric:new h("barycentric","float",3,null)},boundingBox:null}}),{mainAttribute:"position",updateBoundingBox:function(){var t=this.boundingBox;t||(t=this.boundingBox=new o.a);var e=this.attributes.position.value;if(e&&e.length){var n=t.min,r=t.max,a=n.array,s=r.array;i.a.set(a,e[0],e[1],e[2]),i.a.set(s,e[0],e[1],e[2]);for(var u=3;u<e.length;){var l=e[u++],c=e[u++],h=e[u++];l<a[0]&&(a[0]=l),c<a[1]&&(a[1]=c),h<a[2]&&(a[2]=h),l>s[0]&&(s[0]=l),c>s[1]&&(s[1]=c),h>s[2]&&(s[2]=h)}n._dirty=!0,r._dirty=!0}},generateVertexNormals:function(){if(this.vertexCount){var t=this.indices,e=this.attributes,n=e.position.value,a=e.normal.value;if(a&&a.length===n.length)for(var o=0;o<a.length;o++)a[o]=0;else a=e.normal.value=new r.a.Float32Array(n.length);for(var s,l,h,f=u(),d=u(),p=u(),m=u(),g=u(),_=u(),v=t?t.length:this.vertexCount,y=0;y<v;)for(t?(s=t[y++],l=t[y++],h=t[y++]):(s=y++,l=y++,h=y++),c(f,n[3*s],n[3*s+1],n[3*s+2]),c(d,n[3*l],n[3*l+1],n[3*l+2]),c(p,n[3*h],n[3*h+1],n[3*h+2]),i.a.sub(m,f,d),i.a.sub(g,d,p),i.a.cross(_,m,g),o=0;o<3;o++)a[3*s+o]=a[3*s+o]+_[o],a[3*l+o]=a[3*l+o]+_[o],a[3*h+o]=a[3*h+o]+_[o];for(o=0;o<a.length;)c(_,a[o],a[o+1],a[o+2]),i.a.normalize(_,_),a[o++]=_[0],a[o++]=_[1],a[o++]=_[2];this.dirty()}},generateFaceNormals:function(){if(this.vertexCount){this.isUniqueVertex()||this.generateUniqueVertex();var t=this.indices,e=this.attributes,n=e.position.value,r=e.normal.value,a=u(),o=u(),s=u(),l=u(),h=u(),f=u();r||(r=e.normal.value=new Float32Array(n.length));for(var d,p,m,g=t?t.length:this.vertexCount,_=0;_<g;){t?(d=t[_++],p=t[_++],m=t[_++]):(d=_++,p=_++,m=_++),c(a,n[3*d],n[3*d+1],n[3*d+2]),c(o,n[3*p],n[3*p+1],n[3*p+2]),c(s,n[3*m],n[3*m+1],n[3*m+2]),i.a.sub(l,a,o),i.a.sub(h,o,s),i.a.cross(f,l,h),i.a.normalize(f,f);for(var v=0;v<3;v++)r[3*d+v]=f[v],r[3*p+v]=f[v],r[3*m+v]=f[v]}this.dirty()}},generateTangents:function(){if(this.vertexCount){var t=this.vertexCount,e=this.attributes;e.tangent.value||(e.tangent.value=new Float32Array(4*t));var n=e.texcoord0.value,r=e.position.value,a=e.tangent.value,o=e.normal.value;if(n){for(var s=[],c=[],h=0;h<t;h++)s[h]=[0,0,0],c[h]=[0,0,0];var f,d,p,m=[0,0,0],g=[0,0,0],_=this.indices,v=_?_.length:this.vertexCount;for(h=0;h<v;){_?(f=_[h++],d=_[h++],p=_[h++]):(f=h++,d=h++,p=h++);var y=n[2*f],b=n[2*d],x=n[2*p],w=n[2*f+1],T=n[2*d+1],S=n[2*p+1],E=r[3*f],C=r[3*d],A=r[3*p],M=r[3*f+1],O=r[3*d+1],D=r[3*p+1],N=r[3*f+2],I=C-E,P=A-E,L=O-M,R=D-M,k=r[3*d+2]-N,B=r[3*p+2]-N,F=b-y,z=x-y,j=T-w,U=S-w,H=1/(F*U-j*z);m[0]=(U*I-j*P)*H,m[1]=(U*L-j*R)*H,m[2]=(U*k-j*B)*H,g[0]=(F*P-z*I)*H,g[1]=(F*R-z*L)*H,g[2]=(F*B-z*k)*H,l(s[f],s[f],m),l(s[d],s[d],m),l(s[p],s[p],m),l(c[f],c[f],g),l(c[d],c[d],g),l(c[p],c[p],g)}var V=u(),G=u(),W=u();for(h=0;h<t;h++){W[0]=o[3*h],W[1]=o[3*h+1],W[2]=o[3*h+2];var $=s[h];i.a.scale(V,W,i.a.dot(W,$)),i.a.sub(V,$,V),i.a.normalize(V,V),i.a.cross(G,W,$),a[4*h]=V[0],a[4*h+1]=V[1],a[4*h+2]=V[2],a[4*h+3]=i.a.dot(G,c[h])<0?-1:1}this.dirty()}else console.warn("Geometry without texcoords can't generate tangents.")}},isUniqueVertex:function(){return!this.isUseIndices()||this.vertexCount===this.indices.length},generateUniqueVertex:function(){if(this.vertexCount&&this.indices){this.indices.length>65535&&(this.indices=new r.a.Uint32Array(this.indices));for(var t=this.attributes,e=this.indices,n=this.getEnabledAttributes(),i={},a=0;a<n.length;a++)i[l=n[a]]=t[l].value,t[l].init(this.indices.length);for(var o=0,s=0;s<e.length;s++){var u=e[s];for(a=0;a<n.length;a++)for(var l,c=t[l=n[a]].value,h=t[l].size,f=0;f<h;f++)c[o*h+f]=i[l][u*h+f];e[s]=o,o++}this.dirty()}},generateBarycentric:function(){if(this.vertexCount){this.isUniqueVertex()||this.generateUniqueVertex();var t=this.attributes,e=t.barycentric.value,n=this.indices;if(!e||e.length!==3*n.length){e=t.barycentric.value=new Float32Array(3*n.length);for(var r=0;r<(n?n.length:this.vertexCount/3);)for(var i=0;i<3;i++)e[3*(n?n[r++]:3*r+i)+i]=1;this.dirty()}}},applyTransform:function(t){var e=this.attributes,n=e.position.value,r=e.normal.value,o=e.tangent.value;t=t.array;var s=a.a.create();a.a.invert(s,t),a.a.transpose(s,s);var u=i.a.transformMat4,l=i.a.forEach;l(n,3,0,null,u,t),r&&l(r,3,0,null,u,s),o&&l(o,4,0,null,u,s),this.boundingBox&&this.updateBoundingBox()},dispose:function(t){var e=this._cache;e.use(t.__uid__);var n=e.get("chunks");if(n)for(var r=0;r<n.length;r++){for(var i=n[r],a=0;a<i.attributeBuffers.length;a++){var o=i.attributeBuffers[a];t.gl.deleteBuffer(o.buffer)}i.indicesBuffer&&t.gl.deleteBuffer(i.indicesBuffer.buffer)}if(this.__vaoCache){var s=t.getGLExtension("OES_vertex_array_object");for(var u in this.__vaoCache){var l=this.__vaoCache[u].vao;l&&s.deleteVertexArrayOES(l)}}this.__vaoCache={},e.deleteContext(t.__uid__)}});f.STATIC_DRAW=s.a.STATIC_DRAW,f.DYNAMIC_DRAW=s.a.DYNAMIC_DRAW,f.STREAM_DRAW=s.a.STREAM_DRAW,f.AttributeBuffer=s.a.AttributeBuffer,f.IndicesBuffer=s.a.IndicesBuffer,f.Attribute=h,e.a=f},function(t,e,n){"use strict";var r=n(7),i=n(37),a=n(43),o=n(8),s=n(19),u=n(40),l=n(11),c=n(126);o.a.import(c.a);var h=new a.a,f=new u.a({geometry:h,frustumCulling:!1}),d=new i.a,p=r.a.extend((function(){return{fragment:"",outputs:null,material:null,blendWithPrevious:!1,clearColor:!1,clearDepth:!0}}),(function(){var t=new o.a(o.a.source("clay.compositor.vertex"),this.fragment),e=new s.a({shader:t});e.enableTexturesAll(),this.material=e}),{setUniform:function(t,e){this.material.setUniform(t,e)},getUniform:function(t){var e=this.material.uniforms[t];if(e)return e.value},attachOutput:function(t,e){this.outputs||(this.outputs={}),e=e||l.a.COLOR_ATTACHMENT0,this.outputs[e]=t},detachOutput:function(t){for(var e in this.outputs)this.outputs[e]===t&&(this.outputs[e]=null)},bind:function(t,e){if(this.outputs)for(var n in this.outputs){var r=this.outputs[n];r&&e.attach(r,n)}e&&e.bind(t)},unbind:function(t,e){e.unbind(t)},render:function(t,e){var n=t.gl;if(e){this.bind(t,e);var r=t.getGLExtension("EXT_draw_buffers");if(r&&this.outputs){var i=[];for(var a in this.outputs)(a=+a)>=n.COLOR_ATTACHMENT0&&a<=n.COLOR_ATTACHMENT0+8&&i.push(a);r.drawBuffersEXT(i)}}this.trigger("beforerender",this,t);var o=this.clearDepth?n.DEPTH_BUFFER_BIT:0;if(n.depthMask(!0),this.clearColor){o|=n.COLOR_BUFFER_BIT,n.colorMask(!0,!0,!0,!0);var s=this.clearColor;Array.isArray(s)&&n.clearColor(s[0],s[1],s[2],s[3])}n.clear(o),this.blendWithPrevious?(n.enable(n.BLEND),this.material.transparent=!0):(n.disable(n.BLEND),this.material.transparent=!1),this.renderQuad(t),this.trigger("afterrender",this,t),e&&this.unbind(t,e)},renderQuad:function(t){f.material=this.material,t.renderPass([f],d)},dispose:function(t){}});e.a=p},function(t,e,n){"use strict";e.a=function(t,e,n){return{seriesType:t,reset:function(t,e){var n=t.getData(),r=t.visualColorAccessPath.split(".");r[r.length-1]="opacity";var i=t.get(r);return n.setVisual("opacity",null==i?1:i),{dataEach:n.hasItemOption?function(t,e){var n=t.getItemModel(e).get(r,!0);null!=n&&t.setItemVisual(e,"opacity",n)}:null}}}}},function(t,e,n){"use strict";var r,i,a,o,s,u,l=n(3),c=n(12),h=c.a.set,f=c.a.copy,d=function(t,e){this.min=t||new l.a(1/0,1/0,1/0),this.max=e||new l.a(-1/0,-1/0,-1/0),this.vertices=null};d.prototype={constructor:d,updateFromVertices:function(t){if(t.length>0){var e=this.min,n=this.max,r=e.array,i=n.array;f(r,t[0]),f(i,t[0]);for(var a=1;a<t.length;a++){var o=t[a];o[0]<r[0]&&(r[0]=o[0]),o[1]<r[1]&&(r[1]=o[1]),o[2]<r[2]&&(r[2]=o[2]),o[0]>i[0]&&(i[0]=o[0]),o[1]>i[1]&&(i[1]=o[1]),o[2]>i[2]&&(i[2]=o[2])}e._dirty=!0,n._dirty=!0}},union:function(t){var e=this.min,n=this.max;return c.a.min(e.array,e.array,t.min.array),c.a.max(n.array,n.array,t.max.array),e._dirty=!0,n._dirty=!0,this},intersection:function(t){var e=this.min,n=this.max;return c.a.max(e.array,e.array,t.min.array),c.a.min(n.array,n.array,t.max.array),e._dirty=!0,n._dirty=!0,this},intersectBoundingBox:function(t){var e=this.min.array,n=this.max.array,r=t.min.array,i=t.max.array;return!(e[0]>i[0]||e[1]>i[1]||e[2]>i[2]||n[0]<r[0]||n[1]<r[1]||n[2]<r[2])},containBoundingBox:function(t){var e=this.min.array,n=this.max.array,r=t.min.array,i=t.max.array;return e[0]<=r[0]&&e[1]<=r[1]&&e[2]<=r[2]&&n[0]>=i[0]&&n[1]>=i[1]&&n[2]>=i[2]},containPoint:function(t){var e=this.min.array,n=this.max.array,r=t.array;return e[0]<=r[0]&&e[1]<=r[1]&&e[2]<=r[2]&&n[0]>=r[0]&&n[1]>=r[1]&&n[2]>=r[2]},isFinite:function(){var t=this.min.array,e=this.max.array;return isFinite(t[0])&&isFinite(t[1])&&isFinite(t[2])&&isFinite(e[0])&&isFinite(e[1])&&isFinite(e[2])},applyTransform:function(t){this.transformFrom(this,t)},transformFrom:(r=c.a.create(),i=c.a.create(),a=c.a.create(),o=c.a.create(),s=c.a.create(),u=c.a.create(),function(t,e){var n=t.min.array,l=t.max.array,c=e.array;return r[0]=c[0]*n[0],r[1]=c[1]*n[0],r[2]=c[2]*n[0],i[0]=c[0]*l[0],i[1]=c[1]*l[0],i[2]=c[2]*l[0],a[0]=c[4]*n[1],a[1]=c[5]*n[1],a[2]=c[6]*n[1],o[0]=c[4]*l[1],o[1]=c[5]*l[1],o[2]=c[6]*l[1],s[0]=c[8]*n[2],s[1]=c[9]*n[2],s[2]=c[10]*n[2],u[0]=c[8]*l[2],u[1]=c[9]*l[2],u[2]=c[10]*l[2],n=this.min.array,l=this.max.array,n[0]=Math.min(r[0],i[0])+Math.min(a[0],o[0])+Math.min(s[0],u[0])+c[12],n[1]=Math.min(r[1],i[1])+Math.min(a[1],o[1])+Math.min(s[1],u[1])+c[13],n[2]=Math.min(r[2],i[2])+Math.min(a[2],o[2])+Math.min(s[2],u[2])+c[14],l[0]=Math.max(r[0],i[0])+Math.max(a[0],o[0])+Math.max(s[0],u[0])+c[12],l[1]=Math.max(r[1],i[1])+Math.max(a[1],o[1])+Math.max(s[1],u[1])+c[13],l[2]=Math.max(r[2],i[2])+Math.max(a[2],o[2])+Math.max(s[2],u[2])+c[14],this.min._dirty=!0,this.max._dirty=!0,this}),applyProjection:function(t){var e=this.min.array,n=this.max.array,r=t.array,i=e[0],a=e[1],o=e[2],s=n[0],u=n[1],l=e[2],c=n[0],h=n[1],f=n[2];if(1===r[15])e[0]=r[0]*i+r[12],e[1]=r[5]*a+r[13],n[2]=r[10]*o+r[14],n[0]=r[0]*c+r[12],n[1]=r[5]*h+r[13],e[2]=r[10]*f+r[14];else{var d=-1/o;e[0]=r[0]*i*d,e[1]=r[5]*a*d,n[2]=(r[10]*o+r[14])*d,d=-1/l,n[0]=r[0]*s*d,n[1]=r[5]*u*d,d=-1/f,e[2]=(r[10]*f+r[14])*d}return this.min._dirty=!0,this.max._dirty=!0,this},updateVertices:function(){var t=this.vertices;if(!t){t=[];for(var e=0;e<8;e++)t[e]=c.a.fromValues(0,0,0);this.vertices=t}var n=this.min.array,r=this.max.array;return h(t[0],n[0],n[1],n[2]),h(t[1],n[0],r[1],n[2]),h(t[2],r[0],n[1],n[2]),h(t[3],r[0],r[1],n[2]),h(t[4],n[0],n[1],r[2]),h(t[5],n[0],r[1],r[2]),h(t[6],r[0],n[1],r[2]),h(t[7],r[0],r[1],r[2]),this},copy:function(t){var e=this.min,n=this.max;return f(e.array,t.min.array),f(n.array,t.max.array),e._dirty=!0,n._dirty=!0,this},clone:function(){var t=new d;return t.copy(this),t}},e.a=d},function(t,e,n){"use strict";var r=n(7),i=n(23),a=n(113).a.parseToFloat,o={};function s(t){var e=Object.keys(t);e.sort();for(var n=[],r=0;r<e.length;r++){var i=e[r],a=t[i];null===a?n.push(i):n.push(i+" "+a.toString())}return n.join("\n")}var u=r.a.extend((function(){return{name:"",depthTest:!0,depthMask:!0,transparent:!1,blend:null,autoUpdateTextureStatus:!0,uniforms:{},vertexDefines:{},fragmentDefines:{},_textureStatus:{},_enabledUniforms:null}}),(function(){this.name||(this.name="MATERIAL_"+this.__uid__),this.shader&&this.attachShader(this.shader,!0)}),{precision:"highp",setUniform:function(t,e){void 0===e&&console.warn('Uniform value "'+t+'" is undefined');var n=this.uniforms[t];n&&("string"==typeof e&&(e=a(e)||e),n.value=e,this.autoUpdateTextureStatus&&"t"===n.type&&(e?this.enableTexture(t):this.disableTexture(t)))},setUniforms:function(t){for(var e in t){var n=t[e];this.setUniform(e,n)}},isUniformEnabled:function(t){return this._enabledUniforms.indexOf(t)>=0},getEnabledUniforms:function(){return this._enabledUniforms},getTextureUniforms:function(){return this._textureUniforms},set:function(t,e){if("object"==typeof t)for(var n in t){var r=t[n];this.setUniform(n,r)}else this.setUniform(t,e)},get:function(t){var e=this.uniforms[t];if(e)return e.value},attachShader:function(t,e){var n=this.uniforms;this.uniforms=t.createUniforms(),this.shader=t;var r=this.uniforms;this._enabledUniforms=Object.keys(r),this._enabledUniforms.sort(),this._textureUniforms=this._enabledUniforms.filter((function(t){var e=this.uniforms[t].type;return"t"===e||"tv"===e}),this);var a=this.vertexDefines,o=this.fragmentDefines;if(this.vertexDefines=i.a.clone(t.vertexDefines),this.fragmentDefines=i.a.clone(t.fragmentDefines),e){for(var s in n)r[s]&&(r[s].value=n[s].value);i.a.defaults(this.vertexDefines,a),i.a.defaults(this.fragmentDefines,o)}var u={};for(var l in t.textures)u[l]={shaderType:t.textures[l].shaderType,type:t.textures[l].type,enabled:!(!e||!this._textureStatus[l])&&this._textureStatus[l].enabled};this._textureStatus=u,this._programKey=""},clone:function(){var t=new this.constructor({name:this.name,shader:this.shader});for(var e in this.uniforms)t.uniforms[e].value=this.uniforms[e].value;return t.depthTest=this.depthTest,t.depthMask=this.depthMask,t.transparent=this.transparent,t.blend=this.blend,t.vertexDefines=i.a.clone(this.vertexDefines),t.fragmentDefines=i.a.clone(this.fragmentDefines),t.enableTexture(this.getEnabledTextures()),t.precision=this.precision,t},define:function(t,e,n){var r=this.vertexDefines,i=this.fragmentDefines;"vertex"!==t&&"fragment"!==t&&"both"!==t&&arguments.length<3&&(n=e,e=t,t="both"),n=null!=n?n:null,"vertex"!==t&&"both"!==t||r[e]!==n&&(r[e]=n,this._programKey=""),"fragment"!==t&&"both"!==t||i[e]!==n&&(i[e]=n,"both"!==t&&(this._programKey=""))},undefine:function(t,e){"vertex"!==t&&"fragment"!==t&&"both"!==t&&arguments.length<2&&(e=t,t="both"),"vertex"!==t&&"both"!==t||this.isDefined("vertex",e)&&(delete this.vertexDefines[e],this._programKey=""),"fragment"!==t&&"both"!==t||this.isDefined("fragment",e)&&(delete this.fragmentDefines[e],"both"!==t&&(this._programKey=""))},isDefined:function(t,e){switch(t){case"vertex":return void 0!==this.vertexDefines[e];case"fragment":return void 0!==this.fragmentDefines[e]}},getDefine:function(t,e){switch(t){case"vertex":return this.vertexDefines[e];case"fragment":return this.fragmentDefines[e]}},enableTexture:function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this.enableTexture(t[e]);else{var n=this._textureStatus[t];n&&(n.enabled||(n.enabled=!0,this._programKey=""))}},enableTexturesAll:function(){var t=this._textureStatus;for(var e in t)t[e].enabled=!0;this._programKey=""},disableTexture:function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this.disableTexture(t[e]);else{var n=this._textureStatus[t];n&&(!n.enabled||(n.enabled=!1,this._programKey=""))}},disableTexturesAll:function(){var t=this._textureStatus;for(var e in t)t[e].enabled=!1;this._programKey=""},isTextureEnabled:function(t){var e=this._textureStatus;return!!e[t]&&e[t].enabled},getEnabledTextures:function(){var t=[],e=this._textureStatus;for(var n in e)e[n].enabled&&t.push(n);return t},dirtyDefines:function(){this._programKey=""},getProgramKey:function(){return this._programKey||(this._programKey=function(t,e,n){n.sort();for(var r=[],a=0;a<n.length;a++){var u=n[a];r.push(u)}var l=s(t)+"\n"+s(e)+"\n"+r.join("\n");if(o[l])return o[l];var c=i.a.genGUID();return o[l]=c,c}(this.vertexDefines,this.fragmentDefines,this.getEnabledTextures())),this._programKey}});e.a=u},function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return a}));var r=1e-6,i=Array,a=Math.random},function(t,e,n){"use strict";var r=n(20),i={create:function(){var t=new r.a(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},clone:function(t){var e=new r.a(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},transpose:function(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],a=e[6],o=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=a,t[11]=e[14],t[12]=i,t[13]=o,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},invert:function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],l=e[7],c=e[8],h=e[9],f=e[10],d=e[11],p=e[12],m=e[13],g=e[14],_=e[15],v=n*s-r*o,y=n*u-i*o,b=n*l-a*o,x=r*u-i*s,w=r*l-a*s,T=i*l-a*u,S=c*m-h*p,E=c*g-f*p,C=c*_-d*p,A=h*g-f*m,M=h*_-d*m,O=f*_-d*g,D=v*O-y*M+b*A+x*C-w*E+T*S;return D?(D=1/D,t[0]=(s*O-u*M+l*A)*D,t[1]=(i*M-r*O-a*A)*D,t[2]=(m*T-g*w+_*x)*D,t[3]=(f*w-h*T-d*x)*D,t[4]=(u*C-o*O-l*E)*D,t[5]=(n*O-i*C+a*E)*D,t[6]=(g*b-p*T-_*y)*D,t[7]=(c*T-f*b+d*y)*D,t[8]=(o*M-s*C+l*S)*D,t[9]=(r*C-n*M-a*S)*D,t[10]=(p*w-m*b+_*v)*D,t[11]=(h*b-c*w-d*v)*D,t[12]=(s*E-o*A-u*S)*D,t[13]=(n*A-r*E+i*S)*D,t[14]=(m*y-p*x-g*v)*D,t[15]=(c*x-h*y+f*v)*D,t):null},adjoint:function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],l=e[7],c=e[8],h=e[9],f=e[10],d=e[11],p=e[12],m=e[13],g=e[14],_=e[15];return t[0]=s*(f*_-d*g)-h*(u*_-l*g)+m*(u*d-l*f),t[1]=-(r*(f*_-d*g)-h*(i*_-a*g)+m*(i*d-a*f)),t[2]=r*(u*_-l*g)-s*(i*_-a*g)+m*(i*l-a*u),t[3]=-(r*(u*d-l*f)-s*(i*d-a*f)+h*(i*l-a*u)),t[4]=-(o*(f*_-d*g)-c*(u*_-l*g)+p*(u*d-l*f)),t[5]=n*(f*_-d*g)-c*(i*_-a*g)+p*(i*d-a*f),t[6]=-(n*(u*_-l*g)-o*(i*_-a*g)+p*(i*l-a*u)),t[7]=n*(u*d-l*f)-o*(i*d-a*f)+c*(i*l-a*u),t[8]=o*(h*_-d*m)-c*(s*_-l*m)+p*(s*d-l*h),t[9]=-(n*(h*_-d*m)-c*(r*_-a*m)+p*(r*d-a*h)),t[10]=n*(s*_-l*m)-o*(r*_-a*m)+p*(r*l-a*s),t[11]=-(n*(s*d-l*h)-o*(r*d-a*h)+c*(r*l-a*s)),t[12]=-(o*(h*g-f*m)-c*(s*g-u*m)+p*(s*f-u*h)),t[13]=n*(h*g-f*m)-c*(r*g-i*m)+p*(r*f-i*h),t[14]=-(n*(s*g-u*m)-o*(r*g-i*m)+p*(r*u-i*s)),t[15]=n*(s*f-u*h)-o*(r*f-i*h)+c*(r*u-i*s),t},determinant:function(t){var e=t[0],n=t[1],r=t[2],i=t[3],a=t[4],o=t[5],s=t[6],u=t[7],l=t[8],c=t[9],h=t[10],f=t[11],d=t[12],p=t[13],m=t[14],g=t[15];return(e*o-n*a)*(h*g-f*m)-(e*s-r*a)*(c*g-f*p)+(e*u-i*a)*(c*m-h*p)+(n*s-r*o)*(l*g-f*d)-(n*u-i*o)*(l*m-h*d)+(r*u-i*s)*(l*p-c*d)},multiply:function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],f=e[9],d=e[10],p=e[11],m=e[12],g=e[13],_=e[14],v=e[15],y=n[0],b=n[1],x=n[2],w=n[3];return t[0]=y*r+b*s+x*h+w*m,t[1]=y*i+b*u+x*f+w*g,t[2]=y*a+b*l+x*d+w*_,t[3]=y*o+b*c+x*p+w*v,y=n[4],b=n[5],x=n[6],w=n[7],t[4]=y*r+b*s+x*h+w*m,t[5]=y*i+b*u+x*f+w*g,t[6]=y*a+b*l+x*d+w*_,t[7]=y*o+b*c+x*p+w*v,y=n[8],b=n[9],x=n[10],w=n[11],t[8]=y*r+b*s+x*h+w*m,t[9]=y*i+b*u+x*f+w*g,t[10]=y*a+b*l+x*d+w*_,t[11]=y*o+b*c+x*p+w*v,y=n[12],b=n[13],x=n[14],w=n[15],t[12]=y*r+b*s+x*h+w*m,t[13]=y*i+b*u+x*f+w*g,t[14]=y*a+b*l+x*d+w*_,t[15]=y*o+b*c+x*p+w*v,t},multiplyAffine:function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[4],s=e[5],u=e[6],l=e[8],c=e[9],h=e[10],f=e[12],d=e[13],p=e[14],m=n[0],g=n[1],_=n[2];return t[0]=m*r+g*o+_*l,t[1]=m*i+g*s+_*c,t[2]=m*a+g*u+_*h,m=n[4],g=n[5],_=n[6],t[4]=m*r+g*o+_*l,t[5]=m*i+g*s+_*c,t[6]=m*a+g*u+_*h,m=n[8],g=n[9],_=n[10],t[8]=m*r+g*o+_*l,t[9]=m*i+g*s+_*c,t[10]=m*a+g*u+_*h,m=n[12],g=n[13],_=n[14],t[12]=m*r+g*o+_*l+f,t[13]=m*i+g*s+_*c+d,t[14]=m*a+g*u+_*h+p,t}};i.mul=i.multiply,i.mulAffine=i.multiplyAffine,i.translate=function(t,e,n){var r,i,a,o,s,u,l,c,h,f,d,p,m=n[0],g=n[1],_=n[2];return e===t?(t[12]=e[0]*m+e[4]*g+e[8]*_+e[12],t[13]=e[1]*m+e[5]*g+e[9]*_+e[13],t[14]=e[2]*m+e[6]*g+e[10]*_+e[14],t[15]=e[3]*m+e[7]*g+e[11]*_+e[15]):(r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],f=e[9],d=e[10],p=e[11],t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=s,t[5]=u,t[6]=l,t[7]=c,t[8]=h,t[9]=f,t[10]=d,t[11]=p,t[12]=r*m+s*g+h*_+e[12],t[13]=i*m+u*g+f*_+e[13],t[14]=a*m+l*g+d*_+e[14],t[15]=o*m+c*g+p*_+e[15]),t},i.scale=function(t,e,n){var r=n[0],i=n[1],a=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},i.rotate=function(t,e,n,i){var a,o,s,u,l,c,h,f,d,p,m,g,_,v,y,b,x,w,T,S,E,C,A,M,O=i[0],D=i[1],N=i[2],I=Math.sqrt(O*O+D*D+N*N);return Math.abs(I)<r.b?null:(O*=I=1/I,D*=I,N*=I,a=Math.sin(n),s=1-(o=Math.cos(n)),u=e[0],l=e[1],c=e[2],h=e[3],f=e[4],d=e[5],p=e[6],m=e[7],g=e[8],_=e[9],v=e[10],y=e[11],b=O*O*s+o,x=D*O*s+N*a,w=N*O*s-D*a,T=O*D*s-N*a,S=D*D*s+o,E=N*D*s+O*a,C=O*N*s+D*a,A=D*N*s-O*a,M=N*N*s+o,t[0]=u*b+f*x+g*w,t[1]=l*b+d*x+_*w,t[2]=c*b+p*x+v*w,t[3]=h*b+m*x+y*w,t[4]=u*T+f*S+g*E,t[5]=l*T+d*S+_*E,t[6]=c*T+p*S+v*E,t[7]=h*T+m*S+y*E,t[8]=u*C+f*A+g*M,t[9]=l*C+d*A+_*M,t[10]=c*C+p*A+v*M,t[11]=h*C+m*A+y*M,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)},i.rotateX=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),a=e[4],o=e[5],s=e[6],u=e[7],l=e[8],c=e[9],h=e[10],f=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=a*i+l*r,t[5]=o*i+c*r,t[6]=s*i+h*r,t[7]=u*i+f*r,t[8]=l*i-a*r,t[9]=c*i-o*r,t[10]=h*i-s*r,t[11]=f*i-u*r,t},i.rotateY=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),a=e[0],o=e[1],s=e[2],u=e[3],l=e[8],c=e[9],h=e[10],f=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i-l*r,t[1]=o*i-c*r,t[2]=s*i-h*r,t[3]=u*i-f*r,t[8]=a*r+l*i,t[9]=o*r+c*i,t[10]=s*r+h*i,t[11]=u*r+f*i,t},i.rotateZ=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),a=e[0],o=e[1],s=e[2],u=e[3],l=e[4],c=e[5],h=e[6],f=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i+l*r,t[1]=o*i+c*r,t[2]=s*i+h*r,t[3]=u*i+f*r,t[4]=l*i-a*r,t[5]=c*i-o*r,t[6]=h*i-s*r,t[7]=f*i-u*r,t},i.fromRotationTranslation=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=r+r,u=i+i,l=a+a,c=r*s,h=r*u,f=r*l,d=i*u,p=i*l,m=a*l,g=o*s,_=o*u,v=o*l;return t[0]=1-(d+m),t[1]=h+v,t[2]=f-_,t[3]=0,t[4]=h-v,t[5]=1-(c+m),t[6]=p+g,t[7]=0,t[8]=f+_,t[9]=p-g,t[10]=1-(c+d),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},i.fromQuat=function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n+n,s=r+r,u=i+i,l=n*o,c=r*o,h=r*s,f=i*o,d=i*s,p=i*u,m=a*o,g=a*s,_=a*u;return t[0]=1-h-p,t[1]=c+_,t[2]=f-g,t[3]=0,t[4]=c-_,t[5]=1-l-p,t[6]=d+m,t[7]=0,t[8]=f+g,t[9]=d-m,t[10]=1-l-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.frustum=function(t,e,n,r,i,a,o){var s=1/(n-e),u=1/(i-r),l=1/(a-o);return t[0]=2*a*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*a*u,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(i+r)*u,t[10]=(o+a)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*a*2*l,t[15]=0,t},i.perspective=function(t,e,n,r,i){var a=1/Math.tan(e/2),o=1/(r-i);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+r)*o,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*r*o,t[15]=0,t},i.ortho=function(t,e,n,r,i,a,o){var s=1/(e-n),u=1/(r-i),l=1/(a-o);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*u,t[14]=(o+a)*l,t[15]=1,t},i.lookAt=function(t,e,n,a){var o,s,u,l,c,h,f,d,p,m,g=e[0],_=e[1],v=e[2],y=a[0],b=a[1],x=a[2],w=n[0],T=n[1],S=n[2];return Math.abs(g-w)<r.b&&Math.abs(_-T)<r.b&&Math.abs(v-S)<r.b?i.identity(t):(f=g-w,d=_-T,p=v-S,o=b*(p*=m=1/Math.sqrt(f*f+d*d+p*p))-x*(d*=m),s=x*(f*=m)-y*p,u=y*d-b*f,(m=Math.sqrt(o*o+s*s+u*u))?(o*=m=1/m,s*=m,u*=m):(o=0,s=0,u=0),l=d*u-p*s,c=p*o-f*u,h=f*s-d*o,(m=Math.sqrt(l*l+c*c+h*h))?(l*=m=1/m,c*=m,h*=m):(l=0,c=0,h=0),t[0]=o,t[1]=l,t[2]=f,t[3]=0,t[4]=s,t[5]=c,t[6]=d,t[7]=0,t[8]=u,t[9]=h,t[10]=p,t[11]=0,t[12]=-(o*g+s*_+u*v),t[13]=-(l*g+c*_+h*v),t[14]=-(f*g+d*_+p*v),t[15]=1,t)},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},e.a=i},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(36),o=n(174),s=n(41),u=n(37),l=n(9),c=n(3),h=n(26),f=n(53),d=n(176),p=n(200),m=n(49);function g(t){t=t||"perspective",this.layer=null,this.scene=new a.a,this.rootNode=this.scene,this.viewport={x:0,y:0,width:0,height:0},this.setProjection(t),this._compositor=new d.a,this._temporalSS=new p.a,this._shadowMapPass=new o.a;for(var e=[],n=0,r=0;r<30;r++){for(var i=[],s=0;s<6;s++)i.push(4*Object(m.a)(n,2)-2),i.push(4*Object(m.a)(n,3)-2),n++;e.push(i)}this._pcfKernels=e,this.scene.on("beforerender",(function(t,e,n){this.needsTemporalSS()&&this._temporalSS.jitterProjection(t,n)}),this)}g.prototype.setProjection=function(t){var e=this.camera;e&&e.update(),"perspective"===t?this.camera instanceof s.a||(this.camera=new s.a,e&&this.camera.setLocalTransform(e.localTransform)):this.camera instanceof u.a||(this.camera=new u.a,e&&this.camera.setLocalTransform(e.localTransform)),this.camera.near=.1,this.camera.far=2e3},g.prototype.setViewport=function(t,e,n,r,i){this.camera instanceof s.a&&(this.camera.aspect=n/r),i=i||1,this.viewport.x=t,this.viewport.y=e,this.viewport.width=n,this.viewport.height=r,this.viewport.devicePixelRatio=i,this._compositor.resize(n*i,r*i),this._temporalSS.resize(n*i,r*i)},g.prototype.containPoint=function(t,e){var n=this.viewport;return e=this.layer.renderer.getHeight()-e,t>=n.x&&e>=n.y&&t<=n.x+n.width&&e<=n.y+n.height};var _=new h.a;g.prototype.castRay=function(t,e,n){var r=this.layer.renderer,i=r.viewport;return r.viewport=this.viewport,r.screenToNDC(t,e,_),this.camera.castRay(_,n),r.viewport=i,n},g.prototype.prepareRender=function(){this.scene.update(),this.camera.update(),this.scene.updateLights();var t=this.scene.updateRenderList(this.camera);this._needsSortProgressively=!1;for(var e=0;e<t.transparent.length;e++){var n=t.transparent[e].geometry;n.needsSortVerticesProgressively&&n.needsSortVerticesProgressively()&&(this._needsSortProgressively=!0),n.needsSortTrianglesProgressively&&n.needsSortTrianglesProgressively()&&(this._needsSortProgressively=!0)}this._frame=0,this._temporalSS.resetFrame()},g.prototype.render=function(t,e){this._doRender(t,e,this._frame),this._frame++},g.prototype.needsAccumulate=function(){return this.needsTemporalSS()||this._needsSortProgressively},g.prototype.needsTemporalSS=function(){var t=this._enableTemporalSS;return"auto"===t&&(t=this._enablePostEffect),t},g.prototype.hasDOF=function(){return this._enableDOF},g.prototype.isAccumulateFinished=function(){return this.needsTemporalSS()?this._temporalSS.isFinished():this._frame>30},g.prototype._doRender=function(t,e,n){var r=this.scene,i=this.camera;n=n||0,this._updateTransparent(t,r,i,n),e||(this._shadowMapPass.kernelPCF=this._pcfKernels[0],this._shadowMapPass.render(t,r,i,!0)),this._updateShadowPCFKernel(n);var a,o=t.clearColor;t.gl.clearColor(o[0],o[1],o[2],o[3]),this._enablePostEffect&&(this.needsTemporalSS()&&this._temporalSS.jitterProjection(t,i),this._compositor.updateNormal(t,r,i,this._temporalSS.getFrame())),this._updateSSAO(t,r,i,this._temporalSS.getFrame()),this._enablePostEffect?((a=this._compositor.getSourceFrameBuffer()).bind(t),t.gl.clear(t.gl.DEPTH_BUFFER_BIT|t.gl.COLOR_BUFFER_BIT),t.render(r,i,!0,!0),a.unbind(t),this.needsTemporalSS()&&e?(this._compositor.composite(t,r,i,this._temporalSS.getSourceFrameBuffer(),this._temporalSS.getFrame()),t.setViewport(this.viewport),this._temporalSS.render(t)):(t.setViewport(this.viewport),this._compositor.composite(t,r,i,null,0))):this.needsTemporalSS()&&e?((a=this._temporalSS.getSourceFrameBuffer()).bind(t),t.saveClear(),t.clearBit=t.gl.DEPTH_BUFFER_BIT|t.gl.COLOR_BUFFER_BIT,t.render(r,i,!0,!0),t.restoreClear(),a.unbind(t),t.setViewport(this.viewport),this._temporalSS.render(t)):(t.setViewport(this.viewport),t.render(r,i,!0,!0))},g.prototype._updateTransparent=function(t,e,n,r){for(var i=new c.a,a=new l.a,o=n.getWorldPosition(),s=e.getRenderList(n).transparent,u=0;u<s.length;u++){var h=s[u],f=h.geometry;l.a.invert(a,h.worldTransform),c.a.transformMat4(i,o,a),f.needsSortTriangles&&f.needsSortTriangles()&&f.doSortTriangles(i,r),f.needsSortVertices&&f.needsSortVertices()&&f.doSortVertices(i,r)}},g.prototype._updateSSAO=function(t,e,n){var r=this._enableSSAO&&this._enablePostEffect;r&&this._compositor.updateSSAO(t,e,n,this._temporalSS.getFrame());for(var i=e.getRenderList(n),a=0;a<i.opaque.length;a++){var o=i.opaque[a];o.renderNormal&&o.material[r?"enableTexture":"disableTexture"]("ssaoMap"),r&&o.material.set("ssaoMap",this._compositor.getSSAOTexture())}},g.prototype._updateShadowPCFKernel=function(t){for(var e=this._pcfKernels[t%this._pcfKernels.length],n=this.scene.getRenderList(this.camera).opaque,r=0;r<n.length;r++)n[r].receiveShadow&&(n[r].material.set("pcfKernel",e),n[r].material.define("fragment","PCF_KERNEL_SIZE",e.length/2))},g.prototype.dispose=function(t){this._compositor.dispose(t.gl),this._temporalSS.dispose(t.gl),this._shadowMapPass.dispose(t)},g.prototype.setPostEffect=function(t,e){var n=this._compositor;this._enablePostEffect=t.get("enable");var r=t.getModel("bloom"),i=t.getModel("edge"),a=t.getModel("DOF",t.getModel("depthOfField")),o=t.getModel("SSAO",t.getModel("screenSpaceAmbientOcclusion")),s=t.getModel("SSR",t.getModel("screenSpaceReflection")),u=t.getModel("FXAA"),l=t.getModel("colorCorrection");r.get("enable")?n.enableBloom():n.disableBloom(),a.get("enable")?n.enableDOF():n.disableDOF(),s.get("enable")?n.enableSSR():n.disableSSR(),l.get("enable")?n.enableColorCorrection():n.disableColorCorrection(),i.get("enable")?n.enableEdge():n.disableEdge(),u.get("enable")?n.enableFXAA():n.disableFXAA(),this._enableDOF=a.get("enable"),this._enableSSAO=o.get("enable"),this._enableSSAO?n.enableSSAO():n.disableSSAO(),n.setBloomIntensity(r.get("intensity")),n.setEdgeColor(i.get("color")),n.setColorLookupTexture(l.get("lookupTexture"),e),n.setExposure(l.get("exposure")),["radius","quality","intensity"].forEach((function(t){n.setSSAOParameter(t,o.get(t))})),["quality","maxRoughness","physical"].forEach((function(t){n.setSSRParameter(t,s.get(t))})),["quality","focalDistance","focalRange","blurRadius","fstop"].forEach((function(t){n.setDOFParameter(t,a.get(t))})),["brightness","contrast","saturation"].forEach((function(t){n.setColorCorrection(t,l.get(t))}))},g.prototype.setDOFFocusOnPoint=function(t){if(this._enablePostEffect){if(t>this.camera.far||t<this.camera.near)return;return this._compositor.setDOFParameter("focalDistance",t),!0}},g.prototype.setTemporalSuperSampling=function(t){this._enableTemporalSS=t.get("enable")},g.prototype.isLinearSpace=function(){return this._enablePostEffect},g.prototype.setRootNode=function(t){if(this.rootNode!==t){for(var e=this.rootNode.children(),n=0;n<e.length;n++)t.add(e[n]);t!==this.scene&&this.scene.add(t),this.rootNode=t}},g.prototype.add=function(t){this.rootNode.add(t)},g.prototype.remove=function(t){this.rootNode.remove(t)},g.prototype.removeAll=function(t){this.rootNode.removeAll(t)},i.a.util.extend(g.prototype,f.a),e.a=g},function(t,e,n){"use strict";var r=0,i=Array.prototype.forEach,a={genGUID:function(){return++r},relative2absolute:function(t,e){if(!e||t.match(/^\//))return t;for(var n=t.split("/"),r=e.split("/"),i=n[0];"."===i||".."===i;)".."===i&&r.pop(),n.shift(),i=n[0];return r.join("/")+"/"+n.join("/")},extend:function(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},defaults:function(t,e){if(e)for(var n in e)void 0===t[n]&&(t[n]=e[n]);return t},extendWithPropList:function(t,e,n){if(e)for(var r=0;r<n.length;r++){var i=n[r];t[i]=e[i]}return t},defaultsWithPropList:function(t,e,n){if(e)for(var r=0;r<n.length;r++){var i=n[r];null==t[i]&&(t[i]=e[i])}return t},each:function(t,e,n){if(t&&e)if(t.forEach&&t.forEach===i)t.forEach(e,n);else if(t.length===+t.length)for(var r=0,a=t.length;r<a;r++)e.call(n,t[r],r,t);else for(var o in t)t.hasOwnProperty(o)&&e.call(n,t[o],o,t)},isObject:function(t){return t===Object(t)},isArray:function(t){return Array.isArray(t)},isArrayLike:function(t){return!!t&&t.length===+t.length},clone:function(t){if(a.isObject(t)){if(a.isArray(t))return t.slice();if(a.isArrayLike(t)){for(var e=new t.constructor(t.length),n=0;n<t.length;n++)e[n]=t[n];return e}return a.extend({},t)}return t}};e.a=a},function(t,e,n){"use strict";var r=n(35),i=n(8),a=n(119);i.a.import(a.a);var o=r.a.extend((function(){return{color:[1,1,1],intensity:1,castShadow:!0,shadowResolution:512,group:0}}),{type:"",clone:function(){var t=r.a.prototype.clone.call(this);return t.color=Array.prototype.slice.call(this.color),t.intensity=this.intensity,t.castShadow=this.castShadow,t.shadowResolution=this.shadowResolution,t}});e.a=o},function(t,e,n){"use strict";var r=n(15),i=n(0),a=n.n(i),o=n(38),s=n(6).a.vec3,u=[[0,0],[1,1]],l=r.a.extend((function(){return{segmentScale:1,dynamic:!0,useNativeLine:!0,attributes:{position:new r.a.Attribute("position","float",3,"POSITION"),positionPrev:new r.a.Attribute("positionPrev","float",3),positionNext:new r.a.Attribute("positionNext","float",3),prevPositionPrev:new r.a.Attribute("prevPositionPrev","float",3),prevPosition:new r.a.Attribute("prevPosition","float",3),prevPositionNext:new r.a.Attribute("prevPositionNext","float",3),offset:new r.a.Attribute("offset","float",1),color:new r.a.Attribute("color","float",4,"COLOR")}}}),{resetOffset:function(){this._vertexOffset=0,this._triangleOffset=0,this._itemVertexOffsets=[]},setVertexCount:function(t){var e=this.attributes;this.vertexCount!==t&&(e.position.init(t),e.color.init(t),this.useNativeLine||(e.positionPrev.init(t),e.positionNext.init(t),e.offset.init(t)),t>65535?this.indices instanceof Uint16Array&&(this.indices=new Uint32Array(this.indices)):this.indices instanceof Uint32Array&&(this.indices=new Uint16Array(this.indices)))},setTriangleCount:function(t){this.triangleCount!==t&&(this.indices=0===t?null:this.vertexCount>65535?new Uint32Array(3*t):new Uint16Array(3*t))},_getCubicCurveApproxStep:function(t,e,n,r){return 1/(s.dist(t,e)+s.dist(n,e)+s.dist(r,n)+1)*this.segmentScale},getCubicCurveVertexCount:function(t,e,n,r){var i=this._getCubicCurveApproxStep(t,e,n,r),a=Math.ceil(1/i);return this.useNativeLine?2*a:2*a+2},getCubicCurveTriangleCount:function(t,e,n,r){var i=this._getCubicCurveApproxStep(t,e,n,r),a=Math.ceil(1/i);return this.useNativeLine?0:2*a},getLineVertexCount:function(){return this.getPolylineVertexCount(u)},getLineTriangleCount:function(){return this.getPolylineTriangleCount(u)},getPolylineVertexCount:function(t){var e;return e="number"==typeof t?t:"number"!=typeof t[0]?t.length:t.length/3,this.useNativeLine?2*(e-1):2*(e-1)+2},getPolylineTriangleCount:function(t){var e;return e="number"==typeof t?t:"number"!=typeof t[0]?t.length:t.length/3,this.useNativeLine?0:2*Math.max(e-1,0)},addCubicCurve:function(t,e,n,r,i,a){null==a&&(a=1);var o=t[0],s=t[1],u=t[2],l=e[0],c=e[1],h=e[2],f=n[0],d=n[1],p=n[2],m=r[0],g=r[1],_=r[2],v=this._getCubicCurveApproxStep(t,e,n,r),y=v*v,b=y*v,x=3*v,w=3*y,T=6*y,S=6*b,E=o-2*l+f,C=s-2*c+d,A=u-2*h+p,M=3*(l-f)-o+m,O=3*(c-d)-s+g,D=3*(h-p)-u+_,N=o,I=s,P=u,L=(l-o)*x+E*w+M*b,R=(c-s)*x+C*w+O*b,k=(h-u)*x+A*w+D*b,B=E*T+M*S,F=C*T+O*S,z=A*T+D*S,j=M*S,U=O*S,H=D*S,V=0,G=0,W=Math.ceil(1/v),$=new Float32Array(3*(W+1)),X=($=[],0);for(G=0;G<W+1;G++)$[X++]=N,$[X++]=I,$[X++]=P,N+=L,I+=R,P+=k,L+=B,R+=F,k+=z,B+=j,F+=U,z+=H,(V+=v)>1&&(N=L>0?Math.min(N,m):Math.max(N,m),I=R>0?Math.min(I,g):Math.max(I,g),P=k>0?Math.min(P,_):Math.max(P,_));return this.addPolyline($,i,a)},addLine:function(t,e,n,r){return this.addPolyline([t,e],n,r)},addPolyline:function(t,e,n,r,i){if(t.length){var a="number"!=typeof t[0];if(null==i&&(i=a?t.length:t.length/3),!(i<2)){null==r&&(r=0),null==n&&(n=1),this._itemVertexOffsets.push(this._vertexOffset);var o,s,u=(a="number"!=typeof t[0])?"number"!=typeof e[0]:e.length/4===i,l=this.attributes.position,c=this.attributes.positionPrev,h=this.attributes.positionNext,f=this.attributes.color,d=this.attributes.offset,p=this.indices,m=this._vertexOffset;n=Math.max(n,.01);for(var g=r;g<i;g++){if(a)o=t[g],s=u?e[g]:e;else{var _=3*g;if((o=o||[])[0]=t[_],o[1]=t[_+1],o[2]=t[_+2],u){var v=4*g;(s=s||[])[0]=e[v],s[1]=e[v+1],s[2]=e[v+2],s[3]=e[v+3]}else s=e}if(this.useNativeLine?g>1&&(l.copy(m,m-1),f.copy(m,m-1),m++):(g<i-1&&(c.set(m+2,o),c.set(m+3,o)),g>0&&(h.set(m-2,o),h.set(m-1,o)),l.set(m,o),l.set(m+1,o),f.set(m,s),f.set(m+1,s),d.set(m,n/2),d.set(m+1,-n/2),m+=2),this.useNativeLine)f.set(m,s),l.set(m,o),m++;else if(g>0){var y=3*this._triangleOffset;(p=this.indices)[y]=m-4,p[y+1]=m-3,p[y+2]=m-2,p[y+3]=m-3,p[y+4]=m-1,p[y+5]=m-2,this._triangleOffset+=2}}if(!this.useNativeLine){var b=this._vertexOffset,x=this._vertexOffset+2*i;c.copy(b,b+2),c.copy(b+1,b+3),h.copy(x-1,x-3),h.copy(x-2,x-4)}return this._vertexOffset=m,this._vertexOffset}}},setItemColor:function(t,e){for(var n=this._itemVertexOffsets[t],r=t<this._itemVertexOffsets.length-1?this._itemVertexOffsets[t+1]:this._vertexOffset,i=n;i<r;i++)this.attributes.color.set(i,e);this.dirty("color")},currentTriangleOffset:function(){return this._triangleOffset},currentVertexOffset:function(){return this._vertexOffset}});a.a.util.defaults(l.prototype,o.a),e.a=l},function(t,e,n){"use strict";var r=n(70),i=function(t,e){t=t||0,e=e||0,this.array=r.a.fromValues(t,e),this._dirty=!0};if(i.prototype={constructor:i,add:function(t){return r.a.add(this.array,this.array,t.array),this._dirty=!0,this},set:function(t,e){return this.array[0]=t,this.array[1]=e,this._dirty=!0,this},setArray:function(t){return this.array[0]=t[0],this.array[1]=t[1],this._dirty=!0,this},clone:function(){return new i(this.x,this.y)},copy:function(t){return r.a.copy(this.array,t.array),this._dirty=!0,this},cross:function(t,e){return r.a.cross(t.array,this.array,e.array),t._dirty=!0,this},dist:function(t){return r.a.dist(this.array,t.array)},distance:function(t){return r.a.distance(this.array,t.array)},div:function(t){return r.a.div(this.array,this.array,t.array),this._dirty=!0,this},divide:function(t){return r.a.divide(this.array,this.array,t.array),this._dirty=!0,this},dot:function(t){return r.a.dot(this.array,t.array)},len:function(){return r.a.len(this.array)},length:function(){return r.a.length(this.array)},lerp:function(t,e,n){return r.a.lerp(this.array,t.array,e.array,n),this._dirty=!0,this},min:function(t){return r.a.min(this.array,this.array,t.array),this._dirty=!0,this},max:function(t){return r.a.max(this.array,this.array,t.array),this._dirty=!0,this},mul:function(t){return r.a.mul(this.array,this.array,t.array),this._dirty=!0,this},multiply:function(t){return r.a.multiply(this.array,this.array,t.array),this._dirty=!0,this},negate:function(){return r.a.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return r.a.normalize(this.array,this.array),this._dirty=!0,this},random:function(t){return r.a.random(this.array,t),this._dirty=!0,this},scale:function(t){return r.a.scale(this.array,this.array,t),this._dirty=!0,this},scaleAndAdd:function(t,e){return r.a.scaleAndAdd(this.array,this.array,t.array,e),this._dirty=!0,this},sqrDist:function(t){return r.a.sqrDist(this.array,t.array)},squaredDistance:function(t){return r.a.squaredDistance(this.array,t.array)},sqrLen:function(){return r.a.sqrLen(this.array)},squaredLength:function(){return r.a.squaredLength(this.array)},sub:function(t){return r.a.sub(this.array,this.array,t.array),this._dirty=!0,this},subtract:function(t){return r.a.subtract(this.array,this.array,t.array),this._dirty=!0,this},transformMat2:function(t){return r.a.transformMat2(this.array,this.array,t.array),this._dirty=!0,this},transformMat2d:function(t){return r.a.transformMat2d(this.array,this.array,t.array),this._dirty=!0,this},transformMat3:function(t){return r.a.transformMat3(this.array,this.array,t.array),this._dirty=!0,this},transformMat4:function(t){return r.a.transformMat4(this.array,this.array,t.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},Object.defineProperty){var a=i.prototype;Object.defineProperty(a,"x",{get:function(){return this.array[0]},set:function(t){this.array[0]=t,this._dirty=!0}}),Object.defineProperty(a,"y",{get:function(){return this.array[1]},set:function(t){this.array[1]=t,this._dirty=!0}})}i.add=function(t,e,n){return r.a.add(t.array,e.array,n.array),t._dirty=!0,t},i.set=function(t,e,n){return r.a.set(t.array,e,n),t._dirty=!0,t},i.copy=function(t,e){return r.a.copy(t.array,e.array),t._dirty=!0,t},i.cross=function(t,e,n){return r.a.cross(t.array,e.array,n.array),t._dirty=!0,t},i.distance=i.dist=function(t,e){return r.a.distance(t.array,e.array)},i.divide=i.div=function(t,e,n){return r.a.divide(t.array,e.array,n.array),t._dirty=!0,t},i.dot=function(t,e){return r.a.dot(t.array,e.array)},i.len=function(t){return r.a.length(t.array)},i.lerp=function(t,e,n,i){return r.a.lerp(t.array,e.array,n.array,i),t._dirty=!0,t},i.min=function(t,e,n){return r.a.min(t.array,e.array,n.array),t._dirty=!0,t},i.max=function(t,e,n){return r.a.max(t.array,e.array,n.array),t._dirty=!0,t},i.multiply=i.mul=function(t,e,n){return r.a.multiply(t.array,e.array,n.array),t._dirty=!0,t},i.negate=function(t,e){return r.a.negate(t.array,e.array),t._dirty=!0,t},i.normalize=function(t,e){return r.a.normalize(t.array,e.array),t._dirty=!0,t},i.random=function(t,e){return r.a.random(t.array,e),t._dirty=!0,t},i.scale=function(t,e,n){return r.a.scale(t.array,e.array,n),t._dirty=!0,t},i.scaleAndAdd=function(t,e,n,i){return r.a.scaleAndAdd(t.array,e.array,n.array,i),t._dirty=!0,t},i.squaredDistance=i.sqrDist=function(t,e){return r.a.sqrDist(t.array,e.array)},i.squaredLength=i.sqrLen=function(t){return r.a.sqrLen(t.array)},i.subtract=i.sub=function(t,e,n){return r.a.subtract(t.array,e.array,n.array),t._dirty=!0,t},i.transformMat2=function(t,e,n){return r.a.transformMat2(t.array,e.array,n.array),t._dirty=!0,t},i.transformMat2d=function(t,e,n){return r.a.transformMat2d(t.array,e.array,n.array),t._dirty=!0,t},i.transformMat3=function(t,e,n){return r.a.transformMat3(t.array,e.array,n.array),t._dirty=!0,t},i.transformMat4=function(t,e,n){return r.a.transformMat4(t.array,e.array,n.array),t._dirty=!0,t},e.a=i},function(t,e,n){"use strict";var r=n(4),i=n(11),a=n(23),o=n(73),s=n(14),u=o.a.isPowerOfTwo,l=["px","nx","py","ny","pz","nz"],c=r.a.extend((function(){return{image:{px:null,nx:null,py:null,ny:null,pz:null,nz:null},pixels:{px:null,nx:null,py:null,ny:null,pz:null,nz:null},mipmaps:[]}}),{textureType:"textureCube",update:function(t){var e=t.gl;e.bindTexture(e.TEXTURE_CUBE_MAP,this._cache.get("webgl_texture")),this.updateCommon(t);var n=this.format,r=this.type;e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_WRAP_S,this.getAvailableWrapS()),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_WRAP_T,this.getAvailableWrapT()),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,this.getAvailableMagFilter()),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,this.getAvailableMinFilter());var a=t.getGLExtension("EXT_texture_filter_anisotropic");if(a&&this.anisotropic>1&&e.texParameterf(e.TEXTURE_CUBE_MAP,a.TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropic),36193===r&&(t.getGLExtension("OES_texture_half_float")||(r=i.a.FLOAT)),this.mipmaps.length)for(var o=this.width,s=this.height,u=0;u<this.mipmaps.length;u++){var l=this.mipmaps[u];this._updateTextureData(e,l,u,o,s,n,r),o/=2,s/=2}else this._updateTextureData(e,this,0,this.width,this.height,n,r),!this.NPOT&&this.useMipmap&&e.generateMipmap(e.TEXTURE_CUBE_MAP);e.bindTexture(e.TEXTURE_CUBE_MAP,null)},_updateTextureData:function(t,e,n,r,i,a,o){for(var s=0;s<6;s++){var u=l[s],c=e.image&&e.image[u];c?t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+s,n,a,a,o,c):t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+s,n,a,r,i,0,a,o,e.pixels&&e.pixels[u])}},generateMipmap:function(t){var e=t.gl;this.useMipmap&&!this.NPOT&&(e.bindTexture(e.TEXTURE_CUBE_MAP,this._cache.get("webgl_texture")),e.generateMipmap(e.TEXTURE_CUBE_MAP))},bind:function(t){t.gl.bindTexture(t.gl.TEXTURE_CUBE_MAP,this.getWebGLTexture(t))},unbind:function(t){t.gl.bindTexture(t.gl.TEXTURE_CUBE_MAP,null)},isPowerOfTwo:function(){return this.image.px?u(this.image.px.width)&&u(this.image.px.height):u(this.width)&&u(this.height)},isRenderable:function(){return this.image.px?h(this.image.px)&&h(this.image.nx)&&h(this.image.py)&&h(this.image.ny)&&h(this.image.pz)&&h(this.image.nz):!(!this.width||!this.height)},load:function(t,e){var n=0,r=this;return a.a.each(t,(function(t,i){var a=s.a.createImage();e&&(a.crossOrigin=e),a.onload=function(){0==--n&&(r.dirty(),r.trigger("success",r)),a.onload=null},a.onerror=function(){n--,a.onerror=null},n++,a.src=t,r.image[i]=a})),this}});function h(t){return"CANVAS"===t.nodeName||"VIDEO"===t.nodeName||t.complete}Object.defineProperty(c.prototype,"width",{get:function(){return this.image&&this.image.px?this.image.px.width:this._width},set:function(t){this.image&&this.image.px?console.warn("Texture from image can't set width"):(this._width!==t&&this.dirty(),this._width=t)}}),Object.defineProperty(c.prototype,"height",{get:function(){return this.image&&this.image.px?this.image.px.height:this._height},set:function(t){this.image&&this.image.px?console.warn("Texture from image can't set height"):(this._height!==t&&this.dirty(),this._height=t)}}),e.a=c},function(t,e,n){"use strict";e.a={defaultOption:{postEffect:{enable:!1,bloom:{enable:!0,intensity:.1},depthOfField:{enable:!1,focalRange:20,focalDistance:50,blurRadius:10,fstop:2.8,quality:"medium"},screenSpaceAmbientOcclusion:{enable:!1,radius:2,quality:"medium",intensity:1},screenSpaceReflection:{enable:!1,quality:"medium",maxRoughness:.8},colorCorrection:{enable:!0,exposure:0,brightness:0,contrast:1,saturation:1,lookupTexture:""},edge:{enable:!1},FXAA:{enable:!1}},temporalSuperSampling:{enable:"auto"}}}},function(t,e,n){"use strict";e.a={defaultOption:{light:{main:{shadow:!1,shadowQuality:"high",color:"#fff",intensity:1,alpha:0,beta:0},ambient:{color:"#fff",intensity:.2},ambientCubemap:{texture:null,exposure:1,diffuseIntensity:.5,specularIntensity:.5}}}}},function(t,e,n){"use strict";var r=n(1),i=n(42),a=n(0),o=n.n(a);function s(){}s.prototype={constructor:s,setScene:function(t){this._scene=t,this._skybox&&this._skybox.attachScene(this._scene)},initLight:function(t){this._lightRoot=t,this.mainLight=new r.a.DirectionalLight({shadowBias:.005}),this.ambientLight=new r.a.AmbientLight,t.add(this.mainLight),t.add(this.ambientLight)},dispose:function(){this._lightRoot&&(this._lightRoot.remove(this.mainLight),this._lightRoot.remove(this.ambientLight))},updateLight:function(t){var e=this.mainLight,n=this.ambientLight,i=t.getModel("light"),a=i.getModel("main"),o=i.getModel("ambient");e.intensity=a.get("intensity"),n.intensity=o.get("intensity"),e.color=r.a.parseColor(a.get("color")).slice(0,3),n.color=r.a.parseColor(o.get("color")).slice(0,3);var s=a.get("alpha")||0,u=a.get("beta")||0;e.position.setArray(r.a.directionFromAlphaBeta(s,u)),e.lookAt(r.a.Vector3.ZERO),e.castShadow=a.get("shadow"),e.shadowResolution=r.a.getShadowResolution(a.get("shadowQuality"))},updateAmbientCubemap:function(t,e,n){var i=e.getModel("light.ambientCubemap"),a=i.get("texture");if(a){this._cubemapLightsCache=this._cubemapLightsCache||{};var o=this._cubemapLightsCache[a];if(!o){var s=this;o=this._cubemapLightsCache[a]=r.a.createAmbientCubemap(i.option,t,n,(function(){s._isSkyboxFromAmbientCubemap&&s._skybox.setEnvironmentMap(o.specular.cubemap),n.getZr().refresh()}))}this._lightRoot.add(o.diffuse),this._lightRoot.add(o.specular),this._currentCubemapLights=o}else this._currentCubemapLights&&(this._lightRoot.remove(this._currentCubemapLights.diffuse),this._lightRoot.remove(this._currentCubemapLights.specular),this._currentCubemapLights=null)},updateSkybox:function(t,e,n){var a=e.get("environment"),s=this,u=(s._skybox=s._skybox||new i.a,s._skybox);if(a&&"none"!==a)if("auto"===a)if(this._isSkyboxFromAmbientCubemap=!0,this._currentCubemapLights){var l=this._currentCubemapLights.specular.cubemap;u.setEnvironmentMap(l),this._scene&&u.attachScene(this._scene),u.material.set("lod",3)}else this._skybox&&this._skybox.detachScene();else if("object"==typeof a&&a.colorStops||"string"==typeof a&&o.a.color.parse(a)){this._isSkyboxFromAmbientCubemap=!1;var c=new r.a.Texture2D({anisotropic:8,flipY:!1});u.setEnvironmentMap(c);var h=c.image=document.createElement("canvas");h.width=h.height=16;var f=h.getContext("2d");new o.a.graphic.Rect({shape:{x:0,y:0,width:16,height:16},style:{fill:a}}).brush(f),u.attachScene(this._scene)}else this._isSkyboxFromAmbientCubemap=!1,c=r.a.loadTexture(a,n,{anisotropic:8,flipY:!1}),u.setEnvironmentMap(c),u.attachScene(this._scene);else this._skybox&&this._skybox.detachScene(this._scene),this._skybox=null;var d=e.coordinateSystem;if(this._skybox)if(!d||!d.viewGL||"auto"===a||a.match&&a.match(/.hdr$/))this._skybox.material.undefine("fragment","SRGB_DECODE");else{var p=d.viewGL.isLinearSpace()?"define":"undefine";this._skybox.material[p]("fragment","SRGB_DECODE")}}},e.a=s},function(t,e,n){"use strict";e.a={defaultOption:{shading:null,realisticMaterial:{textureTiling:1,textureOffset:0,detailTexture:null},lambertMaterial:{textureTiling:1,textureOffset:0,detailTexture:null},colorMaterial:{textureTiling:1,textureOffset:0,detailTexture:null},hatchingMaterial:{textureTiling:1,textureOffset:0,paperColor:"#fff"}}}},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a={getFormattedLabel:function(t,e,n,r,a){n=n||"normal";var o=t.getData(r).getItemModel(e),s=t.getDataParams(e,r);null!=a&&s.value instanceof Array&&(s.value=s.value[a]);var u,l=o.get("normal"===n?["label","formatter"]:["emphasis","label","formatter"]);return null==l&&(l=o.get(["label","formatter"])),"function"==typeof l?(s.status=n,u=l(s)):"string"==typeof l&&(u=i.a.format.formatTpl(l,s)),u},normalizeToArray:function(t){return t instanceof Array?t:null==t?[]:[t]}};e.a=a},function(t,e,n){"use strict";var r,i=n(20),a={create:function(){var t=new i.a(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},clone:function(t){var e=new i.a(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},fromValues:function(t,e,n,r){var a=new i.a(4);return a[0]=t,a[1]=e,a[2]=n,a[3]=r,a},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},set:function(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t},add:function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},subtract:function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}};a.sub=a.subtract,a.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t},a.mul=a.multiply,a.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t},a.div=a.divide,a.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t},a.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t},a.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},a.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t},a.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],a=e[3]-t[3];return Math.sqrt(n*n+r*r+i*i+a*a)},a.dist=a.distance,a.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],a=e[3]-t[3];return n*n+r*r+i*i+a*a},a.sqrDist=a.squaredDistance,a.length=function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.sqrt(e*e+n*n+r*r+i*i)},a.len=a.length,a.squaredLength=function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return e*e+n*n+r*r+i*i},a.sqrLen=a.squaredLength,a.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},a.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},a.normalize=function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n*n+r*r+i*i+a*a;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t[3]=e[3]*o),t},a.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},a.lerp=function(t,e,n,r){var i=e[0],a=e[1],o=e[2],s=e[3];return t[0]=i+r*(n[0]-i),t[1]=a+r*(n[1]-a),t[2]=o+r*(n[2]-o),t[3]=s+r*(n[3]-s),t},a.random=function(t,e){return e=e||1,t[0]=Object(i.c)(),t[1]=Object(i.c)(),t[2]=Object(i.c)(),t[3]=Object(i.c)(),a.normalize(t,t),a.scale(t,t,e),t},a.transformMat4=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*a+n[12]*o,t[1]=n[1]*r+n[5]*i+n[9]*a+n[13]*o,t[2]=n[2]*r+n[6]*i+n[10]*a+n[14]*o,t[3]=n[3]*r+n[7]*i+n[11]*a+n[15]*o,t},a.transformQuat=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[0],s=n[1],u=n[2],l=n[3],c=l*r+s*a-u*i,h=l*i+u*r-o*a,f=l*a+o*i-s*r,d=-o*r-s*i-u*a;return t[0]=c*l+d*-o+h*-u-f*-s,t[1]=h*l+d*-s+f*-o-c*-u,t[2]=f*l+d*-u+c*-s-h*-o,t},a.forEach=(r=a.create(),function(t,e,n,i,a,o){var s,u;for(e||(e=4),n||(n=0),u=i?Math.min(i*e+n,t.length):t.length,s=n;s<u;s+=e)r[0]=t[s],r[1]=t[s+1],r[2]=t[s+2],r[3]=t[s+3],a(r,r,o),t[s]=r[0],t[s+1]=r[1],t[s+2]=r[2],t[s+3]=r[3];return t}),e.a=a},function(t,e,n){"use strict";var r=n(20),i={create:function(){var t=new r.a(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},fromMat4:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},clone:function(t){var e=new r.a(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},transpose:function(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},invert:function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],l=e[7],c=e[8],h=c*o-s*l,f=-c*a+s*u,d=l*a-o*u,p=n*h+r*f+i*d;return p?(p=1/p,t[0]=h*p,t[1]=(-c*r+i*l)*p,t[2]=(s*r-i*o)*p,t[3]=f*p,t[4]=(c*n-i*u)*p,t[5]=(-s*n+i*a)*p,t[6]=d*p,t[7]=(-l*n+r*u)*p,t[8]=(o*n-r*a)*p,t):null},adjoint:function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],l=e[7],c=e[8];return t[0]=o*c-s*l,t[1]=i*l-r*c,t[2]=r*s-i*o,t[3]=s*u-a*c,t[4]=n*c-i*u,t[5]=i*a-n*s,t[6]=a*l-o*u,t[7]=r*u-n*l,t[8]=n*o-r*a,t},determinant:function(t){var e=t[0],n=t[1],r=t[2],i=t[3],a=t[4],o=t[5],s=t[6],u=t[7],l=t[8];return e*(l*a-o*u)+n*(-l*i+o*s)+r*(u*i-a*s)},multiply:function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],f=n[0],d=n[1],p=n[2],m=n[3],g=n[4],_=n[5],v=n[6],y=n[7],b=n[8];return t[0]=f*r+d*o+p*l,t[1]=f*i+d*s+p*c,t[2]=f*a+d*u+p*h,t[3]=m*r+g*o+_*l,t[4]=m*i+g*s+_*c,t[5]=m*a+g*u+_*h,t[6]=v*r+y*o+b*l,t[7]=v*i+y*s+b*c,t[8]=v*a+y*u+b*h,t}};i.mul=i.multiply,i.translate=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],f=n[0],d=n[1];return t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=s,t[5]=u,t[6]=f*r+d*o+l,t[7]=f*i+d*s+c,t[8]=f*a+d*u+h,t},i.rotate=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],f=Math.sin(n),d=Math.cos(n);return t[0]=d*r+f*o,t[1]=d*i+f*s,t[2]=d*a+f*u,t[3]=d*o-f*r,t[4]=d*s-f*i,t[5]=d*u-f*a,t[6]=l,t[7]=c,t[8]=h,t},i.scale=function(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},i.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},i.fromQuat=function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n+n,s=r+r,u=i+i,l=n*o,c=r*o,h=r*s,f=i*o,d=i*s,p=i*u,m=a*o,g=a*s,_=a*u;return t[0]=1-h-p,t[3]=c-_,t[6]=f+g,t[1]=c+_,t[4]=1-l-p,t[7]=d-m,t[2]=f-g,t[5]=d+m,t[8]=1-l-h,t},i.normalFromMat4=function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],l=e[7],c=e[8],h=e[9],f=e[10],d=e[11],p=e[12],m=e[13],g=e[14],_=e[15],v=n*s-r*o,y=n*u-i*o,b=n*l-a*o,x=r*u-i*s,w=r*l-a*s,T=i*l-a*u,S=c*m-h*p,E=c*g-f*p,C=c*_-d*p,A=h*g-f*m,M=h*_-d*m,O=f*_-d*g,D=v*O-y*M+b*A+x*C-w*E+T*S;return D?(D=1/D,t[0]=(s*O-u*M+l*A)*D,t[1]=(u*C-o*O-l*E)*D,t[2]=(o*M-s*C+l*S)*D,t[3]=(i*M-r*O-a*A)*D,t[4]=(n*O-i*C+a*E)*D,t[5]=(r*C-n*M-a*S)*D,t[6]=(m*T-g*w+_*x)*D,t[7]=(g*b-p*T-_*y)*D,t[8]=(p*w-m*b+_*v)*D,t):null},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},e.a=i},function(t,e,n){"use strict";var r,i,a,o,s=n(7),u=n(3),l=n(56),c=n(9),h=n(21),f=n(18),d=0,p=s.a.extend({name:"",position:null,rotation:null,scale:null,worldTransform:null,localTransform:null,autoUpdateLocalTransform:!0,_parent:null,_scene:null,_needsUpdateWorldTransform:!0,_inIterating:!1,__depth:0},(function(){this.name||(this.name=(this.type||"NODE")+"_"+d++),this.position||(this.position=new u.a),this.rotation||(this.rotation=new l.a),this.scale||(this.scale=new u.a(1,1,1)),this.worldTransform=new c.a,this.localTransform=new c.a,this._children=[]}),{target:null,invisible:!1,isSkinnedMesh:function(){return!1},isRenderable:function(){return!1},setName:function(t){var e=this._scene;if(e){var n=e._nodeRepository;delete n[this.name],n[t]=this}this.name=t},add:function(t){var e=t._parent;if(e!==this){e&&e.remove(t),t._parent=this,this._children.push(t);var n=this._scene;n&&n!==t.scene&&t.traverse(this._addSelfToScene,this),t._needsUpdateWorldTransform=!0}},remove:function(t){var e=this._children,n=e.indexOf(t);n<0||(e.splice(n,1),t._parent=null,this._scene&&t.traverse(this._removeSelfFromScene,this))},removeAll:function(){for(var t=this._children,e=0;e<t.length;e++)t[e]._parent=null,this._scene&&t[e].traverse(this._removeSelfFromScene,this);this._children=[]},getScene:function(){return this._scene},getParent:function(){return this._parent},_removeSelfFromScene:function(t){t._scene.removeFromScene(t),t._scene=null},_addSelfToScene:function(t){this._scene.addToScene(t),t._scene=this._scene},isAncestor:function(t){for(var e=t._parent;e;){if(e===this)return!0;e=e._parent}return!1},children:function(){return this._children.slice()},childAt:function(t){return this._children[t]},getChildByName:function(t){for(var e=this._children,n=0;n<e.length;n++)if(e[n].name===t)return e[n]},getDescendantByName:function(t){for(var e=this._children,n=0;n<e.length;n++){var r=e[n];if(r.name===t)return r;var i=r.getDescendantByName(t);if(i)return i}},queryNode:function(t){if(t){for(var e=t.split("/"),n=this,r=0;r<e.length;r++){var i=e[r];if(i){for(var a=!1,o=n._children,s=0;s<o.length;s++){var u=o[s];if(u.name===i){n=u,a=!0;break}}if(!a)return}}return n}},getPath:function(t){if(!this._parent)return"/";for(var e=this._parent,n=this.name;e._parent&&(n=e.name+"/"+n,e._parent!=t);)e=e._parent;return!e._parent&&t?null:n},traverse:function(t,e){t.call(e,this);for(var n=this._children,r=0,i=n.length;r<i;r++)n[r].traverse(t,e)},eachChild:function(t,e){for(var n=this._children,r=0,i=n.length;r<i;r++){var a=n[r];t.call(e,a,r)}},setLocalTransform:function(t){h.a.copy(this.localTransform.array,t.array),this.decomposeLocalTransform()},decomposeLocalTransform:function(t){var e=t?null:this.scale;this.localTransform.decomposeMatrix(e,this.rotation,this.position)},setWorldTransform:function(t){h.a.copy(this.worldTransform.array,t.array),this.decomposeWorldTransform()},decomposeWorldTransform:(o=h.a.create(),function(t){var e=this.localTransform,n=this.worldTransform;this._parent?(h.a.invert(o,this._parent.worldTransform.array),h.a.multiply(e.array,o,n.array)):h.a.copy(e.array,n.array);var r=t?null:this.scale;e.decomposeMatrix(r,this.rotation,this.position)}),transformNeedsUpdate:function(){return this.position._dirty||this.rotation._dirty||this.scale._dirty},updateLocalTransform:function(){var t=this.position,e=this.rotation,n=this.scale;if(this.transformNeedsUpdate()){var r=this.localTransform.array;h.a.fromRotationTranslation(r,e.array,t.array),h.a.scale(r,r,n.array),e._dirty=!1,n._dirty=!1,t._dirty=!1,this._needsUpdateWorldTransform=!0}},_updateWorldTransformTopDown:function(){var t=this.localTransform.array,e=this.worldTransform.array;this._parent?h.a.multiplyAffine(e,this._parent.worldTransform.array,t):h.a.copy(e,t)},updateWorldTransform:function(){for(var t=this;t&&t.getParent()&&t.getParent().transformNeedsUpdate();)t=t.getParent();t.update()},update:function(t){this.autoUpdateLocalTransform?this.updateLocalTransform():t=!0,(t||this._needsUpdateWorldTransform)&&(this._updateWorldTransformTopDown(),t=!0,this._needsUpdateWorldTransform=!1);for(var e=this._children,n=0,r=e.length;n<r;n++)e[n].update(t)},getBoundingBox:function(){function t(t){return!t.invisible&&t.geometry}var e=new f.a,n=new c.a,r=new c.a;return function(i,a){return a=a||new f.a,i=i||t,this._parent?c.a.invert(r,this._parent.worldTransform):c.a.identity(r),this.traverse((function(t){t.geometry&&t.geometry.boundingBox&&(e.copy(t.geometry.boundingBox),c.a.multiply(n,r,t.worldTransform),e.applyTransform(n),a.union(e))}),this,t),a}}(),getWorldPosition:function(t){this.transformNeedsUpdate()&&this.updateWorldTransform();var e=this.worldTransform.array;if(t){var n=t.array;return n[0]=e[12],n[1]=e[13],n[2]=e[14],t}return new u.a(e[12],e[13],e[14])},clone:function(){var t=new this.constructor,e=this._children;t.setName(this.name),t.position.copy(this.position),t.rotation.copy(this.rotation),t.scale.copy(this.scale);for(var n=0;n<e.length;n++)t.add(e[n].clone());return t},rotateAround:(i=new u.a,a=new c.a,function(t,e,n){i.copy(this.position).subtract(t);var r=this.localTransform;r.identity(),r.translate(t),r.rotate(n,e),a.fromRotationTranslation(this.rotation,i),r.multiply(a),r.scale(this.scale),this.decomposeLocalTransform(),this._needsUpdateWorldTransform=!0}),lookAt:(r=new c.a,function(t,e){r.lookAt(this.position,t,e||this.localTransform.y).invert(),this.setLocalTransform(r),this.target=t})});e.a=p},function(t,e,n){"use strict";var r=n(35),i=n(24),a=n(58),o=n(18),s=n(23),u=n(21),l=n(69),c=n(9),h=u.a.create(),f=u.a.create(),d={};function p(t){var e=[],n=Object.keys(t);n.sort();for(var r=0;r<n.length;r++){var i=n[r];e.push(i+" "+t[i])}var a=e.join("\n");if(d[a])return d[a];var o=s.a.genGUID();return d[a]=o,o}function m(){this.opaque=[],this.transparent=[],this._opaqueCount=0,this._transparentCount=0}m.prototype.startCount=function(){this._opaqueCount=0,this._transparentCount=0},m.prototype.add=function(t,e){e?this.transparent[this._transparentCount++]=t:this.opaque[this._opaqueCount++]=t},m.prototype.endCount=function(){this.transparent.length=this._transparentCount,this.opaque.length=this._opaqueCount};var g,_,v=r.a.extend((function(){return{material:null,lights:[],viewBoundingBoxLastFrame:new o.a,shadowUniforms:{},_cameraList:[],_lightUniforms:{},_previousLightNumber:{},_lightNumber:{},_lightProgramKeys:{},_nodeRepository:{},_renderLists:new l.a(20)}}),(function(){this._scene=this}),{addToScene:function(t){t instanceof a.a?(this._cameraList.length>0&&console.warn("Found multiple camera in one scene. Use the fist one."),this._cameraList.push(t)):t instanceof i.a&&this.lights.push(t),t.name&&(this._nodeRepository[t.name]=t)},removeFromScene:function(t){var e;t instanceof a.a?(e=this._cameraList.indexOf(t))>=0&&this._cameraList.splice(e,1):t instanceof i.a&&(e=this.lights.indexOf(t))>=0&&this.lights.splice(e,1),t.name&&delete this._nodeRepository[t.name]},getNode:function(t){return this._nodeRepository[t]},setMainCamera:function(t){var e=this._cameraList.indexOf(t);e>=0&&this._cameraList.splice(e,1),this._cameraList.unshift(t)},getMainCamera:function(){return this._cameraList[0]},getLights:function(){return this.lights},updateLights:function(){var t=this.lights;this._previousLightNumber=this._lightNumber;for(var e={},n=0;n<t.length;n++){var r=t[n];if(!r.invisible){var i=r.group;e[i]||(e[i]={}),e[i][r.type]=e[i][r.type]||0,e[i][r.type]++}}for(var a in this._lightNumber=e,e)this._lightProgramKeys[a]=p(e[a]);this._updateLightUniforms()},cloneNode:function(t){var e=t.clone(),n={};return function t(e,r){n[e.__uid__]=r;for(var i=0;i<e._children.length;i++)t(e._children[i],r._children[i])}(t,e),e.traverse((function(t){t.skeleton&&(t.skeleton=t.skeleton.clone(n)),t.material&&(t.material=t.material.clone())})),e},updateRenderList:function(t,e){var n=t.__uid__,r=this._renderLists.get(n);r||(r=new m,this._renderLists.put(n,r)),r.startCount(),e&&(this.viewBoundingBoxLastFrame.min.set(1/0,1/0,1/0),this.viewBoundingBoxLastFrame.max.set(-1/0,-1/0,-1/0));var i=this.material&&this.material.transparent||!1;return this._doUpdateRenderList(this,t,i,r,e),r.endCount(),r},getRenderList:function(t){return this._renderLists.get(t.__uid__)},_doUpdateRenderList:function(t,e,n,r,i){if(!t.invisible)for(var a=0;a<t._children.length;a++){var o=t._children[a];if(o.isRenderable()){var s=o.isSkinnedMesh()?h:o.worldTransform.array,l=o.geometry;u.a.multiplyAffine(f,e.viewMatrix.array,s),(i&&!l.boundingBox||!this.isFrustumCulled(o,e,f))&&r.add(o,o.material.transparent||n)}o._children.length>0&&this._doUpdateRenderList(o,e,n,r,i)}},isFrustumCulled:(g=new o.a,_=new c.a,function(t,e,n){var r=t.boundingBox;if(r||(r=t.skeleton&&t.skeleton.boundingBox?t.skeleton.boundingBox:t.geometry.boundingBox),!r)return!1;if(_.array=n,g.transformFrom(r,_),t.castShadow&&this.viewBoundingBoxLastFrame.union(g),t.frustumCulling){if(!g.intersectBoundingBox(e.frustum.boundingBox))return!0;_.array=e.projectionMatrix.array,g.max.array[2]>0&&g.min.array[2]<0&&(g.max.array[2]=-1e-20),g.applyProjection(_);var i=g.min.array,a=g.max.array;if(a[0]<-1||i[0]>1||a[1]<-1||i[1]>1||a[2]<-1||i[2]>1)return!0}return!1}),_updateLightUniforms:function(){var t=this.lights;t.sort(y);var e=this._lightUniforms;for(var n in e)for(var r in e[n])e[n][r].value.length=0;for(var i=0;i<t.length;i++){var a=t[i];if(!a.invisible)for(var r in n=a.group,a.uniformTemplates){var o=a.uniformTemplates[r],s=o.value(a);if(null!=s){e[n]||(e[n]={}),e[n][r]||(e[n][r]={type:"",value:[]});var u=e[n][r];switch(u.type=o.type+"v",o.type){case"1i":case"1f":case"t":u.value.push(s);break;case"2f":case"3f":case"4f":for(var l=0;l<s.length;l++)u.value.push(s[l]);break;default:console.error("Unkown light uniform type "+o.type)}}}}},getLightGroups:function(){var t=[];for(var e in this._lightNumber)t.push(e);return t},getNumberChangedLightGroups:function(){var t=[];for(var e in this._lightNumber)this.isLightNumberChanged(e)&&t.push(e);return t},isLightNumberChanged:function(t){var e=this._previousLightNumber,n=this._lightNumber;for(var r in n[t]){if(!e[t])return!0;if(n[t][r]!==e[t][r])return!0}for(var r in e[t]){if(!n[t])return!0;if(n[t][r]!==e[t][r])return!0}return!1},getLightsNumbers:function(t){return this._lightNumber[t]},getProgramKey:function(t){return this._lightProgramKeys[t]},setLightUniforms:function(){function t(t,e,n){for(var r in t){var i=t[r];if("tv"===i.type){if(!e.hasUniform(r))continue;for(var a=[],o=0;o<i.value.length;o++){var s=i.value[o],u=e.takeCurrentTextureSlot(n,s);a.push(u)}e.setUniform(n.gl,"1iv",r,a)}else e.setUniform(n.gl,i.type,r,i.value)}}return function(e,n,r){t(this._lightUniforms[n],e,r),t(this.shadowUniforms,e,r)}}(),dispose:function(){this.material=null,this._opaqueList=[],this._transparentList=[],this.lights=[],this._lightUniforms={},this._lightNumber={},this._nodeRepository={}}});function y(t,e){if(e.castShadow&&!t.castShadow)return!0}e.a=v},function(t,e,n){"use strict";var r=n(58),i=r.a.extend({left:-1,right:1,near:-1,far:1,top:1,bottom:-1},{updateProjectionMatrix:function(){this.projectionMatrix.ortho(this.left,this.right,this.bottom,this.top,this.near,this.far)},decomposeProjectionMatrix:function(){var t=this.projectionMatrix.array;this.left=(-1-t[12])/t[0],this.right=(1-t[12])/t[0],this.top=(1-t[13])/t[5],this.bottom=(-1-t[13])/t[5],this.near=-(-1-t[14])/t[10],this.far=-(1-t[14])/t[10]},clone:function(){var t=r.a.prototype.clone.call(this);return t.left=this.left,t.right=this.right,t.near=this.near,t.far=this.far,t.top=this.top,t.bottom=this.bottom,t}});e.a=i},function(t,e,n){"use strict";e.a={convertToDynamicArray:function(t){t&&this.resetOffset();var e=this.attributes;for(var n in e)t||!e[n].value?e[n].value=[]:e[n].value=Array.prototype.slice.call(e[n].value);t||!this.indices?this.indices=[]:this.indices=Array.prototype.slice.call(this.indices)},convertToTypedArray:function(){var t=this.attributes;for(var e in t)t[e].value&&t[e].value.length>0?t[e].value=new Float32Array(t[e].value):t[e].value=null;this.indices&&this.indices.length>0&&(this.indices=this.vertexCount>65535?new Uint32Array(this.indices):new Uint16Array(this.indices)),this.dirty()}}},function(t,e,n){"use strict";var r=n(0),i=n.n(r);e.a=function(t,e,n){var r=t.getData(),a=t.getRawValue(e),o=i.a.util.isArray(a)?function(t){var a=[],o=function(t,e){var n=[];return i.a.util.each(t.dimensions,(function(r){var i=t.getDimensionInfo(r),a=i.otherDims[e];null!=a&&!1!==a&&(n[a]=i.name)})),n}(r,"tooltip");function s(t,e){var o=r.getDimensionInfo(e);if(o&&!1!==o.otherDims.tooltip){var s=o.type,u="- "+(o.tooltipName||o.name)+": "+("ordinal"===s?t+"":"time"===s?n?"":i.a.format.formatTime("yyyy/MM/dd hh:mm:ss",t):i.a.format.addCommas(t));u&&a.push(i.a.format.encodeHTML(u))}}return o.length?i.a.util.each(o,(function(t){s(r.get(t,e),t)})):i.a.util.each(t,s),"<br/>"+a.join("<br/>")}(a):i.a.format.encodeHTML(i.a.format.addCommas(a)),s=r.getName(e),u=r.getItemVisual(e,"color");i.a.util.isObject(u)&&u.colorStops&&(u=(u.colorStops[0]||{}).color),u=u||"transparent";var l=i.a.format.getTooltipMarker(u),c=t.name;return"\0-"===c&&(c=""),c=c?i.a.format.encodeHTML(c)+(n?": ":"<br/>"):"",n?l+c+o:c+l+(s?i.a.format.encodeHTML(s)+": "+o:o)}},function(t,e,n){"use strict";var r=n(72),i=n(11),a=r.a.extend({skeleton:null,joints:null,useSkinMatricesTexture:!1},(function(){this.joints||(this.joints=[])}),{isSkinnedMesh:function(){return!!(this.skeleton&&this.joints&&this.joints.length>0)},clone:function(){var t=r.a.prototype.clone.call(this);return t.skeleton=this.skeleton,this.joints&&(t.joints=this.joints.slice()),t}});a.POINTS=i.a.POINTS,a.LINES=i.a.LINES,a.LINE_LOOP=i.a.LINE_LOOP,a.LINE_STRIP=i.a.LINE_STRIP,a.TRIANGLES=i.a.TRIANGLES,a.TRIANGLE_STRIP=i.a.TRIANGLE_STRIP,a.TRIANGLE_FAN=i.a.TRIANGLE_FAN,a.BACK=i.a.BACK,a.FRONT=i.a.FRONT,a.FRONT_AND_BACK=i.a.FRONT_AND_BACK,a.CW=i.a.CW,a.CCW=i.a.CCW,e.a=a},function(t,e,n){"use strict";var r=n(58),i=r.a.extend({fov:50,aspect:1,near:.1,far:2e3},{updateProjectionMatrix:function(){var t=this.fov/180*Math.PI;this.projectionMatrix.perspective(t,this.aspect,this.near,this.far)},decomposeProjectionMatrix:function(){var t=this.projectionMatrix.array,e=2*Math.atan(1/t[5]);this.fov=e/Math.PI*180,this.aspect=t[5]/t[0],this.near=t[14]/(t[10]-1),this.far=t[14]/(t[10]+1)},clone:function(){var t=r.a.prototype.clone.call(this);return t.fov=this.fov,t.aspect=this.aspect,t.near=this.near,t.far=this.far,t}});e.a=i},function(t,e,n){"use strict";var r=n(40),i=n(76),a=n(8),o=n(19),s=n(4),u=n(121);a.a.import(u.a);var l=r.a.extend((function(){var t=new a.a({vertex:a.a.source("clay.skybox.vertex"),fragment:a.a.source("clay.skybox.fragment")}),e=new o.a({shader:t,depthMask:!1});return{scene:null,geometry:new i.a,material:e,environmentMap:null,culling:!1}}),(function(){var t=this.scene;t&&this.attachScene(t),this.environmentMap&&this.setEnvironmentMap(this.environmentMap)}),{attachScene:function(t){this.scene&&this.detachScene(),t.skybox=this,this.scene=t,t.on("beforerender",this._beforeRenderScene,this)},detachScene:function(){this.scene&&(this.scene.off("beforerender",this._beforeRenderScene),this.scene.skybox=null),this.scene=null},dispose:function(t){this.detachScene(),this.geometry.dispose(t)},setEnvironmentMap:function(t){"texture2D"===t.textureType?(this.material.define("EQUIRECTANGULAR"),t.minFilter=s.a.LINEAR):this.material.undefine("EQUIRECTANGULAR"),this.material.set("environmentMap",t)},getEnvironmentMap:function(){return this.material.get("environmentMap")},_beforeRenderScene:function(t,e,n){this.renderSkybox(t,n)},renderSkybox:function(t,e){this.position.copy(e.getWorldPosition()),this.update(),t.gl.disable(t.gl.BLEND),this.material.get("lod")>0?this.material.define("fragment","LOD"):this.material.undefine("fragment","LOD"),t.renderPass([this],e)}});e.a=l},function(t,e,n){"use strict";var r=n(15),i=n(18),a=r.a.extend({dynamic:!1,widthSegments:1,heightSegments:1},(function(){this.build()}),{build:function(){for(var t=this.heightSegments,e=this.widthSegments,n=this.attributes,r=[],a=[],o=[],s=[],u=0;u<=t;u++)for(var l=u/t,c=0;c<=e;c++){var h=c/e;if(r.push([2*h-1,2*l-1,0]),a&&a.push([h,l]),o&&o.push([0,0,1]),c<e&&u<t){var f=c+u*(e+1);s.push([f,f+1,f+e+1]),s.push([f+e+1,f+1,f+e+2])}}n.position.fromArray(r),n.texcoord0.fromArray(a),n.normal.fromArray(o),this.initIndicesFromArray(s),this.boundingBox=new i.a,this.boundingBox.min.set(-1,-1,0),this.boundingBox.max.set(1,1,0)}});e.a=a},function(t,e,n){"use strict";e.a={defaultOption:{viewControl:{projection:"perspective",autoRotate:!1,autoRotateDirection:"cw",autoRotateSpeed:10,autoRotateAfterStill:3,damping:.8,rotateSensitivity:1,zoomSensitivity:1,panSensitivity:1,panMouseButton:"middle",rotateMouseButton:"left",distance:150,minDistance:40,maxDistance:400,orthographicSize:150,maxOrthographicSize:400,minOrthographicSize:20,center:[0,0,0],alpha:0,beta:0,minAlpha:-90,maxAlpha:90}},setView:function(t){t=t||{},this.option.viewControl=this.option.viewControl||{},null!=t.alpha&&(this.option.viewControl.alpha=t.alpha),null!=t.beta&&(this.option.viewControl.beta=t.beta),null!=t.distance&&(this.option.viewControl.distance=t.distance),null!=t.center&&(this.option.viewControl.center=t.center)}}},function(t,e,n){"use strict";var r=n(7),i=n(26),a=n(3),o=(n(56),n(2).a.firstNotNull),s={left:0,middle:1,right:2};function u(t){return t instanceof Array||(t=[t,t]),t}var l=r.a.extend((function(){return{zr:null,viewGL:null,_center:new a.a,minDistance:.5,maxDistance:1.5,maxOrthographicSize:300,minOrthographicSize:30,minAlpha:-90,maxAlpha:90,minBeta:-1/0,maxBeta:1/0,autoRotateAfterStill:0,autoRotateDirection:"cw",autoRotateSpeed:60,damping:.8,rotateSensitivity:1,zoomSensitivity:1,panSensitivity:1,panMouseButton:"middle",rotateMouseButton:"left",_mode:"rotate",_camera:null,_needsUpdate:!1,_rotating:!1,_phi:0,_theta:0,_mouseX:0,_mouseY:0,_rotateVelocity:new i.a,_panVelocity:new i.a,_distance:500,_zoomSpeed:0,_stillTimeout:0,_animators:[]}}),(function(){["_mouseDownHandler","_mouseWheelHandler","_mouseMoveHandler","_mouseUpHandler","_pinchHandler","_contextMenuHandler","_update"].forEach((function(t){this[t]=this[t].bind(this)}),this)}),{init:function(){var t=this.zr;t&&(t.on("mousedown",this._mouseDownHandler),t.on("globalout",this._mouseUpHandler),t.on("mousewheel",this._mouseWheelHandler),t.on("pinch",this._pinchHandler),t.animation.on("frame",this._update),t.dom.addEventListener("contextmenu",this._contextMenuHandler))},dispose:function(){var t=this.zr;t&&(t.off("mousedown",this._mouseDownHandler),t.off("mousemove",this._mouseMoveHandler),t.off("mouseup",this._mouseUpHandler),t.off("mousewheel",this._mouseWheelHandler),t.off("pinch",this._pinchHandler),t.off("globalout",this._mouseUpHandler),t.dom.removeEventListener("contextmenu",this._contextMenuHandler),t.animation.off("frame",this._update)),this.stopAllAnimation()},getDistance:function(){return this._distance},setDistance:function(t){this._distance=t,this._needsUpdate=!0},getOrthographicSize:function(){return this._orthoSize},setOrthographicSize:function(t){this._orthoSize=t,this._needsUpdate=!0},getAlpha:function(){return this._theta/Math.PI*180},getBeta:function(){return-this._phi/Math.PI*180},getCenter:function(){return this._center.toArray()},setAlpha:function(t){t=Math.max(Math.min(this.maxAlpha,t),this.minAlpha),this._theta=t/180*Math.PI,this._needsUpdate=!0},setBeta:function(t){t=Math.max(Math.min(this.maxBeta,t),this.minBeta),this._phi=-t/180*Math.PI,this._needsUpdate=!0},setCenter:function(t){this._center.setArray(t)},setViewGL:function(t){this.viewGL=t},getCamera:function(){return this.viewGL.camera},setFromViewControlModel:function(t,e){var n=(e=e||{}).baseDistance||0,r=e.baseOrthoSize||1,i=t.get("projection");"perspective"!==i&&"orthographic"!==i&&"isometric"!==i&&(console.error("Unkown projection type %s, use perspective projection instead.",i),i="perspective"),this._projection=i,this.viewGL.setProjection(i);var a=t.get("distance")+n,s=t.get("orthographicSize")+r;[["damping",.8],["autoRotate",!1],["autoRotateAfterStill",3],["autoRotateDirection","cw"],["autoRotateSpeed",10],["minDistance",30],["maxDistance",400],["minOrthographicSize",30],["maxOrthographicSize",300],["minAlpha",-90],["maxAlpha",90],["minBeta",-1/0],["maxBeta",1/0],["rotateSensitivity",1],["zoomSensitivity",1],["panSensitivity",1],["panMouseButton","left"],["rotateMouseButton","middle"]].forEach((function(e){this[e[0]]=o(t.get(e[0]),e[1])}),this),this.minDistance+=n,this.maxDistance+=n,this.minOrthographicSize+=r,this.maxOrthographicSize+=r;var u=t.ecModel,l={};["animation","animationDurationUpdate","animationEasingUpdate"].forEach((function(e){l[e]=o(t.get(e),u&&u.get(e))}));var c=o(e.alpha,t.get("alpha"))||0,h=o(e.beta,t.get("beta"))||0,f=o(e.center,t.get("center"))||[0,0,0];l.animation&&l.animationDurationUpdate>0&&this._notFirst?this.animateTo({alpha:c,beta:h,center:f,distance:a,targetOrthographicSize:s,easing:l.animationEasingUpdate,duration:l.animationDurationUpdate}):(this.setDistance(a),this.setAlpha(c),this.setBeta(h),this.setCenter(f),this.setOrthographicSize(s)),this._notFirst=!0,this._validateProperties()},_validateProperties:function(){null==s[this.panMouseButton]&&console.error("Unkown panMouseButton %s. It should be left|middle|right",this.panMouseButton),null==s[this.rotateMouseButton]&&console.error("Unkown rotateMouseButton %s. It should be left|middle|right",this.rotateMouseButton),"cw"!==this.autoRotateDirection&&"ccw"!==this.autoRotateDirection&&console.error("Unkown autoRotateDirection %s. It should be cw|ccw",this.autoRotateDirection)},animateTo:function(t){var e=this.zr,n=this,r={},i={};return null!=t.distance&&(r.distance=this.getDistance(),i.distance=t.distance),null!=t.orthographicSize&&(r.orthographicSize=this.getOrthographicSize(),i.orthographicSize=t.orthographicSize),null!=t.alpha&&(r.alpha=this.getAlpha(),i.alpha=t.alpha),null!=t.beta&&(r.beta=this.getBeta(),i.beta=t.beta),null!=t.center&&(r.center=this.getCenter(),i.center=t.center),this._addAnimator(e.animation.animate(r).when(t.duration||1e3,i).during((function(){null!=r.alpha&&n.setAlpha(r.alpha),null!=r.beta&&n.setBeta(r.beta),null!=r.distance&&n.setDistance(r.distance),null!=r.center&&n.setCenter(r.center),null!=r.orthographicSize&&n.setOrthographicSize(r.orthographicSize),n._needsUpdate=!0}))).start(t.easing||"linear")},stopAllAnimation:function(){for(var t=0;t<this._animators.length;t++)this._animators[t].stop();this._animators.length=0},update:function(){this._needsUpdate=!0,this._update(20)},_isAnimating:function(){return this._animators.length>0},_update:function(t){if(this._rotating){var e=("cw"===this.autoRotateDirection?1:-1)*this.autoRotateSpeed/180*Math.PI;this._phi-=e*t/1e3,this._needsUpdate=!0}else this._rotateVelocity.len()>0&&(this._needsUpdate=!0);(Math.abs(this._zoomSpeed)>.1||this._panVelocity.len()>0)&&(this._needsUpdate=!0),this._needsUpdate&&(t=Math.min(t,50),this._updateDistanceOrSize(t),this._updatePan(t),this._updateRotate(t),this._updateTransform(),this.getCamera().update(),this.zr&&this.zr.refresh(),this.trigger("update"),this._needsUpdate=!1)},_updateRotate:function(t){var e=this._rotateVelocity;this._phi=e.y*t/20+this._phi,this._theta=e.x*t/20+this._theta,this.setAlpha(this.getAlpha()),this.setBeta(this.getBeta()),this._vectorDamping(e,Math.pow(this.damping,t/16))},_updateDistanceOrSize:function(t){"perspective"===this._projection?this._setDistance(this._distance+this._zoomSpeed*t/20):this._setOrthoSize(this._orthoSize+this._zoomSpeed*t/20),this._zoomSpeed*=Math.pow(this.damping,t/16)},_setDistance:function(t){this._distance=Math.max(Math.min(t,this.maxDistance),this.minDistance)},_setOrthoSize:function(t){this._orthoSize=Math.max(Math.min(t,this.maxOrthographicSize),this.minOrthographicSize);var e=this.getCamera(),n=this._orthoSize,r=n/this.viewGL.viewport.height*this.viewGL.viewport.width;e.left=-r/2,e.right=r/2,e.top=n/2,e.bottom=-n/2},_updatePan:function(t){var e=this._panVelocity,n=this._distance,r=this.getCamera(),i=r.worldTransform.y,a=r.worldTransform.x;this._center.scaleAndAdd(a,-e.x*n/200).scaleAndAdd(i,-e.y*n/200),this._vectorDamping(e,0)},_updateTransform:function(){var t=this.getCamera(),e=new a.a,n=this._theta+Math.PI/2,r=this._phi+Math.PI/2,i=Math.sin(n);e.x=i*Math.cos(r),e.y=-Math.cos(n),e.z=i*Math.sin(r),t.position.copy(this._center).scaleAndAdd(e,this._distance),t.rotation.identity().rotateY(-this._phi).rotateX(-this._theta)},_startCountingStill:function(){clearTimeout(this._stillTimeout);var t=this.autoRotateAfterStill,e=this;!isNaN(t)&&t>0&&(this._stillTimeout=setTimeout((function(){e._rotating=!0}),1e3*t))},_vectorDamping:function(t,e){var n=t.len();(n*=e)<1e-4&&(n=0),t.normalize().scale(n)},_decomposeTransform:function(){if(this.getCamera()){this.getCamera().updateWorldTransform();var t=this.getCamera().worldTransform.z,e=Math.asin(t.y),n=Math.atan2(t.x,t.z);this._theta=e,this._phi=-n,this.setBeta(this.getBeta()),this.setAlpha(this.getAlpha()),this.getCamera().aspect?this._setDistance(this.getCamera().position.dist(this._center)):this._setOrthoSize(this.getCamera().top-this.getCamera().bottom)}},_mouseDownHandler:function(t){if(!t.target&&!this._isAnimating()){var e=t.offsetX,n=t.offsetY;this.viewGL&&!this.viewGL.containPoint(e,n)||(this.zr.on("mousemove",this._mouseMoveHandler),this.zr.on("mouseup",this._mouseUpHandler),t.event.targetTouches?1===t.event.targetTouches.length&&(this._mode="rotate"):t.event.button===s[this.rotateMouseButton]?this._mode="rotate":t.event.button===s[this.panMouseButton]?this._mode="pan":this._mode="",this._rotateVelocity.set(0,0),this._rotating=!1,this.autoRotate&&this._startCountingStill(),this._mouseX=t.offsetX,this._mouseY=t.offsetY)}},_mouseMoveHandler:function(t){if(!(t.target&&t.target.__isGLToZRProxy||this._isAnimating())){var e=u(this.panSensitivity),n=u(this.rotateSensitivity);"rotate"===this._mode?(this._rotateVelocity.y=(t.offsetX-this._mouseX)/this.zr.getHeight()*2*n[0],this._rotateVelocity.x=(t.offsetY-this._mouseY)/this.zr.getWidth()*2*n[1]):"pan"===this._mode&&(this._panVelocity.x=(t.offsetX-this._mouseX)/this.zr.getWidth()*e[0]*400,this._panVelocity.y=(-t.offsetY+this._mouseY)/this.zr.getHeight()*e[1]*400),this._mouseX=t.offsetX,this._mouseY=t.offsetY,t.event.preventDefault()}},_mouseWheelHandler:function(t){if(!this._isAnimating()){var e=t.event.wheelDelta||-t.event.detail;this._zoomHandler(t,e)}},_pinchHandler:function(t){this._isAnimating()||(this._zoomHandler(t,t.pinchScale>1?1:-1),this._mode="")},_zoomHandler:function(t,e){if(0!==e){var n,r=t.offsetX,i=t.offsetY;this.viewGL&&!this.viewGL.containPoint(r,i)||(n="perspective"===this._projection?Math.max(Math.max(Math.min(this._distance-this.minDistance,this.maxDistance-this._distance))/20,.5):Math.max(Math.max(Math.min(this._orthoSize-this.minOrthographicSize,this.maxOrthographicSize-this._orthoSize))/20,.5),this._zoomSpeed=(e>0?-1:1)*n*this.zoomSensitivity,this._rotating=!1,this.autoRotate&&"rotate"===this._mode&&this._startCountingStill(),t.event.preventDefault())}},_mouseUpHandler:function(){this.zr.off("mousemove",this._mouseMoveHandler),this.zr.off("mouseup",this._mouseUpHandler)},_isRightMouseButtonUsed:function(){return"right"===this.rotateMouseButton||"right"===this.panMouseButton},_contextMenuHandler:function(t){this._isRightMouseButtonUsed()&&t.preventDefault()},_addAnimator:function(t){var e=this._animators;return e.push(t),t.done((function(){var n=e.indexOf(t);n>=0&&e.splice(n,1)})),t}});Object.defineProperty(l.prototype,"autoRotate",{get:function(t){return this._autoRotate},set:function(t){this._autoRotate=t,this._rotating=t}}),e.a=l},function(t,e,n){"use strict";e.a="@export ecgl.lines3D.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nattribute vec3 position: POSITION;\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n\nvoid main()\n{\n gl_Position = worldViewProjection * vec4(position, 1.0);\n v_Color = a_Color;\n}\n\n@end\n\n@export ecgl.lines3D.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nvarying vec4 v_Color;\n\n@import clay.util.srgb\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color * v_Color);\n#else\n gl_FragColor = color * v_Color;\n#endif\n}\n@end\n\n\n\n@export ecgl.lines3D.clipNear\n\nvec4 clipNear(vec4 p1, vec4 p2) {\n float n = (p1.w - near) / (p1.w - p2.w);\n return vec4(mix(p1.xy, p2.xy, n), -near, near);\n}\n\n@end\n\n@export ecgl.lines3D.expandLine\n#ifdef VERTEX_ANIMATION\n vec4 prevProj = worldViewProjection * vec4(mix(prevPositionPrev, positionPrev, percent), 1.0);\n vec4 currProj = worldViewProjection * vec4(mix(prevPosition, position, percent), 1.0);\n vec4 nextProj = worldViewProjection * vec4(mix(prevPositionNext, positionNext, percent), 1.0);\n#else\n vec4 prevProj = worldViewProjection * vec4(positionPrev, 1.0);\n vec4 currProj = worldViewProjection * vec4(position, 1.0);\n vec4 nextProj = worldViewProjection * vec4(positionNext, 1.0);\n#endif\n\n if (currProj.w < 0.0) {\n if (nextProj.w > 0.0) {\n currProj = clipNear(currProj, nextProj);\n }\n else if (prevProj.w > 0.0) {\n currProj = clipNear(currProj, prevProj);\n }\n }\n\n vec2 prevScreen = (prevProj.xy / abs(prevProj.w) + 1.0) * 0.5 * viewport.zw;\n vec2 currScreen = (currProj.xy / abs(currProj.w) + 1.0) * 0.5 * viewport.zw;\n vec2 nextScreen = (nextProj.xy / abs(nextProj.w) + 1.0) * 0.5 * viewport.zw;\n\n vec2 dir;\n float len = offset;\n if (position == positionPrev) {\n dir = normalize(nextScreen - currScreen);\n }\n else if (position == positionNext) {\n dir = normalize(currScreen - prevScreen);\n }\n else {\n vec2 dirA = normalize(currScreen - prevScreen);\n vec2 dirB = normalize(nextScreen - currScreen);\n\n vec2 tanget = normalize(dirA + dirB);\n\n float miter = 1.0 / max(dot(tanget, dirA), 0.5);\n len *= miter;\n dir = tanget;\n }\n\n dir = vec2(-dir.y, dir.x) * len;\n currScreen += dir;\n\n currProj.xy = (currScreen / viewport.zw - 0.5) * 2.0 * abs(currProj.w);\n@end\n\n\n@export ecgl.meshLines3D.vertex\n\nattribute vec3 position: POSITION;\nattribute vec3 positionPrev;\nattribute vec3 positionNext;\nattribute float offset;\nattribute vec4 a_Color : COLOR;\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nattribute vec3 prevPositionPrev;\nattribute vec3 prevPositionNext;\nuniform float percent : 1.0;\n#endif\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform vec4 viewport : VIEWPORT;\nuniform float near : NEAR;\n\nvarying vec4 v_Color;\n\n@import ecgl.common.wireframe.vertexHeader\n\n@import ecgl.lines3D.clipNear\n\nvoid main()\n{\n @import ecgl.lines3D.expandLine\n\n gl_Position = currProj;\n\n v_Color = a_Color;\n\n @import ecgl.common.wireframe.vertexMain\n}\n@end\n\n\n@export ecgl.meshLines3D.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nvarying vec4 v_Color;\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.util.srgb\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color * v_Color);\n#else\n gl_FragColor = color * v_Color;\n#endif\n\n @import ecgl.common.wireframe.fragmentMain\n}\n\n@end"},function(t,e,n){var r=n(13),i=n(82),a=n(85).parsePercent,o=n(171),s=r.each,u=["left","right","top","bottom","width","height"],l=[["width","left","right"],["height","top","bottom"]];function c(t,e,n,r,i){var a=0,o=0;null==r&&(r=1/0),null==i&&(i=1/0);var s=0;e.eachChild((function(u,l){var c,h,f=u.position,d=u.getBoundingRect(),p=e.childAt(l+1),m=p&&p.getBoundingRect();if("horizontal"===t){var g=d.width+(m?-m.x+d.x:0);(c=a+g)>r||u.newline?(a=0,c=g,o+=s+n,s=d.height):s=Math.max(s,d.height)}else{var _=d.height+(m?-m.y+d.y:0);(h=o+_)>i||u.newline?(a+=s+n,o=0,h=_,s=d.width):s=Math.max(s,d.width)}u.newline||(f[0]=a,f[1]=o,"horizontal"===t?a=c+n:o=h+n)}))}var h=c,f=r.curry(c,"vertical"),d=r.curry(c,"horizontal");function p(t,e,n){n=o.normalizeCssArray(n||0);var r=e.width,s=e.height,u=a(t.left,r),l=a(t.top,s),c=a(t.right,r),h=a(t.bottom,s),f=a(t.width,r),d=a(t.height,s),p=n[2]+n[0],m=n[1]+n[3],g=t.aspect;switch(isNaN(f)&&(f=r-c-m-u),isNaN(d)&&(d=s-h-p-l),null!=g&&(isNaN(f)&&isNaN(d)&&(g>r/s?f=.8*r:d=.8*s),isNaN(f)&&(f=g*d),isNaN(d)&&(d=f/g)),isNaN(u)&&(u=r-c-f-m),isNaN(l)&&(l=s-h-d-p),t.left||t.right){case"center":u=r/2-f/2-n[3];break;case"right":u=r-f-m}switch(t.top||t.bottom){case"middle":case"center":l=s/2-d/2-n[0];break;case"bottom":l=s-d-p}u=u||0,l=l||0,isNaN(f)&&(f=r-m-u-(c||0)),isNaN(d)&&(d=s-p-l-(h||0));var _=new i(u+n[3],l+n[0],f,d);return _.margin=n,_}function m(t,e){return e&&t&&s(u,(function(n){e.hasOwnProperty(n)&&(t[n]=e[n])})),t}e.LOCATION_PARAMS=u,e.HV_NAMES=l,e.box=h,e.vbox=f,e.hbox=d,e.getAvailableSize=function(t,e,n){var r=e.width,i=e.height,s=a(t.x,r),u=a(t.y,i),l=a(t.x2,r),c=a(t.y2,i);return(isNaN(s)||isNaN(parseFloat(t.x)))&&(s=0),(isNaN(l)||isNaN(parseFloat(t.x2)))&&(l=r),(isNaN(u)||isNaN(parseFloat(t.y)))&&(u=0),(isNaN(c)||isNaN(parseFloat(t.y2)))&&(c=i),n=o.normalizeCssArray(n||0),{width:Math.max(l-s-n[1]-n[3],0),height:Math.max(c-u-n[0]-n[2],0)}},e.getLayoutRect=p,e.positionElement=function(t,e,n,a,o){var s=!o||!o.hv||o.hv[0],u=!o||!o.hv||o.hv[1],l=o&&o.boundingMode||"all";if(s||u){var c;if("raw"===l)c="group"===t.type?new i(0,0,+e.width||0,+e.height||0):t.getBoundingRect();else if(c=t.getBoundingRect(),t.needLocalTransform()){var h=t.getLocalTransform();(c=c.clone()).applyTransform(h)}e=p(r.defaults({width:c.width,height:c.height},e),n,a);var f=t.position,d=s?e.x-c.x:0,m=u?e.y-c.y:0;t.attr("position","raw"===l?[d,m]:[f[0]+d,f[1]+m])}},e.sizeCalculable=function(t,e){return null!=t[l[e][0]]||null!=t[l[e][1]]&&null!=t[l[e][2]]},e.mergeLayoutParam=function(t,e,n){!r.isObject(n)&&(n={});var i=n.ignoreSize;!r.isArray(i)&&(i=[i,i]);var a=u(l[0],0),o=u(l[1],1);function u(n,r){var a={},o=0,u={},l=0;if(s(n,(function(e){u[e]=t[e]})),s(n,(function(t){c(e,t)&&(a[t]=u[t]=e[t]),h(a,t)&&o++,h(u,t)&&l++})),i[r])return h(e,n[1])?u[n[2]]=null:h(e,n[2])&&(u[n[1]]=null),u;if(2!==l&&o){if(o>=2)return a;for(var f=0;f<n.length;f++){var d=n[f];if(!c(a,d)&&c(t,d)){a[d]=t[d];break}}return a}return u}function c(t,e){return t.hasOwnProperty(e)}function h(t,e){return null!=t[e]&&"auto"!==t[e]}function f(t,e,n){s(t,(function(t){e[t]=n[t]}))}f(l[0],t,a),f(l[1],t,o)},e.getLayoutParams=function(t){return m({},t)},e.copyLayoutParams=m},function(t,e,n){"use strict";var r=n(7).a.extend((function(){return{name:"",inputLinks:{},outputLinks:{},_prevOutputTextures:{},_outputTextures:{},_outputReferences:{},_rendering:!1,_rendered:!1,_compositor:null}}),{updateParameter:function(t,e){var n,r,i=this.outputs[t],a=i.parameters,o=i._parametersCopy;if(o||(o=i._parametersCopy={}),a)for(var s in a)"width"!==s&&"height"!==s&&(o[s]=a[s]);return n=a.width instanceof Function?a.width.call(this,e):a.width,r=a.height instanceof Function?a.height.call(this,e):a.height,o.width===n&&o.height===r||this._outputTextures[t]&&this._outputTextures[t].dispose(e.gl),o.width=n,o.height=r,o},setParameter:function(t,e){},getParameter:function(t){},setParameters:function(t){for(var e in t)this.setParameter(e,t[e])},render:function(){},getOutput:function(t,e){if(null==e)return e=t,this._outputTextures[e];var n=this.outputs[e];return n?this._rendered?n.outputLastFrame?this._prevOutputTextures[e]:this._outputTextures[e]:this._rendering?(this._prevOutputTextures[e]||(this._prevOutputTextures[e]=this._compositor.allocateTexture(n.parameters||{})),this._prevOutputTextures[e]):(this.render(t),this._outputTextures[e]):void 0},removeReference:function(t){this._outputReferences[t]--,0===this._outputReferences[t]&&(this.outputs[t].keepLastFrame?(this._prevOutputTextures[t]&&this._compositor.releaseTexture(this._prevOutputTextures[t]),this._prevOutputTextures[t]=this._outputTextures[t]):this._compositor.releaseTexture(this._outputTextures[t]))},link:function(t,e,n){this.inputLinks[t]={node:e,pin:n},e.outputLinks[n]||(e.outputLinks[n]=[]),e.outputLinks[n].push({node:this,pin:t}),this.pass.material.enableTexture(t)},clear:function(){this.inputLinks={},this.outputLinks={}},updateReference:function(t){if(!this._rendering){for(var e in this._rendering=!0,this.inputLinks){var n=this.inputLinks[e];n.node.updateReference(n.pin)}this._rendering=!1}t&&this._outputReferences[t]++},beforeFrame:function(){for(var t in this._rendered=!1,this.outputLinks)this._outputReferences[t]=0},afterFrame:function(){for(var t in this.outputLinks)this._outputReferences[t]>0&&(this.outputs[t].keepLastFrame?(this._prevOutputTextures[t]&&this._compositor.releaseTexture(this._prevOutputTextures[t]),this._prevOutputTextures[t]=this._outputTextures[t]):this._compositor.releaseTexture(this._outputTextures[t]))}});e.a=r},function(t,e,n){"use strict";e.a=function(t,e){for(var n=0,r=1/e,i=t;i>0;)n+=r*(i%e),i=Math.floor(i/e),r/=e;return n}},function(t,e,n){"use strict";var r=n(0),i=n.n(r);e.a=function(t,e,n){n=n||t.getSource();var r=e||i.a.getCoordinateSystemDimensions(t.get("coordinateSystem"))||["x","y","z"],a=i.a.helper.createDimensions(n,{dimensionsDefine:n.dimensionsDefine||t.get("dimensions"),encodeDefine:n.encodeDefine||t.get("encode"),coordDimensions:r.map((function(e){var n=t.getReferringComponents(e+"Axis3D")[0];return{type:n&&"category"===n.get("type")?"ordinal":"float",name:e}}))});"cartesian3D"===t.get("coordinateSystem")&&a.forEach((function(e){if(r.indexOf(e.coordDim)>=0){var n=t.getReferringComponents(e.coordDim+"Axis3D")[0];n&&"category"===n.get("type")&&(e.ordinalMeta=n.getOrdinalMeta())}}));var o=i.a.helper.dataStack.enableDataStack(t,a,{byIndex:!0,stackedCoordDimension:"z"}),s=new i.a.List(a,t);return s.setCalculationInfo(o),s.initData(n),s}},function(t,e){t.exports=function(t,e,n){return{seriesType:t,performRawSeries:!0,reset:function(t,r,i){var a=t.getData(),o=t.get("symbol")||e,s=t.get("symbolSize"),u=t.get("symbolKeepAspect");if(a.setVisual({legendSymbol:n||o,symbol:o,symbolSize:s,symbolKeepAspect:u}),!r.isSeriesFiltered(t)){var l="function"==typeof s;return{dataEach:a.hasItemOption||l?function(e,n){if("function"==typeof s){var r=t.getRawValue(n),i=t.getDataParams(n);e.setItemVisual(n,"symbolSize",s(r,i))}if(e.hasItemOption){var a=e.getItemModel(n),o=a.getShallow("symbol",!0),u=a.getShallow("symbolSize",!0),l=a.getShallow("symbolKeepAspect",!0);null!=o&&e.setItemVisual(n,"symbol",o),null!=u&&e.setItemVisual(n,"symbolSize",u),null!=l&&e.setItemVisual(n,"symbolKeepAspect",l)}}:null}}}}}},function(t,e,n){"use strict";var r=n(7),i=n(111),a=n(11),o=n(14),s=n(19),u=n(26),l=n(115),c=n(8),h=n(71),f=n(21),d=n(12);c.a.import(h.a);var p=f.a.create,m={};function g(t){return t.material}function _(t,e,n){return e.uniforms[n].value}function v(t,e,n,r){return n!==r}function y(t){return!0}function b(){}var x={float:a.a.FLOAT,byte:a.a.BYTE,ubyte:a.a.UNSIGNED_BYTE,short:a.a.SHORT,ushort:a.a.UNSIGNED_SHORT};function w(t,e,n){this.availableAttributes=t,this.availableAttributeSymbols=e,this.indicesBuffer=n,this.vao=null}function T(t){var e,n;this.bind=function(t){e||((e=o.a.createCanvas()).width=e.height=1,e.getContext("2d"));var r=t.gl,i=!n;i&&(n=r.createTexture()),r.bindTexture(r.TEXTURE_2D,n),i&&r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,e)},this.unbind=function(t){t.gl.bindTexture(t.gl.TEXTURE_2D,null)},this.isRenderable=function(){return!0}}var S=r.a.extend((function(){return{canvas:null,_width:100,_height:100,devicePixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1,clearColor:[0,0,0,0],clearBit:17664,alpha:!0,depth:!0,stencil:!1,antialias:!0,premultipliedAlpha:!0,preserveDrawingBuffer:!1,throwError:!0,gl:null,viewport:{},__currentFrameBuffer:null,_viewportStack:[],_clearStack:[],_sceneRendering:null}}),(function(){this.canvas||(this.canvas=o.a.createCanvas());var t=this.canvas;try{var e={alpha:this.alpha,depth:this.depth,stencil:this.stencil,antialias:this.antialias,premultipliedAlpha:this.premultipliedAlpha,preserveDrawingBuffer:this.preserveDrawingBuffer};if(this.gl=t.getContext("webgl",e)||t.getContext("experimental-webgl",e),!this.gl)throw new Error;this._glinfo=new i.a(this.gl),this.gl.targetRenderer&&console.error("Already created a renderer"),this.gl.targetRenderer=this,this.resize()}catch(t){throw"Error creating WebGL Context "+t}this._programMgr=new l.a(this),this._placeholderTexture=new T(this)}),{resize:function(t,e){var n=this.canvas,r=this.devicePixelRatio;null!=t?(n.style.width=t+"px",n.style.height=e+"px",n.width=t*r,n.height=e*r,this._width=t,this._height=e):(this._width=n.width/r,this._height=n.height/r),this.setViewport(0,0,this._width,this._height)},getWidth:function(){return this._width},getHeight:function(){return this._height},getViewportAspect:function(){var t=this.viewport;return t.width/t.height},setDevicePixelRatio:function(t){this.devicePixelRatio=t,this.resize(this._width,this._height)},getDevicePixelRatio:function(){return this.devicePixelRatio},getGLExtension:function(t){return this._glinfo.getExtension(t)},getGLParameter:function(t){return this._glinfo.getParameter(t)},setViewport:function(t,e,n,r,i){if("object"==typeof t){var a=t;t=a.x,e=a.y,n=a.width,r=a.height,i=a.devicePixelRatio}i=i||this.devicePixelRatio,this.gl.viewport(t*i,e*i,n*i,r*i),this.viewport={x:t,y:e,width:n,height:r,devicePixelRatio:i}},saveViewport:function(){this._viewportStack.push(this.viewport)},restoreViewport:function(){this._viewportStack.length>0&&this.setViewport(this._viewportStack.pop())},saveClear:function(){this._clearStack.push({clearBit:this.clearBit,clearColor:this.clearColor})},restoreClear:function(){if(this._clearStack.length>0){var t=this._clearStack.pop();this.clearColor=t.clearColor,this.clearBit=t.clearBit}},bindSceneRendering:function(t){this._sceneRendering=t},render:function(t,e,n,r){var i=this.gl,a=this.clearColor;if(this.clearBit){i.colorMask(!0,!0,!0,!0),i.depthMask(!0);var o=this.viewport,s=!1,u=o.devicePixelRatio;(o.width!==this._width||o.height!==this._height||u&&u!==this.devicePixelRatio||o.x||o.y)&&(s=!0,i.enable(i.SCISSOR_TEST),i.scissor(o.x*u,o.y*u,o.width*u,o.height*u)),i.clearColor(a[0],a[1],a[2],a[3]),i.clear(this.clearBit),s&&i.disable(i.SCISSOR_TEST)}if(n||t.update(!1),t.updateLights(),e=e||t.getMainCamera()){e.update();var l=t.updateRenderList(e,!0);this._sceneRendering=t;var c=l.opaque,h=l.transparent,m=t.material;t.trigger("beforerender",this,t,e,l),r?(this.renderPreZ(c,t,e),i.depthFunc(i.LEQUAL)):i.depthFunc(i.LESS);for(var g=p(),_=d.a.create(),v=0;v<h.length;v++){var y=h[v];f.a.multiplyAffine(g,e.viewMatrix.array,y.worldTransform.array),d.a.transformMat4(_,y.position.array,g),y.__depth=_[2]}this.renderPass(c,e,{getMaterial:function(t){return m||t.material},sortCompare:this.opaqueSortCompare}),this.renderPass(h,e,{getMaterial:function(t){return m||t.material},sortCompare:this.transparentSortCompare}),t.trigger("afterrender",this,t,e,l),this._sceneRendering=null}else console.error("Can't find camera in the scene.")},getProgram:function(t,e,n){return e=e||t.material,this._programMgr.getProgram(t,e,n)},validateProgram:function(t){if(t.__error){var e=t.__error;if(m[t.__uid__])return;if(m[t.__uid__]=!0,this.throwError)throw new Error(e);this.trigger("error",e)}},updatePrograms:function(t,e,n){var r=n&&n.getMaterial||g;e=e||null;for(var i=0;i<t.length;i++){var a=t[i],o=r.call(this,a);if(i>0){var s=t[i-1],u=s.joints?s.joints.length:0;if((a.joints?a.joints.length:0)===u&&a.material===s.material&&a.lightGroup===s.lightGroup){a.__program=s.__program;continue}}var l=this._programMgr.getProgram(a,o,e);this.validateProgram(l),a.__program=l}},renderPass:function(t,e,n){this.trigger("beforerenderpass",this,t,e,n),(n=n||{}).getMaterial=n.getMaterial||g,n.getUniform=n.getUniform||_,n.isMaterialChanged=n.isMaterialChanged||v,n.beforeRender=n.beforeRender||b,n.afterRender=n.afterRender||b;var r=n.ifRender||y;this.updatePrograms(t,this._sceneRendering,n),n.sortCompare&&t.sort(n.sortCompare);var i=this.viewport,a=i.devicePixelRatio,o=[i.x*a,i.y*a,i.width*a,i.height*a],s=this.devicePixelRatio,u=this.__currentFrameBuffer?[this.__currentFrameBuffer.getTextureWidth(),this.__currentFrameBuffer.getTextureHeight()]:[this._width*s,this._height*s],l=[o[2],o[3]],c=Date.now();e?(f.a.copy(E.VIEW,e.viewMatrix.array),f.a.copy(E.PROJECTION,e.projectionMatrix.array),f.a.copy(E.VIEWINVERSE,e.worldTransform.array)):(f.a.identity(E.VIEW),f.a.identity(E.PROJECTION),f.a.identity(E.VIEWINVERSE)),f.a.multiply(E.VIEWPROJECTION,E.PROJECTION,E.VIEW),f.a.invert(E.PROJECTIONINVERSE,E.PROJECTION),f.a.invert(E.VIEWPROJECTIONINVERSE,E.VIEWPROJECTION);for(var h,d,p,m,x,w,T,S,C,A,M,O,D=this.gl,N=this._sceneRendering,I=this.getGLExtension("OES_vertex_array_object"),P=0;P<t.length;P++){var L,R=t[P],k=null!=R.worldTransform;if(r(R)){k&&(L=R.isSkinnedMesh&&R.isSkinnedMesh()?E.IDENTITY:R.worldTransform.array);var B=R.geometry,F=n.getMaterial.call(this,R),z=R.__program,j=F.shader,U=B.__uid__+"-"+z.__uid__,H=U!==A;A=U,H&&I&&I.bindVertexArrayOES(null),k&&(f.a.copy(E.WORLD,L),f.a.multiply(E.WORLDVIEWPROJECTION,E.VIEWPROJECTION,L),f.a.multiplyAffine(E.WORLDVIEW,E.VIEW,L),(j.matrixSemantics.WORLDINVERSE||j.matrixSemantics.WORLDINVERSETRANSPOSE)&&f.a.invert(E.WORLDINVERSE,L),(j.matrixSemantics.WORLDVIEWINVERSE||j.matrixSemantics.WORLDVIEWINVERSETRANSPOSE)&&f.a.invert(E.WORLDVIEWINVERSE,E.WORLDVIEW),(j.matrixSemantics.WORLDVIEWPROJECTIONINVERSE||j.matrixSemantics.WORLDVIEWPROJECTIONINVERSETRANSPOSE)&&f.a.invert(E.WORLDVIEWPROJECTIONINVERSE,E.WORLDVIEWPROJECTION)),R.beforeRender&&R.beforeRender(this),n.beforeRender.call(this,R,F,h);var V=z!==d;V?(z.bind(this),z.setUniformOfSemantic(D,"VIEWPORT",o),z.setUniformOfSemantic(D,"WINDOW_SIZE",u),e&&(z.setUniformOfSemantic(D,"NEAR",e.near),z.setUniformOfSemantic(D,"FAR",e.far)),z.setUniformOfSemantic(D,"DEVICEPIXELRATIO",a),z.setUniformOfSemantic(D,"TIME",c),z.setUniformOfSemantic(D,"VIEWPORT_SIZE",l),N&&N.setLightUniforms(z,R.lightGroup,this)):z=d,(V||n.isMaterialChanged(R,p,F,h))&&(F.depthTest!==m&&(F.depthTest?D.enable(D.DEPTH_TEST):D.disable(D.DEPTH_TEST),m=F.depthTest),F.depthMask!==x&&(D.depthMask(F.depthMask),x=F.depthMask),F.transparent!==C&&(F.transparent?D.enable(D.BLEND):D.disable(D.BLEND),C=F.transparent),F.transparent&&(F.blend?F.blend(D):(D.blendEquationSeparate(D.FUNC_ADD,D.FUNC_ADD),D.blendFuncSeparate(D.SRC_ALPHA,D.ONE_MINUS_SRC_ALPHA,D.ONE,D.ONE_MINUS_SRC_ALPHA))),O=this._bindMaterial(R,F,z,p||null,h||null,d||null,n.getUniform),h=F);var G=j.matrixSemanticKeys;if(k)for(var W=0;W<G.length;W++){var $=G[W],X=j.matrixSemantics[$],q=E[$];if(X.isTranspose){var Y=E[X.semanticNoTranspose];f.a.transpose(q,Y)}z.setUniform(D,X.type,X.symbol,q)}R.cullFace!==T&&(T=R.cullFace,D.cullFace(T)),R.frontFace!==S&&(S=R.frontFace,D.frontFace(S)),R.culling!==w&&((w=R.culling)?D.enable(D.CULL_FACE):D.disable(D.CULL_FACE)),this._updateSkeleton(R,z,O),H&&(M=this._bindVAO(I,j,B,z)),this._renderObject(R,M),n.afterRender(this,R),R.afterRender&&R.afterRender(this),d=z,p=R}}I&&I.bindVertexArrayOES(null),this.trigger("afterrenderpass",this,t,e,n)},getMaxJointNumber:function(){return this._glinfo.getMaxJointNumber()},_updateSkeleton:function(t,e,n){var r=this.gl,i=t.skeleton;if(i)if(i.update(),t.joints.length>this._glinfo.getMaxJointNumber()){var a=i.getSubSkinMatricesTexture(t.__uid__,t.joints);e.useTextureSlot(this,a,n),e.setUniform(r,"1i","skinMatricesTexture",n),e.setUniform(r,"1f","skinMatricesTextureSize",a.width)}else{var o=i.getSubSkinMatrices(t.__uid__,t.joints);e.setUniformOfSemantic(r,"SKIN_MATRIX",o)}},_renderObject:function(t,e){var n=this.gl,r=t.geometry,i=t.mode;if(null==i&&(i=4),e.indicesBuffer){var a=this.getGLExtension("OES_element_index_uint")&&r.indices instanceof Uint32Array?n.UNSIGNED_INT:n.UNSIGNED_SHORT;n.drawElements(i,e.indicesBuffer.count,a,0)}else n.drawArrays(i,0,r.vertexCount)},_bindMaterial:function(t,e,n,r,i,a,o){for(var s=this.gl,u=a===n,l=n.currentTextureSlot(),c=e.getEnabledUniforms(),h=e.getTextureUniforms(),f=this._placeholderTexture,d=0;d<h.length;d++){var p=o(t,e,_=h[d]);if("t"===(g=e.uniforms[_].type)&&p)p.__slot=-1;else if("tv"===g)for(var m=0;m<p.length;m++)p[m]&&(p[m].__slot=-1)}for(f.__slot=-1,d=0;d<c.length;d++){var g,_=c[d],v=e.uniforms[_],y=(p=o(t,e,_),"t"===(g=v.type));if(y&&(p&&p.isRenderable()||(p=f)),i&&u){var b=o(r,i,_);if(y&&(b&&b.isRenderable()||(b=f)),b===p){if(y)n.takeCurrentTextureSlot(this,null);else if("tv"===g&&p)for(m=0;m<p.length;m++)n.takeCurrentTextureSlot(this,null);continue}}if(null!=p)if(y)if(p.__slot<0){var x=n.currentTextureSlot();n.setUniform(s,"1i",_,x)&&(n.takeCurrentTextureSlot(this,p),p.__slot=x)}else n.setUniform(s,"1i",_,p.__slot);else if(Array.isArray(p)){if(0===p.length)continue;if("tv"===g){if(!n.hasUniform(_))continue;var w=[];for(m=0;m<p.length;m++){var T=p[m];T.__slot<0?(x=n.currentTextureSlot(),w.push(x),n.takeCurrentTextureSlot(this,T),T.__slot=x):w.push(T.__slot)}n.setUniform(s,"1iv",_,w)}else n.setUniform(s,v.type,_,p)}else n.setUniform(s,v.type,_,p)}var S=n.currentTextureSlot();return n.resetTextureSlot(l),S},_bindVAO:function(t,e,n,r){var i=!n.dynamic,a=this.gl,o=this.__uid__+"-"+r.__uid__,s=n.__vaoCache[o];if(!s){var u=n.getBufferChunks(this);if(!u||!u.length)return;for(var l=u[0],c=l.attributeBuffers,h=l.indicesBuffer,f=[],d=[],p=0;p<c.length;p++){var m,g=(S=c[p]).name,_=S.semantic;if(_){var v=e.attributeSemantics[_];m=v&&v.symbol}else m=g;m&&r.attributes[m]&&(f.push(S),d.push(m))}s=new w(f,d,h),i&&(n.__vaoCache[o]=s)}var y=!0;if(t&&i&&(null==s.vao?s.vao=t.createVertexArrayOES():y=!1,t.bindVertexArrayOES(s.vao)),f=s.availableAttributes,h=s.indicesBuffer,y){var b=r.enableAttributes(this,s.availableAttributeSymbols,t&&i&&s);for(p=0;p<f.length;p++){var T=b[p];if(-1!==T){var S,E=(S=f[p]).buffer,C=S.size,A=x[S.type]||a.FLOAT;a.bindBuffer(a.ARRAY_BUFFER,E),a.vertexAttribPointer(T,C,A,!1,0,0)}}n.isUseIndices()&&a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,h.buffer)}return s},renderPreZ:function(t,e,n){var r=this.gl,i=this._prezMaterial||new s.a({shader:new c.a(c.a.source("clay.prez.vertex"),c.a.source("clay.prez.fragment"))});this._prezMaterial=i,r.colorMask(!1,!1,!1,!1),r.depthMask(!0),this.renderPass(t,n,{ifRender:function(t){return!t.ignorePreZ},isMaterialChanged:function(t,e){var n=t.material,r=e.material;return n.get("diffuseMap")!==r.get("diffuseMap")||(n.get("alphaCutoff")||0)!==(r.get("alphaCutoff")||0)},getUniform:function(t,e,n){return"alphaMap"===n?t.material.get("diffuseMap"):"alphaCutoff"===n?t.material.isDefined("fragment","ALPHA_TEST")&&t.material.get("diffuseMap")&&t.material.get("alphaCutoff")||0:e.get(n)},getMaterial:function(){return i},sort:this.opaqueSortCompare}),r.colorMask(!0,!0,!0,!0),r.depthMask(!0)},disposeScene:function(t){this.disposeNode(t,!0,!0),t.dispose()},disposeNode:function(t,e,n){t.getParent()&&t.getParent().remove(t);var r={};t.traverse((function(t){var i=t.material;if(t.geometry&&e&&t.geometry.dispose(this),n&&i&&!r[i.__uid__]){for(var a=i.getTextureUniforms(),o=0;o<a.length;o++){var s=a[o],u=i.uniforms[s].value,l=i.uniforms[s].type;if(u)if("t"===l)u.dispose&&u.dispose(this);else if("tv"===l)for(var c=0;c<u.length;c++)u[c]&&u[c].dispose&&u[c].dispose(this)}r[i.__uid__]=!0}t.dispose&&t.dispose(this)}),this)},disposeGeometry:function(t){t.dispose(this)},disposeTexture:function(t){t.dispose(this)},disposeFrameBuffer:function(t){t.dispose(this)},dispose:function(){},screenToNDC:function(t,e,n){n||(n=new u.a),e=this._height-e;var r=this.viewport,i=n.array;return i[0]=(t-r.x)/r.width,i[0]=2*i[0]-1,i[1]=(e-r.y)/r.height,i[1]=2*i[1]-1,n}});S.opaqueSortCompare=S.prototype.opaqueSortCompare=function(t,e){return t.renderOrder===e.renderOrder?t.__program===e.__program?t.material===e.material?t.geometry.__uid__-e.geometry.__uid__:t.material.__uid__-e.material.__uid__:t.__program&&e.__program?t.__program.__uid__-e.__program.__uid__:0:t.renderOrder-e.renderOrder},S.transparentSortCompare=S.prototype.transparentSortCompare=function(t,e){return t.renderOrder===e.renderOrder?t.__depth===e.__depth?t.__program===e.__program?t.material===e.material?t.geometry.__uid__-e.geometry.__uid__:t.material.__uid__-e.material.__uid__:t.__program&&e.__program?t.__program.__uid__-e.__program.__uid__:0:t.__depth-e.__depth:t.renderOrder-e.renderOrder};var E={IDENTITY:p(),WORLD:p(),VIEW:p(),PROJECTION:p(),WORLDVIEW:p(),VIEWPROJECTION:p(),WORLDVIEWPROJECTION:p(),WORLDINVERSE:p(),VIEWINVERSE:p(),PROJECTIONINVERSE:p(),WORLDVIEWINVERSE:p(),VIEWPROJECTIONINVERSE:p(),WORLDVIEWPROJECTIONINVERSE:p(),WORLDTRANSPOSE:p(),VIEWTRANSPOSE:p(),PROJECTIONTRANSPOSE:p(),WORLDVIEWTRANSPOSE:p(),VIEWPROJECTIONTRANSPOSE:p(),WORLDVIEWPROJECTIONTRANSPOSE:p(),WORLDINVERSETRANSPOSE:p(),VIEWINVERSETRANSPOSE:p(),PROJECTIONINVERSETRANSPOSE:p(),WORLDVIEWINVERSETRANSPOSE:p(),VIEWPROJECTIONINVERSETRANSPOSE:p(),WORLDVIEWPROJECTIONINVERSETRANSPOSE:p()};S.COLOR_BUFFER_BIT=a.a.COLOR_BUFFER_BIT,S.DEPTH_BUFFER_BIT=a.a.DEPTH_BUFFER_BIT,S.STENCIL_BUFFER_BIT=a.a.STENCIL_BUFFER_BIT,e.a=S},function(t,e,n){"use strict";function r(t,e){this.action=t,this.context=e}var i={trigger:function(t){if(this.hasOwnProperty("__handlers__")&&this.__handlers__.hasOwnProperty(t)){var e=this.__handlers__[t],n=e.length,r=-1,i=arguments;switch(i.length){case 1:for(;++r<n;)e[r].action.call(e[r].context);return;case 2:for(;++r<n;)e[r].action.call(e[r].context,i[1]);return;case 3:for(;++r<n;)e[r].action.call(e[r].context,i[1],i[2]);return;case 4:for(;++r<n;)e[r].action.call(e[r].context,i[1],i[2],i[3]);return;case 5:for(;++r<n;)e[r].action.call(e[r].context,i[1],i[2],i[3],i[4]);return;default:for(;++r<n;)e[r].action.apply(e[r].context,Array.prototype.slice.call(i,1));return}}},on:function(t,e,n){if(t&&e){var i=this.__handlers__||(this.__handlers__={});if(i[t]){if(this.has(t,e))return}else i[t]=[];var a=new r(e,n||this);return i[t].push(a),this}},once:function(t,e,n){if(t&&e){var r=this;return this.on(t,(function n(){r.off(t,n),e.apply(this,arguments)}),n)}},before:function(t,e,n){if(t&&e)return t="before"+t,this.on(t,e,n)},after:function(t,e,n){if(t&&e)return t="after"+t,this.on(t,e,n)},success:function(t,e){return this.once("success",t,e)},error:function(t,e){return this.once("error",t,e)},off:function(t,e){var n=this.__handlers__||(this.__handlers__={});if(e){if(n[t]){for(var r=n[t],i=[],a=0;a<r.length;a++)e&&r[a].action!==e&&i.push(r[a]);n[t]=i}return this}n[t]=[]},has:function(t,e){var n=this.__handlers__;if(!n||!n[t])return!1;for(var r=n[t],i=0;i<r.length;i++)if(r[i].action===e)return!0}};e.a=i},function(t,e,n){"use strict";var r,i,a,o,s,u=n(3),l=n(12),c=function(t,e){this.origin=t||new u.a,this.direction=e||new u.a};c.prototype={constructor:c,intersectPlane:function(t,e){var n=t.normal.array,r=t.distance,i=this.origin.array,a=this.direction.array,o=l.a.dot(n,a);if(0===o)return null;e||(e=new u.a);var s=(l.a.dot(n,i)-r)/o;return l.a.scaleAndAdd(e.array,i,a,-s),e._dirty=!0,e},mirrorAgainstPlane:function(t){var e=l.a.dot(t.normal.array,this.direction.array);l.a.scaleAndAdd(this.direction.array,this.direction.array,t.normal.array,2*-e),this.direction._dirty=!0},distanceToPoint:(s=l.a.create(),function(t){l.a.sub(s,t,this.origin.array);var e=l.a.dot(s,this.direction.array);if(e<0)return l.a.distance(this.origin.array,t);var n=l.a.lenSquared(s);return Math.sqrt(n-e*e)}),intersectSphere:function(){var t=l.a.create();return function(e,n,r){var i=this.origin.array,a=this.direction.array;e=e.array,l.a.sub(t,e,i);var o=l.a.dot(t,a),s=l.a.squaredLength(t)-o*o,c=n*n;if(!(s>c)){var h=Math.sqrt(c-s),f=o-h,d=o+h;return r||(r=new u.a),f<0?d<0?null:(l.a.scaleAndAdd(r.array,i,a,d),r):(l.a.scaleAndAdd(r.array,i,a,f),r)}}}(),intersectBoundingBox:function(t,e){var n,r,i,a,o,s,c=this.direction.array,h=this.origin.array,f=t.min.array,d=t.max.array,p=1/c[0],m=1/c[1],g=1/c[2];if(p>=0?(n=(f[0]-h[0])*p,r=(d[0]-h[0])*p):(r=(f[0]-h[0])*p,n=(d[0]-h[0])*p),m>=0?(i=(f[1]-h[1])*m,a=(d[1]-h[1])*m):(a=(f[1]-h[1])*m,i=(d[1]-h[1])*m),n>a||i>r)return null;if((i>n||n!=n)&&(n=i),(a<r||r!=r)&&(r=a),g>=0?(o=(f[2]-h[2])*g,s=(d[2]-h[2])*g):(s=(f[2]-h[2])*g,o=(d[2]-h[2])*g),n>s||o>r)return null;if((o>n||n!=n)&&(n=o),(s<r||r!=r)&&(r=s),r<0)return null;var _=n>=0?n:r;return e||(e=new u.a),l.a.scaleAndAdd(e.array,h,c,_),e},intersectTriangle:(r=l.a.create(),i=l.a.create(),a=l.a.create(),o=l.a.create(),function(t,e,n,s,c,h){var f=this.direction.array,d=this.origin.array;t=t.array,e=e.array,n=n.array,l.a.sub(r,e,t),l.a.sub(i,n,t),l.a.cross(o,i,f);var p=l.a.dot(r,o);if(s){if(p>-1e-5)return null}else if(p>-1e-5&&p<1e-5)return null;l.a.sub(a,d,t);var m=l.a.dot(o,a)/p;if(m<0||m>1)return null;l.a.cross(o,r,a);var g=l.a.dot(f,o)/p;if(g<0||g>1||m+g>1)return null;l.a.cross(o,r,i);var _=-l.a.dot(a,o)/p;return _<0?null:(c||(c=new u.a),h&&u.a.set(h,1-m-g,m,g),l.a.scaleAndAdd(c.array,d,f,_),c)}),applyTransform:function(t){u.a.add(this.direction,this.direction,this.origin),u.a.transformMat4(this.origin,this.origin,t),u.a.transformMat4(this.direction,this.direction,t),u.a.sub(this.direction,this.direction,this.origin),u.a.normalize(this.direction,this.direction)},copy:function(t){u.a.copy(this.origin,t.origin),u.a.copy(this.direction,t.direction)},clone:function(){var t=new c;return t.copy(this),t}},e.a=c},function(t,e,n){"use strict";var r,i,a,o,s=n(20),u=n(12),l=n(33),c=n(34),h={create:function(){var t=new s.a(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}};h.rotationTo=(r=u.a.create(),i=u.a.fromValues(1,0,0),a=u.a.fromValues(0,1,0),function(t,e,n){var o=u.a.dot(e,n);return o<-.999999?(u.a.cross(r,i,e),u.a.length(r)<1e-6&&u.a.cross(r,a,e),u.a.normalize(r,r),h.setAxisAngle(t,r,Math.PI),t):o>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(u.a.cross(r,e,n),t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=1+o,h.normalize(t,t))}),h.setAxes=(o=c.a.create(),function(t,e,n,r){return o[0]=n[0],o[3]=n[1],o[6]=n[2],o[1]=r[0],o[4]=r[1],o[7]=r[2],o[2]=-e[0],o[5]=-e[1],o[8]=-e[2],h.normalize(t,h.fromMat3(t,o))}),h.clone=l.a.clone,h.fromValues=l.a.fromValues,h.copy=l.a.copy,h.set=l.a.set,h.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},h.setAxisAngle=function(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t},h.add=l.a.add,h.multiply=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=n[0],u=n[1],l=n[2],c=n[3];return t[0]=r*c+o*s+i*l-a*u,t[1]=i*c+o*u+a*s-r*l,t[2]=a*c+o*l+r*u-i*s,t[3]=o*c-r*s-i*u-a*l,t},h.mul=h.multiply,h.scale=l.a.scale,h.rotateX=function(t,e,n){n*=.5;var r=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+o*s,t[1]=i*u+a*s,t[2]=a*u-i*s,t[3]=o*u-r*s,t},h.rotateY=function(t,e,n){n*=.5;var r=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u-a*s,t[1]=i*u+o*s,t[2]=a*u+r*s,t[3]=o*u-i*s,t},h.rotateZ=function(t,e,n){n*=.5;var r=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+i*s,t[1]=i*u-r*s,t[2]=a*u+o*s,t[3]=o*u-a*s,t},h.calculateW=function(t,e){var n=e[0],r=e[1],i=e[2];return t[0]=n,t[1]=r,t[2]=i,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),t},h.dot=l.a.dot,h.lerp=l.a.lerp,h.slerp=function(t,e,n,r){var i,a,o,s,u,l=e[0],c=e[1],h=e[2],f=e[3],d=n[0],p=n[1],m=n[2],g=n[3];return(a=l*d+c*p+h*m+f*g)<0&&(a=-a,d=-d,p=-p,m=-m,g=-g),1-a>1e-6?(i=Math.acos(a),o=Math.sin(i),s=Math.sin((1-r)*i)/o,u=Math.sin(r*i)/o):(s=1-r,u=r),t[0]=s*l+u*d,t[1]=s*c+u*p,t[2]=s*h+u*m,t[3]=s*f+u*g,t},h.invert=function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n*n+r*r+i*i+a*a,s=o?1/o:0;return t[0]=-n*s,t[1]=-r*s,t[2]=-i*s,t[3]=a*s,t},h.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},h.length=l.a.length,h.len=h.length,h.squaredLength=l.a.squaredLength,h.sqrLen=h.squaredLength,h.normalize=l.a.normalize,h.fromMat3=function(t,e){var n,r=e[0]+e[4]+e[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var a=(i+1)%3,o=(i+2)%3;n=Math.sqrt(e[3*i+i]-e[3*a+a]-e[3*o+o]+1),t[i]=.5*n,n=.5/n,t[3]=(e[3*a+o]-e[3*o+a])*n,t[a]=(e[3*a+i]+e[3*i+a])*n,t[o]=(e[3*o+i]+e[3*i+o])*n}return t},e.a=h},function(t,e,n){"use strict";var r,i=n(55),a=n(34),o=function(t,e,n,r){t=t||0,e=e||0,n=n||0,r=void 0===r?1:r,this.array=i.a.fromValues(t,e,n,r),this._dirty=!0};o.prototype={constructor:o,add:function(t){return i.a.add(this.array,this.array,t.array),this._dirty=!0,this},calculateW:function(){return i.a.calculateW(this.array,this.array),this._dirty=!0,this},set:function(t,e,n,r){return this.array[0]=t,this.array[1]=e,this.array[2]=n,this.array[3]=r,this._dirty=!0,this},setArray:function(t){return this.array[0]=t[0],this.array[1]=t[1],this.array[2]=t[2],this.array[3]=t[3],this._dirty=!0,this},clone:function(){return new o(this.x,this.y,this.z,this.w)},conjugate:function(){return i.a.conjugate(this.array,this.array),this._dirty=!0,this},copy:function(t){return i.a.copy(this.array,t.array),this._dirty=!0,this},dot:function(t){return i.a.dot(this.array,t.array)},fromMat3:function(t){return i.a.fromMat3(this.array,t.array),this._dirty=!0,this},fromMat4:(r=a.a.create(),function(t){return a.a.fromMat4(r,t.array),a.a.transpose(r,r),i.a.fromMat3(this.array,r),this._dirty=!0,this}),identity:function(){return i.a.identity(this.array),this._dirty=!0,this},invert:function(){return i.a.invert(this.array,this.array),this._dirty=!0,this},len:function(){return i.a.len(this.array)},length:function(){return i.a.length(this.array)},lerp:function(t,e,n){return i.a.lerp(this.array,t.array,e.array,n),this._dirty=!0,this},mul:function(t){return i.a.mul(this.array,this.array,t.array),this._dirty=!0,this},mulLeft:function(t){return i.a.multiply(this.array,t.array,this.array),this._dirty=!0,this},multiply:function(t){return i.a.multiply(this.array,this.array,t.array),this._dirty=!0,this},multiplyLeft:function(t){return i.a.multiply(this.array,t.array,this.array),this._dirty=!0,this},normalize:function(){return i.a.normalize(this.array,this.array),this._dirty=!0,this},rotateX:function(t){return i.a.rotateX(this.array,this.array,t),this._dirty=!0,this},rotateY:function(t){return i.a.rotateY(this.array,this.array,t),this._dirty=!0,this},rotateZ:function(t){return i.a.rotateZ(this.array,this.array,t),this._dirty=!0,this},rotationTo:function(t,e){return i.a.rotationTo(this.array,t.array,e.array),this._dirty=!0,this},setAxes:function(t,e,n){return i.a.setAxes(this.array,t.array,e.array,n.array),this._dirty=!0,this},setAxisAngle:function(t,e){return i.a.setAxisAngle(this.array,t.array,e),this._dirty=!0,this},slerp:function(t,e,n){return i.a.slerp(this.array,t.array,e.array,n),this._dirty=!0,this},sqrLen:function(){return i.a.sqrLen(this.array)},squaredLength:function(){return i.a.squaredLength(this.array)},fromEuler:function(t,e){return o.fromEuler(this,t,e)},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var s=Object.defineProperty;if(s){var u=o.prototype;s(u,"x",{get:function(){return this.array[0]},set:function(t){this.array[0]=t,this._dirty=!0}}),s(u,"y",{get:function(){return this.array[1]},set:function(t){this.array[1]=t,this._dirty=!0}}),s(u,"z",{get:function(){return this.array[2]},set:function(t){this.array[2]=t,this._dirty=!0}}),s(u,"w",{get:function(){return this.array[3]},set:function(t){this.array[3]=t,this._dirty=!0}})}o.add=function(t,e,n){return i.a.add(t.array,e.array,n.array),t._dirty=!0,t},o.set=function(t,e,n,r,a){i.a.set(t.array,e,n,r,a),t._dirty=!0},o.copy=function(t,e){return i.a.copy(t.array,e.array),t._dirty=!0,t},o.calculateW=function(t,e){return i.a.calculateW(t.array,e.array),t._dirty=!0,t},o.conjugate=function(t,e){return i.a.conjugate(t.array,e.array),t._dirty=!0,t},o.identity=function(t){return i.a.identity(t.array),t._dirty=!0,t},o.invert=function(t,e){return i.a.invert(t.array,e.array),t._dirty=!0,t},o.dot=function(t,e){return i.a.dot(t.array,e.array)},o.len=function(t){return i.a.length(t.array)},o.lerp=function(t,e,n,r){return i.a.lerp(t.array,e.array,n.array,r),t._dirty=!0,t},o.slerp=function(t,e,n,r){return i.a.slerp(t.array,e.array,n.array,r),t._dirty=!0,t},o.multiply=o.mul=function(t,e,n){return i.a.multiply(t.array,e.array,n.array),t._dirty=!0,t},o.rotateX=function(t,e,n){return i.a.rotateX(t.array,e.array,n),t._dirty=!0,t},o.rotateY=function(t,e,n){return i.a.rotateY(t.array,e.array,n),t._dirty=!0,t},o.rotateZ=function(t,e,n){return i.a.rotateZ(t.array,e.array,n),t._dirty=!0,t},o.setAxisAngle=function(t,e,n){return i.a.setAxisAngle(t.array,e.array,n),t._dirty=!0,t},o.normalize=function(t,e){return i.a.normalize(t.array,e.array),t._dirty=!0,t},o.squaredLength=o.sqrLen=function(t){return i.a.sqrLen(t.array)},o.fromMat3=function(t,e){return i.a.fromMat3(t.array,e.array),t._dirty=!0,t},o.setAxes=function(t,e,n,r){return i.a.setAxes(t.array,e.array,n.array,r.array),t._dirty=!0,t},o.rotationTo=function(t,e,n){return i.a.rotationTo(t.array,e.array,n.array),t._dirty=!0,t},o.fromEuler=function(t,e,n){t._dirty=!0,e=e.array;var r=t.array,i=Math.cos(e[0]/2),a=Math.cos(e[1]/2),o=Math.cos(e[2]/2),s=Math.sin(e[0]/2),u=Math.sin(e[1]/2),l=Math.sin(e[2]/2);switch(n=(n||"XYZ").toUpperCase()){case"XYZ":r[0]=s*a*o+i*u*l,r[1]=i*u*o-s*a*l,r[2]=i*a*l+s*u*o,r[3]=i*a*o-s*u*l;break;case"YXZ":r[0]=s*a*o+i*u*l,r[1]=i*u*o-s*a*l,r[2]=i*a*l-s*u*o,r[3]=i*a*o+s*u*l;break;case"ZXY":r[0]=s*a*o-i*u*l,r[1]=i*u*o+s*a*l,r[2]=i*a*l+s*u*o,r[3]=i*a*o-s*u*l;break;case"ZYX":r[0]=s*a*o-i*u*l,r[1]=i*u*o+s*a*l,r[2]=i*a*l-s*u*o,r[3]=i*a*o+s*u*l;break;case"YZX":r[0]=s*a*o+i*u*l,r[1]=i*u*o+s*a*l,r[2]=i*a*l-s*u*o,r[3]=i*a*o-s*u*l;break;case"XZY":r[0]=s*a*o-i*u*l,r[1]=i*u*o-s*a*l,r[2]=i*a*l+s*u*o,r[3]=i*a*o+s*u*l}},e.a=o},function(t,e,n){"use strict";var r=function(){this._contextId=0,this._caches=[],this._context={}};(r.prototype={use:function(t,e){var n=this._caches;n[t]||(n[t]={},e&&(n[t]=e())),this._contextId=t,this._context=n[t]},put:function(t,e){this._context[t]=e},get:function(t){return this._context[t]},dirty:function(t){var e="__dt__"+(t=t||"");this.put(e,!0)},dirtyAll:function(t){for(var e="__dt__"+(t=t||""),n=this._caches,r=0;r<n.length;r++)n[r]&&(n[r][e]=!0)},fresh:function(t){var e="__dt__"+(t=t||"");this.put(e,!1)},freshAll:function(t){for(var e="__dt__"+(t=t||""),n=this._caches,r=0;r<n.length;r++)n[r]&&(n[r][e]=!1)},isDirty:function(t){var e="__dt__"+(t=t||""),n=this._context;return!n.hasOwnProperty(e)||!0===n[e]},deleteContext:function(t){delete this._caches[t],this._context={}},delete:function(t){delete this._context[t]},clearAll:function(){this._caches={}},getContext:function(){return this._context},eachContext:function(t,e){Object.keys(this._caches).forEach((function(n){t&&t.call(e,n)}))},miss:function(t){return!this._context.hasOwnProperty(t)}}).constructor=r,e.a=r},function(t,e,n){"use strict";var r,i=n(35),a=n(9),o=n(59),s=n(54),u=n(33),l=n(12),c=i.a.extend((function(){return{projectionMatrix:new a.a,invProjectionMatrix:new a.a,viewMatrix:new a.a,frustum:new o.a}}),(function(){this.update(!0)}),{update:function(t){i.a.prototype.update.call(this,t),a.a.invert(this.viewMatrix,this.worldTransform),this.updateProjectionMatrix(),a.a.invert(this.invProjectionMatrix,this.projectionMatrix),this.frustum.setFromProjection(this.projectionMatrix)},setViewMatrix:function(t){a.a.copy(this.viewMatrix,t),a.a.invert(this.worldTransform,t),this.decomposeWorldTransform()},decomposeProjectionMatrix:function(){},setProjectionMatrix:function(t){a.a.copy(this.projectionMatrix,t),a.a.invert(this.invProjectionMatrix,t),this.decomposeProjectionMatrix()},updateProjectionMatrix:function(){},castRay:(r=u.a.create(),function(t,e){var n=void 0!==e?e:new s.a,i=t.array[0],a=t.array[1];return u.a.set(r,i,a,-1,1),u.a.transformMat4(r,r,this.invProjectionMatrix.array),u.a.transformMat4(r,r,this.worldTransform.array),l.a.scale(n.origin.array,r,1/r[3]),u.a.set(r,i,a,1,1),u.a.transformMat4(r,r,this.invProjectionMatrix.array),u.a.transformMat4(r,r,this.worldTransform.array),l.a.scale(r,r,1/r[3]),l.a.sub(n.direction.array,r,n.origin.array),l.a.normalize(n.direction.array,n.direction.array),n.direction._dirty=!0,n.origin._dirty=!0,n})});e.a=c},function(t,e,n){"use strict";var r,i=n(18),a=n(74),o=n(12),s=o.a.set,u=o.a.copy,l=o.a.transformMat4,c=Math.min,h=Math.max,f=function(){this.planes=[];for(var t=0;t<6;t++)this.planes.push(new a.a);for(this.boundingBox=new i.a,this.vertices=[],t=0;t<8;t++)this.vertices[t]=o.a.fromValues(0,0,0)};f.prototype={setFromProjection:function(t){var e=this.planes,n=t.array,r=n[0],i=n[1],a=n[2],o=n[3],u=n[4],l=n[5],c=n[6],h=n[7],f=n[8],d=n[9],p=n[10],m=n[11],g=n[12],_=n[13],v=n[14],y=n[15];s(e[0].normal.array,o-r,h-u,m-f),e[0].distance=-(y-g),e[0].normalize(),s(e[1].normal.array,o+r,h+u,m+f),e[1].distance=-(y+g),e[1].normalize(),s(e[2].normal.array,o+i,h+l,m+d),e[2].distance=-(y+_),e[2].normalize(),s(e[3].normal.array,o-i,h-l,m-d),e[3].distance=-(y-_),e[3].normalize(),s(e[4].normal.array,o-a,h-c,m-p),e[4].distance=-(y-v),e[4].normalize(),s(e[5].normal.array,o+a,h+c,m+p),e[5].distance=-(y+v),e[5].normalize();var b=this.boundingBox,x=this.vertices;if(0===y){var w=l/r,T=-v/(p-1),S=-v/(p+1),E=-S/l,C=-T/l;b.min.set(-E*w,-E,S),b.max.set(E*w,E,T),s(x[0],-E*w,-E,S),s(x[1],-E*w,E,S),s(x[2],E*w,-E,S),s(x[3],E*w,E,S),s(x[4],-C*w,-C,T),s(x[5],-C*w,C,T),s(x[6],C*w,-C,T),s(x[7],C*w,C,T)}else{var A=(-1-g)/r,M=(1-g)/r,O=(1-_)/l,D=(-1-_)/l,N=(-1-v)/p,I=(1-v)/p;b.min.set(Math.min(A,M),Math.min(D,O),Math.min(I,N)),b.max.set(Math.max(M,A),Math.max(O,D),Math.max(N,I));var P=b.min.array,L=b.max.array;s(x[0],P[0],P[1],P[2]),s(x[1],P[0],L[1],P[2]),s(x[2],L[0],P[1],P[2]),s(x[3],L[0],L[1],P[2]),s(x[4],P[0],P[1],L[2]),s(x[5],P[0],L[1],L[2]),s(x[6],L[0],P[1],L[2]),s(x[7],L[0],L[1],L[2])}},getTransformedBoundingBox:(r=o.a.create(),function(t,e){var n=this.vertices,i=e.array,a=t.min,o=t.max,s=a.array,f=o.array,d=n[0];l(r,d,i),u(s,r),u(f,r);for(var p=1;p<8;p++)d=n[p],l(r,d,i),s[0]=c(r[0],s[0]),s[1]=c(r[1],s[1]),s[2]=c(r[2],s[2]),f[0]=h(r[0],f[0]),f[1]=h(r[1],f[1]),f[2]=h(r[2],f[2]);return a._dirty=!0,o._dirty=!0,t})},e.a=f},function(t,e){var n=function(){this.head=null,this.tail=null,this._len=0},r=n.prototype;r.insert=function(t){var e=new i(t);return this.insertEntry(e),e},r.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},r.remove=function(t){var e=t.prev,n=t.next;e?e.next=n:this.head=n,n?n.prev=e:this.tail=e,t.next=t.prev=null,this._len--},r.len=function(){return this._len},r.clear=function(){this.head=this.tail=null,this._len=0};var i=function(t){this.value=t,this.next,this.prev},a=function(t){this._list=new n,this._map={},this._maxSize=t||10,this._lastRemovedEntry=null},o=a.prototype;o.put=function(t,e){var n=this._list,r=this._map,a=null;if(null==r[t]){var o=n.len(),s=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var u=n.head;n.remove(u),delete r[u.key],a=u.value,this._lastRemovedEntry=u}s?s.value=e:s=new i(e),s.key=t,n.insertEntry(s),r[t]=s}return a},o.get=function(t){var e=this._map[t],n=this._list;if(null!=e)return e!==n.tail&&(n.remove(e),n.insertEntry(e)),e.value},o.clear=function(){this._list.clear(),this._map={}};var s=a;t.exports=s},function(t,e,n){"use strict";var r=n(5),i=n(27),a=n(14),o=n(62),s=n(75),u=n(36),l=n(122),c=n(123),h={loadTexture:function(t,e,n,a){var o;if("function"==typeof e?(a=n=e,e={}):e=e||{},"string"==typeof t){if(t.match(/.hdr$/)||"hdr"===e.fileType)return o=new r.a({width:0,height:0,sRGB:!1}),h._fetchTexture(t,(function(t){c.a.parseRGBE(t,o,e.exposure),o.dirty(),n&&n(o)}),a),o;t.match(/.dds$/)||"dds"===e.fileType?(o=new r.a({width:0,height:0}),h._fetchTexture(t,(function(t){l.a.parse(t,o),o.dirty(),n&&n(o)}),a)):((o=new r.a).load(t),o.success(n),o.error(a))}else"object"==typeof t&&void 0!==t.px&&((o=new i.a).load(t),o.success(n),o.error(a));return o},loadPanorama:function(t,e,n,r,i,a){var o=this;"function"==typeof r?(a=i=r,r={}):r=r||{},h.loadTexture(e,r,(function(e){e.flipY=r.flipY||!1,o.panoramaToCubeMap(t,e,n,r),e.dispose(t),i&&i(n)}),a)},panoramaToCubeMap:function(t,e,n,r){var i=new o.a,a=new s.a({scene:new u.a});return a.setEnvironmentMap(e),(r=r||{}).encodeRGBM&&a.material.define("fragment","RGBM_ENCODE"),n.sRGB=e.sRGB,i.texture=n,i.render(t,a.scene),i.texture=null,i.dispose(t),n},heightToNormal:function(t,e){var n=document.createElement("canvas"),r=n.width=t.width,i=n.height=t.height,a=n.getContext("2d");a.drawImage(t,0,0,r,i),e=e||!1;for(var o=a.getImageData(0,0,r,i),s=a.createImageData(r,i),u=0;u<o.data.length;u+=4){if(e){var l=o.data[u],c=o.data[u+1],h=o.data[u+2];if(Math.abs(l-c)+Math.abs(c-h)>20)return console.warn("Given image is not a height map"),t}var f,d,p,m;u%(4*r)==0?(f=o.data[u],p=o.data[u+4]):u%(4*r)==4*(r-1)?(f=o.data[u-4],p=o.data[u]):(f=o.data[u-4],p=o.data[u+4]),u<4*r?(d=o.data[u],m=o.data[u+4*r]):u>r*(i-1)*4?(d=o.data[u-4*r],m=o.data[u]):(d=o.data[u-4*r],m=o.data[u+4*r]),s.data[u]=f-p+127,s.data[u+1]=d-m+127,s.data[u+2]=255,s.data[u+3]=255}return a.putImageData(s,0,0),n},isHeightImage:function(t,e,n){if(!t||!t.width||!t.height)return!1;var r=document.createElement("canvas"),i=r.getContext("2d"),a=e||32;n=n||20,r.width=r.height=a,i.drawImage(t,0,0,a,a);for(var o=i.getImageData(0,0,a,a),s=0;s<o.data.length;s+=4){var u=o.data[s],l=o.data[s+1],c=o.data[s+2];if(Math.abs(u-l)+Math.abs(l-c)>n)return!1}return!0},_fetchTexture:function(t,e,n){a.a.request.get({url:t,responseType:"arraybuffer",onload:e,onerror:n})},createChessboard:function(t,e,n,i){t=t||512,e=e||64,n=n||"black",i=i||"white";var a=Math.ceil(t/e),o=document.createElement("canvas");o.width=t,o.height=t;var s=o.getContext("2d");s.fillStyle=i,s.fillRect(0,0,t,t),s.fillStyle=n;for(var u=0;u<a;u++)for(var l=0;l<a;l++)(l%2?u%2:u%2-1)&&s.fillRect(u*e,l*e,e,e);return new r.a({image:o,anisotropic:8})},createBlank:function(t){var e=document.createElement("canvas");e.width=1,e.height=1;var n=e.getContext("2d");return n.fillStyle=t,n.fillRect(0,0,1,1),new r.a({image:e})}};e.a=h},function(t,e,n){"use strict";var r=n(7),i=n(3),a=n(41),o=n(10),s=["px","nx","py","ny","pz","nz"],u=r.a.extend((function(){var t={position:new i.a,far:1e3,near:.1,texture:null,shadowMapPass:null},e=t._cameras={px:new a.a({fov:90}),nx:new a.a({fov:90}),py:new a.a({fov:90}),ny:new a.a({fov:90}),pz:new a.a({fov:90}),nz:new a.a({fov:90})};return e.px.lookAt(i.a.POSITIVE_X,i.a.NEGATIVE_Y),e.nx.lookAt(i.a.NEGATIVE_X,i.a.NEGATIVE_Y),e.py.lookAt(i.a.POSITIVE_Y,i.a.POSITIVE_Z),e.ny.lookAt(i.a.NEGATIVE_Y,i.a.NEGATIVE_Z),e.pz.lookAt(i.a.POSITIVE_Z,i.a.NEGATIVE_Y),e.nz.lookAt(i.a.NEGATIVE_Z,i.a.NEGATIVE_Y),t._frameBuffer=new o.a,t}),{getCamera:function(t){return this._cameras[t]},render:function(t,e,n){var r=t.gl;n||e.update();for(var a=this.texture.width,o=2*Math.atan(a/(a-.5))/Math.PI*180,u=0;u<6;u++){var l=s[u],c=this._cameras[l];if(i.a.copy(c.position,this.position),c.far=this.far,c.near=this.near,c.fov=o,this.shadowMapPass){c.update();var h=e.getBoundingBox();h.applyTransform(c.viewMatrix),e.viewBoundingBoxLastFrame.copy(h),this.shadowMapPass.render(t,e,c,!0)}this._frameBuffer.attach(this.texture,r.COLOR_ATTACHMENT0,r.TEXTURE_CUBE_MAP_POSITIVE_X+u),this._frameBuffer.bind(t),t.render(e,c,!0),this._frameBuffer.unbind(t)}},dispose:function(t){this._frameBuffer.dispose(t)}});e.a=u},function(t,e,n){"use strict";var r=n(1),i=n(165),a=n(166);r.a.Shader.import(a.a),e.a=r.a.Mesh.extend((function(){return{geometry:new i.a({dynamic:!0}),material:new r.a.Material({shader:r.a.createShader("ecgl.labels"),transparent:!0,depthMask:!1}),culling:!1,castShadow:!1,ignorePicking:!0}}))},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n(204),s=n(25),u=n(2),l=n(6),c=n(65),h=n(66),f=n(46),d=l.a.vec3;function p(t){this.rootNode=new a.a.Node,this._triangulationResults={},this._shadersMap=a.a.COMMON_SHADERS.reduce((function(t,e){return t[e]=a.a.createShader("ecgl."+e),t}),{}),this._linesShader=a.a.createShader("ecgl.meshLines3D");var e={};a.a.COMMON_SHADERS.forEach((function(t){e[t]=new a.a.Material({shader:a.a.createShader("ecgl."+t)})})),this._groundMaterials=e,this._groundMesh=new a.a.Mesh({geometry:new a.a.PlaneGeometry({dynamic:!0}),castShadow:!1,renderNormal:!0,$ignorePicking:!0}),this._groundMesh.rotation.rotateX(-Math.PI/2),this._labelsBuilder=new h.a(512,512,t),this._labelsBuilder.getMesh().renderOrder=100,this._labelsBuilder.getMesh().material.depthTest=!1,this.rootNode.add(this._labelsBuilder.getMesh()),this._initMeshes(),this._api=t}a.a.Shader.import(f.a),p.prototype={constructor:p,extrudeY:!0,update:function(t,e,n,r,i){var a=t.getData();null==r&&(r=0),null==i&&(i=a.count()),this._startIndex=r,this._endIndex=i-1,this._triangulation(t,r,i);var o=this._getShader(t.get("shading"));this._prepareMesh(t,o,n,r,i),this.rootNode.updateWorldTransform(),this._updateRegionMesh(t,n,r,i);var s=t.coordinateSystem;"geo3D"===s.type&&this._updateGroundPlane(t,s,n);var u=this;this._labelsBuilder.updateData(a,r,i),this._labelsBuilder.getLabelPosition=function(t,e,n){var r=a.getName(t),i=n;if("geo3D"===s.type){var o=s.getRegion(r);return o?(c=o.center,s.dataToPoint([c[0],c[1],i])):[NaN,NaN,NaN]}var l=u._triangulationResults[t-u._startIndex],c=u.extrudeY?[(l.max[0]+l.min[0])/2,l.max[1]+i,(l.max[2]+l.min[2])/2]:[(l.max[0]+l.min[0])/2,(l.max[1]+l.min[1])/2,l.max[2]+i]},this._data=a,this._labelsBuilder.updateLabels(),this._updateDebugWireframe(t),this._lastHoverDataIndex=0},_initMeshes:function(){var t,e=this,n=(t=new a.a.Mesh({name:"Polygon",material:new a.a.Material({shader:e._shadersMap.lambert}),geometry:new a.a.Geometry({sortTriangles:!0,dynamic:!0}),culling:!1,ignorePicking:!0,renderNormal:!0}),i.a.util.extend(t.geometry,c.a),t),r=new a.a.Mesh({material:new a.a.Material({shader:this._linesShader}),castShadow:!1,ignorePicking:!0,$ignorePicking:!0,geometry:new s.a({useNativeLine:!1})});this.rootNode.add(n),this.rootNode.add(r),n.material.define("both","VERTEX_COLOR"),n.material.define("fragment","DOUBLE_SIDED"),this._polygonMesh=n,this._linesMesh=r,this.rootNode.add(this._groundMesh)},_getShader:function(t){var e=this._shadersMap[t];return e||(console.warn("Unkown shading "+t),e=this._shadersMap.lambert),e.__shading=t,e},_prepareMesh:function(t,e,n,r,i){for(var o=0,s=0,u=0,l=0,c=r;c<i;c++){var h=this._getRegionPolygonInfo(c),f=this._getRegionLinesInfo(c,t,this._linesMesh.geometry);o+=h.vertexCount,s+=h.triangleCount,u+=f.vertexCount,l+=f.triangleCount}var d=this._polygonMesh,p=d.geometry;["position","normal","texcoord0","color"].forEach((function(t){p.attributes[t].init(o)})),p.indices=o>65535?new Uint32Array(3*s):new Uint16Array(3*s),d.material.shader!==e&&d.material.attachShader(e,!0),a.a.setMaterialFromModel(e.__shading,d.material,t,n),u>0&&(this._linesMesh.geometry.resetOffset(),this._linesMesh.geometry.setVertexCount(u),this._linesMesh.geometry.setTriangleCount(l)),this._dataIndexOfVertex=new Uint32Array(o),this._vertexRangeOfDataIndex=new Uint32Array(2*(i-r))},_updateRegionMesh:function(t,e,n,r){for(var i=t.getData(),o=0,s=0,l=!1,c=this._polygonMesh,h=this._linesMesh,f=n;f<r;f++){var d=t.getRegionModel(f),p=d.getModel("itemStyle"),m=p.get("color"),g=u.a.firstNotNull(p.get("opacity"),1),_=i.getItemVisual(f,"color",!0);null!=_&&i.hasValue(f)&&(m=_),i.setItemVisual(f,"color",m),i.setItemVisual(f,"opacity",g),m=a.a.parseColor(m);var v=a.a.parseColor(p.get("borderColor"));m[3]*=g,v[3]*=g;var y=m[3]<.99;c.material.set("color",[1,1,1,1]),l=l||y;for(var b=u.a.firstNotNull(d.get("height",!0),t.get("regionHeight")),x=this._updatePolygonGeometry(t,c.geometry,f,b,o,s,m),w=o;w<x.vertexOffset;w++)this._dataIndexOfVertex[w]=f;this._vertexRangeOfDataIndex[2*(f-n)]=o,this._vertexRangeOfDataIndex[2*(f-n)+1]=x.vertexOffset,o=x.vertexOffset,s=x.triangleOffset;var T=p.get("borderWidth"),S=T>0;S&&(T*=e.getDevicePixelRatio(),this._updateLinesGeometry(h.geometry,t,f,b,T,t.coordinateSystem.transform)),h.invisible=!S,h.material.set({color:v})}(c=this._polygonMesh).material.transparent=l,c.material.depthMask=!l,c.geometry.updateBoundingBox(),c.frontFace=this.extrudeY?a.a.Mesh.CCW:a.a.Mesh.CW,c.material.get("normalMap")&&c.geometry.generateTangents(),c.seriesIndex=t.seriesIndex,c.on("mousemove",this._onmousemove,this),c.on("mouseout",this._onmouseout,this)},_updateDebugWireframe:function(t){var e=t.getModel("debug.wireframe");if(e.get("show")){var n=a.a.parseColor(e.get("lineStyle.color")||"rgba(0,0,0,0.5)"),r=u.a.firstNotNull(e.get("lineStyle.width"),1),i=this._polygonMesh;i.geometry.generateBarycentric(),i.material.define("both","WIREFRAME_TRIANGLE"),i.material.set("wireframeLineColor",n),i.material.set("wireframeLineWidth",r)}},_onmousemove:function(t){var e=this._dataIndexOfVertex[t.triangle[0]];null==e&&(e=-1),e!==this._lastHoverDataIndex&&(this.downplay(this._lastHoverDataIndex),this.highlight(e),this._labelsBuilder.updateLabels([e])),this._lastHoverDataIndex=e,this._polygonMesh.dataIndex=e},_onmouseout:function(t){t.target&&(this.downplay(this._lastHoverDataIndex),this._lastHoverDataIndex=-1,this._polygonMesh.dataIndex=-1),this._labelsBuilder.updateLabels([])},_updateGroundPlane:function(t,e,n){var r=t.getModel("groundPlane",t);if(this._groundMesh.invisible=!r.get("show",!0),!this._groundMesh.invisible){var i=t.get("shading"),o=this._groundMaterials[i];o||(console.warn("Unkown shading "+i),o=this._groundMaterials.lambert),a.a.setMaterialFromModel(i,o,r,n),o.get("normalMap")&&this._groundMesh.geometry.generateTangents(),this._groundMesh.material=o,this._groundMesh.material.set("color",a.a.parseColor(r.get("color"))),this._groundMesh.scale.set(e.size[0],e.size[2],1)}},_triangulation:function(t,e,n){this._triangulationResults=[];for(var r=[1/0,1/0,1/0],i=[-1/0,-1/0,-1/0],a=t.coordinateSystem,s=e;s<n;s++){for(var u=[],l=t.getRegionPolygonCoords(s),c=0;c<l.length;c++){var h=l[c].exterior,f=l[c].interiors,p=[],m=[];if(!(h.length<3)){for(var g=0,_=0;_<h.length;_++){var v=h[_];p[g++]=v[0],p[g++]=v[1]}for(_=0;_<f.length;_++)if(!(f[_].length<3)){for(var y=p.length/2,b=0;b<f[_].length;b++)v=f[_][b],p.push(v[0]),p.push(v[1]);m.push(y)}var x=Object(o.a)(p,m),w=new Float64Array(p.length/2*3),T=[],S=[1/0,1/0,1/0],E=[-1/0,-1/0,-1/0],C=0;for(_=0;_<p.length;)d.set(T,p[_++],0,p[_++]),a&&a.transform&&d.transformMat4(T,T,a.transform),d.min(S,S,T),d.max(E,E,T),w[C++]=T[0],w[C++]=T[1],w[C++]=T[2];d.min(r,r,S),d.max(i,i,E),u.push({points:w,indices:x,min:S,max:E})}}this._triangulationResults.push(u)}this._geoBoundingBox=[r,i]},_getRegionPolygonInfo:function(t){for(var e=this._triangulationResults[t-this._startIndex],n=0,r=0,i=0;i<e.length;i++)n+=e[i].points.length/3,r+=e[i].indices.length/3;return{vertexCount:2*n+4*n,triangleCount:2*r+2*n}},_updatePolygonGeometry:function(t,e,n,r,i,a,o){var s=t.get("projectUVOnGround"),u=e.attributes.position,l=e.attributes.normal,c=e.attributes.texcoord0,h=e.attributes.color,f=this._triangulationResults[n-this._startIndex],p=h.value&&o,m=e.indices,g=this.extrudeY?1:2,_=this.extrudeY?2:1,v=[this.rootNode.worldTransform.x.len(),this.rootNode.worldTransform.y.len(),this.rootNode.worldTransform.z.len()],y=d.mul([],this._geoBoundingBox[0],v),b=d.mul([],this._geoBoundingBox[1],v),x=Math.max(b[0]-y[0],b[2]-y[2]);function w(t,e,n){var r=i;!function(t,e,n){for(var r=t.points,a=r.length,s=[],l=[],f=0;f<a;f+=3)s[0]=r[f],s[g]=e,s[_]=r[f+2],l[0]=(r[f]*v[0]-y[0])/x,l[1]=(r[f+2]*v[_]-y[2])/x,u.set(i,s),p&&h.set(i,o),c.set(i++,l)}(t,e);for(var s=t.indices.length,l=0;l<s;l++)m[3*a+l]=t.indices[l]+r;a+=t.indices.length/3}for(var T=this.extrudeY?[0,1,0]:[0,0,1],S=d.negate([],T),E=0;E<f.length;E++){var C=i,A=f[E];w(A,0),w(A,r);for(var M=A.points.length/3,O=0;O<M;O++)l.set(C+O,S),l.set(C+O+M,T);var D=[0,3,1,1,3,2],N=[[],[],[],[]],I=[],P=[],L=[],R=[],k=0;for(O=0;O<M;O++){for(var B=(O+1)%M,F=(A.points[3*B]-A.points[3*O])*v[0],z=(A.points[3*B+2]-A.points[3*O+2])*v[_],j=Math.sqrt(F*F+z*z),U=0;U<4;U++){var H=0===U||3===U,V=3*(H?O:B);N[U][0]=A.points[V],N[U][g]=U>1?r:0,N[U][_]=A.points[V+2],u.set(i+U,N[U]),s?(R[0]=(A.points[V]*v[0]-y[0])/x,R[1]=(A.points[V+2]*v[_]-y[_])/x):(R[0]=(H?k:k+j)/x,R[1]=(N[U][g]*v[g]-y[g])/x),c.set(i+U,R)}for(d.sub(I,N[1],N[0]),d.sub(P,N[3],N[0]),d.cross(L,I,P),d.normalize(L,L),U=0;U<4;U++)l.set(i+U,L),p&&h.set(i+U,o);for(U=0;U<6;U++)m[3*a+U]=D[U]+i;i+=4,a+=2,k+=j}}return e.dirty(),{vertexOffset:i,triangleOffset:a}},_getRegionLinesInfo:function(t,e,n){var r=0,i=0;return e.getRegionModel(t).getModel("itemStyle").get("borderWidth")>0&&e.getRegionPolygonCoords(t).forEach((function(t){var e=t.exterior,a=t.interiors;r+=n.getPolylineVertexCount(e),i+=n.getPolylineTriangleCount(e);for(var o=0;o<a.length;o++)r+=n.getPolylineVertexCount(a[o]),i+=n.getPolylineTriangleCount(a[o])}),this),{vertexCount:r,triangleCount:i}},_updateLinesGeometry:function(t,e,n,r,i,a){function o(t){for(var e=new Float64Array(3*t.length),n=0,i=[],o=0;o<t.length;o++)i[0]=t[o][0],i[1]=r+.1,i[2]=t[o][1],a&&d.transformMat4(i,i,a),e[n++]=i[0],e[n++]=i[1],e[n++]=i[2];return e}var s=[1,1,1,1];e.getRegionPolygonCoords(n).forEach((function(e){var n=e.exterior,r=e.interiors;t.addPolyline(o(n),s,i);for(var a=0;a<r.length;a++)t.addPolyline(o(r[a]),s,i)}))},highlight:function(t){var e=this._data;if(e){var n=e.getItemModel(t).getModel("emphasis.itemStyle"),r=n.get("color"),o=u.a.firstNotNull(n.get("opacity"),e.getItemVisual(t,"opacity"),1);if(null==r){var s=e.getItemVisual(t,"color");r=i.a.color.lift(s,-.4)}null==o&&(o=e.getItemVisual(t,"opacity"));var l=a.a.parseColor(r);l[3]*=o,this._setColorOfDataIndex(e,t,l)}},downplay:function(t){var e=this._data;if(e){var n=e.getItemVisual(t,"color"),r=u.a.firstNotNull(e.getItemVisual(t,"opacity"),1),i=a.a.parseColor(n);i[3]*=r,this._setColorOfDataIndex(e,t,i)}},_setColorOfDataIndex:function(t,e,n){if(!(e<this._startIndex&&e>this._endIndex)){e-=this._startIndex;for(var r=this._vertexRangeOfDataIndex[2*e];r<this._vertexRangeOfDataIndex[2*e+1];r++)this._polygonMesh.geometry.attributes.color.set(r,n);this._polygonMesh.geometry.dirty(),this._api.getZr().refresh()}}},e.a=p},function(t,e,n){"use strict";var r=n(97),i=n(6).a.vec3,a=i.create(),o=i.create(),s=i.create();e.a={needsSortTriangles:function(){return this.indices&&this.sortTriangles},needsSortTrianglesProgressively:function(){return this.needsSortTriangles()&&this.triangleCount>=2e4},doSortTriangles:function(t,e){var n=this.indices;if(0===e){var r=this.attributes.position;t=t.array,this._triangleZList&&this._triangleZList.length===this.triangleCount||(this._triangleZList=new Float32Array(this.triangleCount),this._sortedTriangleIndices=new Uint32Array(this.triangleCount),this._indicesTmp=new n.constructor(n.length),this._triangleZListTmp=new Float32Array(this.triangleCount));for(var u,l=0,c=0;c<n.length;){r.get(n[c++],a),r.get(n[c++],o),r.get(n[c++],s);var h=i.sqrDist(a,t),f=i.sqrDist(o,t),d=i.sqrDist(s,t),p=Math.min(h,f);p=Math.min(p,d),3===c?(u=p,p=0):p-=u,this._triangleZList[l++]=p}}var m=this._sortedTriangleIndices;for(c=0;c<m.length;c++)m[c]=c;if(this.triangleCount<2e4)0===e&&this._simpleSort(!0);else for(c=0;c<3;c++)this._progressiveQuickSort(3*e+c);var g=this._indicesTmp,_=this._triangleZListTmp,v=this._triangleZList;for(c=0;c<this.triangleCount;c++){var y=3*m[c],b=3*c;g[b++]=n[y++],g[b++]=n[y++],g[b]=n[y],_[c]=v[m[c]]}var x=this._indicesTmp;this._indicesTmp=this.indices,this.indices=x,x=this._triangleZListTmp,this._triangleZListTmp=this._triangleZList,this._triangleZList=x,this.dirtyIndices()},_simpleSort:function(t){var e=this._triangleZList,n=this._sortedTriangleIndices;function i(t,n){return e[n]-e[t]}t?Array.prototype.sort.call(n,i):r.a.sort(n,i,0,n.length-1)},_progressiveQuickSort:function(t){var e=this._triangleZList,n=this._sortedTriangleIndices;this._quickSort=this._quickSort||new r.a,this._quickSort.step(n,(function(t,n){return e[n]-e[t]}),t)}}},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(81),o=n(63),s=n(2);function u(t,e,n){this._labelsMesh=new o.a,this._labelTextureSurface=new a.a({width:512,height:512,devicePixelRatio:n.getDevicePixelRatio(),onupdate:function(){n.getZr().refresh()}}),this._api=n,this._labelsMesh.material.set("textureAtlas",this._labelTextureSurface.getTexture())}u.prototype.getLabelPosition=function(t,e,n){return[0,0,0]},u.prototype.getLabelDistance=function(t,e,n){return 0},u.prototype.getMesh=function(){return this._labelsMesh},u.prototype.updateData=function(t,e,n){null==e&&(e=0),null==n&&(n=t.count()),this._labelsVisibilitiesBits&&this._labelsVisibilitiesBits.length===n-e||(this._labelsVisibilitiesBits=new Uint8Array(n-e));for(var r=["label","show"],i=["emphasis","label","show"],a=e;a<n;a++){var o=t.getItemModel(a),s=o.get(r),u=o.get(i);null==u&&(u=s);var l=(s?1:0)|(u?2:0);this._labelsVisibilitiesBits[a-e]=l}this._start=e,this._end=n,this._data=t},u.prototype.updateLabels=function(t){if(this._data){for(var e=(t=t||[]).length>0,n={},r=0;r<t.length;r++)n[t[r]]=!0;this._labelsMesh.geometry.convertToDynamicArray(!0),this._labelTextureSurface.clear();for(var a=["label"],o=["emphasis","label"],u=this._data.hostModel,l=this._data,c=u.getModel(a),h=u.getModel(o,c),f={left:"right",right:"left",top:"center",bottom:"center"},d={left:"middle",right:"middle",top:"bottom",bottom:"top"},p=this._start;p<this._end;p++){var m=!1;if(e&&n[p]&&(m=!0),this._labelsVisibilitiesBits[p-this._start]&(m?2:1)){var g=l.getItemModel(p).getModel(m?o:a,m?h:c),_=g.get("distance")||0,v=g.get("position"),y=g.getModel("textStyle"),b=this._api.getDevicePixelRatio(),x=u.getFormattedLabel(p,m?"emphasis":"normal");if(null==x||""===x)return;var w=new i.a.graphic.Text;i.a.graphic.setTextStyle(w.style,y,{text:x,textFill:y.get("color")||l.getItemVisual(p,"color")||"#000",textAlign:"left",textVerticalAlign:"top",opacity:s.a.firstNotNull(y.get("opacity"),l.getItemVisual(p,"opacity"),1)});var T=w.getBoundingRect();T.height*=1.2;var S=this._labelTextureSurface.add(w),E=f[v]||"center",C=d[v]||"bottom";this._labelsMesh.geometry.addSprite(this.getLabelPosition(p,v,_),[T.width*b,T.height*b],S,E,C,this.getLabelDistance(p,v,_)*b)}}this._labelsMesh.material.set("uvScale",this._labelTextureSurface.getCoordsScale()),this._labelTextureSurface.getZr().refreshImmediately(),this._labelsMesh.geometry.convertToTypedArray(),this._labelsMesh.geometry.dirty()}},e.a=u},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n(239),s=n(240),u=n(66),l=n(9),c=n(2);function h(t,e){this.rootNode=new a.a.Node,this.is2D=t,this._labelsBuilder=new u.a(256,256,e),this._labelsBuilder.getMesh().renderOrder=100,this.rootNode.add(this._labelsBuilder.getMesh()),this._api=e,this._spriteImageCanvas=document.createElement("canvas"),this._startDataIndex=0,this._endDataIndex=0,this._sizeScale=1}h.prototype={constructor:h,highlightOnMouseover:!0,update:function(t,e,n,r,i){var o=this._prevMesh;this._prevMesh=this._mesh,this._mesh=o;var u=t.getData();if(null==r&&(r=0),null==i&&(i=u.count()),this._startDataIndex=r,this._endDataIndex=i-1,!this._mesh){var l=this._prevMesh&&this._prevMesh.material;this._mesh=new s.a({renderOrder:10,frustumCulling:!1}),l&&(this._mesh.material=l)}l=this._mesh.material;var c=this._mesh.geometry,h=c.attributes;this.rootNode.remove(this._prevMesh),this.rootNode.add(this._mesh),this._setPositionTextureToMesh(this._mesh,this._positionTexture);var f=this._getSymbolInfo(t,r,i),d=n.getDevicePixelRatio(),p=t.getModel("itemStyle").getItemStyle(),m=t.get("large"),g=1;f.maxSize>2?(g=this._updateSymbolSprite(t,p,f,d),l.enableTexture("sprite")):l.disableTexture("sprite"),h.position.init(i-r);var _=[];if(m){l.undefine("VERTEX_SIZE"),l.undefine("VERTEX_COLOR");var v=u.getVisual("color"),y=u.getVisual("opacity");a.a.parseColor(v,_),_[3]*=y,l.set({color:_,u_Size:f.maxSize*this._sizeScale})}else l.set({color:[1,1,1,1]}),l.define("VERTEX_SIZE"),l.define("VERTEX_COLOR"),h.size.init(i-r),h.color.init(i-r),this._originalOpacity=new Float32Array(i-r);for(var b=u.getLayout("points"),x=h.position.value,w=0;w<i-r;w++){var T=3*w,S=2*w;if(this.is2D?(x[T]=b[S],x[T+1]=b[S+1],x[T+2]=-10):(x[T]=b[T],x[T+1]=b[T+1],x[T+2]=b[T+2]),!m){v=u.getItemVisual(w,"color"),y=u.getItemVisual(w,"opacity"),a.a.parseColor(v,_),_[3]*=y,h.color.set(w,_),_[3];var E=u.getItemVisual(w,"symbolSize");E=E instanceof Array?Math.max(E[0],E[1]):E,isNaN(E)&&(E=0),h.size.value[w]=E*g*this._sizeScale,this._originalOpacity[w]=_[3]}}this._mesh.sizeScale=g,c.updateBoundingBox(),c.dirty(),this._updateMaterial(t,p);var C=t.coordinateSystem;C&&C.viewGL&&l[C.viewGL.isLinearSpace()?"define":"undefine"]("fragment","SRGB_DECODE"),m||this._updateLabelBuilder(t,r,i),this._updateHandler(t,e,n),this._updateAnimation(t),this._api=n},getPointsMesh:function(){return this._mesh},updateLabels:function(t){this._labelsBuilder.updateLabels(t)},hideLabels:function(){this.rootNode.remove(this._labelsBuilder.getMesh())},showLabels:function(){this.rootNode.add(this._labelsBuilder.getMesh())},_updateSymbolSprite:function(t,e,n,r){n.maxSize=Math.min(2*n.maxSize,200);var i,a,s=[];return n.aspect>1?(s[0]=n.maxSize,s[1]=n.maxSize/n.aspect):(s[1]=n.maxSize,s[0]=n.maxSize*n.aspect),s[0]=s[0]||1,s[1]=s[1]||1,this._symbolType===n.type&&(i=this._symbolSize,a=s,i&&a&&i[0]===a[0]&&i[1]===a[1])&&this._lineWidth===e.lineWidth||(o.a.createSymbolSprite(n.type,s,{fill:"#fff",lineWidth:e.lineWidth,stroke:"transparent",shadowColor:"transparent",minMargin:Math.min(s[0]/2,10)},this._spriteImageCanvas),o.a.createSDFFromCanvas(this._spriteImageCanvas,Math.min(this._spriteImageCanvas.width,32),20,this._mesh.material.get("sprite").image),this._symbolType=n.type,this._symbolSize=s,this._lineWidth=e.lineWidth),this._spriteImageCanvas.width/n.maxSize*r},_updateMaterial:function(t,e){var n="lighter"===t.get("blendMode")?a.a.additiveBlend:null,r=this._mesh.material;r.blend=n,r.set("lineWidth",e.lineWidth/20);var i=a.a.parseColor(e.stroke);r.set("strokeColor",i),r.transparent=!0,r.depthMask=!1,r.depthTest=!this.is2D,r.sortVertices=!this.is2D},_updateLabelBuilder:function(t,e,n){var r=t.getData(),i=this._mesh.geometry,a=i.attributes.position.value,o=(e=this._startDataIndex,this._mesh.sizeScale);this._labelsBuilder.updateData(r,e,n),this._labelsBuilder.getLabelPosition=function(t,n,r){var i=3*(t-e);return[a[i],a[i+1],a[i+2]]},this._labelsBuilder.getLabelDistance=function(t,n,r){return i.attributes.size.get(t-e)/o/2+r},this._labelsBuilder.updateLabels()},_updateAnimation:function(t){a.a.updateVertexAnimation([["prevPosition","position"],["prevSize","size"]],this._prevMesh,this._mesh,t)},_updateHandler:function(t,e,n){var r,i=t.getData(),a=this._mesh,o=this,s=-1,u=t.coordinateSystem&&"cartesian3D"===t.coordinateSystem.type;u&&(r=t.coordinateSystem.model),a.seriesIndex=t.seriesIndex,a.off("mousemove"),a.off("mouseout"),a.on("mousemove",(function(e){var l=e.vertexIndex+o._startDataIndex;l!==s&&(this.highlightOnMouseover&&(this.downplay(i,s),this.highlight(i,l),this._labelsBuilder.updateLabels([l])),u&&n.dispatchAction({type:"grid3DShowAxisPointer",value:[i.get(t.coordDimToDataDim("x")[0],l),i.get(t.coordDimToDataDim("y")[0],l),i.get(t.coordDimToDataDim("z")[0],l)],grid3DIndex:r.componentIndex})),a.dataIndex=l,s=l}),this),a.on("mouseout",(function(t){var e=t.vertexIndex+o._startDataIndex;this.highlightOnMouseover&&(this.downplay(i,e),this._labelsBuilder.updateLabels()),s=-1,a.dataIndex=-1,u&&n.dispatchAction({type:"grid3DHideAxisPointer",grid3DIndex:r.componentIndex})}),this)},updateLayout:function(t,e,n){var r=t.getData();if(this._mesh){var i=this._mesh.geometry.attributes.position.value,a=r.getLayout("points");if(this.is2D)for(var o=0;o<a.length/2;o++){var s=3*o,u=2*o;i[s]=a[u],i[s+1]=a[u+1],i[s+2]=-10}else for(o=0;o<a.length;o++)i[o]=a[o];this._mesh.geometry.dirty(),n.getZr().refresh()}},updateView:function(t){if(this._mesh){var e=new l.a;l.a.mul(e,t.viewMatrix,this._mesh.worldTransform),l.a.mul(e,t.projectionMatrix,e),this._mesh.updateNDCPosition(e,this.is2D,this._api)}},highlight:function(t,e){if(!(e>this._endDataIndex||e<this._startDataIndex)){var n=t.getItemModel(e).getModel("emphasis.itemStyle"),r=n.get("color"),o=n.get("opacity");if(null==r){var s=t.getItemVisual(e,"color");r=i.a.color.lift(s,-.4)}null==o&&(o=t.getItemVisual(e,"opacity"));var u=a.a.parseColor(r);u[3]*=o,this._mesh.geometry.attributes.color.set(e-this._startDataIndex,u),this._mesh.geometry.dirtyAttribute("color"),this._api.getZr().refresh()}},downplay:function(t,e){if(!(e>this._endDataIndex||e<this._startDataIndex)){var n=t.getItemVisual(e,"color"),r=t.getItemVisual(e,"opacity"),i=a.a.parseColor(n);i[3]*=r,this._mesh.geometry.attributes.color.set(e-this._startDataIndex,i),this._mesh.geometry.dirtyAttribute("color"),this._api.getZr().refresh()}},fadeOutAll:function(t){if(this._originalOpacity){for(var e=this._mesh.geometry,n=0;n<e.vertexCount;n++){var r=this._originalOpacity[n]*t;e.attributes.color.value[4*n+3]=r}e.dirtyAttribute("color"),this._api.getZr().refresh()}},fadeInAll:function(){this.fadeOutAll(1)},setPositionTexture:function(t){this._mesh&&this._setPositionTextureToMesh(this._mesh,t),this._positionTexture=t},removePositionTexture:function(){this._positionTexture=null,this._mesh&&this._setPositionTextureToMesh(this._mesh,null)},setSizeScale:function(t){if(t!==this._sizeScale){if(this._mesh){var e=this._mesh.material.get("u_Size");this._mesh.material.set("u_Size",e/this._sizeScale*t);var n=this._mesh.geometry.attributes;if(n.size.value)for(var r=0;r<n.size.value.length;r++)n.size.value[r]=n.size.value[r]/this._sizeScale*t}this._sizeScale=t}},_setPositionTextureToMesh:function(t,e){e&&t.material.set("positionTexture",e),t.material[e?"enableTexture":"disableTexture"]("positionTexture")},_getSymbolInfo:function(t,e,n){if(t.get("large"))return(f=c.a.firstNotNull(t.get("symbolSize"),1))instanceof Array?(u=Math.max(f[0],f[1]),r=f[0]/f[1]):(u=f,r=1),{maxSize:f,type:t.get("symbol"),aspect:r};for(var r,i=t.getData(),a=!1,o=i.getItemVisual(0,"symbol")||"circle",s=!1,u=0,l=e;l<n;l++){var h,f=i.getItemVisual(l,"symbolSize"),d=i.getItemVisual(l,"symbol");if(f instanceof Array)h=f[0]/f[1],u=Math.max(Math.max(f[0],f[1]),u);else{if(isNaN(f))return;h=1,u=Math.max(f,u)}null!=r&&Math.abs(h-r)>.05&&(a=!0),d!==o&&(s=!0),o=d,r=h}return a&&console.warn("Different symbol width / height ratio will be ignored."),s&&console.warn("Different symbol type will be ignored."),{maxSize:u,type:o,aspect:r}}},e.a=h},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var r=n(114),i=function(t){this._list=new r.a,this._map={},this._maxSize=t||10};i.prototype.setMaxSize=function(t){this._maxSize=t},i.prototype.put=function(t,e){if(!this._map.hasOwnProperty(t)){var n=this._list.length();if(n>=this._maxSize&&n>0){var r=this._list.head;this._list.remove(r),delete this._map[r.key]}var i=this._list.insert(e);i.key=t,this._map[t]=i}},i.prototype.get=function(t){var e=this._map[t];if(this._map.hasOwnProperty(t))return e!==this._list.tail&&(this._list.remove(e),this._list.insertEntry(e)),e.value},i.prototype.remove=function(t){var e=this._map[t];void 0!==e&&(delete this._map[t],this._list.remove(e))},i.prototype.clear=function(){this._list.clear(),this._map={}},e.a=i},function(t,e,n){"use strict";var r,i=n(20),a={create:function(){var t=new i.a(2);return t[0]=0,t[1]=0,t},clone:function(t){var e=new i.a(2);return e[0]=t[0],e[1]=t[1],e},fromValues:function(t,e){var n=new i.a(2);return n[0]=t,n[1]=e,n},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t},set:function(t,e,n){return t[0]=e,t[1]=n,t},add:function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},subtract:function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}};a.sub=a.subtract,a.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t},a.mul=a.multiply,a.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t},a.div=a.divide,a.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},a.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t},a.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},a.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t},a.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)},a.dist=a.distance,a.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r},a.sqrDist=a.squaredDistance,a.length=function(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)},a.len=a.length,a.squaredLength=function(t){var e=t[0],n=t[1];return e*e+n*n},a.sqrLen=a.squaredLength,a.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},a.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},a.normalize=function(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i),t},a.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},a.cross=function(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t},a.lerp=function(t,e,n,r){var i=e[0],a=e[1];return t[0]=i+r*(n[0]-i),t[1]=a+r*(n[1]-a),t},a.random=function(t,e){e=e||1;var n=2*GLMAT_RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t},a.transformMat2=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t},a.transformMat2d=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t},a.transformMat3=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t},a.transformMat4=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t},a.forEach=(r=a.create(),function(t,e,n,i,a,o){var s,u;for(e||(e=2),n||(n=0),u=i?Math.min(i*e+n,t.length):t.length,s=n;s<u;s+=e)r[0]=t[s],r[1]=t[s+1],a(r,r,o),t[s]=r[0],t[s+1]=r[1];return t}),e.a=a},function(t,e,n){"use strict";e.a="@export clay.prez.vertex\nuniform mat4 WVP : WORLDVIEWPROJECTION;\nattribute vec3 pos : POSITION;\nattribute vec2 uv : TEXCOORD_0;\n@import clay.chunk.skinning_header\nvarying vec2 v_Texcoord;\nvoid main()\n{\n vec3 P = pos;\n#ifdef SKINNING\n @import clay.chunk.skin_matrix\n P = (skinMatrixWS * vec4(pos, 1.0)).xyz;\n#endif\n gl_Position = WVP * vec4(P, 1.0);\n v_Texcoord = uv;\n}\n@end\n@export clay.prez.fragment\nuniform sampler2D alphaMap;\nuniform float alphaCutoff: 0.0;\nvarying vec2 v_Texcoord;\nvoid main()\n{\n if (alphaCutoff > 0.0) {\n if (texture2D(alphaMap, v_Texcoord).a <= alphaCutoff) {\n discard;\n }\n }\n gl_FragColor = vec4(0.0,0.0,0.0,1.0);\n}\n@end"},function(t,e,n){"use strict";var r,i=n(35),a=n(11),o=i.a.extend({material:null,geometry:null,mode:a.a.TRIANGLES,_renderInfo:null},{__program:null,lightGroup:0,renderOrder:0,culling:!0,cullFace:a.a.BACK,frontFace:a.a.CCW,frustumCulling:!0,receiveShadow:!0,castShadow:!0,ignorePicking:!1,ignorePreZ:!1,ignoreGBuffer:!1,isRenderable:function(){return this.geometry&&this.material&&this.material.shader&&!this.invisible&&this.geometry.vertexCount>0},beforeRender:function(t){},afterRender:function(t,e){},getBoundingBox:function(t,e){return e=i.a.prototype.getBoundingBox.call(this,t,e),this.geometry&&this.geometry.boundingBox&&e.union(this.geometry.boundingBox),e},clone:(r=["castShadow","receiveShadow","mode","culling","cullFace","frontFace","frustumCulling","renderOrder","lineWidth","ignorePicking","ignorePreZ","ignoreGBuffer"],function(){var t=i.a.prototype.clone.call(this);t.geometry=this.geometry,t.material=this.material;for(var e=0;e<r.length;e++){var n=r[e];t[n]!==this[n]&&(t[n]=this[n])}return t})});o.POINTS=a.a.POINTS,o.LINES=a.a.LINES,o.LINE_LOOP=a.a.LINE_LOOP,o.LINE_STRIP=a.a.LINE_STRIP,o.TRIANGLES=a.a.TRIANGLES,o.TRIANGLE_STRIP=a.a.TRIANGLE_STRIP,o.TRIANGLE_FAN=a.a.TRIANGLE_FAN,o.BACK=a.a.BACK,o.FRONT=a.a.FRONT,o.FRONT_AND_BACK=a.a.FRONT_AND_BACK,o.CW=a.a.CW,o.CCW=a.a.CCW,e.a=o},function(t,e,n){"use strict";var r={isPowerOfTwo:function(t){return 0==(t&t-1)},nextPowerOfTwo:function(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t},nearestPowerOfTwo:function(t){return Math.pow(2,Math.round(Math.log(t)/Math.LN2))}};e.a=r},function(t,e,n){"use strict";var r,i,a,o,s=n(3),u=n(21),l=n(12),c=n(33),h=function(t,e){this.normal=t||new s.a(0,1,0),this.distance=e||0};h.prototype={constructor:h,distanceToPoint:function(t){return l.a.dot(t.array,this.normal.array)-this.distance},projectPoint:function(t,e){e||(e=new s.a);var n=this.distanceToPoint(t);return l.a.scaleAndAdd(e.array,t.array,this.normal.array,-n),e._dirty=!0,e},normalize:function(){var t=1/l.a.len(this.normal.array);l.a.scale(this.normal.array,t),this.distance*=t},intersectFrustum:function(t){for(var e=t.vertices,n=this.normal.array,r=l.a.dot(e[0].array,n)>this.distance,i=1;i<8;i++)if(l.a.dot(e[i].array,n)>this.distance!=r)return!0},intersectLine:(o=l.a.create(),function(t,e,n){var r=this.distanceToPoint(t),i=this.distanceToPoint(e);if(r>0&&i>0||r<0&&i<0)return null;var a=this.normal.array,u=this.distance,c=t.array;l.a.sub(o,e.array,t.array),l.a.normalize(o,o);var h=l.a.dot(a,o);if(0===h)return null;n||(n=new s.a);var f=(l.a.dot(a,c)-u)/h;return l.a.scaleAndAdd(n.array,c,o,-f),n._dirty=!0,n}),applyTransform:(r=u.a.create(),i=c.a.create(),a=c.a.create(),a[3]=1,function(t){t=t.array,l.a.scale(a,this.normal.array,this.distance),c.a.transformMat4(a,a,t),this.distance=l.a.dot(a,this.normal.array),u.a.invert(r,t),u.a.transpose(r,r),i[3]=0,l.a.copy(i,this.normal.array),c.a.transformMat4(i,i,r),l.a.copy(this.normal.array,i)}),copy:function(t){l.a.copy(this.normal.array,t.normal.array),this.normal._dirty=!0,this.distance=t.distance},clone:function(){var t=new h;return t.copy(this),t}},e.a=h},function(t,e,n){"use strict";var r=n(42);e.a=r.a},function(t,e,n){"use strict";var r=n(15),i=n(43),a=n(9),o=n(3),s=n(18),u=n(14),l=new a.a,c=r.a.extend({dynamic:!1,widthSegments:1,heightSegments:1,depthSegments:1,inside:!1},(function(){this.build()}),{build:function(){var t={px:h("px",this.depthSegments,this.heightSegments),nx:h("nx",this.depthSegments,this.heightSegments),py:h("py",this.widthSegments,this.depthSegments),ny:h("ny",this.widthSegments,this.depthSegments),pz:h("pz",this.widthSegments,this.heightSegments),nz:h("nz",this.widthSegments,this.heightSegments)},e=["position","texcoord0","normal"],n=0,r=0;for(var i in t)n+=t[i].vertexCount,r+=t[i].indices.length;for(var a=0;a<e.length;a++)this.attributes[e[a]].init(n);this.indices=new u.a.Uint16Array(r);var o=0,l=0;for(var i in t){var c=t[i];for(a=0;a<e.length;a++)for(var f=e[a],d=c.attributes[f].value,p=c.attributes[f].size,m="normal"===f,g=0;g<d.length;g++){var _=d[g];this.inside&&m&&(_=-_),this.attributes[f].value[g+p*l]=_}var v=c.indices.length;for(g=0;g<c.indices.length;g++)this.indices[g+o]=l+c.indices[this.inside?v-g-1:g];o+=c.indices.length,l+=c.vertexCount}this.boundingBox=new s.a,this.boundingBox.max.set(1,1,1),this.boundingBox.min.set(-1,-1,-1)}});function h(t,e,n){l.identity();var r=new i.a({widthSegments:e,heightSegments:n});switch(t){case"px":a.a.translate(l,l,o.a.POSITIVE_X),a.a.rotateY(l,l,Math.PI/2);break;case"nx":a.a.translate(l,l,o.a.NEGATIVE_X),a.a.rotateY(l,l,-Math.PI/2);break;case"py":a.a.translate(l,l,o.a.POSITIVE_Y),a.a.rotateX(l,l,-Math.PI/2);break;case"ny":a.a.translate(l,l,o.a.NEGATIVE_Y),a.a.rotateX(l,l,Math.PI/2);break;case"pz":a.a.translate(l,l,o.a.POSITIVE_Z);break;case"nz":a.a.translate(l,l,o.a.NEGATIVE_Z),a.a.rotateY(l,l,Math.PI)}return r.applyTransform(l),r}e.a=c},function(t,e,n){"use strict";var r=n(5),i=n(27),a=n(4),o=n(10),s=n(16),u=n(19),l=n(8),c=n(42),h=n(36),f=n(62),d=n(14),p=n(61),m=n(127),g=n(128),_={},v=["px","nx","py","ny","pz","nz"];_.prefilterEnvironmentMap=function(t,e,n,s,m){m&&s||(s=_.generateNormalDistribution(),m=_.integrateBRDF(t,s));var y=(n=n||{}).width||64,b=n.height||64,x=n.type||e.type,w=new i.a({width:y,height:b,type:x,flipY:!1,mipmaps:[]});w.isPowerOfTwo()||console.warn("Width and height must be power of two to enable mipmap.");var T=Math.min(y,b),S=Math.log(T)/Math.log(2)+1,E=new u.a({shader:new l.a({vertex:l.a.source("clay.skybox.vertex"),fragment:g.a})});E.set("normalDistribution",s),n.encodeRGBM&&E.define("fragment","RGBM_ENCODE"),n.decodeRGBM&&E.define("fragment","RGBM_DECODE");var C,A=new h.a;if("texture2D"===e.textureType){var M=new i.a({width:y,height:b,type:x===a.a.FLOAT?a.a.HALF_FLOAT:x});p.a.panoramaToCubeMap(t,e,M,{encodeRGBM:n.decodeRGBM}),e=M}(C=new c.a({scene:A,material:E})).material.set("environmentMap",e);var O=new f.a({texture:w});n.encodeRGBM&&(x=w.type=a.a.UNSIGNED_BYTE);for(var D=new r.a({width:y,height:b,type:x}),N=new o.a({depthBuffer:!1}),I=d.a[x===a.a.UNSIGNED_BYTE?"Uint8Array":"Float32Array"],P=0;P<S;P++){w.mipmaps[P]={pixels:{}},C.material.set("roughness",P/(S-1));for(var L=D.width,R=2*Math.atan(L/(L-.5))/Math.PI*180,k=0;k<v.length;k++){var B=new I(D.width*D.height*4);N.attach(D),N.bind(t);var F=O.getCamera(v[k]);F.fov=R,t.render(A,F),t.gl.readPixels(0,0,D.width,D.height,a.a.RGBA,x,B),N.unbind(t),w.mipmaps[P].pixels[v[k]]=B}D.width/=2,D.height/=2,D.dirty()}return N.dispose(t),D.dispose(t),C.dispose(t),s.dispose(t),{environmentMap:w,brdfLookup:m,normalDistribution:s,maxMipmapLevel:S}},_.integrateBRDF=function(t,e){e=e||_.generateNormalDistribution();var n=new o.a({depthBuffer:!1}),i=new s.a({fragment:m.a}),u=new r.a({width:512,height:256,type:a.a.HALF_FLOAT,wrapS:a.a.CLAMP_TO_EDGE,wrapT:a.a.CLAMP_TO_EDGE,minFilter:a.a.NEAREST,magFilter:a.a.NEAREST,useMipmap:!1});return i.setUniform("normalDistribution",e),i.setUniform("viewportSize",[512,256]),i.attachOutput(u),i.render(t,n),n.dispose(t),u},_.generateNormalDistribution=function(t,e){t=t||256,e=e||1024;for(var n=new r.a({width:t,height:e,type:a.a.FLOAT,minFilter:a.a.NEAREST,magFilter:a.a.NEAREST,wrapS:a.a.CLAMP_TO_EDGE,wrapT:a.a.CLAMP_TO_EDGE,useMipmap:!1}),i=new Float32Array(e*t*4),o=[],s=0;s<t;s++){for(var u=s/t,l=u*u,c=0;c<e;c++){var h=(c<<16|c>>>16)>>>0;h=(((16711935&(h=((252645135&(h=((858993459&(h=((1431655765&h)<<1|(2863311530&h)>>>1)>>>0))<<2|(3435973836&h)>>>2)>>>0))<<4|(4042322160&h)>>>4)>>>0))<<8|(4278255360&h)>>>8)>>>0)/4294967296;var f=Math.sqrt((1-h)/(1+(l*l-1)*h));o[c]=f}for(c=0;c<e;c++){var d=4*(c*t+s),p=(f=o[c],Math.sqrt(1-f*f)),m=c/e,g=2*Math.PI*m;i[d]=p*Math.cos(g),i[d+1]=f,i[d+2]=p*Math.sin(g),i[d+3]=1}}return n.pixels=i,n},e.a=_},function(t,e,n){"use strict";var r=n(20),i={create:function(){var t=new r.a(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},clone:function(t){var e=new r.a(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},transpose:function(t,e){if(t===e){var n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t},invert:function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n*a-i*r;return o?(o=1/o,t[0]=a*o,t[1]=-r*o,t[2]=-i*o,t[3]=n*o,t):null},adjoint:function(t,e){var n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t},determinant:function(t){return t[0]*t[3]-t[2]*t[1]},multiply:function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=n[0],u=n[1],l=n[2],c=n[3];return t[0]=r*s+a*u,t[1]=i*s+o*u,t[2]=r*l+a*c,t[3]=i*l+o*c,t}};i.mul=i.multiply,i.rotate=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+a*s,t[1]=i*u+o*s,t[2]=r*-s+a*u,t[3]=i*-s+o*u,t},i.scale=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=n[0],u=n[1];return t[0]=r*s,t[1]=i*s,t[2]=a*u,t[3]=o*u,t},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},i.LDU=function(t,e,n,r){return t[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-t[2]*n[1],[t,e,n]},e.a=i},function(t,e,n){"use strict";var r=n(20),i={create:function(){var t=new r.a(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},clone:function(t){var e=new r.a(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},invert:function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=n*a-r*i;return u?(u=1/u,t[0]=a*u,t[1]=-r*u,t[2]=-i*u,t[3]=n*u,t[4]=(i*s-a*o)*u,t[5]=(r*o-n*s)*u,t):null},determinant:function(t){return t[0]*t[3]-t[1]*t[2]},multiply:function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=n[0],c=n[1],h=n[2],f=n[3],d=n[4],p=n[5];return t[0]=r*l+a*c,t[1]=i*l+o*c,t[2]=r*h+a*f,t[3]=i*h+o*f,t[4]=r*d+a*p+s,t[5]=i*d+o*p+u,t}};i.mul=i.multiply,i.rotate=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=Math.sin(n),c=Math.cos(n);return t[0]=r*c+a*l,t[1]=i*c+o*l,t[2]=r*-l+a*c,t[3]=i*-l+o*c,t[4]=s,t[5]=u,t},i.scale=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=n[0],c=n[1];return t[0]=r*l,t[1]=i*l,t[2]=a*c,t[3]=o*c,t[4]=s,t[5]=u,t},i.translate=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=n[0],c=n[1];return t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=r*l+a*c+s,t[5]=i*l+o*c+u,t},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},e.a=i},function(t,e){var n="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){setTimeout(t,16)};t.exports=n},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(5);function o(t,e,n,r,i,a,o){this._zr=t,this._x=0,this._y=0,this._rowHeight=0,this.width=r,this.height=i,this.offsetX=e,this.offsetY=n,this.dpr=o,this.gap=a}function s(t){(t=t||{}).width=t.width||512,t.height=t.height||512,t.devicePixelRatio=t.devicePixelRatio||1,t.gap=null==t.gap?2:t.gap;var e=document.createElement("canvas");e.width=t.width*t.devicePixelRatio,e.height=t.height*t.devicePixelRatio,this._canvas=e,this._texture=new a.a({image:e,flipY:!1});var n=this;this._zr=i.a.zrender.init(e);var r=this._zr.refreshImmediately;this._zr.refreshImmediately=function(){r.call(this),n._texture.dirty(),n.onupdate&&n.onupdate()},this._dpr=t.devicePixelRatio,this._coords={},this.onupdate=t.onupdate,this._gap=t.gap,this._textureAtlasNodes=[new o(this._zr,0,0,t.width,t.height,this._gap,this._dpr)],this._nodeWidth=t.width,this._nodeHeight=t.height,this._currentNodeIdx=0}o.prototype={constructor:o,clear:function(){this._x=0,this._y=0,this._rowHeight=0},add:function(t,e,n){var r=t.getBoundingRect();null==e&&(e=r.width),null==n&&(n=r.height),e*=this.dpr,n*=this.dpr,this._fitElement(t,e,n);var i=this._x,a=this._y,o=this.width*this.dpr,s=this.height*this.dpr,u=this.gap;if(i+e+u>o&&(i=this._x=0,a+=this._rowHeight+u,this._y=a,this._rowHeight=0),this._x+=e+u,this._rowHeight=Math.max(this._rowHeight,n),a+n+u>s)return null;t.position[0]+=this.offsetX*this.dpr+i,t.position[1]+=this.offsetY*this.dpr+a,this._zr.add(t);var l=[this.offsetX/this.width,this.offsetY/this.height];return[[i/o+l[0],a/s+l[1]],[(i+e)/o+l[0],(a+n)/s+l[1]]]},_fitElement:function(t,e,n){var r=t.getBoundingRect(),i=e/r.width,a=n/r.height;t.position=[-r.x*i,-r.y*a],t.scale=[i,a],t.update()}},s.prototype={clear:function(){for(var t=0;t<this._textureAtlasNodes.length;t++)this._textureAtlasNodes[t].clear();this._currentNodeIdx=0,this._zr.clear(),this._coords={}},getWidth:function(){return this._width},getHeight:function(){return this._height},getTexture:function(){return this._texture},getDevicePixelRatio:function(){return this._dpr},getZr:function(){return this._zr},_getCurrentNode:function(){return this._textureAtlasNodes[this._currentNodeIdx]},_expand:function(){if(this._currentNodeIdx++,this._textureAtlasNodes[this._currentNodeIdx])return this._textureAtlasNodes[this._currentNodeIdx];var t=4096/this._dpr,e=this._textureAtlasNodes.length,n=e*this._nodeWidth%t,r=Math.floor(e*this._nodeWidth/t)*this._nodeHeight;if(!(r>=t)){var i=(n+this._nodeWidth)*this._dpr,a=(r+this._nodeHeight)*this._dpr;try{this._zr.resize({width:i,height:a})}catch(t){this._canvas.width=i,this._canvas.height=a}var s=new o(this._zr,n,r,this._nodeWidth,this._nodeHeight,this._gap,this._dpr);return this._textureAtlasNodes.push(s),s}console.error("Too much labels. Some will be ignored.")},add:function(t,e,n){if(this._coords[t.id])return console.warn("Element already been add"),this._coords[t.id];var r=this._getCurrentNode().add(t,e,n);if(!r){var i=this._expand();if(!i)return;r=i.add(t,e,n)}return this._coords[t.id]=r,r},getCoordsScale:function(){var t=this._dpr;return[this._nodeWidth/this._canvas.width*t,this._nodeHeight/this._canvas.height*t]},getCoords:function(t){return this._coords[t]}},e.a=s},function(t,e,n){var r,i,a,o,s=n(83),u=n(84),l=s.applyTransform,c=Math.min,h=Math.max;function f(t,e,n,r){n<0&&(t+=n,n=-n),r<0&&(e+=r,r=-r),this.x=t,this.y=e,this.width=n,this.height=r}f.prototype={constructor:f,union:function(t){var e=c(t.x,this.x),n=c(t.y,this.y);this.width=h(t.x+t.width,this.x+this.width)-e,this.height=h(t.y+t.height,this.y+this.height)-n,this.x=e,this.y=n},applyTransform:(r=[],i=[],a=[],o=[],function(t){if(t){r[0]=a[0]=this.x,r[1]=o[1]=this.y,i[0]=o[0]=this.x+this.width,i[1]=a[1]=this.y+this.height,l(r,r,t),l(i,i,t),l(a,a,t),l(o,o,t),this.x=c(r[0],i[0],a[0],o[0]),this.y=c(r[1],i[1],a[1],o[1]);var e=h(r[0],i[0],a[0],o[0]),n=h(r[1],i[1],a[1],o[1]);this.width=e-this.x,this.height=n-this.y}}),calculateTransform:function(t){var e=this,n=t.width/e.width,r=t.height/e.height,i=u.create();return u.translate(i,i,[-e.x,-e.y]),u.scale(i,i,[n,r]),u.translate(i,i,[t.x,t.y]),i},intersect:function(t){if(!t)return!1;t instanceof f||(t=f.create(t));var e=this,n=e.x,r=e.x+e.width,i=e.y,a=e.y+e.height,o=t.x,s=t.x+t.width,u=t.y,l=t.y+t.height;return!(r<o||s<n||a<u||l<i)},contain:function(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height},clone:function(){return new f(this.x,this.y,this.width,this.height)},copy:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},f.create=function(t){return new f(t.x,t.y,t.width,t.height)};var d=f;t.exports=d},function(t,e){var n="undefined"==typeof Float32Array?Array:Float32Array;function r(t){return Math.sqrt(a(t))}var i=r;function a(t){return t[0]*t[0]+t[1]*t[1]}var o=a;function s(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var u=s;function l(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}var c=l;e.create=function(t,e){var r=new n(2);return null==t&&(t=0),null==e&&(e=0),r[0]=t,r[1]=e,r},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},e.clone=function(t){var e=new n(2);return e[0]=t[0],e[1]=t[1],e},e.set=function(t,e,n){return t[0]=e,t[1]=n,t},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},e.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t},e.sub=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t},e.len=r,e.length=i,e.lenSquare=a,e.lengthSquare=o,e.mul=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t},e.div=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t},e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},e.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},e.normalize=function(t,e){var n=r(e);return 0===n?(t[0]=0,t[1]=0):(t[0]=e[0]/n,t[1]=e[1]/n),t},e.distance=s,e.dist=u,e.distanceSquare=l,e.distSquare=c,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},e.lerp=function(t,e,n,r){return t[0]=e[0]+r*(n[0]-e[0]),t[1]=e[1]+r*(n[1]-e[1]),t},e.applyTransform=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t},e.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},e.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}},function(t,e){var n="undefined"==typeof Float32Array?Array:Float32Array;function r(){var t=new n(6);return i(t),t}function i(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function a(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}e.create=r,e.identity=i,e.copy=a,e.mul=function(t,e,n){var r=e[0]*n[0]+e[2]*n[1],i=e[1]*n[0]+e[3]*n[1],a=e[0]*n[2]+e[2]*n[3],o=e[1]*n[2]+e[3]*n[3],s=e[0]*n[4]+e[2]*n[5]+e[4],u=e[1]*n[4]+e[3]*n[5]+e[5];return t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=s,t[5]=u,t},e.translate=function(t,e,n){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+n[0],t[5]=e[5]+n[1],t},e.rotate=function(t,e,n){var r=e[0],i=e[2],a=e[4],o=e[1],s=e[3],u=e[5],l=Math.sin(n),c=Math.cos(n);return t[0]=r*c+o*l,t[1]=-r*l+o*c,t[2]=i*c+s*l,t[3]=-i*l+c*s,t[4]=c*a+l*u,t[5]=c*u-l*a,t},e.scale=function(t,e,n){var r=n[0],i=n[1];return t[0]=e[0]*r,t[1]=e[1]*i,t[2]=e[2]*r,t[3]=e[3]*i,t[4]=e[4]*r,t[5]=e[5]*i,t},e.invert=function(t,e){var n=e[0],r=e[2],i=e[4],a=e[1],o=e[3],s=e[5],u=n*o-a*r;return u?(u=1/u,t[0]=o*u,t[1]=-a*u,t[2]=-r*u,t[3]=n*u,t[4]=(r*s-o*i)*u,t[5]=(a*i-n*s)*u,t):null},e.clone=function(t){var e=r();return a(e,t),e}},function(t,e,n){var r=n(13),i=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function a(t){return Math.floor(Math.log(t)/Math.LN10)}e.linearMap=function(t,e,n,r){var i=e[1]-e[0],a=n[1]-n[0];if(0===i)return 0===a?n[0]:(n[0]+n[1])/2;if(r)if(i>0){if(t<=e[0])return n[0];if(t>=e[1])return n[1]}else{if(t>=e[0])return n[0];if(t<=e[1])return n[1]}else{if(t===e[0])return n[0];if(t===e[1])return n[1]}return(t-e[0])/i*a+n[0]},e.parsePercent=function(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%"}return"string"==typeof t?(n=t,n.replace(/^\s+/,"").replace(/\s+$/,"")).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):null==t?NaN:+t;var n},e.round=function(t,e,n){return null==e&&(e=10),e=Math.min(Math.max(0,e),20),t=(+t).toFixed(e),n?t:+t},e.asc=function(t){return t.sort((function(t,e){return t-e})),t},e.getPrecision=function(t){if(t=+t,isNaN(t))return 0;for(var e=1,n=0;Math.round(t*e)/e!==t;)e*=10,n++;return n},e.getPrecisionSafe=function(t){var e=t.toString(),n=e.indexOf("e");if(n>0){var r=+e.slice(n+1);return r<0?-r:0}var i=e.indexOf(".");return i<0?0:e.length-1-i},e.getPixelPrecision=function(t,e){var n=Math.log,r=Math.LN10,i=Math.floor(n(t[1]-t[0])/r),a=Math.round(n(Math.abs(e[1]-e[0]))/r),o=Math.min(Math.max(-i+a,0),20);return isFinite(o)?o:20},e.getPercentWithPrecision=function(t,e,n){if(!t[e])return 0;var i=r.reduce(t,(function(t,e){return t+(isNaN(e)?0:e)}),0);if(0===i)return 0;for(var a=Math.pow(10,n),o=r.map(t,(function(t){return(isNaN(t)?0:t)/i*a*100})),s=100*a,u=r.map(o,(function(t){return Math.floor(t)})),l=r.reduce(u,(function(t,e){return t+e}),0),c=r.map(o,(function(t,e){return t-u[e]}));l<s;){for(var h=Number.NEGATIVE_INFINITY,f=null,d=0,p=c.length;d<p;++d)c[d]>h&&(h=c[d],f=d);++u[f],c[f]=0,++l}return u[e]/a},e.MAX_SAFE_INTEGER=9007199254740991,e.remRadian=function(t){var e=2*Math.PI;return(t%e+e)%e},e.isRadianAroundZero=function(t){return t>-1e-4&&t<1e-4},e.parseDate=function(t){if(t instanceof Date)return t;if("string"==typeof t){var e=i.exec(t);if(!e)return new Date(NaN);if(e[8]){var n=+e[4]||0;return"Z"!==e[8].toUpperCase()&&(n-=e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,n,+(e[5]||0),+e[6]||0,+e[7]||0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,+e[7]||0)}return null==t?new Date(NaN):new Date(Math.round(t))},e.quantity=function(t){return Math.pow(10,a(t))},e.nice=function(t,e){var n=a(t),r=Math.pow(10,n),i=t/r;return t=(e?i<1.5?1:i<2.5?2:i<4?3:i<7?5:10:i<1?1:i<2?2:i<3?3:i<5?5:10)*r,n>=-20?+t.toFixed(n<0?-n:0):t},e.reformIntervals=function(t){t.sort((function(t,e){return function t(e,n,r){return e.interval[r]<n.interval[r]||e.interval[r]===n.interval[r]&&(e.close[r]-n.close[r]==(r?-1:1)||!r&&t(e,n,1))}(t,e,0)?-1:1}));for(var e=-1/0,n=1,r=0;r<t.length;){for(var i=t[r].interval,a=t[r].close,o=0;o<2;o++)i[o]<=e&&(i[o]=e,a[o]=o?1:1-n),e=i[o],n=a[o];i[0]===i[1]&&a[0]*a[1]!=1?t.splice(r,1):r++}return t},e.isNumeric=function(t){return t-parseFloat(t)>=0}},function(t,e,n){"use strict";var r=n(5),i=n(11),a=n(23),o=function(){this._pool={},this._allocatedTextures=[]};o.prototype={constructor:o,get:function(t){var e=l(t);this._pool.hasOwnProperty(e)||(this._pool[e]=[]);var n=this._pool[e];if(!n.length){var i=new r.a(t);return this._allocatedTextures.push(i),i}return n.pop()},put:function(t){var e=l(t);this._pool.hasOwnProperty(e)||(this._pool[e]=[]),this._pool[e].push(t)},clear:function(t){for(var e=0;e<this._allocatedTextures.length;e++)this._allocatedTextures[e].dispose(t);this._pool={},this._allocatedTextures=[]}};var s={width:512,height:512,type:i.a.UNSIGNED_BYTE,format:i.a.RGBA,wrapS:i.a.CLAMP_TO_EDGE,wrapT:i.a.CLAMP_TO_EDGE,minFilter:i.a.LINEAR_MIPMAP_LINEAR,magFilter:i.a.LINEAR,useMipmap:!0,anisotropic:1,flipY:!0,unpackAlignment:4,premultiplyAlpha:!1},u=Object.keys(s);function l(t){var e,n,r,o;a.a.defaultsWithPropList(t,s,u),n=(e=t).width,r=e.height,o=0==(n&n-1)&&0==(r&r-1),e.format===i.a.DEPTH_COMPONENT&&(e.useMipmap=!1),o&&e.useMipmap||(e.minFilter==i.a.NEAREST_MIPMAP_NEAREST||e.minFilter==i.a.NEAREST_MIPMAP_LINEAR?e.minFilter=i.a.NEAREST:e.minFilter!=i.a.LINEAR_MIPMAP_LINEAR&&e.minFilter!=i.a.LINEAR_MIPMAP_NEAREST||(e.minFilter=i.a.LINEAR)),o||(e.wrapS=i.a.CLAMP_TO_EDGE,e.wrapT=i.a.CLAMP_TO_EDGE);for(var l="",c=0;c<u.length;c++)l+=t[u[c]].toString();return l}e.a=o},function(t,e,n){"use strict";e.a="@export clay.compositor.kernel.gaussian_9\nfloat gaussianKernel[9];\ngaussianKernel[0] = 0.07;\ngaussianKernel[1] = 0.09;\ngaussianKernel[2] = 0.12;\ngaussianKernel[3] = 0.14;\ngaussianKernel[4] = 0.16;\ngaussianKernel[5] = 0.14;\ngaussianKernel[6] = 0.12;\ngaussianKernel[7] = 0.09;\ngaussianKernel[8] = 0.07;\n@end\n@export clay.compositor.kernel.gaussian_13\nfloat gaussianKernel[13];\ngaussianKernel[0] = 0.02;\ngaussianKernel[1] = 0.03;\ngaussianKernel[2] = 0.06;\ngaussianKernel[3] = 0.08;\ngaussianKernel[4] = 0.11;\ngaussianKernel[5] = 0.13;\ngaussianKernel[6] = 0.14;\ngaussianKernel[7] = 0.13;\ngaussianKernel[8] = 0.11;\ngaussianKernel[9] = 0.08;\ngaussianKernel[10] = 0.06;\ngaussianKernel[11] = 0.03;\ngaussianKernel[12] = 0.02;\n@end\n@export clay.compositor.gaussian_blur\n#define SHADER_NAME gaussian_blur\nuniform sampler2D texture;varying vec2 v_Texcoord;\nuniform float blurSize : 2.0;\nuniform vec2 textureSize : [512.0, 512.0];\nuniform float blurDir : 0.0;\n@import clay.util.rgbm\n@import clay.util.clamp_sample\nvoid main (void)\n{\n @import clay.compositor.kernel.gaussian_9\n vec2 off = blurSize / textureSize;\n off *= vec2(1.0 - blurDir, blurDir);\n vec4 sum = vec4(0.0);\n float weightAll = 0.0;\n for (int i = 0; i < 9; i++) {\n float w = gaussianKernel[i];\n vec4 texel = decodeHDR(clampSample(texture, v_Texcoord + float(i - 4) * off));\n sum += texel * w;\n weightAll += w;\n }\n gl_FragColor = encodeHDR(sum / max(weightAll, 0.01));\n}\n@end\n"},function(t,e,n){"use strict";e.a="\n@export clay.compositor.lut\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform sampler2D lookup;\nvoid main()\n{\n vec4 tex = texture2D(texture, v_Texcoord);\n float blueColor = tex.b * 63.0;\n vec2 quad1;\n quad1.y = floor(floor(blueColor) / 8.0);\n quad1.x = floor(blueColor) - (quad1.y * 8.0);\n vec2 quad2;\n quad2.y = floor(ceil(blueColor) / 8.0);\n quad2.x = ceil(blueColor) - (quad2.y * 8.0);\n vec2 texPos1;\n texPos1.x = (quad1.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.r);\n texPos1.y = (quad1.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.g);\n vec2 texPos2;\n texPos2.x = (quad2.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.r);\n texPos2.y = (quad2.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.g);\n vec4 newColor1 = texture2D(lookup, texPos1);\n vec4 newColor2 = texture2D(lookup, texPos2);\n vec4 newColor = mix(newColor1, newColor2, fract(blueColor));\n gl_FragColor = vec4(newColor.rgb, tex.w);\n}\n@end"},function(t,e,n){"use strict";e.a="@export clay.compositor.output\n#define OUTPUT_ALPHA\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\n@import clay.util.rgbm\nvoid main()\n{\n vec4 tex = decodeHDR(texture2D(texture, v_Texcoord));\n gl_FragColor.rgb = tex.rgb;\n#ifdef OUTPUT_ALPHA\n gl_FragColor.a = tex.a;\n#else\n gl_FragColor.a = 1.0;\n#endif\n gl_FragColor = encodeHDR(gl_FragColor);\n#ifdef PREMULTIPLY_ALPHA\n gl_FragColor.rgb *= gl_FragColor.a;\n#endif\n}\n@end"},function(t,e,n){"use strict";e.a="@export clay.compositor.bright\nuniform sampler2D texture;\nuniform float threshold : 1;\nuniform float scale : 1.0;\nuniform vec2 textureSize: [512, 512];\nvarying vec2 v_Texcoord;\nconst vec3 lumWeight = vec3(0.2125, 0.7154, 0.0721);\n@import clay.util.rgbm\nvec4 median(vec4 a, vec4 b, vec4 c)\n{\n return a + b + c - min(min(a, b), c) - max(max(a, b), c);\n}\nvoid main()\n{\n vec4 texel = decodeHDR(texture2D(texture, v_Texcoord));\n#ifdef ANTI_FLICKER\n vec3 d = 1.0 / textureSize.xyx * vec3(1.0, 1.0, 0.0);\n vec4 s1 = decodeHDR(texture2D(texture, v_Texcoord - d.xz));\n vec4 s2 = decodeHDR(texture2D(texture, v_Texcoord + d.xz));\n vec4 s3 = decodeHDR(texture2D(texture, v_Texcoord - d.zy));\n vec4 s4 = decodeHDR(texture2D(texture, v_Texcoord + d.zy));\n texel = median(median(texel, s1, s2), s3, s4);\n#endif\n float lum = dot(texel.rgb , lumWeight);\n vec4 color;\n if (lum > threshold && texel.a > 0.0)\n {\n color = vec4(texel.rgb * scale, texel.a * scale);\n }\n else\n {\n color = vec4(0.0);\n }\n gl_FragColor = encodeHDR(color);\n}\n@end\n"},function(t,e,n){"use strict";e.a="@export clay.compositor.downsample\nuniform sampler2D texture;\nuniform vec2 textureSize : [512, 512];\nvarying vec2 v_Texcoord;\n@import clay.util.rgbm\nfloat brightness(vec3 c)\n{\n return max(max(c.r, c.g), c.b);\n}\n@import clay.util.clamp_sample\nvoid main()\n{\n vec4 d = vec4(-1.0, -1.0, 1.0, 1.0) / textureSize.xyxy;\n#ifdef ANTI_FLICKER\n vec3 s1 = decodeHDR(clampSample(texture, v_Texcoord + d.xy)).rgb;\n vec3 s2 = decodeHDR(clampSample(texture, v_Texcoord + d.zy)).rgb;\n vec3 s3 = decodeHDR(clampSample(texture, v_Texcoord + d.xw)).rgb;\n vec3 s4 = decodeHDR(clampSample(texture, v_Texcoord + d.zw)).rgb;\n float s1w = 1.0 / (brightness(s1) + 1.0);\n float s2w = 1.0 / (brightness(s2) + 1.0);\n float s3w = 1.0 / (brightness(s3) + 1.0);\n float s4w = 1.0 / (brightness(s4) + 1.0);\n float oneDivideSum = 1.0 / (s1w + s2w + s3w + s4w);\n vec4 color = vec4(\n (s1 * s1w + s2 * s2w + s3 * s3w + s4 * s4w) * oneDivideSum,\n 1.0\n );\n#else\n vec4 color = decodeHDR(clampSample(texture, v_Texcoord + d.xy));\n color += decodeHDR(clampSample(texture, v_Texcoord + d.zy));\n color += decodeHDR(clampSample(texture, v_Texcoord + d.xw));\n color += decodeHDR(clampSample(texture, v_Texcoord + d.zw));\n color *= 0.25;\n#endif\n gl_FragColor = encodeHDR(color);\n}\n@end"},function(t,e,n){"use strict";e.a="\n@export clay.compositor.upsample\n#define HIGH_QUALITY\nuniform sampler2D texture;\nuniform vec2 textureSize : [512, 512];\nuniform float sampleScale: 0.5;\nvarying vec2 v_Texcoord;\n@import clay.util.rgbm\n@import clay.util.clamp_sample\nvoid main()\n{\n#ifdef HIGH_QUALITY\n vec4 d = vec4(1.0, 1.0, -1.0, 0.0) / textureSize.xyxy * sampleScale;\n vec4 s;\n s = decodeHDR(clampSample(texture, v_Texcoord - d.xy));\n s += decodeHDR(clampSample(texture, v_Texcoord - d.wy)) * 2.0;\n s += decodeHDR(clampSample(texture, v_Texcoord - d.zy));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.zw)) * 2.0;\n s += decodeHDR(clampSample(texture, v_Texcoord )) * 4.0;\n s += decodeHDR(clampSample(texture, v_Texcoord + d.xw)) * 2.0;\n s += decodeHDR(clampSample(texture, v_Texcoord + d.zy));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.wy)) * 2.0;\n s += decodeHDR(clampSample(texture, v_Texcoord + d.xy));\n gl_FragColor = encodeHDR(s / 16.0);\n#else\n vec4 d = vec4(-1.0, -1.0, +1.0, +1.0) / textureSize.xyxy;\n vec4 s;\n s = decodeHDR(clampSample(texture, v_Texcoord + d.xy));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.zy));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.xw));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.zw));\n gl_FragColor = encodeHDR(s / 4.0);\n#endif\n}\n@end"},function(t,e,n){"use strict";e.a="@export clay.compositor.hdr.composite\n#define TONEMAPPING\nuniform sampler2D texture;\n#ifdef BLOOM_ENABLED\nuniform sampler2D bloom;\n#endif\n#ifdef LENSFLARE_ENABLED\nuniform sampler2D lensflare;\nuniform sampler2D lensdirt;\n#endif\n#ifdef LUM_ENABLED\nuniform sampler2D lum;\n#endif\n#ifdef LUT_ENABLED\nuniform sampler2D lut;\n#endif\n#ifdef COLOR_CORRECTION\nuniform float brightness : 0.0;\nuniform float contrast : 1.0;\nuniform float saturation : 1.0;\n#endif\n#ifdef VIGNETTE\nuniform float vignetteDarkness: 1.0;\nuniform float vignetteOffset: 1.0;\n#endif\nuniform float exposure : 1.0;\nuniform float bloomIntensity : 0.25;\nuniform float lensflareIntensity : 1;\nvarying vec2 v_Texcoord;\n@import clay.util.srgb\nvec3 ACESToneMapping(vec3 color)\n{\n const float A = 2.51;\n const float B = 0.03;\n const float C = 2.43;\n const float D = 0.59;\n const float E = 0.14;\n return (color * (A * color + B)) / (color * (C * color + D) + E);\n}\nfloat eyeAdaption(float fLum)\n{\n return mix(0.2, fLum, 0.5);\n}\n#ifdef LUT_ENABLED\nvec3 lutTransform(vec3 color) {\n float blueColor = color.b * 63.0;\n vec2 quad1;\n quad1.y = floor(floor(blueColor) / 8.0);\n quad1.x = floor(blueColor) - (quad1.y * 8.0);\n vec2 quad2;\n quad2.y = floor(ceil(blueColor) / 8.0);\n quad2.x = ceil(blueColor) - (quad2.y * 8.0);\n vec2 texPos1;\n texPos1.x = (quad1.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.r);\n texPos1.y = (quad1.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.g);\n vec2 texPos2;\n texPos2.x = (quad2.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.r);\n texPos2.y = (quad2.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.g);\n vec4 newColor1 = texture2D(lut, texPos1);\n vec4 newColor2 = texture2D(lut, texPos2);\n vec4 newColor = mix(newColor1, newColor2, fract(blueColor));\n return newColor.rgb;\n}\n#endif\n@import clay.util.rgbm\nvoid main()\n{\n vec4 texel = vec4(0.0);\n vec4 originalTexel = vec4(0.0);\n#ifdef TEXTURE_ENABLED\n texel = decodeHDR(texture2D(texture, v_Texcoord));\n originalTexel = texel;\n#endif\n#ifdef BLOOM_ENABLED\n vec4 bloomTexel = decodeHDR(texture2D(bloom, v_Texcoord));\n texel.rgb += bloomTexel.rgb * bloomIntensity;\n texel.a += bloomTexel.a * bloomIntensity;\n#endif\n#ifdef LENSFLARE_ENABLED\n texel += decodeHDR(texture2D(lensflare, v_Texcoord)) * texture2D(lensdirt, v_Texcoord) * lensflareIntensity;\n#endif\n texel.a = min(texel.a, 1.0);\n#ifdef LUM_ENABLED\n float fLum = texture2D(lum, vec2(0.5, 0.5)).r;\n float adaptedLumDest = 3.0 / (max(0.1, 1.0 + 10.0*eyeAdaption(fLum)));\n float exposureBias = adaptedLumDest * exposure;\n#else\n float exposureBias = exposure;\n#endif\n#ifdef TONEMAPPING\n texel.rgb *= exposureBias;\n texel.rgb = ACESToneMapping(texel.rgb);\n#endif\n texel = linearTosRGB(texel);\n#ifdef LUT_ENABLED\n texel.rgb = lutTransform(clamp(texel.rgb,vec3(0.0),vec3(1.0)));\n#endif\n#ifdef COLOR_CORRECTION\n texel.rgb = clamp(texel.rgb + vec3(brightness), 0.0, 1.0);\n texel.rgb = clamp((texel.rgb - vec3(0.5))*contrast+vec3(0.5), 0.0, 1.0);\n float lum = dot(texel.rgb, vec3(0.2125, 0.7154, 0.0721));\n texel.rgb = mix(vec3(lum), texel.rgb, saturation);\n#endif\n#ifdef VIGNETTE\n vec2 uv = (v_Texcoord - vec2(0.5)) * vec2(vignetteOffset);\n texel.rgb = mix(texel.rgb, vec3(1.0 - vignetteDarkness), dot(uv, uv));\n#endif\n gl_FragColor = encodeHDR(texel);\n#ifdef DEBUG\n #if DEBUG == 1\n gl_FragColor = encodeHDR(decodeHDR(texture2D(texture, v_Texcoord)));\n #elif DEBUG == 2\n gl_FragColor = encodeHDR(decodeHDR(texture2D(bloom, v_Texcoord)) * bloomIntensity);\n #elif DEBUG == 3\n gl_FragColor = encodeHDR(decodeHDR(texture2D(lensflare, v_Texcoord) * lensflareIntensity));\n #endif\n#endif\n if (originalTexel.a <= 0.01 && gl_FragColor.a > 1e-5) {\n gl_FragColor.a = dot(gl_FragColor.rgb, vec3(0.2125, 0.7154, 0.0721));\n }\n#ifdef PREMULTIPLY_ALPHA\n gl_FragColor.rgb *= gl_FragColor.a;\n#endif\n}\n@end"},function(t,e,n){"use strict";e.a="@export clay.compositor.blend\n#define SHADER_NAME blend\n#ifdef TEXTURE1_ENABLED\nuniform sampler2D texture1;\nuniform float weight1 : 1.0;\n#endif\n#ifdef TEXTURE2_ENABLED\nuniform sampler2D texture2;\nuniform float weight2 : 1.0;\n#endif\n#ifdef TEXTURE3_ENABLED\nuniform sampler2D texture3;\nuniform float weight3 : 1.0;\n#endif\n#ifdef TEXTURE4_ENABLED\nuniform sampler2D texture4;\nuniform float weight4 : 1.0;\n#endif\n#ifdef TEXTURE5_ENABLED\nuniform sampler2D texture5;\nuniform float weight5 : 1.0;\n#endif\n#ifdef TEXTURE6_ENABLED\nuniform sampler2D texture6;\nuniform float weight6 : 1.0;\n#endif\nvarying vec2 v_Texcoord;\n@import clay.util.rgbm\nvoid main()\n{\n vec4 tex = vec4(0.0);\n#ifdef TEXTURE1_ENABLED\n tex += decodeHDR(texture2D(texture1, v_Texcoord)) * weight1;\n#endif\n#ifdef TEXTURE2_ENABLED\n tex += decodeHDR(texture2D(texture2, v_Texcoord)) * weight2;\n#endif\n#ifdef TEXTURE3_ENABLED\n tex += decodeHDR(texture2D(texture3, v_Texcoord)) * weight3;\n#endif\n#ifdef TEXTURE4_ENABLED\n tex += decodeHDR(texture2D(texture4, v_Texcoord)) * weight4;\n#endif\n#ifdef TEXTURE5_ENABLED\n tex += decodeHDR(texture2D(texture5, v_Texcoord)) * weight5;\n#endif\n#ifdef TEXTURE6_ENABLED\n tex += decodeHDR(texture2D(texture6, v_Texcoord)) * weight6;\n#endif\n gl_FragColor = encodeHDR(tex);\n}\n@end"},function(t,e,n){"use strict";e.a="@export clay.compositor.fxaa\nuniform sampler2D texture;\nuniform vec4 viewport : VIEWPORT;\nvarying vec2 v_Texcoord;\n#define FXAA_REDUCE_MIN (1.0/128.0)\n#define FXAA_REDUCE_MUL (1.0/8.0)\n#define FXAA_SPAN_MAX 8.0\n@import clay.util.rgbm\nvoid main()\n{\n vec2 resolution = 1.0 / viewport.zw;\n vec3 rgbNW = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( -1.0, -1.0 ) ) * resolution ) ).xyz;\n vec3 rgbNE = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( 1.0, -1.0 ) ) * resolution ) ).xyz;\n vec3 rgbSW = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( -1.0, 1.0 ) ) * resolution ) ).xyz;\n vec3 rgbSE = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( 1.0, 1.0 ) ) * resolution ) ).xyz;\n vec4 rgbaM = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution ) );\n vec3 rgbM = rgbaM.xyz;\n float opacity = rgbaM.w;\n vec3 luma = vec3( 0.299, 0.587, 0.114 );\n float lumaNW = dot( rgbNW, luma );\n float lumaNE = dot( rgbNE, luma );\n float lumaSW = dot( rgbSW, luma );\n float lumaSE = dot( rgbSE, luma );\n float lumaM = dot( rgbM, luma );\n float lumaMin = min( lumaM, min( min( lumaNW, lumaNE ), min( lumaSW, lumaSE ) ) );\n float lumaMax = max( lumaM, max( max( lumaNW, lumaNE) , max( lumaSW, lumaSE ) ) );\n vec2 dir;\n dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n dir.y = ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n float dirReduce = max( ( lumaNW + lumaNE + lumaSW + lumaSE ) * ( 0.25 * FXAA_REDUCE_MUL ), FXAA_REDUCE_MIN );\n float rcpDirMin = 1.0 / ( min( abs( dir.x ), abs( dir.y ) ) + dirReduce );\n dir = min( vec2( FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n max( vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n dir * rcpDirMin)) * resolution;\n vec3 rgbA = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * ( 1.0 / 3.0 - 0.5 ) ) ).xyz;\n rgbA += decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * ( 2.0 / 3.0 - 0.5 ) ) ).xyz;\n rgbA *= 0.5;\n vec3 rgbB = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * -0.5 ) ).xyz;\n rgbB += decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * 0.5 ) ).xyz;\n rgbB *= 0.25;\n rgbB += rgbA * 0.5;\n float lumaB = dot( rgbB, luma );\n if ( ( lumaB < lumaMin ) || ( lumaB > lumaMax ) )\n {\n gl_FragColor = vec4( rgbA, opacity );\n }\n else {\n gl_FragColor = vec4( rgbB, opacity );\n }\n}\n@end"},function(t,e,n){"use strict";var r=n(0),i=n.n(r);e.a={getFilledRegions:function(t,e){var n,r=(t||[]).slice();if("string"==typeof e?n=(e=i.a.getMap(e))&&e.geoJson:e&&e.features&&(n=e),!n)return console.error("Map "+e+" not exists. You can download map file on http://echarts.baidu.com/download-map.html"),n.features||console.error("Invalid GeoJSON for map3D"),[];for(var a={},o=n.features,s=0;s<r.length;s++)a[r[s].name]=r[s];for(s=0;s<o.length;s++){var u=o[s].properties.name;a[u]||r.push({name:u})}return r},defaultOption:{show:!0,zlevel:-10,map:"",left:0,top:0,width:"100%",height:"100%",boxWidth:100,boxHeight:10,boxDepth:"auto",regionHeight:3,environment:"auto",groundPlane:{show:!1,color:"#aaa"},shading:"lambert",light:{main:{alpha:40,beta:30}},viewControl:{alpha:40,beta:0,distance:100,orthographicSize:60,minAlpha:5,minBeta:-80,maxBeta:80},label:{show:!1,distance:2,textStyle:{fontSize:20,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:4}},itemStyle:{color:"#fff",borderWidth:0,borderColor:"#333"},emphasis:{itemStyle:{color:"#639fc0"},label:{show:!0}}}}},function(t,e,n){"use strict";function r(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function i(t,e,n,i,a){var o=n,s=t[e];r(t,e,i);for(var u=n;u<i;u++)a(t[u],s)<0&&(r(t,u,o),o++);return r(t,i,o),o}function a(t,e,n,r){if(n<r){var o=i(t,Math.floor((n+r)/2),n,r,e);a(t,e,n,o-1),a(t,e,o+1,r)}}function o(){this._parts=[]}o.prototype.step=function(t,e,n){var r=t.length;if(0===n){this._parts=[],this._sorted=!1;var o=Math.floor(r/2);this._parts.push({pivot:o,left:0,right:r-1}),this._currentSortPartIdx=0}if(!this._sorted){var s=this._parts;if(0===s.length)return this._sorted=!0,!0;if(s.length<512){for(var u=0;u<s.length;u++)s[u].pivot=i(t,s[u].pivot,s[u].left,s[u].right,e);var l=[];for(u=0;u<s.length;u++){var c,h=s[u].left;(c=s[u].pivot-1)>h&&l.push({pivot:Math.floor((c+h)/2),left:h,right:c}),h=s[u].pivot+1,(c=s[u].right)>h&&l.push({pivot:Math.floor((c+h)/2),left:h,right:c})}s=this._parts=l}else for(u=0;u<Math.floor(s.length/10);u++){var f=s.length-1-this._currentSortPartIdx;if(a(t,e,s[f].left,s[f].right),this._currentSortPartIdx++,this._currentSortPartIdx===s.length)return this._sorted=!0,!0}return!1}},o.sort=a,e.a=o},function(t,e,n){"use strict";var r=n(99),i=n(0),a=n.n(i),o=n(47),s=n.n(o),u=n(22),l=n(2);function c(t,e){var n=t.getBoxLayoutParams(),r=s.a.getLayoutRect(n,{width:e.getWidth(),height:e.getHeight()});r.y=e.getHeight()-r.y-r.height,this.viewGL.setViewport(r.x,r.y,r.width,r.height,e.getDevicePixelRatio());var i=this.getGeoBoundingRect(),a=i.width/i.height*(t.get("aspectScale")||.75),o=t.get("boxWidth"),u=t.get("boxDepth"),l=t.get("boxHeight");null==l&&(l=5),isNaN(o)&&isNaN(u)&&(o=100),isNaN(u)?u=o/a:isNaN(o)&&(o=u/a),this.setSize(o,l,u),this.regionHeight=t.get("regionHeight"),this.altitudeAxis&&this.altitudeAxis.setExtent(0,Math.max(l-this.regionHeight,0))}function h(t,e){var n=[1/0,-1/0];if(t.eachSeries((function(t){if(t.coordinateSystem===this&&"series.map3D"!==t.type){var e=t.getData(),r=t.coordDimToDataDim("alt"),i=r&&r[0];if(i){var a=e.getDataExtent(i,!0);n[0]=Math.min(n[0],a[0]),n[1]=Math.max(n[1],a[1])}}}),this),n&&isFinite(n[1]-n[0])){var r=a.a.helper.createScale(n,{type:"value",min:"dataMin",max:"dataMax"});this.altitudeAxis=new a.a.Axis("altitude",r),this.resize(this.model,e)}}var f=function(t){console.error("Map "+t+" not exists. You can download map file on http://echarts.baidu.com/download-map.html")},d=0,p={dimensions:r.a.prototype.dimensions,create:function(t,e){var n=[];if(!a.a.getMap)throw new Error("geo3D component depends on geo component");function r(t,r){var i=p.createGeo3D(t);t.__viewGL=t.__viewGL||new u.a,i.viewGL=t.__viewGL,t.coordinateSystem=i,i.model=t,n.push(i),i.resize=c,i.resize(t,e),i.update=h}return t.eachComponent("geo3D",(function(t,e){r(t)})),t.eachSeriesByType("map3D",(function(t,e){var n=t.get("coordinateSystem");null==n&&(n="geo3D"),"geo3D"===n&&r(t)})),t.eachSeries((function(e){if("geo3D"===e.get("coordinateSystem")){if("series.map3D"===e.type)return;var n=e.getReferringComponents("geo3D")[0];if(n||(n=t.getComponent("geo3D")),!n)throw new Error('geo "'+l.a.firstNotNull(e.get("geo3DIndex"),e.get("geo3DId"),0)+'" not found');e.coordinateSystem=n.coordinateSystem}})),n},createGeo3D:function(t){var e,n=t.get("map");if("string"==typeof n?(e=n,n=a.a.getMap(n)):n&&n.features&&(n={geoJson:n}),n||f(n),!n.geoJson.features)throw new Error("Invalid GeoJSON for map3D");return null==e&&(e="GEO_ANONYMOUS_"+d++),new r.a(e+d++,e,n&&n.geoJson,n&&n.specialAreas,t.get("nameMap"))}};a.a.registerCoordinateSystem("geo3D",p),e.a=p},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(6),o=n(205),s=n.n(o),u=n(206),l=n.n(u),c=a.a.vec3,h=a.a.mat4,f=[s.a,l.a];function d(t,e,n,r,i){this.name=t,this.map=e,this.regionHeight=0,this.regions=[],this._nameCoordMap={},this.loadGeoJson(n,r,i),this.transform=h.identity(new Float64Array(16)),this.invTransform=h.identity(new Float64Array(16)),this.extrudeY=!0,this.altitudeAxis}d.prototype={constructor:d,type:"geo3D",dimensions:["lng","lat","alt"],containPoint:function(){},loadGeoJson:function(t,e,n){var r=i.a.parseGeoJSON||i.a.parseGeoJson;try{this.regions=t?r(t):[]}catch(t){throw"Invalid geoJson format\n"+t}e=e||{},n=n||{};for(var a=this.regions,o={},s=0;s<a.length;s++){var u=a[s].name;u=n[u]||u,a[s].name=u,o[u]=a[s],this.addGeoCoord(u,a[s].center);var l=e[u];l&&a[s].transformTo(l.left,l.top,l.width,l.height)}this._regionsMap=o,this._geoRect=null,f.forEach((function(t){t(this)}),this)},getGeoBoundingRect:function(){if(this._geoRect)return this._geoRect;for(var t,e=this.regions,n=0;n<e.length;n++){var r=e[n].getBoundingRect();(t=t||r.clone()).union(r)}return this._geoRect=t||new i.a.graphic.BoundingRect(0,0,0,0)},addGeoCoord:function(t,e){this._nameCoordMap[t]=e},getRegion:function(t){return this._regionsMap[t]},getRegionByCoord:function(t){for(var e=this.regions,n=0;n<e.length;n++)if(e[n].contain(t))return e[n]},setSize:function(t,e,n){this.size=[t,e,n];var r=this.getGeoBoundingRect(),i=t/r.width,a=-n/r.height,o=-t/2-r.x*i,s=n/2-r.y*a,u=this.extrudeY?[o,0,s]:[o,s,0],l=this.extrudeY?[i,1,a]:[i,a,1],c=this.transform;h.identity(c),h.translate(c,c,u),h.scale(c,c,l),h.invert(this.invTransform,c)},dataToPoint:function(t,e){e=e||[];var n=this.extrudeY?1:2,r=this.extrudeY?2:1,i=t[2];return isNaN(i)&&(i=0),e[0]=t[0],e[r]=t[1],this.altitudeAxis?e[n]=this.altitudeAxis.dataToCoord(i):e[n]=0,e[n]+=this.regionHeight,c.transformMat4(e,e,this.transform),e},pointToData:function(t,e){}},e.a=d},function(t,e,n){"use strict";var r=n(6).a.mat4,i=.6435011087932844,a=Math.PI;function o(){this.width=0,this.height=0,this.altitudeScale=1,this.boxHeight="auto",this.altitudeExtent,this.bearing=0,this.pitch=0,this.center=[0,0],this._origin,this.zoom=0,this._initialZoom,this.maxPitch=60,this.zoomOffset=0}o.prototype={constructor:o,dimensions:["lng","lat","alt"],containPoint:function(){},setCameraOption:function(t){this.bearing=t.bearing,this.pitch=t.pitch,this.center=t.center,this.zoom=t.zoom,this._origin||(this._origin=this.projectOnTileWithScale(this.center,512)),null==this._initialZoom&&(this._initialZoom=this.zoom),this.updateTransform()},updateTransform:function(){if(this.height){var t=.5/Math.tan(i/2)*this.height*.1,e=Math.max(Math.min(this.pitch,this.maxPitch),0)/180*Math.PI,n=Math.PI/2+e,a=Math.sin(.3217505543966422)*t/Math.sin(Math.PI-n-.3217505543966422),o=1.1*(Math.cos(Math.PI/2-e)*a+t);this.pitch>50&&(o=1e3);var s=[];r.perspective(s,i,this.width/this.height,1,o),this.viewGL.camera.projectionMatrix.setArray(s),this.viewGL.camera.decomposeProjectionMatrix(),s=r.identity([]);var u=this.dataToPoint(this.center);r.scale(s,s,[1,-1,1]),r.translate(s,s,[0,0,-t]),r.rotateX(s,s,e),r.rotateZ(s,s,-this.bearing/180*Math.PI),r.translate(s,s,[-u[0]*this.getScale()*.1,-u[1]*this.getScale()*.1,0]),this.viewGL.camera.viewMatrix.array=s;var l=[];r.invert(l,s),this.viewGL.camera.worldTransform.array=l,this.viewGL.camera.decomposeWorldTransform();var c,h=512*this.getScale();if(this.altitudeExtent&&!isNaN(this.boxHeight)){var f=this.altitudeExtent[1]-this.altitudeExtent[0];c=this.boxHeight/f*this.getScale()/Math.pow(2,this._initialZoom-this.zoomOffset)}else c=h/(2*Math.PI*6378e3*Math.abs(Math.cos(this.center[1]*(Math.PI/180))))*this.altitudeScale*.1;this.viewGL.rootNode.scale.set(.1*this.getScale(),.1*this.getScale(),c)}},getScale:function(){return Math.pow(2,this.zoom-this.zoomOffset)},projectOnTile:function(t,e){return this.projectOnTileWithScale(t,512*this.getScale(),e)},projectOnTileWithScale:function(t,e,n){var r=t[0],i=t[1]*a/180,o=e*(r*a/180+a)/(2*a),s=e*(a-Math.log(Math.tan(a/4+.5*i)))/(2*a);return(n=n||[])[0]=o,n[1]=s,n},unprojectFromTile:function(t,e){return this.unprojectOnTileWithScale(t,512*this.getScale(),e)},unprojectOnTileWithScale:function(t,e,n){var r=t[0],i=t[1],o=r/e*(2*a)-a,s=2*(Math.atan(Math.exp(a-i/e*(2*a)))-a/4);return(n=n||[])[0]=180*o/a,n[1]=180*s/a,n},dataToPoint:function(t,e){return(e=this.projectOnTileWithScale(t,512,e))[0]-=this._origin[0],e[1]-=this._origin[1],e[2]=isNaN(t[2])?0:t[2],isNaN(t[2])||(e[2]=t[2],this.altitudeExtent&&(e[2]-=this.altitudeExtent[0])),e}},e.a=o},function(t,e,n){"use strict";var r=n(2),i=n(1),a=n(22);e.a=function(t,e,n){function o(t,e){var n=e.getWidth(),r=e.getHeight(),i=e.getDevicePixelRatio();this.viewGL.setViewport(0,0,n,r,i),this.width=n,this.height=r,this.altitudeScale=t.get("altitudeScale"),this.boxHeight=t.get("boxHeight")}function s(t,e){if("auto"!==this.model.get("boxHeight")){var n=[1/0,-1/0];t.eachSeries((function(t){if(t.coordinateSystem===this){var e=t.getData(),r=t.coordDimToDataDim("alt")[0];if(r){var i=e.getDataExtent(r,!0);n[0]=Math.min(n[0],i[0]),n[1]=Math.max(n[1],i[1])}}}),this),n&&isFinite(n[1]-n[0])&&(this.altitudeExtent=n)}}return{dimensions:e.prototype.dimensions,create:function(u,l){var c=[];return u.eachComponent(t,(function(t){var n=t.__viewGL;n||(n=t.__viewGL=new a.a).setRootNode(new i.a.Node);var r=new e;r.viewGL=t.__viewGL,r.resize=o,r.resize(t,l),c.push(r),t.coordinateSystem=r,r.model=t,r.update=s})),u.eachSeries((function(e){if(e.get("coordinateSystem")===t){var n=e.getReferringComponents(t)[0];if(n||(n=u.getComponent(t)),!n)throw new Error(t+' "'+r.a.firstNotNull(e.get(t+"Index"),e.get(t+"Id"),0)+'" not found');e.coordinateSystem=n.coordinateSystem}})),n&&n(c,u,l),c}}}},function(t,e,n){"use strict";e.a="\n@export ecgl.displayShadow.vertex\n\n@import ecgl.common.transformUniforms\n\n@import ecgl.common.uv.header\n\n@import ecgl.common.attributes\n\nvarying vec3 v_WorldPosition;\n\nvarying vec3 v_Normal;\n\nvoid main()\n{\n @import ecgl.common.uv.main\n v_Normal = normalize((worldInverseTranspose * vec4(normal, 0.0)).xyz);\n\n v_WorldPosition = (world * vec4(position, 1.0)).xyz;\n gl_Position = worldViewProjection * vec4(position, 1.0);\n}\n\n@end\n\n\n@export ecgl.displayShadow.fragment\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform float roughness: 0.2;\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n@import clay.header.directional_light\n#endif\n\n@import ecgl.common.ssaoMap.header\n\n@import clay.plugin.compute_shadow_map\n\nvoid main()\n{\n float shadow = 1.0;\n\n @import ecgl.common.ssaoMap.main\n\n#if defined(DIRECTIONAL_LIGHT_COUNT) && defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\n if(shadowEnabled)\n {\n computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\n }\n for (int i = 0; i < DIRECTIONAL_LIGHT_COUNT; i++) {\n shadow = min(shadow, shadowContribsDir[i] * 0.5 + 0.5);\n }\n#endif\n\n shadow *= 0.5 + ao * 0.5;\n shadow = clamp(shadow, 0.0, 1.0);\n\n gl_FragColor = vec4(vec3(0.0), 1.0 - shadow);\n}\n\n@end"},function(t,e,n){"use strict";var r=n(84),i=n.n(r),a=n(83),o=n.n(a);function s(t){this.viewGL=t}s.prototype.reset=function(t,e){this._updateCamera(e.getWidth(),e.getHeight(),e.getDevicePixelRatio()),this._viewTransform=i.a.create(),this.updateTransform(t,e)},s.prototype.updateTransform=function(t,e){var n=t.coordinateSystem;n.getRoamTransform&&(i.a.invert(this._viewTransform,n.getRoamTransform()),this._setCameraTransform(this._viewTransform),e.getZr().refresh())},s.prototype.dataToPoint=function(t,e,n){n=t.dataToPoint(e,null,n);var r=this._viewTransform;r&&o.a.applyTransform(n,n,r)},s.prototype.removeTransformInPoint=function(t){return this._viewTransform&&o.a.applyTransform(t,t,this._viewTransform),t},s.prototype.getZoom=function(){if(this._viewTransform){var t=this._viewTransform;return 1/Math.max(Math.sqrt(t[0]*t[0]+t[1]*t[1]),Math.sqrt(t[2]*t[2]+t[3]*t[3]))}return 1},s.prototype._setCameraTransform=function(t){var e=this.viewGL.camera;e.position.set(t[4],t[5],0),e.scale.set(Math.sqrt(t[0]*t[0]+t[1]*t[1]),Math.sqrt(t[2]*t[2]+t[3]*t[3]),1)},s.prototype._updateCamera=function(t,e,n){this.viewGL.setViewport(0,0,t,e,n);var r=this.viewGL.camera;r.left=r.top=0,r.bottom=e,r.right=t,r.near=0,r.far=100},e.a=s},function(t,e,n){(function(t){var n;"undefined"!=typeof window?n=window.__DEV__:void 0!==t&&(n=t.__DEV__),void 0===n&&(n=!0);var r=n;e.__DEV__=r}).call(e,n(68))},function(t,e,n){"use strict";var r,i,a,o,s,u,l,c=n(15),h=n(0),f=n.n(h),d=n(38),p=n(6).a.vec2,m=[[0,0],[1,1]],g=c.a.extend((function(){return{segmentScale:4,dynamic:!0,useNativeLine:!0,attributes:{position:new c.a.Attribute("position","float",2,"POSITION"),normal:new c.a.Attribute("normal","float",2),offset:new c.a.Attribute("offset","float",1),color:new c.a.Attribute("color","float",4,"COLOR")}}}),{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0,this._itemVertexOffsets=[]},setVertexCount:function(t){var e=this.attributes;this.vertexCount!==t&&(e.position.init(t),e.color.init(t),this.useNativeLine||(e.offset.init(t),e.normal.init(t)),t>65535?this.indices instanceof Uint16Array&&(this.indices=new Uint32Array(this.indices)):this.indices instanceof Uint32Array&&(this.indices=new Uint16Array(this.indices)))},setTriangleCount:function(t){this.triangleCount!==t&&(this.indices=0===t?null:this.vertexCount>65535?new Uint32Array(3*t):new Uint16Array(3*t))},_getCubicCurveApproxStep:function(t,e,n,r){return 1/(p.dist(t,e)+p.dist(n,e)+p.dist(r,n)+1)*this.segmentScale},getCubicCurveVertexCount:function(t,e,n,r){var i=this._getCubicCurveApproxStep(t,e,n,r),a=Math.ceil(1/i);return this.useNativeLine?2*a:2*a+2},getCubicCurveTriangleCount:function(t,e,n,r){var i=this._getCubicCurveApproxStep(t,e,n,r),a=Math.ceil(1/i);return this.useNativeLine?0:2*a},getLineVertexCount:function(){return this.getPolylineVertexCount(m)},getLineTriangleCount:function(){return this.getPolylineTriangleCount(m)},getPolylineVertexCount:function(t){var e;return e="number"==typeof t?t:"number"!=typeof t[0]?t.length:t.length/2,this.useNativeLine?2*(e-1):2*(e-1)+2},getPolylineTriangleCount:function(t){var e;return e="number"==typeof t?t:"number"!=typeof t[0]?t.length:t.length/2,this.useNativeLine?0:2*(e-1)},addCubicCurve:function(t,e,n,r,i,a){null==a&&(a=1);var o=t[0],s=t[1],u=e[0],l=e[1],c=n[0],h=n[1],f=r[0],d=r[1],p=this._getCubicCurveApproxStep(t,e,n,r),m=p*p,g=m*p,_=3*p,v=3*m,y=6*m,b=6*g,x=o-2*u+c,w=s-2*l+h,T=3*(u-c)-o+f,S=3*(l-h)-s+d,E=o,C=s,A=(u-o)*_+x*v+T*g,M=(l-s)*_+w*v+S*g,O=x*y+T*b,D=w*y+S*b,N=T*b,I=S*b,P=0,L=0,R=Math.ceil(1/p),k=new Float32Array(3*(R+1)),B=(k=[],0);for(L=0;L<R+1;L++)k[B++]=E,k[B++]=C,E+=A,C+=M,A+=O,M+=D,O+=N,D+=I,(P+=p)>1&&(E=A>0?Math.min(E,f):Math.max(E,f),C=M>0?Math.min(C,d):Math.max(C,d));this.addPolyline(k,i,a)},addLine:function(t,e,n,r){this.addPolyline([t,e],n,r)},addPolyline:(r=p.create(),i=p.create(),a=p.create(),o=p.create(),s=[],u=[],l=[],function(t,e,n,c,h){if(t.length){var f="number"!=typeof t[0];if(null==h&&(h=f?t.length:t.length/2),!(h<2)){null==c&&(c=0),null==n&&(n=1),this._itemVertexOffsets.push(this._vertexOffset);for(var d,m=f?"number"!=typeof e[0]:e.length/4===h,g=this.attributes.position,_=this.attributes.color,v=this.attributes.offset,y=this.attributes.normal,b=this.indices,x=this._vertexOffset,w=0;w<h;w++){if(f)s=t[w+c],d=m?e[w+c]:e;else{var T=2*w+c;if((s=s||[])[0]=t[T],s[1]=t[T+1],m){var S=4*w+c;(d=d||[])[0]=e[S],d[1]=e[S+1],d[2]=e[S+2],d[3]=e[S+3]}else d=e}if(this.useNativeLine)w>1&&(g.copy(x,x-1),_.copy(x,x-1),x++);else{var E;if(w<h-1)if(f?p.copy(u,t[w+1]):(T=2*(w+1)+c,(u=u||[])[0]=t[T],u[1]=t[T+1]),w>0){p.sub(r,s,l),p.sub(i,u,s),p.normalize(r,r),p.normalize(i,i),p.add(o,r,i),p.normalize(o,o);var C=n/2*Math.min(1/p.dot(r,o),2);a[0]=-o[1],a[1]=o[0],E=C}else p.sub(r,u,s),p.normalize(r,r),a[0]=-r[1],a[1]=r[0],E=n/2;else p.sub(r,s,l),p.normalize(r,r),a[0]=-r[1],a[1]=r[0],E=n/2;y.set(x,a),y.set(x+1,a),v.set(x,E),v.set(x+1,-E),p.copy(l,s),g.set(x,s),g.set(x+1,s),_.set(x,d),_.set(x+1,d),x+=2}if(this.useNativeLine)_.set(x,d),g.set(x,s),x++;else if(w>0){var A=3*this._faceOffset;(b=this.indices)[A]=x-4,b[A+1]=x-3,b[A+2]=x-2,b[A+3]=x-3,b[A+4]=x-1,b[A+5]=x-2,this._faceOffset+=2}}this._vertexOffset=x}}}),setItemColor:function(t,e){for(var n=this._itemVertexOffsets[t],r=t<this._itemVertexOffsets.length-1?this._itemVertexOffsets[t+1]:this._vertexOffset,i=n;i<r;i++)this.attributes.color.set(i,e);this.dirty("color")}});f.a.util.defaults(g.prototype,d.a),e.a=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(107),n(154),n(201),n(207),n(213),n(219),n(225),n(232),n(236),n(243),n(249),n(252),n(256),n(259),n(262),n(275),n(281)},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(108),o=n(109),s=n(153),u=n(1),l={echarts:"4.1.0",claygl:"1.2.1"};function c(t,e){t.replace(".","")-0<l[e].replace(".","")-0&&function(t){throw new Error(t+" version is too old, needs "+l[t]+" or higher")}(e),console.log("Loaded "+e+", version "+t)}function h(t){this._layers={},this._zr=t}c(a.a,"claygl"),c(i.a.version,"echarts"),h.prototype.update=function(t,e){var n=this,r=e.getZr();if(r.getWidth()&&r.getHeight()){for(var a in this._layers)this._layers[a].removeViewsAll();t.eachComponent((function(n,r){if("series"!==n){var i=e.getViewOfComponentModel(r),a=r.coordinateSystem;if(i.__ecgl__){if(a){if(!a.viewGL)return void console.error("Can't find viewGL in coordinateSystem of component "+r.id);o=a.viewGL}else{if(!r.viewGL)return void console.error("Can't find viewGL of component "+r.id);o=a.viewGL}var o=a.viewGL,l=s(r);l.addView(o),i.afterRender&&i.afterRender(r,t,e,l),u(i.groupGL,r.get("silent"))}}})),t.eachSeries((function(n){var r=e.getViewOfSeriesModel(n),i=n.coordinateSystem;if(r.__ecgl__){if(i&&!i.viewGL&&!r.viewGL)return void console.error("Can't find viewGL of series "+r.id);var a=i&&i.viewGL||r.viewGL,o=s(n);o.addView(a),r.afterRender&&r.afterRender(n,t,e,o),u(r.groupGL,n.get("silent"))}}))}else console.warn("Dom has no width or height");function s(t){var e;t.coordinateSystem&&t.coordinateSystem.model,e=t.get("zlevel");var a=n._layers,s=a[e];if(!s){if(s=a[e]=new o.a("gl-"+e,r),r.painter.isSingleCanvas()){s.virtual=!0;var u=new i.a.graphic.Image({z:1e4,style:{image:s.renderer.canvas},silent:!0});s.__hostImage=u,r.add(u)}r.painter.insertLayer(e,s)}return s.__hostImage&&s.__hostImage.setStyle({width:s.renderer.getWidth(),height:s.renderer.getHeight()}),s}function u(t,e){t&&t.traverse((function(t){t.isRenderable&&t.isRenderable()&&(t.ignorePicking=null!=t.$ignorePicking?t.$ignorePicking:e)}))}};var f=i.a.init;i.a.init=function(){var t=f.apply(this,arguments);return t.getZr().painter.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas)return this._layers[0].dom;var e=document.createElement("canvas"),n=t.pixelRatio||this.dpr;e.width=this.getWidth()*n,e.height=this.getHeight()*n;var r=e.getContext("2d");r.dpr=n,r.clearRect(0,0,e.width,e.height),t.backgroundColor&&(r.fillStyle=t.backgroundColor,r.fillRect(0,0,e.width,e.height));var i,a=this.storage.getDisplayList(!0),o={},s=this;function u(t,e){var n,i=s._zlevelList;null==t&&(t=-1/0);for(var a=0;a<i.length;a++){var o=i[a],u=s._layers[o];if(!u.__builtin__&&o>t&&o<e){n=u;break}}n&&n.renderToCanvas&&(r.save(),n.renderToCanvas(r),r.restore())}for(var l={ctx:r},c=0;c<a.length;c++){var h=a[c];h.zlevel!==i&&(u(i,h.zlevel),i=h.zlevel),this._doPaintEl(h,l,!0,o)}return u(i,1/0),e},t},i.a.registerPostUpdate((function(t,e){var n=e.getZr();(n.__egl=n.__egl||new h(n)).update(t,e)})),i.a.registerPreprocessor(s.a),i.a.graphicGL=u.a},function(t,e,n){"use strict";e.a="1.2.1"},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(52),o=n(117),s=n(4),u=n(1),l=n(53),c=n(80),h=n.n(c),f=function(t,e){this.id=t,this.zr=e;try{this.renderer=new a.a({clearBit:0,devicePixelRatio:e.painter.dpr,preserveDrawingBuffer:!0,premultipliedAlpha:!0}),this.renderer.resize(e.painter.getWidth(),e.painter.getHeight())}catch(t){return this.renderer=null,this.dom=document.createElement("div"),this.dom.style.cssText="position:absolute; left: 0; top: 0; right: 0; bottom: 0;",this.dom.className="ecgl-nowebgl",this.dom.innerHTML="Sorry, your browser does not support WebGL",void console.error(t)}this.onglobalout=this.onglobalout.bind(this),e.on("globalout",this.onglobalout),this.dom=this.renderer.canvas;var n=this.dom.style;n.position="absolute",n.left="0",n.top="0",this.views=[],this._picking=new o.a({renderer:this.renderer}),this._viewsToDispose=[],this._accumulatingId=0,this._zrEventProxy=new i.a.graphic.Rect({shape:{x:-1,y:-1,width:2,height:2},__isGLToZRProxy:!0}),this._backgroundColor=null};function d(t){var e=t.__zr;t.__zr=null,e&&t.removeAnimatorsFromZr&&t.removeAnimatorsFromZr(e)}f.prototype.addView=function(t){if(t.layer!==this){var e=this._viewsToDispose.indexOf(t);e>=0&&this._viewsToDispose.splice(e,1),this.views.push(t),t.layer=this;var n=this.zr;t.scene.traverse((function(t){t.__zr=n,t.addAnimatorsToZr&&t.addAnimatorsToZr(n)}))}},f.prototype.removeView=function(t){if(t.layer===this){var e=this.views.indexOf(t);e>=0&&(this.views.splice(e,1),t.scene.traverse(d,this),t.layer=null,this._viewsToDispose.push(t))}},f.prototype.removeViewsAll=function(){this.views.forEach((function(t){t.scene.traverse(d,this),t.layer=null,this._viewsToDispose.push(t)}),this),this.views.length=0},f.prototype.resize=function(t,e){this.renderer.resize(t,e)},f.prototype.clear=function(){var t=this.renderer.gl,e=this._backgroundColor||[0,0,0,0];t.clearColor(e[0],e[1],e[2],e[3]),t.depthMask(!0),t.colorMask(!0,!0,!0,!0),t.clear(t.DEPTH_BUFFER_BIT|t.COLOR_BUFFER_BIT)},f.prototype.clearDepth=function(){var t=this.renderer.gl;t.clear(t.DEPTH_BUFFER_BIT)},f.prototype.clearColor=function(){var t=this.renderer.gl;t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT)},f.prototype.needsRefresh=function(){this.zr.refresh()},f.prototype.refresh=function(t){this._backgroundColor=t?u.a.parseColor(t):[0,0,0,0],this.renderer.clearColor=this._backgroundColor;for(var e=0;e<this.views.length;e++)this.views[e].prepareRender(this.renderer);for(this._doRender(!1),this._trackAndClean(),e=0;e<this._viewsToDispose.length;e++)this._viewsToDispose[e].dispose(this.renderer);this._viewsToDispose.length=0,this._startAccumulating()},f.prototype.renderToCanvas=function(t){this._startAccumulating(!0),t.drawImage(this.dom,0,0,t.canvas.width,t.canvas.height)},f.prototype._doRender=function(t){this.clear(),this.renderer.saveViewport();for(var e=0;e<this.views.length;e++)this.views[e].render(this.renderer,t);this.renderer.restoreViewport()},f.prototype._stopAccumulating=function(){this._accumulatingId=0,clearTimeout(this._accumulatingTimeout)};var p=1;function m(t){for(var e=0;e<t.length;e++)t[e].__used__=0}function g(t,e){for(var n=0;n<e.length;n++)e[n].__used__||e[n].dispose(t)}function _(t,e){t.__used__=t.__used__||0,t.__used__++,1===t.__used__&&e.push(t)}function v(t,e,n){var r,i;t.traverse((function(t){if(t.isRenderable()){var a=t.geometry,o=t.material;if(o!==r)for(var u=o.getTextureUniforms(),l=0;l<u.length;l++){var c=u[l],h=o.uniforms[c].value;if(h)if(h instanceof s.a)_(h,e);else if(h instanceof Array)for(var f=0;f<h.length;f++)h[f]instanceof s.a&&_(h[f],e)}a!==i&&_(a,n),r=o,i=a}}));for(var a=0;a<t.lights.length;a++)t.lights[a].cubemap&&_(t.lights[a].cubemap,e)}f.prototype._startAccumulating=function(t){var e=this;this._stopAccumulating();for(var n=!1,r=0;r<this.views.length;r++)n=this.views[r].needsAccumulate()||n;function i(r){if(e._accumulatingId&&r===e._accumulatingId){for(var a=!0,o=0;o<e.views.length;o++)a=e.views[o].isAccumulateFinished()&&n;a||(e._doRender(!0),t?i(r):h()((function(){i(r)})))}}n&&(this._accumulatingId=p++,t?i(e._accumulatingId):this._accumulatingTimeout=setTimeout((function(){i(e._accumulatingId)}),50))},f.prototype._trackAndClean=function(){var t=[],e=[];this._textureList&&(m(this._textureList),m(this._geometriesList));for(var n=0;n<this.views.length;n++)v(this.views[n].scene,t,e);this._textureList&&(g(this.renderer,this._textureList),g(this.renderer,this._geometriesList)),this._textureList=t,this._geometriesList=e},f.prototype.dispose=function(){this._stopAccumulating(),this.renderer.disposeScene(this.scene),this.zr.off("globalout",this.onglobalout)},f.prototype.onmousedown=function(t){if(!t.target||!t.target.__isGLToZRProxy){t=t.event;var e=this.pickObject(t.offsetX,t.offsetY);e&&(this._dispatchEvent("mousedown",t,e),this._dispatchDataEvent("mousedown",t,e)),this._downX=t.offsetX,this._downY=t.offsetY}},f.prototype.onmousemove=function(t){if(!t.target||!t.target.__isGLToZRProxy){t=t.event;var e=this.pickObject(t.offsetX,t.offsetY),n=e&&e.target,r=this._hovered;this._hovered=e,r&&n!==r.target&&(r.relatedTarget=n,this._dispatchEvent("mouseout",t,r),this.zr.setCursorStyle("default")),this._dispatchEvent("mousemove",t,e),e&&(this.zr.setCursorStyle("pointer"),r&&n===r.target||this._dispatchEvent("mouseover",t,e)),this._dispatchDataEvent("mousemove",t,e)}},f.prototype.onmouseup=function(t){if(!t.target||!t.target.__isGLToZRProxy){t=t.event;var e=this.pickObject(t.offsetX,t.offsetY);e&&(this._dispatchEvent("mouseup",t,e),this._dispatchDataEvent("mouseup",t,e)),this._upX=t.offsetX,this._upY=t.offsetY}},f.prototype.onclick=f.prototype.dblclick=function(t){if(!t.target||!t.target.__isGLToZRProxy){var e=this._upX-this._downX,n=this._upY-this._downY;if(!(Math.sqrt(e*e+n*n)>20)){t=t.event;var r=this.pickObject(t.offsetX,t.offsetY);r&&(this._dispatchEvent(t.type,t,r),this._dispatchDataEvent(t.type,t,r));var i=this._clickToSetFocusPoint(t);i&&i.view.setDOFFocusOnPoint(i.distance)&&this.zr.refresh()}}},f.prototype._clickToSetFocusPoint=function(t){for(var e=this.renderer,n=e.viewport,r=this.views.length-1;r>=0;r--){var i=this.views[r];if(i.hasDOF()&&i.containPoint(t.offsetX,t.offsetY)){this._picking.scene=i.scene,this._picking.camera=i.camera,e.viewport=i.viewport;var a=this._picking.pick(t.offsetX,t.offsetY,!0);if(a)return a.view=i,a}}e.viewport=n},f.prototype.onglobalout=function(t){var e=this._hovered;e&&this._dispatchEvent("mouseout",t,{target:e.target})},f.prototype.pickObject=function(t,e){for(var n=[],r=this.renderer,i=r.viewport,a=0;a<this.views.length;a++){var o=this.views[a];o.containPoint(t,e)&&(this._picking.scene=o.scene,this._picking.camera=o.camera,r.viewport=o.viewport,this._picking.pickAll(t,e,n))}return r.viewport=i,n.sort((function(t,e){return t.distance-e.distance})),n[0]},f.prototype._dispatchEvent=function(t,e,n){n||(n={});var r=n.target;for(n.cancelBubble=!1,n.event=e,n.type=t,n.offsetX=e.offsetX,n.offsetY=e.offsetY;r&&(r.trigger(t,n),r=r.getParent(),!n.cancelBubble););this._dispatchToView(t,n)},f.prototype._dispatchDataEvent=function(t,e,n){var r=n&&n.target,i=r&&r.dataIndex,a=r&&r.seriesIndex,o=r&&r.eventData,s=!1,u=this._zrEventProxy;u.position=[e.offsetX,e.offsetY],u.update();var l={target:u};"mousemove"===t&&(null!=i?i!==this._lastDataIndex&&(parseInt(this._lastDataIndex,10)>=0&&(u.dataIndex=this._lastDataIndex,u.seriesIndex=this._lastSeriesIndex,this.zr.handler.dispatchToElement(l,"mouseout",e)),s=!0):null!=o&&o!==this._lastEventData&&(null!=this._lastEventData&&(u.eventData=this._lastEventData,this.zr.handler.dispatchToElement(l,"mouseout",e)),s=!0),this._lastEventData=o,this._lastDataIndex=i,this._lastSeriesIndex=a),u.eventData=o,u.dataIndex=i,u.seriesIndex=a,(null!=o||parseInt(i,10)>=0&&parseInt(a,10)>=0)&&(this.zr.handler.dispatchToElement(l,t,e),s&&this.zr.handler.dispatchToElement(l,"mouseover",e))},f.prototype._dispatchToView=function(t,e){for(var n=0;n<this.views.length;n++)this.views[n].containPoint(e.offsetX,e.offsetY)&&this.views[n].trigger(t,e)},i.a.util.extend(f.prototype,l.a),e.a=f},function(t,e,n){"use strict";function r(t,e,n){"object"==typeof e&&(n=e,e=null);var r,o=this;if(!(t instanceof Function))for(var s in r=[],t)t.hasOwnProperty(s)&&r.push(s);var u=function(e){if(o.apply(this,arguments),t instanceof Function?i(this,t.call(this,e)):a(this,t,r),this.constructor===u)for(var n=u.__initializers__,s=0;s<n.length;s++)n[s].apply(this,arguments)};u.__super__=o,o.__initializers__?u.__initializers__=o.__initializers__.slice():u.__initializers__=[],e&&u.__initializers__.push(e);var l=function(){};return l.prototype=o.prototype,u.prototype=new l,u.prototype.constructor=u,i(u.prototype,n),u.extend=o.extend,u.derive=o.extend,u}function i(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}function a(t,e,n){for(var r=0;r<n.length;r++){var i=n[r];t[i]=e[i]}}e.a={extend:r,derive:r}},function(t,e,n){"use strict";var r=["OES_texture_float","OES_texture_half_float","OES_texture_float_linear","OES_texture_half_float_linear","OES_standard_derivatives","OES_vertex_array_object","OES_element_index_uint","WEBGL_compressed_texture_s3tc","WEBGL_depth_texture","EXT_texture_filter_anisotropic","EXT_shader_texture_lod","WEBGL_draw_buffers","EXT_frag_depth","EXT_sRGB"],i=["MAX_TEXTURE_SIZE","MAX_CUBE_MAP_TEXTURE_SIZE"];e.a=function(t){for(var e={},n={},a=0;a<r.length;a++)s(r[a]);for(a=0;a<i.length;a++){var o=i[a];n[o]=t.getParameter(t[o])}function s(n){var r=t.getExtension(n);r||(r=t.getExtension("MOZ_"+n)),r||(r=t.getExtension("WEBKIT_"+n)),e[n]=r}this.getExtension=function(t){return t in e||s(t),e[t]},this.getParameter=function(t){return n[t]},this.getMaxJointNumber=function(){return 15}}},function(t,e,n){"use strict";e.a={get:function(t){var e=new XMLHttpRequest;e.open("get",t.url),e.responseType=t.responseType||"text",t.onprogress&&(e.onprogress=function(e){if(e.lengthComputable){var n=e.loaded/e.total;t.onprogress(n,e.loaded,e.total)}else t.onprogress(null)}),e.onload=function(n){e.status>=400?t.onerror&&t.onerror():t.onload&&t.onload(e.response)},t.onerror&&(e.onerror=t.onerror),e.send(null)}}},function(t,e,n){"use strict";var r=n(69),i={},a={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function o(t){return(t=Math.round(t))<0?0:t>255?255:t}function s(t){return t<0?0:t>1?1:t}function u(t){return t.length&&"%"===t.charAt(t.length-1)?o(parseFloat(t)/100*255):o(parseInt(t,10))}function l(t){return t.length&&"%"===t.charAt(t.length-1)?s(parseFloat(t)/100):s(parseFloat(t))}function c(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function h(t,e,n){return t+(e-t)*n}function f(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function d(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var p=new r.a(20),m=null;function g(t,e){m&&d(m,e),m=p.put(t,m||e.slice())}function _(t,e){var n=(parseFloat(t[0])%360+360)%360/360,r=l(t[1]),i=l(t[2]),a=i<=.5?i*(r+1):i+r-i*r,s=2*i-a;return f(e=e||[],o(255*c(s,a,n+1/3)),o(255*c(s,a,n)),o(255*c(s,a,n-1/3)),1),4===t.length&&(e[3]=t[3]),e}i.parse=function(t,e){if(t){e=e||[];var n=p.get(t);if(n)return d(e,n);var r,i=(t+="").replace(/ /g,"").toLowerCase();if(i in a)return d(e,a[i]),g(t,e),e;if("#"===i.charAt(0))return 4===i.length?(r=parseInt(i.substr(1),16))>=0&&r<=4095?(f(e,(3840&r)>>4|(3840&r)>>8,240&r|(240&r)>>4,15&r|(15&r)<<4,1),g(t,e),e):void f(e,0,0,0,1):7===i.length?(r=parseInt(i.substr(1),16))>=0&&r<=16777215?(f(e,(16711680&r)>>16,(65280&r)>>8,255&r,1),g(t,e),e):void f(e,0,0,0,1):void 0;var o=i.indexOf("("),s=i.indexOf(")");if(-1!==o&&s+1===i.length){var c=i.substr(0,o),h=i.substr(o+1,s-(o+1)).split(","),m=1;switch(c){case"rgba":if(4!==h.length)return void f(e,0,0,0,1);m=l(h.pop());case"rgb":return 3!==h.length?void f(e,0,0,0,1):(f(e,u(h[0]),u(h[1]),u(h[2]),m),g(t,e),e);case"hsla":return 4!==h.length?void f(e,0,0,0,1):(h[3]=l(h[3]),_(h,e),g(t,e),e);case"hsl":return 3!==h.length?void f(e,0,0,0,1):(_(h,e),g(t,e),e);default:return}}f(e,0,0,0,1)}},i.parseToFloat=function(t,e){if(e=i.parse(t,e))return e[0]/=255,e[1]/=255,e[2]/=255,e},i.lift=function(t,e){var n=i.parse(t);if(n){for(var r=0;r<3;r++)n[r]=e<0?n[r]*(1-e)|0:(255-n[r])*e+n[r]|0;return i.stringify(n,4===n.length?"rgba":"rgb")}},i.toHex=function(t){var e=i.parse(t);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)},i.fastLerp=function(t,e,n){if(e&&e.length&&t>=0&&t<=1){n=n||[];var r=t*(e.length-1),i=Math.floor(r),a=Math.ceil(r),u=e[i],l=e[a],c=r-i;return n[0]=o(h(u[0],l[0],c)),n[1]=o(h(u[1],l[1],c)),n[2]=o(h(u[2],l[2],c)),n[3]=s(h(u[3],l[3],c)),n}},i.fastMapToColor=i.fastLerp,i.lerp=function(t,e,n){if(e&&e.length&&t>=0&&t<=1){var r=t*(e.length-1),a=Math.floor(r),u=Math.ceil(r),l=i.parse(e[a]),c=i.parse(e[u]),f=r-a,d=i.stringify([o(h(l[0],c[0],f)),o(h(l[1],c[1],f)),o(h(l[2],c[2],f)),s(h(l[3],c[3],f))],"rgba");return n?{color:d,leftIndex:a,rightIndex:u,value:r}:d}},i.mapToColor=i.lerp,i.modifyHSL=function(t,e,n,r){if(t=i.parse(t))return t=function(t){if(t){var e,n,r=t[0]/255,i=t[1]/255,a=t[2]/255,o=Math.min(r,i,a),s=Math.max(r,i,a),u=s-o,l=(s+o)/2;if(0===u)e=0,n=0;else{n=l<.5?u/(s+o):u/(2-s-o);var c=((s-r)/6+u/2)/u,h=((s-i)/6+u/2)/u,f=((s-a)/6+u/2)/u;r===s?e=f-h:i===s?e=1/3+c-f:a===s&&(e=2/3+h-c),e<0&&(e+=1),e>1&&(e-=1)}var d=[360*e,n,l];return null!=t[3]&&d.push(t[3]),d}}(t),null!=e&&(t[0]=(a=e,(a=Math.round(a))<0?0:a>360?360:a)),null!=n&&(t[1]=l(n)),null!=r&&(t[2]=l(r)),i.stringify(_(t),"rgba");var a},i.modifyAlpha=function(t,e){if((t=i.parse(t))&&null!=e)return t[3]=s(e),i.stringify(t,"rgba")},i.stringify=function(t,e){if(t&&t.length){var n=t[0]+","+t[1]+","+t[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(n+=","+t[3]),e+"("+n+")"}},e.a=i},function(t,e,n){"use strict";var r=function(){this.head=null,this.tail=null,this._length=0};r.prototype.insert=function(t){var e=new r.Entry(t);return this.insertEntry(e),e},r.prototype.insertAt=function(t,e){if(!(t<0)){for(var n=this.head,i=0;n&&i!=t;)n=n.next,i++;if(n){var a=new r.Entry(e),o=n.prev;o?(o.next=a,a.prev=o):this.head=a,a.next=n,n.prev=a}else this.insert(e)}},r.prototype.insertBeforeEntry=function(t,e){var n=new r.Entry(t),i=e.prev;i?(i.next=n,n.prev=i):this.head=n,n.next=e,e.prev=n,this._length++},r.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,this.tail=t):this.head=this.tail=t,this._length++},r.prototype.remove=function(t){var e=t.prev,n=t.next;e?e.next=n:this.head=n,n?n.prev=e:this.tail=e,t.next=t.prev=null,this._length--},r.prototype.removeAt=function(t){if(!(t<0)){for(var e=this.head,n=0;e&&n!=t;)e=e.next,n++;return e?(this.remove(e),e.value):void 0}},r.prototype.getHead=function(){if(this.head)return this.head.value},r.prototype.getTail=function(){if(this.tail)return this.tail.value},r.prototype.getAt=function(t){if(!(t<0)){for(var e=this.head,n=0;e&&n!=t;)e=e.next,n++;return e.value}},r.prototype.indexOf=function(t){for(var e=this.head,n=0;e;){if(e.value===t)return n;e=e.next,n++}},r.prototype.length=function(){return this._length},r.prototype.isEmpty=function(){return 0===this._length},r.prototype.forEach=function(t,e){for(var n=this.head,r=0,i=void 0!==e;n;)i?t.call(e,n.value,r):t(n.value,r),n=n.next,r++},r.prototype.clear=function(){this.tail=this.head=null,this._length=0},r.Entry=function(t){this.value=t,this.next=null,this.prev=null},e.a=r},function(t,e,n){"use strict";var r=n(116),i=/for\s*?\(int\s*?_idx_\s*\=\s*([\w-]+)\;\s*_idx_\s*<\s*([\w-]+);\s*_idx_\s*\+\+\s*\)\s*\{\{([\s\S]+?)(?=\}\})\}\}/g;function a(t,e,n){var r={};for(var a in n)r[a+"_COUNT"]=n[a];return t.replace(i,(function(t,n,i,a){var o="";isNaN(n)&&(n=n in e?e[n]:r[n]),isNaN(i)&&(i=i in e?e[i]:r[i]);for(var s=parseInt(n);s<parseInt(i);s++)o+="{"+a.replace(/float\s*\(\s*_idx_\s*\)/g,s.toFixed(1)).replace(/_idx_/g,s)+"}";return o}))}function o(t,e,n){var r=[];if(e)for(var i in e){var a=e[i];a>0&&r.push("#define "+i.toUpperCase()+"_COUNT "+a)}if(n)for(var o=0;o<n.length;o++){var s=n[o];r.push("#define "+s.toUpperCase()+"_ENABLED")}for(var s in t){var u=t[s];null===u?r.push("#define "+s):r.push("#define "+s+" "+u.toString())}return r.join("\n")}function s(t){this._renderer=t,this._cache={}}s.prototype.getProgram=function(t,e,n){var i=this._cache,s=t.isSkinnedMesh&&t.isSkinnedMesh(),u="s"+e.shader.shaderID+"m"+e.getProgramKey();if(n&&(u+="se"+n.getProgramKey(t.lightGroup)),s&&(u+=","+t.joints.length),b=i[u])return b;var l=n?n.getLightsNumbers(t.lightGroup):{},c=this._renderer,h=c.gl,f=e.getEnabledTextures(),d="";if(s){var p={SKINNING:null,JOINT_COUNT:t.joints.length};t.joints.length>c.getMaxJointNumber()&&(p.USE_SKIN_MATRICES_TEXTURE=null),d="\n"+o(p)+"\n"}var m=d+o(e.vertexDefines,l,f),g=d+o(e.fragmentDefines,l,f),_=m+"\n"+e.shader.vertex,v=["OES_standard_derivatives","EXT_shader_texture_lod"].filter((function(t){return null!=c.getGLExtension(t)}));v.indexOf("EXT_shader_texture_lod")>=0&&(g+="\n#define SUPPORT_TEXTURE_LOD"),v.indexOf("OES_standard_derivatives")>=0&&(g+="\n#define SUPPORT_STANDARD_DERIVATIVES");var y,b,x=function(t){for(var e=[],n=0;n<t.length;n++)e.push("#extension GL_"+t[n]+" : enable");return e.join("\n")}(v)+"\n"+["precision",y=e.precision,"float"].join(" ")+";\n"+["precision",y,"int"].join(" ")+";\n"+["precision",y,"sampler2D"].join(" ")+";\n\n"+g+"\n"+e.shader.fragment,w=a(_,e.vertexDefines,l),T=a(x,e.fragmentDefines,l);(b=new r.a).uniformSemantics=e.shader.uniformSemantics,b.attributes=e.shader.attributes;var S=b.buildProgram(h,e.shader,w,T);return b.__error=S,i[u]=b,b},e.a=s},function(t,e,n){"use strict";var r=n(14),i=n(7),a={};function o(t){for(var e=t.split("\n"),n=0,r=e.length;n<r;n++)e[n]=n+1+": "+e[n];return e.join("\n")}function s(t,e,n){if(!t.getShaderParameter(e,t.COMPILE_STATUS))return[t.getShaderInfoLog(e),o(n)].join("\n")}var u=new r.a.Float32Array(16),l=i.a.extend({uniformSemantics:{},attributes:{}},(function(){this._locations={},this._textureSlot=0,this._program=null}),{bind:function(t){this._textureSlot=0,t.gl.useProgram(this._program)},hasUniform:function(t){var e=this._locations[t];return null!=e},useTextureSlot:function(t,e,n){e&&(t.gl.activeTexture(t.gl.TEXTURE0+n),e.isRenderable()?e.bind(t):e.unbind(t))},currentTextureSlot:function(){return this._textureSlot},resetTextureSlot:function(t){this._textureSlot=t||0},takeCurrentTextureSlot:function(t,e){var n=this._textureSlot;return this.useTextureSlot(t,e,n),this._textureSlot++,n},setUniform:function(t,e,n,i){var a=this._locations[n];if(null==a)return!1;switch(e){case"m4":if(!(i instanceof Float32Array)){for(var o=0;o<i.length;o++)u[o]=i[o];i=u}t.uniformMatrix4fv(a,!1,i);break;case"2i":t.uniform2i(a,i[0],i[1]);break;case"2f":t.uniform2f(a,i[0],i[1]);break;case"3i":t.uniform3i(a,i[0],i[1],i[2]);break;case"3f":t.uniform3f(a,i[0],i[1],i[2]);break;case"4i":t.uniform4i(a,i[0],i[1],i[2],i[3]);break;case"4f":t.uniform4f(a,i[0],i[1],i[2],i[3]);break;case"1i":t.uniform1i(a,i);break;case"1f":t.uniform1f(a,i);break;case"1fv":t.uniform1fv(a,i);break;case"1iv":t.uniform1iv(a,i);break;case"2iv":t.uniform2iv(a,i);break;case"2fv":t.uniform2fv(a,i);break;case"3iv":t.uniform3iv(a,i);break;case"3fv":t.uniform3fv(a,i);break;case"4iv":t.uniform4iv(a,i);break;case"4fv":t.uniform4fv(a,i);break;case"m2":case"m2v":t.uniformMatrix2fv(a,!1,i);break;case"m3":case"m3v":t.uniformMatrix3fv(a,!1,i);break;case"m4v":if(Array.isArray(i)&&Array.isArray(i[0])){var s=new r.a.Float32Array(16*i.length),l=0;for(o=0;o<i.length;o++)for(var c=i[o],h=0;h<16;h++)s[l++]=c[h];t.uniformMatrix4fv(a,!1,s)}else t.uniformMatrix4fv(a,!1,i)}return!0},setUniformOfSemantic:function(t,e,n){var r=this.uniformSemantics[e];return!!r&&this.setUniform(t,r.type,r.symbol,n)},enableAttributes:function(t,e,n){var r,i=t.gl,o=this._program,s=this._locations;(r=n?n.__enabledAttributeList:a[t.__uid__])||(r=n?n.__enabledAttributeList=[]:a[t.__uid__]=[]);for(var u=[],l=0;l<e.length;l++){var c=e[l];if(this.attributes[c]){var h=s[c];if(null==h){if(-1===(h=i.getAttribLocation(o,c))){u[l]=-1;continue}s[c]=h}u[l]=h,r[h]?r[h]=2:r[h]=1}else u[l]=-1}for(l=0;l<r.length;l++)switch(r[l]){case 1:i.enableVertexAttribArray(l),r[l]=3;break;case 2:r[l]=3;break;case 3:i.disableVertexAttribArray(l),r[l]=0}return u},buildProgram:function(t,e,n,r){var i=t.createShader(t.VERTEX_SHADER),a=t.createProgram();t.shaderSource(i,n),t.compileShader(i);var o=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(o,r),t.compileShader(o);var u=s(t,i,n);if(u)return u;if(u=s(t,o,r))return u;if(t.attachShader(a,i),t.attachShader(a,o),e.attributeSemantics.POSITION)t.bindAttribLocation(a,0,e.attributeSemantics.POSITION.symbol);else{var l=Object.keys(this.attributes);t.bindAttribLocation(a,0,l[0])}if(t.linkProgram(a),!t.getProgramParameter(a,t.LINK_STATUS))return"Could not link program\n"+t.getProgramInfoLog(a);for(var c=0;c<e.uniforms.length;c++){var h=e.uniforms[c];this._locations[h]=t.getUniformLocation(a,h)}t.deleteShader(i),t.deleteShader(o),this._program=a,this.vertexCode=n,this.fragmentCode=r}});e.a=l},function(t,e,n){"use strict";var r,i,a,o,s,u=n(7),l=n(54),c=n(26),h=n(3),f=n(9),d=n(72),p=n(11),m=n(12),g=u.a.extend({scene:null,camera:null,renderer:null},(function(){this._ray=new l.a,this._ndc=new c.a}),{pick:function(t,e,n){return this.pickAll(t,e,[],n)[0]||null},pickAll:function(t,e,n,r){return this.renderer.screenToNDC(t,e,this._ndc),this.camera.castRay(this._ndc,this._ray),n=n||[],this._intersectNode(this.scene,n,r||!1),n.sort(this._intersectionCompareFunc),n},_intersectNode:function(t,e,n){t instanceof d.a&&t.isRenderable()&&(t.ignorePicking&&!n||!(t.mode===p.a.TRIANGLES&&t.geometry.isUseIndices()||t.geometry.pickByRay||t.geometry.pick)||this._intersectRenderable(t,e));for(var r=0;r<t._children.length;r++)this._intersectNode(t._children[r],e,n)},_intersectRenderable:(r=new h.a,i=new h.a,a=new h.a,o=new l.a,s=new f.a,function(t,e){var n=t.isSkinnedMesh();o.copy(this._ray),f.a.invert(s,t.worldTransform),n||o.applyTransform(s);var u=t.geometry,l=n?t.skeleton.boundingBox:u.boundingBox;if(!l||o.intersectBoundingBox(l))if(u.pick)u.pick(this._ndc.x,this._ndc.y,this.renderer,this.camera,t,e);else if(u.pickByRay)u.pickByRay(o,t,e);else{var c,d,_=t.cullFace===p.a.BACK&&t.frontFace===p.a.CCW||t.cullFace===p.a.FRONT&&t.frontFace===p.a.CW,v=u.indices,y=u.attributes.position,b=u.attributes.weight,x=u.attributes.joint,w=[];if(y&&y.value&&v){if(n){d=t.skeleton.getSubSkinMatrices(t.__uid__,t.joints);for(var T=0;T<t.joints.length;T++){w[T]=w[T]||[];for(var S=0;S<16;S++)w[T][S]=d[16*T+S]}var E=[],C=[],A=[],M=[],O=[],D=u.attributes.skinnedPosition;for(D&&D.value||(u.createAttribute("skinnedPosition","f",3),(D=u.attributes.skinnedPosition).init(u.vertexCount)),T=0;T<u.vertexCount;T++){for(y.get(T,E),b.get(T,C),x.get(T,A),C[3]=1-C[0]-C[1]-C[2],m.a.set(M,0,0,0),S=0;S<4;S++)A[S]>=0&&C[S]>1e-4&&(m.a.transformMat4(O,E,w[A[S]]),m.a.scaleAndAdd(M,M,O,C[S]));D.set(T,M)}}for(T=0;T<v.length;T+=3){var N=v[T],I=v[T+1],P=v[T+2],L=n?u.attributes.skinnedPosition:y;if(L.get(N,r.array),L.get(I,i.array),L.get(P,a.array),c=_?o.intersectTriangle(r,i,a,t.culling):o.intersectTriangle(r,a,i,t.culling)){var R=new h.a;n?h.a.copy(R,c):h.a.transformMat4(R,c,t.worldTransform),e.push(new g.Intersection(c,R,t,[N,I,P],T/3,h.a.dist(R,this._ray.origin)))}}}}}),_intersectionCompareFunc:function(t,e){return t.distance-e.distance}});g.Intersection=function(t,e,n,r,i,a){this.point=t,this.pointWorld=e,this.target=n,this.triangle=r,this.triangleIndex=i,this.distance=a},e.a=g},function(t,e,n){"use strict";var r=n(7),i=n(11),a=n(57),o=n(14);function s(t){return{byte:o.a.Int8Array,ubyte:o.a.Uint8Array,short:o.a.Int16Array,ushort:o.a.Uint16Array}[t]||o.a.Float32Array}function u(t){return"attr_"+t}function l(t,e,n,r){switch(this.name=t,this.type=e,this.size=n,this.semantic=r||"",this.value=null,n){case 1:this.get=function(t){return this.value[t]},this.set=function(t,e){this.value[t]=e},this.copy=function(t,e){this.value[t]=this.value[t]};break;case 2:this.get=function(t,e){var n=this.value;return e[0]=n[2*t],e[1]=n[2*t+1],e},this.set=function(t,e){var n=this.value;n[2*t]=e[0],n[2*t+1]=e[1]},this.copy=function(t,e){var n=this.value;e*=2,n[t*=2]=n[e],n[t+1]=n[e+1]};break;case 3:this.get=function(t,e){var n=3*t,r=this.value;return e[0]=r[n],e[1]=r[n+1],e[2]=r[n+2],e},this.set=function(t,e){var n=3*t,r=this.value;r[n]=e[0],r[n+1]=e[1],r[n+2]=e[2]},this.copy=function(t,e){var n=this.value;e*=3,n[t*=3]=n[e],n[t+1]=n[e+1],n[t+2]=n[e+2]};break;case 4:this.get=function(t,e){var n=this.value,r=4*t;return e[0]=n[r],e[1]=n[r+1],e[2]=n[r+2],e[3]=n[r+3],e},this.set=function(t,e){var n=this.value,r=4*t;n[r]=e[0],n[r+1]=e[1],n[r+2]=e[2],n[r+3]=e[3]},this.copy=function(t,e){var n=this.value;e*=4,n[t*=4]=n[e],n[t+1]=n[e+1],n[t+2]=n[e+2],n[t+3]=n[e+3]}}}function c(t,e,n,r,i){this.name=t,this.type=e,this.buffer=n,this.size=r,this.semantic=i,this.symbol="",this.needsRemove=!1}function h(t){this.buffer=t,this.count=0}l.prototype.init=function(t){if(!this.value||this.value.length!=t*this.size){var e=s(this.type);this.value=new e(t*this.size)}},l.prototype.fromArray=function(t){var e,n=s(this.type);if(t[0]&&t[0].length){var r=0,i=this.size;e=new n(t.length*i);for(var a=0;a<t.length;a++)for(var o=0;o<i;o++)e[r++]=t[a][o]}else e=new n(t);this.value=e},l.prototype.clone=function(t){var e=new l(this.name,this.type,this.size,this.semantic);return t&&console.warn("todo"),e};var f=r.a.extend((function(){return{attributes:{},indices:null,dynamic:!0,_enabledAttributes:null,__used:0}}),(function(){this._cache=new a.a,this._attributeList=Object.keys(this.attributes),this.__vaoCache={}}),{mainAttribute:"",pick:null,pickByRay:null,dirty:function(){for(var t=this.getEnabledAttributes(),e=0;e<t.length;e++)this.dirtyAttribute(t[e]);this.dirtyIndices(),this._enabledAttributes=null,this._cache.dirty("any")},dirtyIndices:function(){this._cache.dirtyAll("indices")},dirtyAttribute:function(t){this._cache.dirtyAll(u(t)),this._cache.dirtyAll("attributes")},getTriangleIndices:function(t,e){if(t<this.triangleCount&&t>=0){e||(e=[]);var n=this.indices;return e[0]=n[3*t],e[1]=n[3*t+1],e[2]=n[3*t+2],e}},setTriangleIndices:function(t,e){var n=this.indices;n[3*t]=e[0],n[3*t+1]=e[1],n[3*t+2]=e[2]},isUseIndices:function(){return!!this.indices},initIndicesFromArray:function(t){var e,n=this.vertexCount>65535?o.a.Uint32Array:o.a.Uint16Array;if(t[0]&&t[0].length){var r=0;e=new n(3*t.length);for(var i=0;i<t.length;i++)for(var a=0;a<3;a++)e[r++]=t[i][a]}else e=new n(t);this.indices=e},createAttribute:function(t,e,n,r){var i=new l(t,e,n,r);return this.attributes[t]&&this.removeAttribute(t),this.attributes[t]=i,this._attributeList.push(t),i},removeAttribute:function(t){var e=this._attributeList,n=e.indexOf(t);return n>=0&&(e.splice(n,1),delete this.attributes[t],!0)},getAttribute:function(t){return this.attributes[t]},getEnabledAttributes:function(){var t=this._enabledAttributes,e=this._attributeList;if(t)return t;for(var n=[],r=this.vertexCount,i=0;i<e.length;i++){var a=e[i],o=this.attributes[a];o.value&&o.value.length===r*o.size&&n.push(a)}return this._enabledAttributes=n,n},getBufferChunks:function(t){var e=this._cache;e.use(t.__uid__);var n=e.isDirty("attributes"),r=e.isDirty("indices");if(n||r){this._updateBuffer(t.gl,n,r);for(var i=this.getEnabledAttributes(),a=0;a<i.length;a++)e.fresh(u(i[a]));e.fresh("attributes"),e.fresh("indices")}return e.fresh("any"),e.get("chunks")},_updateBuffer:function(t,e,n){var r=this._cache,a=r.get("chunks"),o=!1;a||((a=[])[0]={attributeBuffers:[],indicesBuffer:null},r.put("chunks",a),o=!0);var s=a[0],l=s.attributeBuffers,f=s.indicesBuffer;if(e||o){var d=this.getEnabledAttributes(),p={};if(!o)for(var m=0;m<l.length;m++)p[l[m].name]=l[m];for(var g=0;g<d.length;g++){var _,v,y=d[g],b=this.attributes[y];o||(_=p[y]),v=_?_.buffer:t.createBuffer(),r.isDirty(u(y))&&(t.bindBuffer(t.ARRAY_BUFFER,v),t.bufferData(t.ARRAY_BUFFER,b.value,this.dynamic?i.a.DYNAMIC_DRAW:i.a.STATIC_DRAW)),l[g]=new c(y,b.type,v,b.size,b.semantic)}for(m=g;m<l.length;m++)t.deleteBuffer(l[m].buffer);l.length=g}this.isUseIndices()&&(n||o)&&(f||(f=new h(t.createBuffer()),s.indicesBuffer=f),f.count=this.indices.length,t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,f.buffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,this.dynamic?i.a.DYNAMIC_DRAW:i.a.STATIC_DRAW))},dispose:function(t){var e=this._cache;e.use(t.__uid__);var n=e.get("chunks");if(n)for(var r=0;r<n.length;r++){for(var i=n[r],a=0;a<i.attributeBuffers.length;a++){var o=i.attributeBuffers[a];t.gl.deleteBuffer(o.buffer)}i.indicesBuffer&&t.gl.deleteBuffer(i.indicesBuffer.buffer)}if(this.__vaoCache){var s=t.getGLExtension("OES_vertex_array_object");for(var u in this.__vaoCache){var l=this.__vaoCache[u].vao;l&&s.deleteVertexArrayOES(l)}}this.__vaoCache={},e.deleteContext(t.__uid__)}});Object.defineProperty&&(Object.defineProperty(f.prototype,"vertexCount",{enumerable:!1,get:function(){var t=this.attributes[this.mainAttribute];return t||(t=this.attributes[this._attributeList[0]]),t&&t.value?t.value.length/t.size:0}}),Object.defineProperty(f.prototype,"triangleCount",{enumerable:!1,get:function(){var t=this.indices;return t?t.length/3:0}})),f.STATIC_DRAW=i.a.STATIC_DRAW,f.DYNAMIC_DRAW=i.a.DYNAMIC_DRAW,f.STREAM_DRAW=i.a.STREAM_DRAW,f.AttributeBuffer=c,f.IndicesBuffer=h,f.Attribute=l,e.a=f},function(t,e,n){"use strict";var r=n(120),i="@end",a=":unconfigurable;";e.a=["@export clay.header.directional_light","uniform vec3 directionalLightDirection[DIRECTIONAL_LIGHT_COUNT]"+a,"uniform vec3 directionalLightColor[DIRECTIONAL_LIGHT_COUNT]"+a,i,"@export clay.header.ambient_light","uniform vec3 ambientLightColor[AMBIENT_LIGHT_COUNT]"+a,i,"@export clay.header.ambient_sh_light","uniform vec3 ambientSHLightColor[AMBIENT_SH_LIGHT_COUNT]"+a,"uniform vec3 ambientSHLightCoefficients[AMBIENT_SH_LIGHT_COUNT * 9]"+a,r.a,i,"@export clay.header.ambient_cubemap_light","uniform vec3 ambientCubemapLightColor[AMBIENT_CUBEMAP_LIGHT_COUNT]"+a,"uniform samplerCube ambientCubemapLightCubemap[AMBIENT_CUBEMAP_LIGHT_COUNT]"+a,"uniform sampler2D ambientCubemapLightBRDFLookup[AMBIENT_CUBEMAP_LIGHT_COUNT]"+a,i,"@export clay.header.point_light","uniform vec3 pointLightPosition[POINT_LIGHT_COUNT]"+a,"uniform float pointLightRange[POINT_LIGHT_COUNT]"+a,"uniform vec3 pointLightColor[POINT_LIGHT_COUNT]"+a,i,"@export clay.header.spot_light","uniform vec3 spotLightPosition[SPOT_LIGHT_COUNT]"+a,"uniform vec3 spotLightDirection[SPOT_LIGHT_COUNT]"+a,"uniform float spotLightRange[SPOT_LIGHT_COUNT]"+a,"uniform float spotLightUmbraAngleCosine[SPOT_LIGHT_COUNT]"+a,"uniform float spotLightPenumbraAngleCosine[SPOT_LIGHT_COUNT]"+a,"uniform float spotLightFalloffFactor[SPOT_LIGHT_COUNT]"+a,"uniform vec3 spotLightColor[SPOT_LIGHT_COUNT]"+a,i].join("\n")},function(t,e,n){"use strict";e.a="vec3 calcAmbientSHLight(int idx, vec3 N) {\n int offset = 9 * idx;\n return ambientSHLightCoefficients[0]\n + ambientSHLightCoefficients[1] * N.x\n + ambientSHLightCoefficients[2] * N.y\n + ambientSHLightCoefficients[3] * N.z\n + ambientSHLightCoefficients[4] * N.x * N.z\n + ambientSHLightCoefficients[5] * N.z * N.y\n + ambientSHLightCoefficients[6] * N.y * N.x\n + ambientSHLightCoefficients[7] * (3.0 * N.z * N.z - 1.0)\n + ambientSHLightCoefficients[8] * (N.x * N.x - N.y * N.y);\n}"},function(t,e,n){"use strict";e.a="@export clay.skybox.vertex\n#define SHADER_NAME skybox\nuniform mat4 world : WORLD;\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nattribute vec3 position : POSITION;\nvarying vec3 v_WorldPosition;\nvoid main()\n{\n v_WorldPosition = (world * vec4(position, 1.0)).xyz;\n gl_Position = worldViewProjection * vec4(position, 1.0);\n}\n@end\n@export clay.skybox.fragment\n#define PI 3.1415926\nuniform mat4 viewInverse : VIEWINVERSE;\n#ifdef EQUIRECTANGULAR\nuniform sampler2D environmentMap;\n#else\nuniform samplerCube environmentMap;\n#endif\nuniform float lod: 0.0;\nvarying vec3 v_WorldPosition;\n@import clay.util.rgbm\n@import clay.util.srgb\n@import clay.util.ACES\nvoid main()\n{\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(v_WorldPosition - eyePos);\n#ifdef EQUIRECTANGULAR\n float phi = acos(V.y);\n float theta = atan(-V.x, V.z) + PI * 0.5;\n vec2 uv = vec2(theta / 2.0 / PI, phi / PI);\n vec4 texel = decodeHDR(texture2D(environmentMap, fract(uv)));\n#else\n #if defined(LOD) || defined(SUPPORT_TEXTURE_LOD)\n vec4 texel = decodeHDR(textureCubeLodEXT(environmentMap, V, lod));\n #else\n vec4 texel = decodeHDR(textureCube(environmentMap, V));\n #endif\n#endif\n#ifdef SRGB_DECODE\n texel = sRGBToLinear(texel);\n#endif\n#ifdef TONEMAPPING\n texel.rgb = ACESToneMapping(texel.rgb);\n#endif\n#ifdef SRGB_ENCODE\n texel = linearTosRGB(texel);\n#endif\n gl_FragColor = encodeHDR(vec4(texel.rgb, 1.0));\n}\n@end"},function(t,e,n){"use strict";var r=n(4),i=n(5);function a(t){return t.charCodeAt(0)+(t.charCodeAt(1)<<8)+(t.charCodeAt(2)<<16)+(t.charCodeAt(3)<<24)}n(27);var o=a("DXT1"),s=a("DXT3"),u=a("DXT5"),l={parse:function(t,e){var n=new Int32Array(t,0,31);if(542327876!==n[0])return null;if(4&!n(20))return null;var a,l,c=n(21),h=n[4],f=n[3],d=512&n[28],p=131072&n[2];switch(c){case o:a=8,l=r.a.COMPRESSED_RGB_S3TC_DXT1_EXT;break;case s:a=16,l=r.a.COMPRESSED_RGBA_S3TC_DXT3_EXT;break;case u:a=16,l=r.a.COMPRESSED_RGBA_S3TC_DXT5_EXT;break;default:return null}var m=n[1]+4,g=d?6:1,_=1;p&&(_=Math.max(1,n[7]));for(var v=[],y=0;y<g;y++){var b=h,x=f;v[y]=new i.a({width:b,height:x,format:l});for(var w=[],T=0;T<_;T++){var S=Math.max(4,b)/4*Math.max(4,x)/4*a,E=new Uint8Array(t,m,S);m+=S,b*=.5,x*=.5,w[T]=E}v[y].pixels=w[0],p&&(v[y].mipmaps=w)}if(!e)return v[0];e.width=v[0].width,e.height=v[0].height,e.format=v[0].format,e.pixels=v[0].pixels,e.mipmaps=v[0].mipmaps}};e.a=l},function(t,e,n){"use strict";var r=n(4),i=n(5),a=String.fromCharCode;function o(t,e,n,r){if(t[3]>0){var i=Math.pow(2,t[3]-128-8+r);e[n+0]=t[0]*i,e[n+1]=t[1]*i,e[n+2]=t[2]*i}else e[n+0]=0,e[n+1]=0,e[n+2]=0;return e[n+3]=1,e}function s(t,e,n,r){for(var i,a,o=0,s=0,u=r;u>0;)if(t[s][0]=e[n++],t[s][1]=e[n++],t[s][2]=e[n++],t[s][3]=e[n++],1===t[s][0]&&1===t[s][1]&&1===t[s][2]){for(var l=t[s][3]<<o>>>0;l>0;l--)i=t[s-1],(a=t[s])[0]=i[0],a[1]=i[1],a[2]=i[2],a[3]=i[3],s++,u--;o+=8}else s++,u--,o=0;return n}function u(t,e,n,r){if(r<8|r>32767)return s(t,e,n,r);if(2!=(i=e[n++]))return s(t,e,n-1,r);if(t[0][1]=e[n++],t[0][2]=e[n++],i=e[n++],(t[0][2]<<8>>>0|i)>>>0!==r)return null;for(var i=0;i<4;i++)for(var a=0;a<r;){var o=e[n++];if(o>128){o=(127&o)>>>0;for(var u=e[n++];o--;)t[a++][i]=u}else for(;o--;)t[a++][i]=e[n++]}return n}var l={parseRGBE:function(t,e,n){null==n&&(n=0);var s=new Uint8Array(t),l=s.length;if("#?"===function(t,e,n){for(var r="",i=e;i<n;i++)r+=a(t[i]);return r}(s,0,2)){for(var c=2;c<l&&("\n"!==a(s[c])||"\n"!==a(s[c+1]));c++);if(!(c>=l)){c+=2;for(var h="";c<l;c++){var f=a(s[c]);if("\n"===f)break;h+=f}var d=h.split(" "),p=parseInt(d[1]),m=parseInt(d[3]);if(m&&p){for(var g=c+1,_=[],v=0;v<m;v++){_[v]=[];for(var y=0;y<4;y++)_[v][y]=0}for(var b=new Float32Array(m*p*4),x=0,w=0;w<p;w++){if(!(g=u(_,s,g,m)))return null;for(v=0;v<m;v++)o(_[v],b,x,n),x+=4}return e||(e=new i.a),e.width=m,e.height=p,e.pixels=b,e.type=r.a.FLOAT,e}}}},parseRGBEFromPNG:function(t){}};e.a=l},function(t,e,n){"use strict";var r=n(5),i=n(3),a=n(26),o=["mousedown","mouseup","mousemove","mouseover","mouseout","click","dblclick","contextmenu"];function s(t){return"_on"+t}var u,l,c,h,f,d,p,m,g=function(t){var e=this;this._texture=new r.a({anisotropic:32,flipY:!1,surface:this,dispose:function(t){e.dispose(),r.a.prototype.dispose.call(this,t)}}),o.forEach((function(t){this[s(t)]=function(e){e.triangle&&this._meshes.forEach((function(n){this.dispatchEvent(t,n,e.triangle,e.point)}),this)}}),this),this._meshes=[],t&&this.setECharts(t),this.onupdate=null};g.prototype={constructor:g,getTexture:function(){return this._texture},setECharts:function(t){this._chart=t;var e=t.getDom();if(e instanceof HTMLCanvasElement){var n=this,r=t.getZr(),i=r.__oldRefreshImmediately||r.refreshImmediately;r.refreshImmediately=function(){i.call(this),n._texture.dirty(),n.onupdate&&n.onupdate()},r.__oldRefreshImmediately=i}else console.error("ECharts must init on canvas if it is used as texture."),e=document.createElement("canvas");this._texture.image=e,this._texture.dirty(),this.onupdate&&this.onupdate()},dispatchEvent:(u=new i.a,l=new i.a,c=new i.a,h=new a.a,f=new a.a,d=new a.a,p=new a.a,m=new i.a,function(t,e,n,r){var o=e.geometry,s=o.attributes.position,g=o.attributes.texcoord0,_=i.a.dot,v=i.a.cross;s.get(n[0],u.array),s.get(n[1],l.array),s.get(n[2],c.array),g.get(n[0],h.array),g.get(n[1],f.array),g.get(n[2],d.array),v(m,l,c);var y=_(u,m),b=_(r,m)/y;v(m,c,u);var x=_(r,m)/y;v(m,u,l);var w=_(r,m)/y;a.a.scale(p,h,b),a.a.scaleAndAdd(p,p,f,x),a.a.scaleAndAdd(p,p,d,w);var T=p.x*this._chart.getWidth(),S=p.y*this._chart.getHeight();this._chart.getZr().handler.dispatch(t,{zrX:T,zrY:S})}),attachToMesh:function(t){this._meshes.indexOf(t)>=0||(o.forEach((function(e){t.on(e,this[s(e)],this)}),this),this._meshes.push(t))},detachFromMesh:function(t){var e=this._meshes.indexOf(t);e>=0&&this._meshes.splice(e,1),o.forEach((function(e){t.off(e,this[s(e)])}),this)},dispose:function(){this._meshes.forEach((function(t){this.detachFromMesh(t)}),this)}},e.a=g},function(t,e,n){"use strict";var r=n(24),i=n(77),a=r.a.extend({cubemap:null,castShadow:!1,_normalDistribution:null,_brdfLookup:null},{type:"AMBIENT_CUBEMAP_LIGHT",prefilter:function(t,e){if(t.getGLExtension("EXT_shader_texture_lod")){this._brdfLookup||(this._normalDistribution=i.a.generateNormalDistribution(),this._brdfLookup=i.a.integrateBRDF(t,this._normalDistribution));var n=this.cubemap;if(!n.__prefiltered){var r=i.a.prefilterEnvironmentMap(t,n,{encodeRGBM:!0,width:e,height:e},this._normalDistribution,this._brdfLookup);this.cubemap=r.environmentMap,this.cubemap.__prefiltered=!0,n.dispose(t)}}else console.warn("Device not support textureCubeLodEXT")},getBRDFLookup:function(){return this._brdfLookup},uniformTemplates:{ambientCubemapLightColor:{type:"3f",value:function(t){var e=t.color,n=t.intensity;return[e[0]*n,e[1]*n,e[2]*n]}},ambientCubemapLightCubemap:{type:"t",value:function(t){return t.cubemap}},ambientCubemapLightBRDFLookup:{type:"t",value:function(t){return t._brdfLookup}}}});e.a=a},function(t,e,n){"use strict";e.a="\n@export clay.compositor.vertex\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nattribute vec3 position : POSITION;\nattribute vec2 texcoord : TEXCOORD_0;\nvarying vec2 v_Texcoord;\nvoid main()\n{\n v_Texcoord = texcoord;\n gl_Position = worldViewProjection * vec4(position, 1.0);\n}\n@end"},function(t,e,n){"use strict";e.a="#define SAMPLE_NUMBER 1024\n#define PI 3.14159265358979\nuniform sampler2D normalDistribution;\nuniform vec2 viewportSize : [512, 256];\nconst vec3 N = vec3(0.0, 0.0, 1.0);\nconst float fSampleNumber = float(SAMPLE_NUMBER);\nvec3 importanceSampleNormal(float i, float roughness, vec3 N) {\n vec3 H = texture2D(normalDistribution, vec2(roughness, i)).rgb;\n vec3 upVector = abs(N.y) > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);\n vec3 tangentX = normalize(cross(N, upVector));\n vec3 tangentZ = cross(N, tangentX);\n return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);\n}\nfloat G_Smith(float roughness, float NoV, float NoL) {\n float k = roughness * roughness / 2.0;\n float G1V = NoV / (NoV * (1.0 - k) + k);\n float G1L = NoL / (NoL * (1.0 - k) + k);\n return G1L * G1V;\n}\nvoid main() {\n vec2 uv = gl_FragCoord.xy / viewportSize;\n float NoV = uv.x;\n float roughness = uv.y;\n vec3 V;\n V.x = sqrt(1.0 - NoV * NoV);\n V.y = 0.0;\n V.z = NoV;\n float A = 0.0;\n float B = 0.0;\n for (int i = 0; i < SAMPLE_NUMBER; i++) {\n vec3 H = importanceSampleNormal(float(i) / fSampleNumber, roughness, N);\n vec3 L = reflect(-V, H);\n float NoL = clamp(L.z, 0.0, 1.0);\n float NoH = clamp(H.z, 0.0, 1.0);\n float VoH = clamp(dot(V, H), 0.0, 1.0);\n if (NoL > 0.0) {\n float G = G_Smith(roughness, NoV, NoL);\n float G_Vis = G * VoH / (NoH * NoV);\n float Fc = pow(1.0 - VoH, 5.0);\n A += (1.0 - Fc) * G_Vis;\n B += Fc * G_Vis;\n }\n }\n gl_FragColor = vec4(vec2(A, B) / fSampleNumber, 0.0, 1.0);\n}\n"},function(t,e,n){"use strict";e.a="#define SHADER_NAME prefilter\n#define SAMPLE_NUMBER 1024\n#define PI 3.14159265358979\nuniform mat4 viewInverse : VIEWINVERSE;\nuniform samplerCube environmentMap;\nuniform sampler2D normalDistribution;\nuniform float roughness : 0.5;\nvarying vec2 v_Texcoord;\nvarying vec3 v_WorldPosition;\n@import clay.util.rgbm\nvec3 importanceSampleNormal(float i, float roughness, vec3 N) {\n vec3 H = texture2D(normalDistribution, vec2(roughness, i)).rgb;\n vec3 upVector = abs(N.y) > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);\n vec3 tangentX = normalize(cross(N, upVector));\n vec3 tangentZ = cross(N, tangentX);\n return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);\n}\nvoid main() {\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(v_WorldPosition - eyePos);\n vec3 N = V;\n vec3 prefilteredColor = vec3(0.0);\n float totalWeight = 0.0;\n float fMaxSampleNumber = float(SAMPLE_NUMBER);\n for (int i = 0; i < SAMPLE_NUMBER; i++) {\n vec3 H = importanceSampleNormal(float(i) / fMaxSampleNumber, roughness, N);\n vec3 L = reflect(-V, H);\n float NoL = clamp(dot(N, L), 0.0, 1.0);\n if (NoL > 0.0) {\n prefilteredColor += decodeHDR(textureCube(environmentMap, L)).rgb * NoL;\n totalWeight += NoL;\n }\n }\n gl_FragColor = encodeHDR(vec4(prefilteredColor / totalWeight, 1.0));\n}\n"},function(t,e,n){"use strict";var r=n(24),i=n(14),a=r.a.extend({castShadow:!1,coefficients:[]},(function(){this._coefficientsTmpArr=new i.a.Float32Array(27)}),{type:"AMBIENT_SH_LIGHT",uniformTemplates:{ambientSHLightColor:{type:"3f",value:function(t){var e=t.color,n=t.intensity;return[e[0]*n,e[1]*n,e[2]*n]}},ambientSHLightCoefficients:{type:"3f",value:function(t){for(var e=t._coefficientsTmpArr,n=0;n<t.coefficients.length;n++)e[n]=t.coefficients[n];return e}}}});e.a=a},function(t,e,n){"use strict";var r=n(4),i=n(10),a=n(5),o=(n(16),n(14)),s=n(42),u=n(75),l=n(62),c=n(36),h=n(12),f=(n(131),{}),d=["px","nx","py","ny","pz","nz"];function p(t,e){var n=t[0],r=t[1],i=t[2];return 0===e?1:1===e?n:2===e?r:3===e?i:4===e?n*i:5===e?r*i:6===e?n*r:7===e?3*i*i-1:n*n-r*r}var m={px:[2,1,0,-1,-1,1],nx:[2,1,0,1,-1,-1],py:[0,2,1,1,-1,-1],ny:[0,2,1,1,1,1],pz:[0,1,2,-1,-1,-1],nz:[0,1,2,1,-1,1]};f.projectEnvironmentMap=function(t,e,n){var f;(n=n||{}).lod=n.lod||0;var g=new c.a,_=64;"texture2D"===e.textureType?f=new u.a({scene:g,environmentMap:e}):(_=e.image&&e.image.px?e.image.px.width:e.width,f=new s.a({scene:g,environmentMap:e}));var v=Math.ceil(_/Math.pow(2,n.lod)),y=Math.ceil(_/Math.pow(2,n.lod)),b=new a.a({width:v,height:y}),x=new i.a;f.material.define("fragment","RGBM_ENCODE"),n.decodeRGBM&&f.material.define("fragment","RGBM_DECODE"),f.material.set("lod",n.lod);for(var w=new l.a({texture:b}),T={},S=0;S<d.length;S++){T[d[S]]=new Uint8Array(v*y*4);var E=w.getCamera(d[S]);E.fov=90,x.attach(b),x.bind(t),t.render(g,E),t.gl.readPixels(0,0,v,y,r.a.RGBA,r.a.UNSIGNED_BYTE,T[d[S]]),x.unbind(t)}return f.dispose(t),x.dispose(t),b.dispose(t),function(t,e,n,r){for(var i=new o.a.Float32Array(27),a=h.a.create(),s=h.a.create(),u=h.a.create(),l=0;l<9;l++){for(var c=h.a.create(),f=0;f<d.length;f++){for(var g=e[d[f]],_=h.a.create(),v=0,y=0,b=m[d[f]],x=0;x<r;x++)for(var w=0;w<n;w++){a[0]=w/(n-1)*2-1,a[1]=x/(r-1)*2-1,a[2]=-1,h.a.normalize(a,a),u[0]=a[b[0]]*b[3],u[1]=a[b[1]]*b[4],u[2]=a[b[2]]*b[5],s[0]=g[y++]/255,s[1]=g[y++]/255,s[2]=g[y++]/255;var T=g[y++]/255*8.12;s[0]*=T,s[1]*=T,s[2]*=T,h.a.scaleAndAdd(_,_,s,p(u,l)*-a[2]),v+=-a[2]}h.a.scaleAndAdd(c,c,_,1/v)}i[3*l]=c[0]/6,i[3*l+1]=c[1]/6,i[3*l+2]=c[2]/6}return i}(0,T,v,y)},e.a=f},function(t,e,n){"use strict";e.a="uniform samplerCube environmentMap;\nvarying vec2 v_Texcoord;\n#define TEXTURE_SIZE 16\nmat3 front = mat3(\n 1.0, 0.0, 0.0,\n 0.0, 1.0, 0.0,\n 0.0, 0.0, 1.0\n);\nmat3 back = mat3(\n -1.0, 0.0, 0.0,\n 0.0, 1.0, 0.0,\n 0.0, 0.0, -1.0\n);\nmat3 left = mat3(\n 0.0, 0.0, -1.0,\n 0.0, 1.0, 0.0,\n 1.0, 0.0, 0.0\n);\nmat3 right = mat3(\n 0.0, 0.0, 1.0,\n 0.0, 1.0, 0.0,\n -1.0, 0.0, 0.0\n);\nmat3 up = mat3(\n 1.0, 0.0, 0.0,\n 0.0, 0.0, 1.0,\n 0.0, -1.0, 0.0\n);\nmat3 down = mat3(\n 1.0, 0.0, 0.0,\n 0.0, 0.0, -1.0,\n 0.0, 1.0, 0.0\n);\nfloat harmonics(vec3 normal){\n int index = int(gl_FragCoord.x);\n float x = normal.x;\n float y = normal.y;\n float z = normal.z;\n if(index==0){\n return 1.0;\n }\n else if(index==1){\n return x;\n }\n else if(index==2){\n return y;\n }\n else if(index==3){\n return z;\n }\n else if(index==4){\n return x*z;\n }\n else if(index==5){\n return y*z;\n }\n else if(index==6){\n return x*y;\n }\n else if(index==7){\n return 3.0*z*z - 1.0;\n }\n else{\n return x*x - y*y;\n }\n}\nvec3 sampleSide(mat3 rot)\n{\n vec3 result = vec3(0.0);\n float divider = 0.0;\n for (int i = 0; i < TEXTURE_SIZE * TEXTURE_SIZE; i++) {\n float x = mod(float(i), float(TEXTURE_SIZE));\n float y = float(i / TEXTURE_SIZE);\n vec2 sidecoord = ((vec2(x, y) + vec2(0.5, 0.5)) / vec2(TEXTURE_SIZE)) * 2.0 - 1.0;\n vec3 normal = normalize(vec3(sidecoord, -1.0));\n vec3 fetchNormal = rot * normal;\n vec3 texel = textureCube(environmentMap, fetchNormal).rgb;\n result += harmonics(fetchNormal) * texel * -normal.z;\n divider += -normal.z;\n }\n return result / divider;\n}\nvoid main()\n{\n vec3 result = (\n sampleSide(front) +\n sampleSide(back) +\n sampleSide(left) +\n sampleSide(right) +\n sampleSide(up) +\n sampleSide(down)\n ) / 6.0;\n gl_FragColor = vec4(result, 1.0);\n}"},function(t,e,n){"use strict";var r=n(15),i=n(18),a=r.a.extend({dynamic:!1,widthSegments:40,heightSegments:20,phiStart:0,phiLength:2*Math.PI,thetaStart:0,thetaLength:Math.PI,radius:1},(function(){this.build()}),{build:function(){var t=this.heightSegments,e=this.widthSegments,n=this.attributes.position,r=this.attributes.texcoord0,a=this.attributes.normal,o=(e+1)*(t+1);n.init(o),r.init(o),a.init(o);var s,u,l,c,h,f,d,p,m,g,_,v=o>65535?Uint32Array:Uint16Array,y=this.indices=new v(e*t*6),b=this.radius,x=this.phiStart,w=this.phiLength,T=this.thetaStart,S=this.thetaLength,E=[],C=[],A=0,M=1/(b=this.radius);for(d=0;d<=t;d++)for(f=0;f<=e;f++)c=f/e,h=d/t,s=-b*Math.cos(x+c*w)*Math.sin(T+h*S),u=b*Math.cos(T+h*S),l=b*Math.sin(x+c*w)*Math.sin(T+h*S),E[0]=s,E[1]=u,E[2]=l,C[0]=c,C[1]=h,n.set(A,E),r.set(A,C),E[0]*=M,E[1]*=M,E[2]*=M,a.set(A,E),A++;var O=e+1,D=0;for(d=0;d<t;d++)for(f=0;f<e;f++)m=d*O+f,p=d*O+f+1,_=(d+1)*O+f+1,g=(d+1)*O+f,y[D++]=p,y[D++]=m,y[D++]=_,y[D++]=m,y[D++]=g,y[D++]=_;this.boundingBox=new i.a,this.boundingBox.max.set(b,b,b),this.boundingBox.min.set(-b,-b,-b)}});e.a=a},function(t,e,n){"use strict";var r=n(24).a.extend({castShadow:!1},{type:"AMBIENT_LIGHT",uniformTemplates:{ambientLightColor:{type:"3f",value:function(t){var e=t.color,n=t.intensity;return[e[0]*n,e[1]*n,e[2]*n]}}}});e.a=r},function(t,e,n){"use strict";var r=n(24),i=n(3),a=r.a.extend({shadowBias:.001,shadowSlopeScale:2,shadowCascade:1,cascadeSplitLogFactor:.2},{type:"DIRECTIONAL_LIGHT",uniformTemplates:{directionalLightDirection:{type:"3f",value:function(t){return t.__dir=t.__dir||new i.a,t.__dir.copy(t.worldTransform.z).normalize().negate().array}},directionalLightColor:{type:"3f",value:function(t){var e=t.color,n=t.intensity;return[e[0]*n,e[1]*n,e[2]*n]}}},clone:function(){var t=r.a.prototype.clone.call(this);return t.shadowBias=this.shadowBias,t.shadowSlopeScale=this.shadowSlopeScale,t}});e.a=a},function(t,e,n){"use strict";var r=n(24),i=r.a.extend({range:100,castShadow:!1},{type:"POINT_LIGHT",uniformTemplates:{pointLightPosition:{type:"3f",value:function(t){return t.getWorldPosition().array}},pointLightRange:{type:"1f",value:function(t){return t.range}},pointLightColor:{type:"3f",value:function(t){var e=t.color,n=t.intensity;return[e[0]*n,e[1]*n,e[2]*n]}}},clone:function(){var t=r.a.prototype.clone.call(this);return t.range=this.range,t}});e.a=i},function(t,e,n){"use strict";var r=n(24),i=n(3),a=r.a.extend({range:20,umbraAngle:30,penumbraAngle:45,falloffFactor:2,shadowBias:.001,shadowSlopeScale:2},{type:"SPOT_LIGHT",uniformTemplates:{spotLightPosition:{type:"3f",value:function(t){return t.getWorldPosition().array}},spotLightRange:{type:"1f",value:function(t){return t.range}},spotLightUmbraAngleCosine:{type:"1f",value:function(t){return Math.cos(t.umbraAngle*Math.PI/180)}},spotLightPenumbraAngleCosine:{type:"1f",value:function(t){return Math.cos(t.penumbraAngle*Math.PI/180)}},spotLightFalloffFactor:{type:"1f",value:function(t){return t.falloffFactor}},spotLightDirection:{type:"3f",value:function(t){return t.__dir=t.__dir||new i.a,t.__dir.copy(t.worldTransform.z).negate().array}},spotLightColor:{type:"3f",value:function(t){var e=t.color,n=t.intensity;return[e[0]*n,e[1]*n,e[2]*n]}}},clone:function(){var t=r.a.prototype.clone.call(this);return t.range=this.range,t.umbraAngle=this.umbraAngle,t.penumbraAngle=this.penumbraAngle,t.falloffFactor=this.falloffFactor,t.shadowBias=this.shadowBias,t.shadowSlopeScale=this.shadowSlopeScale,t}});e.a=a},function(t,e,n){"use strict";var r=n(33),i=function(t,e,n,i){t=t||0,e=e||0,n=n||0,i=i||0,this.array=r.a.fromValues(t,e,n,i),this._dirty=!0};i.prototype={constructor:i,add:function(t){return r.a.add(this.array,this.array,t.array),this._dirty=!0,this},set:function(t,e,n,r){return this.array[0]=t,this.array[1]=e,this.array[2]=n,this.array[3]=r,this._dirty=!0,this},setArray:function(t){return this.array[0]=t[0],this.array[1]=t[1],this.array[2]=t[2],this.array[3]=t[3],this._dirty=!0,this},clone:function(){return new i(this.x,this.y,this.z,this.w)},copy:function(t){return r.a.copy(this.array,t.array),this._dirty=!0,this},dist:function(t){return r.a.dist(this.array,t.array)},distance:function(t){return r.a.distance(this.array,t.array)},div:function(t){return r.a.div(this.array,this.array,t.array),this._dirty=!0,this},divide:function(t){return r.a.divide(this.array,this.array,t.array),this._dirty=!0,this},dot:function(t){return r.a.dot(this.array,t.array)},len:function(){return r.a.len(this.array)},length:function(){return r.a.length(this.array)},lerp:function(t,e,n){return r.a.lerp(this.array,t.array,e.array,n),this._dirty=!0,this},min:function(t){return r.a.min(this.array,this.array,t.array),this._dirty=!0,this},max:function(t){return r.a.max(this.array,this.array,t.array),this._dirty=!0,this},mul:function(t){return r.a.mul(this.array,this.array,t.array),this._dirty=!0,this},multiply:function(t){return r.a.multiply(this.array,this.array,t.array),this._dirty=!0,this},negate:function(){return r.a.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return r.a.normalize(this.array,this.array),this._dirty=!0,this},random:function(t){return r.a.random(this.array,t),this._dirty=!0,this},scale:function(t){return r.a.scale(this.array,this.array,t),this._dirty=!0,this},scaleAndAdd:function(t,e){return r.a.scaleAndAdd(this.array,this.array,t.array,e),this._dirty=!0,this},sqrDist:function(t){return r.a.sqrDist(this.array,t.array)},squaredDistance:function(t){return r.a.squaredDistance(this.array,t.array)},sqrLen:function(){return r.a.sqrLen(this.array)},squaredLength:function(){return r.a.squaredLength(this.array)},sub:function(t){return r.a.sub(this.array,this.array,t.array),this._dirty=!0,this},subtract:function(t){return r.a.subtract(this.array,this.array,t.array),this._dirty=!0,this},transformMat4:function(t){return r.a.transformMat4(this.array,this.array,t.array),this._dirty=!0,this},transformQuat:function(t){return r.a.transformQuat(this.array,this.array,t.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var a=Object.defineProperty;if(a){var o=i.prototype;a(o,"x",{get:function(){return this.array[0]},set:function(t){this.array[0]=t,this._dirty=!0}}),a(o,"y",{get:function(){return this.array[1]},set:function(t){this.array[1]=t,this._dirty=!0}}),a(o,"z",{get:function(){return this.array[2]},set:function(t){this.array[2]=t,this._dirty=!0}}),a(o,"w",{get:function(){return this.array[3]},set:function(t){this.array[3]=t,this._dirty=!0}})}i.add=function(t,e,n){return r.a.add(t.array,e.array,n.array),t._dirty=!0,t},i.set=function(t,e,n,i,a){r.a.set(t.array,e,n,i,a),t._dirty=!0},i.copy=function(t,e){return r.a.copy(t.array,e.array),t._dirty=!0,t},i.distance=i.dist=function(t,e){return r.a.distance(t.array,e.array)},i.divide=i.div=function(t,e,n){return r.a.divide(t.array,e.array,n.array),t._dirty=!0,t},i.dot=function(t,e){return r.a.dot(t.array,e.array)},i.len=function(t){return r.a.length(t.array)},i.lerp=function(t,e,n,i){return r.a.lerp(t.array,e.array,n.array,i),t._dirty=!0,t},i.min=function(t,e,n){return r.a.min(t.array,e.array,n.array),t._dirty=!0,t},i.max=function(t,e,n){return r.a.max(t.array,e.array,n.array),t._dirty=!0,t},i.multiply=i.mul=function(t,e,n){return r.a.multiply(t.array,e.array,n.array),t._dirty=!0,t},i.negate=function(t,e){return r.a.negate(t.array,e.array),t._dirty=!0,t},i.normalize=function(t,e){return r.a.normalize(t.array,e.array),t._dirty=!0,t},i.random=function(t,e){return r.a.random(t.array,e),t._dirty=!0,t},i.scale=function(t,e,n){return r.a.scale(t.array,e.array,n),t._dirty=!0,t},i.scaleAndAdd=function(t,e,n,i){return r.a.scaleAndAdd(t.array,e.array,n.array,i),t._dirty=!0,t},i.squaredDistance=i.sqrDist=function(t,e){return r.a.sqrDist(t.array,e.array)},i.squaredLength=i.sqrLen=function(t){return r.a.sqrLen(t.array)},i.subtract=i.sub=function(t,e,n){return r.a.subtract(t.array,e.array,n.array),t._dirty=!0,t},i.transformMat4=function(t,e,n){return r.a.transformMat4(t.array,e.array,n.array),t._dirty=!0,t},i.transformQuat=function(t,e,n){return r.a.transformQuat(t.array,e.array,n.array),t._dirty=!0,t},e.a=i},function(t,e,n){"use strict";var r=n(78),i=function(){this.array=r.a.create(),this._dirty=!0};i.prototype={constructor:i,setArray:function(t){for(var e=0;e<this.array.length;e++)this.array[e]=t[e];return this._dirty=!0,this},clone:function(){return(new i).copy(this)},copy:function(t){return r.a.copy(this.array,t.array),this._dirty=!0,this},adjoint:function(){return r.a.adjoint(this.array,this.array),this._dirty=!0,this},determinant:function(){return r.a.determinant(this.array)},identity:function(){return r.a.identity(this.array),this._dirty=!0,this},invert:function(){return r.a.invert(this.array,this.array),this._dirty=!0,this},mul:function(t){return r.a.mul(this.array,this.array,t.array),this._dirty=!0,this},mulLeft:function(t){return r.a.mul(this.array,t.array,this.array),this._dirty=!0,this},multiply:function(t){return r.a.multiply(this.array,this.array,t.array),this._dirty=!0,this},multiplyLeft:function(t){return r.a.multiply(this.array,t.array,this.array),this._dirty=!0,this},rotate:function(t){return r.a.rotate(this.array,this.array,t),this._dirty=!0,this},scale:function(t){return r.a.scale(this.array,this.array,t.array),this._dirty=!0,this},transpose:function(){return r.a.transpose(this.array,this.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},i.adjoint=function(t,e){return r.a.adjoint(t.array,e.array),t._dirty=!0,t},i.copy=function(t,e){return r.a.copy(t.array,e.array),t._dirty=!0,t},i.determinant=function(t){return r.a.determinant(t.array)},i.identity=function(t){return r.a.identity(t.array),t._dirty=!0,t},i.invert=function(t,e){return r.a.invert(t.array,e.array),t._dirty=!0,t},i.multiply=i.mul=function(t,e,n){return r.a.mul(t.array,e.array,n.array),t._dirty=!0,t},i.rotate=function(t,e,n){return r.a.rotate(t.array,e.array,n),t._dirty=!0,t},i.scale=function(t,e,n){return r.a.scale(t.array,e.array,n.array),t._dirty=!0,t},i.transpose=function(t,e){return r.a.transpose(t.array,e.array),t._dirty=!0,t},e.a=i},function(t,e,n){"use strict";var r=n(79),i=function(){this.array=r.a.create(),this._dirty=!0};i.prototype={constructor:i,setArray:function(t){for(var e=0;e<this.array.length;e++)this.array[e]=t[e];return this._dirty=!0,this},clone:function(){return(new i).copy(this)},copy:function(t){return r.a.copy(this.array,t.array),this._dirty=!0,this},determinant:function(){return r.a.determinant(this.array)},identity:function(){return r.a.identity(this.array),this._dirty=!0,this},invert:function(){return r.a.invert(this.array,this.array),this._dirty=!0,this},mul:function(t){return r.a.mul(this.array,this.array,t.array),this._dirty=!0,this},mulLeft:function(t){return r.a.mul(this.array,t.array,this.array),this._dirty=!0,this},multiply:function(t){return r.a.multiply(this.array,this.array,t.array),this._dirty=!0,this},multiplyLeft:function(t){return r.a.multiply(this.array,t.array,this.array),this._dirty=!0,this},rotate:function(t){return r.a.rotate(this.array,this.array,t),this._dirty=!0,this},scale:function(t){return r.a.scale(this.array,this.array,t.array),this._dirty=!0,this},translate:function(t){return r.a.translate(this.array,this.array,t.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},i.copy=function(t,e){return r.a.copy(t.array,e.array),t._dirty=!0,t},i.determinant=function(t){return r.a.determinant(t.array)},i.identity=function(t){return r.a.identity(t.array),t._dirty=!0,t},i.invert=function(t,e){return r.a.invert(t.array,e.array),t._dirty=!0,t},i.multiply=i.mul=function(t,e,n){return r.a.mul(t.array,e.array,n.array),t._dirty=!0,t},i.rotate=function(t,e,n){return r.a.rotate(t.array,e.array,n),t._dirty=!0,t},i.scale=function(t,e,n){return r.a.scale(t.array,e.array,n.array),t._dirty=!0,t},i.translate=function(t,e,n){return r.a.translate(t.array,e.array,n.array),t._dirty=!0,t},e.a=i},function(t,e,n){"use strict";var r=n(34),i=function(){this.array=r.a.create(),this._dirty=!0};i.prototype={constructor:i,setArray:function(t){for(var e=0;e<this.array.length;e++)this.array[e]=t[e];return this._dirty=!0,this},adjoint:function(){return r.a.adjoint(this.array,this.array),this._dirty=!0,this},clone:function(){return(new i).copy(this)},copy:function(t){return r.a.copy(this.array,t.array),this._dirty=!0,this},determinant:function(){return r.a.determinant(this.array)},fromMat2d:function(t){return r.a.fromMat2d(this.array,t.array),this._dirty=!0,this},fromMat4:function(t){return r.a.fromMat4(this.array,t.array),this._dirty=!0,this},fromQuat:function(t){return r.a.fromQuat(this.array,t.array),this._dirty=!0,this},identity:function(){return r.a.identity(this.array),this._dirty=!0,this},invert:function(){return r.a.invert(this.array,this.array),this._dirty=!0,this},mul:function(t){return r.a.mul(this.array,this.array,t.array),this._dirty=!0,this},mulLeft:function(t){return r.a.mul(this.array,t.array,this.array),this._dirty=!0,this},multiply:function(t){return r.a.multiply(this.array,this.array,t.array),this._dirty=!0,this},multiplyLeft:function(t){return r.a.multiply(this.array,t.array,this.array),this._dirty=!0,this},rotate:function(t){return r.a.rotate(this.array,this.array,t),this._dirty=!0,this},scale:function(t){return r.a.scale(this.array,this.array,t.array),this._dirty=!0,this},translate:function(t){return r.a.translate(this.array,this.array,t.array),this._dirty=!0,this},normalFromMat4:function(t){return r.a.normalFromMat4(this.array,t.array),this._dirty=!0,this},transpose:function(){return r.a.transpose(this.array,this.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},i.adjoint=function(t,e){return r.a.adjoint(t.array,e.array),t._dirty=!0,t},i.copy=function(t,e){return r.a.copy(t.array,e.array),t._dirty=!0,t},i.determinant=function(t){return r.a.determinant(t.array)},i.identity=function(t){return r.a.identity(t.array),t._dirty=!0,t},i.invert=function(t,e){return r.a.invert(t.array,e.array),t},i.multiply=i.mul=function(t,e,n){return r.a.mul(t.array,e.array,n.array),t._dirty=!0,t},i.fromMat2d=function(t,e){return r.a.fromMat2d(t.array,e.array),t._dirty=!0,t},i.fromMat4=function(t,e){return r.a.fromMat4(t.array,e.array),t._dirty=!0,t},i.fromQuat=function(t,e){return r.a.fromQuat(t.array,e.array),t._dirty=!0,t},i.normalFromMat4=function(t,e){return r.a.normalFromMat4(t.array,e.array),t._dirty=!0,t},i.rotate=function(t,e,n){return r.a.rotate(t.array,e.array,n),t._dirty=!0,t},i.scale=function(t,e,n){return r.a.scale(t.array,e.array,n.array),t._dirty=!0,t},i.transpose=function(t,e){return r.a.transpose(t.array,e.array),t._dirty=!0,t},i.translate=function(t,e,n){return r.a.translate(t.array,e.array,n.array),t._dirty=!0,t},e.a=i},function(t,e,n){"use strict";var r=n(142),i=n.n(r),a={_animators:null,getAnimators:function(){return this._animators=this._animators||[],this._animators},animate:function(t,e){var n;if(this._animators=this._animators||[],t){for(var r=t.split("."),a=this,o=0,s=r.length;o<s;o++)a&&(a=a[r[o]]);a&&(n=a)}else n=this;if(null==n)throw new Error("Target "+t+" not exists");var u=this._animators,l=new i.a(n,e),c=this;return l.during((function(){c.__zr&&c.__zr.refresh()})).done((function(){var t=u.indexOf(l);t>=0&&u.splice(t,1)})),u.push(l),this.__zr&&this.__zr.animation.addAnimator(l),l},stopAnimation:function(t){this._animators=this._animators||[];for(var e=this._animators,n=e.length,r=0;r<n;r++)e[r].stop(t);return e.length=0,this},addAnimatorsToZr:function(t){if(this._animators)for(var e=0;e<this._animators.length;e++)t.animation.addAnimator(this._animators[e])},removeAnimatorsFromZr:function(t){if(this._animators)for(var e=0;e<this._animators.length;e++)t.animation.removeAnimator(this._animators[e])}};e.a=a},function(t,e,n){var r=n(143),i=n(145),a=n(13).isArrayLike,o=Array.prototype.slice;function s(t,e){return t[e]}function u(t,e,n){t[e]=n}function l(t,e,n){return(e-t)*n+t}function c(t,e,n){return n>.5?e:t}function h(t,e,n,r,i){var a=t.length;if(1==i)for(var o=0;o<a;o++)r[o]=l(t[o],e[o],n);else{var s=a&&t[0].length;for(o=0;o<a;o++)for(var u=0;u<s;u++)r[o][u]=l(t[o][u],e[o][u],n)}}function f(t,e,n){var r=t.length,i=e.length;if(r!==i)if(r>i)t.length=i;else for(var a=r;a<i;a++)t.push(1===n?e[a]:o.call(e[a]));var s=t[0]&&t[0].length;for(a=0;a<t.length;a++)if(1===n)isNaN(t[a])&&(t[a]=e[a]);else for(var u=0;u<s;u++)isNaN(t[a][u])&&(t[a][u]=e[a][u])}function d(t,e,n){if(t===e)return!0;var r=t.length;if(r!==e.length)return!1;if(1===n){for(var i=0;i<r;i++)if(t[i]!==e[i])return!1}else{var a=t[0].length;for(i=0;i<r;i++)for(var o=0;o<a;o++)if(t[i][o]!==e[i][o])return!1}return!0}function p(t,e,n,r,i,a,o,s,u){var l=t.length;if(1==u)for(var c=0;c<l;c++)s[c]=m(t[c],e[c],n[c],r[c],i,a,o);else{var h=t[0].length;for(c=0;c<l;c++)for(var f=0;f<h;f++)s[c][f]=m(t[c][f],e[c][f],n[c][f],r[c][f],i,a,o)}}function m(t,e,n,r,i,a,o){var s=.5*(n-t),u=.5*(r-e);return(2*(e-n)+s+u)*o+(-3*(e-n)-2*s-u)*a+s*i+e}function g(t){if(a(t)){var e=t.length;if(a(t[0])){for(var n=[],r=0;r<e;r++)n.push(o.call(t[r]));return n}return o.call(t)}return t}function _(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}function v(t,e,n,o,s,u){var g=t._getter,v=t._setter,y="spline"===e,b=o.length;if(b){var x,w=o[0].value,T=a(w),S=!1,E=!1,C=T?function(t){var e=t[t.length-1].value;return a(e&&e[0])?2:1}(o):0;o.sort((function(t,e){return t.time-e.time})),x=o[b-1].time;for(var A=[],M=[],O=o[0].value,D=!0,N=0;N<b;N++){A.push(o[N].time/x);var I=o[N].value;if(T&&d(I,O,C)||!T&&I===O||(D=!1),O=I,"string"==typeof I){var P=i.parse(I);P?(I=P,S=!0):E=!0}M.push(I)}if(u||!D){var L=M[b-1];for(N=0;N<b-1;N++)T?f(M[N],L,C):!isNaN(M[N])||isNaN(L)||E||S||(M[N]=L);T&&f(g(t._target,s),L,C);var R,k,B,F,z,j=0,U=0;if(S)var H=[0,0,0,0];var V=new r({target:t._target,life:x,loop:t._loop,delay:t._delay,onframe:function(t,e){var n;if(e<0)n=0;else if(e<U){for(n=Math.min(j+1,b-1);n>=0&&!(A[n]<=e);n--);n=Math.min(n,b-2)}else{for(n=j;n<b&&!(A[n]>e);n++);n=Math.min(n-1,b-2)}j=n,U=e;var r=A[n+1]-A[n];if(0!==r)if(R=(e-A[n])/r,y)if(B=M[n],k=M[0===n?n:n-1],F=M[n>b-2?b-1:n+1],z=M[n>b-3?b-1:n+2],T)p(k,B,F,z,R,R*R,R*R*R,g(t,s),C);else{if(S)i=p(k,B,F,z,R,R*R,R*R*R,H,1),i=_(H);else{if(E)return c(B,F,R);i=m(k,B,F,z,R,R*R,R*R*R)}v(t,s,i)}else if(T)h(M[n],M[n+1],R,g(t,s),C);else{var i;if(S)h(M[n],M[n+1],R,H,1),i=_(H);else{if(E)return c(M[n],M[n+1],R);i=l(M[n],M[n+1],R)}v(t,s,i)}},ondestroy:n});return e&&"spline"!==e&&(V.easing=e),V}}}var y=function(t,e,n,r){this._tracks={},this._target=t,this._loop=e||!1,this._getter=n||s,this._setter=r||u,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};y.prototype={when:function(t,e){var n=this._tracks;for(var r in e)if(e.hasOwnProperty(r)){if(!n[r]){n[r]=[];var i=this._getter(this._target,r);if(null==i)continue;0!==t&&n[r].push({time:0,value:g(i)})}n[r].push({time:t,value:e[r]})}return this},during:function(t){return this._onframeList.push(t),this},pause:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].pause();this._paused=!0},resume:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var t=this._doneList,e=t.length,n=0;n<e;n++)t[n].call(this)},start:function(t,e){var n,r=this,i=0,a=function(){--i||r._doneCallback()};for(var o in this._tracks)if(this._tracks.hasOwnProperty(o)){var s=v(this,t,a,this._tracks[o],o,e);s&&(this._clipList.push(s),i++,this.animation&&this.animation.addClip(s),n=s)}if(n){var u=n.onframe;n.onframe=function(t,e){u(t,e);for(var n=0;n<r._onframeList.length;n++)r._onframeList[n](t,e)}}return i||this._doneCallback(),this},stop:function(t){for(var e=this._clipList,n=this.animation,r=0;r<e.length;r++){var i=e[r];t&&i.onframe(this._target,1),n&&n.removeClip(i)}e.length=0},delay:function(t){return this._delay=t,this},done:function(t){return t&&this._doneList.push(t),this},getClips:function(){return this._clipList}};var b=y;t.exports=b},function(t,e,n){var r=n(144);function i(t){this._target=t.target,this._life=t.life||1e3,this._delay=t.delay||0,this._initialized=!1,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"Linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart,this._pausedTime=0,this._paused=!1}i.prototype={constructor:i,step:function(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),this._paused)this._pausedTime+=e;else{var n=(t-this._startTime-this._pausedTime)/this._life;if(!(n<0)){n=Math.min(n,1);var i=this.easing,a="string"==typeof i?r[i]:i,o="function"==typeof a?a(n):n;return this.fire("frame",o),1==n?this.loop?(this.restart(t),"restart"):(this._needsRemove=!0,"destroy"):null}}},restart:function(t){var e=(t-this._startTime-this._pausedTime)%this._life;this._startTime=t-e+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(t,e){this[t="on"+t]&&this[t](this._target,e)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var a=i;t.exports=a},function(t,e){var n={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4))},elasticOut:function(t){var e,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},elasticInOut:function(t){var e,n=.1,r=.4;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=r*Math.asin(1/n)/(2*Math.PI),(t*=2)<1?n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r)*-.5:n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-n.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*n.bounceIn(2*t):.5*n.bounceOut(2*t-1)+.5}},r=n;t.exports=r},function(t,e,n){var r=n(60),i={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function a(t){return(t=Math.round(t))<0?0:t>255?255:t}function o(t){return t<0?0:t>1?1:t}function s(t){return t.length&&"%"===t.charAt(t.length-1)?a(parseFloat(t)/100*255):a(parseInt(t,10))}function u(t){return t.length&&"%"===t.charAt(t.length-1)?o(parseFloat(t)/100):o(parseFloat(t))}function l(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function c(t,e,n){return t+(e-t)*n}function h(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function f(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var d=new r(20),p=null;function m(t,e){p&&f(p,e),p=d.put(t,p||e.slice())}function g(t,e){if(t){e=e||[];var n=d.get(t);if(n)return f(e,n);var r,a=(t+="").replace(/ /g,"").toLowerCase();if(a in i)return f(e,i[a]),m(t,e),e;if("#"===a.charAt(0))return 4===a.length?(r=parseInt(a.substr(1),16))>=0&&r<=4095?(h(e,(3840&r)>>4|(3840&r)>>8,240&r|(240&r)>>4,15&r|(15&r)<<4,1),m(t,e),e):void h(e,0,0,0,1):7===a.length?(r=parseInt(a.substr(1),16))>=0&&r<=16777215?(h(e,(16711680&r)>>16,(65280&r)>>8,255&r,1),m(t,e),e):void h(e,0,0,0,1):void 0;var o=a.indexOf("("),l=a.indexOf(")");if(-1!==o&&l+1===a.length){var c=a.substr(0,o),p=a.substr(o+1,l-(o+1)).split(","),g=1;switch(c){case"rgba":if(4!==p.length)return void h(e,0,0,0,1);g=u(p.pop());case"rgb":return 3!==p.length?void h(e,0,0,0,1):(h(e,s(p[0]),s(p[1]),s(p[2]),g),m(t,e),e);case"hsla":return 4!==p.length?void h(e,0,0,0,1):(p[3]=u(p[3]),_(p,e),m(t,e),e);case"hsl":return 3!==p.length?void h(e,0,0,0,1):(_(p,e),m(t,e),e);default:return}}h(e,0,0,0,1)}}function _(t,e){var n=(parseFloat(t[0])%360+360)%360/360,r=u(t[1]),i=u(t[2]),o=i<=.5?i*(r+1):i+r-i*r,s=2*i-o;return h(e=e||[],a(255*l(s,o,n+1/3)),a(255*l(s,o,n)),a(255*l(s,o,n-1/3)),1),4===t.length&&(e[3]=t[3]),e}function v(t,e,n){if(e&&e.length&&t>=0&&t<=1){n=n||[];var r=t*(e.length-1),i=Math.floor(r),s=Math.ceil(r),u=e[i],l=e[s],h=r-i;return n[0]=a(c(u[0],l[0],h)),n[1]=a(c(u[1],l[1],h)),n[2]=a(c(u[2],l[2],h)),n[3]=o(c(u[3],l[3],h)),n}}var y=v;function b(t,e,n){if(e&&e.length&&t>=0&&t<=1){var r=t*(e.length-1),i=Math.floor(r),s=Math.ceil(r),u=g(e[i]),l=g(e[s]),h=r-i,f=w([a(c(u[0],l[0],h)),a(c(u[1],l[1],h)),a(c(u[2],l[2],h)),o(c(u[3],l[3],h))],"rgba");return n?{color:f,leftIndex:i,rightIndex:s,value:r}:f}}var x=b;function w(t,e){if(t&&t.length){var n=t[0]+","+t[1]+","+t[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(n+=","+t[3]),e+"("+n+")"}}e.parse=g,e.lift=function(t,e){var n=g(t);if(n){for(var r=0;r<3;r++)n[r]=e<0?n[r]*(1-e)|0:(255-n[r])*e+n[r]|0,n[r]>255?n[r]=255:t[r]<0&&(n[r]=0);return w(n,4===n.length?"rgba":"rgb")}},e.toHex=function(t){var e=g(t);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)},e.fastLerp=v,e.fastMapToColor=y,e.lerp=b,e.mapToColor=x,e.modifyHSL=function(t,e,n,r){if(t=g(t))return t=function(t){if(t){var e,n,r=t[0]/255,i=t[1]/255,a=t[2]/255,o=Math.min(r,i,a),s=Math.max(r,i,a),u=s-o,l=(s+o)/2;if(0===u)e=0,n=0;else{n=l<.5?u/(s+o):u/(2-s-o);var c=((s-r)/6+u/2)/u,h=((s-i)/6+u/2)/u,f=((s-a)/6+u/2)/u;r===s?e=f-h:i===s?e=1/3+c-f:a===s&&(e=2/3+h-c),e<0&&(e+=1),e>1&&(e-=1)}var d=[360*e,n,l];return null!=t[3]&&d.push(t[3]),d}}(t),null!=e&&(t[0]=(i=e,(i=Math.round(i))<0?0:i>360?360:i)),null!=n&&(t[1]=u(n)),null!=r&&(t[2]=u(r)),w(_(t),"rgba");var i},e.modifyAlpha=function(t,e){if((t=g(t))&&null!=e)return t[3]=o(e),w(t,"rgba")},e.stringify=w},function(t,e,n){"use strict";e.a="\n@export clay.util.rand\nhighp float rand(vec2 uv) {\n const highp float a = 12.9898, b = 78.233, c = 43758.5453;\n highp float dt = dot(uv.xy, vec2(a,b)), sn = mod(dt, 3.141592653589793);\n return fract(sin(sn) * c);\n}\n@end\n@export clay.util.calculate_attenuation\nuniform float attenuationFactor : 5.0;\nfloat lightAttenuation(float dist, float range)\n{\n float attenuation = 1.0;\n attenuation = dist*dist/(range*range+1.0);\n float att_s = attenuationFactor;\n attenuation = 1.0/(attenuation*att_s+1.0);\n att_s = 1.0/(att_s+1.0);\n attenuation = attenuation - att_s;\n attenuation /= 1.0 - att_s;\n return clamp(attenuation, 0.0, 1.0);\n}\n@end\n@export clay.util.edge_factor\n#ifdef SUPPORT_STANDARD_DERIVATIVES\nfloat edgeFactor(float width)\n{\n vec3 d = fwidth(v_Barycentric);\n vec3 a3 = smoothstep(vec3(0.0), d * width, v_Barycentric);\n return min(min(a3.x, a3.y), a3.z);\n}\n#else\nfloat edgeFactor(float width)\n{\n return 1.0;\n}\n#endif\n@end\n@export clay.util.encode_float\nvec4 encodeFloat(const in float depth)\n{\n const vec4 bitShifts = vec4(256.0*256.0*256.0, 256.0*256.0, 256.0, 1.0);\n const vec4 bit_mask = vec4(0.0, 1.0/256.0, 1.0/256.0, 1.0/256.0);\n vec4 res = fract(depth * bitShifts);\n res -= res.xxyz * bit_mask;\n return res;\n}\n@end\n@export clay.util.decode_float\nfloat decodeFloat(const in vec4 color)\n{\n const vec4 bitShifts = vec4(1.0/(256.0*256.0*256.0), 1.0/(256.0*256.0), 1.0/256.0, 1.0);\n return dot(color, bitShifts);\n}\n@end\n@export clay.util.float\n@import clay.util.encode_float\n@import clay.util.decode_float\n@end\n@export clay.util.rgbm_decode\nvec3 RGBMDecode(vec4 rgbm, float range) {\n return range * rgbm.rgb * rgbm.a;\n}\n@end\n@export clay.util.rgbm_encode\nvec4 RGBMEncode(vec3 color, float range) {\n if (dot(color, color) == 0.0) {\n return vec4(0.0);\n }\n vec4 rgbm;\n color /= range;\n rgbm.a = clamp(max(max(color.r, color.g), max(color.b, 1e-6)), 0.0, 1.0);\n rgbm.a = ceil(rgbm.a * 255.0) / 255.0;\n rgbm.rgb = color / rgbm.a;\n return rgbm;\n}\n@end\n@export clay.util.rgbm\n@import clay.util.rgbm_decode\n@import clay.util.rgbm_encode\nvec4 decodeHDR(vec4 color)\n{\n#if defined(RGBM_DECODE) || defined(RGBM)\n return vec4(RGBMDecode(color, 8.12), 1.0);\n#else\n return color;\n#endif\n}\nvec4 encodeHDR(vec4 color)\n{\n#if defined(RGBM_ENCODE) || defined(RGBM)\n return RGBMEncode(color.xyz, 8.12);\n#else\n return color;\n#endif\n}\n@end\n@export clay.util.srgb\nvec4 sRGBToLinear(in vec4 value) {\n return vec4(mix(pow(value.rgb * 0.9478672986 + vec3(0.0521327014), vec3(2.4)), value.rgb * 0.0773993808, vec3(lessThanEqual(value.rgb, vec3(0.04045)))), value.w);\n}\nvec4 linearTosRGB(in vec4 value) {\n return vec4(mix(pow(value.rgb, vec3(0.41666)) * 1.055 - vec3(0.055), value.rgb * 12.92, vec3(lessThanEqual(value.rgb, vec3(0.0031308)))), value.w);\n}\n@end\n@export clay.chunk.skinning_header\n#ifdef SKINNING\nattribute vec3 weight : WEIGHT;\nattribute vec4 joint : JOINT;\n#ifdef USE_SKIN_MATRICES_TEXTURE\nuniform sampler2D skinMatricesTexture : ignore;\nuniform float skinMatricesTextureSize: ignore;\nmat4 getSkinMatrix(sampler2D tex, float idx) {\n float j = idx * 4.0;\n float x = mod(j, skinMatricesTextureSize);\n float y = floor(j / skinMatricesTextureSize) + 0.5;\n vec2 scale = vec2(skinMatricesTextureSize);\n return mat4(\n texture2D(tex, vec2(x + 0.5, y) / scale),\n texture2D(tex, vec2(x + 1.5, y) / scale),\n texture2D(tex, vec2(x + 2.5, y) / scale),\n texture2D(tex, vec2(x + 3.5, y) / scale)\n );\n}\nmat4 getSkinMatrix(float idx) {\n return getSkinMatrix(skinMatricesTexture, idx);\n}\n#else\nuniform mat4 skinMatrix[JOINT_COUNT] : SKIN_MATRIX;\nmat4 getSkinMatrix(float idx) {\n return skinMatrix[int(idx)];\n}\n#endif\n#endif\n@end\n@export clay.chunk.skin_matrix\nmat4 skinMatrixWS = getSkinMatrix(joint.x) * weight.x;\nif (weight.y > 1e-4)\n{\n skinMatrixWS += getSkinMatrix(joint.y) * weight.y;\n}\nif (weight.z > 1e-4)\n{\n skinMatrixWS += getSkinMatrix(joint.z) * weight.z;\n}\nfloat weightW = 1.0-weight.x-weight.y-weight.z;\nif (weightW > 1e-4)\n{\n skinMatrixWS += getSkinMatrix(joint.w) * weightW;\n}\n@end\n@export clay.util.parallax_correct\nvec3 parallaxCorrect(in vec3 dir, in vec3 pos, in vec3 boxMin, in vec3 boxMax) {\n vec3 first = (boxMax - pos) / dir;\n vec3 second = (boxMin - pos) / dir;\n vec3 further = max(first, second);\n float dist = min(further.x, min(further.y, further.z));\n vec3 fixedPos = pos + dir * dist;\n vec3 boxCenter = (boxMax + boxMin) * 0.5;\n return normalize(fixedPos - boxCenter);\n}\n@end\n@export clay.util.clamp_sample\nvec4 clampSample(const in sampler2D texture, const in vec2 coord)\n{\n#ifdef STEREO\n float eye = step(0.5, coord.x) * 0.5;\n vec2 coordClamped = clamp(coord, vec2(eye, 0.0), vec2(0.5 + eye, 1.0));\n#else\n vec2 coordClamped = clamp(coord, vec2(0.0), vec2(1.0));\n#endif\n return texture2D(texture, coordClamped);\n}\n@end\n@export clay.util.ACES\nvec3 ACESToneMapping(vec3 color)\n{\n const float A = 2.51;\n const float B = 0.03;\n const float C = 2.43;\n const float D = 0.59;\n const float E = 0.14;\n return (color * (A * color + B)) / (color * (C * color + D) + E);\n}\n@end"},function(t,e,n){"use strict";e.a="\n@export ecgl.common.transformUniforms\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform mat4 worldInverseTranspose : WORLDINVERSETRANSPOSE;\nuniform mat4 world : WORLD;\n@end\n\n@export ecgl.common.attributes\nattribute vec3 position : POSITION;\nattribute vec2 texcoord : TEXCOORD_0;\nattribute vec3 normal : NORMAL;\n@end\n\n@export ecgl.common.uv.header\nuniform vec2 uvRepeat : [1.0, 1.0];\nuniform vec2 uvOffset : [0.0, 0.0];\nuniform vec2 detailUvRepeat : [1.0, 1.0];\nuniform vec2 detailUvOffset : [0.0, 0.0];\n\nvarying vec2 v_Texcoord;\nvarying vec2 v_DetailTexcoord;\n@end\n\n@export ecgl.common.uv.main\nv_Texcoord = texcoord * uvRepeat + uvOffset;\nv_DetailTexcoord = texcoord * detailUvRepeat + detailUvOffset;\n@end\n\n@export ecgl.common.uv.fragmentHeader\nvarying vec2 v_Texcoord;\nvarying vec2 v_DetailTexcoord;\n@end\n\n\n@export ecgl.common.albedo.main\n\n vec4 albedoTexel = vec4(1.0);\n#ifdef DIFFUSEMAP_ENABLED\n albedoTexel = texture2D(diffuseMap, v_Texcoord);\n #ifdef SRGB_DECODE\n albedoTexel = sRGBToLinear(albedoTexel);\n #endif\n#endif\n\n#ifdef DETAILMAP_ENABLED\n vec4 detailTexel = texture2D(detailMap, v_DetailTexcoord);\n #ifdef SRGB_DECODE\n detailTexel = sRGBToLinear(detailTexel);\n #endif\n albedoTexel.rgb = mix(albedoTexel.rgb, detailTexel.rgb, detailTexel.a);\n albedoTexel.a = detailTexel.a + (1.0 - detailTexel.a) * albedoTexel.a;\n#endif\n\n@end\n\n@export ecgl.common.wireframe.vertexHeader\n\n#ifdef WIREFRAME_QUAD\nattribute vec4 barycentric;\nvarying vec4 v_Barycentric;\n#elif defined(WIREFRAME_TRIANGLE)\nattribute vec3 barycentric;\nvarying vec3 v_Barycentric;\n#endif\n\n@end\n\n@export ecgl.common.wireframe.vertexMain\n\n#if defined(WIREFRAME_QUAD) || defined(WIREFRAME_TRIANGLE)\n v_Barycentric = barycentric;\n#endif\n\n@end\n\n\n@export ecgl.common.wireframe.fragmentHeader\n\nuniform float wireframeLineWidth : 1;\nuniform vec4 wireframeLineColor: [0, 0, 0, 0.5];\n\n#ifdef WIREFRAME_QUAD\nvarying vec4 v_Barycentric;\nfloat edgeFactor () {\n vec4 d = fwidth(v_Barycentric);\n vec4 a4 = smoothstep(vec4(0.0), d * wireframeLineWidth, v_Barycentric);\n return min(min(min(a4.x, a4.y), a4.z), a4.w);\n}\n#elif defined(WIREFRAME_TRIANGLE)\nvarying vec3 v_Barycentric;\nfloat edgeFactor () {\n vec3 d = fwidth(v_Barycentric);\n vec3 a3 = smoothstep(vec3(0.0), d * wireframeLineWidth, v_Barycentric);\n return min(min(a3.x, a3.y), a3.z);\n}\n#endif\n\n@end\n\n\n@export ecgl.common.wireframe.fragmentMain\n\n#if defined(WIREFRAME_QUAD) || defined(WIREFRAME_TRIANGLE)\n if (wireframeLineWidth > 0.) {\n vec4 lineColor = wireframeLineColor;\n#ifdef SRGB_DECODE\n lineColor = sRGBToLinear(lineColor);\n#endif\n\n gl_FragColor.rgb = mix(gl_FragColor.rgb, lineColor.rgb, (1.0 - edgeFactor()) * lineColor.a);\n }\n#endif\n@end\n\n\n\n\n@export ecgl.common.bumpMap.header\n\n#ifdef BUMPMAP_ENABLED\nuniform sampler2D bumpMap;\nuniform float bumpScale : 1.0;\n\n\nvec3 bumpNormal(vec3 surfPos, vec3 surfNormal, vec3 baseNormal)\n{\n vec2 dSTdx = dFdx(v_Texcoord);\n vec2 dSTdy = dFdy(v_Texcoord);\n\n float Hll = bumpScale * texture2D(bumpMap, v_Texcoord).x;\n float dHx = bumpScale * texture2D(bumpMap, v_Texcoord + dSTdx).x - Hll;\n float dHy = bumpScale * texture2D(bumpMap, v_Texcoord + dSTdy).x - Hll;\n\n vec3 vSigmaX = dFdx(surfPos);\n vec3 vSigmaY = dFdy(surfPos);\n vec3 vN = surfNormal;\n\n vec3 R1 = cross(vSigmaY, vN);\n vec3 R2 = cross(vN, vSigmaX);\n\n float fDet = dot(vSigmaX, R1);\n\n vec3 vGrad = sign(fDet) * (dHx * R1 + dHy * R2);\n return normalize(abs(fDet) * baseNormal - vGrad);\n\n}\n#endif\n\n@end\n\n@export ecgl.common.normalMap.vertexHeader\n\n#ifdef NORMALMAP_ENABLED\nattribute vec4 tangent : TANGENT;\nvarying vec3 v_Tangent;\nvarying vec3 v_Bitangent;\n#endif\n\n@end\n\n@export ecgl.common.normalMap.vertexMain\n\n#ifdef NORMALMAP_ENABLED\n if (dot(tangent, tangent) > 0.0) {\n v_Tangent = normalize((worldInverseTranspose * vec4(tangent.xyz, 0.0)).xyz);\n v_Bitangent = normalize(cross(v_Normal, v_Tangent) * tangent.w);\n }\n#endif\n\n@end\n\n\n@export ecgl.common.normalMap.fragmentHeader\n\n#ifdef NORMALMAP_ENABLED\nuniform sampler2D normalMap;\nvarying vec3 v_Tangent;\nvarying vec3 v_Bitangent;\n#endif\n\n@end\n\n@export ecgl.common.normalMap.fragmentMain\n#ifdef NORMALMAP_ENABLED\n if (dot(v_Tangent, v_Tangent) > 0.0) {\n vec3 normalTexel = texture2D(normalMap, v_DetailTexcoord).xyz;\n if (dot(normalTexel, normalTexel) > 0.0) { N = normalTexel * 2.0 - 1.0;\n mat3 tbn = mat3(v_Tangent, v_Bitangent, v_Normal);\n N = normalize(tbn * N);\n }\n }\n#endif\n@end\n\n\n\n@export ecgl.common.vertexAnimation.header\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nattribute vec3 prevNormal;\nuniform float percent;\n#endif\n\n@end\n\n@export ecgl.common.vertexAnimation.main\n\n#ifdef VERTEX_ANIMATION\n vec3 pos = mix(prevPosition, position, percent);\n vec3 norm = mix(prevNormal, normal, percent);\n#else\n vec3 pos = position;\n vec3 norm = normal;\n#endif\n\n@end\n\n\n@export ecgl.common.ssaoMap.header\n#ifdef SSAOMAP_ENABLED\nuniform sampler2D ssaoMap;\nuniform vec4 viewport : VIEWPORT;\n#endif\n@end\n\n@export ecgl.common.ssaoMap.main\n float ao = 1.0;\n#ifdef SSAOMAP_ENABLED\n ao = texture2D(ssaoMap, (gl_FragCoord.xy - viewport.xy) / viewport.zw).r;\n#endif\n@end\n\n\n\n\n@export ecgl.common.diffuseLayer.header\n\n#if (LAYER_DIFFUSEMAP_COUNT > 0)\nuniform float layerDiffuseIntensity[LAYER_DIFFUSEMAP_COUNT];\nuniform sampler2D layerDiffuseMap[LAYER_DIFFUSEMAP_COUNT];\n#endif\n\n@end\n\n@export ecgl.common.emissiveLayer.header\n\n#if (LAYER_EMISSIVEMAP_COUNT > 0)\nuniform float layerEmissionIntensity[LAYER_EMISSIVEMAP_COUNT];\nuniform sampler2D layerEmissiveMap[LAYER_EMISSIVEMAP_COUNT];\n#endif\n\n@end\n\n@export ecgl.common.layers.header\n@import ecgl.common.diffuseLayer.header\n@import ecgl.common.emissiveLayer.header\n@end\n\n@export ecgl.common.diffuseLayer.main\n\n#if (LAYER_DIFFUSEMAP_COUNT > 0)\n for (int _idx_ = 0; _idx_ < LAYER_DIFFUSEMAP_COUNT; _idx_++) {{\n float intensity = layerDiffuseIntensity[_idx_];\n vec4 texel2 = texture2D(layerDiffuseMap[_idx_], v_Texcoord);\n #ifdef SRGB_DECODE\n texel2 = sRGBToLinear(texel2);\n #endif\n albedoTexel.rgb = mix(albedoTexel.rgb, texel2.rgb * intensity, texel2.a);\n albedoTexel.a = texel2.a + (1.0 - texel2.a) * albedoTexel.a;\n }}\n#endif\n\n@end\n\n@export ecgl.common.emissiveLayer.main\n\n#if (LAYER_EMISSIVEMAP_COUNT > 0)\n for (int _idx_ = 0; _idx_ < LAYER_EMISSIVEMAP_COUNT; _idx_++)\n {{\n vec4 texel2 = texture2D(layerEmissiveMap[_idx_], v_Texcoord) * layerEmissionIntensity[_idx_];\n #ifdef SRGB_DECODE\n texel2 = sRGBToLinear(texel2);\n #endif\n float intensity = layerEmissionIntensity[_idx_];\n gl_FragColor.rgb += texel2.rgb * texel2.a * intensity;\n }}\n#endif\n\n@end\n"},function(t,e,n){"use strict";e.a="@export ecgl.color.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\n@import ecgl.common.uv.header\n\nattribute vec2 texcoord : TEXCOORD_0;\nattribute vec3 position: POSITION;\n\n@import ecgl.common.wireframe.vertexHeader\n\n#ifdef VERTEX_COLOR\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n#endif\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nuniform float percent : 1.0;\n#endif\n\nvoid main()\n{\n#ifdef VERTEX_ANIMATION\n vec3 pos = mix(prevPosition, position, percent);\n#else\n vec3 pos = position;\n#endif\n\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n\n @import ecgl.common.uv.main\n\n#ifdef VERTEX_COLOR\n v_Color = a_Color;\n#endif\n\n @import ecgl.common.wireframe.vertexMain\n\n}\n\n@end\n\n@export ecgl.color.fragment\n\n#define LAYER_DIFFUSEMAP_COUNT 0\n#define LAYER_EMISSIVEMAP_COUNT 0\n\nuniform sampler2D diffuseMap;\nuniform sampler2D detailMap;\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\n@import ecgl.common.layers.header\n\n@import ecgl.common.uv.fragmentHeader\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.util.srgb\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color);\n#else\n gl_FragColor = color;\n#endif\n\n#ifdef VERTEX_COLOR\n gl_FragColor *= v_Color;\n#endif\n\n @import ecgl.common.albedo.main\n\n @import ecgl.common.diffuseLayer.main\n\n gl_FragColor *= albedoTexel;\n\n @import ecgl.common.emissiveLayer.main\n\n @import ecgl.common.wireframe.fragmentMain\n\n}\n@end"},function(t,e,n){"use strict";e.a="/**\n * http: */\n\n@export ecgl.lambert.vertex\n\n@import ecgl.common.transformUniforms\n\n@import ecgl.common.uv.header\n\n\n@import ecgl.common.attributes\n\n@import ecgl.common.wireframe.vertexHeader\n\n#ifdef VERTEX_COLOR\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n#endif\n\n\n@import ecgl.common.vertexAnimation.header\n\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nvoid main()\n{\n @import ecgl.common.uv.main\n\n @import ecgl.common.vertexAnimation.main\n\n\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n\n v_Normal = normalize((worldInverseTranspose * vec4(norm, 0.0)).xyz);\n v_WorldPosition = (world * vec4(pos, 1.0)).xyz;\n\n#ifdef VERTEX_COLOR\n v_Color = a_Color;\n#endif\n\n @import ecgl.common.wireframe.vertexMain\n}\n\n@end\n\n\n@export ecgl.lambert.fragment\n\n#define LAYER_DIFFUSEMAP_COUNT 0\n#define LAYER_EMISSIVEMAP_COUNT 0\n\n#define NORMAL_UP_AXIS 1\n#define NORMAL_FRONT_AXIS 2\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform sampler2D diffuseMap;\nuniform sampler2D detailMap;\n\n@import ecgl.common.layers.header\n\nuniform float emissionIntensity: 1.0;\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nuniform mat4 viewInverse : VIEWINVERSE;\n\n#ifdef AMBIENT_LIGHT_COUNT\n@import clay.header.ambient_light\n#endif\n#ifdef AMBIENT_SH_LIGHT_COUNT\n@import clay.header.ambient_sh_light\n#endif\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n@import clay.header.directional_light\n#endif\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\n\n@import ecgl.common.ssaoMap.header\n\n@import ecgl.common.bumpMap.header\n\n@import clay.util.srgb\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.plugin.compute_shadow_map\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color);\n#else\n gl_FragColor = color;\n#endif\n\n#ifdef VERTEX_COLOR\n #ifdef SRGB_DECODE\n gl_FragColor *= sRGBToLinear(v_Color);\n #else\n gl_FragColor *= v_Color;\n #endif\n#endif\n\n @import ecgl.common.albedo.main\n\n @import ecgl.common.diffuseLayer.main\n\n gl_FragColor *= albedoTexel;\n\n vec3 N = v_Normal;\n#ifdef DOUBLE_SIDED\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(eyePos - v_WorldPosition);\n\n if (dot(N, V) < 0.0) {\n N = -N;\n }\n#endif\n\n float ambientFactor = 1.0;\n\n#ifdef BUMPMAP_ENABLED\n N = bumpNormal(v_WorldPosition, v_Normal, N);\n ambientFactor = dot(v_Normal, N);\n#endif\n\n vec3 N2 = vec3(N.x, N[NORMAL_UP_AXIS], N[NORMAL_FRONT_AXIS]);\n\n vec3 diffuseColor = vec3(0.0, 0.0, 0.0);\n\n @import ecgl.common.ssaoMap.main\n\n#ifdef AMBIENT_LIGHT_COUNT\n for(int i = 0; i < AMBIENT_LIGHT_COUNT; i++)\n {\n diffuseColor += ambientLightColor[i] * ambientFactor * ao;\n }\n#endif\n#ifdef AMBIENT_SH_LIGHT_COUNT\n for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)\n {{\n diffuseColor += calcAmbientSHLight(_idx_, N2) * ambientSHLightColor[_idx_] * ao;\n }}\n#endif\n#ifdef DIRECTIONAL_LIGHT_COUNT\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\n if(shadowEnabled)\n {\n computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\n }\n#endif\n for(int i = 0; i < DIRECTIONAL_LIGHT_COUNT; i++)\n {\n vec3 lightDirection = -directionalLightDirection[i];\n vec3 lightColor = directionalLightColor[i];\n\n float shadowContrib = 1.0;\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n if (shadowEnabled)\n {\n shadowContrib = shadowContribsDir[i];\n }\n#endif\n\n float ndl = dot(N, normalize(lightDirection)) * shadowContrib;\n\n diffuseColor += lightColor * clamp(ndl, 0.0, 1.0);\n }\n#endif\n\n gl_FragColor.rgb *= diffuseColor;\n\n @import ecgl.common.emissiveLayer.main\n\n @import ecgl.common.wireframe.fragmentMain\n}\n\n@end"},function(t,e,n){"use strict";e.a="@export ecgl.realistic.vertex\n\n@import ecgl.common.transformUniforms\n\n@import ecgl.common.uv.header\n\n@import ecgl.common.attributes\n\n\n@import ecgl.common.wireframe.vertexHeader\n\n#ifdef VERTEX_COLOR\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n#endif\n\n#ifdef NORMALMAP_ENABLED\nattribute vec4 tangent : TANGENT;\nvarying vec3 v_Tangent;\nvarying vec3 v_Bitangent;\n#endif\n\n@import ecgl.common.vertexAnimation.header\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nvoid main()\n{\n\n @import ecgl.common.uv.main\n\n @import ecgl.common.vertexAnimation.main\n\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n\n v_Normal = normalize((worldInverseTranspose * vec4(norm, 0.0)).xyz);\n v_WorldPosition = (world * vec4(pos, 1.0)).xyz;\n\n#ifdef VERTEX_COLOR\n v_Color = a_Color;\n#endif\n\n#ifdef NORMALMAP_ENABLED\n v_Tangent = normalize((worldInverseTranspose * vec4(tangent.xyz, 0.0)).xyz);\n v_Bitangent = normalize(cross(v_Normal, v_Tangent) * tangent.w);\n#endif\n\n @import ecgl.common.wireframe.vertexMain\n\n}\n\n@end\n\n\n\n@export ecgl.realistic.fragment\n\n#define LAYER_DIFFUSEMAP_COUNT 0\n#define LAYER_EMISSIVEMAP_COUNT 0\n#define PI 3.14159265358979\n#define ROUGHNESS_CHANEL 0\n#define METALNESS_CHANEL 1\n\n#define NORMAL_UP_AXIS 1\n#define NORMAL_FRONT_AXIS 2\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform sampler2D diffuseMap;\n\nuniform sampler2D detailMap;\nuniform sampler2D metalnessMap;\nuniform sampler2D roughnessMap;\n\n@import ecgl.common.layers.header\n\nuniform float emissionIntensity: 1.0;\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nuniform float metalness : 0.0;\nuniform float roughness : 0.5;\n\nuniform mat4 viewInverse : VIEWINVERSE;\n\n#ifdef AMBIENT_LIGHT_COUNT\n@import clay.header.ambient_light\n#endif\n\n#ifdef AMBIENT_SH_LIGHT_COUNT\n@import clay.header.ambient_sh_light\n#endif\n\n#ifdef AMBIENT_CUBEMAP_LIGHT_COUNT\n@import clay.header.ambient_cubemap_light\n#endif\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n@import clay.header.directional_light\n#endif\n\n@import ecgl.common.normalMap.fragmentHeader\n\n@import ecgl.common.ssaoMap.header\n\n@import ecgl.common.bumpMap.header\n\n@import clay.util.srgb\n\n@import clay.util.rgbm\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.plugin.compute_shadow_map\n\nvec3 F_Schlick(float ndv, vec3 spec) {\n return spec + (1.0 - spec) * pow(1.0 - ndv, 5.0);\n}\n\nfloat D_Phong(float g, float ndh) {\n float a = pow(8192.0, g);\n return (a + 2.0) / 8.0 * pow(ndh, a);\n}\n\nvoid main()\n{\n vec4 albedoColor = color;\n\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(eyePos - v_WorldPosition);\n#ifdef VERTEX_COLOR\n #ifdef SRGB_DECODE\n albedoColor *= sRGBToLinear(v_Color);\n #else\n albedoColor *= v_Color;\n #endif\n#endif\n\n @import ecgl.common.albedo.main\n\n @import ecgl.common.diffuseLayer.main\n\n albedoColor *= albedoTexel;\n\n float m = metalness;\n\n#ifdef METALNESSMAP_ENABLED\n float m2 = texture2D(metalnessMap, v_DetailTexcoord)[METALNESS_CHANEL];\n m = clamp(m2 + (m - 0.5) * 2.0, 0.0, 1.0);\n#endif\n\n vec3 baseColor = albedoColor.rgb;\n albedoColor.rgb = baseColor * (1.0 - m);\n vec3 specFactor = mix(vec3(0.04), baseColor, m);\n\n float g = 1.0 - roughness;\n\n#ifdef ROUGHNESSMAP_ENABLED\n float g2 = 1.0 - texture2D(roughnessMap, v_DetailTexcoord)[ROUGHNESS_CHANEL];\n g = clamp(g2 + (g - 0.5) * 2.0, 0.0, 1.0);\n#endif\n\n vec3 N = v_Normal;\n\n#ifdef DOUBLE_SIDED\n if (dot(N, V) < 0.0) {\n N = -N;\n }\n#endif\n\n float ambientFactor = 1.0;\n\n#ifdef BUMPMAP_ENABLED\n N = bumpNormal(v_WorldPosition, v_Normal, N);\n ambientFactor = dot(v_Normal, N);\n#endif\n\n@import ecgl.common.normalMap.fragmentMain\n\n vec3 N2 = vec3(N.x, N[NORMAL_UP_AXIS], N[NORMAL_FRONT_AXIS]);\n\n vec3 diffuseTerm = vec3(0.0);\n vec3 specularTerm = vec3(0.0);\n\n float ndv = clamp(dot(N, V), 0.0, 1.0);\n vec3 fresnelTerm = F_Schlick(ndv, specFactor);\n\n @import ecgl.common.ssaoMap.main\n\n#ifdef AMBIENT_LIGHT_COUNT\n for(int _idx_ = 0; _idx_ < AMBIENT_LIGHT_COUNT; _idx_++)\n {{\n diffuseTerm += ambientLightColor[_idx_] * ambientFactor * ao;\n }}\n#endif\n\n#ifdef AMBIENT_SH_LIGHT_COUNT\n for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)\n {{\n diffuseTerm += calcAmbientSHLight(_idx_, N2) * ambientSHLightColor[_idx_] * ao;\n }}\n#endif\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\n if(shadowEnabled)\n {\n computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\n }\n#endif\n for(int _idx_ = 0; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++)\n {{\n vec3 L = -directionalLightDirection[_idx_];\n vec3 lc = directionalLightColor[_idx_];\n\n vec3 H = normalize(L + V);\n float ndl = clamp(dot(N, normalize(L)), 0.0, 1.0);\n float ndh = clamp(dot(N, H), 0.0, 1.0);\n\n float shadowContrib = 1.0;\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n if (shadowEnabled)\n {\n shadowContrib = shadowContribsDir[_idx_];\n }\n#endif\n\n vec3 li = lc * ndl * shadowContrib;\n\n diffuseTerm += li;\n specularTerm += li * fresnelTerm * D_Phong(g, ndh);\n }}\n#endif\n\n\n#ifdef AMBIENT_CUBEMAP_LIGHT_COUNT\n vec3 L = reflect(-V, N);\n L = vec3(L.x, L[NORMAL_UP_AXIS], L[NORMAL_FRONT_AXIS]);\n float rough2 = clamp(1.0 - g, 0.0, 1.0);\n float bias2 = rough2 * 5.0;\n vec2 brdfParam2 = texture2D(ambientCubemapLightBRDFLookup[0], vec2(rough2, ndv)).xy;\n vec3 envWeight2 = specFactor * brdfParam2.x + brdfParam2.y;\n vec3 envTexel2;\n for(int _idx_ = 0; _idx_ < AMBIENT_CUBEMAP_LIGHT_COUNT; _idx_++)\n {{\n envTexel2 = RGBMDecode(textureCubeLodEXT(ambientCubemapLightCubemap[_idx_], L, bias2), 8.12);\n specularTerm += ambientCubemapLightColor[_idx_] * envTexel2 * envWeight2 * ao;\n }}\n#endif\n\n gl_FragColor.rgb = albedoColor.rgb * diffuseTerm + specularTerm;\n gl_FragColor.a = albedoColor.a;\n\n#ifdef SRGB_ENCODE\n gl_FragColor = linearTosRGB(gl_FragColor);\n#endif\n\n @import ecgl.common.emissiveLayer.main\n\n @import ecgl.common.wireframe.fragmentMain\n}\n\n@end"},function(t,e,n){"use strict";e.a="@export ecgl.hatching.vertex\n\n@import ecgl.realistic.vertex\n\n@end\n\n\n@export ecgl.hatching.fragment\n\n#define NORMAL_UP_AXIS 1\n#define NORMAL_FRONT_AXIS 2\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform vec4 color : [0.0, 0.0, 0.0, 1.0];\nuniform vec4 paperColor : [1.0, 1.0, 1.0, 1.0];\n\nuniform mat4 viewInverse : VIEWINVERSE;\n\n#ifdef AMBIENT_LIGHT_COUNT\n@import clay.header.ambient_light\n#endif\n#ifdef AMBIENT_SH_LIGHT_COUNT\n@import clay.header.ambient_sh_light\n#endif\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n@import clay.header.directional_light\n#endif\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\n\n@import ecgl.common.ssaoMap.header\n\n@import ecgl.common.bumpMap.header\n\n@import clay.util.srgb\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.plugin.compute_shadow_map\n\nuniform sampler2D hatch1;\nuniform sampler2D hatch2;\nuniform sampler2D hatch3;\nuniform sampler2D hatch4;\nuniform sampler2D hatch5;\nuniform sampler2D hatch6;\n\nfloat shade(in float tone) {\n vec4 c = vec4(1. ,1., 1., 1.);\n float step = 1. / 6.;\n vec2 uv = v_DetailTexcoord;\n if (tone <= step / 2.0) {\n c = mix(vec4(0.), texture2D(hatch6, uv), 12. * tone);\n }\n else if (tone <= step) {\n c = mix(texture2D(hatch6, uv), texture2D(hatch5, uv), 6. * tone);\n }\n if(tone > step && tone <= 2. * step){\n c = mix(texture2D(hatch5, uv), texture2D(hatch4, uv) , 6. * (tone - step));\n }\n if(tone > 2. * step && tone <= 3. * step){\n c = mix(texture2D(hatch4, uv), texture2D(hatch3, uv), 6. * (tone - 2. * step));\n }\n if(tone > 3. * step && tone <= 4. * step){\n c = mix(texture2D(hatch3, uv), texture2D(hatch2, uv), 6. * (tone - 3. * step));\n }\n if(tone > 4. * step && tone <= 5. * step){\n c = mix(texture2D(hatch2, uv), texture2D(hatch1, uv), 6. * (tone - 4. * step));\n }\n if(tone > 5. * step){\n c = mix(texture2D(hatch1, uv), vec4(1.), 6. * (tone - 5. * step));\n }\n\n return c.r;\n}\n\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n vec4 inkColor = sRGBToLinear(color);\n#else\n vec4 inkColor = color;\n#endif\n\n#ifdef VERTEX_COLOR\n #ifdef SRGB_DECODE\n inkColor *= sRGBToLinear(v_Color);\n #else\n inkColor *= v_Color;\n #endif\n#endif\n\n vec3 N = v_Normal;\n#ifdef DOUBLE_SIDED\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(eyePos - v_WorldPosition);\n\n if (dot(N, V) < 0.0) {\n N = -N;\n }\n#endif\n\n float tone = 0.0;\n\n float ambientFactor = 1.0;\n\n#ifdef BUMPMAP_ENABLED\n N = bumpNormal(v_WorldPosition, v_Normal, N);\n ambientFactor = dot(v_Normal, N);\n#endif\n\n vec3 N2 = vec3(N.x, N[NORMAL_UP_AXIS], N[NORMAL_FRONT_AXIS]);\n\n @import ecgl.common.ssaoMap.main\n\n#ifdef AMBIENT_LIGHT_COUNT\n for(int i = 0; i < AMBIENT_LIGHT_COUNT; i++)\n {\n tone += dot(ambientLightColor[i], w) * ambientFactor * ao;\n }\n#endif\n#ifdef AMBIENT_SH_LIGHT_COUNT\n for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)\n {{\n tone += dot(calcAmbientSHLight(_idx_, N2) * ambientSHLightColor[_idx_], w) * ao;\n }}\n#endif\n#ifdef DIRECTIONAL_LIGHT_COUNT\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\n if(shadowEnabled)\n {\n computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\n }\n#endif\n for(int i = 0; i < DIRECTIONAL_LIGHT_COUNT; i++)\n {\n vec3 lightDirection = -directionalLightDirection[i];\n float lightTone = dot(directionalLightColor[i], w);\n\n float shadowContrib = 1.0;\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n if (shadowEnabled)\n {\n shadowContrib = shadowContribsDir[i];\n }\n#endif\n\n float ndl = dot(N, normalize(lightDirection)) * shadowContrib;\n\n tone += lightTone * clamp(ndl, 0.0, 1.0);\n }\n#endif\n\n gl_FragColor = mix(inkColor, paperColor, shade(clamp(tone, 0.0, 1.0)));\n }\n@end\n"},function(t,e,n){"use strict";e.a="@export ecgl.sm.depth.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nattribute vec3 position : POSITION;\nattribute vec2 texcoord : TEXCOORD_0;\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nuniform float percent : 1.0;\n#endif\n\nvarying vec4 v_ViewPosition;\nvarying vec2 v_Texcoord;\n\nvoid main(){\n\n#ifdef VERTEX_ANIMATION\n vec3 pos = mix(prevPosition, position, percent);\n#else\n vec3 pos = position;\n#endif\n\n v_ViewPosition = worldViewProjection * vec4(pos, 1.0);\n gl_Position = v_ViewPosition;\n\n v_Texcoord = texcoord;\n\n}\n@end\n\n\n\n@export ecgl.sm.depth.fragment\n\n@import clay.sm.depth.fragment\n\n@end"},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=["bar3D","line3D","map3D","scatter3D","surface","lines3D","scatterGL","scatter3D"];function o(t,e){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var n=t[e].normal,r=t[e].emphasis;n&&(t[e]=n),r&&(t.emphasis=t.emphasis||{},t.emphasis[e]=r)}}function s(t){t&&(t instanceof Array||(t=[t]),i.a.util.each(t,(function(t){if(t.axisLabel){var e=t.axisLabel;i.a.util.extend(e,e.textStyle),e.textStyle=null}})))}e.a=function(t){i.a.util.each(t.series,(function(e){i.a.util.indexOf(a,e.type)>=0&&(function(t){o(t,"itemStyle"),o(t,"lineStyle"),o(t,"areaStyle"),o(t,"label")}(e),"mapbox"===e.coordinateSystem&&(e.coordinateSystem="mapbox3D",t.mapbox3D=t.mapbox))})),s(t.xAxis3D),s(t.yAxis3D),s(t.zAxis3D),s(t.grid3D),o(t.geo3D)}},function(t,e,n){"use strict";n(155),n(159),n(160),n(167);var r=n(0),i=n.n(r);i.a.registerAction({type:"grid3DChangeCamera",event:"grid3dcamerachanged",update:"series:updateCamera"},(function(t,e){e.eachComponent({mainType:"grid3D",query:t},(function(e){e.setView(t)}))})),i.a.registerAction({type:"grid3DShowAxisPointer",event:"grid3dshowaxispointer",update:"grid3D:showAxisPointer"},(function(t,e){})),i.a.registerAction({type:"grid3DHideAxisPointer",event:"grid3dhideaxispointer",update:"grid3D:hideAxisPointer"},(function(t,e){}))},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(156),o=i.a.extendComponentModel({type:"cartesian3DAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid3D",index:this.option.gridIndex,id:this.option.gridId})[0]}});function s(t,e){return e.type||(e.data?"category":"value")}i.a.helper.mixinAxisModelCommonMethods(o),Object(a.a)("x",o,s,{name:"X"}),Object(a.a)("y",o,s,{name:"Y"}),Object(a.a)("z",o,s,{name:"Z"})},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(157),o=n(158),s=n.n(o),u=["value","category","time","log"];e.a=function(t,e,n,r){i.a.util.each(u,(function(o){e.extend({type:t+"Axis3D."+o,__ordinalMeta:null,mergeDefaultAndTheme:function(e,r){var a=r.getTheme();i.a.util.merge(e,a.get(o+"Axis3D")),i.a.util.merge(e,this.getDefaultOption()),e.type=n(t,e)},optionUpdated:function(){"category"===this.option.type&&(this.__ordinalMeta=s.a.createByAxisModel(this))},getCategories:function(){if("category"===this.option.type)return this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:i.a.util.merge(i.a.util.clone(a.a[o+"Axis3D"]),r||{},!0)})})),e.superClass.registerSubTypeDefaulter(t+"Axis3D",i.a.util.curry(n,t))}},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a={show:!0,grid3DIndex:0,inverse:!1,name:"",nameLocation:"middle",nameTextStyle:{fontSize:16},nameGap:20,axisPointer:{},axisLine:{},axisTick:{},axisLabel:{},splitArea:{}},o=i.a.util.merge({boundaryGap:!0,axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"},axisPointer:{label:{show:!1}}},a),s=i.a.util.merge({boundaryGap:[0,0],splitNumber:5,axisPointer:{label:{}}},a),u=i.a.util.defaults({scale:!0,min:"dataMin",max:"dataMax"},s),l=i.a.util.defaults({logBase:10},s);l.scale=!0,e.a={categoryAxis3D:o,valueAxis3D:s,timeAxis3D:u,logAxis3D:l}},function(t,e,n){var r=n(13),i=r.createHashMap,a=r.isObject,o=r.map;function s(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this._map}s.createByAxisModel=function(t){var e=t.option,n=e.data,r=n&&o(n,c);return new s({categories:r,needCollect:!r,deduplication:!1!==e.dedplication})};var u=s.prototype;function l(t){return t._map||(t._map=i(t.categories))}function c(t){return a(t)&&null!=t.value?t.value:t+""}u.getOrdinal=function(t){return l(this).get(t)},u.parseAndCollect=function(t){var e,n=this._needCollect;if("string"!=typeof t&&!n)return t;if(n&&!this._deduplication)return e=this.categories.length,this.categories[e]=t,e;var r=l(this);return null==(e=r.get(t))&&(n?(e=this.categories.length,this.categories[e]=t,r.set(t,e)):e=NaN),e};var h=s;t.exports=h},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(44),o=n(28),s=n(29),u=i.a.extendComponentModel({type:"grid3D",dependencies:["xAxis3D","yAxis3D","zAxis3D"],defaultOption:{show:!0,zlevel:-10,left:0,top:0,width:"100%",height:"100%",environment:"auto",boxWidth:100,boxHeight:100,boxDepth:100,axisPointer:{show:!0,lineStyle:{color:"rgba(0, 0, 0, 0.8)",width:1},label:{show:!0,formatter:null,margin:8,textStyle:{fontSize:14,color:"#fff",backgroundColor:"rgba(0,0,0,0.5)",padding:3,borderRadius:3}}},axisLine:{show:!0,lineStyle:{color:"#333",width:2,type:"solid"}},axisTick:{show:!0,inside:!1,length:3,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,margin:8,textStyle:{fontSize:12}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}},light:{main:{alpha:30,beta:40},ambient:{intensity:.4}},viewControl:{alpha:20,beta:40,autoRotate:!1,distance:200,minDistance:40,maxDistance:400}}});i.a.util.merge(u.prototype,a.a),i.a.util.merge(u.prototype,o.a),i.a.util.merge(u.prototype,s.a)},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n(45),s=n(25),u=n(2),l=n(81),c=n(30),h=n(162),f=n(164),d=n(63),p=n(46),m=u.a.firstNotNull;a.a.Shader.import(p.a),["x","y","z"].forEach((function(t){i.a.extendComponentView({type:t+"Axis3D"})}));var g={x:0,y:2,z:1};i.a.extendComponentView({type:"grid3D",__ecgl__:!0,init:function(t,e){var n=new a.a.Material({shader:a.a.createShader("ecgl.color"),depthMask:!1,transparent:!0}),r=new a.a.Material({shader:a.a.createShader("ecgl.meshLines3D"),depthMask:!1,transparent:!0});n.define("fragment","DOUBLE_SIDED"),n.define("both","VERTEX_COLOR"),this.groupGL=new a.a.Node,this._control=new o.a({zr:e.getZr()}),this._control.init(),this._faces=[["y","z","x",-1,"left"],["y","z","x",1,"right"],["x","y","z",-1,"bottom"],["x","y","z",1,"top"],["x","z","y",-1,"far"],["x","z","y",1,"near"]].map((function(t){var e=new h.a(t,r,n);return this.groupGL.add(e.rootNode),e}),this),this._axes=["x","y","z"].map((function(t){var e=new f.a(t,r);return this.groupGL.add(e.rootNode),e}),this);var i=e.getDevicePixelRatio();this._axisLabelSurface=new l.a({width:256,height:256,devicePixelRatio:i}),this._axisLabelSurface.onupdate=function(){e.getZr().refresh()},this._axisPointerLineMesh=new a.a.Mesh({geometry:new s.a({useNativeLine:!1}),material:r,castShadow:!1,ignorePicking:!0,renderOrder:3}),this.groupGL.add(this._axisPointerLineMesh),this._axisPointerLabelsSurface=new l.a({width:128,height:128,devicePixelRatio:i}),this._axisPointerLabelsMesh=new d.a({ignorePicking:!0,renderOrder:4,castShadow:!1}),this._axisPointerLabelsMesh.material.set("textureAtlas",this._axisPointerLabelsSurface.getTexture()),this.groupGL.add(this._axisPointerLabelsMesh),this._lightRoot=new a.a.Node,this._sceneHelper=new c.a,this._sceneHelper.initLight(this._lightRoot)},render:function(t,e,n){this._model=t,this._api=n;var r=t.coordinateSystem;r.viewGL.add(this._lightRoot),t.get("show")?r.viewGL.add(this.groupGL):r.viewGL.remove(this.groupGL);var i=this._control;i.setViewGL(r.viewGL);var a=t.getModel("viewControl");i.setFromViewControlModel(a,0),this._axisLabelSurface.clear(),i.off("update"),t.get("show")&&(this._faces.forEach((function(r){r.update(t,e,n)}),this),this._axes.forEach((function(e){e.update(t,this._axisLabelSurface,n)}),this)),i.on("update",this._onCameraChange.bind(this,t,n),this),this._sceneHelper.setScene(r.viewGL.scene),this._sceneHelper.updateLight(t),r.viewGL.setPostEffect(t.getModel("postEffect"),n),r.viewGL.setTemporalSuperSampling(t.getModel("temporalSuperSampling")),this._initMouseHandler(t)},afterRender:function(t,e,n,r){var i=r.renderer;this._sceneHelper.updateAmbientCubemap(i,t,n),this._sceneHelper.updateSkybox(i,t,n)},showAxisPointer:function(t,e,n,r){this._doShowAxisPointer(),this._updateAxisPointer(r.value)},hideAxisPointer:function(t,e,n,r){this._doHideAxisPointer()},_initMouseHandler:function(t){var e=t.coordinateSystem.viewGL;t.get("show")&&t.get("axisPointer.show")?e.on("mousemove",this._updateAxisPointerOnMousePosition,this):e.off("mousemove",this._updateAxisPointerOnMousePosition)},_updateAxisPointerOnMousePosition:function(t){if(!t.target){for(var e,n=this._model.coordinateSystem,r=n.viewGL,i=r.castRay(t.offsetX,t.offsetY,new a.a.Ray),o=0;o<this._faces.length;o++){var s=this._faces[o];if(!s.rootNode.invisible){s.plane.normal.dot(r.camera.worldTransform.z)<0&&s.plane.normal.negate();var u=i.intersectPlane(s.plane);if(u){var l=n.getAxis(s.faceInfo[0]),c=n.getAxis(s.faceInfo[1]),h=g[s.faceInfo[0]],f=g[s.faceInfo[1]];l.contain(u.array[h])&&c.contain(u.array[f])&&(e=u)}}}if(e){var d=n.pointToData(e.array,[],!0);this._updateAxisPointer(d),this._doShowAxisPointer()}else this._doHideAxisPointer()}},_onCameraChange:function(t,e){t.get("show")&&(this._updateFaceVisibility(),this._updateAxisLinePosition());var n=this._control;e.dispatchAction({type:"grid3DChangeCamera",alpha:n.getAlpha(),beta:n.getBeta(),distance:n.getDistance(),center:n.getCenter(),from:this.uid,grid3DId:t.id})},_updateFaceVisibility:function(){var t=this._control.getCamera(),e=new a.a.Vector3;t.update();for(var n=0;n<this._faces.length/2;n++){for(var r=[],i=0;i<2;i++)this._faces[2*n+i].rootNode.getWorldPosition(e),e.transformMat4(t.viewMatrix),r[i]=e.z;var o=r[0]>r[1]?0:1,s=this._faces[2*n+o],u=this._faces[2*n+1-o];s.rootNode.invisible=!0,u.rootNode.invisible=!1}},_updateAxisLinePosition:function(){var t=this._model.coordinateSystem,e=t.getAxis("x"),n=t.getAxis("y"),r=t.getAxis("z"),i=r.getExtentMax(),a=r.getExtentMin(),o=e.getExtentMin(),s=e.getExtentMax(),u=n.getExtentMax(),l=n.getExtentMin(),c=this._axes[0].rootNode,h=this._axes[1].rootNode,f=this._axes[2].rootNode,d=this._faces,p=d[4].rootNode.invisible?l:u,m=d[2].rootNode.invisible?i:a,g=d[0].rootNode.invisible?o:s,_=d[2].rootNode.invisible?i:a,v=d[0].rootNode.invisible?s:o,y=d[4].rootNode.invisible?l:u;c.rotation.identity(),h.rotation.identity(),f.rotation.identity(),d[4].rootNode.invisible&&(this._axes[0].flipped=!0,c.rotation.rotateX(Math.PI)),d[0].rootNode.invisible&&(this._axes[1].flipped=!0,h.rotation.rotateZ(Math.PI)),d[4].rootNode.invisible&&(this._axes[2].flipped=!0,f.rotation.rotateY(Math.PI)),c.position.set(0,m,p),h.position.set(g,_,0),f.position.set(v,0,y),c.update(),h.update(),f.update(),this._updateAxisLabelAlign()},_updateAxisLabelAlign:function(){var t=this._control.getCamera(),e=[new a.a.Vector4,new a.a.Vector4],n=new a.a.Vector4;this.groupGL.getWorldPosition(n),n.w=1,n.transformMat4(t.viewMatrix).transformMat4(t.projectionMatrix),n.x/=n.w,n.y/=n.w,this._axes.forEach((function(r){for(var i=r.axisLineCoords,a=(r.labelsMesh.geometry,0);a<e.length;a++)e[a].setArray(i[a]),e[a].w=1,e[a].transformMat4(r.rootNode.worldTransform).transformMat4(t.viewMatrix).transformMat4(t.projectionMatrix),e[a].x/=e[a].w,e[a].y/=e[a].w;var o,s,u=e[1].x-e[0].x,l=e[1].y-e[0].y,c=(e[1].x+e[0].x)/2,h=(e[1].y+e[0].y)/2;Math.abs(l/u)<.5?(o="center",s=h>n.y?"bottom":"top"):(s="middle",o=c>n.x?"left":"right"),r.setSpriteAlign(o,s,this._api)}),this)},_doShowAxisPointer:function(){this._axisPointerLineMesh.invisible&&(this._axisPointerLineMesh.invisible=!1,this._axisPointerLabelsMesh.invisible=!1,this._api.getZr().refresh())},_doHideAxisPointer:function(){this._axisPointerLineMesh.invisible||(this._axisPointerLineMesh.invisible=!0,this._axisPointerLabelsMesh.invisible=!0,this._api.getZr().refresh())},_updateAxisPointer:function(t){var e=this._model.coordinateSystem,n=e.dataToPoint(t),r=this._axisPointerLineMesh.geometry,i=this._model.getModel("axisPointer"),o=this._api.getDevicePixelRatio();function s(t){return u.a.firstNotNull(t.model.get("axisPointer.show"),i.get("show"))}function l(t){var e=t.model.getModel("axisPointer",i).getModel("lineStyle"),n=a.a.parseColor(e.get("color")),r=m(e.get("width"),1),o=m(e.get("opacity"),1);return n[3]*=o,{color:n,lineWidth:r}}r.convertToDynamicArray(!0);for(var c=0;c<this._faces.length;c++){var h=this._faces[c];if(!h.rootNode.invisible){for(var f=h.faceInfo,d=f[3]<0?e.getAxis(f[2]).getExtentMin():e.getAxis(f[2]).getExtentMax(),p=g[f[2]],_=0;_<2;_++){var v=f[_],y=f[1-_],b=e.getAxis(v),x=e.getAxis(y);if(s(b)){var w=g[v],T=g[y];(C=[0,0,0])[w]=(E=[0,0,0])[w]=n[w],C[p]=E[p]=d,C[T]=x.getExtentMin(),E[T]=x.getExtentMax();var S=l(b);r.addLine(C,E,S.color,S.lineWidth*o)}}if(s(e.getAxis(f[2]))){var E,C=n.slice();(E=n.slice())[p]=d,S=l(e.getAxis(f[2])),r.addLine(C,E,S.color,S.lineWidth*o)}}}r.convertToTypedArray(),this._updateAxisPointerLabelsMesh(t),this._api.getZr().refresh()},_updateAxisPointerLabelsMesh:function(t){var e=this._model,n=this._axisPointerLabelsMesh,r=this._axisPointerLabelsSurface,a=e.coordinateSystem,o=e.getModel("axisPointer");n.geometry.convertToDynamicArray(!0),r.clear();var s={x:"y",y:"x",z:"y"};this._axes.forEach((function(e,u){var l=a.getAxis(e.dim),c=l.model.getModel("axisPointer",o),h=c.getModel("label"),f=c.get("lineStyle.color");if(h.get("show")&&c.get("show")){var d=t[u],p=h.get("formatter"),m=l.scale.getLabel(d);if(null!=p)m=p(m,t);else if("interval"===l.scale.type||"log"===l.scale.type){var _=i.a.number.getPrecisionSafe(l.scale.getTicks()[0]);m=d.toFixed(_+2)}var v=h.getModel("textStyle"),y=v.get("color"),b=new i.a.graphic.Text;i.a.graphic.setTextStyle(b.style,v,{text:m,textFill:y||f,textAlign:"left",textVerticalAlign:"top"});var x=r.add(b),w=b.getBoundingRect(),T=this._api.getDevicePixelRatio(),S=e.rootNode.position.toArray();S[g[s[e.dim]]]+=(e.flipped?-1:1)*h.get("margin"),S[g[e.dim]]=l.dataToCoord(t[u]),n.geometry.addSprite(S,[w.width*T,w.height*T],x,e.textAlign,e.textVerticalAlign)}}),this),r.getZr().refreshImmediately(),n.material.set("uvScale",r.getCoordsScale()),n.geometry.convertToTypedArray()},dispose:function(){this.groupGL.removeAll(),this._control.dispose()}})},function(t,e,n){"use strict";var r=n(70),i=n(12),a=n(33),o=n(78),s=n(79),u=n(34),l=n(21),c=n(55);e.a={vec2:r.a,vec3:i.a,vec4:a.a,mat2:o.a,mat2d:s.a,mat3:u.a,mat4:l.a,quat:c.a}},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n(2),s=n(25),u=n(163),l=o.a.firstNotNull,c={x:0,y:2,z:1};function h(t,e,n){this.rootNode=new a.a.Node;var r=new a.a.Mesh({geometry:new s.a({useNativeLine:!1}),material:e,castShadow:!1,ignorePicking:!0,$ignorePicking:!0,renderOrder:1}),i=new a.a.Mesh({geometry:new u.a,material:n,castShadow:!1,culling:!1,ignorePicking:!0,$ignorePicking:!0,renderOrder:0});this.rootNode.add(i),this.rootNode.add(r),this.faceInfo=t,this.plane=new a.a.Plane,this.linesMesh=r,this.quadsMesh=i}h.prototype.update=function(t,e,n){var r=t.coordinateSystem,i=[r.getAxis(this.faceInfo[0]),r.getAxis(this.faceInfo[1])],a=this.linesMesh.geometry,o=this.quadsMesh.geometry;a.convertToDynamicArray(!0),o.convertToDynamicArray(!0),this._updateSplitLines(a,i,t,n),this._udpateSplitAreas(o,i,t,n),a.convertToTypedArray(),o.convertToTypedArray();var s=r.getAxis(this.faceInfo[2]);!function(t,e,n,r){var i=[0,0,0],a=r<0?n.getExtentMin():n.getExtentMax();i[c[n.dim]]=a,t.position.setArray(i),t.rotation.identity(),e.distance=-Math.abs(a),e.normal.set(0,0,0),"x"===n.dim?(t.rotation.rotateY(r*Math.PI/2),e.normal.x=-r):"z"===n.dim?(t.rotation.rotateX(-r*Math.PI/2),e.normal.y=-r):(r>0&&t.rotation.rotateY(Math.PI),e.normal.z=-r)}(this.rootNode,this.plane,s,this.faceInfo[3])},h.prototype._updateSplitLines=function(t,e,n,r){var o=r.getDevicePixelRatio();e.forEach((function(r,s){var u=r.model,c=e[1-s].getExtent();if(!r.scale.isBlank()){var h=u.getModel("splitLine",n.getModel("splitLine"));if(h.get("show")){var f=h.getModel("lineStyle"),d=f.get("color"),p=l(f.get("opacity"),1),m=l(f.get("width"),1);d=i.a.util.isArray(d)?d:[d];for(var g=r.getTicksCoords({tickModel:h}),_=0,v=0;v<g.length;v++){var y=g[v].coord,b=a.a.parseColor(d[_%d.length]);b[3]*=p;var x=[0,0,0],w=[0,0,0];x[s]=w[s]=y,x[1-s]=c[0],w[1-s]=c[1],t.addLine(x,w,b,m*o),_++}}}}))},h.prototype._udpateSplitAreas=function(t,e,n,r){e.forEach((function(r,o){var s=r.model,u=e[1-o].getExtent();if(!r.scale.isBlank()){var c=s.getModel("splitArea",n.getModel("splitArea"));if(c.get("show")){var h=c.getModel("areaStyle"),f=h.get("color"),d=l(h.get("opacity"),1);f=i.a.util.isArray(f)?f:[f];for(var p=r.getTicksCoords({tickModel:c,clamp:!0}),m=0,g=[0,0,0],_=[0,0,0],v=0;v<p.length;v++){var y=p[v].coord,b=[0,0,0],x=[0,0,0];if(b[o]=x[o]=y,b[1-o]=u[0],x[1-o]=u[1],0!==v){var w=a.a.parseColor(f[m%f.length]);w[3]*=d,t.addQuad([g,b,x,_],w),g=b,_=x,m++}else g=b,_=x}}}}))},e.a=h},function(t,e,n){"use strict";var r,i,a,o,s=n(15),u=n(0),l=n.n(u),c=n(38),h=n(6).a.vec3,f=s.a.extend((function(){return{segmentScale:1,useNativeLine:!0,attributes:{position:new s.a.Attribute("position","float",3,"POSITION"),normal:new s.a.Attribute("normal","float",3,"NORMAL"),color:new s.a.Attribute("color","float",4,"COLOR")}}}),{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0},setQuadCount:function(t){var e=this.attributes,n=this.getQuadVertexCount()*t,r=this.getQuadTriangleCount()*t;this.vertexCount!==n&&(e.position.init(n),e.normal.init(n),e.color.init(n)),this.triangleCount!==r&&(this.indices=n>65535?new Uint32Array(3*r):new Uint16Array(3*r))},getQuadVertexCount:function(){return 4},getQuadTriangleCount:function(){return 2},addQuad:(r=h.create(),i=h.create(),a=h.create(),o=[0,3,1,3,2,1],function(t,e){var n=this.attributes.position,s=this.attributes.normal,u=this.attributes.color;h.sub(r,t[1],t[0]),h.sub(i,t[2],t[1]),h.cross(a,r,i),h.normalize(a,a);for(var l=0;l<4;l++)n.set(this._vertexOffset+l,t[l]),u.set(this._vertexOffset+l,e),s.set(this._vertexOffset+l,a);var c=3*this._faceOffset;for(l=0;l<6;l++)this.indices[c+l]=o[l]+this._vertexOffset;this._vertexOffset+=4,this._faceOffset+=2})});l.a.util.defaults(f.prototype,c.a),e.a=f},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n(25),s=n(2),u=n(63),l=s.a.firstNotNull,c={x:0,y:2,z:1};function h(t,e){var n=new a.a.Mesh({geometry:new o.a({useNativeLine:!1}),material:e,castShadow:!1,ignorePicking:!0,renderOrder:2}),r=new u.a;r.material.depthMask=!1;var i=new a.a.Node;i.add(n),i.add(r),this.rootNode=i,this.dim=t,this.linesMesh=n,this.labelsMesh=r,this.axisLineCoords=null,this.labelElements=[]}var f={x:"y",y:"x",z:"y"};h.prototype.update=function(t,e,n){var r=t.coordinateSystem.getAxis(this.dim),o=this.linesMesh.geometry,s=this.labelsMesh.geometry;o.convertToDynamicArray(!0),s.convertToDynamicArray(!0);var u=r.model,h=r.getExtent(),d=n.getDevicePixelRatio(),p=u.getModel("axisLine",t.getModel("axisLine")),m=u.getModel("axisTick",t.getModel("axisTick")),g=u.getModel("axisLabel",t.getModel("axisLabel")),_=p.get("lineStyle.color");if(p.get("show")){var v=p.getModel("lineStyle"),y=[0,0,0];(O=[0,0,0])[D=c[r.dim]]=h[0],y[D]=h[1],this.axisLineCoords=[O,y];var b=a.a.parseColor(_),x=l(v.get("width"),1),w=l(v.get("opacity"),1);b[3]*=w,o.addLine(O,y,b,x*d)}if(m.get("show")){var T=m.getModel("lineStyle"),S=a.a.parseColor(l(T.get("color"),_));x=l(T.get("width"),1),S[3]*=l(T.get("opacity"),1);for(var E=r.getTicksCoords(),C=m.get("length"),A=0;A<E.length;A++){var M=E[A].coord,O=[0,0,0],D=(y=[0,0,0],c[r.dim]),N=c[f[r.dim]];O[D]=y[D]=M,y[N]=C,o.addLine(O,y,S,x*d)}}if(this.labelElements=[],d=n.getDevicePixelRatio(),g.get("show")){E=r.getTicksCoords();var I=u.get("data"),P=g.get("margin"),L=r.getViewLabels();for(A=0;A<L.length;A++){var R=L[A].tickValue,k=L[A].formattedLabel,B=L[A].rawLabel,F=(M=r.dataToCoord(R),[0,0,0]);D=c[r.dim],N=c[f[r.dim]],F[D]=F[D]=M,F[N]=P;var z=g;I&&I[R]&&I[R].textStyle&&(z=new i.a.Model(I[R].textStyle,g,u.ecModel));var j=l(z.get("color"),_),U=new i.a.graphic.Text;i.a.graphic.setTextStyle(U.style,z,{text:k,textFill:"function"==typeof j?j("category"===r.type?B:"value"===r.type?R+"":R,A):j,textVerticalAlign:"top",textAlign:"left"});var H=e.add(U),V=U.getBoundingRect();s.addSprite(F,[V.width*d,V.height*d],H),this.labelElements.push(U)}}if(u.get("name")){var G=u.getModel("nameTextStyle"),W=(F=[0,0,0],D=c[r.dim],N=c[f[r.dim]],l(G.get("color"),_)),$=G.get("borderColor");x=G.get("borderWidth"),F[D]=F[D]=(h[0]+h[1])/2,F[N]=u.get("nameGap"),U=new i.a.graphic.Text,i.a.graphic.setTextStyle(U.style,G,{text:u.get("name"),textFill:W,textStroke:$,lineWidth:x}),H=e.add(U),V=U.getBoundingRect(),s.addSprite(F,[V.width*d,V.height*d],H),U.__idx=this.labelElements.length,this.nameLabelElement=U}this.labelsMesh.material.set("textureAtlas",e.getTexture()),this.labelsMesh.material.set("uvScale",e.getCoordsScale()),o.convertToTypedArray(),s.convertToTypedArray()},h.prototype.setSpriteAlign=function(t,e,n){for(var r=n.getDevicePixelRatio(),i=this.labelsMesh.geometry,a=0;a<this.labelElements.length;a++){var o=this.labelElements[a].getBoundingRect();i.setSpriteAlign(a,[o.width*r,o.height*r],t,e)}var s=this.nameLabelElement;s&&(o=s.getBoundingRect(),i.setSpriteAlign(s.__idx,[o.width*r,o.height*r],t,e),i.dirty()),this.textAlign=t,this.textVerticalAlign=e},e.a=h},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(15),o=n(38),s=[0,1,2,0,2,3],u=a.a.extend((function(){return{attributes:{position:new a.a.Attribute("position","float",3,"POSITION"),texcoord:new a.a.Attribute("texcoord","float",2,"TEXCOORD_0"),offset:new a.a.Attribute("offset","float",2),color:new a.a.Attribute("color","float",4,"COLOR")}}}),{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0},setSpriteCount:function(t){this._spriteCount=t;var e=4*t,n=2*t;this.vertexCount!==e&&(this.attributes.position.init(e),this.attributes.offset.init(e),this.attributes.color.init(e)),this.triangleCount!==n&&(this.indices=e>65535?new Uint32Array(3*n):new Uint16Array(3*n))},setSpriteAlign:function(t,e,n,r,i){var a,o,s,u;switch(null==n&&(n="left"),null==r&&(r="top"),i=i||0,n){case"left":a=i,s=e[0]+i;break;case"center":case"middle":a=-e[0]/2,s=e[0]/2;break;case"right":a=-e[0]-i,s=-i}switch(r){case"bottom":o=i,u=e[1]+i;break;case"middle":o=-e[1]/2,u=e[1]/2;break;case"top":o=-e[1]-i,u=-i}var l=4*t,c=this.attributes.offset;c.set(l,[a,u]),c.set(l+1,[s,u]),c.set(l+2,[s,o]),c.set(l+3,[a,o])},addSprite:function(t,e,n,r,i,a){var o=this._vertexOffset;this.setSprite(this._vertexOffset/4,t,e,n,r,i,a);for(var u=0;u<s.length;u++)this.indices[3*this._faceOffset+u]=s[u]+o;return this._faceOffset+=2,this._vertexOffset+=4,o/4},setSprite:function(t,e,n,r,i,a,o){for(var s=4*t,u=this.attributes,l=0;l<4;l++)u.position.set(s+l,e);var c=u.texcoord;c.set(s,[r[0][0],r[0][1]]),c.set(s+1,[r[1][0],r[0][1]]),c.set(s+2,[r[1][0],r[1][1]]),c.set(s+3,[r[0][0],r[1][1]]),this.setSpriteAlign(t,n,i,a,o)}});i.a.util.defaults(u.prototype,o.a),e.a=u},function(t,e,n){"use strict";e.a="@export ecgl.labels.vertex\n\nattribute vec3 position: POSITION;\nattribute vec2 texcoord: TEXCOORD_0;\nattribute vec2 offset;\n#ifdef VERTEX_COLOR\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n#endif\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform vec4 viewport : VIEWPORT;\n\nvarying vec2 v_Texcoord;\n\nvoid main()\n{\n vec4 proj = worldViewProjection * vec4(position, 1.0);\n\n vec2 screen = (proj.xy / abs(proj.w) + 1.0) * 0.5 * viewport.zw;\n\n screen += offset;\n\n proj.xy = (screen / viewport.zw - 0.5) * 2.0 * abs(proj.w);\n gl_Position = proj;\n#ifdef VERTEX_COLOR\n v_Color = a_Color;\n#endif\n v_Texcoord = texcoord;\n}\n@end\n\n\n@export ecgl.labels.fragment\n\nuniform vec3 color : [1.0, 1.0, 1.0];\nuniform float alpha : 1.0;\nuniform sampler2D textureAtlas;\nuniform vec2 uvScale: [1.0, 1.0];\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\nvarying float v_Miter;\n\nvarying vec2 v_Texcoord;\n\nvoid main()\n{\n gl_FragColor = vec4(color, alpha) * texture2D(textureAtlas, v_Texcoord * uvScale);\n#ifdef VERTEX_COLOR\n gl_FragColor *= v_Color;\n#endif\n}\n\n@end"},function(t,e,n){"use strict";var r=n(168),i=n(170),a=n(0),o=n.n(a),s=n(47),u=n.n(s),l=n(22),c=n(2);function h(t,e){var n=t.getBoxLayoutParams(),r=u.a.getLayoutRect(n,{width:e.getWidth(),height:e.getHeight()});r.y=e.getHeight()-r.y-r.height,this.viewGL.setViewport(r.x,r.y,r.width,r.height,e.getDevicePixelRatio());var i=t.get("boxWidth"),a=t.get("boxHeight"),o=t.get("boxDepth");["x","y","z"].forEach((function(e){if(!this.getAxis(e))throw new Error("Grid"+t.id+" don't have "+e+"Axis")}),this),this.getAxis("x").setExtent(-i/2,i/2),this.getAxis("y").setExtent(o/2,-o/2),this.getAxis("z").setExtent(-a/2,a/2),this.size=[i,a,o]}function f(t,e){var n={};t.eachSeries((function(t){if(t.coordinateSystem===this){var e=t.getData();["x","y","z"].forEach((function(t){e.mapDimension(t,!0).forEach((function(r){var i,a;i=t,a=e.getDataExtent(r,!0),n[i]=n[i]||[1/0,-1/0],n[i][0]=Math.min(a[0],n[i][0]),n[i][1]=Math.max(a[1],n[i][1])}))}))}}),this),["xAxis3D","yAxis3D","zAxis3D"].forEach((function(e){t.eachComponent(e,(function(t){var r=e.charAt(0),a=t.getReferringComponents("grid3D")[0],s=a.coordinateSystem;if(s===this){var u=s.getAxis(r);if(u)console.warn("Can't have two %s in one grid3D",e);else{var l=o.a.helper.createScale(n[r]||[1/0,-1/0],t);(u=new i.a(r,l)).type=t.get("type");var c="category"===u.type;u.onBand=c&&t.get("boundaryGap"),u.inverse=t.get("inverse"),t.axis=u,u.model=t,u.getLabelModel=function(){return t.getModel("axisLabel",a.getModel("axisLabel"))},u.getTickModel=function(){return t.getModel("axisTick",a.getModel("axisTick"))},s.addAxis(u)}}}),this)}),this),this.resize(this.model,e)}var d={dimensions:r.a.prototype.dimensions,create:function(t,e){var n=[];t.eachComponent("grid3D",(function(t){t.__viewGL=t.__viewGL||new l.a;var e=new r.a;e.model=t,e.viewGL=t.__viewGL,t.coordinateSystem=e,n.push(e),e.resize=h,e.update=f}));var i=["xAxis3D","yAxis3D","zAxis3D"];return t.eachSeries((function(e){if("cartesian3D"===e.get("coordinateSystem")){if(null==(r=e.getReferringComponents("grid3D")[0])){var n=function(t,e){return i.map((function(n){var r=t.getReferringComponents(n)[0];if(null==r&&(r=e.getComponent(n)),!r)throw new Error(n+' "'+c.a.firstNotNull(t.get(n+"Index"),t.get(n+"Id"),0)+'" not found');return r}))}(e,t),r=n[0].getCoordSysModel();n.forEach((function(t){var e=t.getCoordSysModel();if(!e)throw new Error('grid3D "'+c.a.firstNotNull(t.get("gridIndex"),t.get("gridId"),0)+'" not found');if(e!==r)throw new Error("xAxis3D, yAxis3D, zAxis3D must use the same grid")}))}var a=r.coordinateSystem;e.coordinateSystem=a}})),n}};o.a.registerCoordinateSystem("grid3D",d)},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(169),o=n.n(a);function s(t){o.a.call(this,t),this.size=[0,0,0]}s.prototype={constructor:s,type:"cartesian3D",dimensions:["x","y","z"],model:null,containPoint:function(t){return this.getAxis("x").contain(t[0])&&this.getAxis("y").contain(t[2])&&this.getAxis("z").contain(t[1])},containData:function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])&&this.getAxis("z").containData(t[2])},dataToPoint:function(t,e,n){return(e=e||[])[0]=this.getAxis("x").dataToCoord(t[0],n),e[2]=this.getAxis("y").dataToCoord(t[1],n),e[1]=this.getAxis("z").dataToCoord(t[2],n),e},pointToData:function(t,e,n){return(e=e||[])[0]=this.getAxis("x").coordToData(t[0],n),e[1]=this.getAxis("y").coordToData(t[2],n),e[2]=this.getAxis("z").coordToData(t[1],n),e}},i.a.util.inherits(s,o.a),e.a=s},function(t,e,n){var r=n(13);function i(t){return this._axes[t]}var a=function(t){this._axes={},this._dimList=[],this.name=t||""};a.prototype={constructor:a,type:"cartesian",getAxis:function(t){return this._axes[t]},getAxes:function(){return r.map(this._dimList,i,this)},getAxesByScale:function(t){return t=t.toLowerCase(),r.filter(this.getAxes(),(function(e){return e.scale.type===t}))},addAxis:function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},dataToCoord:function(t){return this._dataCoordConvert(t,"dataToCoord")},coordToData:function(t){return this._dataCoordConvert(t,"coordToData")},_dataCoordConvert:function(t,e){for(var n=this._dimList,r=t instanceof Array?[]:{},i=0;i<n.length;i++){var a=n[i],o=this._axes[a];r[a]=o[e](t[a])}return r}};var o=a;t.exports=o},function(t,e,n){"use strict";var r=n(0),i=n.n(r);function a(t,e,n){i.a.Axis.call(this,t,e,n)}a.prototype={constructor:a,getExtentMin:function(){var t=this._extent;return Math.min(t[0],t[1])},getExtentMax:function(){var t=this._extent;return Math.max(t[0],t[1])},calculateCategoryInterval:function(){return Math.floor(this.scale.count()/8)}},i.a.util.inherits(a,i.a.Axis),e.a=a},function(t,e,n){var r=n(13),i=n(172),a=n(85),o=r.normalizeCssArray,s=/([&<>"'])/g,u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function l(t){return null==t?"":(t+"").replace(s,(function(t,e){return u[e]}))}var c=["a","b","c","d","e","f","g"],h=function(t,e){return"{"+t+(null==e?"":e)+"}"};function f(t,e){return"0000".substr(0,e-(t+="").length)+t}var d=i.truncateText,p=i.getBoundingRect;e.addCommas=function(t){return isNaN(t)?"-":(t=(t+"").split("."))[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")},e.toCamelCase=function(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,(function(t,e){return e.toUpperCase()})),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t},e.normalizeCssArray=o,e.encodeHTML=l,e.formatTpl=function(t,e,n){r.isArray(e)||(e=[e]);var i=e.length;if(!i)return"";for(var a=e[0].$vars||[],o=0;o<a.length;o++){var s=c[o];t=t.replace(h(s),h(s,0))}for(var u=0;u<i;u++)for(var f=0;f<a.length;f++){var d=e[u][a[f]];t=t.replace(h(c[f],u),n?l(d):d)}return t},e.formatTplSimple=function(t,e,n){return r.each(e,(function(e,r){t=t.replace("{"+r+"}",n?l(e):e)})),t},e.getTooltipMarker=function(t,e){var n=(t=r.isString(t)?{color:t,extraCssText:e}:t||{}).color,i=t.type;return e=t.extraCssText,n?"subItem"===i?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+l(n)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+l(n)+";"+(e||"")+'"></span>':""},e.formatTime=function(t,e,n){"week"!==t&&"month"!==t&&"quarter"!==t&&"half-year"!==t&&"year"!==t||(t="MM-dd\nyyyy");var r=a.parseDate(e),i=n?"UTC":"",o=r["get"+i+"FullYear"](),s=r["get"+i+"Month"]()+1,u=r["get"+i+"Date"](),l=r["get"+i+"Hours"](),c=r["get"+i+"Minutes"](),h=r["get"+i+"Seconds"](),d=r["get"+i+"Milliseconds"]();return t=t.replace("MM",f(s,2)).replace("M",s).replace("yyyy",o).replace("yy",o%100).replace("dd",f(u,2)).replace("d",u).replace("hh",f(l,2)).replace("h",l).replace("mm",f(c,2)).replace("m",c).replace("ss",f(h,2)).replace("s",h).replace("SSS",f(d,3))},e.capitalFirst=function(t){return t?t.charAt(0).toUpperCase()+t.substr(1):t},e.truncateText=d,e.getTextRect=p},function(t,e,n){var r=n(82),i=n(173),a=n(13),o=a.getContext,s=a.extend,u=a.retrieve2,l=a.retrieve3,c=a.trim,h={},f=0,d=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,p={};function m(t,e){var n=t+":"+(e=e||"12px sans-serif");if(h[n])return h[n];for(var r=(t+"").split("\n"),i=0,a=0,o=r.length;a<o;a++)i=Math.max(T(r[a],e).width,i);return f>5e3&&(f=0,h={}),f++,h[n]=i,i}function g(t,e,n){return"right"===n?t-=e:"center"===n&&(t-=e/2),t}function _(t,e,n){return"middle"===n?t-=e/2:"bottom"===n&&(t-=e),t}function v(t,e,n,r,i){if(!e)return"";var a=(t+"").split("\n");i=y(e,n,r,i);for(var o=0,s=a.length;o<s;o++)a[o]=b(a[o],i);return a.join("\n")}function y(t,e,n,r){(r=s({},r)).font=e,n=u(n,"..."),r.maxIterations=u(r.maxIterations,2);var i=r.minChar=u(r.minChar,0);r.cnCharWidth=m("国",e);var a=r.ascCharWidth=m("a",e);r.placeholder=u(r.placeholder,"");for(var o=t=Math.max(0,t-1),l=0;l<i&&o>=a;l++)o-=a;var c=m(n);return c>o&&(n="",c=0),o=t-c,r.ellipsis=n,r.ellipsisWidth=c,r.contentWidth=o,r.containerWidth=t,r}function b(t,e){var n=e.containerWidth,r=e.font,i=e.contentWidth;if(!n)return"";var a=m(t,r);if(a<=n)return t;for(var o=0;;o++){if(a<=i||o>=e.maxIterations){t+=e.ellipsis;break}var s=0===o?x(t,i,e.ascCharWidth,e.cnCharWidth):a>0?Math.floor(t.length*i/a):0;a=m(t=t.substr(0,s),r)}return""===t&&(t=e.placeholder),t}function x(t,e,n,r){for(var i=0,a=0,o=t.length;a<o&&i<e;a++){var s=t.charCodeAt(a);i+=0<=s&&s<=127?n:r}return a}function w(t){return m("国",t)}function T(t,e){return p.measureText(t,e)}function S(t,e,n,r){null!=t&&(t+="");var i=w(e),a=t?t.split("\n"):[],o=a.length*i,s=o;if(n&&(s+=n[0]+n[2]),t&&r){var u=r.outerHeight,l=r.outerWidth;if(null!=u&&s>u)t="",a=[];else if(null!=l)for(var c=y(l-(n?n[1]+n[3]:0),e,r.ellipsis,{minChar:r.minChar,placeholder:r.placeholder}),h=0,f=a.length;h<f;h++)a[h]=b(a[h],c)}return{lines:a,height:o,outerHeight:s,lineHeight:i}}function E(t,e){var n={lines:[],width:0,height:0};if(null!=t&&(t+=""),!t)return n;for(var r,a=d.lastIndex=0;null!=(r=d.exec(t));){var o=r.index;o>a&&C(n,t.substring(a,o)),C(n,r[2],r[1]),a=d.lastIndex}a<t.length&&C(n,t.substring(a,t.length));var s=n.lines,c=0,h=0,f=[],p=e.textPadding,g=e.truncate,_=g&&g.outerWidth,y=g&&g.outerHeight;p&&(null!=_&&(_-=p[1]+p[3]),null!=y&&(y-=p[0]+p[2]));for(var b=0;b<s.length;b++){for(var x=s[b],T=0,S=0,E=0;E<x.tokens.length;E++){var A=(B=x.tokens[E]).styleName&&e.rich[B.styleName]||{},M=B.textPadding=A.textPadding,O=B.font=A.font||e.font,D=B.textHeight=u(A.textHeight,w(O));if(M&&(D+=M[0]+M[2]),B.height=D,B.lineHeight=l(A.textLineHeight,e.textLineHeight,D),B.textAlign=A&&A.textAlign||e.textAlign,B.textVerticalAlign=A&&A.textVerticalAlign||"middle",null!=y&&c+B.lineHeight>y)return{lines:[],width:0,height:0};B.textWidth=m(B.text,O);var N=A.textWidth,I=null==N||"auto"===N;if("string"==typeof N&&"%"===N.charAt(N.length-1))B.percentWidth=N,f.push(B),N=0;else{if(I){N=B.textWidth;var P=A.textBackgroundColor,L=P&&P.image;L&&(L=i.findExistImage(L),i.isImageReady(L)&&(N=Math.max(N,L.width*D/L.height)))}var R=M?M[1]+M[3]:0;N+=R;var k=null!=_?_-S:null;null!=k&&k<N&&(!I||k<R?(B.text="",B.textWidth=N=0):(B.text=v(B.text,k-R,O,g.ellipsis,{minChar:g.minChar}),B.textWidth=m(B.text,O),N=B.textWidth+R))}S+=B.width=N,A&&(T=Math.max(T,B.lineHeight))}x.width=S,x.lineHeight=T,c+=T,h=Math.max(h,S)}for(n.outerWidth=n.width=u(e.textWidth,h),n.outerHeight=n.height=u(e.textHeight,c),p&&(n.outerWidth+=p[1]+p[3],n.outerHeight+=p[0]+p[2]),b=0;b<f.length;b++){var B,F=(B=f[b]).percentWidth;B.width=parseInt(F,10)/100*h}return n}function C(t,e,n){for(var r=""===e,i=e.split("\n"),a=t.lines,o=0;o<i.length;o++){var s=i[o],u={styleName:n,text:s,isLineHolder:!s&&!r};if(o)a.push({tokens:[u]});else{var l=(a[a.length-1]||(a[0]={tokens:[]})).tokens,c=l.length;1===c&&l[0].isLineHolder?l[0]=u:(s||!c||r)&&l.push(u)}}}p.measureText=function(t,e){var n=o();return n.font=e||"12px sans-serif",n.measureText(t)},e.DEFAULT_FONT="12px sans-serif",e.$override=function(t,e){p[t]=e},e.getWidth=m,e.getBoundingRect=function(t,e,n,i,a,o,s){return o?function(t,e,n,i,a,o,s){var u=E(t,{rich:o,truncate:s,font:e,textAlign:n,textPadding:a}),l=u.outerWidth,c=u.outerHeight,h=g(0,l,n),f=_(0,c,i);return new r(h,f,l,c)}(t,e,n,i,a,o,s):function(t,e,n,i,a,o){var s=S(t,e,a,o),u=m(t,e);a&&(u+=a[1]+a[3]);var l=s.outerHeight,c=g(0,u,n),h=_(0,l,i),f=new r(c,h,u,l);return f.lineHeight=s.lineHeight,f}(t,e,n,i,a,s)},e.adjustTextX=g,e.adjustTextY=_,e.adjustTextPositionOnRect=function(t,e,n){var r=e.x,i=e.y,a=e.height,o=e.width,s=a/2,u="left",l="top";switch(t){case"left":r-=n,i+=s,u="right",l="middle";break;case"right":r+=n+o,i+=s,l="middle";break;case"top":r+=o/2,i-=n,u="center",l="bottom";break;case"bottom":r+=o/2,i+=a+n,u="center";break;case"inside":r+=o/2,i+=s,u="center",l="middle";break;case"insideLeft":r+=n,i+=s,l="middle";break;case"insideRight":r+=o-n,i+=s,u="right",l="middle";break;case"insideTop":r+=o/2,i+=n,u="center";break;case"insideBottom":r+=o/2,i+=a-n,u="center",l="bottom";break;case"insideTopLeft":r+=n,i+=n;break;case"insideTopRight":r+=o-n,i+=n,u="right";break;case"insideBottomLeft":r+=n,i+=a-n,l="bottom";break;case"insideBottomRight":r+=o-n,i+=a-n,u="right",l="bottom"}return{x:r,y:i,textAlign:u,textVerticalAlign:l}},e.truncateText=v,e.getLineHeight=w,e.measureText=T,e.parsePlainText=S,e.parseRichText=E,e.makeFont=function(t){var e=(t.fontSize||t.fontFamily)&&[t.fontStyle,t.fontWeight,(t.fontSize||12)+"px",t.fontFamily||"sans-serif"].join(" ");return e&&c(e)||t.textFont||t.font}},function(t,e,n){var r=new(n(60))(50);function i(){var t=this.__cachedImgObj;this.onload=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var n=t.pending[e],r=n.cb;r&&r(this,n.cbPayload),n.hostEl.dirty()}t.pending.length=0}function a(t){return t&&t.width&&t.height}e.findExistImage=function(t){if("string"==typeof t){var e=r.get(t);return e&&e.image}return t},e.createOrUpdateImage=function(t,e,n,o,s){if(t){if("string"==typeof t){if(e&&e.__zrImageSrc===t||!n)return e;var u=r.get(t),l={hostEl:n,cb:o,cbPayload:s};return u?!a(e=u.image)&&u.pending.push(l):(!e&&(e=new Image),e.onload=i,r.put(t,e.__cachedImgObj={image:e,pending:[l]}),e.src=e.__zrImageSrc=t),e}return t}return e},e.isImageReady=a},function(t,e,n){"use strict";var r=n(7),i=n(11),a=n(3),o=n(18),s=n(59),u=n(9),l=n(52),c=n(8),h=n(19),f=n(10),d=n(4),p=n(5),m=n(27),g=n(41),_=n(37),v=n(16),y=n(86),b=n(21),x=n(175),w=["px","nx","py","ny","pz","nz"];function T(t,e,n){return"alphaMap"===n?t.material.get("diffuseMap"):"alphaCutoff"===n?t.material.isDefined("fragment","ALPHA_TEST")&&t.material.get("diffuseMap")&&t.material.get("alphaCutoff")||0:e.get(n)}function S(t,e){var n=t.material,r=e.material;return n.get("diffuseMap")!==r.get("diffuseMap")||(n.get("alphaCutoff")||0)!==(r.get("alphaCutoff")||0)}c.a.import(x.a);var E,C,A,M,O,D,N,I=r.a.extend((function(){return{softShadow:I.PCF,shadowBlur:1,lightFrustumBias:"auto",kernelPCF:new Float32Array([1,0,1,1,-1,1,0,1,-1,0,-1,-1,1,-1,0,-1]),precision:"highp",_lastRenderNotCastShadow:!1,_frameBuffer:new f.a,_textures:{},_shadowMapNumber:{POINT_LIGHT:0,DIRECTIONAL_LIGHT:0,SPOT_LIGHT:0},_depthMaterials:{},_distanceMaterials:{},_receivers:[],_lightsCastShadow:[],_lightCameras:{},_lightMaterials:{},_texturePool:new y.a}}),(function(){this._gaussianPassH=new v.a({fragment:c.a.source("clay.compositor.gaussian_blur")}),this._gaussianPassV=new v.a({fragment:c.a.source("clay.compositor.gaussian_blur")}),this._gaussianPassH.setUniform("blurSize",this.shadowBlur),this._gaussianPassH.setUniform("blurDir",0),this._gaussianPassV.setUniform("blurSize",this.shadowBlur),this._gaussianPassV.setUniform("blurDir",1),this._outputDepthPass=new v.a({fragment:c.a.source("clay.sm.debug_depth")})}),{render:function(t,e,n,r){n||(n=e.getMainCamera()),this.trigger("beforerender",this,t,e,n),this._renderShadowPass(t,e,n,r),this.trigger("afterrender",this,t,e,n)},renderDebug:function(t,e){t.saveClear();var n=t.viewport,r=0,i=e||n.width/4,a=i;for(var o in this.softShadow===I.VSM?this._outputDepthPass.material.define("fragment","USE_VSM"):this._outputDepthPass.material.undefine("fragment","USE_VSM"),this._textures){var s=this._textures[o];t.setViewport(r,0,i*s.width/s.height,a),this._outputDepthPass.setUniform("depthMap",s),this._outputDepthPass.render(t),r+=i*s.width/s.height}t.setViewport(n),t.restoreClear()},_updateReceivers:function(t,e){if(e.receiveShadow?(this._receivers.push(e),e.material.set("shadowEnabled",1),e.material.set("pcfKernel",this.kernelPCF)):e.material.set("shadowEnabled",0),this.softShadow===I.VSM)e.material.define("fragment","USE_VSM"),e.material.undefine("fragment","PCF_KERNEL_SIZE");else{e.material.undefine("fragment","USE_VSM");var n=this.kernelPCF;n&&n.length?e.material.define("fragment","PCF_KERNEL_SIZE",n.length/2):e.material.undefine("fragment","PCF_KERNEL_SIZE")}},_update:function(t,e){var n=this;e.traverse((function(e){e.isRenderable()&&n._updateReceivers(t,e)}));for(var r=0;r<e.lights.length;r++){var i=e.lights[r];i.castShadow&&!i.invisible&&this._lightsCastShadow.push(i)}},_renderShadowPass:function(t,e,n,r){for(var i in this._shadowMapNumber)this._shadowMapNumber[i]=0;this._lightsCastShadow.length=0,this._receivers.length=0;var a=t.gl;if(r||e.update(),n&&n.update(),e.updateLights(),this._update(t,e),this._lightsCastShadow.length||!this._lastRenderNotCastShadow){this._lastRenderNotCastShadow=0===this._lightsCastShadow,a.enable(a.DEPTH_TEST),a.depthMask(!0),a.disable(a.BLEND),a.clearColor(1,1,1,1);for(var o,s=[],u=[],l=[],c=[],h=[],f=[],d=0;d<this._lightsCastShadow.length;d++){var p=this._lightsCastShadow[d];if("DIRECTIONAL_LIGHT"===p.type){if(o){console.warn("Only one direectional light supported with shadow cascade");continue}if(p.shadowCascade>4){console.warn("Support at most 4 cascade");continue}p.shadowCascade>1&&(o=p),this.renderDirectionalLightShadow(t,e,n,p,h,c,l)}else"SPOT_LIGHT"===p.type?this.renderSpotLightShadow(t,e,p,u,s):"POINT_LIGHT"===p.type&&this.renderPointLightShadow(t,e,p,f);this._shadowMapNumber[p.type]++}for(var m in this._shadowMapNumber){var g=this._shadowMapNumber[m],_=m+"_SHADOWMAP_COUNT";for(d=0;d<this._receivers.length;d++)(v=this._receivers[d].material).fragmentDefines[_]!==g&&(g>0?v.define("fragment",_,g):v.isDefined("fragment",_)&&v.undefine("fragment",_))}for(d=0;d<this._receivers.length;d++){var v=this._receivers[d].material;o?v.define("fragment","SHADOW_CASCADE",o.shadowCascade):v.undefine("fragment","SHADOW_CASCADE")}var y=e.shadowUniforms;if(l.length>0){var b=l.map(S);if(y.directionalLightShadowMaps={value:l,type:"tv"},y.directionalLightMatrices={value:c,type:"m4v"},y.directionalLightShadowMapSizes={value:b,type:"1fv"},o){var x=h.slice(),w=h.slice();x.pop(),w.shift(),x.reverse(),w.reverse(),c.reverse(),y.shadowCascadeClipsNear={value:x,type:"1fv"},y.shadowCascadeClipsFar={value:w,type:"1fv"}}}if(s.length>0){var T=s.map(S);(y=e.shadowUniforms).spotLightShadowMaps={value:s,type:"tv"},y.spotLightMatrices={value:u,type:"m4v"},y.spotLightShadowMapSizes={value:T,type:"1fv"}}f.length>0&&(y.pointLightShadowMaps={value:f,type:"tv"})}function S(t){return t.height}},renderDirectionalLightShadow:(E=new s.a,C=new u.a,A=new o.a,M=new u.a,O=new u.a,D=new u.a,N=new u.a,function(t,e,n,r,i,a,o){var s=this._getDepthMaterial(r),c={getMaterial:function(t){return t.shadowDepthMaterial||s},isMaterialChanged:S,getUniform:T,ifRender:function(t){return t.castShadow},sortCompare:l.a.opaqueSortCompare};if(!e.viewBoundingBoxLastFrame.isFinite()){var h=e.getBoundingBox();e.viewBoundingBoxLastFrame.copy(h).applyTransform(n.viewMatrix)}var f=Math.min(-e.viewBoundingBoxLastFrame.min.z,n.far),d=Math.max(-e.viewBoundingBoxLastFrame.max.z,n.near),p=this._getDirectionalLightCamera(r,e,n),m=D.array;N.copy(p.projectionMatrix),b.a.invert(O.array,p.worldTransform.array),b.a.multiply(O.array,O.array,n.worldTransform.array),b.a.multiply(m,N.array,O.array);for(var _=[],v=n instanceof g.a,y=(n.near+n.far)/(n.near-n.far),x=2*n.near*n.far/(n.near-n.far),w=0;w<=r.shadowCascade;w++){var P=d*Math.pow(f/d,w/r.shadowCascade),L=d+(f-d)*w/r.shadowCascade,R=P*r.cascadeSplitLogFactor+L*(1-r.cascadeSplitLogFactor);_.push(R),i.push(-(-R*y+x)/-R)}var k=this._getTexture(r,r.shadowCascade);o.push(k);var B=t.viewport,F=t.gl;for(this._frameBuffer.attach(k),this._frameBuffer.bind(t),F.clear(F.COLOR_BUFFER_BIT|F.DEPTH_BUFFER_BIT),w=0;w<r.shadowCascade;w++){var z=_[w],j=_[w+1];v?b.a.perspective(C.array,n.fov/180*Math.PI,n.aspect,z,j):b.a.ortho(C.array,n.left,n.right,n.bottom,n.top,z,j),E.setFromProjection(C),E.getTransformedBoundingBox(A,O),A.applyProjection(N);var U=A.min.array,H=A.max.array;U[0]=Math.max(U[0],-1),U[1]=Math.max(U[1],-1),H[0]=Math.min(H[0],1),H[1]=Math.min(H[1],1),M.ortho(U[0],H[0],U[1],H[1],1,-1),p.projectionMatrix.multiplyLeft(M);var V=r.shadowResolution||512;t.setViewport((r.shadowCascade-w-1)*V,0,V,V,1);var G=e.updateRenderList(p);t.renderPass(G.opaque,p,c),this.softShadow===I.VSM&&this._gaussianFilter(t,k,k.width);var W=new u.a;W.copy(p.viewMatrix).multiplyLeft(p.projectionMatrix),a.push(W.array),p.projectionMatrix.copy(N)}this._frameBuffer.unbind(t),t.setViewport(B)}),renderSpotLightShadow:function(t,e,n,r,i){var a=this._getTexture(n),o=this._getSpotLightCamera(n),s=t.gl;this._frameBuffer.attach(a),this._frameBuffer.bind(t),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT);var c=this._getDepthMaterial(n),h={getMaterial:function(t){return t.shadowDepthMaterial||c},isMaterialChanged:S,getUniform:T,ifRender:function(t){return t.castShadow},sortCompare:l.a.opaqueSortCompare},f=e.updateRenderList(o);t.renderPass(f.opaque,o,h),this._frameBuffer.unbind(t),this.softShadow===I.VSM&&this._gaussianFilter(t,a,a.width);var d=new u.a;d.copy(o.worldTransform).invert().multiplyLeft(o.projectionMatrix),i.push(a),r.push(d.array)},renderPointLightShadow:function(t,e,n,r){var i=this._getTexture(n),s=t.gl;r.push(i);var u=this._getDepthMaterial(n),c={getMaterial:function(t){return t.shadowDepthMaterial||u},getUniform:T,sortCompare:l.a.opaqueSortCompare},h={px:[],py:[],pz:[],nx:[],ny:[],nz:[]},f=new o.a,d=n.getWorldPosition().array,p=new o.a,m=n.range;p.min.setArray(d),p.max.setArray(d);var g=new a.a(m,m,m);p.max.add(g),p.min.sub(g);var _={px:!1,py:!1,pz:!1,nx:!1,ny:!1,nz:!1};e.traverse((function(t){if(t.isRenderable()&&t.castShadow){var e=t.geometry;if(!e.boundingBox){for(var n=0;n<w.length;n++)h[w[n]].push(t);return}if(f.transformFrom(e.boundingBox,t.worldTransform),!f.intersectBoundingBox(p))return;for(f.updateVertices(),n=0;n<w.length;n++)_[w[n]]=!1;for(n=0;n<8;n++){var r=f.vertices[n],i=r[0]-d[0],a=r[1]-d[1],o=r[2]-d[2],s=Math.abs(i),u=Math.abs(a),l=Math.abs(o);s>u?s>l?_[i>0?"px":"nx"]=!0:_[o>0?"pz":"nz"]=!0:u>l?_[a>0?"py":"ny"]=!0:_[o>0?"pz":"nz"]=!0}for(n=0;n<w.length;n++)_[w[n]]&&h[w[n]].push(t)}}));for(var v=0;v<6;v++){var y=w[v],b=this._getPointLightCamera(n,y);this._frameBuffer.attach(i,s.COLOR_ATTACHMENT0,s.TEXTURE_CUBE_MAP_POSITIVE_X+v),this._frameBuffer.bind(t),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT),t.renderPass(h[y],b,c)}this._frameBuffer.unbind(t)},_getDepthMaterial:function(t){var e=this._lightMaterials[t.__uid__],n="POINT_LIGHT"===t.type;if(!e){var r=n?"clay.sm.distance.":"clay.sm.depth.";e=new h.a({precision:this.precision,shader:new c.a(c.a.source(r+"vertex"),c.a.source(r+"fragment"))}),this._lightMaterials[t.__uid__]=e}return null!=t.shadowSlopeScale&&e.setUniform("slopeScale",t.shadowSlopeScale),null!=t.shadowBias&&e.setUniform("bias",t.shadowBias),this.softShadow===I.VSM?e.define("fragment","USE_VSM"):e.undefine("fragment","USE_VSM"),n&&(e.set("lightPosition",t.getWorldPosition().array),e.set("range",t.range)),e},_gaussianFilter:function(t,e,n){var r={width:n,height:n,type:d.a.FLOAT},i=this._texturePool.get(r);this._frameBuffer.attach(i),this._frameBuffer.bind(t),this._gaussianPassH.setUniform("texture",e),this._gaussianPassH.setUniform("textureWidth",n),this._gaussianPassH.render(t),this._frameBuffer.attach(e),this._gaussianPassV.setUniform("texture",i),this._gaussianPassV.setUniform("textureHeight",n),this._gaussianPassV.render(t),this._frameBuffer.unbind(t),this._texturePool.put(i)},_getTexture:function(t,e){var n=t.__uid__,r=this._textures[n],a=t.shadowResolution||512;return e=e||1,r||((r="POINT_LIGHT"===t.type?new m.a:new p.a).width=a*e,r.height=a,this.softShadow===I.VSM?(r.type=d.a.FLOAT,r.anisotropic=4):(r.minFilter=i.a.NEAREST,r.magFilter=i.a.NEAREST,r.useMipmap=!1),this._textures[n]=r),r},_getPointLightCamera:function(t,e){this._lightCameras.point||(this._lightCameras.point={px:new g.a,nx:new g.a,py:new g.a,ny:new g.a,pz:new g.a,nz:new g.a});var n=this._lightCameras.point[e];switch(n.far=t.range,n.fov=90,n.position.set(0,0,0),e){case"px":n.lookAt(a.a.POSITIVE_X,a.a.NEGATIVE_Y);break;case"nx":n.lookAt(a.a.NEGATIVE_X,a.a.NEGATIVE_Y);break;case"py":n.lookAt(a.a.POSITIVE_Y,a.a.POSITIVE_Z);break;case"ny":n.lookAt(a.a.NEGATIVE_Y,a.a.NEGATIVE_Z);break;case"pz":n.lookAt(a.a.POSITIVE_Z,a.a.NEGATIVE_Y);break;case"nz":n.lookAt(a.a.NEGATIVE_Z,a.a.NEGATIVE_Y)}return t.getWorldPosition(n.position),n.update(),n},_getDirectionalLightCamera:function(){var t=new u.a,e=new o.a,n=new o.a;return function(r,i,a){this._lightCameras.directional||(this._lightCameras.directional=new _.a);var o=this._lightCameras.directional;e.copy(i.viewBoundingBoxLastFrame),e.intersection(a.frustum.boundingBox),o.position.copy(e.min).add(e.max).scale(.5).transformMat4(a.worldTransform),o.rotation.copy(r.rotation),o.scale.copy(r.scale),o.updateWorldTransform(),u.a.invert(t,o.worldTransform),u.a.multiply(t,t,a.worldTransform),n.copy(e).applyTransform(t);var s=n.min.array,l=n.max.array;return o.position.set((s[0]+l[0])/2,(s[1]+l[1])/2,l[2]).transformMat4(o.worldTransform),o.near=0,o.far=-s[2]+l[2],isNaN(this.lightFrustumBias)?o.far*=4:o.far+=this.lightFrustumBias,o.left=s[0],o.right=l[0],o.top=l[1],o.bottom=s[1],o.update(!0),o}}(),_getSpotLightCamera:function(t){this._lightCameras.spot||(this._lightCameras.spot=new g.a);var e=this._lightCameras.spot;return e.fov=2*t.penumbraAngle,e.far=t.range,e.worldTransform.copy(t.worldTransform),e.updateProjectionMatrix(),b.a.invert(e.viewMatrix.array,e.worldTransform.array),e},dispose:function(t){var e=t.gl||t;for(var n in this._frameBuffer&&this._frameBuffer.dispose(e),this._textures)this._textures[n].dispose(e);this._texturePool.clear(t.gl),this._depthMaterials={},this._distanceMaterials={},this._textures={},this._lightCameras={},this._shadowMapNumber={POINT_LIGHT:0,DIRECTIONAL_LIGHT:0,SPOT_LIGHT:0},this._meshMaterials={};for(var r=0;r<this._receivers.length;r++){var i=this._receivers[r];if(i.material){var a=i.material;a.undefine("fragment","POINT_LIGHT_SHADOW_COUNT"),a.undefine("fragment","DIRECTIONAL_LIGHT_SHADOW_COUNT"),a.undefine("fragment","AMBIENT_LIGHT_SHADOW_COUNT"),a.set("shadowEnabled",0)}}this._receivers=[],this._lightsCastShadow=[]}});I.VSM=1,I.PCF=2,e.a=I},function(t,e,n){"use strict";e.a="@export clay.sm.depth.vertex\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nattribute vec3 position : POSITION;\nattribute vec2 texcoord : TEXCOORD_0;\n@import clay.chunk.skinning_header\nvarying vec4 v_ViewPosition;\nvarying vec2 v_Texcoord;\nvoid main(){\n vec3 skinnedPosition = position;\n#ifdef SKINNING\n @import clay.chunk.skin_matrix\n skinnedPosition = (skinMatrixWS * vec4(position, 1.0)).xyz;\n#endif\n v_ViewPosition = worldViewProjection * vec4(skinnedPosition, 1.0);\n gl_Position = v_ViewPosition;\n v_Texcoord = texcoord;\n}\n@end\n@export clay.sm.depth.fragment\nvarying vec4 v_ViewPosition;\nvarying vec2 v_Texcoord;\nuniform float bias : 0.001;\nuniform float slopeScale : 1.0;\nuniform sampler2D alphaMap;\nuniform float alphaCutoff: 0.0;\n@import clay.util.encode_float\nvoid main(){\n float depth = v_ViewPosition.z / v_ViewPosition.w;\n if (alphaCutoff > 0.0) {\n if (texture2D(alphaMap, v_Texcoord).a <= alphaCutoff) {\n discard;\n }\n }\n#ifdef USE_VSM\n depth = depth * 0.5 + 0.5;\n float moment1 = depth;\n float moment2 = depth * depth;\n float dx = dFdx(depth);\n float dy = dFdy(depth);\n moment2 += 0.25*(dx*dx+dy*dy);\n gl_FragColor = vec4(moment1, moment2, 0.0, 1.0);\n#else\n float dx = dFdx(depth);\n float dy = dFdy(depth);\n depth += sqrt(dx*dx + dy*dy) * slopeScale + bias;\n gl_FragColor = encodeFloat(depth * 0.5 + 0.5);\n#endif\n}\n@end\n@export clay.sm.debug_depth\nuniform sampler2D depthMap;\nvarying vec2 v_Texcoord;\n@import clay.util.decode_float\nvoid main() {\n vec4 tex = texture2D(depthMap, v_Texcoord);\n#ifdef USE_VSM\n gl_FragColor = vec4(tex.rgb, 1.0);\n#else\n float depth = decodeFloat(tex);\n gl_FragColor = vec4(depth, depth, depth, 1.0);\n#endif\n}\n@end\n@export clay.sm.distance.vertex\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform mat4 world : WORLD;\nattribute vec3 position : POSITION;\n@import clay.chunk.skinning_header\nvarying vec3 v_WorldPosition;\nvoid main (){\n vec3 skinnedPosition = position;\n#ifdef SKINNING\n @import clay.chunk.skin_matrix\n skinnedPosition = (skinMatrixWS * vec4(position, 1.0)).xyz;\n#endif\n gl_Position = worldViewProjection * vec4(skinnedPosition , 1.0);\n v_WorldPosition = (world * vec4(skinnedPosition, 1.0)).xyz;\n}\n@end\n@export clay.sm.distance.fragment\nuniform vec3 lightPosition;\nuniform float range : 100;\nvarying vec3 v_WorldPosition;\n@import clay.util.encode_float\nvoid main(){\n float dist = distance(lightPosition, v_WorldPosition);\n#ifdef USE_VSM\n gl_FragColor = vec4(dist, dist * dist, 0.0, 0.0);\n#else\n dist = dist / range;\n gl_FragColor = encodeFloat(dist);\n#endif\n}\n@end\n@export clay.plugin.shadow_map_common\n@import clay.util.decode_float\nfloat tapShadowMap(sampler2D map, vec2 uv, float z){\n vec4 tex = texture2D(map, uv);\n return step(z, decodeFloat(tex) * 2.0 - 1.0);\n}\nfloat pcf(sampler2D map, vec2 uv, float z, float textureSize, vec2 scale) {\n float shadowContrib = tapShadowMap(map, uv, z);\n vec2 offset = vec2(1.0 / textureSize) * scale;\n#ifdef PCF_KERNEL_SIZE\n for (int _idx_ = 0; _idx_ < PCF_KERNEL_SIZE; _idx_++) {{\n shadowContrib += tapShadowMap(map, uv + offset * pcfKernel[_idx_], z);\n }}\n return shadowContrib / float(PCF_KERNEL_SIZE + 1);\n#else\n shadowContrib += tapShadowMap(map, uv+vec2(offset.x, 0.0), z);\n shadowContrib += tapShadowMap(map, uv+vec2(offset.x, offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(0.0, offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, 0.0), z);\n shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, -offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(offset.x, -offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(0.0, -offset.y), z);\n return shadowContrib / 9.0;\n#endif\n}\nfloat pcf(sampler2D map, vec2 uv, float z, float textureSize) {\n return pcf(map, uv, z, textureSize, vec2(1.0));\n}\nfloat chebyshevUpperBound(vec2 moments, float z){\n float p = 0.0;\n z = z * 0.5 + 0.5;\n if (z <= moments.x) {\n p = 1.0;\n }\n float variance = moments.y - moments.x * moments.x;\n variance = max(variance, 0.0000001);\n float mD = moments.x - z;\n float pMax = variance / (variance + mD * mD);\n pMax = clamp((pMax-0.4)/(1.0-0.4), 0.0, 1.0);\n return max(p, pMax);\n}\nfloat computeShadowContrib(\n sampler2D map, mat4 lightVPM, vec3 position, float textureSize, vec2 scale, vec2 offset\n) {\n vec4 posInLightSpace = lightVPM * vec4(position, 1.0);\n posInLightSpace.xyz /= posInLightSpace.w;\n float z = posInLightSpace.z;\n if(all(greaterThan(posInLightSpace.xyz, vec3(-0.99, -0.99, -1.0))) &&\n all(lessThan(posInLightSpace.xyz, vec3(0.99, 0.99, 1.0)))){\n vec2 uv = (posInLightSpace.xy+1.0) / 2.0;\n #ifdef USE_VSM\n vec2 moments = texture2D(map, uv * scale + offset).xy;\n return chebyshevUpperBound(moments, z);\n #else\n return pcf(map, uv * scale + offset, z, textureSize, scale);\n #endif\n }\n return 1.0;\n}\nfloat computeShadowContrib(sampler2D map, mat4 lightVPM, vec3 position, float textureSize) {\n return computeShadowContrib(map, lightVPM, position, textureSize, vec2(1.0), vec2(0.0));\n}\nfloat computeShadowContribOmni(samplerCube map, vec3 direction, float range)\n{\n float dist = length(direction);\n vec4 shadowTex = textureCube(map, direction);\n#ifdef USE_VSM\n vec2 moments = shadowTex.xy;\n float variance = moments.y - moments.x * moments.x;\n float mD = moments.x - dist;\n float p = variance / (variance + mD * mD);\n if(moments.x + 0.001 < dist){\n return clamp(p, 0.0, 1.0);\n }else{\n return 1.0;\n }\n#else\n return step(dist, (decodeFloat(shadowTex) + 0.0002) * range);\n#endif\n}\n@end\n@export clay.plugin.compute_shadow_map\n#if defined(SPOT_LIGHT_SHADOWMAP_COUNT) || defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT) || defined(POINT_LIGHT_SHADOWMAP_COUNT)\n#ifdef SPOT_LIGHT_SHADOWMAP_COUNT\nuniform sampler2D spotLightShadowMaps[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\nuniform mat4 spotLightMatrices[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\nuniform float spotLightShadowMapSizes[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\n#endif\n#ifdef DIRECTIONAL_LIGHT_SHADOWMAP_COUNT\n#if defined(SHADOW_CASCADE)\nuniform sampler2D directionalLightShadowMaps[1]:unconfigurable;\nuniform mat4 directionalLightMatrices[SHADOW_CASCADE]:unconfigurable;\nuniform float directionalLightShadowMapSizes[1]:unconfigurable;\nuniform float shadowCascadeClipsNear[SHADOW_CASCADE]:unconfigurable;\nuniform float shadowCascadeClipsFar[SHADOW_CASCADE]:unconfigurable;\n#else\nuniform sampler2D directionalLightShadowMaps[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\nuniform mat4 directionalLightMatrices[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\nuniform float directionalLightShadowMapSizes[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\n#endif\n#endif\n#ifdef POINT_LIGHT_SHADOWMAP_COUNT\nuniform samplerCube pointLightShadowMaps[POINT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\n#endif\nuniform bool shadowEnabled : true;\n#ifdef PCF_KERNEL_SIZE\nuniform vec2 pcfKernel[PCF_KERNEL_SIZE];\n#endif\n@import clay.plugin.shadow_map_common\n#if defined(SPOT_LIGHT_SHADOWMAP_COUNT)\nvoid computeShadowOfSpotLights(vec3 position, inout float shadowContribs[SPOT_LIGHT_COUNT] ) {\n float shadowContrib;\n for(int _idx_ = 0; _idx_ < SPOT_LIGHT_SHADOWMAP_COUNT; _idx_++) {{\n shadowContrib = computeShadowContrib(\n spotLightShadowMaps[_idx_], spotLightMatrices[_idx_], position,\n spotLightShadowMapSizes[_idx_]\n );\n shadowContribs[_idx_] = shadowContrib;\n }}\n for(int _idx_ = SPOT_LIGHT_SHADOWMAP_COUNT; _idx_ < SPOT_LIGHT_COUNT; _idx_++){{\n shadowContribs[_idx_] = 1.0;\n }}\n}\n#endif\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n#ifdef SHADOW_CASCADE\nvoid computeShadowOfDirectionalLights(vec3 position, inout float shadowContribs[DIRECTIONAL_LIGHT_COUNT]){\n float depth = (2.0 * gl_FragCoord.z - gl_DepthRange.near - gl_DepthRange.far)\n / (gl_DepthRange.far - gl_DepthRange.near);\n float shadowContrib;\n shadowContribs[0] = 1.0;\n for (int _idx_ = 0; _idx_ < SHADOW_CASCADE; _idx_++) {{\n if (\n depth >= shadowCascadeClipsNear[_idx_] &&\n depth <= shadowCascadeClipsFar[_idx_]\n ) {\n shadowContrib = computeShadowContrib(\n directionalLightShadowMaps[0], directionalLightMatrices[_idx_], position,\n directionalLightShadowMapSizes[0],\n vec2(1.0 / float(SHADOW_CASCADE), 1.0),\n vec2(float(_idx_) / float(SHADOW_CASCADE), 0.0)\n );\n shadowContribs[0] = shadowContrib;\n }\n }}\n for(int _idx_ = DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++) {{\n shadowContribs[_idx_] = 1.0;\n }}\n}\n#else\nvoid computeShadowOfDirectionalLights(vec3 position, inout float shadowContribs[DIRECTIONAL_LIGHT_COUNT]){\n float shadowContrib;\n for(int _idx_ = 0; _idx_ < DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_++) {{\n shadowContrib = computeShadowContrib(\n directionalLightShadowMaps[_idx_], directionalLightMatrices[_idx_], position,\n directionalLightShadowMapSizes[_idx_]\n );\n shadowContribs[_idx_] = shadowContrib;\n }}\n for(int _idx_ = DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++) {{\n shadowContribs[_idx_] = 1.0;\n }}\n}\n#endif\n#endif\n#if defined(POINT_LIGHT_SHADOWMAP_COUNT)\nvoid computeShadowOfPointLights(vec3 position, inout float shadowContribs[POINT_LIGHT_COUNT] ){\n vec3 lightPosition;\n vec3 direction;\n for(int _idx_ = 0; _idx_ < POINT_LIGHT_SHADOWMAP_COUNT; _idx_++) {{\n lightPosition = pointLightPosition[_idx_];\n direction = position - lightPosition;\n shadowContribs[_idx_] = computeShadowContribOmni(pointLightShadowMaps[_idx_], direction, pointLightRange[_idx_]);\n }}\n for(int _idx_ = POINT_LIGHT_SHADOWMAP_COUNT; _idx_ < POINT_LIGHT_COUNT; _idx_++) {{\n shadowContribs[_idx_] = 1.0;\n }}\n}\n#endif\n#endif\n@end"},function(t,e,n){"use strict";var r=n(8),i=n(5),a=n(4),o=n(10),s=n(177),u=n(189),l=n(191),c=n(193),h=n(1),f=n(194),d=n(196),p=(n(9),n(197)),m=n(87),g=n(88),_=n(89),v=n(90),y=n(91),b=n(92),x=n(93),w=n(94),T=n(95),S=n(198),E=n(199);r.a.import(m.a),r.a.import(g.a),r.a.import(_.a),r.a.import(v.a),r.a.import(y.a),r.a.import(b.a),r.a.import(x.a),r.a.import(w.a),r.a.import(T.a),r.a.import(S.a),r.a.import(E.a);var C={color:{parameters:{width:function(t){return t.getWidth()},height:function(t){return t.getHeight()}}}},A=["composite","FXAA"];function M(){this._sourceTexture=new i.a({type:a.a.HALF_FLOAT}),this._depthTexture=new i.a({format:a.a.DEPTH_COMPONENT,type:a.a.UNSIGNED_INT}),this._framebuffer=new o.a,this._framebuffer.attach(this._sourceTexture),this._framebuffer.attach(this._depthTexture,o.a.DEPTH_ATTACHMENT),this._normalPass=new f.a,this._compositor=Object(s.a)(p.a);var t=this._compositor.getNodeByName("source");t.texture=this._sourceTexture;var e=this._compositor.getNodeByName("coc");this._sourceNode=t,this._cocNode=e,this._compositeNode=this._compositor.getNodeByName("composite"),this._fxaaNode=this._compositor.getNodeByName("FXAA"),this._dofBlurNodes=["dof_far_blur","dof_near_blur","dof_coc_blur"].map((function(t){return this._compositor.getNodeByName(t)}),this),this._dofBlurKernel=0,this._dofBlurKernelSize=new Float32Array(0),this._finalNodesChain=A.map((function(t){return this._compositor.getNodeByName(t)}),this);var n={normalTexture:this._normalPass.getNormalTexture(),depthTexture:this._normalPass.getDepthTexture()};this._ssaoPass=new u.a(n),this._ssrPass=new l.a(n),this._edgePass=new d.a(n)}M.prototype.resize=function(t,e,n){t*=n=n||1,e*=n;var r=this._sourceTexture,i=this._depthTexture;r.width=t,r.height=e,i.width=t,i.height=e},M.prototype._ifRenderNormalPass=function(){return this._enableSSAO||this._enableEdge||this._enableSSR},M.prototype._getPrevNode=function(t){for(var e=A.indexOf(t.name)-1,n=this._finalNodesChain[e];n&&!this._compositor.getNodeByName(n.name);)e-=1,n=this._finalNodesChain[e];return n},M.prototype._getNextNode=function(t){for(var e=A.indexOf(t.name)+1,n=this._finalNodesChain[e];n&&!this._compositor.getNodeByName(n.name);)e+=1,n=this._finalNodesChain[e];return n},M.prototype._addChainNode=function(t){var e=this._getPrevNode(t),n=this._getNextNode(t);e&&(e.outputs=C,t.inputs.texture=e.name,n?(t.outputs=C,n.inputs.texture=t.name):t.outputs=null,this._compositor.addNode(t))},M.prototype._removeChainNode=function(t){var e=this._getPrevNode(t),n=this._getNextNode(t);e&&(n?(e.outputs=C,n.inputs.texture=e.name):e.outputs=null,this._compositor.removeNode(t))},M.prototype.updateNormal=function(t,e,n,r){this._ifRenderNormalPass()&&this._normalPass.update(t,e,n)},M.prototype.updateSSAO=function(t,e,n,r){this._ssaoPass.update(t,n,r)},M.prototype.enableSSAO=function(){this._enableSSAO=!0},M.prototype.disableSSAO=function(){this._enableSSAO=!1},M.prototype.enableSSR=function(){this._enableSSR=!0},M.prototype.disableSSR=function(){this._enableSSR=!1},M.prototype.getSSAOTexture=function(){return this._ssaoPass.getTargetTexture()},M.prototype.getSourceFrameBuffer=function(){return this._framebuffer},M.prototype.getSourceTexture=function(){return this._sourceTexture},M.prototype.disableFXAA=function(){this._removeChainNode(this._fxaaNode)},M.prototype.enableFXAA=function(){this._addChainNode(this._fxaaNode)},M.prototype.enableBloom=function(){this._compositeNode.inputs.bloom="bloom_composite",this._compositor.dirty()},M.prototype.disableBloom=function(){this._compositeNode.inputs.bloom=null,this._compositor.dirty()},M.prototype.enableDOF=function(){this._compositeNode.inputs.texture="dof_composite",this._compositor.dirty()},M.prototype.disableDOF=function(){this._compositeNode.inputs.texture="source",this._compositor.dirty()},M.prototype.enableColorCorrection=function(){this._compositeNode.define("COLOR_CORRECTION"),this._enableColorCorrection=!0},M.prototype.disableColorCorrection=function(){this._compositeNode.undefine("COLOR_CORRECTION"),this._enableColorCorrection=!1},M.prototype.enableEdge=function(){this._enableEdge=!0},M.prototype.disableEdge=function(){this._enableEdge=!1},M.prototype.setBloomIntensity=function(t){this._compositeNode.setParameter("bloomIntensity",t)},M.prototype.setSSAOParameter=function(t,e){switch(t){case"quality":var n={low:6,medium:12,high:32,ultra:62}[e]||12;this._ssaoPass.setParameter("kernelSize",n);break;case"radius":this._ssaoPass.setParameter(t,e),this._ssaoPass.setParameter("bias",e/200);break;case"intensity":this._ssaoPass.setParameter(t,e);break;default:console.warn("Unkown SSAO parameter "+t)}},M.prototype.setDOFParameter=function(t,e){switch(t){case"focalDistance":case"focalRange":case"fstop":this._cocNode.setParameter(t,e);break;case"blurRadius":for(var n=0;n<this._dofBlurNodes.length;n++)this._dofBlurNodes[n].setParameter("blurRadius",e);break;case"quality":var r={low:4,medium:8,high:16,ultra:32}[e]||8;for(this._dofBlurKernelSize=r,n=0;n<this._dofBlurNodes.length;n++)this._dofBlurNodes[n].pass.material.define("POISSON_KERNEL_SIZE",r);this._dofBlurKernel=new Float32Array(2*r);break;default:console.warn("Unkown DOF parameter "+t)}},M.prototype.setSSRParameter=function(t,e){if(null!=e)switch(t){case"quality":var n={low:10,medium:15,high:30,ultra:80}[e]||20,r={low:32,medium:16,high:8,ultra:4}[e]||16;this._ssrPass.setParameter("maxIteration",n),this._ssrPass.setParameter("pixelStride",r);break;case"maxRoughness":this._ssrPass.setParameter("minGlossiness",Math.max(Math.min(1-e,1),0));break;case"physical":this.setPhysicallyCorrectSSR(e);break;default:console.warn("Unkown SSR parameter "+t)}},M.prototype.setPhysicallyCorrectSSR=function(t){this._ssrPass.setPhysicallyCorrect(t)},M.prototype.setEdgeColor=function(t){var e=h.a.parseColor(t);this._edgePass.setParameter("edgeColor",e)},M.prototype.setExposure=function(t){this._compositeNode.setParameter("exposure",Math.pow(2,t))},M.prototype.setColorLookupTexture=function(t,e){this._compositeNode.pass.material.setTextureImage("lut",this._enableColorCorrection?t:"none",e,{minFilter:h.a.Texture.NEAREST,magFilter:h.a.Texture.NEAREST,flipY:!1})},M.prototype.setColorCorrection=function(t,e){this._compositeNode.setParameter(t,e)},M.prototype.isSSREnabled=function(){return this._enableSSR},M.prototype.composite=function(t,e,n,r,i){var a=this._sourceTexture,o=a;this._enableEdge&&(this._edgePass.update(t,n,a,i),a=o=this._edgePass.getTargetTexture()),this._enableSSR&&(this._ssrPass.update(t,n,a,i),o=this._ssrPass.getTargetTexture(),this._ssrPass.setSSAOTexture(this._enableSSAO?this._ssaoPass.getTargetTexture():null)),this._sourceNode.texture=o,this._cocNode.setParameter("depth",this._depthTexture);for(var s=this._dofBlurKernel,u=this._dofBlurKernelSize,l=i%Math.floor(c.a.length/2/u),h=0;h<2*u;h++)s[h]=c.a[h+l*u*2];for(h=0;h<this._dofBlurNodes.length;h++)this._dofBlurNodes[h].setParameter("percent",i/30),this._dofBlurNodes[h].setParameter("poissonKernel",s);this._cocNode.setParameter("zNear",n.near),this._cocNode.setParameter("zFar",n.far),this._compositor.render(t,r)},M.prototype.dispose=function(t){this._sourceTexture.dispose(t),this._depthTexture.dispose(t),this._framebuffer.dispose(t),this._compositor.dispose(t),this._normalPass.dispose(t),this._ssaoPass.dispose(t)},e.a=M},function(t,e,n){"use strict";var r=n(178);e.a=r.a},function(t,e,n){"use strict";var r=n(23),i=n(179),a=n(181),o=n(182),s=n(183),u=n(8),l=n(4),c=n(5),h=n(27),f=n(184);Object(f.a)(u.a);var d=/^#source\((.*?)\)/;function p(t,e,n){var r,i,l,c,h=t.type||"filter";if("filter"===h){var f=t.shader.trim(),p=d.exec(f);if(p?r=u.a.source(p[1].trim()):"#"===f.charAt(0)&&(r=e.shaders[f.substr(1)]),r||(r=f),!r)return}if(t.inputs)for(var m in i={},t.inputs)"string"==typeof t.inputs[m]?i[m]=t.inputs[m]:i[m]={node:t.inputs[m].node,pin:t.inputs[m].pin};if(t.outputs)for(var m in l={},t.outputs){var g=t.outputs[m];l[m]={},null!=g.attachment&&(l[m].attachment=g.attachment),null!=g.keepLastFrame&&(l[m].keepLastFrame=g.keepLastFrame),null!=g.outputLastFrame&&(l[m].outputLastFrame=g.outputLastFrame),g.parameters&&(l[m].parameters=_(g.parameters))}if(c="scene"===h?new a.a({name:t.name,scene:n.scene,camera:n.camera,outputs:l}):"texture"===h?new o.a({name:t.name,outputs:l}):new s.a({name:t.name,shader:r,inputs:i,outputs:l})){if(t.parameters)for(var m in t.parameters)"string"==typeof(b=t.parameters[m])&&("#"===(b=b.trim()).charAt(0)?b=e.textures[b.substr(1)]:c.on("beforerender",v(m,y(b)))),c.setParameter(m,b);if(t.defines&&c.pass)for(var m in t.defines){var b=t.defines[m];c.pass.material.define("fragment",m,b)}}return c}function m(t,e){return t}function g(t,e){return e}function _(t){var e={};if(!t)return e;["type","minFilter","magFilter","wrapS","wrapT","flipY","useMipmap"].forEach((function(n){var r=t[n];null!=r&&("string"==typeof r&&(r=l.a[r]),e[n]=r)}));var n=t.scale||1;return["width","height"].forEach((function(r){if(null!=t[r]){var i=t[r];"string"==typeof i?(i=i.trim(),e[r]=(a=y(i),o=(o=n)||1,function(t){var e=t.getDevicePixelRatio(),n=t.getWidth()*o,r=t.getHeight()*o;return a(n,r,e)})):e[r]=i}var a,o})),e.width||(e.width=m),e.height||(e.height=g),null!=t.useMipmap&&(e.useMipmap=t.useMipmap),e}function v(t,e){return function(n){var r=n.getDevicePixelRatio(),i=n.getWidth(),a=n.getHeight(),o=e(i,a,r);this.setParameter(t,o)}}function y(t){var e=/^expr\((.*)\)$/.exec(t);if(e)try{var n=new Function("width","height","dpr","return "+e[1]);return n(1,1),n}catch(t){throw new Error("Invalid expression.")}}e.a=function(t,e){var n=new i.a;e=e||{};var a={textures:{},parameters:{}};for(var o in t.parameters){var s=t.parameters[o];a.parameters[o]=_(s)}return function(t,e,n,i){if(t.textures){var a={},o=0,s=!1,u=n.textureRootPath;r.a.each(t.textures,(function(t,e){var n,l=t.path,f=_(t.parameters);if(Array.isArray(l)&&6===l.length)u&&(l=l.map((function(t){return r.a.relative2absolute(t,u)}))),n=new h.a(f);else{if("string"!=typeof l)return;u&&(l=r.a.relative2absolute(l,u)),n=new c.a(f)}n.load(l),o++,n.once("success",(function(){a[e]=n,0==--o&&(i(a),s=!0)}))})),0!==o||s||i(a)}else i({})}(t,0,e,(function(r){a.textures=r,function(r,i){for(var o=0;o<t.nodes.length;o++){var s=p(t.nodes[o],a,e);s&&n.addNode(s)}}()})),n}},function(t,e,n){"use strict";var r=n(180),i=n(86),a=n(10),o=r.a.extend((function(){return{_outputs:[],_texturePool:new i.a,_frameBuffer:new a.a({depthBuffer:!1})}}),{addNode:function(t){r.a.prototype.addNode.call(this,t),t._compositor=this},render:function(t,e){if(this._dirty){this.update(),this._dirty=!1,this._outputs.length=0;for(var n=0;n<this.nodes.length;n++)this.nodes[n].outputs||this._outputs.push(this.nodes[n])}for(n=0;n<this.nodes.length;n++)this.nodes[n].beforeFrame();for(n=0;n<this._outputs.length;n++)this._outputs[n].updateReference();for(n=0;n<this._outputs.length;n++)this._outputs[n].render(t,e);for(n=0;n<this.nodes.length;n++)this.nodes[n].afterFrame()},allocateTexture:function(t){return this._texturePool.get(t)},releaseTexture:function(t){this._texturePool.put(t)},getFrameBuffer:function(){return this._frameBuffer},dispose:function(t){this._texturePool.clear(t)}});e.a=o},function(t,e,n){"use strict";var r=n(7),i=n(48),a=r.a.extend((function(){return{nodes:[]}}),{dirty:function(){this._dirty=!0},addNode:function(t){this.nodes.indexOf(t)>=0||(this.nodes.push(t),this._dirty=!0)},removeNode:function(t){"string"==typeof t&&(t=this.getNodeByName(t));var e=this.nodes.indexOf(t);e>=0&&(this.nodes.splice(e,1),this._dirty=!0)},getNodeByName:function(t){for(var e=0;e<this.nodes.length;e++)if(this.nodes[e].name===t)return this.nodes[e]},update:function(){for(var t=0;t<this.nodes.length;t++)this.nodes[t].clear();for(t=0;t<this.nodes.length;t++){var e=this.nodes[t];if(e.inputs)for(var n in e.inputs)if(e.inputs[n])if(!e.pass||e.pass.material.isUniformEnabled(n)){var r=e.inputs[n],i=this.findPin(r);i?e.link(n,i.node,i.pin):"string"==typeof r?console.warn("Node "+r+" not exist"):console.warn("Pin of "+r.node+"."+r.pin+" not exist")}else console.warn("Pin "+e.name+"."+n+" not used.")}},findPin:function(t){var e;if(("string"==typeof t||t instanceof i.a)&&(t={node:t}),"string"==typeof t.node)for(var n=0;n<this.nodes.length;n++){var r=this.nodes[n];r.name===t.node&&(e=r)}else e=t.node;if(e){var a=t.pin;if(a||e.outputs&&(a=Object.keys(e.outputs)[0]),e.outputs[a])return{node:e,pin:a}}}});e.a=a},function(t,e,n){"use strict";var r=n(48),i=n(11),a=n(10),o=r.a.extend({name:"scene",scene:null,camera:null,autoUpdateScene:!0,preZ:!1},(function(){this.frameBuffer=new a.a}),{render:function(t){this._rendering=!0;var e,n=t.gl;if(this.trigger("beforerender"),this.outputs){var r=this.frameBuffer;for(var a in this.outputs){var o=this.updateParameter(a,t),s=this.outputs[a],u=this._compositor.allocateTexture(o);this._outputTextures[a]=u,"string"==typeof(h=s.attachment||n.COLOR_ATTACHMENT0)&&(h=n[h]),r.attach(u,h)}r.bind(t);var l=t.getGLExtension("EXT_draw_buffers");if(l){var c=[];for(var h in this.outputs)(h=parseInt(h))>=n.COLOR_ATTACHMENT0&&h<=n.COLOR_ATTACHMENT0+8&&c.push(h);l.drawBuffersEXT(c)}t.saveClear(),t.clearBit=i.a.DEPTH_BUFFER_BIT|i.a.COLOR_BUFFER_BIT,e=t.render(this.scene,this.camera,!this.autoUpdateScene,this.preZ),t.restoreClear(),r.unbind(t)}else e=t.render(this.scene,this.camera,!this.autoUpdateScene,this.preZ);this.trigger("afterrender",e),this._rendering=!1,this._rendered=!0}});e.a=o},function(t,e,n){"use strict";var r=n(48).a.extend((function(){return{texture:null,outputs:{color:{}}}}),(function(){}),{getOutput:function(t,e){return this.texture},beforeFrame:function(){},afterFrame:function(){}});e.a=r},function(t,e,n){"use strict";var r=n(16),i=n(48),a=i.a.extend((function(){return{name:"",inputs:{},outputs:null,shader:"",inputLinks:{},outputLinks:{},pass:null,_prevOutputTextures:{},_outputTextures:{},_outputReferences:{},_rendering:!1,_rendered:!1,_compositor:null}}),(function(){var t=new r.a({fragment:this.shader});this.pass=t}),{render:function(t,e){this.trigger("beforerender",t),this._rendering=!0;var n=t.gl;for(var r in this.inputLinks){var i=(h=this.inputLinks[r]).node.getOutput(t,h.pin);this.pass.setUniform(r,i)}if(this.outputs){this.pass.outputs={};var a={};for(var o in this.outputs){var s=this.updateParameter(o,t);isNaN(s.width)&&this.updateParameter(o,t);var u=this.outputs[o],l=this._compositor.allocateTexture(s);this._outputTextures[o]=l,"string"==typeof(c=u.attachment||n.COLOR_ATTACHMENT0)&&(c=n[c]),a[c]=l}for(var c in this._compositor.getFrameBuffer().bind(t),a)this._compositor.getFrameBuffer().attach(a[c],c);this.pass.render(t),this._compositor.getFrameBuffer().updateMipmap(t)}else this.pass.outputs=null,this._compositor.getFrameBuffer().unbind(t),this.pass.render(t,e);for(var r in this.inputLinks){var h;(h=this.inputLinks[r]).node.removeReference(h.pin)}this._rendering=!1,this._rendered=!0,this.trigger("afterrender",t)},updateParameter:function(t,e){var n,r,i=this.outputs[t],a=i.parameters,o=i._parametersCopy;if(o||(o=i._parametersCopy={}),a)for(var s in a)"width"!==s&&"height"!==s&&(o[s]=a[s]);return n=a.width instanceof Function?a.width.call(this,e):a.width,r=a.height instanceof Function?a.height.call(this,e):a.height,n=Math.ceil(n),r=Math.ceil(r),o.width===n&&o.height===r||this._outputTextures[t]&&this._outputTextures[t].dispose(e),o.width=n,o.height=r,o},setParameter:function(t,e){this.pass.setUniform(t,e)},getParameter:function(t){return this.pass.getUniform(t)},setParameters:function(t){for(var e in t)this.setParameter(e,t[e])},define:function(t,e){this.pass.material.define("fragment",t,e)},undefine:function(t){this.pass.material.undefine("fragment",t)},removeReference:function(t){this._outputReferences[t]--,0===this._outputReferences[t]&&(this.outputs[t].keepLastFrame?(this._prevOutputTextures[t]&&this._compositor.releaseTexture(this._prevOutputTextures[t]),this._prevOutputTextures[t]=this._outputTextures[t]):this._compositor.releaseTexture(this._outputTextures[t]))},clear:function(){i.a.prototype.clear.call(this),this.pass.material.disableTexturesAll()}});e.a=a},function(t,e,n){"use strict";e.a=function(t){t.import(r.a),t.import(i.a),t.import(a.a),t.import(o.a),t.import(s.a),t.import(u.a),t.import(l.a),t.import(c.a),t.import(h.a),t.import(f.a),t.import(d.a),t.import(p.a),t.import(m.a)};var r=n(185),i=n(87),a=n(186),o=n(88),s=n(187),u=n(89),l=n(90),c=n(91),h=n(92),f=n(93),d=n(188),p=n(94),m=n(95)},function(t,e,n){"use strict";e.a="@export clay.compositor.coloradjust\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float brightness : 0.0;\nuniform float contrast : 1.0;\nuniform float exposure : 0.0;\nuniform float gamma : 1.0;\nuniform float saturation : 1.0;\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\nvoid main()\n{\n vec4 tex = texture2D( texture, v_Texcoord);\n vec3 color = clamp(tex.rgb + vec3(brightness), 0.0, 1.0);\n color = clamp( (color-vec3(0.5))*contrast+vec3(0.5), 0.0, 1.0);\n color = clamp( color * pow(2.0, exposure), 0.0, 1.0);\n color = clamp( pow(color, vec3(gamma)), 0.0, 1.0);\n float luminance = dot( color, w );\n color = mix(vec3(luminance), color, saturation);\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.brightness\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float brightness : 0.0;\nvoid main()\n{\n vec4 tex = texture2D( texture, v_Texcoord);\n vec3 color = tex.rgb + vec3(brightness);\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.contrast\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float contrast : 1.0;\nvoid main()\n{\n vec4 tex = texture2D( texture, v_Texcoord);\n vec3 color = (tex.rgb-vec3(0.5))*contrast+vec3(0.5);\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.exposure\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float exposure : 0.0;\nvoid main()\n{\n vec4 tex = texture2D(texture, v_Texcoord);\n vec3 color = tex.rgb * pow(2.0, exposure);\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.gamma\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float gamma : 1.0;\nvoid main()\n{\n vec4 tex = texture2D(texture, v_Texcoord);\n vec3 color = pow(tex.rgb, vec3(gamma));\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.saturation\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float saturation : 1.0;\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\nvoid main()\n{\n vec4 tex = texture2D(texture, v_Texcoord);\n vec3 color = tex.rgb;\n float luminance = dot(color, w);\n color = mix(vec3(luminance), color, saturation);\n gl_FragColor = vec4(color, tex.a);\n}\n@end"},function(t,e,n){"use strict";e.a="@export clay.compositor.hdr.log_lum\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\n@import clay.util.rgbm\nvoid main()\n{\n vec4 tex = decodeHDR(texture2D(texture, v_Texcoord));\n float luminance = dot(tex.rgb, w);\n luminance = log(luminance + 0.001);\n gl_FragColor = encodeHDR(vec4(vec3(luminance), 1.0));\n}\n@end\n@export clay.compositor.hdr.lum_adaption\nvarying vec2 v_Texcoord;\nuniform sampler2D adaptedLum;\nuniform sampler2D currentLum;\nuniform float frameTime : 0.02;\n@import clay.util.rgbm\nvoid main()\n{\n float fAdaptedLum = decodeHDR(texture2D(adaptedLum, vec2(0.5, 0.5))).r;\n float fCurrentLum = exp(encodeHDR(texture2D(currentLum, vec2(0.5, 0.5))).r);\n fAdaptedLum += (fCurrentLum - fAdaptedLum) * (1.0 - pow(0.98, 30.0 * frameTime));\n gl_FragColor = encodeHDR(vec4(vec3(fAdaptedLum), 1.0));\n}\n@end\n@export clay.compositor.lum\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\nvoid main()\n{\n vec4 tex = texture2D( texture, v_Texcoord );\n float luminance = dot(tex.rgb, w);\n gl_FragColor = vec4(vec3(luminance), 1.0);\n}\n@end"},function(t,e,n){"use strict";e.a="@export clay.compositor.vignette\n#define OUTPUT_ALPHA\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float darkness: 1;\nuniform float offset: 1;\n@import clay.util.rgbm\nvoid main()\n{\n vec4 texel = decodeHDR(texture2D(texture, v_Texcoord));\n gl_FragColor.rgb = texel.rgb;\n vec2 uv = (v_Texcoord - vec2(0.5)) * vec2(offset);\n gl_FragColor = encodeHDR(vec4(mix(texel.rgb, vec3(1.0 - darkness), dot(uv, uv)), texel.a));\n}\n@end"},function(t,e,n){"use strict";e.a="@export clay.compositor.lensflare\n#define SAMPLE_NUMBER 8\nuniform sampler2D texture;\nuniform sampler2D lenscolor;\nuniform vec2 textureSize : [512, 512];\nuniform float dispersal : 0.3;\nuniform float haloWidth : 0.4;\nuniform float distortion : 1.0;\nvarying vec2 v_Texcoord;\n@import clay.util.rgbm\nvec4 textureDistorted(\n in vec2 texcoord,\n in vec2 direction,\n in vec3 distortion\n) {\n return vec4(\n decodeHDR(texture2D(texture, texcoord + direction * distortion.r)).r,\n decodeHDR(texture2D(texture, texcoord + direction * distortion.g)).g,\n decodeHDR(texture2D(texture, texcoord + direction * distortion.b)).b,\n 1.0\n );\n}\nvoid main()\n{\n vec2 texcoord = -v_Texcoord + vec2(1.0); vec2 textureOffset = 1.0 / textureSize;\n vec2 ghostVec = (vec2(0.5) - texcoord) * dispersal;\n vec2 haloVec = normalize(ghostVec) * haloWidth;\n vec3 distortion = vec3(-textureOffset.x * distortion, 0.0, textureOffset.x * distortion);\n vec4 result = vec4(0.0);\n for (int i = 0; i < SAMPLE_NUMBER; i++)\n {\n vec2 offset = fract(texcoord + ghostVec * float(i));\n float weight = length(vec2(0.5) - offset) / length(vec2(0.5));\n weight = pow(1.0 - weight, 10.0);\n result += textureDistorted(offset, normalize(ghostVec), distortion) * weight;\n }\n result *= texture2D(lenscolor, vec2(length(vec2(0.5) - texcoord)) / length(vec2(0.5)));\n float weight = length(vec2(0.5) - fract(texcoord + haloVec)) / length(vec2(0.5));\n weight = pow(1.0 - weight, 10.0);\n vec2 offset = fract(texcoord + haloVec);\n result += textureDistorted(offset, normalize(ghostVec), distortion) * weight;\n gl_FragColor = result;\n}\n@end"},function(t,e,n){"use strict";var r=n(9),i=n(3),a=n(5),o=n(4),s=n(16),u=n(8),l=n(10),c=n(49),h=n(190);function f(t){for(var e=new Uint8Array(t*t*4),n=0,r=new i.a,a=0;a<t;a++)for(var o=0;o<t;o++)r.set(2*Math.random()-1,2*Math.random()-1,0).normalize(),e[n++]=255*(.5*r.x+.5),e[n++]=255*(.5*r.y+.5),e[n++]=0,e[n++]=255;return e}function d(t){return new a.a({pixels:f(t),wrapS:o.a.REPEAT,wrapT:o.a.REPEAT,width:t,height:t})}function p(t,e,n){var r=new Float32Array(3*t);e=e||0;for(var i=0;i<t;i++){var a=Object(c.a)(i+e,2)*(n?1:2)*Math.PI,o=Object(c.a)(i+e,3)*Math.PI,s=Math.random(),u=Math.cos(a)*Math.sin(o)*s,l=Math.cos(o)*s,h=Math.sin(a)*Math.sin(o)*s;r[3*i]=u,r[3*i+1]=l,r[3*i+2]=h}return r}function m(t){t=t||{},this._ssaoPass=new s.a({fragment:u.a.source("ecgl.ssao.estimate")}),this._blurPass=new s.a({fragment:u.a.source("ecgl.ssao.blur")}),this._framebuffer=new l.a({depthBuffer:!1}),this._ssaoTexture=new a.a,this._blurTexture=new a.a,this._blurTexture2=new a.a,this._depthTex=t.depthTexture,this._normalTex=t.normalTexture,this.setNoiseSize(4),this.setKernelSize(t.kernelSize||12),null!=t.radius&&this.setParameter("radius",t.radius),null!=t.power&&this.setParameter("power",t.power),this._normalTex||(this._ssaoPass.material.disableTexture("normalTex"),this._blurPass.material.disableTexture("normalTex")),this._depthTex||this._blurPass.material.disableTexture("depthTex"),this._blurPass.material.setUniform("normalTex",this._normalTex),this._blurPass.material.setUniform("depthTex",this._depthTex)}u.a.import(h.a),m.prototype.setDepthTexture=function(t){this._depthTex=t},m.prototype.setNormalTexture=function(t){this._normalTex=t,this._ssaoPass.material[t?"enableTexture":"disableTexture"]("normalTex"),this.setKernelSize(this._kernelSize)},m.prototype.update=function(t,e,n){var i=t.getWidth(),a=t.getHeight(),o=this._ssaoPass,s=this._blurPass;o.setUniform("kernel",this._kernels[n%this._kernels.length]),o.setUniform("depthTex",this._depthTex),null!=this._normalTex&&o.setUniform("normalTex",this._normalTex),o.setUniform("depthTexSize",[this._depthTex.width,this._depthTex.height]);var u=new r.a;r.a.transpose(u,e.worldTransform),o.setUniform("projection",e.projectionMatrix.array),o.setUniform("projectionInv",e.invProjectionMatrix.array),o.setUniform("viewInverseTranspose",u.array);var l=this._ssaoTexture,c=this._blurTexture,h=this._blurTexture2;l.width=i/2,l.height=a/2,c.width=i,c.height=a,h.width=i,h.height=a,this._framebuffer.attach(l),this._framebuffer.bind(t),t.gl.clearColor(1,1,1,1),t.gl.clear(t.gl.COLOR_BUFFER_BIT),o.render(t),s.setUniform("textureSize",[i/2,a/2]),s.setUniform("projection",e.projectionMatrix.array),this._framebuffer.attach(c),s.setUniform("direction",0),s.setUniform("ssaoTexture",l),s.render(t),this._framebuffer.attach(h),s.setUniform("textureSize",[i,a]),s.setUniform("direction",1),s.setUniform("ssaoTexture",c),s.render(t),this._framebuffer.unbind(t);var f=t.clearColor;t.gl.clearColor(f[0],f[1],f[2],f[3])},m.prototype.getTargetTexture=function(){return this._blurTexture2},m.prototype.setParameter=function(t,e){"noiseTexSize"===t?this.setNoiseSize(e):"kernelSize"===t?this.setKernelSize(e):"intensity"===t?this._ssaoPass.material.set("intensity",e):this._ssaoPass.setUniform(t,e)},m.prototype.setKernelSize=function(t){this._kernelSize=t,this._ssaoPass.material.define("fragment","KERNEL_SIZE",t),this._kernels=this._kernels||[];for(var e=0;e<30;e++)this._kernels[e]=p(t,e*t,!!this._normalTex)},m.prototype.setNoiseSize=function(t){var e=this._ssaoPass.getUniform("noiseTex");e?(e.data=f(t),e.width=e.height=t,e.dirty()):(e=d(t),this._ssaoPass.setUniform("noiseTex",d(t))),this._ssaoPass.setUniform("noiseTexSize",[t,t])},m.prototype.dispose=function(t){this._blurTexture.dispose(t),this._ssaoTexture.dispose(t),this._blurTexture2.dispose(t)},e.a=m},function(t,e,n){"use strict";e.a="@export ecgl.ssao.estimate\n\nuniform sampler2D depthTex;\n\nuniform sampler2D normalTex;\n\nuniform sampler2D noiseTex;\n\nuniform vec2 depthTexSize;\n\nuniform vec2 noiseTexSize;\n\nuniform mat4 projection;\n\nuniform mat4 projectionInv;\n\nuniform mat4 viewInverseTranspose;\n\nuniform vec3 kernel[KERNEL_SIZE];\n\nuniform float radius : 1;\n\nuniform float power : 1;\n\nuniform float bias: 1e-2;\n\nuniform float intensity: 1.0;\n\nvarying vec2 v_Texcoord;\n\nfloat ssaoEstimator(in vec3 originPos, in mat3 kernelBasis) {\n float occlusion = 0.0;\n\n for (int i = 0; i < KERNEL_SIZE; i++) {\n vec3 samplePos = kernel[i];\n#ifdef NORMALTEX_ENABLED\n samplePos = kernelBasis * samplePos;\n#endif\n samplePos = samplePos * radius + originPos;\n\n vec4 texCoord = projection * vec4(samplePos, 1.0);\n texCoord.xy /= texCoord.w;\n\n vec4 depthTexel = texture2D(depthTex, texCoord.xy * 0.5 + 0.5);\n\n float sampleDepth = depthTexel.r * 2.0 - 1.0;\n if (projection[3][3] == 0.0) {\n sampleDepth = projection[3][2] / (sampleDepth * projection[2][3] - projection[2][2]);\n }\n else {\n sampleDepth = (sampleDepth - projection[3][2]) / projection[2][2];\n }\n \n float rangeCheck = smoothstep(0.0, 1.0, radius / abs(originPos.z - sampleDepth));\n occlusion += rangeCheck * step(samplePos.z, sampleDepth - bias);\n }\n#ifdef NORMALTEX_ENABLED\n occlusion = 1.0 - occlusion / float(KERNEL_SIZE);\n#else\n occlusion = 1.0 - clamp((occlusion / float(KERNEL_SIZE) - 0.6) * 2.5, 0.0, 1.0);\n#endif\n return pow(occlusion, power);\n}\n\nvoid main()\n{\n\n vec4 depthTexel = texture2D(depthTex, v_Texcoord);\n\n#ifdef NORMALTEX_ENABLED\n vec4 tex = texture2D(normalTex, v_Texcoord);\n if (dot(tex.rgb, tex.rgb) == 0.0) {\n gl_FragColor = vec4(1.0);\n return;\n }\n vec3 N = tex.rgb * 2.0 - 1.0;\n N = (viewInverseTranspose * vec4(N, 0.0)).xyz;\n\n vec2 noiseTexCoord = depthTexSize / vec2(noiseTexSize) * v_Texcoord;\n vec3 rvec = texture2D(noiseTex, noiseTexCoord).rgb * 2.0 - 1.0;\n vec3 T = normalize(rvec - N * dot(rvec, N));\n vec3 BT = normalize(cross(N, T));\n mat3 kernelBasis = mat3(T, BT, N);\n#else\n if (depthTexel.r > 0.99999) {\n gl_FragColor = vec4(1.0);\n return;\n }\n mat3 kernelBasis;\n#endif\n\n float z = depthTexel.r * 2.0 - 1.0;\n\n vec4 projectedPos = vec4(v_Texcoord * 2.0 - 1.0, z, 1.0);\n vec4 p4 = projectionInv * projectedPos;\n\n vec3 position = p4.xyz / p4.w;\n\n float ao = ssaoEstimator(position, kernelBasis);\n ao = clamp(1.0 - (1.0 - ao) * intensity, 0.0, 1.0);\n gl_FragColor = vec4(vec3(ao), 1.0);\n}\n\n@end\n\n\n@export ecgl.ssao.blur\n#define SHADER_NAME SSAO_BLUR\n\nuniform sampler2D ssaoTexture;\n\n#ifdef NORMALTEX_ENABLED\nuniform sampler2D normalTex;\n#endif\n\nvarying vec2 v_Texcoord;\n\nuniform vec2 textureSize;\nuniform float blurSize : 1.0;\n\nuniform int direction: 0.0;\n\n#ifdef DEPTHTEX_ENABLED\nuniform sampler2D depthTex;\nuniform mat4 projection;\nuniform float depthRange : 0.5;\n\nfloat getLinearDepth(vec2 coord)\n{\n float depth = texture2D(depthTex, coord).r * 2.0 - 1.0;\n return projection[3][2] / (depth * projection[2][3] - projection[2][2]);\n}\n#endif\n\nvoid main()\n{\n float kernel[5];\n kernel[0] = 0.122581;\n kernel[1] = 0.233062;\n kernel[2] = 0.288713;\n kernel[3] = 0.233062;\n kernel[4] = 0.122581;\n\n vec2 off = vec2(0.0);\n if (direction == 0) {\n off[0] = blurSize / textureSize.x;\n }\n else {\n off[1] = blurSize / textureSize.y;\n }\n\n vec2 coord = v_Texcoord;\n\n float sum = 0.0;\n float weightAll = 0.0;\n\n#ifdef NORMALTEX_ENABLED\n vec3 centerNormal = texture2D(normalTex, v_Texcoord).rgb * 2.0 - 1.0;\n#endif\n#if defined(DEPTHTEX_ENABLED)\n float centerDepth = getLinearDepth(v_Texcoord);\n#endif\n\n for (int i = 0; i < 5; i++) {\n vec2 coord = clamp(v_Texcoord + vec2(float(i) - 2.0) * off, vec2(0.0), vec2(1.0));\n\n float w = kernel[i];\n#ifdef NORMALTEX_ENABLED\n vec3 normal = texture2D(normalTex, coord).rgb * 2.0 - 1.0;\n w *= clamp(dot(normal, centerNormal), 0.0, 1.0);\n#endif\n#ifdef DEPTHTEX_ENABLED\n float d = getLinearDepth(coord);\n w *= (1.0 - smoothstep(abs(centerDepth - d) / depthRange, 0.0, 1.0));\n#endif\n\n weightAll += w;\n sum += texture2D(ssaoTexture, coord).r * w;\n }\n\n gl_FragColor = vec4(vec3(sum / weightAll), 1.0);\n}\n\n@end\n"},function(t,e,n){"use strict";var r=n(9),i=(n(3),n(5)),a=n(4),o=n(16),s=n(8),u=n(10),l=(n(49),n(77)),c=n(192);function h(t){t=t||{},this._ssrPass=new o.a({fragment:s.a.source("ecgl.ssr.main"),clearColor:[0,0,0,0]}),this._blurPass1=new o.a({fragment:s.a.source("ecgl.ssr.blur"),clearColor:[0,0,0,0]}),this._blurPass2=new o.a({fragment:s.a.source("ecgl.ssr.blur"),clearColor:[0,0,0,0]}),this._blendPass=new o.a({fragment:s.a.source("clay.compositor.blend")}),this._blendPass.material.disableTexturesAll(),this._blendPass.material.enableTexture(["texture1","texture2"]),this._ssrPass.setUniform("gBufferTexture1",t.normalTexture),this._ssrPass.setUniform("gBufferTexture2",t.depthTexture),this._blurPass1.setUniform("gBufferTexture1",t.normalTexture),this._blurPass1.setUniform("gBufferTexture2",t.depthTexture),this._blurPass2.setUniform("gBufferTexture1",t.normalTexture),this._blurPass2.setUniform("gBufferTexture2",t.depthTexture),this._blurPass2.material.define("fragment","VERTICAL"),this._blurPass2.material.define("fragment","BLEND"),this._ssrTexture=new i.a({type:a.a.HALF_FLOAT}),this._texture2=new i.a({type:a.a.HALF_FLOAT}),this._texture3=new i.a({type:a.a.HALF_FLOAT}),this._prevTexture=new i.a({type:a.a.HALF_FLOAT}),this._currentTexture=new i.a({type:a.a.HALF_FLOAT}),this._frameBuffer=new u.a({depthBuffer:!1}),this._normalDistribution=null,this._totalSamples=256,this._samplePerFrame=4,this._ssrPass.material.define("fragment","SAMPLE_PER_FRAME",this._samplePerFrame),this._ssrPass.material.define("fragment","TOTAL_SAMPLES",this._totalSamples),this._downScale=1}s.a.import(c.a),h.prototype.setAmbientCubemap=function(t,e){this._ssrPass.material.set("specularCubemap",t),this._ssrPass.material.set("specularIntensity",e);var n=t&&e;this._ssrPass.material[n?"enableTexture":"disableTexture"]("specularCubemap")},h.prototype.update=function(t,e,n,i){var a=t.getWidth(),o=t.getHeight(),s=this._ssrTexture,u=this._texture2,l=this._texture3;s.width=this._prevTexture.width=this._currentTexture.width=a/this._downScale,s.height=this._prevTexture.height=this._currentTexture.height=o/this._downScale,u.width=l.width=a,u.height=l.height=o;var c=this._frameBuffer,h=this._ssrPass,f=this._blurPass1,d=this._blurPass2,p=this._blendPass,m=new r.a,g=new r.a;r.a.transpose(m,e.worldTransform),r.a.transpose(g,e.viewMatrix),h.setUniform("sourceTexture",n),h.setUniform("projection",e.projectionMatrix.array),h.setUniform("projectionInv",e.invProjectionMatrix.array),h.setUniform("toViewSpace",m.array),h.setUniform("toWorldSpace",g.array),h.setUniform("nearZ",e.near);var _=i/this._totalSamples*this._samplePerFrame;if(h.setUniform("jitterOffset",_),h.setUniform("sampleOffset",i*this._samplePerFrame),f.setUniform("textureSize",[s.width,s.height]),d.setUniform("textureSize",[a,o]),d.setUniform("sourceTexture",n),f.setUniform("projection",e.projectionMatrix.array),d.setUniform("projection",e.projectionMatrix.array),c.attach(s),c.bind(t),h.render(t),this._physicallyCorrect&&(c.attach(this._currentTexture),p.setUniform("texture1",this._prevTexture),p.setUniform("texture2",s),p.material.set({weight1:i>=1?.95:0,weight2:i>=1?.05:1}),p.render(t)),c.attach(u),f.setUniform("texture",this._physicallyCorrect?this._currentTexture:s),f.render(t),c.attach(l),d.setUniform("texture",u),d.render(t),c.unbind(t),this._physicallyCorrect){var v=this._prevTexture;this._prevTexture=this._currentTexture,this._currentTexture=v}},h.prototype.getTargetTexture=function(){return this._texture3},h.prototype.setParameter=function(t,e){"maxIteration"===t?this._ssrPass.material.define("fragment","MAX_ITERATION",e):this._ssrPass.setUniform(t,e)},h.prototype.setPhysicallyCorrect=function(t){t?(this._normalDistribution||(this._normalDistribution=l.a.generateNormalDistribution(64,this._totalSamples)),this._ssrPass.material.define("fragment","PHYSICALLY_CORRECT"),this._ssrPass.material.set("normalDistribution",this._normalDistribution),this._ssrPass.material.set("normalDistributionSize",[64,this._totalSamples])):this._ssrPass.material.undefine("fragment","PHYSICALLY_CORRECT"),this._physicallyCorrect=t},h.prototype.setSSAOTexture=function(t){var e=this._blurPass2;t?(e.material.enableTexture("ssaoTex"),e.material.set("ssaoTex",t)):e.material.disableTexture("ssaoTex")},h.prototype.isFinished=function(t){return!this._physicallyCorrect||t>this._totalSamples/this._samplePerFrame},h.prototype.dispose=function(t){this._ssrTexture.dispose(t),this._texture2.dispose(t),this._texture3.dispose(t),this._prevTexture.dispose(t),this._currentTexture.dispose(t),this._frameBuffer.dispose(t)},e.a=h},function(t,e,n){"use strict";e.a="@export ecgl.ssr.main\n\n#define SHADER_NAME SSR\n#define MAX_ITERATION 20;\n#define SAMPLE_PER_FRAME 5;\n#define TOTAL_SAMPLES 128;\n\nuniform sampler2D sourceTexture;\nuniform sampler2D gBufferTexture1;\nuniform sampler2D gBufferTexture2;\nuniform sampler2D gBufferTexture3;\nuniform samplerCube specularCubemap;\nuniform float specularIntensity: 1;\n\nuniform mat4 projection;\nuniform mat4 projectionInv;\nuniform mat4 toViewSpace;\nuniform mat4 toWorldSpace;\n\nuniform float maxRayDistance: 200;\n\nuniform float pixelStride: 16;\nuniform float pixelStrideZCutoff: 50; \nuniform float screenEdgeFadeStart: 0.9; \nuniform float eyeFadeStart : 0.2; uniform float eyeFadeEnd: 0.8; \nuniform float minGlossiness: 0.2; uniform float zThicknessThreshold: 1;\n\nuniform float nearZ;\nuniform vec2 viewportSize : VIEWPORT_SIZE;\n\nuniform float jitterOffset: 0;\n\nvarying vec2 v_Texcoord;\n\n#ifdef DEPTH_DECODE\n@import clay.util.decode_float\n#endif\n\n#ifdef PHYSICALLY_CORRECT\nuniform sampler2D normalDistribution;\nuniform float sampleOffset: 0;\nuniform vec2 normalDistributionSize;\n\nvec3 transformNormal(vec3 H, vec3 N) {\n vec3 upVector = N.y > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);\n vec3 tangentX = normalize(cross(N, upVector));\n vec3 tangentZ = cross(N, tangentX);\n return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);\n}\nvec3 importanceSampleNormalGGX(float i, float roughness, vec3 N) {\n float p = fract((i + sampleOffset) / float(TOTAL_SAMPLES));\n vec3 H = texture2D(normalDistribution,vec2(roughness, p)).rgb;\n return transformNormal(H, N);\n}\nfloat G_Smith(float g, float ndv, float ndl) {\n float roughness = 1.0 - g;\n float k = roughness * roughness / 2.0;\n float G1V = ndv / (ndv * (1.0 - k) + k);\n float G1L = ndl / (ndl * (1.0 - k) + k);\n return G1L * G1V;\n}\nvec3 F_Schlick(float ndv, vec3 spec) {\n return spec + (1.0 - spec) * pow(1.0 - ndv, 5.0);\n}\n#endif\n\nfloat fetchDepth(sampler2D depthTexture, vec2 uv)\n{\n vec4 depthTexel = texture2D(depthTexture, uv);\n return depthTexel.r * 2.0 - 1.0;\n}\n\nfloat linearDepth(float depth)\n{\n if (projection[3][3] == 0.0) {\n return projection[3][2] / (depth * projection[2][3] - projection[2][2]);\n }\n else {\n return (depth - projection[3][2]) / projection[2][2];\n }\n}\n\nbool rayIntersectDepth(float rayZNear, float rayZFar, vec2 hitPixel)\n{\n if (rayZFar > rayZNear)\n {\n float t = rayZFar; rayZFar = rayZNear; rayZNear = t;\n }\n float cameraZ = linearDepth(fetchDepth(gBufferTexture2, hitPixel));\n return rayZFar <= cameraZ && rayZNear >= cameraZ - zThicknessThreshold;\n}\n\n\nbool traceScreenSpaceRay(\n vec3 rayOrigin, vec3 rayDir, float jitter,\n out vec2 hitPixel, out vec3 hitPoint, out float iterationCount\n)\n{\n float rayLength = ((rayOrigin.z + rayDir.z * maxRayDistance) > -nearZ)\n ? (-nearZ - rayOrigin.z) / rayDir.z : maxRayDistance;\n\n vec3 rayEnd = rayOrigin + rayDir * rayLength;\n\n vec4 H0 = projection * vec4(rayOrigin, 1.0);\n vec4 H1 = projection * vec4(rayEnd, 1.0);\n\n float k0 = 1.0 / H0.w, k1 = 1.0 / H1.w;\n\n vec3 Q0 = rayOrigin * k0, Q1 = rayEnd * k1;\n\n vec2 P0 = (H0.xy * k0 * 0.5 + 0.5) * viewportSize;\n vec2 P1 = (H1.xy * k1 * 0.5 + 0.5) * viewportSize;\n\n P1 += dot(P1 - P0, P1 - P0) < 0.0001 ? 0.01 : 0.0;\n vec2 delta = P1 - P0;\n\n bool permute = false;\n if (abs(delta.x) < abs(delta.y)) {\n permute = true;\n delta = delta.yx;\n P0 = P0.yx;\n P1 = P1.yx;\n }\n float stepDir = sign(delta.x);\n float invdx = stepDir / delta.x;\n\n vec3 dQ = (Q1 - Q0) * invdx;\n float dk = (k1 - k0) * invdx;\n\n vec2 dP = vec2(stepDir, delta.y * invdx);\n\n float strideScaler = 1.0 - min(1.0, -rayOrigin.z / pixelStrideZCutoff);\n float pixStride = 1.0 + strideScaler * pixelStride;\n\n dP *= pixStride; dQ *= pixStride; dk *= pixStride;\n\n vec4 pqk = vec4(P0, Q0.z, k0);\n vec4 dPQK = vec4(dP, dQ.z, dk);\n\n pqk += dPQK * jitter;\n float rayZFar = (dPQK.z * 0.5 + pqk.z) / (dPQK.w * 0.5 + pqk.w);\n float rayZNear;\n\n bool intersect = false;\n\n vec2 texelSize = 1.0 / viewportSize;\n\n iterationCount = 0.0;\n\n for (int i = 0; i < MAX_ITERATION; i++)\n {\n pqk += dPQK;\n\n rayZNear = rayZFar;\n rayZFar = (dPQK.z * 0.5 + pqk.z) / (dPQK.w * 0.5 + pqk.w);\n\n hitPixel = permute ? pqk.yx : pqk.xy;\n hitPixel *= texelSize;\n\n intersect = rayIntersectDepth(rayZNear, rayZFar, hitPixel);\n\n iterationCount += 1.0;\n\n dPQK *= 1.2;\n\n if (intersect) {\n break;\n }\n }\n\n Q0.xy += dQ.xy * iterationCount;\n Q0.z = pqk.z;\n hitPoint = Q0 / pqk.w;\n\n return intersect;\n}\n\nfloat calculateAlpha(\n float iterationCount, float reflectivity,\n vec2 hitPixel, vec3 hitPoint, float dist, vec3 rayDir\n)\n{\n float alpha = clamp(reflectivity, 0.0, 1.0);\n alpha *= 1.0 - (iterationCount / float(MAX_ITERATION));\n vec2 hitPixelNDC = hitPixel * 2.0 - 1.0;\n float maxDimension = min(1.0, max(abs(hitPixelNDC.x), abs(hitPixelNDC.y)));\n alpha *= 1.0 - max(0.0, maxDimension - screenEdgeFadeStart) / (1.0 - screenEdgeFadeStart);\n\n float _eyeFadeStart = eyeFadeStart;\n float _eyeFadeEnd = eyeFadeEnd;\n if (_eyeFadeStart > _eyeFadeEnd) {\n float tmp = _eyeFadeEnd;\n _eyeFadeEnd = _eyeFadeStart;\n _eyeFadeStart = tmp;\n }\n\n float eyeDir = clamp(rayDir.z, _eyeFadeStart, _eyeFadeEnd);\n alpha *= 1.0 - (eyeDir - _eyeFadeStart) / (_eyeFadeEnd - _eyeFadeStart);\n\n alpha *= 1.0 - clamp(dist / maxRayDistance, 0.0, 1.0);\n\n return alpha;\n}\n\n@import clay.util.rand\n\n@import clay.util.rgbm\n\nvoid main()\n{\n vec4 normalAndGloss = texture2D(gBufferTexture1, v_Texcoord);\n\n if (dot(normalAndGloss.rgb, vec3(1.0)) == 0.0) {\n discard;\n }\n\n float g = normalAndGloss.a;\n#if !defined(PHYSICALLY_CORRECT)\n if (g <= minGlossiness) {\n discard;\n }\n#endif\n\n float reflectivity = (g - minGlossiness) / (1.0 - minGlossiness);\n\n vec3 N = normalize(normalAndGloss.rgb * 2.0 - 1.0);\n N = normalize((toViewSpace * vec4(N, 0.0)).xyz);\n\n vec4 projectedPos = vec4(v_Texcoord * 2.0 - 1.0, fetchDepth(gBufferTexture2, v_Texcoord), 1.0);\n vec4 pos = projectionInv * projectedPos;\n vec3 rayOrigin = pos.xyz / pos.w;\n vec3 V = -normalize(rayOrigin);\n\n float ndv = clamp(dot(N, V), 0.0, 1.0);\n float iterationCount;\n float jitter = rand(fract(v_Texcoord + jitterOffset));\n\n#ifdef PHYSICALLY_CORRECT\n vec4 color = vec4(vec3(0.0), 1.0);\n vec4 albedoMetalness = texture2D(gBufferTexture3, v_Texcoord);\n vec3 albedo = albedoMetalness.rgb;\n float m = albedoMetalness.a;\n vec3 diffuseColor = albedo * (1.0 - m);\n vec3 spec = mix(vec3(0.04), albedo, m);\n\n float jitter2 = rand(fract(v_Texcoord)) * float(TOTAL_SAMPLES);\n\n for (int i = 0; i < SAMPLE_PER_FRAME; i++) {\n vec3 H = importanceSampleNormalGGX(float(i) + jitter2, 1.0 - g, N);\n vec3 rayDir = normalize(reflect(-V, H));\n#else\n vec3 rayDir = normalize(reflect(-V, N));\n#endif\n vec2 hitPixel;\n vec3 hitPoint;\n\n bool intersect = traceScreenSpaceRay(rayOrigin, rayDir, jitter, hitPixel, hitPoint, iterationCount);\n\n float dist = distance(rayOrigin, hitPoint);\n\n vec3 hitNormal = texture2D(gBufferTexture1, hitPixel).rgb * 2.0 - 1.0;\n hitNormal = normalize((toViewSpace * vec4(hitNormal, 0.0)).xyz);\n#ifdef PHYSICALLY_CORRECT\n float ndl = clamp(dot(N, rayDir), 0.0, 1.0);\n float vdh = clamp(dot(V, H), 0.0, 1.0);\n float ndh = clamp(dot(N, H), 0.0, 1.0);\n vec3 litTexel = vec3(0.0);\n if (dot(hitNormal, rayDir) < 0.0 && intersect) {\n litTexel = texture2D(sourceTexture, hitPixel).rgb;\n litTexel *= pow(clamp(1.0 - dist / 200.0, 0.0, 1.0), 3.0);\n\n }\n else {\n #ifdef SPECULARCUBEMAP_ENABLED\n vec3 rayDirW = normalize(toWorldSpace * vec4(rayDir, 0.0)).rgb;\n litTexel = RGBMDecode(textureCubeLodEXT(specularCubemap, rayDirW, 0.0), 8.12).rgb * specularIntensity;\n#endif\n }\n color.rgb += ndl * litTexel * (\n F_Schlick(ndl, spec) * G_Smith(g, ndv, ndl) * vdh / (ndh * ndv + 0.001)\n );\n }\n color.rgb /= float(SAMPLE_PER_FRAME);\n#else\n #if !defined(SPECULARCUBEMAP_ENABLED)\n if (dot(hitNormal, rayDir) >= 0.0) {\n discard;\n }\n if (!intersect) {\n discard;\n }\n#endif\n float alpha = clamp(calculateAlpha(iterationCount, reflectivity, hitPixel, hitPoint, dist, rayDir), 0.0, 1.0);\n vec4 color = texture2D(sourceTexture, hitPixel);\n color.rgb *= alpha;\n\n#ifdef SPECULARCUBEMAP_ENABLED\n vec3 rayDirW = normalize(toWorldSpace * vec4(rayDir, 0.0)).rgb;\n alpha = alpha * (intersect ? 1.0 : 0.0);\n float bias = (1.0 -g) * 5.0;\n color.rgb += (1.0 - alpha)\n * RGBMDecode(textureCubeLodEXT(specularCubemap, rayDirW, bias), 8.12).rgb\n * specularIntensity;\n#endif\n\n#endif\n\n gl_FragColor = encodeHDR(color);\n}\n@end\n\n@export ecgl.ssr.blur\n\nuniform sampler2D texture;\nuniform sampler2D gBufferTexture1;\nuniform sampler2D gBufferTexture2;\nuniform mat4 projection;\nuniform float depthRange : 0.05;\n\nvarying vec2 v_Texcoord;\n\nuniform vec2 textureSize;\nuniform float blurSize : 1.0;\n\n#ifdef BLEND\n #ifdef SSAOTEX_ENABLED\nuniform sampler2D ssaoTex;\n #endif\nuniform sampler2D sourceTexture;\n#endif\n\nfloat getLinearDepth(vec2 coord)\n{\n float depth = texture2D(gBufferTexture2, coord).r * 2.0 - 1.0;\n return projection[3][2] / (depth * projection[2][3] - projection[2][2]);\n}\n\n@import clay.util.rgbm\n\n\nvoid main()\n{\n @import clay.compositor.kernel.gaussian_9\n\n vec4 centerNTexel = texture2D(gBufferTexture1, v_Texcoord);\n float g = centerNTexel.a;\n float maxBlurSize = clamp(1.0 - g, 0.0, 1.0) * blurSize;\n#ifdef VERTICAL\n vec2 off = vec2(0.0, maxBlurSize / textureSize.y);\n#else\n vec2 off = vec2(maxBlurSize / textureSize.x, 0.0);\n#endif\n\n vec2 coord = v_Texcoord;\n\n vec4 sum = vec4(0.0);\n float weightAll = 0.0;\n\n vec3 cN = centerNTexel.rgb * 2.0 - 1.0;\n float cD = getLinearDepth(v_Texcoord);\n for (int i = 0; i < 9; i++) {\n vec2 coord = clamp((float(i) - 4.0) * off + v_Texcoord, vec2(0.0), vec2(1.0));\n float w = gaussianKernel[i]\n * clamp(dot(cN, texture2D(gBufferTexture1, coord).rgb * 2.0 - 1.0), 0.0, 1.0);\n float d = getLinearDepth(coord);\n w *= (1.0 - smoothstep(abs(cD - d) / depthRange, 0.0, 1.0));\n\n weightAll += w;\n sum += decodeHDR(texture2D(texture, coord)) * w;\n }\n\n#ifdef BLEND\n float aoFactor = 1.0;\n #ifdef SSAOTEX_ENABLED\n aoFactor = texture2D(ssaoTex, v_Texcoord).r;\n #endif\n gl_FragColor = encodeHDR(\n sum / weightAll * aoFactor + decodeHDR(texture2D(sourceTexture, v_Texcoord))\n );\n#else\n gl_FragColor = encodeHDR(sum / weightAll);\n#endif\n}\n\n@end"},function(t,e,n){"use strict";e.a=[0,0,-.321585265978,-.154972575841,.458126042375,.188473391593,.842080129861,.527766490688,.147304551086,-.659453822776,-.331943915203,-.940619700594,.0479226680259,.54812163202,.701581552186,-.709825561388,-.295436780218,.940589268233,-.901489676764,.237713156085,.973570876096,-.109899459384,-.866792314779,-.451805525005,.330975007087,.800048655954,-.344275183665,.381779221166,-.386139432542,-.437418421534,-.576478634965,-.0148463392551,.385798197415,-.262426961053,-.666302061145,.682427250835,-.628010632582,-.732836215494,.10163141741,-.987658134403,.711995289051,-.320024291314,.0296005138058,.950296523438,.0130612307608,-.351024443122,-.879596633704,-.10478487883,.435712737232,.504254490347,.779203817497,.206477676721,.388264289969,-.896736162545,-.153106280781,-.629203242522,-.245517550697,.657969239148,.126830499058,.26862328493,-.634888119007,-.302301223431,.617074219636,.779817204925]},function(t,e,n){"use strict";var r=n(5),i=n(4),a=n(8),o=n(10),s=n(19),u=n(16),l=n(61),c=n(195);function h(t,e,n,r,i){var a=t.gl;e.setUniform(a,"1i",n,i),a.activeTexture(a.TEXTURE0+i),r.isRenderable()?r.bind(t):r.unbind(t)}function f(t,e,n,r,i){var a,o,s,u,l=t.gl;return function(i,c,f){if(!u||u.material!==i.material){var d=i.material,p=i.__program,m=d.get("roughness");null==m&&(m=1);var g=d.get("normalMap")||e,_=d.get("roughnessMap"),v=d.get("bumpMap"),y=d.get("uvRepeat"),b=d.get("uvOffset"),x=d.get("detailUvRepeat"),w=d.get("detailUvOffset"),T=!!v&&d.isTextureEnabled("bumpMap"),S=!!_&&d.isTextureEnabled("roughnessMap"),E=d.isDefined("fragment","DOUBLE_SIDED");v=v||n,_=_||r,f!==c?(c.set("normalMap",g),c.set("bumpMap",v),c.set("roughnessMap",_),c.set("useBumpMap",T),c.set("useRoughnessMap",S),c.set("doubleSide",E),null!=y&&c.set("uvRepeat",y),null!=b&&c.set("uvOffset",b),null!=x&&c.set("detailUvRepeat",x),null!=w&&c.set("detailUvOffset",w),c.set("roughness",m)):(p.setUniform(l,"1f","roughness",m),a!==g&&h(t,p,"normalMap",g,0),o!==v&&v&&h(t,p,"bumpMap",v,1),s!==_&&_&&h(t,p,"roughnessMap",_,2),null!=y&&p.setUniform(l,"2f","uvRepeat",y),null!=b&&p.setUniform(l,"2f","uvOffset",b),null!=x&&p.setUniform(l,"2f","detailUvRepeat",x),null!=w&&p.setUniform(l,"2f","detailUvOffset",w),p.setUniform(l,"1i","useBumpMap",+T),p.setUniform(l,"1i","useRoughnessMap",+S),p.setUniform(l,"1i","doubleSide",+E)),a=g,o=v,s=_,u=i}}}function d(t){t=t||{},this._depthTex=new r.a({format:i.a.DEPTH_COMPONENT,type:i.a.UNSIGNED_INT}),this._normalTex=new r.a({type:i.a.HALF_FLOAT}),this._framebuffer=new o.a,this._framebuffer.attach(this._normalTex),this._framebuffer.attach(this._depthTex,o.a.DEPTH_ATTACHMENT),this._normalMaterial=new s.a({shader:new a.a(a.a.source("ecgl.normal.vertex"),a.a.source("ecgl.normal.fragment"))}),this._normalMaterial.enableTexture(["normalMap","bumpMap","roughnessMap"]),this._defaultNormalMap=l.a.createBlank("#000"),this._defaultBumpMap=l.a.createBlank("#000"),this._defaultRoughessMap=l.a.createBlank("#000"),this._debugPass=new u.a({fragment:a.a.source("clay.compositor.output")}),this._debugPass.setUniform("texture",this._normalTex),this._debugPass.material.undefine("fragment","OUTPUT_ALPHA")}a.a.import(c.a),d.prototype.getDepthTexture=function(){return this._depthTex},d.prototype.getNormalTexture=function(){return this._normalTex},d.prototype.update=function(t,e,n){var r=t.getWidth(),i=t.getHeight(),a=this._depthTex,o=this._normalTex,s=this._normalMaterial;a.width=r,a.height=i,o.width=r,o.height=i;var u=e.getRenderList(n).opaque;this._framebuffer.bind(t),t.gl.clearColor(0,0,0,0),t.gl.clear(t.gl.COLOR_BUFFER_BIT|t.gl.DEPTH_BUFFER_BIT),t.gl.disable(t.gl.BLEND),t.renderPass(u,n,{getMaterial:function(){return s},ifRender:function(t){return t.renderNormal},beforeRender:f(t,this._defaultNormalMap,this._defaultBumpMap,this._defaultRoughessMap,this._normalMaterial),sort:t.opaqueSortCompare}),this._framebuffer.unbind(t)},d.prototype.renderDebug=function(t){this._debugPass.render(t)},d.prototype.dispose=function(t){this._depthTex.dispose(t),this._normalTex.dispose(t)},e.a=d},function(t,e,n){"use strict";e.a="@export ecgl.normal.vertex\n\n@import ecgl.common.transformUniforms\n\n@import ecgl.common.uv.header\n\n@import ecgl.common.attributes\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\n@import ecgl.common.normalMap.vertexHeader\n\n@import ecgl.common.vertexAnimation.header\n\nvoid main()\n{\n\n @import ecgl.common.vertexAnimation.main\n\n @import ecgl.common.uv.main\n\n v_Normal = normalize((worldInverseTranspose * vec4(normal, 0.0)).xyz);\n v_WorldPosition = (world * vec4(pos, 1.0)).xyz;\n\n @import ecgl.common.normalMap.vertexMain\n\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n\n}\n\n\n@end\n\n\n@export ecgl.normal.fragment\n\n#define ROUGHNESS_CHANEL 0\n\nuniform bool useBumpMap;\nuniform bool useRoughnessMap;\nuniform bool doubleSide;\nuniform float roughness;\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform mat4 viewInverse : VIEWINVERSE;\n\n@import ecgl.common.normalMap.fragmentHeader\n@import ecgl.common.bumpMap.header\n\nuniform sampler2D roughnessMap;\n\nvoid main()\n{\n vec3 N = v_Normal;\n \n bool flipNormal = false;\n if (doubleSide) {\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(eyePos - v_WorldPosition);\n\n if (dot(N, V) < 0.0) {\n flipNormal = true;\n }\n }\n\n @import ecgl.common.normalMap.fragmentMain\n\n if (useBumpMap) {\n N = bumpNormal(v_WorldPosition, v_Normal, N);\n }\n\n float g = 1.0 - roughness;\n\n if (useRoughnessMap) {\n float g2 = 1.0 - texture2D(roughnessMap, v_DetailTexcoord)[ROUGHNESS_CHANEL];\n g = clamp(g2 + (g - 0.5) * 2.0, 0.0, 1.0);\n }\n\n if (flipNormal) {\n N = -N;\n }\n\n gl_FragColor.rgb = (N.xyz + 1.0) * 0.5;\n gl_FragColor.a = g;\n}\n@end"},function(t,e,n){"use strict";n(9),n(3);var r=n(5),i=n(4),a=n(16),o=n(8),s=n(10);function u(t){t=t||{},this._edgePass=new a.a({fragment:o.a.source("ecgl.edge")}),this._edgePass.setUniform("normalTexture",t.normalTexture),this._edgePass.setUniform("depthTexture",t.depthTexture),this._targetTexture=new r.a({type:i.a.HALF_FLOAT}),this._frameBuffer=new s.a,this._frameBuffer.attach(this._targetTexture)}u.prototype.update=function(t,e,n,r){var i=t.getWidth(),a=t.getHeight(),o=this._targetTexture;o.width=i,o.height=a;var s=this._frameBuffer;s.bind(t),this._edgePass.setUniform("projectionInv",e.invProjectionMatrix.array),this._edgePass.setUniform("textureSize",[i,a]),this._edgePass.setUniform("texture",n),this._edgePass.render(t),s.unbind(t)},u.prototype.getTargetTexture=function(){return this._targetTexture},u.prototype.setParameter=function(t,e){this._edgePass.setUniform(t,e)},u.prototype.dispose=function(t){this._targetTexture.dispose(t),this._frameBuffer.dispose(t)},e.a=u},function(t,e,n){"use strict";e.a={type:"compositor",nodes:[{name:"source",type:"texture",outputs:{color:{}}},{name:"source_half",shader:"#source(clay.compositor.downsample)",inputs:{texture:"source"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"}},{name:"bright",shader:"#source(clay.compositor.bright)",inputs:{texture:"source_half"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{threshold:2,scale:4,textureSize:"expr([width * 1.0 / 2, height / 2])"}},{name:"bright_downsample_4",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 2, height / 2] )"}},{name:"bright_downsample_8",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright_downsample_4"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 4, height / 4] )"}},{name:"bright_downsample_16",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright_downsample_8"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 16)",height:"expr(height * 1.0 / 16)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 8, height / 8] )"}},{name:"bright_downsample_32",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright_downsample_16"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 32)",height:"expr(height * 1.0 / 32)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 16, height / 16] )"}},{name:"bright_upsample_16_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_32"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 16)",height:"expr(height * 1.0 / 16)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 32, height / 32] )"}},{name:"bright_upsample_16_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_16_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 16)",height:"expr(height * 1.0 / 16)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 16, height * 1.0 / 16] )"}},{name:"bright_upsample_8_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_16"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 16, height * 1.0 / 16] )"}},{name:"bright_upsample_8_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_8_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 8, height * 1.0 / 8] )"}},{name:"bright_upsample_8_blend",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_8_blur_v",texture2:"bright_upsample_16_blur_v"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"bright_upsample_4_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_8"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 8, height * 1.0 / 8] )"}},{name:"bright_upsample_4_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_4_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 4, height * 1.0 / 4] )"}},{name:"bright_upsample_4_blend",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_4_blur_v",texture2:"bright_upsample_8_blend"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"bright_upsample_2_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_4"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 4, height * 1.0 / 4] )"}},{name:"bright_upsample_2_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_2_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 2, height * 1.0 / 2] )"}},{name:"bright_upsample_2_blend",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_2_blur_v",texture2:"bright_upsample_4_blend"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"bright_upsample_full_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 2, height * 1.0 / 2] )"}},{name:"bright_upsample_full_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_full_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0, height * 1.0] )"}},{name:"bloom_composite",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_full_blur_v",texture2:"bright_upsample_2_blend"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"coc",shader:"#source(ecgl.dof.coc)",outputs:{color:{parameters:{minFilter:"NEAREST",magFilter:"NEAREST",width:"expr(width * 1.0)",height:"expr(height * 1.0)"}}},parameters:{focalDist:50,focalRange:30}},{name:"dof_far_blur",shader:"#source(ecgl.dof.diskBlur)",inputs:{texture:"source",coc:"coc"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"}},{name:"dof_near_blur",shader:"#source(ecgl.dof.diskBlur)",inputs:{texture:"source",coc:"coc"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"},defines:{BLUR_NEARFIELD:null}},{name:"dof_coc_blur",shader:"#source(ecgl.dof.diskBlur)",inputs:{texture:"coc"},outputs:{color:{parameters:{minFilter:"NEAREST",magFilter:"NEAREST",width:"expr(width * 1.0)",height:"expr(height * 1.0)"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"},defines:{BLUR_COC:null}},{name:"dof_composite",shader:"#source(ecgl.dof.composite)",inputs:{original:"source",blurred:"dof_far_blur",nearfield:"dof_near_blur",coc:"coc",nearcoc:"dof_coc_blur"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}}},{name:"composite",shader:"#source(clay.compositor.hdr.composite)",inputs:{texture:"source",bloom:"bloom_composite"},defines:{}},{name:"FXAA",shader:"#source(clay.compositor.fxaa)",inputs:{texture:"composite"}}]}},function(t,e,n){"use strict";e.a="@export ecgl.dof.coc\n\nuniform sampler2D depth;\n\nuniform float zNear: 0.1;\nuniform float zFar: 2000;\n\nuniform float focalDistance: 3;\nuniform float focalRange: 1;\nuniform float focalLength: 30;\nuniform float fstop: 2.8;\n\nvarying vec2 v_Texcoord;\n\n@import clay.util.encode_float\n\nvoid main()\n{\n float z = texture2D(depth, v_Texcoord).r * 2.0 - 1.0;\n\n float dist = 2.0 * zNear * zFar / (zFar + zNear - z * (zFar - zNear));\n\n float aperture = focalLength / fstop;\n\n float coc;\n\n float uppper = focalDistance + focalRange;\n float lower = focalDistance - focalRange;\n if (dist <= uppper && dist >= lower) {\n coc = 0.5;\n }\n else {\n float focalAdjusted = dist > uppper ? uppper : lower;\n\n coc = abs(aperture * (focalLength * (dist - focalAdjusted)) / (dist * (focalAdjusted - focalLength)));\n coc = clamp(coc, 0.0, 2.0) / 2.00001;\n\n if (dist < lower) {\n coc = -coc;\n }\n coc = coc * 0.5 + 0.5;\n }\n\n gl_FragColor = encodeFloat(coc);\n}\n@end\n\n\n@export ecgl.dof.composite\n\n#define DEBUG 0\n\nuniform sampler2D original;\nuniform sampler2D blurred;\nuniform sampler2D nearfield;\nuniform sampler2D coc;\nuniform sampler2D nearcoc;\nvarying vec2 v_Texcoord;\n\n@import clay.util.rgbm\n@import clay.util.float\n\nvoid main()\n{\n vec4 blurredColor = texture2D(blurred, v_Texcoord);\n vec4 originalColor = texture2D(original, v_Texcoord);\n\n float fCoc = decodeFloat(texture2D(coc, v_Texcoord));\n\n fCoc = abs(fCoc * 2.0 - 1.0);\n\n float weight = smoothstep(0.0, 1.0, fCoc);\n \n#ifdef NEARFIELD_ENABLED\n vec4 nearfieldColor = texture2D(nearfield, v_Texcoord);\n float fNearCoc = decodeFloat(texture2D(nearcoc, v_Texcoord));\n fNearCoc = abs(fNearCoc * 2.0 - 1.0);\n\n gl_FragColor = encodeHDR(\n mix(\n nearfieldColor, mix(originalColor, blurredColor, weight),\n pow(1.0 - fNearCoc, 4.0)\n )\n );\n#else\n gl_FragColor = encodeHDR(mix(originalColor, blurredColor, weight));\n#endif\n\n}\n\n@end\n\n\n\n@export ecgl.dof.diskBlur\n\n#define POISSON_KERNEL_SIZE 16;\n\nuniform sampler2D texture;\nuniform sampler2D coc;\nvarying vec2 v_Texcoord;\n\nuniform float blurRadius : 10.0;\nuniform vec2 textureSize : [512.0, 512.0];\n\nuniform vec2 poissonKernel[POISSON_KERNEL_SIZE];\n\nuniform float percent;\n\nfloat nrand(const in vec2 n) {\n return fract(sin(dot(n.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\n@import clay.util.rgbm\n@import clay.util.float\n\n\nvoid main()\n{\n vec2 offset = blurRadius / textureSize;\n\n float rnd = 6.28318 * nrand(v_Texcoord + 0.07 * percent );\n float cosa = cos(rnd);\n float sina = sin(rnd);\n vec4 basis = vec4(cosa, -sina, sina, cosa);\n\n#if !defined(BLUR_NEARFIELD) && !defined(BLUR_COC)\n offset *= abs(decodeFloat(texture2D(coc, v_Texcoord)) * 2.0 - 1.0);\n#endif\n\n#ifdef BLUR_COC\n float cocSum = 0.0;\n#else\n vec4 color = vec4(0.0);\n#endif\n\n\n float weightSum = 0.0;\n\n for (int i = 0; i < POISSON_KERNEL_SIZE; i++) {\n vec2 ofs = poissonKernel[i];\n\n ofs = vec2(dot(ofs, basis.xy), dot(ofs, basis.zw));\n\n vec2 uv = v_Texcoord + ofs * offset;\n vec4 texel = texture2D(texture, uv);\n\n float w = 1.0;\n#ifdef BLUR_COC\n float fCoc = decodeFloat(texel) * 2.0 - 1.0;\n cocSum += clamp(fCoc, -1.0, 0.0) * w;\n#else\n texel = texel;\n #if !defined(BLUR_NEARFIELD)\n float fCoc = decodeFloat(texture2D(coc, uv)) * 2.0 - 1.0;\n w *= abs(fCoc);\n #endif\n texel.rgb *= texel.a;\n color += texel * w;\n#endif\n\n weightSum += w;\n }\n\n#ifdef BLUR_COC\n gl_FragColor = encodeFloat(clamp(cocSum / weightSum, -1.0, 0.0) * 0.5 + 0.5);\n#else\n color /= weightSum;\n color.rgb /= (color.a + 0.0001);\n gl_FragColor = color;\n#endif\n}\n\n@end"},function(t,e,n){"use strict";e.a="@export ecgl.edge\n\nuniform sampler2D texture;\n\nuniform sampler2D normalTexture;\nuniform sampler2D depthTexture;\n\nuniform mat4 projectionInv;\n\nuniform vec2 textureSize;\n\nuniform vec4 edgeColor: [0,0,0,0.8];\n\nvarying vec2 v_Texcoord;\n\nvec3 packColor(vec2 coord) {\n float z = texture2D(depthTexture, coord).r * 2.0 - 1.0;\n vec4 p = vec4(v_Texcoord * 2.0 - 1.0, z, 1.0);\n vec4 p4 = projectionInv * p;\n\n return vec3(\n texture2D(normalTexture, coord).rg,\n -p4.z / p4.w / 5.0\n );\n}\n\nvoid main() {\n vec2 cc = v_Texcoord;\n vec3 center = packColor(cc);\n\n float size = clamp(1.0 - (center.z - 10.0) / 100.0, 0.0, 1.0) * 0.5;\n float dx = size / textureSize.x;\n float dy = size / textureSize.y;\n\n vec2 coord;\n vec3 topLeft = packColor(cc+vec2(-dx, -dy));\n vec3 top = packColor(cc+vec2(0.0, -dy));\n vec3 topRight = packColor(cc+vec2(dx, -dy));\n vec3 left = packColor(cc+vec2(-dx, 0.0));\n vec3 right = packColor(cc+vec2(dx, 0.0));\n vec3 bottomLeft = packColor(cc+vec2(-dx, dy));\n vec3 bottom = packColor(cc+vec2(0.0, dy));\n vec3 bottomRight = packColor(cc+vec2(dx, dy));\n\n vec3 v = -topLeft-2.0*top-topRight+bottomLeft+2.0*bottom+bottomRight;\n vec3 h = -bottomLeft-2.0*left-topLeft+bottomRight+2.0*right+topRight;\n\n float edge = sqrt(dot(h, h) + dot(v, v));\n\n edge = smoothstep(0.8, 1.0, edge);\n\n gl_FragColor = mix(texture2D(texture, v_Texcoord), vec4(edgeColor.rgb, 1.0), edgeColor.a * edge);\n}\n@end"},function(t,e,n){"use strict";var r=n(49),i=n(16),a=n(10),o=n(5),s=n(8),u=n(9);function l(t){for(var e=[],n=0;n<30;n++)e.push([Object(r.a)(n,2),Object(r.a)(n,3)]);this._haltonSequence=e,this._frame=0,this._sourceTex=new o.a,this._sourceFb=new a.a,this._sourceFb.attach(this._sourceTex),this._prevFrameTex=new o.a,this._outputTex=new o.a;var u=this._blendPass=new i.a({fragment:s.a.source("clay.compositor.blend")});u.material.disableTexturesAll(),u.material.enableTexture(["texture1","texture2"]),this._blendFb=new a.a({depthBuffer:!1}),this._outputPass=new i.a({fragment:s.a.source("clay.compositor.output"),blendWithPrevious:!0}),this._outputPass.material.define("fragment","OUTPUT_ALPHA"),this._outputPass.material.blend=function(t){t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)}}l.prototype={constructor:l,jitterProjection:function(t,e){var n=t.viewport,r=n.devicePixelRatio||t.getDevicePixelRatio(),i=n.width*r,a=n.height*r,o=this._haltonSequence[this._frame%this._haltonSequence.length],s=new u.a;s.array[12]=(2*o[0]-1)/i,s.array[13]=(2*o[1]-1)/a,u.a.mul(e.projectionMatrix,s,e.projectionMatrix),u.a.invert(e.invProjectionMatrix,e.projectionMatrix)},resetFrame:function(){this._frame=0},getFrame:function(){return this._frame},getSourceFrameBuffer:function(){return this._sourceFb},getOutputTexture:function(){return this._outputTex},resize:function(t,e){this._prevFrameTex.width=t,this._prevFrameTex.height=e,this._outputTex.width=t,this._outputTex.height=e,this._sourceTex.width=t,this._sourceTex.height=e,this._prevFrameTex.dirty(),this._outputTex.dirty(),this._sourceTex.dirty()},isFinished:function(){return this._frame>=this._haltonSequence.length},render:function(t,e,n){var r=this._blendPass;0===this._frame?(r.setUniform("weight1",0),r.setUniform("weight2",1)):(r.setUniform("weight1",.9),r.setUniform("weight2",.1)),r.setUniform("texture1",this._prevFrameTex),r.setUniform("texture2",e||this._sourceTex),this._blendFb.attach(this._outputTex),this._blendFb.bind(t),r.render(t),this._blendFb.unbind(t),n||(this._outputPass.setUniform("texture",this._outputTex),this._outputPass.render(t));var i=this._prevFrameTex;this._prevFrameTex=this._outputTex,this._outputTex=i,this._frame++},dispose:function(t){this._sourceFb.dispose(t),this._blendFb.dispose(t),this._prevFrameTex.dispose(t),this._outputTex.dispose(t),this._sourceTex.dispose(t),this._outputPass.dispose(t),this._blendPass.dispose(t)}},e.a=l},function(t,e,n){"use strict";var r=n(0),i=n.n(r);n(202),n(203),n(98),i.a.registerAction({type:"geo3DChangeCamera",event:"geo3dcamerachanged",update:"series:updateCamera"},(function(t,e){e.eachComponent({mainType:"geo3D",query:t},(function(e){e.setView(t)}))}))},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(44),o=n(28),s=n(29),u=n(31),l=n(96),c=i.a.extendComponentModel({type:"geo3D",layoutMode:"box",coordinateSystem:null,optionUpdated:function(){var t=this.option;t.regions=this.getFilledRegions(t.regions,t.map);var e=i.a.helper.completeDimensions(["value"],t.data,{encodeDef:this.get("encode"),dimsDef:this.get("dimensions")}),n=new i.a.List(e,this);n.initData(t.regions);var r={};n.each((function(t){var e=n.getName(t),i=n.getItemModel(t);r[e]=i})),this._regionModelMap=r,this._data=n},getData:function(){return this._data},getRegionModel:function(t){var e=this.getData().getName(t);return this._regionModelMap[e]||new i.a.Model(null,this)},getRegionPolygonCoords:function(t){var e=this.getData().getName(t),n=this.coordinateSystem.getRegion(e);return n?n.geometries:[]},getFormattedLabel:function(t,e){var n=this._data.getName(t),r=this.getRegionModel(n),i=r.get("normal"===e?["label","formatter"]:["emphasis","label","formatter"]);null==i&&(i=r.get(["label","formatter"]));var a={name:n};if("function"==typeof i)return a.status=e,i(a);if("string"==typeof i){var o=a.seriesName;return i.replace("{a}",null!=o?o:"")}return n},defaultOption:{regions:[]}});i.a.util.merge(c.prototype,l.a),i.a.util.merge(c.prototype,a.a),i.a.util.merge(c.prototype,o.a),i.a.util.merge(c.prototype,s.a),i.a.util.merge(c.prototype,u.a)},function(t,e,n){"use strict";var r=n(64),i=n(0),a=n.n(i),o=n(1),s=n(45),u=n(30);a.a.extendComponentView({type:"geo3D",__ecgl__:!0,init:function(t,e){this._geo3DBuilder=new r.a(e),this.groupGL=new o.a.Node,this._lightRoot=new o.a.Node,this._sceneHelper=new u.a(this._lightRoot),this._sceneHelper.initLight(this._lightRoot),this._control=new s.a({zr:e.getZr()}),this._control.init()},render:function(t,e,n){this.groupGL.add(this._geo3DBuilder.rootNode);var r=t.coordinateSystem;if(r&&r.viewGL){r.viewGL.add(this._lightRoot),t.get("show")?r.viewGL.add(this.groupGL):r.viewGL.remove(this.groupGL);var i=this._control;i.setViewGL(r.viewGL);var a=t.getModel("viewControl");i.setFromViewControlModel(a,0),this._sceneHelper.setScene(r.viewGL.scene),this._sceneHelper.updateLight(t),r.viewGL.setPostEffect(t.getModel("postEffect"),n),r.viewGL.setTemporalSuperSampling(t.getModel("temporalSuperSampling")),this._geo3DBuilder.update(t,e,n,0,t.getData().count());var o=r.viewGL.isLinearSpace()?"define":"undefine";this._geo3DBuilder.rootNode.traverse((function(t){t.material&&t.material[o]("fragment","SRGB_DECODE")})),i.off("update"),i.on("update",(function(){n.dispatchAction({type:"geo3DChangeCamera",alpha:i.getAlpha(),beta:i.getBeta(),distance:i.getDistance(),center:i.getCenter(),from:this.uid,geo3DId:t.id})})),i.update()}},afterRender:function(t,e,n,r){var i=r.renderer;this._sceneHelper.updateAmbientCubemap(i,t,n),this._sceneHelper.updateSkybox(i,t,n)},dispose:function(){this._control.dispose()}})},function(t,e,n){"use strict";function r(t,e,n){n=n||2;var r,s,u,l,c,d,m,g=e&&e.length,_=g?e[0]*n:t.length,v=i(t,0,_,n,!0),y=[];if(!v)return y;if(g&&(v=function(t,e,n,r){var o,s,u,l,c,d=[];for(o=0,s=e.length;o<s;o++)u=e[o]*r,l=o<s-1?e[o+1]*r:t.length,(c=i(t,u,l,r,!1))===c.next&&(c.steiner=!0),d.push(p(c));for(d.sort(h),o=0;o<d.length;o++)f(d[o],n),n=a(n,n.next);return n}(t,e,v,n)),t.length>80*n){r=u=t[0],s=l=t[1];for(var b=n;b<_;b+=n)(c=t[b])<r&&(r=c),(d=t[b+1])<s&&(s=d),c>u&&(u=c),d>l&&(l=d);m=Math.max(u-r,l-s)}return o(v,y,n,r,s,m),y}function i(t,e,n,r,i){var a,o;if(i===E(t,e,n,r)>0)for(a=e;a<n;a+=r)o=w(a,t[a],t[a+1],o);else for(a=n-r;a>=e;a-=r)o=w(a,t[a],t[a+1],o);return o&&v(o,o.next)&&(T(o),o=o.next),o}function a(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!v(r,r.next)&&0!==_(r.prev,r,r.next))r=r.next;else{if(T(r),(r=e=r.prev)===r.next)return null;n=!0}}while(n||r!==e);return e}function o(t,e,n,r,i,h,f){if(t){!f&&h&&function(t,e,n,r){var i=t;do{null===i.z&&(i.z=d(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,a,o,s,u,l=1;do{for(n=t,t=null,a=null,o=0;n;){for(o++,r=n,s=0,e=0;e<l&&(s++,r=r.nextZ);e++);for(u=l;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),a?a.nextZ=i:t=i,i.prevZ=a,a=i;n=r}a.nextZ=null,l*=2}while(o>1)}(i)}(t,r,i,h);for(var p,m,g=t;t.prev!==t.next;)if(p=t.prev,m=t.next,h?u(t,r,i,h):s(t))e.push(p.i/n),e.push(t.i/n),e.push(m.i/n),T(t),t=m.next,g=m.next;else if((t=m)===g){f?1===f?o(t=l(t,e,n),e,n,r,i,h,2):2===f&&c(t,e,n,r,i,h):o(a(t),e,n,r,i,h,1);break}}}function s(t){var e=t.prev,n=t,r=t.next;if(_(e,n,r)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(m(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&_(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function u(t,e,n,r){var i=t.prev,a=t,o=t.next;if(_(i,a,o)>=0)return!1;for(var s=i.x<a.x?i.x<o.x?i.x:o.x:a.x<o.x?a.x:o.x,u=i.y<a.y?i.y<o.y?i.y:o.y:a.y<o.y?a.y:o.y,l=i.x>a.x?i.x>o.x?i.x:o.x:a.x>o.x?a.x:o.x,c=i.y>a.y?i.y>o.y?i.y:o.y:a.y>o.y?a.y:o.y,h=d(s,u,e,n,r),f=d(l,c,e,n,r),p=t.nextZ;p&&p.z<=f;){if(p!==t.prev&&p!==t.next&&m(i.x,i.y,a.x,a.y,o.x,o.y,p.x,p.y)&&_(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(p=t.prevZ;p&&p.z>=h;){if(p!==t.prev&&p!==t.next&&m(i.x,i.y,a.x,a.y,o.x,o.y,p.x,p.y)&&_(p.prev,p,p.next)>=0)return!1;p=p.prevZ}return!0}function l(t,e,n){var r=t;do{var i=r.prev,a=r.next.next;!v(i,a)&&y(i,r,r.next,a)&&b(i,a)&&b(a,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(a.i/n),T(r),T(r.next),r=t=a),r=r.next}while(r!==t);return r}function c(t,e,n,r,i,s){var u=t;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&g(u,l)){var c=x(u,l);return u=a(u,u.next),c=a(c,c.next),o(u,e,n,r,i,s),void o(c,e,n,r,i,s)}l=l.next}u=u.next}while(u!==t)}function h(t,e){return t.x-e.x}function f(t,e){if(e=function(t,e){var n,r=e,i=t.x,a=t.y,o=-1/0;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var s=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>o){if(o=s,s===i){if(a===r.y)return r;if(a===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===o)return n.prev;var u,l=n,c=n.x,h=n.y,f=1/0;for(r=n.next;r!==l;)i>=r.x&&r.x>=c&&i!==r.x&&m(a<h?i:o,a,c,h,a<h?o:i,a,r.x,r.y)&&((u=Math.abs(a-r.y)/(i-r.x))<f||u===f&&r.x>n.x)&&b(r,t)&&(n=r,f=u),r=r.next;return n}(t,e)){var n=x(e,t);a(n,n.next)}}function d(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)/i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)/i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function p(t){var e=t,n=t;do{e.x<n.x&&(n=e),e=e.next}while(e!==t);return n}function m(t,e,n,r,i,a,o,s){return(i-o)*(e-s)-(t-o)*(a-s)>=0&&(t-o)*(r-s)-(n-o)*(e-s)>=0&&(n-o)*(a-s)-(i-o)*(r-s)>=0}function g(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&y(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&b(t,e)&&b(e,t)&&function(t,e){var n=t,r=!1,i=(t.x+e.x)/2,a=(t.y+e.y)/2;do{n.y>a!=n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)}function _(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function v(t,e){return t.x===e.x&&t.y===e.y}function y(t,e,n,r){return!!(v(t,e)&&v(n,r)||v(t,r)&&v(n,e))||_(t,e,n)>0!=_(t,e,r)>0&&_(n,r,t)>0!=_(n,r,e)>0}function b(t,e){return _(t.prev,t,t.next)<0?_(t,e,t.next)>=0&&_(t,t.prev,e)>=0:_(t,e,t.prev)<0||_(t,t.next,e)<0}function x(t,e){var n=new S(t.i,t.x,t.y),r=new S(e.i,e.x,e.y),i=t.next,a=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function w(t,e,n,r){var i=new S(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function T(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function S(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function E(t,e,n,r){for(var i=0,a=e,o=n-r;a<n;a+=r)i+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return i}e.a=r,r.deviation=function(t,e,n,r){var i=e&&e.length,a=i?e[0]*n:t.length,o=Math.abs(E(t,0,a,n));if(i)for(var s=0,u=e.length;s<u;s++){var l=e[s]*n,c=s<u-1?e[s+1]*n:t.length;o-=Math.abs(E(t,l,c,n))}var h=0;for(s=0;s<r.length;s+=3){var f=r[s]*n,d=r[s+1]*n,p=r[s+2]*n;h+=Math.abs((t[f]-t[p])*(t[d+1]-t[f+1])-(t[f]-t[d])*(t[p+1]-t[f+1]))}return 0===o&&0===h?0:Math.abs((h-o)/o)}},function(t,e,n){var r=n(13),i={"南海诸岛":[32,80],"广东":[0,-10],"香港":[10,5],"澳门":[-10,10],"天津":[5,5]};t.exports=function(t){r.each(t.regions,(function(t){var e=i[t.name];if(e){var n=t.center;n[0]+=e[0]/10.5,n[1]+=-e[1]/14}}))}},function(t,e,n){var r=n(13),i={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]};t.exports=function(t){r.each(t.regions,(function(t){var e=i[t.name];if(e){var n=t.center;n[0]=e[0],n[1]=e[1]}}))}},function(t,e,n){"use strict";var r=n(0),i=n.n(r);n(208),n(209),n(211),i.a.registerAction({type:"globeChangeCamera",event:"globecamerachanged",update:"series:updateCamera"},(function(t,e){e.eachComponent({mainType:"globe",query:t},(function(e){e.setView(t)}))})),i.a.registerAction({type:"globeUpdateDisplacment",event:"globedisplacementupdated",update:"update"},(function(t,e){}))},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(44),o=n(28),s=n(29),u=n(31);function l(t,e){t.id=t.id||t.name||e+""}var c=i.a.extendComponentModel({type:"globe",layoutMode:"box",coordinateSystem:null,init:function(){c.superApply(this,"init",arguments),i.a.util.each(this.option.layers,(function(t,e){i.a.util.merge(t,this.defaultLayerOption),l(t,e)}),this)},mergeOption:function(t){var e=this.option.layers;function n(t){return i.a.util.reduce(t,(function(t,e,n){return l(e,n),t[e.id]=e,t}),{})}if(this.option.layers=null,c.superApply(this,"mergeOption",arguments),e&&e.length){var r=n(t.layers),a=n(e);for(var o in r)a[o]?i.a.util.merge(a[o],r[o],!0):e.push(t.layers[o]);this.option.layers=e}i.a.util.each(this.option.layers,(function(t){i.a.util.merge(t,this.defaultLayerOption)}),this)},optionUpdated:function(){this.updateDisplacementHash()},defaultLayerOption:{show:!0,type:"overlay"},defaultOption:{show:!0,zlevel:-10,left:0,top:0,width:"100%",height:"100%",environment:"auto",baseColor:"#fff",baseTexture:"",heightTexture:"",displacementTexture:"",displacementScale:0,displacementQuality:"medium",globeRadius:100,globeOuterRadius:150,shading:"lambert",light:{main:{time:""}},viewControl:{autoRotate:!0,panSensitivity:0,targetCoord:null},layers:[]},setDisplacementData:function(t,e,n){this.displacementData=t,this.displacementWidth=e,this.displacementHeight=n},getDisplacementTexture:function(){return this.get("displacementTexture")||this.get("heightTexture")},getDisplacemenScale:function(){var t=this.getDisplacementTexture(),e=this.get("displacementScale");return t&&"none"!==t||(e=0),e},hasDisplacement:function(){return this.getDisplacemenScale()>0},_displacementChanged:!0,_displacementScale:0,updateDisplacementHash:function(){var t=this.getDisplacementTexture(),e=this.getDisplacemenScale();this._displacementChanged=this._displacementTexture!==t||this._displacementScale!==e,this._displacementTexture=t,this._displacementScale=e},isDisplacementChanged:function(){return this._displacementChanged}});i.a.util.merge(c.prototype,a.a),i.a.util.merge(c.prototype,o.a),i.a.util.merge(c.prototype,s.a),i.a.util.merge(c.prototype,u.a)},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n(45),s=n(30),u=n(210),l=n(2);i.a.extendComponentView({type:"globe",__ecgl__:!0,_displacementScale:0,init:function(t,e){this.groupGL=new a.a.Node,this._sphereGeometry=new a.a.SphereGeometry({widthSegments:200,heightSegments:100,dynamic:!0}),this._overlayGeometry=new a.a.SphereGeometry({widthSegments:80,heightSegments:40}),this._planeGeometry=new a.a.PlaneGeometry,this._earthMesh=new a.a.Mesh({renderNormal:!0}),this._lightRoot=new a.a.Node,this._sceneHelper=new s.a,this._sceneHelper.initLight(this._lightRoot),this.groupGL.add(this._earthMesh),this._control=new o.a({zr:e.getZr()}),this._control.init(),this._layerMeshes={}},render:function(t,e,n){var r=t.coordinateSystem,i=t.get("shading");r.viewGL.add(this._lightRoot),t.get("show")?r.viewGL.add(this.groupGL):r.viewGL.remove(this.groupGL),this._sceneHelper.setScene(r.viewGL.scene),r.viewGL.setPostEffect(t.getModel("postEffect"),n),r.viewGL.setTemporalSuperSampling(t.getModel("temporalSuperSampling"));var o=this._earthMesh;o.geometry=this._sphereGeometry;var s="ecgl."+i;o.material&&o.material.shader.name===s||(o.material=a.a.createMaterial(s)),a.a.setMaterialFromModel(i,o.material,t,n),["roughnessMap","metalnessMap","detailMap","normalMap"].forEach((function(t){var e=o.material.get(t);e&&(e.flipY=!1)})),o.material.set("color",a.a.parseColor(t.get("baseColor")));var u=.99*r.radius;o.scale.set(u,u,u);var l=o.material.setTextureImage("diffuseMap",t.get("baseTexture"),n,{flipY:!1,anisotropic:8});l&&l.surface&&l.surface.attachToMesh(o);var c=o.material.setTextureImage("bumpMap",t.get("heightTexture"),n,{flipY:!1,anisotropic:8});c&&c.surface&&c.surface.attachToMesh(o),o.material[t.get("postEffect.enable")?"define":"undefine"]("fragment","SRGB_DECODE"),this._updateLight(t,n),this._displaceVertices(t,n),this._updateViewControl(t,n),this._updateLayers(t,n)},afterRender:function(t,e,n,r){var i=r.renderer;this._sceneHelper.updateAmbientCubemap(i,t,n),this._sceneHelper.updateSkybox(i,t,n)},_updateLayers:function(t,e){var n=t.coordinateSystem,r=t.get("layers"),o=n.radius,s=[],u=[],c=[],h=[];i.a.util.each(r,(function(t){var r=new i.a.Model(t),f=r.get("type"),d=a.a.loadTexture(r.get("texture"),e,{flipY:!1,anisotropic:8});if(d.surface&&d.surface.attachToMesh(this._earthMesh),"blend"===f){var p=r.get("blendTo"),m=l.a.firstNotNull(r.get("intensity"),1);"emission"===p?(c.push(d),h.push(m)):(s.push(d),u.push(m))}else{var g=r.get("id"),_=this._layerMeshes[g];_||(_=this._layerMeshes[g]=new a.a.Mesh({geometry:this._overlayGeometry,castShadow:!1,ignorePicking:!0})),"lambert"===r.get("shading")?(_.material=_.__lambertMaterial||new a.a.Material({autoUpdateTextureStatus:!1,shader:a.a.createShader("ecgl.lambert"),transparent:!0,depthMask:!1}),_.__lambertMaterial=_.material):(_.material=_.__colorMaterial||new a.a.Material({autoUpdateTextureStatus:!1,shader:a.a.createShader("ecgl.color"),transparent:!0,depthMask:!1}),_.__colorMaterial=_.material),_.material.enableTexture("diffuseMap");var v=r.get("distance"),y=o+(null==v?n.radius/100:v);_.scale.set(y,y,y),o=y;var b=this._blankTexture||(this._blankTexture=a.a.createBlankTexture("rgba(255, 255, 255, 0)"));_.material.set("diffuseMap",b),a.a.loadTexture(r.get("texture"),e,{flipY:!1,anisotropic:8},(function(t){t.surface&&t.surface.attachToMesh(_),_.material.set("diffuseMap",t),e.getZr().refresh()})),r.get("show")?this.groupGL.add(_):this.groupGL.remove(_)}}),this);var f=this._earthMesh.material;f.define("fragment","LAYER_DIFFUSEMAP_COUNT",s.length),f.define("fragment","LAYER_EMISSIVEMAP_COUNT",c.length),f.set("layerDiffuseMap",s),f.set("layerDiffuseIntensity",u),f.set("layerEmissiveMap",c),f.set("layerEmissionIntensity",h);var d=t.getModel("debug.wireframe");if(d.get("show")){f.define("both","WIREFRAME_TRIANGLE");var p=a.a.parseColor(d.get("lineStyle.color")||"rgba(0,0,0,0.5)"),m=l.a.firstNotNull(d.get("lineStyle.width"),1);f.set("wireframeLineWidth",m),f.set("wireframeLineColor",p)}else f.undefine("both","WIREFRAME_TRIANGLE")},_updateViewControl:function(t,e){var n=t.coordinateSystem,r=t.getModel("viewControl"),i=(n.viewGL.camera,this),a=this._control;a.setViewGL(n.viewGL);var o,s,u=r.get("targetCoord");null!=u&&(s=u[0]+90,o=u[1]),a.setFromViewControlModel(r,{baseDistance:n.radius,alpha:o,beta:s}),a.off("update"),a.on("update",(function(){e.dispatchAction({type:"globeChangeCamera",alpha:a.getAlpha(),beta:a.getBeta(),distance:a.getDistance()-n.radius,center:a.getCenter(),from:i.uid,globeId:t.id})}))},_displaceVertices:function(t,e){var n=t.get("displacementQuality"),r=t.get("debug.wireframe.show"),i=t.coordinateSystem;if(t.isDisplacementChanged()||n!==this._displacementQuality||r!==this._showDebugWireframe){this._displacementQuality=n,this._showDebugWireframe=r;var a=this._sphereGeometry,o={low:100,medium:200,high:400,ultra:800}[n]||200,s=o/2;(a.widthSegments!==o||r)&&(a.widthSegments=o,a.heightSegments=s,a.build()),this._doDisplaceVertices(a,i),r&&a.generateBarycentric()}},_doDisplaceVertices:function(t,e){var n=t.attributes.position.value,r=t.attributes.texcoord0.value,i=t.__originalPosition;i&&i.length===n.length||((i=new Float32Array(n.length)).set(n),t.__originalPosition=i);for(var a=e.displacementWidth,o=e.displacementHeight,s=e.displacementData,u=0;u<t.vertexCount;u++){var l=3*u,c=2*u,h=i[l+1],f=i[l+2],d=i[l+3],p=r[c++],m=r[c++],g=Math.round(p*(a-1)),_=Math.round(m*(o-1)),v=s?s[_*a+g]:0;n[l+1]=h+h*v,n[l+2]=f+f*v,n[l+3]=d+d*v}t.generateVertexNormals(),t.dirty(),t.updateBoundingBox()},_updateLight:function(t,e){var n=this._earthMesh;this._sceneHelper.updateLight(t);var r=this._sceneHelper.mainLight,a=t.get("light.main.time")||new Date,o=u.a.getPosition(i.a.number.parseDate(a),0,0),s=Math.cos(o.altitude);r.position.y=-s*Math.cos(o.azimuth),r.position.x=Math.sin(o.altitude),r.position.z=s*Math.sin(o.azimuth),r.lookAt(n.getWorldPosition())},dispose:function(t,e){this.groupGL.removeAll(),this._control.dispose()}})},function(t,e,n){"use strict";var r=Math.PI,i=Math.sin,a=Math.cos,o=Math.tan,s=Math.asin,u=Math.atan2,l=r/180,c=23.4397*l;function h(t,e){return u(i(t)*a(c)-o(e)*i(c),a(t))}function f(t,e,n){return u(i(t),a(t)*i(e)-o(n)*a(e))}function d(t,e,n){return s(i(e)*i(n)+a(e)*a(n)*a(t))}function p(t){var e,n,o=function(t){return t+l*(1.9148*i(t)+.02*i(2*t)+3e-4*i(3*t))+102.9372*l+r}(function(t){return l*(357.5291+.98560028*t)}(t));return{dec:(e=o,n=0,s(i(n)*a(c)+a(n)*i(c)*i(e))),ra:h(o,0)}}var m={getPosition:function(t,e,n){var r=l*-n,i=l*e,a=function(t){return function(t){return t.valueOf()/864e5-.5+2440588}(t)-2451545}(t),o=p(a),s=function(t,e){return l*(280.16+360.9856235*t)-e}(a,r)-o.ra;return{azimuth:f(s,i,o.dec),altitude:d(s,i,o.dec)}}};e.a=m},function(t,e,n){"use strict";var r=n(212),i=n(0),a=n.n(i),o=n(47),s=n.n(o),u=n(22),l=n(2),c=n(1);function h(t,e){var n=t.getBoxLayoutParams(),r=s.a.getLayoutRect(n,{width:e.getWidth(),height:e.getHeight()});r.y=e.getHeight()-r.y-r.height,this.viewGL.setViewport(r.x,r.y,r.width,r.height,e.getDevicePixelRatio()),this.radius=t.get("globeRadius");var i=t.get("globeOuterRadius");this.altitudeAxis&&this.altitudeAxis.setExtent(0,i-this.radius)}function f(t,e){var n=[1/0,-1/0];if(t.eachSeries((function(t){if(t.coordinateSystem===this){var e=t.getData(),r=t.coordDimToDataDim("alt"),i=r&&r[0];if(i){var a=e.getDataExtent(i,!0);n[0]=Math.min(n[0],a[0]),n[1]=Math.max(n[1],a[1])}}}),this),n&&isFinite(n[1]-n[0])){var r=a.a.helper.createScale(n,{type:"value",min:"dataMin",max:"dataMax"});this.altitudeAxis=new a.a.Axis("altitude",r),this.resize(this.model,e)}}var d={dimensions:r.a.prototype.dimensions,create:function(t,e){var n=[];return t.eachComponent("globe",(function(t){t.__viewGL=t.__viewGL||new u.a;var i=new r.a;i.viewGL=t.__viewGL,t.coordinateSystem=i,i.model=t,n.push(i),i.resize=h,i.resize(t,e),i.update=f})),t.eachSeries((function(e){if("globe"===e.get("coordinateSystem")){var n=e.getReferringComponents("globe")[0];if(n||(n=t.getComponent("globe")),!n)throw new Error('globe "'+l.a.firstNotNull(e.get("globe3DIndex"),e.get("globe3DId"),0)+'" not found');var r=n.coordinateSystem;e.coordinateSystem=r}})),t.eachComponent("globe",(function(t,n){var r=t.coordinateSystem,i=t.getDisplacementTexture(),a=t.getDisplacemenScale();if(t.isDisplacementChanged()){if(t.hasDisplacement()){var o=!0;c.a.loadTexture(i,e,(function(n){var r=function(t,e){var n=document.createElement("canvas"),r=n.getContext("2d"),i=t.width,a=t.height;n.width=i,n.height=a,r.drawImage(t,0,0,i,a);for(var o=r.getImageData(0,0,i,a).data,s=new Float32Array(o.length/4),u=0;u<o.length/4;u++){var l=o[4*u];s[u]=l/255*e}return{data:s,width:i,height:a}}(n.image,a);t.setDisplacementData(r.data,r.width,r.height),o||e.dispatchAction({type:"globeUpdateDisplacment"})})),o=!1}else r.setDisplacementData(null,0,0);r.setDisplacementData(t.displacementData,t.displacementWidth,t.displacementHeight)}})),n}};a.a.registerCoordinateSystem("globe",d)},function(t,e,n){"use strict";var r=n(6).a.vec3;function i(t){this.radius=t,this.viewGL=null,this.altitudeAxis,this.displacementData=null,this.displacementWidth,this.displacementHeight}i.prototype={constructor:i,dimensions:["lng","lat","alt"],type:"globe",containPoint:function(){},setDisplacementData:function(t,e,n){this.displacementData=t,this.displacementWidth=e,this.displacementHeight=n},_getDisplacementScale:function(t,e){var n=(t+180)/360*(this.displacementWidth-1),r=(90-e)/180*(this.displacementHeight-1),i=Math.round(n)+Math.round(r)*this.displacementWidth;return this.displacementData[i]},dataToPoint:function(t,e){var n=t[0],r=t[1],i=t[2]||0,a=this.radius;this.displacementData&&(a*=1+this._getDisplacementScale(n,r)),this.altitudeAxis&&(a+=this.altitudeAxis.dataToCoord(i)),n=n*Math.PI/180,r=r*Math.PI/180;var o=Math.cos(r)*a;return(e=e||[])[0]=-o*Math.cos(n+Math.PI),e[1]=Math.sin(r)*a,e[2]=o*Math.sin(n+Math.PI),e},pointToData:function(t,e){var n=t[0],i=t[1],a=t[2],o=r.len(t);n/=o,i/=o,a/=o;var s=Math.asin(i),u=Math.atan2(a,-n);u<0&&(u=2*Math.PI+u);var l=180*s/Math.PI,c=180*u/Math.PI-180;return(e=e||[])[0]=c,e[1]=l,e[2]=o-this.radius,this.altitudeAxis&&(e[2]=this.altitudeAxis.coordToData(e[2])),e}},e.a=i},function(t,e,n){"use strict";var r=n(0),i=n.n(r);n(214),n(216),n(217),i.a.registerAction({type:"mapbox3DChangeCamera",event:"mapbox3dcamerachanged",update:"mapbox3D:updateCamera"},(function(t,e){e.eachComponent({mainType:"mapbox3D",query:t},(function(e){e.setMapboxCameraOption(t)}))}))},function(t,e,n){"use strict";var r=n(215),i=n(0),a=n.n(i),o=n(101),s=Object(o.a)("mapbox3D",r.a,(function(t){t.forEach((function(t){t.setCameraOption(t.model.getMapboxCameraOption())}))}));a.a.registerCoordinateSystem("mapbox3D",s)},function(t,e,n){"use strict";var r=n(100);function i(){r.a.apply(this,arguments)}i.prototype=new r.a,i.prototype.constructor=i,i.prototype.type="mapbox3D",e.a=i},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(28),o=n(29),s=["zoom","center","pitch","bearing"],u=i.a.extendComponentModel({type:"mapbox3D",layoutMode:"box",coordinateSystem:null,defaultOption:{zlevel:-10,style:"mapbox://styles/mapbox/light-v9",center:[0,0],zoom:0,pitch:0,bearing:0,light:{main:{alpha:20,beta:30}},altitudeScale:1,boxHeight:"auto"},getMapboxCameraOption:function(){var t=this;return s.reduce((function(e,n){return e[n]=t.get(n),e}),{})},setMapboxCameraOption:function(t){null!=t&&s.forEach((function(e){null!=t[e]&&(this.option[e]=t[e])}),this)},getMapbox:function(){return this._mapbox},setMapbox:function(t){this._mapbox=t}});i.a.util.merge(u.prototype,a.a),i.a.util.merge(u.prototype,o.a)},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(218),o=n(30),s=n(1),u=n(102);s.a.Shader.import(u.a),i.a.extendComponentView({type:"mapbox3D",__ecgl__:!0,init:function(t,e){var n=e.getZr();this._zrLayer=new a.a("mapbox3D",n),n.painter.insertLayer(-1e3,this._zrLayer),this._lightRoot=new s.a.Node,this._sceneHelper=new o.a(this._lightRoot),this._sceneHelper.initLight(this._lightRoot);var r=this._zrLayer.getMapbox(),i=this._dispatchInteractAction.bind(this,e,r);["zoom","rotate","drag","pitch","rotate","move"].forEach((function(t){r.on(t,i)})),this._groundMesh=new s.a.Mesh({geometry:new s.a.PlaneGeometry,material:new s.a.Material({shader:new s.a.Shader({vertex:s.a.Shader.source("ecgl.displayShadow.vertex"),fragment:s.a.Shader.source("ecgl.displayShadow.fragment")}),depthMask:!1}),renderOrder:-100,culling:!1,castShadow:!1,$ignorePicking:!0,renderNormal:!0})},render:function(t,e,n){var r=this._zrLayer.getMapbox(),i=t.get("style"),a=JSON.stringify(i);a!==this._oldStyleStr&&i&&r.setStyle(i),this._oldStyleStr=a,r.setCenter(t.get("center")),r.setZoom(t.get("zoom")),r.setPitch(t.get("pitch")),r.setBearing(t.get("bearing")),t.setMapbox(r);var o=t.coordinateSystem;o.viewGL.scene.add(this._lightRoot),o.viewGL.add(this._groundMesh),this._updateGroundMesh(),this._sceneHelper.setScene(o.viewGL.scene),this._sceneHelper.updateLight(t),o.viewGL.setPostEffect(t.getModel("postEffect"),n),o.viewGL.setTemporalSuperSampling(t.getModel("temporalSuperSampling")),this._mapbox3DModel=t},afterRender:function(t,e,n,r){var i=r.renderer;this._sceneHelper.updateAmbientCubemap(i,t,n),this._sceneHelper.updateSkybox(i,t,n),t.coordinateSystem.viewGL.scene.traverse((function(t){t.material&&(t.material.define("fragment","NORMAL_UP_AXIS",2),t.material.define("fragment","NORMAL_FRONT_AXIS",1))}))},updateCamera:function(t,e,n,r){t.coordinateSystem.setCameraOption(r),this._updateGroundMesh(),n.getZr().refresh()},_dispatchInteractAction:function(t,e,n){t.dispatchAction({type:"mapbox3DChangeCamera",pitch:e.getPitch(),zoom:e.getZoom(),center:e.getCenter().toArray(),bearing:e.getBearing(),mapbox3DId:this._mapbox3DModel&&this._mapbox3DModel.id})},_updateGroundMesh:function(){if(this._mapbox3DModel){var t=this._mapbox3DModel.coordinateSystem,e=t.dataToPoint(t.center);this._groundMesh.position.set(e[0],e[1],-.001);var n=new s.a.Plane(new s.a.Vector3(0,0,1),0),r=t.viewGL.camera.castRay(new s.a.Vector2(-1,-1)),i=t.viewGL.camera.castRay(new s.a.Vector2(1,1)),a=r.intersectPlane(n),o=i.intersectPlane(n),u=a.dist(o)/t.viewGL.rootNode.scale.x;this._groundMesh.scale.set(u,u,1)}},dispose:function(t,e){this._zrLayer&&this._zrLayer.dispose(),e.getZr().painter.delLayer(-1e3)}})},function(t,e,n){"use strict";function r(t,e){if(this.id=t,this.zr=e,this.dom=document.createElement("div"),this.dom.style.cssText="position:absolute;left:0;right:0;top:0;bottom:0;",!mapboxgl)throw new Error("Mapbox GL library must be included. See https://www.mapbox.com/mapbox-gl-js/api/");this._mapbox=new mapboxgl.Map({container:this.dom}),this._initEvents()}r.prototype.resize=function(){this._mapbox.resize()},r.prototype.getMapbox=function(){return this._mapbox},r.prototype.clear=function(){},r.prototype.refresh=function(){this._mapbox.resize()};var i=["mousedown","mouseup","click","dblclick","mousemove","mousewheel","wheel","touchstart","touchend","touchmove","touchcancel"];r.prototype._initEvents=function(){var t=this._mapbox.getCanvasContainer();this._handlers=this._handlers||{contextmenu:function(t){return t.preventDefault(),!1}},i.forEach((function(e){this._handlers[e]=function(e){var n={};for(var r in e)n[r]=e[r];n.bubbles=!1;var i=new e.constructor(e.type,n);t.dispatchEvent(i)},this.zr.dom.addEventListener(e,this._handlers[e])}),this),this.zr.dom.addEventListener("contextmenu",this._handlers.contextmenu)},r.prototype.dispose=function(){i.forEach((function(t){this.zr.dom.removeEventListener(t,this._handlers[t])}),this)},e.a=r},function(t,e,n){"use strict";var r=n(0),i=n.n(r);n(220),n(222),n(223),i.a.registerAction({type:"maptalks3DChangeCamera",event:"maptalks3dcamerachanged",update:"maptalks3D:updateCamera"},(function(t,e){e.eachComponent({mainType:"maptalks3D",query:t},(function(e){e.setMaptalksCameraOption(t)}))}))},function(t,e,n){"use strict";var r=n(221),i=n(0),a=n.n(i),o=n(101),s=Object(o.a)("maptalks3D",r.a,(function(t){t.forEach((function(t){t.setCameraOption(t.model.getMaptalksCameraOption())}))}));a.a.registerCoordinateSystem("maptalks3D",s)},function(t,e,n){"use strict";var r=n(100);function i(){r.a.apply(this,arguments),this.maxPitch=85,this.zoomOffset=1}i.prototype=new r.a,i.prototype.constructor=i,i.prototype.type="maptalks3D",e.a=i},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(28),o=n(29),s=["zoom","center","pitch","bearing"],u=i.a.extendComponentModel({type:"maptalks3D",layoutMode:"box",coordinateSystem:null,defaultOption:{zlevel:-10,urlTemplate:"http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://osm.org">OpenStreetMap</a> contributors, &copy; <a href="https://carto.com/">CARTO</a>',center:[0,0],zoom:0,pitch:0,bearing:0,light:{main:{alpha:20,beta:30}},altitudeScale:1,boxHeight:"auto"},getMaptalksCameraOption:function(){var t=this;return s.reduce((function(e,n){return e[n]=t.get(n),e}),{})},setMaptalksCameraOption:function(t){null!=t&&s.forEach((function(e){null!=t[e]&&(this.option[e]=t[e])}),this)},getMaptalks:function(){return this._maptalks},setMaptalks:function(t){this._maptalks=t}});i.a.util.merge(u.prototype,a.a),i.a.util.merge(u.prototype,o.a)},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(224),o=n(30),s=n(1),u=n(102);s.a.Shader.import(u.a),i.a.extendComponentView({type:"maptalks3D",__ecgl__:!0,init:function(t,e){this._groundMesh=new s.a.Mesh({geometry:new s.a.PlaneGeometry,material:new s.a.Material({shader:new s.a.Shader({vertex:s.a.Shader.source("ecgl.displayShadow.vertex"),fragment:s.a.Shader.source("ecgl.displayShadow.fragment")}),depthMask:!1}),renderOrder:-100,culling:!1,castShadow:!1,$ignorePicking:!0,renderNormal:!0})},_initMaptalksLayer:function(t,e){var n=e.getZr();this._zrLayer=new a.a("maptalks3D",n,t.get("center"),t.get("zoom")),n.painter.insertLayer(-1e3,this._zrLayer),this._lightRoot=new s.a.Node,this._sceneHelper=new o.a(this._lightRoot),this._sceneHelper.initLight(this._lightRoot);var r=this._zrLayer.getMaptalks(),i=this._dispatchInteractAction.bind(this,e,r);["zoomend","zooming","zoomstart","dragrotating","pitch","pitchend","movestart","moving","moveend","resize","touchstart","touchmove","touchend"].forEach((function(t){r.on(t,i)}))},render:function(t,e,n){this._zrLayer||this._initMaptalksLayer(t,n);var r=this._zrLayer.getMaptalks(),i=t.get("urlTemplate"),a=r.getBaseLayer();i!==this._oldUrlTemplate&&(a?a.setOptions({urlTemplate:i,attribution:t.get("attribution")}):(a=new maptalks.TileLayer("maptalks-echarts-gl-baselayer",{urlTemplate:i,subdomains:["a","b","c"],attribution:t.get("attribution")}),r.setBaseLayer(a))),this._oldUrlTemplate=i,r.setCenter(t.get("center")),r.setZoom(t.get("zoom"),{animation:!1}),r.setPitch(t.get("pitch")),r.setBearing(t.get("bearing")),t.setMaptalks(r);var o=t.coordinateSystem;o.viewGL.scene.add(this._lightRoot),o.viewGL.add(this._groundMesh),this._updateGroundMesh(),this._sceneHelper.setScene(o.viewGL.scene),this._sceneHelper.updateLight(t),o.viewGL.setPostEffect(t.getModel("postEffect"),n),o.viewGL.setTemporalSuperSampling(t.getModel("temporalSuperSampling")),this._maptalks3DModel=t},afterRender:function(t,e,n,r){var i=r.renderer;this._sceneHelper.updateAmbientCubemap(i,t,n),this._sceneHelper.updateSkybox(i,t,n),t.coordinateSystem.viewGL.scene.traverse((function(t){t.material&&(t.material.define("fragment","NORMAL_UP_AXIS",2),t.material.define("fragment","NORMAL_FRONT_AXIS",1))}))},updateCamera:function(t,e,n,r){t.coordinateSystem.setCameraOption(r),this._updateGroundMesh(),n.getZr().refresh()},_dispatchInteractAction:function(t,e,n){t.dispatchAction({type:"maptalks3DChangeCamera",pitch:e.getPitch(),zoom:e.getZoom(),center:e.getCenter().toArray(),bearing:e.getBearing(),maptalks3DId:this._maptalks3DModel&&this._maptalks3DModel.id})},_updateGroundMesh:function(){if(this._maptalks3DModel){var t=this._maptalks3DModel.coordinateSystem,e=t.dataToPoint(t.center);this._groundMesh.position.set(e[0],e[1],-.001);var n=new s.a.Plane(new s.a.Vector3(0,0,1),0),r=t.viewGL.camera.castRay(new s.a.Vector2(-1,-1)),i=t.viewGL.camera.castRay(new s.a.Vector2(1,1)),a=r.intersectPlane(n),o=i.intersectPlane(n),u=a.dist(o)/t.viewGL.rootNode.scale.x;this._groundMesh.scale.set(u,u,1)}},dispose:function(t,e){this._zrLayer&&this._zrLayer.dispose(),e.getZr().painter.delLayer(-1e3)}})},function(t,e,n){"use strict";function r(t,e,n,r){if(this.id=t,this.zr=e,this.dom=document.createElement("div"),this.dom.style.cssText="position:absolute;left:0;right:0;top:0;bottom:0;",!maptalks)throw new Error("Maptalks library must be included. See https://maptalks.org");this._maptalks=new maptalks.Map(this.dom,{center:n,zoom:r,fog:!1}),this._initEvents()}r.prototype.resize=function(){this._maptalks.checkSize()},r.prototype.getMaptalks=function(){return this._maptalks},r.prototype.clear=function(){},r.prototype.refresh=function(){this._maptalks.checkSize()};var i=["mousedown","mouseup","click","dblclick","mousemove","mousewheel","DOMMouseScroll","touchstart","touchend","touchmove","touchcancel"];r.prototype._initEvents=function(){var t=this.dom;this._handlers=this._handlers||{contextmenu:function(t){return t.preventDefault(),!1}},i.forEach((function(e){this._handlers[e]=function(n){var r={};for(var i in n)r[i]=n[i];r.bubbles=!1;var a=new n.constructor(n.type,r);"mousewheel"===e||"DOMMouseScroll"===e?t.dispatchEvent(a):t.firstElementChild.dispatchEvent(a)},this.zr.dom.addEventListener(e,this._handlers[e])}),this),this.zr.dom.addEventListener("contextmenu",this._handlers.contextmenu)},r.prototype.dispose=function(){i.forEach((function(t){this.zr.dom.removeEventListener(t,this._handlers[t])}),this),this._maptalks.remove()},e.a=r},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=(n(226),n(229),n(231),n(17));i.a.registerVisual(Object(a.a)("bar3D")),i.a.registerProcessor((function(t,e){t.eachSeriesByType("bar3d",(function(t){var e=t.getData();e.filterSelf((function(t){return e.hasValue(t)}))}))}))},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(3),o=n(6),s=n(227),u=n(228),l=o.a.vec3,c=i.a.helper.dataStack.isDimensionStacked;function h(t,e){var n=c(t,e[2]);return{dimension:n?t.getCalculationInfo("stackResultDimension"):e[2],isStacked:n}}i.a.registerLayout((function(t,e){t.eachSeriesByType("bar3D",(function(t){var e=t.coordinateSystem,n=e&&e.type;if("globe"===n)!function(t,e){var n=t.getData(),r=t.get("minHeight")||0,o=t.get("barSize"),s=["lng","lat","alt"].map((function(e){return t.coordDimToDataDim(e)[0]}));if(null==o){var c=e.radius*Math.PI,f=Object(u.a)(n,s[0],s[1]);o=[c/Math.sqrt(n.count()/f),c/Math.sqrt(n.count()/f)]}else i.a.util.isArray(o)||(o=[o,o]);var d=h(n,s);n.each(s,(function(t,i,a,s){var u=n.get(d.dimension,s),c=d.isStacked?u-a:e.altitudeAxis.scale.getExtent()[0],h=Math.max(e.altitudeAxis.dataToCoord(a),r),f=e.dataToPoint([t,i,c]),p=e.dataToPoint([t,i,u]),m=l.sub([],p,f);l.normalize(m,m);var g=[o[0],h,o[1]];n.setItemLayout(s,[f,m,g])})),n.setLayout("orient",a.a.UP.array)}(t,e);else if("cartesian3D"===n)Object(s.a)(t,e);else if("geo3D"===n)!function(t,e){var n=t.getData(),r=t.get("barSize"),a=t.get("minHeight")||0,o=["lng","lat","alt"].map((function(e){return t.coordDimToDataDim(e)[0]}));if(null==r){var s=Math.min(e.size[0],e.size[2]),l=Object(u.a)(n,o[0],o[1]);r=[s/Math.sqrt(n.count()/l),s/Math.sqrt(n.count()/l)]}else i.a.util.isArray(r)||(r=[r,r]);var c=[0,1,0],f=h(n,o);n.each(o,(function(t,i,o,s){var u=n.get(f.dimension,s),l=f.isStacked?u-o:e.altitudeAxis.scale.getExtent()[0],h=Math.max(e.altitudeAxis.dataToCoord(o),a),d=e.dataToPoint([t,i,l]),p=[r[0],h,r[1]];n.setItemLayout(s,[d,c,p])})),n.setLayout("orient",[1,0,0])}(t,e);else{if("mapbox3D"!==n&&"maptalks3D"!==n)throw e?new Error("bar3D doesn't support coordinate system "+e.type):new Error("bar3D doesn't have coordinate system.");!function(t,e){var n=t.getData(),r=t.coordDimToDataDim("lng")[0],a=t.coordDimToDataDim("lat")[0],o=t.coordDimToDataDim("alt")[0],s=t.get("barSize"),l=t.get("minHeight")||0;if(null==s){var c=n.getDataExtent(r),f=n.getDataExtent(a),d=e.dataToPoint([c[0],f[0]]),p=e.dataToPoint([c[1],f[1]]),m=Math.min(Math.abs(d[0]-p[0]),Math.abs(d[1]-p[1]))||1,g=Object(u.a)(n,r,a);s=[m/Math.sqrt(n.count()/g),m/Math.sqrt(n.count()/g)]}else i.a.util.isArray(s)||(s=[s,s]),s[0]/=e.getScale()/16,s[1]/=e.getScale()/16;var _=[0,0,1],v=[r,a,o],y=h(n,v);n.each(v,(function(t,r,i,a){var o=n.get(y.dimension,a),u=y.isStacked?o-i:0,c=e.dataToPoint([t,r,u]),h=e.dataToPoint([t,r,o]),f=Math.max(h[2]-c[2],l),d=[s[0],f,s[1]];n.setItemLayout(a,[c,_,d])})),n.setLayout("orient",[1,0,0])}(t,e)}}))}))},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(6).a.vec3,o=i.a.helper.dataStack.isDimensionStacked;e.a=function(t,e){var n=t.getData(),r=t.get("barSize");if(null==r){var s,u,l=e.size,c=e.getAxis("x"),h=e.getAxis("y");s="category"===c.type?.7*c.getBandWidth():.6*Math.round(l[0]/Math.sqrt(n.count())),u="category"===h.type?.7*h.getBandWidth():.6*Math.round(l[1]/Math.sqrt(n.count())),r=[s,u]}else i.a.util.isArray(r)||(r=[r,r]);var f,d,p,m=e.getAxis("z").scale.getExtent(),g=(d=(f=m)[0],p=f[1],!(d>0&&p>0||d<0&&p<0)),_=["x","y","z"].map((function(e){return t.coordDimToDataDim(e)[0]})),v=o(n,_[2]),y=v?n.getCalculationInfo("stackResultDimension"):_[2];n.each(_,(function(t,i,o,s){var u=n.get(y,s),l=v?u-o:g?0:m[0],c=e.dataToPoint([t,i,l]),h=e.dataToPoint([t,i,u]),f=a.dist(c,h),d=[0,h[1]<c[1]?-1:1,0];0===Math.abs(f)&&(f=.1);var p=[r[0],f,r[1]];n.setItemLayout(s,[c,d,p])})),n.setLayout("orient",[1,0,0])}},function(t,e,n){"use strict";e.a=function(t,e,n){for(var r=t.getDataExtent(e),i=t.getDataExtent(n),a=r[1]-r[0]||r[0],o=i[1]-i[0]||i[0],s=new Uint8Array(2500),u=0;u<t.count();u++){var l=t.get(e,u),c=t.get(n,u),h=Math.floor((l-r[0])/a*49),f=50*Math.floor((c-i[0])/o*49)+h;s[f]=s[f]||1}var d=0;for(u=0;u<s.length;u++)s[u]&&d++;return d/s.length}},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n(2),s=n(32),u=n(230),l=n(66),c=n(6).a.vec3;i.a.extendChartView({type:"bar3D",__ecgl__:!0,init:function(t,e){this.groupGL=new a.a.Node,this._api=e,this._labelsBuilder=new l.a(256,256,e);var n=this;this._labelsBuilder.getLabelPosition=function(t,e,r){if(n._data){var i=n._data.getItemLayout(t),a=i[0],o=i[1],s=i[2][1];return c.scaleAndAdd([],a,o,r+s)}return[0,0]},this._labelsBuilder.getMesh().renderOrder=100},render:function(t,e,n){var r=this._prevBarMesh;this._prevBarMesh=this._barMesh,this._barMesh=r,this._barMesh||(this._barMesh=new a.a.Mesh({geometry:new u.a,shadowDepthMaterial:new a.a.Material({shader:new a.a.Shader(a.a.Shader.source("ecgl.sm.depth.vertex"),a.a.Shader.source("ecgl.sm.depth.fragment"))}),culling:"cartesian3D"===t.coordinateSystem.type,renderOrder:10,renderNormal:!0})),this.groupGL.remove(this._prevBarMesh),this.groupGL.add(this._barMesh),this.groupGL.add(this._labelsBuilder.getMesh());var i=t.coordinateSystem;if(this._doRender(t,n),i&&i.viewGL){i.viewGL.add(this.groupGL);var o=i.viewGL.isLinearSpace()?"define":"undefine";this._barMesh.material[o]("fragment","SRGB_DECODE")}this._data=t.getData(),this._labelsBuilder.updateData(this._data),this._labelsBuilder.updateLabels(),this._updateAnimation(t)},_updateAnimation:function(t){a.a.updateVertexAnimation([["prevPosition","position"],["prevNormal","normal"]],this._prevBarMesh,this._barMesh,t)},_doRender:function(t,e){var n=t.getData(),r=t.get("shading"),i="color"!==r,o=this,s=this._barMesh,u="ecgl."+r;s.material&&s.material.shader.name===u||(s.material=a.a.createMaterial(u,["VERTEX_COLOR"])),a.a.setMaterialFromModel(r,s.material,t,e),s.geometry.enableNormal=i,s.geometry.resetOffset();var l=t.get("bevelSize"),c=t.get("bevelSmoothness");s.geometry.bevelSegments=c,s.geometry.bevelSize=l;var h=[],f=new Float32Array(4*n.count()),d=0,p=0,m=!1;n.each((function(t){if(n.hasValue(t)){var e=n.getItemVisual(t,"color"),r=n.getItemVisual(t,"opacity");null==r&&(r=1),a.a.parseColor(e,h),h[3]*=r,f[d++]=h[0],f[d++]=h[1],f[d++]=h[2],f[d++]=h[3],h[3]>0&&(p++,h[3]<.99&&(m=!0))}})),s.geometry.setBarCount(p);var g=n.getLayout("orient"),_=this._barIndexOfData=new Int32Array(n.count());p=0,n.each((function(t){if(n.hasValue(t)){var e=n.getItemLayout(t),r=e[0],i=e[1],a=e[2],s=4*t;h[0]=f[s++],h[1]=f[s++],h[2]=f[s++],h[3]=f[s++],h[3]>0&&(o._barMesh.geometry.addBar(r,i,g,a,h,t),_[t]=p++)}else _[t]=-1})),s.geometry.dirty(),s.geometry.updateBoundingBox();var v=s.material;v.transparent=m,v.depthMask=!m,s.geometry.sortTriangles=m,this._initHandler(t,e)},_initHandler:function(t,e){var n=t.getData(),r=this._barMesh,i="cartesian3D"===t.coordinateSystem.type;r.seriesIndex=t.seriesIndex;var a=-1;r.off("mousemove"),r.off("mouseout"),r.on("mousemove",(function(t){var o=r.geometry.getDataIndexOfVertex(t.triangle[0]);o!==a&&(this._downplay(a),this._highlight(o),this._labelsBuilder.updateLabels([o]),i&&e.dispatchAction({type:"grid3DShowAxisPointer",value:[n.get("x",o),n.get("y",o),n.get("z",o,!0)]})),a=o,r.dataIndex=o}),this),r.on("mouseout",(function(t){this._downplay(a),this._labelsBuilder.updateLabels(),a=-1,r.dataIndex=-1,i&&e.dispatchAction({type:"grid3DHideAxisPointer"})}),this)},_highlight:function(t){var e=this._data;if(e){var n=this._barIndexOfData[t];if(!(n<0)){var r=e.getItemModel(t).getModel("emphasis.itemStyle"),o=r.get("color"),s=r.get("opacity");if(null==o){var u=e.getItemVisual(t,"color");o=i.a.color.lift(u,-.4)}null==s&&(s=e.getItemVisual(t,"opacity"));var l=a.a.parseColor(o);l[3]*=s,this._barMesh.geometry.setColor(n,l),this._api.getZr().refresh()}}},_downplay:function(t){var e=this._data;if(e){var n=this._barIndexOfData[t];if(!(n<0)){var r=e.getItemVisual(t,"color"),i=e.getItemVisual(t,"opacity"),o=a.a.parseColor(r);o[3]*=i,this._barMesh.geometry.setColor(n,o),this._api.getZr().refresh()}}},highlight:function(t,e,n,r){this._toggleStatus("highlight",t,e,n,r)},downplay:function(t,e,n,r){this._toggleStatus("downplay",t,e,n,r)},_toggleStatus:function(t,e,n,r,a){var u=e.getData(),l=o.a.queryDataIndex(u,a),c=this;null!=l?i.a.util.each(s.a.normalizeToArray(l),(function(e){"highlight"===t?this._highlight(e):this._downplay(e)}),this):u.each((function(e){"highlight"===t?c._highlight(e):c._downplay(e)}))},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll()}})},function(t,e,n){"use strict";var r,i,a,o,s,u,l,c,h=n(0),f=n.n(h),d=n(38),p=n(65),m=n(15),g=n(6),_=g.a.vec3,v=g.a.mat3,y=m.a.extend((function(){return{attributes:{position:new m.a.Attribute("position","float",3,"POSITION"),normal:new m.a.Attribute("normal","float",3,"NORMAL"),color:new m.a.Attribute("color","float",4,"COLOR"),prevPosition:new m.a.Attribute("prevPosition","float",3),prevNormal:new m.a.Attribute("prevNormal","float",3)},dynamic:!0,enableNormal:!1,bevelSize:1,bevelSegments:0,_dataIndices:null,_vertexOffset:0,_triangleOffset:0}}),{resetOffset:function(){this._vertexOffset=0,this._triangleOffset=0},setBarCount:function(t){var e=this.enableNormal,n=this.getBarVertexCount()*t,r=this.getBarTriangleCount()*t;this.vertexCount!==n&&(this.attributes.position.init(n),e?this.attributes.normal.init(n):this.attributes.normal.value=null,this.attributes.color.init(n)),this.triangleCount!==r&&(this.indices=n>65535?new Uint32Array(3*r):new Uint16Array(3*r),this._dataIndices=new Uint32Array(n))},getBarVertexCount:function(){var t=this.bevelSize>0?this.bevelSegments:0;return t>0?this._getBevelBarVertexCount(t):this.enableNormal?24:8},getBarTriangleCount:function(){var t=this.bevelSize>0?this.bevelSegments:0;return t>0?this._getBevelBarTriangleCount(t):12},_getBevelBarVertexCount:function(t){return 4*(t+1)*(t+1)*2},_getBevelBarTriangleCount:function(t){return(4*t+3+1)*(2*t+1)*2+4},setColor:function(t,e){for(var n=this.getBarVertexCount(),r=n*(t+1),i=n*t;i<r;i++)this.attributes.color.set(i,e);this.dirtyAttribute("color")},getDataIndexOfVertex:function(t){return this._dataIndices?this._dataIndices[t]:null},addBar:function(){for(var t=_.create,e=_.scaleAndAdd,n=t(),r=t(),i=t(),a=t(),o=t(),s=t(),u=t(),l=[],c=[],h=0;h<8;h++)l[h]=t();var f=[[0,1,5,4],[2,3,7,6],[4,5,6,7],[3,2,1,0],[0,4,7,3],[1,2,6,5]],d=[0,1,2,0,2,3],p=[];for(h=0;h<f.length;h++)for(var m=f[h],g=0;g<2;g++){for(var v=[],y=0;y<3;y++)v.push(m[d[3*g+y]]);p.push(v)}return function(t,h,m,g,v,y){var b=this._vertexOffset;if(this.bevelSize>0&&this.bevelSegments>0)this._addBevelBar(t,h,m,g,this.bevelSize,this.bevelSegments,v);else{_.copy(i,h),_.normalize(i,i),_.cross(a,m,i),_.normalize(a,a),_.cross(r,i,a),_.normalize(a,a),_.negate(o,r),_.negate(s,i),_.negate(u,a),e(l[0],t,r,g[0]/2),e(l[0],l[0],a,g[2]/2),e(l[1],t,r,g[0]/2),e(l[1],l[1],u,g[2]/2),e(l[2],t,o,g[0]/2),e(l[2],l[2],u,g[2]/2),e(l[3],t,o,g[0]/2),e(l[3],l[3],a,g[2]/2),e(n,t,i,g[1]),e(l[4],n,r,g[0]/2),e(l[4],l[4],a,g[2]/2),e(l[5],n,r,g[0]/2),e(l[5],l[5],u,g[2]/2),e(l[6],n,o,g[0]/2),e(l[6],l[6],u,g[2]/2),e(l[7],n,o,g[0]/2),e(l[7],l[7],a,g[2]/2);var x=this.attributes;if(this.enableNormal){c[0]=r,c[1]=o,c[2]=i,c[3]=s,c[4]=a,c[5]=u;for(var w=this._vertexOffset,T=0;T<f.length;T++){for(var S=3*this._triangleOffset,E=0;E<6;E++)this.indices[S++]=w+d[E];w+=4,this._triangleOffset+=2}for(T=0;T<f.length;T++){var C=c[T];for(E=0;E<4;E++){var A=f[T][E];x.position.set(this._vertexOffset,l[A]),x.normal.set(this._vertexOffset,C),x.color.set(this._vertexOffset++,v)}}}else{for(T=0;T<p.length;T++){for(S=3*this._triangleOffset,E=0;E<3;E++)this.indices[S+E]=p[T][E]+this._vertexOffset;this._triangleOffset++}for(T=0;T<l.length;T++)x.position.set(this._vertexOffset,l[T]),x.color.set(this._vertexOffset++,v)}}var M=this._vertexOffset;for(T=b;T<M;T++)this._dataIndices[T]=y}}(),_addBevelBar:(r=_.create(),i=_.create(),a=_.create(),o=v.create(),s=[],u=[1,-1,-1,1],l=[1,1,-1,-1],c=[2,0],function(t,e,n,h,f,d,p){_.copy(i,e),_.normalize(i,i),_.cross(a,n,i),_.normalize(a,a),_.cross(r,i,a),_.normalize(a,a),o[0]=r[0],o[1]=r[1],o[2]=r[2],o[3]=i[0],o[4]=i[1],o[5]=i[2],o[6]=a[0],o[7]=a[1],o[8]=a[2],f=Math.min(h[0],h[2])/2*f;for(var m=0;m<3;m++)s[m]=Math.max(h[m]-2*f,0);var g=(h[0]-s[0])/2,v=(h[1]-s[1])/2,y=(h[2]-s[2])/2,b=[],x=[],w=this._vertexOffset,T=[];for(m=0;m<2;m++){T[m]=T[m]=[];for(var S=0;S<=d;S++)for(var E=0;E<4;E++){(0===S&&0===m||1===m&&S===d)&&T[m].push(w);for(var C=0;C<=d;C++){var A=C/d*Math.PI/2+Math.PI/2*E,M=S/d*Math.PI/2+Math.PI/2*m;x[0]=g*Math.cos(A)*Math.sin(M),x[1]=v*Math.cos(M),x[2]=y*Math.sin(A)*Math.sin(M),b[0]=x[0]+u[E]*s[0]/2,b[1]=x[1]+v+c[m]*s[1]/2,b[2]=x[2]+l[E]*s[2]/2,Math.abs(g-v)<1e-6&&Math.abs(v-y)<1e-6||(x[0]/=g*g,x[1]/=v*v,x[2]/=y*y),_.normalize(x,x),_.transformMat3(b,b,o),_.transformMat3(x,x,o),_.add(b,b,t),this.attributes.position.set(w,b),this.enableNormal&&this.attributes.normal.set(w,x),this.attributes.color.set(w,p),w++}}}var O=4*d+3,D=2*d+1,N=O+1;for(E=0;E<D;E++)for(m=0;m<=O;m++){var I=E*N+m+this._vertexOffset,P=E*N+(m+1)%N+this._vertexOffset,L=(E+1)*N+(m+1)%N+this._vertexOffset,R=(E+1)*N+m+this._vertexOffset;this.setTriangleIndices(this._triangleOffset++,[L,I,P]),this.setTriangleIndices(this._triangleOffset++,[L,R,I])}this.setTriangleIndices(this._triangleOffset++,[T[0][0],T[0][2],T[0][1]]),this.setTriangleIndices(this._triangleOffset++,[T[0][0],T[0][3],T[0][2]]),this.setTriangleIndices(this._triangleOffset++,[T[1][0],T[1][1],T[1][2]]),this.setTriangleIndices(this._triangleOffset++,[T[1][0],T[1][2],T[1][3]]),this._vertexOffset=w})});f.a.util.defaults(y.prototype,d.a),f.a.util.defaults(y.prototype,p.a),e.a=y},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(31),o=n(32),s=n(39),u=n(50),l=i.a.extendSeriesModel({type:"series.bar3D",dependencies:["globe"],visualColorAccessPath:"itemStyle.color",getInitialData:function(t,e){return Object(u.a)(this)},getFormattedLabel:function(t,e,n,r){var i=o.a.getFormattedLabel(this,t,e,n,r);return null==i&&(i=this.getData().get("z",t)),i},formatTooltip:function(t){return Object(s.a)(this,t)},defaultOption:{coordinateSystem:"cartesian3D",globeIndex:0,grid3DIndex:0,zlevel:-10,bevelSize:0,bevelSmoothness:2,onGridPlane:"xy",shading:"color",minHeight:0,itemStyle:{opacity:1},label:{show:!1,distance:2,textStyle:{fontSize:14,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:3}},emphasis:{label:{show:!0}},animationDurationUpdate:500}});i.a.util.merge(l.prototype,a.a)},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=(n(233),n(234),n(51)),o=n.n(a),s=n(17);i.a.registerVisual(o()("line3D","circle",null)),i.a.registerVisual(Object(s.a)("line3D")),i.a.registerLayout((function(t,e){t.eachSeriesByType("line3D",(function(t){var e=t.getData(),n=t.coordinateSystem;if(n){if("cartesian3D"!==n.type)return void console.error("line3D needs cartesian3D coordinateSystem");var r=new Float32Array(3*e.count()),i=[],a=[],o=n.dimensions.map((function(e){return t.coordDimToDataDim(e)[0]}));n&&e.each(o,(function(t,e,o,s){i[0]=t,i[1]=e,i[2]=o,n.dataToPoint(i,a),r[3*s]=a[0],r[3*s+1]=a[1],r[3*s+2]=a[2]})),e.setLayout("points",r)}}))}))},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(39),o=n(50);i.a.extendSeriesModel({type:"series.line3D",dependencies:["grid3D"],visualColorAccessPath:"lineStyle.color",getInitialData:function(t,e){return Object(o.a)(this)},formatTooltip:function(t){return Object(a.a)(this,t)},defaultOption:{coordinateSystem:"cartesian3D",zlevel:-10,grid3DIndex:0,lineStyle:{width:2},animationDurationUpdate:500}})},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n(2),s=n(25),u=n(9),l=n(3),c=n(235),h=n.n(c),f=n(6),d=n(46),p=f.a.vec3;a.a.Shader.import(d.a),i.a.extendChartView({type:"line3D",__ecgl__:!0,init:function(t,e){this.groupGL=new a.a.Node,this._api=e},render:function(t,e,n){var r=this._prevLine3DMesh;this._prevLine3DMesh=this._line3DMesh,this._line3DMesh=r,this._line3DMesh||(this._line3DMesh=new a.a.Mesh({geometry:new s.a({useNativeLine:!1,sortTriangles:!0}),material:new a.a.Material({shader:a.a.createShader("ecgl.meshLines3D")}),renderOrder:10}),this._line3DMesh.geometry.pick=this._pick.bind(this)),this.groupGL.remove(this._prevLine3DMesh),this.groupGL.add(this._line3DMesh);var i=t.coordinateSystem;if(i&&i.viewGL){i.viewGL.add(this.groupGL);var o=i.viewGL.isLinearSpace()?"define":"undefine";this._line3DMesh.material[o]("fragment","SRGB_DECODE")}this._doRender(t,n),this._data=t.getData(),this._camera=i.viewGL.camera,this.updateCamera(),this._updateAnimation(t)},updateCamera:function(){this._updateNDCPosition()},_doRender:function(t,e){var n=t.getData(),r=this._line3DMesh;r.geometry.resetOffset();var i=n.getLayout("points"),s=[],u=new Float32Array(i.length/3*4),l=0,c=!1;n.each((function(t){var e=n.getItemVisual(t,"color"),r=n.getItemVisual(t,"opacity");null==r&&(r=1),a.a.parseColor(e,s),s[3]*=r,u[l++]=s[0],u[l++]=s[1],u[l++]=s[2],u[l++]=s[3],s[3]<.99&&(c=!0)})),r.geometry.setVertexCount(r.geometry.getPolylineVertexCount(i)),r.geometry.setTriangleCount(r.geometry.getPolylineTriangleCount(i)),r.geometry.addPolyline(i,u,o.a.firstNotNull(t.get("lineStyle.width"),1)),r.geometry.dirty(),r.geometry.updateBoundingBox();var h=r.material;h.transparent=c,h.depthMask=!c;var f=t.getModel("debug.wireframe");f.get("show")?(r.geometry.createAttribute("barycentric","float",3),r.geometry.generateBarycentric(),r.material.set("both","WIREFRAME_TRIANGLE"),r.material.set("wireframeLineColor",a.a.parseColor(f.get("lineStyle.color")||"rgba(0,0,0,0.5)")),r.material.set("wireframeLineWidth",o.a.firstNotNull(f.get("lineStyle.width"),1))):r.material.set("both","WIREFRAME_TRIANGLE"),this._points=i,this._initHandler(t,e)},_updateAnimation:function(t){a.a.updateVertexAnimation([["prevPosition","position"],["prevPositionPrev","positionPrev"],["prevPositionNext","positionNext"]],this._prevLine3DMesh,this._line3DMesh,t)},_initHandler:function(t,e){var n=t.getData(),r=t.coordinateSystem,i=this._line3DMesh,a=-1;i.seriesIndex=t.seriesIndex,i.off("mousemove"),i.off("mouseout"),i.on("mousemove",(function(t){var o=r.pointToData(t.point.array),s=n.indicesOfNearest("x",o[0])[0];s!==a&&(e.dispatchAction({type:"grid3DShowAxisPointer",value:[n.get("x",s),n.get("y",s),n.get("z",s)]}),i.dataIndex=s),a=s}),this),i.on("mouseout",(function(t){a=-1,i.dataIndex=-1,e.dispatchAction({type:"grid3DHideAxisPointer"})}),this)},_updateNDCPosition:function(){var t=new u.a,e=this._camera;u.a.multiply(t,e.projectionMatrix,e.viewMatrix);var n=this._positionNDC,r=this._points,i=r.length/3;n&&n.length/2===i||(n=this._positionNDC=new Float32Array(2*i));for(var a=[],o=0;o<i;o++){var s=3*o,l=2*o;a[0]=r[s],a[1]=r[s+1],a[2]=r[s+2],a[3]=1,p.transformMat4(a,a,t.array),n[l]=a[0]/a[3],n[l+1]=a[1]/a[3]}},_pick:function(t,e,n,r,i,a){var o=this._positionNDC,s=this._data.hostModel.get("lineStyle.width"),u=-1,c=.5*n.viewport.width,f=.5*n.viewport.height;t=(t+1)*c,e=(e+1)*f;for(var d=1;d<o.length/2;d++){var p=(o[2*(d-1)]+1)*c,m=(o[2*(d-1)+1]+1)*f,g=(o[2*d]+1)*c,_=(o[2*d+1]+1)*f;h.a.containStroke(p,m,g,_,s,t,e)&&(u=(p-t)*(p-t)+(m-e)*(m-e)<(g-t)*(g-t)+(_-e)*(_-e)?d-1:d)}if(u>=0){var v=3*u,y=new l.a(this._points[v],this._points[v+1],this._points[v+2]);a.push({dataIndex:u,point:y,pointWorld:y.clone(),target:this._line3DMesh,distance:this._camera.getWorldPosition().dist(y)})}},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll()}})},function(t,e){e.containStroke=function(t,e,n,r,i,a,o){if(0===i)return!1;var s=i,u=0;if(o>e+s&&o>r+s||o<e-s&&o<r-s||a>t+s&&a>n+s||a<t-s&&a<n-s)return!1;if(t===n)return Math.abs(a-t)<=s/2;var l=(u=(e-r)/(t-n))*a-o+(t*r-n*e)/(t-n);return l*l/(u*u+1)<=s/2*s/2}},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=(n(237),n(238),n(51)),o=n.n(a),s=n(17);i.a.registerVisual(o()("scatter3D","circle",null)),i.a.registerVisual(Object(s.a)("scatter3D")),i.a.registerLayout({seriesType:"scatter3D",reset:function(t){var e=t.coordinateSystem;if(e){var n=e.dimensions;if(n.length<3)return void console.error("scatter3D needs 3D coordinateSystem");var r=n.map((function(e){return t.coordDimToDataDim(e)[0]})),i=[],a=[];return{progress:function(t,n){for(var o=new Float32Array(3*(t.end-t.start)),s=t.start;s<t.end;s++){var u=3*(s-t.start);i[0]=n.get(r[0],s),i[1]=n.get(r[1],s),i[2]=n.get(r[2],s),e.dataToPoint(i,a),o[u]=a[0],o[u+1]=a[1],o[u+2]=a[2]}n.setLayout("points",o)}}}}})},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(32),o=n(39),s=n(50);i.a.extendSeriesModel({type:"series.scatter3D",dependencies:["globe","grid3D","geo3D"],visualColorAccessPath:"itemStyle.color",getInitialData:function(t,e){return Object(s.a)(this)},getFormattedLabel:function(t,e,n,r){var i=a.a.getFormattedLabel(this,t,e,n,r);if(null==i){var o=this.getData(),s=o.dimensions[o.dimensions.length-1];i=o.get(s,t)}return i},formatTooltip:function(t){return Object(o.a)(this,t)},defaultOption:{coordinateSystem:"cartesian3D",zlevel:-10,progressive:1e5,progressiveThreshold:1e5,grid3DIndex:0,globeIndex:0,symbol:"circle",symbolSize:10,blendMode:"source-over",label:{show:!1,position:"right",distance:5,textStyle:{fontSize:14,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:3}},itemStyle:{opacity:.8},emphasis:{label:{show:!0}},animationDurationUpdate:500}})},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n(2),s=n(32),u=n(67);i.a.extendChartView({type:"scatter3D",__ecgl__:!0,init:function(t,e){this.groupGL=new a.a.Node,this._pointsBuilderList=[],this._currentStep=0},render:function(t,e,n){if(this.groupGL.removeAll(),t.getData().count()){var r=t.coordinateSystem;if(!r||!r.viewGL)throw new Error("Invalid coordinate system");r.viewGL.add(this.groupGL),this._camera=r.viewGL.camera;var i=this._pointsBuilderList[0];i||(i=this._pointsBuilderList[0]=new u.a(!1,n)),this._pointsBuilderList.length=1,this.groupGL.add(i.rootNode),i.update(t,e,n),i.updateView(r.viewGL.camera)}},incrementalPrepareRender:function(t,e,n){var r=t.coordinateSystem;if(!r||!r.viewGL)throw new Error("Invalid coordinate system");r.viewGL.add(this.groupGL),this._camera=r.viewGL.camera,this.groupGL.removeAll(),this._currentStep=0},incrementalRender:function(t,e,n,r){if(!(t.end<=t.start)){var i=this._pointsBuilderList[this._currentStep];i||(i=new u.a(!1,r),this._pointsBuilderList[this._currentStep]=i),this.groupGL.add(i.rootNode),i.update(e,n,r,t.start,t.end),i.updateView(e.coordinateSystem.viewGL.camera),this._currentStep++}},updateCamera:function(){this._pointsBuilderList.forEach((function(t){t.updateView(this._camera)}),this)},highlight:function(t,e,n,r){this._toggleStatus("highlight",t,e,n,r)},downplay:function(t,e,n,r){this._toggleStatus("downplay",t,e,n,r)},_toggleStatus:function(t,e,n,r,a){var u=e.getData(),l=o.a.queryDataIndex(u,a),c="highlight"===t;null!=l?i.a.util.each(s.a.normalizeToArray(l),(function(t){for(var e=0;e<this._pointsBuilderList.length;e++){var n=this._pointsBuilderList[e];c?n.highlight(u,t):n.downplay(u,t)}}),this):u.each((function(t){for(var e=0;e<this._pointsBuilderList.length;e++){var n=this._pointsBuilderList[e];c?n.highlight(u,t):n.downplay(u,t)}}))},dispose:function(){this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}})},function(t,e,n){"use strict";var r=n(0),i=n.n(r);function a(t,e,n){(e=e||document.createElement("canvas")).width=t,e.height=t;var r=e.getContext("2d");return n&&n(r),e}var o={getMarginByStyle:function(t){var e=t.minMargin||0,n=0;t.stroke&&"none"!==t.stroke&&(n=null==t.lineWidth?1:t.lineWidth);var r=t.shadowBlur||0,i=t.shadowOffsetX||0,a=t.shadowOffsetY||0,o={};return o.left=Math.max(n/2,-i+r,e),o.right=Math.max(n/2,i+r,e),o.top=Math.max(n/2,-a+r,e),o.bottom=Math.max(n/2,a+r,e),o},createSymbolSprite:function(t,e,n,r){var s=function(t,e,n,r){i.a.util.isArray(e)||(e=[e,e]);var a=o.getMarginByStyle(n,r),s=e[0]+a.left+a.right,u=e[1]+a.top+a.bottom,l=i.a.helper.createSymbol(t,0,0,e[0],e[1]),c=Math.max(s,u);l.position=[a.left,a.top],s>u?l.position[1]+=(c-u)/2:l.position[0]+=(c-s)/2;var h=l.getBoundingRect();return l.position[0]-=h.x,l.position[1]-=h.y,l.setStyle(n),l.update(),l.__size=c,l}(t,e,n),u=o.getMarginByStyle(n);return{image:a(s.__size,r,(function(t){s.brush(t)})),margin:u}},createSDFFromCanvas:function(t,e,n,r){return a(e,r,(function(e){var r=t.getContext("2d").getImageData(0,0,t.width,t.height);e.putImageData(function(t,e,n){var r=e.width,i=e.height,a=t.canvas.width,o=t.canvas.height,s=r/a,u=i/o;function l(t){return t<128?1:-1}function c(t,a){var o=1/0;t=Math.floor(t*s);for(var c=(a=Math.floor(a*u))*r+t,h=l(e.data[4*c]),f=Math.max(a-n,0);f<Math.min(a+n,i);f++)for(var d=Math.max(t-n,0);d<Math.min(t+n,r);d++){c=f*r+d;var p=d-t,m=f-a;if(h!==l(e.data[4*c])){var g=p*p+m*m;g<o&&(o=g)}}return h*Math.sqrt(o)}for(var h=t.createImageData(a,o),f=0;f<o;f++)for(var d=0;d<a;d++){var p=c(d,f)/n*.5+.5,m=4*(f*a+d);h.data[m++]=255*(1-p),h.data[m++]=255*(1-p),h.data[m++]=255*(1-p),h.data[m++]=255}return h}(e,r,n),0,0)}))},createSimpleSprite:function(t,e){return a(t,e,(function(e){var n=t/2;e.beginPath(),e.arc(n,n,60,0,2*Math.PI,!1),e.closePath();var r=e.createRadialGradient(n,n,0,n,n,n);r.addColorStop(0,"rgba(255, 255, 255, 1)"),r.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),r.addColorStop(1,"rgba(255, 255, 255, 0)"),e.fillStyle=r,e.fill()}))}};e.a=o},function(t,e,n){"use strict";var r=n(1),i=n(241),a=n(0),o=n.n(a),s=n(6),u=n(242),l=s.a.vec4;r.a.Shader.import(u.a);var c=r.a.Mesh.extend((function(){var t=new r.a.Geometry({dynamic:!0,attributes:{color:new r.a.Geometry.Attribute("color","float",4,"COLOR"),position:new r.a.Geometry.Attribute("position","float",3,"POSITION"),size:new r.a.Geometry.Attribute("size","float",1),prevPosition:new r.a.Geometry.Attribute("prevPosition","float",3),prevSize:new r.a.Geometry.Attribute("prevSize","float",1)}});o.a.util.extend(t,i.a);var e=new r.a.Material({shader:r.a.createShader("ecgl.sdfSprite"),transparent:!0,depthMask:!1});e.enableTexture("sprite"),e.define("both","VERTEX_COLOR"),e.define("both","VERTEX_SIZE");var n=new r.a.Texture2D({image:document.createElement("canvas"),flipY:!1});return e.set("sprite",n),t.pick=this._pick.bind(this),{geometry:t,material:e,mode:r.a.Mesh.POINTS,sizeScale:1}}),{_pick:function(t,e,n,i,a,o){var s=this._positionNDC;if(s)for(var u=n.viewport,l=2/u.width,c=2/u.height,h=this.geometry.vertexCount-1;h>=0;h--){var f,d=s[2*(f=this.geometry.indices?this.geometry.indices[h]:h)],p=s[2*f+1],m=this.geometry.attributes.size.get(f)/this.sizeScale/2;if(t>d-m*l&&t<d+m*l&&e>p-m*c&&e<p+m*c){var g=new r.a.Vector3,_=new r.a.Vector3;this.geometry.attributes.position.get(f,g.array),r.a.Vector3.transformMat4(_,g,this.worldTransform),o.push({vertexIndex:f,point:g,pointWorld:_,target:this,distance:_.distance(i.getWorldPosition())})}}},updateNDCPosition:function(t,e,n){var r=this._positionNDC,i=this.geometry;r&&r.length/2===i.vertexCount||(r=this._positionNDC=new Float32Array(2*i.vertexCount));for(var a=l.create(),o=0;o<i.vertexCount;o++)i.attributes.position.get(o,a),a[3]=1,l.transformMat4(a,a,t.array),l.scale(a,a,1/a[3]),r[2*o]=a[0],r[2*o+1]=a[1]}});e.a=c},function(t,e,n){"use strict";var r=n(97),i=n(6).a.vec3;e.a={needsSortVertices:function(){return this.sortVertices},needsSortVerticesProgressively:function(){return this.needsSortVertices()&&this.vertexCount>=2e4},doSortVertices:function(t,e){var n=this.indices,r=i.create();if(!n){n=this.indices=this.vertexCount>65535?new Uint32Array(this.vertexCount):new Uint16Array(this.vertexCount);for(var a=0;a<n.length;a++)n[a]=a}if(0===e){var o,s=this.attributes.position,u=(t=t.array,0);for(this._zList&&this._zList.length===this.vertexCount||(this._zList=new Float32Array(this.vertexCount)),a=0;a<this.vertexCount;a++){s.get(a,r);var l=i.sqrDist(r,t);isNaN(l)&&(l=1e7,u++),0===a?(o=l,l=0):l-=o,this._zList[a]=l}this._noneCount=u}if(this.vertexCount<2e4)0===e&&this._simpleSort(this._noneCount/this.vertexCount>.05);else for(a=0;a<3;a++)this._progressiveQuickSort(3*e+a);this.dirtyIndices()},_simpleSort:function(t){var e=this._zList,n=this.indices;function i(t,n){return e[n]-e[t]}t?Array.prototype.sort.call(n,i):r.a.sort(n,i,0,n.length-1)},_progressiveQuickSort:function(t){var e=this._zList,n=this.indices;this._quickSort=this._quickSort||new r.a,this._quickSort.step(n,(function(t,n){return e[n]-e[t]}),t)}}},function(t,e,n){"use strict";e.a="@export ecgl.sdfSprite.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform float elapsedTime : 0;\n\nattribute vec3 position : POSITION;\n\n#ifdef VERTEX_SIZE\nattribute float size;\n#else\nuniform float u_Size;\n#endif\n\n#ifdef VERTEX_COLOR\nattribute vec4 a_FillColor: COLOR;\nvarying vec4 v_Color;\n#endif\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nattribute float prevSize;\nuniform float percent : 1.0;\n#endif\n\n\n#ifdef POSITIONTEXTURE_ENABLED\nuniform sampler2D positionTexture;\n#endif\n\nvarying float v_Size;\n\nvoid main()\n{\n\n#ifdef POSITIONTEXTURE_ENABLED\n gl_Position = worldViewProjection * vec4(texture2D(positionTexture, position.xy).xy, -10.0, 1.0);\n#else\n\n #ifdef VERTEX_ANIMATION\n vec3 pos = mix(prevPosition, position, percent);\n #else\n vec3 pos = position;\n #endif\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n#endif\n\n#ifdef VERTEX_SIZE\n#ifdef VERTEX_ANIMATION\n v_Size = mix(prevSize, size, percent);\n#else\n v_Size = size;\n#endif\n#else\n v_Size = u_Size;\n#endif\n\n#ifdef VERTEX_COLOR\n v_Color = a_FillColor;\n #endif\n\n gl_PointSize = v_Size;\n}\n\n@end\n\n@export ecgl.sdfSprite.fragment\n\nuniform vec4 color: [1, 1, 1, 1];\nuniform vec4 strokeColor: [1, 1, 1, 1];\nuniform float smoothing: 0.07;\n\nuniform float lineWidth: 0.0;\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\nvarying float v_Size;\n\nuniform sampler2D sprite;\n\n@import clay.util.srgb\n\nvoid main()\n{\n gl_FragColor = color;\n\n vec4 _strokeColor = strokeColor;\n\n#ifdef VERTEX_COLOR\n gl_FragColor *= v_Color;\n #endif\n\n#ifdef SPRITE_ENABLED\n float d = texture2D(sprite, gl_PointCoord).r;\n gl_FragColor.a *= smoothstep(0.5 - smoothing, 0.5 + smoothing, d);\n\n if (lineWidth > 0.0) {\n float sLineWidth = lineWidth / 2.0;\n\n float outlineMaxValue0 = 0.5 + sLineWidth;\n float outlineMaxValue1 = 0.5 + sLineWidth + smoothing;\n float outlineMinValue0 = 0.5 - sLineWidth - smoothing;\n float outlineMinValue1 = 0.5 - sLineWidth;\n\n if (d <= outlineMaxValue1 && d >= outlineMinValue0) {\n float a = _strokeColor.a;\n if (d <= outlineMinValue1) {\n a = a * smoothstep(outlineMinValue0, outlineMinValue1, d);\n }\n else {\n a = a * smoothstep(outlineMaxValue1, outlineMaxValue0, d);\n }\n gl_FragColor.rgb = mix(gl_FragColor.rgb * gl_FragColor.a, _strokeColor.rgb, a);\n gl_FragColor.a = gl_FragColor.a * (1.0 - a) + a;\n }\n }\n#endif\n\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(gl_FragColor);\n#endif\n}\n@end"},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=(n(244),n(245),n(248),n(17));i.a.registerVisual(Object(a.a)("lines3D")),i.a.registerAction({type:"lines3DPauseEffect",event:"lines3deffectpaused",update:"series.lines3D:pauseEffect"},(function(){})),i.a.registerAction({type:"lines3DResumeEffect",event:"lines3deffectresumed",update:"series.lines3D:resumeEffect"},(function(){})),i.a.registerAction({type:"lines3DToggleEffect",event:"lines3deffectchanged",update:"series.lines3D:toggleEffect"},(function(){}))},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(6),o=a.a.vec3,s=a.a.vec2,u=o.normalize,l=o.cross,c=o.sub,h=o.add,f=o.create,d=f(),p=f(),m=f(),g=f(),_=[],v=[];function y(t,e){s.copy(_,t[0]),s.copy(v,t[1]);var n=[],r=n[0]=f(),i=n[1]=f(),a=n[2]=f(),y=n[3]=f();e.dataToPoint(_,r),e.dataToPoint(v,y),u(d,r),c(p,y,r),u(p,p),l(m,p,d),u(m,m),l(p,d,m),h(i,d,p),u(i,i),u(d,y),c(p,r,y),u(p,p),l(m,p,d),u(m,m),l(p,d,m),h(a,d,p),u(a,a),h(g,r,y),u(g,g);var b=o.dot(r,g),x=o.dot(g,i),w=(Math.max(o.len(r),o.len(y))-b)/x*2;return o.scaleAndAdd(i,r,i,w),o.scaleAndAdd(a,y,a,w),n}function b(t,e){for(var n=new Float32Array(3*t.length),r=0,i=[],a=0;a<t.length;a++)e.dataToPoint(t[a],i),n[r++]=i[0],n[r++]=i[1],n[r++]=i[2];return n}function x(t){var e=[];return t.each((function(n){var r=t.getItemModel(n),i=r.option instanceof Array?r.option:r.getShallow("coords",!0);if(!(i instanceof Array&&i.length>0&&i[0]instanceof Array))throw new Error("Invalid coords "+JSON.stringify(i)+". Lines must have 2d coords array in data item.");e.push(i)})),{coordsList:e}}function w(t,e,n){var r=t.getData(),i=t.get("polyline"),a=x(r);r.setLayout("lineType",i?"polyline":"cubicBezier"),r.each((function(t){var s=a.coordsList[t],u=i?b(s,e):function(t,e,n){var r=[],i=r[0]=o.create(),a=r[1]=o.create(),s=r[2]=o.create(),u=r[3]=o.create();e.dataToPoint(t[0],i),e.dataToPoint(t[1],u);var l=o.dist(i,u);return o.lerp(a,i,u,.3),o.lerp(s,i,u,.3),o.scaleAndAdd(a,a,n,Math.min(.1*l,10)),o.scaleAndAdd(s,s,n,Math.min(.1*l,10)),r}(s,e,n);r.setItemLayout(t,u)}))}i.a.registerLayout((function(t,e){t.eachSeriesByType("lines3D",(function(t){var e=t.coordinateSystem;"globe"===e.type?function(t,e){var n=t.getData(),r=t.get("polyline");n.setLayout("lineType",r?"polyline":"cubicBezier");var i=x(n);n.each((function(t){var a=i.coordsList[t],o=r?b:y;n.setItemLayout(t,o(a,e))}))}(t,e):"geo3D"===e.type?w(t,e,[0,1,0]):"mapbox3D"!==e.type&&"maptalks3D"!==e.type||w(t,e,[0,0,1])}))}))},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n(25),s=n(246),u=n(46);a.a.Shader.import(u.a),i.a.extendChartView({type:"lines3D",__ecgl__:!0,init:function(t,e){this.groupGL=new a.a.Node,this._meshLinesMaterial=new a.a.Material({shader:a.a.createShader("ecgl.meshLines3D"),transparent:!0,depthMask:!1}),this._linesMesh=new a.a.Mesh({geometry:new o.a,material:this._meshLinesMaterial,$ignorePicking:!0}),this._trailMesh=new s.a},render:function(t,e,n){this.groupGL.add(this._linesMesh);var r=t.coordinateSystem,i=t.getData();if(r&&r.viewGL){r.viewGL.add(this.groupGL),this._updateLines(t,e,n);var o=r.viewGL.isLinearSpace()?"define":"undefine";this._linesMesh.material[o]("fragment","SRGB_DECODE"),this._trailMesh.material[o]("fragment","SRGB_DECODE")}var s=this._trailMesh;s.stopAnimation(),t.get("effect.show")?(this.groupGL.add(s),s.updateData(i,n,this._linesMesh.geometry),s.__time=s.__time||0,this._curveEffectsAnimator=s.animate("",{loop:!0}).when(36e5,{__time:36e5}).during((function(){s.setAnimationTime(s.__time)})).start()):(this.groupGL.remove(s),this._curveEffectsAnimator=null),this._linesMesh.material.blend=this._trailMesh.material.blend="lighter"===t.get("blendMode")?a.a.additiveBlend:null},pauseEffect:function(){this._curveEffectsAnimator&&this._curveEffectsAnimator.pause()},resumeEffect:function(){this._curveEffectsAnimator&&this._curveEffectsAnimator.resume()},toggleEffect:function(){var t=this._curveEffectsAnimator;t&&(t.isPaused()?t.resume():t.pause())},_updateLines:function(t,e,n){var r=t.getData(),i=t.coordinateSystem,o=this._linesMesh.geometry,s=t.get("polyline");o.expandLine=!0;var u=function(t){return null!=t.radius?t.radius:null!=t.size?Math.max(t.size[0],t.size[1],t.size[2]):100}(i);o.segmentScale=u/20;var l="lineStyle.width".split("."),c=n.getDevicePixelRatio(),h=0;r.each((function(t){var e=r.getItemModel(t).get(l);null==e&&(e=1),r.setItemVisual(t,"lineWidth",e),h=Math.max(e,h)})),o.useNativeLine=!1;var f=0,d=0;r.each((function(t){var e=r.getItemLayout(t);s?(f+=o.getPolylineVertexCount(e),d+=o.getPolylineTriangleCount(e)):(f+=o.getCubicCurveVertexCount(e[0],e[1],e[2],e[3]),d+=o.getCubicCurveTriangleCount(e[0],e[1],e[2],e[3]))})),o.setVertexCount(f),o.setTriangleCount(d),o.resetOffset();var p=[];r.each((function(t){var e=r.getItemLayout(t),n=r.getItemVisual(t,"color"),i=r.getItemVisual(t,"opacity"),u=r.getItemVisual(t,"lineWidth")*c;null==i&&(i=1),(p=a.a.parseColor(n,p))[3]*=i,s?o.addPolyline(e,p,u):o.addCubicCurve(e[0],e[1],e[2],e[3],p,u)})),o.dirty()},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll()}})},function(t,e,n){"use strict";var r=n(0),i=(n.n(r),n(1)),a=n(6),o=n(25),s=n(247),u=a.a.vec3;i.a.Shader.import(s.a),e.a=i.a.Mesh.extend((function(){var t=new i.a.Material({shader:new i.a.Shader(i.a.Shader.source("ecgl.trail2.vertex"),i.a.Shader.source("ecgl.trail2.fragment")),transparent:!0,depthMask:!1}),e=new o.a({dynamic:!0});return e.createAttribute("dist","float",1),e.createAttribute("distAll","float",1),e.createAttribute("start","float",1),{geometry:e,material:t,culling:!1,$ignorePicking:!0}}),{updateData:function(t,e,n){var r=t.hostModel,a=this.geometry,o=r.getModel("effect"),s=o.get("trailWidth")*e.getDevicePixelRatio(),l=o.get("trailLength"),c=r.get("effect.constantSpeed"),h=1e3*r.get("effect.period"),f=null!=c;this.getScene()||console.error("TrailMesh must been add to scene before updateData"),f?this.material.set("speed",c/1e3):this.material.set("period",h),this.material[f?"define":"undefine"]("vertex","CONSTANT_SPEED");var d=r.get("polyline");a.trailLength=l,this.material.set("trailLength",l),a.resetOffset(),["position","positionPrev","positionNext"].forEach((function(t){a.attributes[t].value=n.attributes[t].value})),["dist","distAll","start","offset","color"].forEach((function(t){a.attributes[t].init(a.vertexCount)})),a.indices=n.indices;var p=[],m=o.get("trailColor"),g=o.get("trailOpacity"),_=null!=m,v=null!=g;this.updateWorldTransform();var y=this.worldTransform.x.len(),b=this.worldTransform.y.len(),x=this.worldTransform.z.len(),w=0,T=0;t.each((function(e){var r=t.getItemLayout(e),o=v?g:t.getItemVisual(e,"opacity"),l=t.getItemVisual(e,"color");null==o&&(o=1),(p=i.a.parseColor(_?m:l,p))[3]*=o;for(var c=d?n.getPolylineVertexCount(r):n.getCubicCurveVertexCount(r[0],r[1],r[2],r[3]),S=0,E=[],C=[],A=w;A<w+c;A++)a.attributes.position.get(A,E),E[0]*=y,E[1]*=b,E[2]*=x,A>w&&(S+=u.dist(E,C)),a.attributes.dist.set(A,S),u.copy(C,E);T=Math.max(T,S);var M=Math.random()*(f?S:h);for(A=w;A<w+c;A++)a.attributes.distAll.set(A,S),a.attributes.start.set(A,M),a.attributes.offset.set(A,(n.attributes.offset.get(A)>0?1:-1)*s/2),a.attributes.color.set(A,p);w+=c})),this.material.set("spotSize",.1*T*l),this.material.set("spotIntensity",o.get("spotIntensity")),a.dirty()},setAnimationTime:function(t){this.material.set("time",t)}})},function(t,e,n){"use strict";e.a="@export ecgl.trail2.vertex\nattribute vec3 position: POSITION;\nattribute vec3 positionPrev;\nattribute vec3 positionNext;\nattribute float offset;\nattribute float dist;\nattribute float distAll;\nattribute float start;\n\nattribute vec4 a_Color : COLOR;\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform vec4 viewport : VIEWPORT;\nuniform float near : NEAR;\n\nuniform float speed : 0;\nuniform float trailLength: 0.3;\nuniform float time;\nuniform float period: 1000;\n\nuniform float spotSize: 1;\n\nvarying vec4 v_Color;\nvarying float v_Percent;\nvarying float v_SpotPercent;\n\n@import ecgl.common.wireframe.vertexHeader\n\n@import ecgl.lines3D.clipNear\n\nvoid main()\n{\n @import ecgl.lines3D.expandLine\n\n gl_Position = currProj;\n\n v_Color = a_Color;\n\n @import ecgl.common.wireframe.vertexMain\n\n#ifdef CONSTANT_SPEED\n float t = mod((speed * time + start) / distAll, 1. + trailLength) - trailLength;\n#else\n float t = mod((time + start) / period, 1. + trailLength) - trailLength;\n#endif\n\n float trailLen = distAll * trailLength;\n\n v_Percent = (dist - t * distAll) / trailLen;\n\n v_SpotPercent = spotSize / distAll;\n\n }\n@end\n\n\n@export ecgl.trail2.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\nuniform float spotIntensity: 5;\n\nvarying vec4 v_Color;\nvarying float v_Percent;\nvarying float v_SpotPercent;\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.util.srgb\n\nvoid main()\n{\n if (v_Percent > 1.0 || v_Percent < 0.0) {\n discard;\n }\n\n float fade = v_Percent;\n\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color * v_Color);\n#else\n gl_FragColor = color * v_Color;\n#endif\n\n @import ecgl.common.wireframe.fragmentMain\n\n if (v_Percent > (1.0 - v_SpotPercent)) {\n gl_FragColor.rgb *= spotIntensity;\n }\n\n gl_FragColor.a *= fade;\n}\n\n@end"},function(t,e,n){"use strict";var r=n(0),i=n.n(r);i.a.extendSeriesModel({type:"series.lines3D",dependencies:["globe"],visualColorAccessPath:"lineStyle.color",getInitialData:function(t,e){var n=new i.a.List(["value"],this);return n.hasItemOption=!1,n.initData(t.data,[],(function(t,e,r,i){if(t instanceof Array)return NaN;n.hasItemOption=!0;var a=t.value;return null!=a?a instanceof Array?a[i]:a:void 0})),n},defaultOption:{coordinateSystem:"globe",globeIndex:0,geo3DIndex:0,zlevel:-10,polyline:!1,effect:{show:!1,period:4,trailWidth:4,trailLength:.2,spotIntensity:6},silent:!0,blendMode:"source-over",lineStyle:{width:1,opacity:.5}}})},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=(n(250),n(251),n(17));i.a.registerVisual(Object(a.a)("polygons3D"))},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(31);function o(t,e){for(var n=[],r=0;r<e.length;r++)n.push(t.dataToPoint(e[r]));return n}var s=i.a.extendSeriesModel({type:"series.polygons3D",getRegionModel:function(t){return this.getData().getItemModel(t)},getRegionPolygonCoords:function(t){var e=this.coordinateSystem,n=this.getData().getItemModel(t),r=n.option instanceof Array?n.option:n.getShallow("coords");n.get("multiPolygon")||(r=[r]);for(var i=[],a=0;a<r.length;a++){for(var s=[],u=1;u<r[a].length;u++)s.push(o(e,r[a][u]));i.push({exterior:o(e,r[a][0]),interiors:s})}return i},getInitialData:function(t){var e=new i.a.List(["value"],this);return e.hasItemOption=!1,e.initData(t.data,[],(function(t,n,r,i){if(t instanceof Array)return NaN;e.hasItemOption=!0;var a=t.value;return null!=a?a instanceof Array?a[i]:a:void 0})),e},defaultOption:{show:!0,data:null,multiPolygon:!1,progressiveThreshold:1e3,progressive:1e3,zlevel:-10,label:{show:!1,distance:2,textStyle:{fontSize:20,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:4}},itemStyle:{color:"#fff",borderWidth:0,borderColor:"#333"},emphasis:{itemStyle:{color:"#639fc0"},label:{show:!0}}}});i.a.util.merge(s.prototype,a.a)},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(64),o=n(1);i.a.extendChartView({type:"polygons3D",__ecgl__:!0,init:function(t,e){this.groupGL=new o.a.Node,this._geo3DBuilderList=[],this._currentStep=0},render:function(t,e,n){this.groupGL.removeAll();var r=t.coordinateSystem;r&&r.viewGL&&r.viewGL.add(this.groupGL);var i=this._geo3DBuilderList[0];i||((i=new a.a(n)).extrudeY="mapbox3D"!==r.type&&"maptalks3D"!==r.type,this._geo3DBuilderList[0]=i),this._updateShaderDefines(r,i),i.update(t,e,n),this._geo3DBuilderList.length=1,this.groupGL.add(i.rootNode)},incrementalPrepareRender:function(t,e,n){this.groupGL.removeAll();var r=t.coordinateSystem;r&&r.viewGL&&r.viewGL.add(this.groupGL),this._currentStep=0},incrementalRender:function(t,e,n,r){var i=this._geo3DBuilderList[this._currentStep],o=e.coordinateSystem;i||((i=new a.a(r)).extrudeY="mapbox3D"!==o.type&&"maptalks3D"!==o.type,this._geo3DBuilderList[this._currentStep]=i),i.update(e,n,r,t.start,t.end),this.groupGL.add(i.rootNode),this._updateShaderDefines(o,i),this._currentStep++},_updateShaderDefines:function(t,e){var n=t.viewGL.isLinearSpace()?"define":"undefine";e.rootNode.traverse((function(e){e.material&&(e.material[n]("fragment","SRGB_DECODE"),"mapbox3D"!==t.type&&"maptalks3D"!==t.type||(e.material.define("fragment","NORMAL_UP_AXIS",2),e.material.define("fragment","NORMAL_FRONT_AXIS",1)))}))},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll()}})},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=(n(253),n(254),n(255),n(17));i.a.registerVisual(Object(a.a)("surface"))},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(31),o=n(39),s=n(50),u=i.a.extendSeriesModel({type:"series.surface",dependencies:["globe","grid3D","geo3D"],visualColorAccessPath:"itemStyle.color",formatTooltip:function(t){return Object(o.a)(this,t)},getInitialData:function(t,e){var n=t.data;function r(t){return!(isNaN(t.min)||isNaN(t.max)||isNaN(t.step))}function a(t){var e=i.a.number.getPrecisionSafe;return Math.max(e(t.min),e(t.max),e(t.step))+1}if(!n)if(t.parametric){var o=t.parametricEquation||{},u=o.u||{},l=o.v||{};["u","v"].forEach((function(t){r(o[t])||console.error("Invalid parametricEquation.%s",t)})),["x","y","z"].forEach((function(t){"function"==typeof o[t]||console.error("parametricEquation.%s needs to be function",t)}));var c=Math.floor((u.max+u.step-u.min)/u.step),h=Math.floor((l.max+l.step-l.min)/l.step);n=new Float32Array(c*h*5);var f=a(u),d=a(l);for(E=0,C=0;C<h;C++)for(A=0;A<c;A++){var p=A*u.step+u.min,m=C*l.step+l.min,g=i.a.number.round(Math.min(p,u.max),f),_=i.a.number.round(Math.min(m,l.max),d);M=o.x(g,_),O=o.y(g,_),I=o.z(g,_),n[E++]=M,n[E++]=O,n[E++]=I,n[E++]=g,n[E++]=_}}else{var v=t.equation||{},y=v.x||{},b=v.y||{};if(["x","y"].forEach((function(t){r(v[t])||console.error("Invalid equation.%s",t)})),"function"!=typeof v.z)return void console.error("equation.z needs to be function");var x=Math.floor((y.max+y.step-y.min)/y.step),w=Math.floor((b.max+b.step-b.min)/b.step);n=new Float32Array(x*w*3);for(var T=a(y),S=a(b),E=0,C=0;C<w;C++)for(var A=0;A<x;A++){var M=A*y.step+y.min,O=C*b.step+b.min,D=i.a.number.round(Math.min(M,y.max),T),N=i.a.number.round(Math.min(O,b.max),S),I=v.z(D,N);n[E++]=D,n[E++]=N,n[E++]=I}}var P=["x","y","z"];return t.parametric&&P.push("u","v"),Object(s.a)(this,P,n)},defaultOption:{coordinateSystem:"cartesian3D",zlevel:-10,grid3DIndex:0,shading:"lambert",parametric:!1,wireframe:{show:!0,lineStyle:{color:"rgba(0,0,0,0.5)",width:1}},equation:{x:{min:-1,max:1,step:.1},y:{min:-1,max:1,step:.1},z:null},parametricEquation:{u:{min:-1,max:1,step:.1},v:{min:-1,max:1,step:.1},x:null,y:null,z:null},itemStyle:{},animationDurationUpdate:500}});i.a.util.merge(u.prototype,a.a)},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=(n(2),n(6)),s=n(65),u=o.a.vec3;i.a.extendChartView({type:"surface",__ecgl__:!0,init:function(t,e){this.groupGL=new a.a.Node},render:function(t,e,n){var r=this._prevSurfaceMesh;this._prevSurfaceMesh=this._surfaceMesh,this._surfaceMesh=r,this._surfaceMesh||(this._surfaceMesh=this._createSurfaceMesh()),this.groupGL.remove(this._prevSurfaceMesh),this.groupGL.add(this._surfaceMesh);var i=t.coordinateSystem,o=t.get("shading"),s=t.getData(),u="ecgl."+o;if(this._surfaceMesh.material&&this._surfaceMesh.material.shader.name===u||(this._surfaceMesh.material=a.a.createMaterial(u,["VERTEX_COLOR","DOUBLE_SIDED"])),a.a.setMaterialFromModel(o,this._surfaceMesh.material,t,n),i&&i.viewGL){i.viewGL.add(this.groupGL);var l=i.viewGL.isLinearSpace()?"define":"undefine";this._surfaceMesh.material[l]("fragment","SRGB_DECODE")}var c=t.get("parametric"),h=this._getDataShape(s,c),f=t.getModel("wireframe"),d=f.get("lineStyle.width"),p=f.get("show")&&d>0;this._updateSurfaceMesh(this._surfaceMesh,t,h,p);var m=this._surfaceMesh.material;p?(m.define("WIREFRAME_QUAD"),m.set("wireframeLineWidth",d),m.set("wireframeLineColor",a.a.parseColor(f.get("lineStyle.color")))):m.undefine("WIREFRAME_QUAD"),this._initHandler(t,n),this._updateAnimation(t)},_updateAnimation:function(t){a.a.updateVertexAnimation([["prevPosition","position"],["prevNormal","normal"]],this._prevSurfaceMesh,this._surfaceMesh,t)},_createSurfaceMesh:function(){var t=new a.a.Mesh({geometry:new a.a.Geometry({dynamic:!0,sortTriangles:!0}),shadowDepthMaterial:new a.a.Material({shader:new a.a.Shader(a.a.Shader.source("ecgl.sm.depth.vertex"),a.a.Shader.source("ecgl.sm.depth.fragment"))}),culling:!1,renderOrder:10,renderNormal:!0});return t.geometry.createAttribute("barycentric","float",4),t.geometry.createAttribute("prevPosition","float",3),t.geometry.createAttribute("prevNormal","float",3),i.a.util.extend(t.geometry,s.a),t},_initHandler:function(t,e){var n=t.getData(),r=this._surfaceMesh,i=t.coordinateSystem;r.seriesIndex=t.seriesIndex;var a=-1;r.off("mousemove"),r.off("mouseout"),r.on("mousemove",(function(t){var o=function(t,e){for(var n=1/0,i=-1,a=[],o=0;o<t.length;o++){r.geometry.attributes.position.get(t[o],a);var s=u.dist(e.array,a);s<n&&(n=s,i=t[o])}return i}(t.triangle,t.point);if(o>=0){var s=[];r.geometry.attributes.position.get(o,s);for(var l=i.pointToData(s),c=1/0,h=-1,f=[],d=0;d<n.count();d++){f[0]=n.get("x",d),f[1]=n.get("y",d),f[2]=n.get("z",d);var p=u.squaredDistance(f,l);p<c&&(h=d,c=p)}h!==a&&e.dispatchAction({type:"grid3DShowAxisPointer",value:l}),a=h,r.dataIndex=h}else r.dataIndex=-1}),this),r.on("mouseout",(function(t){a=-1,r.dataIndex=-1,e.dispatchAction({type:"grid3DHideAxisPointer"})}),this)},_updateSurfaceMesh:function(t,e,n,r){var i=t.geometry,o=e.getData(),s=o.getLayout("points"),l=0;o.each((function(t){o.hasValue(t)||l++}));var c=l||r,h=i.attributes.position,f=i.attributes.normal,d=i.attributes.texcoord0,p=i.attributes.barycentric,m=i.attributes.color,g=n.row,_=n.column,v="color"!==e.get("shading");if(c){var y=(g-1)*(_-1)*4;h.init(y),r&&p.init(y)}else h.value=new Float32Array(s);m.init(i.vertexCount),d.init(i.vertexCount);var b,x=[0,3,1,1,3,2],w=[[1,1,0,0],[0,1,0,1],[1,0,0,1],[1,0,1,0]],T=i.indices=new(i.vertexCount>65535?Uint32Array:Uint16Array)((g-1)*(_-1)*6),S=function(t,e,n){n[1]=t*_+e,n[0]=t*_+e+1,n[3]=(t+1)*_+e+1,n[2]=(t+1)*_+e},E=!1;if(c){var C=[],A=[],M=0;v?f.init(i.vertexCount):f.value=null;for(var O=[[],[],[]],D=[],N=[],I=u.create(),P=function(t,e,n){var r=3*e;return n[0]=t[r],n[1]=t[r+1],n[2]=t[r+2],n},L=new Float32Array(s.length),R=new Float32Array(s.length/3*4),k=0;k<o.count();k++)if(o.hasValue(k)){var B=a.a.parseColor(o.getItemVisual(k,"color")),F=o.getItemVisual(k,"opacity");B[3]*=F,B[3]<.99&&(E=!0);for(var z=0;z<4;z++)R[4*k+z]=B[z]}var j=[1e7,1e7,1e7];for(k=0;k<g-1;k++)for(var U=0;U<_-1;U++){var H=4*(k*(_-1)+U);S(k,U,C);var V=!1;for(z=0;z<4;z++)P(s,C[z],A),b=A,(isNaN(b[0])||isNaN(b[1])||isNaN(b[2]))&&(V=!0);for(z=0;z<4;z++)V?h.set(H+z,j):(P(s,C[z],A),h.set(H+z,A)),r&&p.set(H+z,w[z]);for(z=0;z<6;z++)T[M++]=x[z]+H;if(v&&!V)for(z=0;z<2;z++){for(var G=3*z,W=0;W<3;W++)P(s,q=C[x[G]+W],O[W]);for(u.sub(D,O[0],O[1]),u.sub(N,O[1],O[2]),u.cross(I,D,N),W=0;W<3;W++){var $=3*C[x[G]+W];L[$]=L[$]+I[0],L[$+1]=L[$+1]+I[1],L[$+2]=L[$+2]+I[2]}}}if(v)for(k=0;k<L.length/3;k++)P(L,k,I),u.normalize(I,I),L[3*k]=I[0],L[3*k+1]=I[1],L[3*k+2]=I[2];B=[];var X=[];for(k=0;k<g-1;k++)for(U=0;U<_-1;U++)for(H=4*(k*(_-1)+U),S(k,U,C),z=0;z<4;z++){for(W=0;W<4;W++)B[W]=R[4*C[z]+W];m.set(H+z,B),v&&(P(L,C[z],I),f.set(H+z,I));var q=C[z];X[0]=q%_/(_-1),X[1]=Math.floor(q/_)/(g-1),d.set(H+z,X)}}else{for(X=[],k=0;k<o.count();k++)X[0]=k%_/(_-1),X[1]=Math.floor(k/_)/(g-1),B=a.a.parseColor(o.getItemVisual(k,"color")),F=o.getItemVisual(k,"opacity"),B[3]*=F,B[3]<.99&&(E=!0),m.set(k,B),d.set(k,X);C=[];var Y=0;for(k=0;k<g-1;k++)for(U=0;U<_-1;U++)for(S(k,U,C),z=0;z<6;z++)T[Y++]=C[x[z]];v?i.generateVertexNormals():f.value=null}t.material.get("normalMap")&&i.generateTangents(),i.updateBoundingBox(),i.dirty(),t.material.transparent=E,t.material.depthMask=!E},_getDataShape:function(t,e){for(var n=-1/0,r=0,i=0,a=0,o=e?"u":"x",s=0;s<t.count();s++){var u=t.get(o,s);if(u<n){if(a&&a!==i)throw new Error("Invalid data. data should be a row major 2d array.");a=i,i=0,r++}n=u,i++}return{row:r+1,column:i}},dispose:function(){this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}})},function(t,e,n){"use strict";var r=n(0);n.n(r).a.registerLayout((function(t,e){t.eachSeriesByType("surface",(function(t){var e=t.coordinateSystem;e&&"cartesian3D"===e.type||console.error("Surface chart only support cartesian3D coordinateSystem");var n=t.getData(),r=new Float32Array(3*n.count()),i=[NaN,NaN,NaN];if(e&&"cartesian3D"===e.type){var a=e.dimensions.map((function(e){return t.coordDimToDataDim(e)[0]}));n.each(a,(function(t,a,o,s){var u;u=n.hasValue(s)?e.dataToPoint([t,a,o]):i,r[3*s]=u[0],r[3*s+1]=u[1],r[3*s+2]=u[2]}))}n.setLayout("points",r)}))}))},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=(n(99),n(257),n(258),n(17));i.a.registerVisual(Object(a.a)("map3D")),i.a.registerAction({type:"map3DChangeCamera",event:"map3dcamerachanged",update:"series:updateCamera"},(function(t,e){e.eachComponent({mainType:"series",subType:"map3D",query:t},(function(e){e.setView(t)}))}))},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(44),o=n(28),s=n(29),u=n(31),l=n(96),c=n(32),h=n(39),f=n(98);function d(t,e){for(var n=[],r=0;r<e.length;r++)n.push(t.dataToPoint(e[r]));return n}var p=i.a.extendSeriesModel({type:"series.map3D",layoutMode:"box",coordinateSystem:null,visualColorAccessPath:"itemStyle.color",optionUpdated:function(t){t=t||{};var e=this.get("coordinateSystem");if(null!=e&&"geo3D"!==e){var n=[];["left","top","width","height","boxWidth","boxDepth","boxHeight","light","viewControl","postEffect","temporalSuperSampling","environment","groundPlane"].forEach((function(e){null!=t[e]&&n.push(e)})),n.length&&console.warn("Property %s in map3D series will be ignored if coordinate system is %s",n.join(", "),e),this.get("groundPlane.show")&&(this.option.groundPlane.show=!1),this._geo=null}},getInitialData:function(t){t.data=this.getFilledRegions(t.data,t.map);var e=i.a.helper.completeDimensions(["value"],t.data),n=new i.a.List(e,this);n.initData(t.data);var r={};return n.each((function(t){var e=n.getName(t),i=n.getItemModel(t);r[e]=i})),this._regionModelMap=r,n},formatTooltip:function(t){return Object(h.a)(this,t)},getRegionModel:function(t){var e=this.getData().getName(t);return this._regionModelMap[e]||new i.a.Model(null,this)},getRegionPolygonCoords:function(t){var e=this.coordinateSystem,n=this.getData().getName(t);if(e.transform)return(r=e.getRegion(n))?r.geometries:[];this._geo||(this._geo=f.a.createGeo3D(this));for(var r=this._geo.getRegion(n),i=[],a=0;a<r.geometries.length;a++){var o=r.geometries[a],s=[],u=d(e,o.exterior);if(s&&s.length)for(var l=0;l<o.interiors.length;l++)s.push(d(e,s[l]));i.push({interiors:s,exterior:u})}return i},getFormattedLabel:function(t,e){var n=c.a.getFormattedLabel(this,t,e);return null==n&&(n=this.getData().getName(t)),n},defaultOption:{coordinateSystem:"geo3D",data:null}});i.a.util.merge(p.prototype,l.a),i.a.util.merge(p.prototype,a.a),i.a.util.merge(p.prototype,o.a),i.a.util.merge(p.prototype,s.a),i.a.util.merge(p.prototype,u.a)},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n(45),s=n(30),u=n(64);i.a.extendChartView({type:"map3D",__ecgl__:!0,init:function(t,e){this._geo3DBuilder=new u.a(e),this.groupGL=new a.a.Node},render:function(t,e,n){var r=t.coordinateSystem;if(r&&r.viewGL){if(this.groupGL.add(this._geo3DBuilder.rootNode),r.viewGL.add(this.groupGL),"geo3D"===r.type){this._sceneHelper||(this._sceneHelper=new s.a,this._sceneHelper.initLight(this.groupGL)),this._sceneHelper.setScene(r.viewGL.scene),this._sceneHelper.updateLight(t),r.viewGL.setPostEffect(t.getModel("postEffect"),n),r.viewGL.setTemporalSuperSampling(t.getModel("temporalSuperSampling"));var i=this._control;i||(i=this._control=new o.a({zr:n.getZr()}),this._control.init());var a=t.getModel("viewControl");i.setViewGL(r.viewGL),i.setFromViewControlModel(a,0),i.off("update"),i.on("update",(function(){n.dispatchAction({type:"map3DChangeCamera",alpha:i.getAlpha(),beta:i.getBeta(),distance:i.getDistance(),from:this.uid,map3DId:t.id})})),this._geo3DBuilder.extrudeY=!0}else this._control&&(this._control.dispose(),this._control=null),this._sceneHelper&&(this._sceneHelper.dispose(),this._sceneHelper=null),t.getData().getLayout("geo3D"),this._geo3DBuilder.extrudeY=!1;this._geo3DBuilder.update(t,e,n,0,t.getData().count());var u=r.viewGL.isLinearSpace()?"define":"undefine";this._geo3DBuilder.rootNode.traverse((function(t){t.material&&t.material[u]("fragment","SRGB_DECODE")}))}},afterRender:function(t,e,n,r){var i=r.renderer,a=t.coordinateSystem;a&&"geo3D"===a.type&&(this._sceneHelper.updateAmbientCubemap(i,t,n),this._sceneHelper.updateSkybox(i,t,n))},dispose:function(){this.groupGL.removeAll(),this._control.dispose()}})},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=(n(260),n(261),n(51)),o=n.n(a),s=n(17);i.a.registerVisual(o()("scatterGL","circle",null)),i.a.registerVisual(Object(s.a)("scatterGL")),i.a.registerLayout({seriesType:"scatterGL",reset:function(t){var e,n=t.coordinateSystem;if(n){var r=n.dimensions,i=[];1===r.length?e=function(t,e){for(var i=new Float32Array(2*(t.end-t.start)),a=t.start;a<t.end;a++){var o=2*(a-t.start),s=e.get(r[0],a),u=n.dataToPoint(s);i[o]=u[0],i[o+1]=u[1]}e.setLayout("points",i)}:2===r.length&&(e=function(t,e){for(var a=new Float32Array(2*(t.end-t.start)),o=t.start;o<t.end;o++){var s=2*(o-t.start),u=e.get(r[0],o),l=e.get(r[1],o);i[0]=u,i[1]=l,i=n.dataToPoint(i),a[s]=i[0],a[s+1]=i[1]}e.setLayout("points",a)})}return{progress:e}}})},function(t,e,n){"use strict";var r=n(0),i=n.n(r);i.a.extendSeriesModel({type:"series.scatterGL",dependencies:["grid","polar","geo","singleAxis"],visualColorAccessPath:"itemStyle.color",getInitialData:function(){return i.a.helper.createList(this)},defaultOption:{coordinateSystem:"cartesian2d",zlevel:10,progressive:1e5,progressiveThreshold:1e5,large:!1,symbol:"circle",symbolSize:10,zoomScale:0,blendMode:"source-over",itemStyle:{opacity:.8},postEffect:{enable:!1,colorCorrection:{exposure:0,brightness:0,contrast:1,saturation:1,enable:!0}}}})},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n(22),s=n(67),u=n(103);n(2),i.a.extendChartView({type:"scatterGL",__ecgl__:!0,init:function(t,e){this.groupGL=new a.a.Node,this.viewGL=new o.a("orthographic"),this.viewGL.add(this.groupGL),this._pointsBuilderList=[],this._currentStep=0,this._sizeScale=1,this._glViewHelper=new u.a(this.viewGL)},render:function(t,e,n){if(this.groupGL.removeAll(),this._glViewHelper.reset(t,n),t.getData().count()){var r=this._pointsBuilderList[0];r||(r=this._pointsBuilderList[0]=new s.a(!0,n)),this._pointsBuilderList.length=1,this.groupGL.add(r.rootNode),this._removeTransformInPoints(t.getData().getLayout("points")),r.update(t,e,n),this.viewGL.setPostEffect(t.getModel("postEffect"),n)}},incrementalPrepareRender:function(t,e,n){this.groupGL.removeAll(),this._glViewHelper.reset(t,n),this._currentStep=0,this.viewGL.setPostEffect(t.getModel("postEffect"),n)},incrementalRender:function(t,e,n,r){if(!(t.end<=t.start)){var i=this._pointsBuilderList[this._currentStep];i||(i=new s.a(!0,r),this._pointsBuilderList[this._currentStep]=i),this.groupGL.add(i.rootNode),this._removeTransformInPoints(e.getData().getLayout("points")),i.setSizeScale(this._sizeScale),i.update(e,n,r,t.start,t.end),r.getZr().refresh(),this._currentStep++}},updateTransform:function(t,e,n){if(t.coordinateSystem.getRoamTransform){this._glViewHelper.updateTransform(t,n);var r=this._glViewHelper.getZoom(),i=Math.max((t.get("zoomScale")||0)*(r-1)+1,0);this._sizeScale=i,this._pointsBuilderList.forEach((function(t){t.setSizeScale(i)}))}},_removeTransformInPoints:function(t){if(t)for(var e=[],n=0;n<t.length;n+=2)e[0]=t[n],e[1]=t[n+1],this._glViewHelper.removeTransformInPoint(e),t[n]=e[0],t[n+1]=e[1]},dispose:function(){this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}})},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=(n(263),n(268),n(51)),o=n.n(a),s=n(17);function u(){}i.a.registerVisual(o()("graphGL","circle",null)),i.a.registerVisual(Object(s.a)("graphGL")),i.a.registerVisual((function(t){var e={};t.eachSeriesByType("graphGL",(function(t){var n=t.getCategoriesData(),r=t.getData(),i={};n.each((function(r){var a=n.getName(r);i[a]=r;var o=n.getItemModel(r).get("itemStyle.color")||t.getColorFromPalette(a,e);n.setItemVisual(r,"color",o)})),n.count()&&r.each((function(t){var e=r.getItemModel(t).getShallow("category");null!=e&&("string"==typeof e&&(e=i[e]),r.getItemVisual(t,"color",!0)||r.setItemVisual(t,"color",n.getItemVisual(e,"color")))}))}))})),i.a.registerVisual((function(t){t.eachSeriesByType("graphGL",(function(t){var e=t.getGraph(),n=t.getEdgeData(),r="lineStyle.color".split("."),i="lineStyle.opacity".split(".");n.setVisual("color",t.get(r)),n.setVisual("opacity",t.get(i)),n.each((function(t){var a=n.getItemModel(t),o=e.getEdgeByIndex(t),s=a.get(r),u=a.get(i);switch(s){case"source":s=o.node1.getVisual("color");break;case"target":s=o.node2.getVisual("color")}o.setVisual("color",s),o.setVisual("opacity",u)}))}))})),i.a.registerAction({type:"graphGLRoam",event:"graphglroam",update:"series.graphGL:roam"},(function(t,e){e.eachComponent({mainType:"series",query:t},(function(e){e.setView(t)}))})),i.a.registerAction({type:"graphGLStartLayout",event:"graphgllayoutstarted",update:"series.graphGL:startLayout"},u),i.a.registerAction({type:"graphGLStopLayout",event:"graphgllayoutstopped",update:"series.graphGL:stopLayout"},u),i.a.registerAction({type:"graphGLFocusNodeAdjacency",event:"graphGLFocusNodeAdjacency",update:"series.graphGL:focusNodeAdjacency"},u),i.a.registerAction({type:"graphGLUnfocusNodeAdjacency",event:"graphGLUnfocusNodeAdjacency",update:"series.graphGL:unfocusNodeAdjacency"},u)},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(264),o=n(32),s=i.a.extendSeriesModel({type:"series.graphGL",visualColorAccessPath:"itemStyle.color",init:function(t){s.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._categoriesData},this._updateCategoriesData()},mergeOption:function(t){s.superApply(this,"mergeOption",arguments),this._updateCategoriesData()},getFormattedLabel:function(t,e,n,r){var i=o.a.getFormattedLabel(this,t,e,n,r);if(null==i){var a=this.getData(),s=a.dimensions[a.dimensions.length-1];i=a.get(s,t)}return i},getInitialData:function(t,e){var n=t.edges||t.links||[],r=t.data||t.nodes||[],o=this;if(r&&n)return Object(a.a)(r,n,this,!0,(function(t,n){t.wrapMethod("getItemModel",(function(t){var e=o._categoriesModels[t.getShallow("category")];return e&&(e.parentModel=t.parentModel,t.parentModel=e),t}));var r=o.getModel("edgeLabel"),a=new i.a.Model({label:r.option},r.parentModel,e);function s(t){return(t=this.parsePath(t))&&"label"===t[0]?a:this.parentModel}n.wrapMethod("getItemModel",(function(t){return t.customizeGetParent(s),t}))})).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(t,e,n){if("edge"===n){var r=this.getData(),a=this.getDataParams(t,n),o=r.graph.getEdgeByIndex(t),u=r.getName(o.node1.dataIndex),l=r.getName(o.node2.dataIndex),c=[];return null!=u&&c.push(u),null!=l&&c.push(l),c=i.a.format.encodeHTML(c.join(" > ")),a.value&&(c+=" : "+i.a.format.encodeHTML(a.value)),c}return s.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var t=(this.option.categories||[]).map((function(t){return null!=t.value?t:i.a.util.extend({value:0},t)})),e=new i.a.List(["value"],this);e.initData(t),this._categoriesData=e,this._categoriesModels=e.mapArray((function(t){return e.getItemModel(t,!0)}))},setView:function(t){null!=t.zoom&&(this.option.zoom=t.zoom),null!=t.offset&&(this.option.offset=t.offset)},setNodePosition:function(t){for(var e=0;e<t.length/2;e++){var n=t[2*e],r=t[2*e+1],i=this.getData().getRawDataItem(e);i.x=n,i.y=r}},isAnimationEnabled:function(){return s.superCall(this,"isAnimationEnabled")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:10,z:2,legendHoverLink:!0,layout:"forceAtlas2",forceAtlas2:{initLayout:null,GPU:!0,steps:1,maxSteps:1e3,repulsionByDegree:!0,linLogMode:!1,strongGravityMode:!1,gravity:1,edgeWeightInfluence:1,edgeWeight:[1,4],nodeWeight:[1,4],preventOverlap:!1,gravityCenter:null},focusNodeAdjacency:!0,focusNodeAdjacencyOn:"mouseover",left:"center",top:"center",symbol:"circle",symbolSize:5,roam:!1,center:null,zoom:1,label:{show:!1,formatter:"{b}",position:"right",distance:5,textStyle:{fontSize:14}},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{label:{show:!0}},animation:!1}})},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(265),o=n.n(a),s=n(267),u=n.n(s),l=n(2);e.a=function(t,e,n,r,a){for(var s=new o.a(r),c=0;c<t.length;c++)s.addNode(l.a.firstNotNull(t[c].id,t[c].name,c),c);var h,f=[],d=[],p=0;for(c=0;c<e.length;c++){var m=e[c],g=m.source,_=m.target;s.addEdge(g,_,p)&&(d.push(m),f.push(l.a.firstNotNull(m.id,g+" > "+_)),p++)}var v=i.a.helper.completeDimensions(["value"],t);(h=new i.a.List(v,n)).initData(t);var y=new i.a.List(["value"],n);return y.initData(d,f),a&&a(h,y),u()({mainData:h,struct:s,structAttr:"graph",datas:{node:h,edge:y},datasAttr:{node:"data",edge:"edgeData"}}),s.update(),s}},function(t,e,n){n(104).__DEV__;var r=n(13),i=n(266).enableClassCheck;function a(t){return"_EC_"+t}var o=function(t){this._directed=t||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData},s=o.prototype;function u(t,e){this.id=null==t?"":t,this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=null==e?-1:e}function l(t,e,n){this.node1=t,this.node2=e,this.dataIndex=null==n?-1:n}s.type="graph",s.isDirected=function(){return this._directed},s.addNode=function(t,e){t=t||""+e;var n=this._nodesMap;if(!n[a(t)]){var r=new u(t,e);return r.hostGraph=this,this.nodes.push(r),n[a(t)]=r,r}},s.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},s.getNodeById=function(t){return this._nodesMap[a(t)]},s.addEdge=function(t,e,n){var r=this._nodesMap,i=this._edgesMap;if("number"==typeof t&&(t=this.nodes[t]),"number"==typeof e&&(e=this.nodes[e]),u.isInstance(t)||(t=r[a(t)]),u.isInstance(e)||(e=r[a(e)]),t&&e){var o=t.id+"-"+e.id;if(!i[o]){var s=new l(t,e,n);return s.hostGraph=this,this._directed&&(t.outEdges.push(s),e.inEdges.push(s)),t.edges.push(s),t!==e&&e.edges.push(s),this.edges.push(s),i[o]=s,s}}},s.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},s.getEdge=function(t,e){u.isInstance(t)&&(t=t.id),u.isInstance(e)&&(e=e.id);var n=this._edgesMap;return this._directed?n[t+"-"+e]:n[t+"-"+e]||n[e+"-"+t]},s.eachNode=function(t,e){for(var n=this.nodes,r=n.length,i=0;i<r;i++)n[i].dataIndex>=0&&t.call(e,n[i],i)},s.eachEdge=function(t,e){for(var n=this.edges,r=n.length,i=0;i<r;i++)n[i].dataIndex>=0&&n[i].node1.dataIndex>=0&&n[i].node2.dataIndex>=0&&t.call(e,n[i],i)},s.breadthFirstTraverse=function(t,e,n,r){if(u.isInstance(e)||(e=this._nodesMap[a(e)]),e){for(var i="out"===n?"outEdges":"in"===n?"inEdges":"edges",o=0;o<this.nodes.length;o++)this.nodes[o].__visited=!1;if(!t.call(r,e,null))for(var s=[e];s.length;){var l=s.shift(),c=l[i];for(o=0;o<c.length;o++){var h=c[o],f=h.node1===l?h.node2:h.node1;if(!f.__visited){if(t.call(r,f,l))return;s.push(f),f.__visited=!0}}}}},s.update=function(){for(var t=this.data,e=this.edgeData,n=this.nodes,r=this.edges,i=0,a=n.length;i<a;i++)n[i].dataIndex=-1;for(i=0,a=t.count();i<a;i++)n[t.getRawIndex(i)].dataIndex=i;for(e.filterSelf((function(t){var n=r[e.getRawIndex(t)];return n.node1.dataIndex>=0&&n.node2.dataIndex>=0})),i=0,a=r.length;i<a;i++)r[i].dataIndex=-1;for(i=0,a=e.count();i<a;i++)r[e.getRawIndex(i)].dataIndex=i},s.clone=function(){for(var t=new o(this._directed),e=this.nodes,n=this.edges,r=0;r<e.length;r++)t.addNode(e[r].id,e[r].dataIndex);for(r=0;r<n.length;r++){var i=n[r];t.addEdge(i.node1.id,i.node2.id,i.dataIndex)}return t},u.prototype={constructor:u,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(t){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(t)}},l.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(t)};var c=function(t,e){return{getValue:function(n){var r=this[t][e];return r.get(r.getDimension(n||"value"),this.dataIndex)},setVisual:function(n,r){this.dataIndex>=0&&this[t][e].setItemVisual(this.dataIndex,n,r)},getVisual:function(n,r){return this[t][e].getItemVisual(this.dataIndex,n,r)},setLayout:function(n,r){this.dataIndex>=0&&this[t][e].setItemLayout(this.dataIndex,n,r)},getLayout:function(){return this[t][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[t][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[t][e].getRawIndex(this.dataIndex)}}};r.mixin(u,c("hostGraph","data")),r.mixin(l,c("hostGraph","edgeData")),o.Node=u,o.Edge=l,i(u),i(l);var h=o;t.exports=h},function(t,e,n){n(104).__DEV__;var r=n(13),i="___EC__COMPONENT__CONTAINER___";function a(t){var e={main:"",sub:""};return t&&(t=t.split("."),e.main=t[0]||"",e.sub=t[1]||""),e}var o=0;function s(t,e){var n=r.slice(arguments,2);return this.superClass.prototype[e].apply(t,n)}function u(t,e,n){return this.superClass.prototype[e].apply(t,n)}e.parseClassType=a,e.enableClassExtend=function(t,e){t.$constructor=t,t.extend=function(t){var e=this,n=function(){t.$constructor?t.$constructor.apply(this,arguments):e.apply(this,arguments)};return r.extend(n.prototype,t),n.extend=this.extend,n.superCall=s,n.superApply=u,r.inherits(n,this),n.superClass=e,n}},e.enableClassCheck=function(t){var e=["__\0is_clz",o++,Math.random().toFixed(3)].join("_");t.prototype[e]=!0,t.isInstance=function(t){return!(!t||!t[e])}},e.enableClassManagement=function(t,e){e=e||{};var n={};if(t.registerClass=function(t,e){return e&&(function(t){r.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t),'componentType "'+t+'" illegal')}(e),(e=a(e)).sub?e.sub!==i&&((function(t){var e=n[t.main];return e&&e[i]||((e=n[t.main]={})[i]=!0),e}(e))[e.sub]=t):n[e.main]=t),t},t.getClass=function(t,e,r){var a=n[t];if(a&&a[i]&&(a=e?a[e]:null),r&&!a)throw new Error(e?"Component "+t+"."+(e||"")+" not exists. Load it first.":t+".type should be specified.");return a},t.getClassesByMainType=function(t){t=a(t);var e=[],o=n[t.main];return o&&o[i]?r.each(o,(function(t,n){n!==i&&e.push(t)})):e.push(o),e},t.hasClass=function(t){return t=a(t),!!n[t.main]},t.getAllClassMainTypes=function(){var t=[];return r.each(n,(function(e,n){t.push(n)})),t},t.hasSubTypes=function(t){t=a(t);var e=n[t.main];return e&&e[i]},t.parseClassType=a,e.registerWhenExtend){var o=t.extend;o&&(t.extend=function(e){var n=o.call(this,e);return t.registerClass(n,e.type)})}return t},e.setReadOnly=function(t,e){}},function(t,e,n){var r=n(13),i=r.each,a="\0__link_datas",o="\0__link_mainData";function s(t,e){if((i=this)[o]===i){var n=r.extend({},this[a]);n[this.dataType]=e,h(e,n,t)}else f(e,this.dataType,this[o],t);var i;return e}function u(t,e){return t.struct&&t.struct.update(this),e}function l(t,e){return i(e[a],(function(n,r){n!==e&&f(n.cloneShallow(),r,e,t)})),e}function c(t){var e=this[o];return null==t||null==e?e:e[a][t]}function h(t,e,n){t[a]={},i(e,(function(e,r){f(e,r,t,n)}))}function f(t,e,n,r){n[a][e]=t,t[o]=n,t.dataType=e,r.struct&&(t[r.structAttr]=r.struct,r.struct[r.datasAttr[e]]=t),t.getLinkedData=c}var d=function(t){var e=t.mainData,n=t.datas;n||(n={main:e},t.datasAttr={main:"data"}),t.datas=t.mainData=null,h(e,n,t),i(n,(function(n){i(e.TRANSFERABLE_METHODS,(function(e){n.wrapMethod(e,r.curry(s,t))}))})),e.wrapMethod("cloneShallow",r.curry(l,t)),i(e.CHANGABLE_METHODS,(function(n){e.wrapMethod(n,r.curry(u,t))})),r.assert(n[e.dataType]===e)};t.exports=d},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(47),o=n.n(a),s=n(1),u=n(22),l=n(105),c=n(2),h=n(269),f=n(271),d=n(80),p=n.n(d),m=n(6),g=n(273),_=n(67),v=n(274),y=m.a.vec2;s.a.Shader.import(v.a);var b,x=1;i.a.extendChartView({type:"graphGL",__ecgl__:!0,init:function(t,e){this.groupGL=new s.a.Node,this.viewGL=new u.a("orthographic"),this.viewGL.camera.left=this.viewGL.camera.right=0,this.viewGL.add(this.groupGL),this._pointsBuilder=new _.a(!0,e),this._forceEdgesMesh=new s.a.Mesh({material:new s.a.Material({shader:s.a.createShader("ecgl.forceAtlas2.edges"),transparent:!0,depthMask:!1,depthTest:!1}),$ignorePicking:!0,geometry:new s.a.Geometry({attributes:{node:new s.a.Geometry.Attribute("node","float",2),color:new s.a.Geometry.Attribute("color","float",4,"COLOR")},dynamic:!0,mainAttribute:"node"}),renderOrder:-1,mode:s.a.Mesh.LINES}),this._edgesMesh=new s.a.Mesh({material:new s.a.Material({shader:s.a.createShader("ecgl.meshLines2D"),transparent:!0,depthMask:!1,depthTest:!1}),$ignorePicking:!0,geometry:new l.a({useNativeLine:!1,dynamic:!0}),renderOrder:-1,culling:!1}),this._layoutId=0,this._control=new g.a({zr:e.getZr(),viewGL:this.viewGL}),this._control.setTarget(this.groupGL),this._control.init(),this._clickHandler=this._clickHandler.bind(this)},render:function(t,e,n){this.groupGL.add(this._pointsBuilder.rootNode),this._model=t,this._api=n,this._initLayout(t,e,n),this._pointsBuilder.update(t,e,n),this._forceLayoutInstance instanceof h.a||this.groupGL.remove(this._forceEdgesMesh),this._updateCamera(t,n),this._control.off("update"),this._control.on("update",(function(){n.dispatchAction({type:"graphGLRoam",seriesId:t.id,zoom:this._control.getZoom(),offset:this._control.getOffset()}),this._pointsBuilder.updateView(this.viewGL.camera)}),this),this._control.setZoom(c.a.firstNotNull(t.get("zoom"),1)),this._control.setOffset(t.get("offset")||[0,0]);var r=this._pointsBuilder.getPointsMesh();if(r.off("mousemove",this._mousemoveHandler),r.off("mouseout",this._mouseOutHandler,this),n.getZr().off("click",this._clickHandler),this._pointsBuilder.highlightOnMouseover=!0,t.get("focusNodeAdjacency")){var i=t.get("focusNodeAdjacencyOn");"click"===i?n.getZr().on("click",this._clickHandler):"mouseover"===i?(r.on("mousemove",this._mousemoveHandler,this),r.on("mouseout",this._mouseOutHandler,this),this._pointsBuilder.highlightOnMouseover=!1):console.warn("Unkown focusNodeAdjacencyOn value s"+i)}this._lastMouseOverDataIndex=-1},_clickHandler:function(t){if(!this._layouting){var e=this._pointsBuilder.getPointsMesh().dataIndex;e>=0?this._api.dispatchAction({type:"graphGLFocusNodeAdjacency",seriesId:this._model.id,dataIndex:e}):this._api.dispatchAction({type:"graphGLUnfocusNodeAdjacency",seriesId:this._model.id})}},_mousemoveHandler:function(t){if(!this._layouting){var e=this._pointsBuilder.getPointsMesh().dataIndex;e>=0?e!==this._lastMouseOverDataIndex&&this._api.dispatchAction({type:"graphGLFocusNodeAdjacency",seriesId:this._model.id,dataIndex:e}):this._mouseOutHandler(t),this._lastMouseOverDataIndex=e}},_mouseOutHandler:function(t){this._layouting||(this._api.dispatchAction({type:"graphGLUnfocusNodeAdjacency",seriesId:this._model.id}),this._lastMouseOverDataIndex=-1)},_updateForceEdgesGeometry:function(t,e){var n=this._forceEdgesMesh.geometry,r=e.getEdgeData(),i=0,a=this._forceLayoutInstance,o=2*r.count();n.attributes.node.init(o),n.attributes.color.init(o),r.each((function(e){var o=t[e];n.attributes.node.set(i,a.getNodeUV(o.node1)),n.attributes.node.set(i+1,a.getNodeUV(o.node2));var u=r.getItemVisual(o.dataIndex,"color"),l=s.a.parseColor(u);l[3]*=c.a.firstNotNull(r.getItemVisual(o.dataIndex,"opacity"),1),n.attributes.color.set(i,l),n.attributes.color.set(i+1,l),i+=2})),n.dirty()},_updateMeshLinesGeometry:function(){var t=this._model.getEdgeData(),e=this._edgesMesh.geometry,n=(t=this._model.getEdgeData(),this._model.getData().getLayout("points"));e.resetOffset(),e.setVertexCount(t.count()*e.getLineVertexCount()),e.setTriangleCount(t.count()*e.getLineTriangleCount());var r=[],i=[],a=["lineStyle","width"];this._originalEdgeColors=new Float32Array(4*t.count()),this._edgeIndicesMap=new Float32Array(t.count()),t.each((function(o){var u=t.graph.getEdgeByIndex(o),l=2*u.node1.dataIndex,h=2*u.node2.dataIndex;r[0]=n[l],r[1]=n[l+1],i[0]=n[h],i[1]=n[h+1];var f=t.getItemVisual(u.dataIndex,"color"),d=s.a.parseColor(f);d[3]*=c.a.firstNotNull(t.getItemVisual(u.dataIndex,"opacity"),1);var p=t.getItemModel(u.dataIndex),m=c.a.firstNotNull(p.get(a),1)*this._api.getDevicePixelRatio();e.addLine(r,i,d,m);for(var g=0;g<4;g++)this._originalEdgeColors[4*u.dataIndex+g]=d[g];this._edgeIndicesMap[u.dataIndex]=o}),this),e.dirty()},_updateForceNodesGeometry:function(t){for(var e=this._pointsBuilder.getPointsMesh(),n=[],r=0;r<t.count();r++)this._forceLayoutInstance.getNodeUV(r,n),e.geometry.attributes.position.set(r,n);e.geometry.dirty("position")},_initLayout:function(t,e,n){var r=t.get("layout"),a=t.getGraph(),s=t.getBoxLayoutParams(),u=o.a.getLayoutRect(s,{width:n.getWidth(),height:n.getHeight()});"force"===r&&(console.warn("Currently only forceAtlas2 layout supported."),r="forceAtlas2"),this.stopLayout(t,e,n,{beforeLayout:!0});var l=t.getData(),d=t.getData();if("forceAtlas2"===r){var p=t.getModel("forceAtlas2"),m=this._forceLayoutInstance,g=[],_=[],v=l.getDataExtent("value"),y=d.getDataExtent("value"),b=c.a.firstNotNull(p.get("edgeWeight"),1),x=c.a.firstNotNull(p.get("nodeWeight"),1);"number"==typeof b&&(b=[b,b]),"number"==typeof x&&(x=[x,x]);var w=0,T={},S=new Float32Array(2*l.count());if(a.eachNode((function(t){var e,n,r=t.dataIndex,a=l.get("value",r);if(l.hasItemOption){var o=l.getItemModel(r);e=o.get("x"),n=o.get("y")}null==e&&(e=u.x+Math.random()*u.width,n=u.y+Math.random()*u.height),S[2*w]=e,S[2*w+1]=n,T[t.id]=w++;var s=i.a.number.linearMap(a,v,x);isNaN(s)&&(s=isNaN(x[0])?1:x[0]),g.push({x:e,y:n,mass:s,size:l.getItemVisual(r,"symbolSize")})})),l.setLayout("points",S),a.eachEdge((function(t){var e=t.dataIndex,n=l.get("value",e),r=i.a.number.linearMap(n,y,b);isNaN(r)&&(r=isNaN(b[0])?1:b[0]),_.push({node1:T[t.node1.id],node2:T[t.node2.id],weight:r,dataIndex:e})})),!m){var E=p.get("GPU");this._forceLayoutInstance&&((!E||this._forceLayoutInstance instanceof h.a)&&(E||this._forceLayoutInstance instanceof f.a)||(this._forceLayoutInstanceToDispose=this._forceLayoutInstance)),m=this._forceLayoutInstance=E?new h.a:new f.a}m.initData(g,_),m.updateOption(p.option),this._updateForceEdgesGeometry(m.getEdges(),t),this._updatePositionTexture(),n.dispatchAction({type:"graphGLStartLayout",from:this.uid})}else S=new Float32Array(2*l.count()),w=0,a.eachNode((function(t){var e,n,r=t.dataIndex;if(l.hasItemOption){var i=l.getItemModel(r);e=i.get("x"),n=i.get("y")}S[w++]=e,S[w++]=n})),l.setLayout("points",S),this._updateAfterLayout(t,e,n)},_updatePositionTexture:function(){var t=this._forceLayoutInstance.getNodePositionTexture();this._pointsBuilder.setPositionTexture(t),this._forceEdgesMesh.material.set("positionTex",t)},startLayout:function(t,e,n,r){if(!r||null==r.from||r.from===this.uid){var i=this.viewGL,a=(n=this._api,this._forceLayoutInstance),o=this._model.getData(),s=this._model.getModel("forceAtlas2");if(a){if(this.groupGL.remove(this._edgesMesh),this.groupGL.add(this._forceEdgesMesh),this._forceLayoutInstance){this._updateForceNodesGeometry(t.getData()),this._pointsBuilder.hideLabels();var u=this,l=this._layoutId=x++,c=s.getShallow("maxSteps"),h=s.getShallow("steps"),f=0,d=Math.max(2*h,20),m=function(e){if(e===u._layoutId)return a.isFinished(c)?(n.dispatchAction({type:"graphGLStopLayout",from:u.uid}),void n.dispatchAction({type:"graphGLFinishLayout",points:o.getLayout("points"),from:u.uid})):void a.update(i.layer.renderer,h,(function(){u._updatePositionTexture(),(f+=h)>=d&&(u._syncNodePosition(t),f=0),n.getZr().refresh(),p()((function(){m(e)}))}))};p()((function(){u._forceLayoutInstanceToDispose&&(u._forceLayoutInstanceToDispose.dispose(i.layer.renderer),u._forceLayoutInstanceToDispose=null),m(l)})),this._layouting=!0}}else console.error("None layout don't have startLayout action")}},stopLayout:function(t,e,n,r){r&&null!=r.from&&r.from!==this.uid||(this._layoutId=0,this.groupGL.remove(this._forceEdgesMesh),this.groupGL.add(this._edgesMesh),this._forceLayoutInstance&&this.viewGL.layer&&(r&&r.beforeLayout||(this._syncNodePosition(t),this._updateAfterLayout(t,e,n)),this._api.getZr().refresh(),this._layouting=!1))},_syncNodePosition:function(t){var e=this._forceLayoutInstance.getNodePosition(this.viewGL.layer.renderer);t.getData().setLayout("points",e),t.setNodePosition(e)},_updateAfterLayout:function(t,e,n){this._updateMeshLinesGeometry(),this._pointsBuilder.removePositionTexture(),this._pointsBuilder.updateLayout(t,e,n),this._pointsBuilder.updateView(this.viewGL.camera),this._pointsBuilder.updateLabels(),this._pointsBuilder.showLabels()},focusNodeAdjacency:function(t,e,n,r){var i=this._model.getData();this._downplayAll();var a=r.dataIndex,o=i.graph,s=[],u=o.getNodeByIndex(a);s.push(u),u.edges.forEach((function(t){t.dataIndex<0||(t.node1!==u&&s.push(t.node1),t.node2!==u&&s.push(t.node2))}),this),this._pointsBuilder.fadeOutAll(.05),this._fadeOutEdgesAll(.05),s.forEach((function(t){this._pointsBuilder.highlight(i,t.dataIndex)}),this),this._pointsBuilder.updateLabels(s.map((function(t){return t.dataIndex})));var l=[];u.edges.forEach((function(t){t.dataIndex>=0&&(this._highlightEdge(t.dataIndex),l.push(t))}),this),this._focusNodes=s,this._focusEdges=l},unfocusNodeAdjacency:function(t,e,n,r){this._downplayAll(),this._pointsBuilder.fadeInAll(),this._fadeInEdgesAll(),this._pointsBuilder.updateLabels()},_highlightEdge:function(t){var e=this._model.getEdgeData().getItemModel(t),n=s.a.parseColor(e.get("emphasis.lineStyle.color")||e.get("lineStyle.color")),r=c.a.firstNotNull(e.get("emphasis.lineStyle.opacity"),e.get("lineStyle.opacity"),1);n[3]*=r,this._edgesMesh.geometry.setItemColor(this._edgeIndicesMap[t],n)},_downplayAll:function(){this._focusNodes&&this._focusNodes.forEach((function(t){this._pointsBuilder.downplay(this._model.getData(),t.dataIndex)}),this),this._focusEdges&&this._focusEdges.forEach((function(t){this._downplayEdge(t.dataIndex)}),this)},_downplayEdge:function(t){var e=this._getColor(t,[]);this._edgesMesh.geometry.setItemColor(this._edgeIndicesMap[t],e)},_setEdgeFade:(b=[],function(t,e){this._getColor(t,b),b[3]*=e,this._edgesMesh.geometry.setItemColor(this._edgeIndicesMap[t],b)}),_getColor:function(t,e){for(var n=0;n<4;n++)e[n]=this._originalEdgeColors[4*t+n];return e},_fadeOutEdgesAll:function(t){this._model.getData().graph.eachEdge((function(e){this._setEdgeFade(e.dataIndex,t)}),this)},_fadeInEdgesAll:function(){this._fadeOutEdgesAll(1)},_updateCamera:function(t,e){this.viewGL.setViewport(0,0,e.getWidth(),e.getHeight(),e.getDevicePixelRatio());for(var n=this.viewGL.camera,r=t.getData().getLayout("points"),i=y.create(1/0,1/0),a=y.create(-1/0,-1/0),o=[],s=0;s<r.length;)o[0]=r[s++],o[1]=r[s++],y.min(i,i,o),y.max(a,a,o);var u=(a[1]+i[1])/2,l=(a[0]+i[0])/2;if(!(l>n.left&&l<n.right&&u<n.bottom&&u>n.top)){var c=Math.max(a[0]-i[0],10),h=c/e.getWidth()*e.getHeight();c*=1.4,h*=1.4,i[0]-=.2*c,n.left=i[0],n.top=u-h/2,n.bottom=u+h/2,n.right=c+i[0],n.near=0,n.far=100}},dispose:function(){var t=this.viewGL.layer.renderer;this._forceLayoutInstance&&this._forceLayoutInstance.dispose(t),this.groupGL.removeAll(),this._layoutId=-1},remove:function(){this.groupGL.removeAll(),this._control.dispose()}})},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n(16),s=n(10),u=n(270);a.a.Shader.import(u.a);var l={repulsionByDegree:!0,linLogMode:!1,strongGravityMode:!1,gravity:1,scaling:1,edgeWeightInfluence:1,jitterTolerence:.1,preventOverlap:!1,dissuadeHubs:!1,gravityCenter:null};function c(t){var e={type:a.a.Texture.FLOAT,minFilter:a.a.Texture.NEAREST,magFilter:a.a.Texture.NEAREST};this._positionSourceTex=new a.a.Texture2D(e),this._positionSourceTex.flipY=!1,this._positionTex=new a.a.Texture2D(e),this._positionPrevTex=new a.a.Texture2D(e),this._forceTex=new a.a.Texture2D(e),this._forcePrevTex=new a.a.Texture2D(e),this._weightedSumTex=new a.a.Texture2D(e),this._weightedSumTex.width=this._weightedSumTex.height=1,this._globalSpeedTex=new a.a.Texture2D(e),this._globalSpeedPrevTex=new a.a.Texture2D(e),this._globalSpeedTex.width=this._globalSpeedTex.height=1,this._globalSpeedPrevTex.width=this._globalSpeedPrevTex.height=1,this._nodeRepulsionPass=new o.a({fragment:a.a.Shader.source("ecgl.forceAtlas2.updateNodeRepulsion")}),this._positionPass=new o.a({fragment:a.a.Shader.source("ecgl.forceAtlas2.updatePosition")}),this._globalSpeedPass=new o.a({fragment:a.a.Shader.source("ecgl.forceAtlas2.calcGlobalSpeed")}),this._copyPass=new o.a({fragment:a.a.Shader.source("clay.compositor.output")});var n=function(t){t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ONE)};this._edgeForceMesh=new a.a.Mesh({geometry:new a.a.Geometry({attributes:{node1:new a.a.Geometry.Attribute("node1","float",2),node2:new a.a.Geometry.Attribute("node2","float",2),weight:new a.a.Geometry.Attribute("weight","float",1)},dynamic:!0,mainAttribute:"node1"}),material:new a.a.Material({transparent:!0,shader:a.a.createShader("ecgl.forceAtlas2.updateEdgeAttraction"),blend:n,depthMask:!1,depthText:!1}),mode:a.a.Mesh.POINTS}),this._weightedSumMesh=new a.a.Mesh({geometry:new a.a.Geometry({attributes:{node:new a.a.Geometry.Attribute("node","float",2)},dynamic:!0,mainAttribute:"node"}),material:new a.a.Material({transparent:!0,shader:a.a.createShader("ecgl.forceAtlas2.calcWeightedSum"),blend:n,depthMask:!1,depthText:!1}),mode:a.a.Mesh.POINTS}),this._framebuffer=new s.a({depthBuffer:!1}),this._dummyCamera=new a.a.OrthographicCamera({left:-1,right:1,top:1,bottom:-1,near:0,far:100}),this._globalSpeed=0}c.prototype.updateOption=function(t){for(var e in l)this[e]=l[e];var n=this._nodes.length;if(this.jitterTolerence=n>5e4?10:n>5e3?1:.1,this.scaling=n>100?2:10,t)for(var e in l)null!=t[e]&&(this[e]=t[e]);if(this.repulsionByDegree)for(var r=this._positionSourceTex.pixels,i=0;i<this._nodes.length;i++)r[4*i+2]=(this._nodes[i].degree||0)+1},c.prototype._updateGravityCenter=function(t){var e=this._nodes,n=this._edges;if(this.gravityCenter)this._gravityCenter=this.gravityCenter;else{for(var r=[1/0,1/0],i=[-1/0,-1/0],a=0;a<e.length;a++)r[0]=Math.min(e[a].x,r[0]),r[1]=Math.min(e[a].y,r[1]),i[0]=Math.max(e[a].x,i[0]),i[1]=Math.max(e[a].y,i[1]);this._gravityCenter=[.5*(r[0]+i[0]),.5*(r[1]+i[1])]}for(a=0;a<n.length;a++){var o=n[a].node1,s=n[a].node2;e[o].degree=(e[o].degree||0)+1,e[s].degree=(e[s].degree||0)+1}},c.prototype.initData=function(t,e){this._nodes=t,this._edges=e,this._updateGravityCenter();var n=Math.ceil(Math.sqrt(t.length)),r=n,i=new Float32Array(n*r*4);this._resize(n,r);for(var a=0,o=0;o<t.length;o++){var s=t[o];i[a++]=s.x||0,i[a++]=s.y||0,i[a++]=s.mass||1,i[a++]=s.size||1}this._positionSourceTex.pixels=i;var u=this._edgeForceMesh.geometry,l=e.length;u.attributes.node1.init(2*l),u.attributes.node2.init(2*l),u.attributes.weight.init(2*l);var c=[];for(o=0;o<e.length;o++){var h=u.attributes,f=e[o].weight;null==f&&(f=1),h.node1.set(o,this.getNodeUV(e[o].node1,c)),h.node2.set(o,this.getNodeUV(e[o].node2,c)),h.weight.set(o,f),h.node1.set(o+l,this.getNodeUV(e[o].node2,c)),h.node2.set(o+l,this.getNodeUV(e[o].node1,c)),h.weight.set(o+l,f)}var d=this._weightedSumMesh.geometry;for(d.attributes.node.init(t.length),o=0;o<t.length;o++)d.attributes.node.set(o,this.getNodeUV(o,c));u.dirty(),d.dirty(),this._nodeRepulsionPass.material.define("fragment","NODE_COUNT",t.length),this._nodeRepulsionPass.material.setUniform("textureSize",[n,r]),this._inited=!1,this._frame=0},c.prototype.getNodes=function(){return this._nodes},c.prototype.getEdges=function(){return this._edges},c.prototype.step=function(t){this._inited||(this._initFromSource(t),this._inited=!0),this._frame++,this._framebuffer.attach(this._forceTex),this._framebuffer.bind(t);var e=this._nodeRepulsionPass;e.setUniform("strongGravityMode",this.strongGravityMode),e.setUniform("gravity",this.gravity),e.setUniform("gravityCenter",this._gravityCenter),e.setUniform("scaling",this.scaling),e.setUniform("preventOverlap",this.preventOverlap),e.setUniform("positionTex",this._positionPrevTex),e.render(t);var n=this._edgeForceMesh;n.material.set("linLogMode",this.linLogMode),n.material.set("edgeWeightInfluence",this.edgeWeightInfluence),n.material.set("preventOverlap",this.preventOverlap),n.material.set("positionTex",this._positionPrevTex),t.gl.enable(t.gl.BLEND),t.renderPass([n],this._dummyCamera),this._framebuffer.attach(this._weightedSumTex),t.gl.clearColor(0,0,0,0),t.gl.clear(t.gl.COLOR_BUFFER_BIT),t.gl.enable(t.gl.BLEND);var r=this._weightedSumMesh;r.material.set("positionTex",this._positionPrevTex),r.material.set("forceTex",this._forceTex),r.material.set("forcePrevTex",this._forcePrevTex),t.renderPass([r],this._dummyCamera),this._framebuffer.attach(this._globalSpeedTex);var i=this._globalSpeedPass;i.setUniform("globalSpeedPrevTex",this._globalSpeedPrevTex),i.setUniform("weightedSumTex",this._weightedSumTex),i.setUniform("jitterTolerence",this.jitterTolerence),t.gl.disable(t.gl.BLEND),i.render(t);var a=this._positionPass;this._framebuffer.attach(this._positionTex),a.setUniform("globalSpeedTex",this._globalSpeedTex),a.setUniform("positionTex",this._positionPrevTex),a.setUniform("forceTex",this._forceTex),a.setUniform("forcePrevTex",this._forcePrevTex),a.render(t),this._framebuffer.unbind(t),this._swapTexture()},c.prototype.update=function(t,e,n){null==e&&(e=1),e=Math.max(e,1);for(var r=0;r<e;r++)this.step(t);n&&n()},c.prototype.getNodePositionTexture=function(){return this._inited?this._positionPrevTex:this._positionSourceTex},c.prototype.getNodeUV=function(t,e){e=e||[];var n=this._positionTex.width,r=this._positionTex.height;return e[0]=t%n/(n-1),e[1]=Math.floor(t/n)/(r-1)||0,e},c.prototype.getNodePosition=function(t,e){var n=this._positionArr,r=this._positionTex.width,i=this._positionTex.height,a=r*i;n&&n.length===4*a||(n=this._positionArr=new Float32Array(4*a)),this._framebuffer.bind(t),this._framebuffer.attach(this._positionPrevTex),t.gl.readPixels(0,0,r,i,t.gl.RGBA,t.gl.FLOAT,n),this._framebuffer.unbind(t),e||(e=new Float32Array(2*this._nodes.length));for(var o=0;o<this._nodes.length;o++)e[2*o]=n[4*o],e[2*o+1]=n[4*o+1];return e},c.prototype.getTextureData=function(t,e){var n=this["_"+e+"Tex"],r=n.width,i=n.height;this._framebuffer.bind(t),this._framebuffer.attach(n);var a=new Float32Array(r*i*4);return t.gl.readPixels(0,0,r,i,t.gl.RGBA,t.gl.FLOAT,a),this._framebuffer.unbind(t),a},c.prototype.getTextureSize=function(){return{width:this._positionTex.width,height:this._positionTex.height}},c.prototype.isFinished=function(t){return this._frame>t},c.prototype._swapTexture=function(){var t=this._positionPrevTex;this._positionPrevTex=this._positionTex,this._positionTex=t,t=this._forcePrevTex,this._forcePrevTex=this._forceTex,this._forceTex=t,t=this._globalSpeedPrevTex,this._globalSpeedPrevTex=this._globalSpeedTex,this._globalSpeedTex=t},c.prototype._initFromSource=function(t){this._framebuffer.attach(this._positionPrevTex),this._framebuffer.bind(t),this._copyPass.setUniform("texture",this._positionSourceTex),this._copyPass.render(t),t.gl.clearColor(0,0,0,0),this._framebuffer.attach(this._forcePrevTex),t.gl.clear(t.gl.COLOR_BUFFER_BIT),this._framebuffer.attach(this._globalSpeedPrevTex),t.gl.clear(t.gl.COLOR_BUFFER_BIT),this._framebuffer.unbind(t)},c.prototype._resize=function(t,e){["_positionSourceTex","_positionTex","_positionPrevTex","_forceTex","_forcePrevTex"].forEach((function(n){this[n].width=t,this[n].height=e,this[n].dirty()}),this)},c.prototype.dispose=function(t){this._framebuffer.dispose(t),this._copyPass.dispose(t),this._nodeRepulsionPass.dispose(t),this._positionPass.dispose(t),this._globalSpeedPass.dispose(t),this._edgeForceMesh.geometry.dispose(t),this._weightedSumMesh.geometry.dispose(t),this._positionSourceTex.dispose(t),this._positionTex.dispose(t),this._positionPrevTex.dispose(t),this._forceTex.dispose(t),this._forcePrevTex.dispose(t),this._weightedSumTex.dispose(t),this._globalSpeedTex.dispose(t),this._globalSpeedPrevTex.dispose(t)},i.a.ForceAtlas2GPU=c,e.a=c},function(t,e,n){"use strict";e.a="@export ecgl.forceAtlas2.updateNodeRepulsion\n\n#define NODE_COUNT 0\n\nuniform sampler2D positionTex;\n\nuniform vec2 textureSize;\nuniform float gravity;\nuniform float scaling;\nuniform vec2 gravityCenter;\n\nuniform bool strongGravityMode;\nuniform bool preventOverlap;\n\nvarying vec2 v_Texcoord;\n\nvoid main() {\n\n vec4 n0 = texture2D(positionTex, v_Texcoord);\n\n vec2 force = vec2(0.0);\n for (int i = 0; i < NODE_COUNT; i++) {\n vec2 uv = vec2(\n mod(float(i), textureSize.x) / (textureSize.x - 1.0),\n floor(float(i) / textureSize.x) / (textureSize.y - 1.0)\n );\n vec4 n1 = texture2D(positionTex, uv);\n\n vec2 dir = n0.xy - n1.xy;\n float d2 = dot(dir, dir);\n\n if (d2 > 0.0) {\n float factor = 0.0;\n if (preventOverlap) {\n float d = sqrt(d2);\n d = d - n0.w - n1.w;\n if (d > 0.0) {\n factor = scaling * n0.z * n1.z / (d * d);\n }\n else if (d < 0.0) {\n factor = scaling * 100.0 * n0.z * n1.z;\n }\n }\n else {\n factor = scaling * n0.z * n1.z / d2;\n }\n force += dir * factor;\n }\n }\n\n vec2 dir = gravityCenter - n0.xy;\n float d = 1.0;\n if (!strongGravityMode) {\n d = length(dir);\n }\n\n force += dir * n0.z * gravity / (d + 1.0);\n\n gl_FragColor = vec4(force, 0.0, 1.0);\n}\n@end\n\n@export ecgl.forceAtlas2.updateEdgeAttraction.vertex\n\nattribute vec2 node1;\nattribute vec2 node2;\nattribute float weight;\n\nuniform sampler2D positionTex;\nuniform float edgeWeightInfluence;\nuniform bool preventOverlap;\nuniform bool linLogMode;\n\nuniform vec2 windowSize: WINDOW_SIZE;\n\nvarying vec2 v_Force;\n\nvoid main() {\n\n vec4 n0 = texture2D(positionTex, node1);\n vec4 n1 = texture2D(positionTex, node2);\n\n vec2 dir = n1.xy - n0.xy;\n float d = length(dir);\n float w;\n if (edgeWeightInfluence == 0.0) {\n w = 1.0;\n }\n else if (edgeWeightInfluence == 1.0) {\n w = weight;\n }\n else {\n w = pow(weight, edgeWeightInfluence);\n }\n vec2 offset = vec2(1.0 / windowSize.x, 1.0 / windowSize.y);\n vec2 scale = vec2((windowSize.x - 1.0) / windowSize.x, (windowSize.y - 1.0) / windowSize.y);\n vec2 pos = node1 * scale * 2.0 - 1.0;\n gl_Position = vec4(pos + offset, 0.0, 1.0);\n gl_PointSize = 1.0;\n\n float factor;\n if (preventOverlap) {\n d = d - n1.w - n0.w;\n }\n if (d <= 0.0) {\n v_Force = vec2(0.0);\n return;\n }\n\n if (linLogMode) {\n factor = w * log(d) / d;\n }\n else {\n factor = w;\n }\n v_Force = dir * factor;\n}\n@end\n\n@export ecgl.forceAtlas2.updateEdgeAttraction.fragment\n\nvarying vec2 v_Force;\n\nvoid main() {\n gl_FragColor = vec4(v_Force, 0.0, 0.0);\n}\n@end\n\n@export ecgl.forceAtlas2.calcWeightedSum.vertex\n\nattribute vec2 node;\n\nvarying vec2 v_NodeUv;\n\nvoid main() {\n\n v_NodeUv = node;\n gl_Position = vec4(0.0, 0.0, 0.0, 1.0);\n gl_PointSize = 1.0;\n}\n@end\n\n@export ecgl.forceAtlas2.calcWeightedSum.fragment\n\nvarying vec2 v_NodeUv;\n\nuniform sampler2D positionTex;\nuniform sampler2D forceTex;\nuniform sampler2D forcePrevTex;\n\nvoid main() {\n vec2 force = texture2D(forceTex, v_NodeUv).rg;\n vec2 forcePrev = texture2D(forcePrevTex, v_NodeUv).rg;\n\n float mass = texture2D(positionTex, v_NodeUv).z;\n float swing = length(force - forcePrev) * mass;\n float traction = length(force + forcePrev) * 0.5 * mass;\n\n gl_FragColor = vec4(swing, traction, 0.0, 0.0);\n}\n@end\n\n@export ecgl.forceAtlas2.calcGlobalSpeed\n\nuniform sampler2D globalSpeedPrevTex;\nuniform sampler2D weightedSumTex;\nuniform float jitterTolerence;\n\nvoid main() {\n vec2 weightedSum = texture2D(weightedSumTex, vec2(0.5)).xy;\n float prevGlobalSpeed = texture2D(globalSpeedPrevTex, vec2(0.5)).x;\n float globalSpeed = jitterTolerence * jitterTolerence\n * weightedSum.y / weightedSum.x;\n if (prevGlobalSpeed > 0.0) {\n globalSpeed = min(globalSpeed / prevGlobalSpeed, 1.5) * prevGlobalSpeed;\n }\n gl_FragColor = vec4(globalSpeed, 0.0, 0.0, 1.0);\n}\n@end\n\n@export ecgl.forceAtlas2.updatePosition\n\nuniform sampler2D forceTex;\nuniform sampler2D forcePrevTex;\nuniform sampler2D positionTex;\nuniform sampler2D globalSpeedTex;\n\nvarying vec2 v_Texcoord;\n\nvoid main() {\n vec2 force = texture2D(forceTex, v_Texcoord).xy;\n vec2 forcePrev = texture2D(forcePrevTex, v_Texcoord).xy;\n vec4 node = texture2D(positionTex, v_Texcoord);\n\n float globalSpeed = texture2D(globalSpeedTex, vec2(0.5)).r;\n float swing = length(force - forcePrev);\n float speed = 0.1 * globalSpeed / (0.1 + globalSpeed * sqrt(swing));\n\n float df = length(force);\n if (df > 0.0) {\n speed = min(df * speed, 10.0) / df;\n\n gl_FragColor = vec4(node.xy + speed * force, node.zw);\n }\n else {\n gl_FragColor = node;\n }\n}\n@end\n\n@export ecgl.forceAtlas2.edges.vertex\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nattribute vec2 node;\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n\nuniform sampler2D positionTex;\n\nvoid main()\n{\n gl_Position = worldViewProjection * vec4(\n texture2D(positionTex, node).xy, -10.0, 1.0\n );\n v_Color = a_Color;\n}\n@end\n\n@export ecgl.forceAtlas2.edges.fragment\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\nvarying vec4 v_Color;\nvoid main() {\n gl_FragColor = color * v_Color;\n}\n@end"},function(t,e,n){"use strict";var r=n(5),i=n(4),a=n(272).a.toString();a=a.slice(a.indexOf("{")+1,a.lastIndexOf("}"));var o={barnesHutOptimize:!0,barnesHutTheta:1.5,repulsionByDegree:!0,linLogMode:!1,strongGravityMode:!1,gravity:1,scaling:1,edgeWeightInfluence:1,jitterTolerence:.1,preventOverlap:!1,dissuadeHubs:!1,gravityCenter:null},s=function(t){for(var e in o)this[e]=o[e];if(t)for(var e in t)this[e]=t[e];this._nodes=[],this._edges=[],this._disposed=!1,this._positionTex=new r.a({type:i.a.FLOAT,flipY:!1,minFilter:i.a.NEAREST,magFilter:i.a.NEAREST})};s.prototype.initData=function(t,e){var n=new Blob([a]),r=window.URL.createObjectURL(n);this._worker=new Worker(r),this._worker.onmessage=this._$onupdate.bind(this),this._nodes=t,this._edges=e,this._frame=0;for(var i=t.length,o=e.length,s=new Float32Array(2*i),u=new Float32Array(i),l=new Float32Array(i),c=new Float32Array(2*o),h=new Float32Array(o),f=0;f<t.length;f++){var d=t[f];s[2*f]=d.x,s[2*f+1]=d.y,u[f]=null==d.mass?1:d.mass,l[f]=null==d.size?1:d.size}for(f=0;f<e.length;f++){var p=e[f],m=p.node1,g=p.node2;c[2*f]=m,c[2*f+1]=g,h[f]=null==p.weight?1:p.weight}var _=Math.ceil(Math.sqrt(t.length)),v=_,y=new Float32Array(_*v*4),b=this._positionTex;b.width=_,b.height=v,b.pixels=y,this._worker.postMessage({cmd:"init",nodesPosition:s,nodesMass:u,nodesSize:l,edges:c,edgesWeight:h}),this._globalSpeed=1/0},s.prototype.updateOption=function(t){var e={};for(var n in o)e[n]=o[n];var r=this._nodes,i=this._edges,a=r.length;if(e.jitterTolerence=a>5e4?10:a>5e3?1:.1,e.scaling=a>100?2:10,e.barnesHutOptimize=a>1e3,t)for(var n in o)null!=t[n]&&(e[n]=t[n]);if(!e.gravityCenter){for(var s=[1/0,1/0],u=[-1/0,-1/0],l=0;l<r.length;l++)s[0]=Math.min(r[l].x,s[0]),s[1]=Math.min(r[l].y,s[1]),u[0]=Math.max(r[l].x,u[0]),u[1]=Math.max(r[l].y,u[1]);e.gravityCenter=[.5*(s[0]+u[0]),.5*(s[1]+u[1])]}for(l=0;l<i.length;l++){var c=i[l].node1,h=i[l].node2;r[c].degree=(r[c].degree||0)+1,r[h].degree=(r[h].degree||0)+1}this._worker&&this._worker.postMessage({cmd:"updateConfig",config:e})},s.prototype.update=function(t,e,n){null==e&&(e=1),e=Math.max(e,1),this._frame+=e,this._onupdate=n,this._worker&&this._worker.postMessage({cmd:"update",steps:Math.round(e)})},s.prototype._$onupdate=function(t){if(!this._disposed){var e=new Float32Array(t.data.buffer);this._globalSpeed=t.data.globalSpeed,this._positionArr=e,this._updateTexture(e),this._onupdate&&this._onupdate()}},s.prototype.getNodePositionTexture=function(){return this._positionTex},s.prototype.getNodeUV=function(t,e){e=e||[];var n=this._positionTex.width,r=this._positionTex.height;return e[0]=t%n/(n-1),e[1]=Math.floor(t/n)/(r-1),e},s.prototype.getNodes=function(){return this._nodes},s.prototype.getEdges=function(){return this._edges},s.prototype.isFinished=function(t){return this._frame>t},s.prototype.getNodePosition=function(t,e){if(e||(e=new Float32Array(2*this._nodes.length)),this._positionArr)for(var n=0;n<this._positionArr.length;n++)e[n]=this._positionArr[n];return e},s.prototype._updateTexture=function(t){for(var e=this._positionTex.pixels,n=0,r=0;r<t.length;)e[n++]=t[r++],e[n++]=t[r++],e[n++]=1,e[n++]=1;this._positionTex.dirty()},s.prototype.dispose=function(t){this._disposed=!0,this._worker=null},e.a=s},function(t,e,n){"use strict";e.a=function(){var t=function(){return new Float32Array(2)},e=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)},n=function(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)},r=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t},i=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},a=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t},o=function(t,e){return t[0]=e[0],t[1]=e[1],t},s=function(t,e,n){return t[0]=e,t[1]=n,t};function u(){this.subRegions=[],this.nSubRegions=0,this.node=null,this.mass=0,this.centerOfMass=null,this.bbox=new Float32Array(4),this.size=0}var l=u.prototype;function c(){this.position=new Float32Array(2),this.force=t(),this.forcePrev=t(),this.mass=1,this.inDegree=0,this.outDegree=0}function h(t,e){this.source=t,this.target=e,this.weight=1}function f(){this.autoSettings=!0,this.barnesHutOptimize=!0,this.barnesHutTheta=1.5,this.repulsionByDegree=!0,this.linLogMode=!1,this.strongGravityMode=!1,this.gravity=1,this.scaling=1,this.edgeWeightInfluence=1,this.jitterTolerence=.1,this.preventOverlap=!1,this.dissuadeHubs=!1,this.rootRegion=new u,this.rootRegion.centerOfMass=t(),this.nodes=[],this.edges=[],this.bbox=new Float32Array(4),this.gravityCenter=null,this._massArr=null,this._swingingArr=null,this._sizeArr=null,this._globalSpeed=0}l.beforeUpdate=function(){for(var t=0;t<this.nSubRegions;t++)this.subRegions[t].beforeUpdate();this.mass=0,this.centerOfMass&&(this.centerOfMass[0]=0,this.centerOfMass[1]=0),this.nSubRegions=0,this.node=null},l.afterUpdate=function(){this.subRegions.length=this.nSubRegions;for(var t=0;t<this.nSubRegions;t++)this.subRegions[t].afterUpdate()},l.addNode=function(t){if(0===this.nSubRegions){if(null==this.node)return void(this.node=t);this._addNodeToSubRegion(this.node),this.node=null}this._addNodeToSubRegion(t),this._updateCenterOfMass(t)},l.findSubRegion=function(t,e){for(var n=0;n<this.nSubRegions;n++){var r=this.subRegions[n];if(r.contain(t,e))return r}},l.contain=function(t,e){return this.bbox[0]<=t&&this.bbox[2]>=t&&this.bbox[1]<=e&&this.bbox[3]>=e},l.setBBox=function(t,e,n,r){this.bbox[0]=t,this.bbox[1]=e,this.bbox[2]=n,this.bbox[3]=r,this.size=(n-t+r-e)/2},l._newSubRegion=function(){var t=this.subRegions[this.nSubRegions];return t||(t=new u,this.subRegions[this.nSubRegions]=t),this.nSubRegions++,t},l._addNodeToSubRegion=function(t){var e=this.findSubRegion(t.position[0],t.position[1]),n=this.bbox;if(!e){var r=(n[0]+n[2])/2,i=(n[1]+n[3])/2,a=(n[2]-n[0])/2,o=(n[3]-n[1])/2,s=t.position[0]>=r?1:0,u=t.position[1]>=i?1:0;(e=this._newSubRegion()).setBBox(s*a+n[0],u*o+n[1],(s+1)*a+n[0],(u+1)*o+n[1])}e.addNode(t)},l._updateCenterOfMass=function(t){null==this.centerOfMass&&(this.centerOfMass=new Float32Array(2));var e=this.centerOfMass[0]*this.mass,n=this.centerOfMass[1]*this.mass;e+=t.position[0]*t.mass,n+=t.position[1]*t.mass,this.mass+=t.mass,this.centerOfMass[0]=e/this.mass,this.centerOfMass[1]=n/this.mass};var d,p=f.prototype;p.initNodes=function(t,e,n){var r=e.length;this.nodes.length=0;for(var i=void 0!==n,a=0;a<r;a++){var o=new c;o.position[0]=t[2*a],o.position[1]=t[2*a+1],o.mass=e[a],i&&(o.size=n[a]),this.nodes.push(o)}this._massArr=e,this._swingingArr=new Float32Array(r),i&&(this._sizeArr=n)},p.initEdges=function(t,e){var n=t.length/2;this.edges.length=0;for(var r=0;r<n;r++){var i=t[2*r],a=t[2*r+1],o=this.nodes[i],s=this.nodes[a];if(!o||!s)return void console.error("Node not exists, try initNodes before initEdges");o.outDegree++,s.inDegree++;var u=new h(o,s);e&&(u.weight=e[r]),this.edges.push(u)}},p.updateSettings=function(){if(this.repulsionByDegree)for(var t=0;t<this.nodes.length;t++)(e=this.nodes[t]).mass=e.inDegree+e.outDegree+1;else for(t=0;t<this.nodes.length;t++){var e;(e=this.nodes[t]).mass=this._massArr[t]}},p.update=function(){var a=this.nodes.length;if(this.updateSettings(),this.updateBBox(),this.barnesHutOptimize){this.rootRegion.setBBox(this.bbox[0],this.bbox[1],this.bbox[2],this.bbox[3]),this.rootRegion.beforeUpdate();for(var u=0;u<a;u++)this.rootRegion.addNode(this.nodes[u]);this.rootRegion.afterUpdate()}for(u=0;u<a;u++){var l=this.nodes[u];o(l.forcePrev,l.force),s(l.force,0,0)}for(u=0;u<a;u++){var c=this.nodes[u];if(this.barnesHutOptimize)this.applyRegionToNodeRepulsion(this.rootRegion,c);else for(var h=u+1;h<a;h++){var f=this.nodes[h];this.applyNodeToNodeRepulsion(c,f,!1)}this.gravity>0&&(this.strongGravityMode?this.applyNodeStrongGravity(c):this.applyNodeGravity(c))}for(u=0;u<this.edges.length;u++)this.applyEdgeAttraction(this.edges[u]);var d=0,p=0,m=t();for(u=0;u<a;u++)l=this.nodes[u],d+=(_=e(l.force,l.forcePrev))*l.mass,i(m,l.force,l.forcePrev),p+=.5*n(m)*l.mass,this._swingingArr[u]=_;var g=this.jitterTolerence*this.jitterTolerence*p/d;for(this._globalSpeed>0&&(g=Math.min(g/this._globalSpeed,1.5)*this._globalSpeed),this._globalSpeed=g,u=0;u<a;u++){l=this.nodes[u];var _=this._swingingArr[u],v=.1*g/(1+g*Math.sqrt(_)),y=n(l.force);y>0&&(v=Math.min(y*v,10)/y,r(l.position,l.position,l.force,v))}},p.applyRegionToNodeRepulsion=(d=t(),function(t,e){if(t.node)this.applyNodeToNodeRepulsion(t.node,e,!0);else{a(d,e.position,t.centerOfMass);var n=d[0]*d[0]+d[1]*d[1];if(n>this.barnesHutTheta*t.size*t.size){var i=this.scaling*e.mass*t.mass/n;r(e.force,e.force,d,i)}else for(var o=0;o<t.nSubRegions;o++)this.applyRegionToNodeRepulsion(t.subRegions[o],e)}}),p.applyNodeToNodeRepulsion=function(){var e=t();return function(t,n,i){if(t!=n){a(e,t.position,n.position);var o=e[0]*e[0]+e[1]*e[1];if(0!==o){var s;if(this.preventOverlap){var u=Math.sqrt(o);if((u=u-t.size-n.size)>0)s=this.scaling*t.mass*n.mass/(u*u);else{if(!(u<0))return;s=100*this.scaling*t.mass*n.mass}}else s=this.scaling*t.mass*n.mass/o;r(t.force,t.force,e,s),r(n.force,n.force,e,-s)}}}}(),p.applyEdgeAttraction=function(){var e=t();return function(t){var i=t.source,o=t.target;a(e,i.position,o.position);var s,u,l=n(e);s=0===this.edgeWeightInfluence?1:1===this.edgeWeightInfluence?t.weight:Math.pow(t.weight,this.edgeWeightInfluence),this.preventOverlap&&(l=l-i.size-o.size)<=0||(u=this.linLogMode?-s*Math.log(l+1)/(l+1):-s,r(i.force,i.force,e,u),r(o.force,o.force,e,-u))}}(),p.applyNodeGravity=function(){var e=t();return function(t){a(e,this.gravityCenter,t.position);var i=n(e);r(t.force,t.force,e,this.gravity*t.mass/(i+1))}}(),p.applyNodeStrongGravity=function(){var e=t();return function(t){a(e,this.gravityCenter,t.position),r(t.force,t.force,e,this.gravity*t.mass)}}(),p.updateBBox=function(){for(var t=1/0,e=1/0,n=-1/0,r=-1/0,i=0;i<this.nodes.length;i++){var a=this.nodes[i].position;t=Math.min(t,a[0]),e=Math.min(e,a[1]),n=Math.max(n,a[0]),r=Math.max(r,a[1])}this.bbox[0]=t,this.bbox[1]=e,this.bbox[2]=n,this.bbox[3]=r},p.getGlobalSpeed=function(){return this._globalSpeed};var m=null;self.onmessage=function(t){switch(t.data.cmd){case"init":(m=new f).initNodes(t.data.nodesPosition,t.data.nodesMass,t.data.nodesSize),m.initEdges(t.data.edges,t.data.edgesWeight);break;case"updateConfig":if(m)for(var e in t.data.config)m[e]=t.data.config[e];break;case"update":var n=t.data.steps;if(m){for(var r=0;r<n;r++)m.update();var i=m.nodes.length,a=new Float32Array(2*i);for(r=0;r<i;r++){var o=m.nodes[r];a[2*r]=o.position[0],a[2*r+1]=o.position[1]}self.postMessage({buffer:a.buffer,globalSpeed:m.getGlobalSpeed()},[a.buffer])}else{var s=new Float32Array;self.postMessage({buffer:s.buffer,globalSpeed:m.getGlobalSpeed()},[s.buffer])}}}}},function(t,e,n){"use strict";var r=n(7),i=(n(2),r.a.extend((function(){return{zr:null,viewGL:null,minZoom:.2,maxZoom:5,_needsUpdate:!1,_dx:0,_dy:0,_zoom:1}}),(function(){this._mouseDownHandler=this._mouseDownHandler.bind(this),this._mouseWheelHandler=this._mouseWheelHandler.bind(this),this._mouseMoveHandler=this._mouseMoveHandler.bind(this),this._mouseUpHandler=this._mouseUpHandler.bind(this),this._update=this._update.bind(this)}),{init:function(){var t=this.zr;t.on("mousedown",this._mouseDownHandler),t.on("mousewheel",this._mouseWheelHandler),t.on("globalout",this._mouseUpHandler),t.animation.on("frame",this._update)},setTarget:function(t){this._target=t},setZoom:function(t){this._zoom=Math.max(Math.min(t,this.maxZoom),this.minZoom),this._needsUpdate=!0},setOffset:function(t){this._dx=t[0],this._dy=t[1],this._needsUpdate=!0},getZoom:function(){return this._zoom},getOffset:function(){return[this._dx,this._dy]},_update:function(){if(this._target&&this._needsUpdate){var t=this._target,e=this._zoom;t.position.x=this._dx,t.position.y=this._dy,t.scale.set(e,e,e),this.zr.refresh(),this._needsUpdate=!1,this.trigger("update")}},_mouseDownHandler:function(t){if(!t.target){var e=t.offsetX,n=t.offsetY;if(!this.viewGL||this.viewGL.containPoint(e,n)){this.zr.on("mousemove",this._mouseMoveHandler),this.zr.on("mouseup",this._mouseUpHandler);var r=this._convertPos(e,n);this._x=r.x,this._y=r.y}}},_convertPos:function(t,e){var n=this.viewGL.camera,r=this.viewGL.viewport;return{x:(t-r.x)/r.width*(n.right-n.left)+n.left,y:(e-r.y)/r.height*(n.bottom-n.top)+n.top}},_mouseMoveHandler:function(t){var e=this._convertPos(t.offsetX,t.offsetY);this._dx+=e.x-this._x,this._dy+=e.y-this._y,this._x=e.x,this._y=e.y,this._needsUpdate=!0},_mouseUpHandler:function(t){this.zr.off("mousemove",this._mouseMoveHandler),this.zr.off("mouseup",this._mouseUpHandler)},_mouseWheelHandler:function(t){var e=(t=t.event).wheelDelta||-t.detail;if(0!==e){var n=t.offsetX,r=t.offsetY;if(!this.viewGL||this.viewGL.containPoint(n,r)){var i=e>0?1.1:.9,a=Math.max(Math.min(this._zoom*i,this.maxZoom),this.minZoom);i=a/this._zoom;var o=this._convertPos(n,r),s=(o.x-this._dx)*(i-1),u=(o.y-this._dy)*(i-1);this._dx-=s,this._dy-=u,this._zoom=a,this._needsUpdate=!0}}},dispose:function(){var t=this.zr;t.off("mousedown",this._mouseDownHandler),t.off("mousemove",this._mouseMoveHandler),t.off("mouseup",this._mouseUpHandler),t.off("mousewheel",this._mouseWheelHandler),t.off("globalout",this._mouseUpHandler),t.animation.off("frame",this._update)}}));e.a=i},function(t,e,n){"use strict";e.a="@export ecgl.lines2D.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nattribute vec2 position: POSITION;\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n\n#ifdef POSITIONTEXTURE_ENABLED\nuniform sampler2D positionTexture;\n#endif\n\nvoid main()\n{\n gl_Position = worldViewProjection * vec4(position, -10.0, 1.0);\n\n v_Color = a_Color;\n}\n\n@end\n\n@export ecgl.lines2D.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nvarying vec4 v_Color;\n\nvoid main()\n{\n gl_FragColor = color * v_Color;\n}\n@end\n\n\n@export ecgl.meshLines2D.vertex\n\nattribute vec2 position: POSITION;\nattribute vec2 normal;\nattribute float offset;\nattribute vec4 a_Color : COLOR;\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform vec4 viewport : VIEWPORT;\n\nvarying vec4 v_Color;\nvarying float v_Miter;\n\nvoid main()\n{\n vec4 p2 = worldViewProjection * vec4(position + normal, -10.0, 1.0);\n gl_Position = worldViewProjection * vec4(position, -10.0, 1.0);\n\n p2.xy /= p2.w;\n gl_Position.xy /= gl_Position.w;\n\n vec2 N = normalize(p2.xy - gl_Position.xy);\n gl_Position.xy += N * offset / viewport.zw * 2.0;\n\n gl_Position.xy *= gl_Position.w;\n\n v_Color = a_Color;\n}\n@end\n\n\n@export ecgl.meshLines2D.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nvarying vec4 v_Color;\nvarying float v_Miter;\n\nvoid main()\n{\n gl_FragColor = color * v_Color;\n}\n\n@end"},function(t,e,n){"use strict";var r=n(0);n.n(r),n(276),n(280)},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n(2),s=n(22),u=n(277);i.a.extendChartView({type:"flowGL",__ecgl__:!0,init:function(t,e){this.viewGL=new s.a("orthographic"),this.groupGL=new a.a.Node,this.viewGL.add(this.groupGL),this._particleSurface=new u.a;var n=new a.a.Mesh({geometry:new a.a.PlaneGeometry,material:new a.a.Material({shader:new a.a.Shader({vertex:a.a.Shader.source("ecgl.color.vertex"),fragment:a.a.Shader.source("ecgl.color.fragment")}),transparent:!0})});n.material.enableTexture("diffuseMap"),this.groupGL.add(n),this._planeMesh=n},render:function(t,e,n){var r=this._particleSurface;r.setParticleType(t.get("particleType")),r.setSupersampling(t.get("supersampling")),this._updateData(t,n),this._updateCamera(n.getWidth(),n.getHeight(),n.getDevicePixelRatio());var i=o.a.firstNotNull(t.get("particleDensity"),128);r.setParticleDensity(i,i);var s=this._planeMesh,u=+new Date,l=this,c=!0;s.__percent=0,s.stopAnimation(),s.animate("",{loop:!0}).when(1e5,{__percent:1}).during((function(){var t=+new Date,e=Math.min(t-u,20);u+=e,l._renderer&&(r.update(l._renderer,n,e/1e3,c),s.material.set("diffuseMap",r.getSurfaceTexture())),c=!1})).start();var h=t.getModel("itemStyle"),f=a.a.parseColor(h.get("color"));f[3]*=o.a.firstNotNull(h.get("opacity"),1),s.material.set("color",f),r.setColorTextureImage(t.get("colorTexture"),n),r.setParticleSize(t.get("particleSize")),r.particleSpeedScaling=t.get("particleSpeed"),r.motionBlurFactor=1-Math.pow(.1,t.get("particleTrail"))},updateTransform:function(t,e,n){this._updateData(t,n)},afterRender:function(t,e,n,r){var i=r.renderer;this._renderer=i},_updateData:function(t,e){var n=t.coordinateSystem,r=n.dimensions.map((function(e){return t.coordDimToDataDim(e)[0]})),i=t.getData(),a=i.getDataExtent(r[0]),o=i.getDataExtent(r[1]),s=t.get("gridWidth"),u=t.get("gridHeight");if(null==s||"auto"===s){var l=(a[1]-a[0])/(o[1]-o[0]);s=Math.round(Math.sqrt(l*i.count()))}null!=u&&"auto"!==u||(u=Math.ceil(i.count()/s));var c=this._particleSurface.vectorFieldTexture,h=c.pixels;if(h&&h.length===u*s*4)for(var f=0;f<h.length;f++)h[f]=0;else h=c.pixels=new Float32Array(s*u*4);var d=0,p=1/0,m=new Float32Array(2*i.count()),g=0,_=[[1/0,1/0],[-1/0,-1/0]];i.each([r[0],r[1],"vx","vy"],(function(t,e,r,i){var a=n.dataToPoint([t,e]);m[g++]=a[0],m[g++]=a[1],_[0][0]=Math.min(a[0],_[0][0]),_[0][1]=Math.min(a[1],_[0][1]),_[1][0]=Math.max(a[0],_[1][0]),_[1][1]=Math.max(a[1],_[1][1]);var o=Math.sqrt(r*r+i*i);d=Math.max(d,o),p=Math.min(p,o)})),i.each(["vx","vy"],(function(t,e,n){var r=Math.round((m[2*n]-_[0][0])/(_[1][0]-_[0][0])*(s-1)),i=4*((u-1-Math.round((m[2*n+1]-_[0][1])/(_[1][1]-_[0][1])*(u-1)))*s+r);h[i]=t/d*.5+.5,h[i+1]=e/d*.5+.5,h[i+3]=1})),c.width=s,c.height=u,"bmap"===t.get("coordinateSystem")&&this._fillEmptyPixels(c),c.dirty(),this._updatePlanePosition(_[0],_[1],t,e),this._updateGradientTexture(i.getVisual("visualMeta"),[p,d])},_fillEmptyPixels:function(t){var e=t.pixels,n=t.width,r=t.height;function i(t,i,a){t=Math.max(Math.min(t,n-1),0);var o=4*((i=Math.max(Math.min(i,r-1),0))*(n-1)+t);return 0!==e[o+3]&&(a[0]=e[o],a[1]=e[o+1],!0)}function a(t,e,n){n[0]=t[0]+e[0],n[1]=t[1]+e[1]}for(var o=[],s=[],u=[],l=[],c=[],h=0,f=0;f<r;f++)for(var d=0;d<n;d++){var p=4*(f*(n-1)+d);0===e[p+3]&&(h=o[0]=o[1]=0,i(d-1,f,s)&&(h++,a(s,o,o)),i(d+1,f,u)&&(h++,a(u,o,o)),i(d,f-1,l)&&(h++,a(l,o,o)),i(d,f+1,c)&&(h++,a(c,o,o)),o[0]/=h,o[1]/=h,e[p]=o[0],e[p+1]=o[1]),e[p+3]=1}},_updateGradientTexture:function(t,e){if(t&&t.length){this._gradientTexture=this._gradientTexture||new a.a.Texture2D({image:document.createElement("canvas")});var n=this._gradientTexture,r=n.image;r.width=200,r.height=1;var i=r.getContext("2d"),o=i.createLinearGradient(0,.5,r.width,.5);t[0].stops.forEach((function(t){var n;e[1]===e[0]?n=0:(n=t.value/e[1],n=Math.min(Math.max(n,0),1)),o.addColorStop(n,t.color)})),i.fillStyle=o,i.fillRect(0,0,r.width,r.height),n.dirty(),this._particleSurface.setGradientTexture(this._gradientTexture)}else this._particleSurface.setGradientTexture(null)},_updatePlanePosition:function(t,e,n,r){var i=this._limitInViewportAndFullFill(t,e,n,r);t=i.leftTop,e=i.rightBottom,this._particleSurface.setRegion(i.region),this._planeMesh.position.set((t[0]+e[0])/2,r.getHeight()-(t[1]+e[1])/2,0);var a=e[0]-t[0],o=e[1]-t[1];this._planeMesh.scale.set(a/2,o/2,1),this._particleSurface.resize(Math.max(Math.min(a,2048),1),Math.max(Math.min(o,2048),1)),this._renderer&&this._particleSurface.clearFrame(this._renderer)},_limitInViewportAndFullFill:function(t,e,n,r){var i=[Math.max(t[0],0),Math.max(t[1],0)],a=[Math.min(e[0],r.getWidth()),Math.min(e[1],r.getHeight())];if("bmap"===n.get("coordinateSystem")){var o=n.getData().getDataExtent(n.coordDimToDataDim("lng")[0]);Math.floor(o[1]-o[0])>=359&&(i[0]>0&&(i[0]=0),a[0]<r.getWidth()&&(a[0]=r.getWidth()))}var s=e[0]-t[0],u=e[1]-t[1],l=a[0]-i[0],c=a[1]-i[1];return{leftTop:i,rightBottom:a,region:[(i[0]-t[0])/s,1-c/u-(i[1]-t[1])/u,l/s,c/u]}},_updateCamera:function(t,e,n){this.viewGL.setViewport(0,0,t,e,n);var r=this.viewGL.camera;r.left=r.bottom=0,r.top=e,r.right=t,r.near=0,r.far=100,r.position.z=10},remove:function(){this._planeMesh.stopAnimation(),this.groupGL.removeAll()},dispose:function(){this._renderer&&this._particleSurface.dispose(this._renderer),this.groupGL.removeAll()}})},function(t,e,n){"use strict";var r=n(16),i=n(15),a=n(40),o=n(19),s=n(8),u=n(5),l=n(4),c=n(37),h=n(43),f=n(10),d=n(278),p=n(279);s.a.import(p.a);var m=function(){this.motionBlurFactor=.99,this.vectorFieldTexture=new u.a({type:l.a.FLOAT,flipY:!1}),this.particleLife=[5,20],this._particleType="point",this._particleSize=1,this.particleColor=[1,1,1,1],this.particleSpeedScaling=1,this._thisFrameTexture=null,this._particlePass=null,this._spawnTexture=null,this._particleTexture0=null,this._particleTexture1=null,this._particlePointsMesh=null,this._surfaceFrameBuffer=null,this._elapsedTime=0,this._scene=null,this._camera=null,this._lastFrameTexture=null,this._supersampling=1,this._downsampleTextures=[],this._width=512,this._height=512,this.init()};m.prototype={constructor:m,init:function(){var t={type:l.a.FLOAT,minFilter:l.a.NEAREST,magFilter:l.a.NEAREST,useMipmap:!1};this._spawnTexture=new u.a(t),this._particleTexture0=new u.a(t),this._particleTexture1=new u.a(t),this._frameBuffer=new f.a({depthBuffer:!1}),this._particlePass=new r.a({fragment:s.a.source("ecgl.vfParticle.particle.fragment")}),this._particlePass.setUniform("velocityTexture",this.vectorFieldTexture),this._particlePass.setUniform("spawnTexture",this._spawnTexture),this._downsamplePass=new r.a({fragment:s.a.source("clay.compositor.downsample")});var e=new a.a({renderOrder:10,material:new o.a({shader:new s.a(s.a.source("ecgl.vfParticle.renderPoints.vertex"),s.a.source("ecgl.vfParticle.renderPoints.fragment"))}),mode:a.a.POINTS,geometry:new i.a({dynamic:!0,mainAttribute:"texcoord0"})}),n=new a.a({renderOrder:10,material:new o.a({shader:new s.a(s.a.source("ecgl.vfParticle.renderLines.vertex"),s.a.source("ecgl.vfParticle.renderLines.fragment"))}),geometry:new d.a,culling:!1}),p=new a.a({material:new o.a({shader:new s.a(s.a.source("ecgl.color.vertex"),s.a.source("ecgl.color.fragment"))}),geometry:new h.a});p.material.enableTexture("diffuseMap"),this._particlePointsMesh=e,this._particleLinesMesh=n,this._lastFrameFullQuadMesh=p,this._camera=new c.a,this._thisFrameTexture=new u.a,this._lastFrameTexture=new u.a},setParticleDensity:function(t,e){for(var n=new Float32Array(t*e*4),r=0,i=this.particleLife,a=0;a<t;a++)for(var o=0;o<e;o++,r++){n[4*r]=Math.random(),n[4*r+1]=Math.random(),n[4*r+2]=Math.random();var s=(i[1]-i[0])*Math.random()+i[0];n[4*r+3]=s}"line"===this._particleType?this._setLineGeometry(t,e):this._setPointsGeometry(t,e),this._spawnTexture.width=t,this._spawnTexture.height=e,this._spawnTexture.pixels=n,this._particleTexture0.width=this._particleTexture1.width=t,this._particleTexture0.height=this._particleTexture1.height=e,this._particlePass.setUniform("textureSize",[t,e])},_setPointsGeometry:function(t,e){var n=t*e,r=this._particlePointsMesh.geometry,i=r.attributes;i.texcoord0.init(n);for(var a=0,o=0;o<t;o++)for(var s=0;s<e;s++,a++)i.texcoord0.value[2*a]=o/t,i.texcoord0.value[2*a+1]=s/e;r.dirty()},_setLineGeometry:function(t,e){var n=t*e,r=this._getParticleMesh().geometry;r.setLineCount(n),r.resetOffset();for(var i=0;i<t;i++)for(var a=0;a<e;a++)r.addLine([i/t,a/e]);r.dirty()},_getParticleMesh:function(){return"line"===this._particleType?this._particleLinesMesh:this._particlePointsMesh},update:function(t,e,n,r){var i=this._getParticleMesh(),a=this._frameBuffer,o=this._particlePass;r&&this._updateDownsampleTextures(t,e),i.material.set("size",this._particleSize*this._supersampling),i.material.set("color",this.particleColor),o.setUniform("speedScaling",this.particleSpeedScaling),a.attach(this._particleTexture1),o.setUniform("firstFrameTime",r?(this.particleLife[1]+this.particleLife[0])/2:0),o.setUniform("particleTexture",this._particleTexture0),o.setUniform("deltaTime",n),o.setUniform("elapsedTime",this._elapsedTime),o.render(t,a),i.material.set("particleTexture",this._particleTexture1),i.material.set("prevParticleTexture",this._particleTexture0),a.attach(this._thisFrameTexture),a.bind(t),t.gl.clear(t.gl.DEPTH_BUFFER_BIT|t.gl.COLOR_BUFFER_BIT);var s=this._lastFrameFullQuadMesh;s.material.set("diffuseMap",this._lastFrameTexture),s.material.set("color",[1,1,1,this.motionBlurFactor]),this._camera.update(!0),t.renderPass([s,i],this._camera),a.unbind(t),this._downsample(t),this._swapTexture(),this._elapsedTime+=n},_downsample:function(t){var e=this._downsampleTextures;if(0!==e.length)for(var n=0,r=this._thisFrameTexture,i=e[n];i;)this._frameBuffer.attach(i),this._downsamplePass.setUniform("texture",r),this._downsamplePass.setUniform("textureSize",[r.width,r.height]),this._downsamplePass.render(t,this._frameBuffer),r=i,i=e[++n]},getSurfaceTexture:function(){var t=this._downsampleTextures;return t.length>0?t[t.length-1]:this._lastFrameTexture},setRegion:function(t){this._particlePass.setUniform("region",t)},resize:function(t,e){this._lastFrameTexture.width=t*this._supersampling,this._lastFrameTexture.height=e*this._supersampling,this._thisFrameTexture.width=t*this._supersampling,this._thisFrameTexture.height=e*this._supersampling,this._width=t,this._height=e},setParticleSize:function(t){var e=this._getParticleMesh();if(t<=2)return e.material.disableTexture("spriteTexture"),void(e.material.transparent=!1);this._spriteTexture||(this._spriteTexture=new u.a),this._spriteTexture.image&&this._spriteTexture.image.width===t||(this._spriteTexture.image=function(t){var e=document.createElement("canvas");e.width=e.height=t;var n=e.getContext("2d");return n.fillStyle="#fff",n.arc(t/2,t/2,t/2,0,2*Math.PI),n.fill(),e}(t),this._spriteTexture.dirty()),e.material.transparent=!0,e.material.enableTexture("spriteTexture"),e.material.set("spriteTexture",this._spriteTexture),this._particleSize=t},setGradientTexture:function(t){var e=this._getParticleMesh().material;e[t?"enableTexture":"disableTexture"]("gradientTexture"),e.setUniform("gradientTexture",t)},setColorTextureImage:function(t,e){this._getParticleMesh().material.setTextureImage("colorTexture",t,e,{flipY:!0})},setParticleType:function(t){this._particleType=t},clearFrame:function(t){var e=this._frameBuffer;e.attach(this._lastFrameTexture),e.bind(t),t.gl.clear(t.gl.DEPTH_BUFFER_BIT|t.gl.COLOR_BUFFER_BIT),e.unbind(t)},setSupersampling:function(t){this._supersampling=t,this.resize(this._width,this._height)},_updateDownsampleTextures:function(t,e){for(var n=this._downsampleTextures,r=Math.max(Math.floor(Math.log(this._supersampling/e.getDevicePixelRatio())/Math.log(2)),0),i=2,a=this._width*this._supersampling,o=this._height*this._supersampling,s=0;s<r;s++)n[s]=n[s]||new u.a,n[s].width=a/i,n[s].height=o/i,i*=2;for(;s<n.length;s++)n[s].dispose(t);n.length=r},_swapTexture:function(){var t=this._particleTexture0;this._particleTexture0=this._particleTexture1,this._particleTexture1=t,t=this._thisFrameTexture,this._thisFrameTexture=this._lastFrameTexture,this._lastFrameTexture=t},dispose:function(t){t.disposeFrameBuffer(this._frameBuffer),t.disposeTexture(this.vectorFieldTexture),t.disposeTexture(this._spawnTexture),t.disposeTexture(this._particleTexture0),t.disposeTexture(this._particleTexture1),t.disposeTexture(this._thisFrameTexture),t.disposeTexture(this._lastFrameTexture),t.disposeGeometry(this._particleLinesMesh.geometry),t.disposeGeometry(this._particlePointsMesh.geometry),t.disposeGeometry(this._lastFrameFullQuadMesh.geometry),this._spriteTexture&&t.disposeTexture(this._spriteTexture),this._particlePass.dispose(t),this._downsamplePass.dispose(t),this._downsampleTextures.forEach((function(e){e.dispose(t)}))}},e.a=m},function(t,e,n){"use strict";var r=n(15),i=n(0),a=(n.n(i),r.a.extend((function(){return{dynamic:!0,attributes:{position:new r.a.Attribute("position","float",3,"POSITION")}}}),{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0},setLineCount:function(t){var e=this.attributes,n=4*t,r=2*t;this.vertexCount!==n&&e.position.init(n),this.triangleCount!==r&&(this.indices=0===r?null:this.vertexCount>65535?new Uint32Array(3*r):new Uint16Array(3*r))},addLine:function(t){var e=this._vertexOffset;this.attributes.position.set(e,[t[0],t[1],1]),this.attributes.position.set(e+1,[t[0],t[1],-1]),this.attributes.position.set(e+2,[t[0],t[1],2]),this.attributes.position.set(e+3,[t[0],t[1],-2]),this.setTriangleIndices(this._faceOffset++,[e,e+1,e+2]),this.setTriangleIndices(this._faceOffset++,[e+1,e+2,e+3]),this._vertexOffset+=4}}));e.a=a},function(t,e,n){"use strict";e.a="@export ecgl.vfParticle.particle.fragment\n\nuniform sampler2D particleTexture;\nuniform sampler2D spawnTexture;\nuniform sampler2D velocityTexture;\n\nuniform float deltaTime;\nuniform float elapsedTime;\n\nuniform float speedScaling : 1.0;\n\nuniform vec2 textureSize;\nuniform vec4 region : [0, 0, 1, 1];\nuniform float firstFrameTime;\n\nvarying vec2 v_Texcoord;\n\n\nvoid main()\n{\n vec4 p = texture2D(particleTexture, v_Texcoord);\n bool spawn = false;\n if (p.w <= 0.0) {\n p = texture2D(spawnTexture, fract(v_Texcoord + elapsedTime / 10.0));\n p.w -= firstFrameTime;\n spawn = true;\n }\n vec2 v = texture2D(velocityTexture, fract(p.xy * region.zw + region.xy)).xy;\n v = (v - 0.5) * 2.0;\n p.z = length(v);\n p.xy += v * deltaTime / 10.0 * speedScaling;\n p.w -= deltaTime;\n\n if (spawn || p.xy != fract(p.xy)) {\n p.z = 0.0;\n }\n p.xy = fract(p.xy);\n\n gl_FragColor = p;\n}\n@end\n\n@export ecgl.vfParticle.renderPoints.vertex\n\n#define PI 3.1415926\n\nattribute vec2 texcoord : TEXCOORD_0;\n\nuniform sampler2D particleTexture;\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nuniform float size : 1.0;\n\nvarying float v_Mag;\nvarying vec2 v_Uv;\n\nvoid main()\n{\n vec4 p = texture2D(particleTexture, texcoord);\n\n if (p.w > 0.0 && p.z > 1e-5) {\n gl_Position = worldViewProjection * vec4(p.xy * 2.0 - 1.0, 0.0, 1.0);\n }\n else {\n gl_Position = vec4(100000.0, 100000.0, 100000.0, 1.0);\n }\n\n v_Mag = p.z;\n v_Uv = p.xy;\n\n gl_PointSize = size;\n}\n\n@end\n\n@export ecgl.vfParticle.renderPoints.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\nuniform sampler2D gradientTexture;\nuniform sampler2D colorTexture;\nuniform sampler2D spriteTexture;\n\nvarying float v_Mag;\nvarying vec2 v_Uv;\n\nvoid main()\n{\n gl_FragColor = color;\n#ifdef SPRITETEXTURE_ENABLED\n gl_FragColor *= texture2D(spriteTexture, gl_PointCoord);\n if (color.a == 0.0) {\n discard;\n }\n#endif\n#ifdef GRADIENTTEXTURE_ENABLED\n gl_FragColor *= texture2D(gradientTexture, vec2(v_Mag, 0.5));\n#endif\n#ifdef COLORTEXTURE_ENABLED\n gl_FragColor *= texture2D(colorTexture, v_Uv);\n#endif\n}\n\n@end\n\n@export ecgl.vfParticle.renderLines.vertex\n\n#define PI 3.1415926\n\nattribute vec3 position : POSITION;\n\nuniform sampler2D particleTexture;\nuniform sampler2D prevParticleTexture;\n\nuniform float size : 1.0;\nuniform vec4 vp: VIEWPORT;\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nvarying float v_Mag;\nvarying vec2 v_Uv;\n\n@import clay.util.rand\n\nvoid main()\n{\n vec4 p = texture2D(particleTexture, position.xy);\n vec4 p2 = texture2D(prevParticleTexture, position.xy);\n\n p.xy = p.xy * 2.0 - 1.0;\n p2.xy = p2.xy * 2.0 - 1.0;\n\n if (p.w > 0.0 && p.z > 1e-5) {\n vec2 dir = normalize(p.xy - p2.xy);\n vec2 norm = vec2(dir.y / vp.z, -dir.x / vp.w) * sign(position.z) * size;\n if (abs(position.z) == 2.0) {\n gl_Position = vec4(p.xy + norm, 0.0, 1.0);\n v_Uv = p.xy;\n v_Mag = p.z;\n }\n else {\n gl_Position = vec4(p2.xy + norm, 0.0, 1.0);\n v_Mag = p2.z;\n v_Uv = p2.xy;\n }\n gl_Position = worldViewProjection * gl_Position;\n }\n else {\n gl_Position = vec4(100000.0, 100000.0, 100000.0, 1.0);\n }\n}\n\n@end\n\n@export ecgl.vfParticle.renderLines.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\nuniform sampler2D gradientTexture;\nuniform sampler2D colorTexture;\n\nvarying float v_Mag;\nvarying vec2 v_Uv;\n\nvoid main()\n{\n gl_FragColor = color;\n #ifdef GRADIENTTEXTURE_ENABLED\n gl_FragColor *= texture2D(gradientTexture, vec2(v_Mag, 0.5));\n#endif\n#ifdef COLORTEXTURE_ENABLED\n gl_FragColor *= texture2D(colorTexture, v_Uv);\n#endif\n}\n\n@end\n"},function(t,e,n){"use strict";var r=n(0),i=n.n(r);i.a.extendSeriesModel({type:"series.flowGL",dependencies:["geo","grid","bmap"],visualColorAccessPath:"itemStyle.color",getInitialData:function(t,e){var n=i.a.getCoordinateSystemDimensions(this.get("coordinateSystem"))||["x","y"];if(n.length>2)throw new Error("flowGL can only be used on 2d coordinate systems.");n.push("vx","vy");var r=i.a.helper.completeDimensions(n,this.getSource(),{encodeDef:this.get("encode"),dimsDef:this.get("dimensions")}),a=new i.a.List(r,this);return a.initData(this.getSource()),a},defaultOption:{coordinateSystem:"cartesian2d",zlevel:10,supersampling:1,particleType:"point",particleDensity:128,particleSize:1,particleSpeed:1,particleTrail:2,colorTexture:null,gridWidth:"auto",gridHeight:"auto",itemStyle:{color:"#fff",opacity:.8}}})},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=(n(282),n(283),n(17));i.a.registerVisual(Object(a.a)("linesGL"))},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(13),o=(n.n(a),i.a.extendSeriesModel({type:"series.linesGL",dependencies:["grid","geo"],visualColorAccessPath:"lineStyle.color",streamEnabled:!0,init:function(t){var e=this._processFlatCoordsArray(t.data);this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset,e.flatCoords&&(t.data=new Float32Array(e.count)),o.superApply(this,"init",arguments)},mergeOption:function(t){var e=this._processFlatCoordsArray(t.data);this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset,e.flatCoords&&(t.data=new Float32Array(e.count)),o.superApply(this,"mergeOption",arguments)},appendData:function(t){var e=this._processFlatCoordsArray(t.data);e.flatCoords&&(this._flatCoords?(this._flatCoords=Object(a.concatArray)(this._flatCoords,e.flatCoords),this._flatCoordsOffset=Object(a.concatArray)(this._flatCoordsOffset,e.flatCoordsOffset)):(this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset),t.data=new Float32Array(e.count)),this.getRawData().appendData(t.data)},_getCoordsFromItemModel:function(t){var e=this.getData().getItemModel(t),n=e.option instanceof Array?e.option:e.getShallow("coords");if(!(n instanceof Array&&n.length>0&&n[0]instanceof Array))throw new Error("Invalid coords "+JSON.stringify(n)+". Lines must have 2d coords array in data item.");return n},getLineCoordsCount:function(t){return this._flatCoordsOffset?this._flatCoordsOffset[2*t+1]:this._getCoordsFromItemModel(t).length},getLineCoords:function(t,e){if(this._flatCoordsOffset){for(var n=this._flatCoordsOffset[2*t],r=this._flatCoordsOffset[2*t+1],i=0;i<r;i++)e[i]=e[i]||[],e[i][0]=this._flatCoords[n+2*i],e[i][1]=this._flatCoords[n+2*i+1];return r}var a=this._getCoordsFromItemModel(t);for(i=0;i<a.length;i++)e[i]=e[i]||[],e[i][0]=a[i][0],e[i][1]=a[i][1];return a.length},_processFlatCoordsArray:function(t){var e=0;if(this._flatCoords&&(e=this._flatCoords.length),"number"==typeof t[0]){for(var n=t.length,r=new Uint32Array(n),i=new Float64Array(n),a=0,o=0,s=0,u=0;u<n;){s++;var l=t[u++];r[o++]=a+e,r[o++]=l;for(var c=0;c<l;c++){var h=t[u++],f=t[u++];if(i[a++]=h,i[a++]=f,u>n)throw new Error("Invalid data format.")}}return{flatCoordsOffset:new Uint32Array(r.buffer,0,o),flatCoords:i,count:s}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},getInitialData:function(t,e){var n=new i.a.List(["value"],this);return n.hasItemOption=!1,n.initData(t.data,[],(function(t,e,r,i){if(t instanceof Array)return NaN;n.hasItemOption=!0;var a=t.value;return null!=a?a instanceof Array?a[i]:a:void 0})),n},defaultOption:{coordinateSystem:"geo",zlevel:10,progressive:1e4,progressiveThreshold:5e4,blendMode:"source-over",lineStyle:{opacity:.8},postEffect:{enable:!1,colorCorrection:{exposure:0,brightness:0,contrast:1,saturation:1,enable:!0}}}}))},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n(22),s=n(105),u=n(103),l=n(2);i.a.extendChartView({type:"linesGL",__ecgl__:!0,init:function(t,e){this.groupGL=new a.a.Node,this.viewGL=new o.a("orthographic"),this.viewGL.add(this.groupGL),this._glViewHelper=new u.a(this.viewGL),this._nativeLinesShader=a.a.createShader("ecgl.lines3D"),this._meshLinesShader=a.a.createShader("ecgl.meshLines3D"),this._linesMeshes=[],this._currentStep=0},render:function(t,e,n){this.groupGL.removeAll(),this._glViewHelper.reset(t,n);var r=this._linesMeshes[0];r||(r=this._linesMeshes[0]=this._createLinesMesh(t)),this._linesMeshes.length=1,this.groupGL.add(r),this._updateLinesMesh(t,r,0,t.getData().count()),this.viewGL.setPostEffect(t.getModel("postEffect"),n)},incrementalPrepareRender:function(t,e,n){this.groupGL.removeAll(),this._glViewHelper.reset(t,n),this._currentStep=0,this.viewGL.setPostEffect(t.getModel("postEffect"),n)},incrementalRender:function(t,e,n,r){var i=this._linesMeshes[this._currentStep];i||(i=this._createLinesMesh(e),this._linesMeshes[this._currentStep]=i),this._updateLinesMesh(e,i,t.start,t.end),this.groupGL.add(i),r.getZr().refresh(),this._currentStep++},updateTransform:function(t,e,n){t.coordinateSystem.getRoamTransform&&this._glViewHelper.updateTransform(t,n)},_createLinesMesh:function(t){return new a.a.Mesh({$ignorePicking:!0,material:new a.a.Material({shader:a.a.createShader("ecgl.lines3D"),transparent:!0,depthMask:!1,depthTest:!1}),geometry:new s.a({segmentScale:10,useNativeLine:!0,dynamic:!1}),mode:a.a.Mesh.LINES,culling:!1})},_updateLinesMesh:function(t,e,n,r){var i=t.getData();e.material.blend="lighter"===t.get("blendMode")?a.a.additiveBlend:null;var o=t.get("lineStyle.curveness")||0,s=t.get("polyline"),u=e.geometry,c=t.coordinateSystem,h=l.a.firstNotNull(t.get("lineStyle.width"),1);h>1?(e.material.shader!==this._meshLinesShader&&e.material.attachShader(this._meshLinesShader),e.mode=a.a.Mesh.TRIANGLES):(e.material.shader!==this._nativeLinesShader&&e.material.attachShader(this._nativeLinesShader),e.mode=a.a.Mesh.LINES),n=n||0,r=r||i.count(),u.resetOffset();var f=0,d=0,p=[],m=[],g=[],_=[],v=[],y=.3;function b(){m[0]=.7*p[0]+_[0]*y-(p[1]-_[1])*o,m[1]=.7*p[1]+_[1]*y-(_[0]-p[0])*o,g[0]=p[0]*y+.7*_[0]-(p[1]-_[1])*o,g[1]=p[1]*y+.7*_[1]-(_[0]-p[0])*o}if(s||0!==o)for(var x=n;x<r;x++)if(s){var w=t.getLineCoordsCount(x);f+=u.getPolylineVertexCount(w),d+=u.getPolylineTriangleCount(w)}else t.getLineCoords(x,v),this._glViewHelper.dataToPoint(c,v[0],p),this._glViewHelper.dataToPoint(c,v[1],_),b(),f+=u.getCubicCurveVertexCount(p,m,g,_),d+=u.getCubicCurveTriangleCount(p,m,g,_);else{var T=r-n;f+=T*u.getLineVertexCount(),d+=T*u.getLineVertexCount()}u.setVertexCount(f),u.setTriangleCount(d);var S=n,E=[];for(x=n;x<r;x++){a.a.parseColor(i.getItemVisual(S,"color"),E);var C=l.a.firstNotNull(i.getItemVisual(S,"opacity"),1);E[3]*=C,w=t.getLineCoords(x,v);for(var A=0;A<w;A++)this._glViewHelper.dataToPoint(c,v[A],v[A]);s?u.addPolyline(v,E,h,0,w):0!==o?(p=v[0],_=v[1],b(),u.addCubicCurve(p,m,g,_,E,h)):u.addPolyline(v,E,h,0,2),S++}},dispose:function(){this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}})}])},t.exports=r(n("313e"))},"7db0":function(t,e,n){"use strict";var r=n("23e7"),i=n("b727").find,a=n("44d2"),o=n("ae40"),s=!0,u=o("find");"find"in[]&&Array(1).find((function(){s=!1})),r({target:"Array",proto:!0,forced:s||!u},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),a("find")},"7dd0":function(t,e,n){"use strict";var r=n("23e7"),i=n("9ed3"),a=n("e163"),o=n("d2bb"),s=n("d44e"),u=n("9112"),l=n("6eeb"),c=n("b622"),h=n("c430"),f=n("3f8c"),d=n("ae93"),p=d.IteratorPrototype,m=d.BUGGY_SAFARI_ITERATORS,g=c("iterator"),_=function(){return this};t.exports=function(t,e,n,c,d,v,y){i(n,e,c);var b,x,w,T=function(t){if(t===d&&M)return M;if(!m&&t in C)return C[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},S=e+" Iterator",E=!1,C=t.prototype,A=C[g]||C["@@iterator"]||d&&C[d],M=!m&&A||T(d),O="Array"==e&&C.entries||A;if(O&&(b=a(O.call(new t)),p!==Object.prototype&&b.next&&(h||a(b)===p||(o?o(b,p):"function"!=typeof b[g]&&u(b,g,_)),s(b,S,!0,!0),h&&(f[S]=_))),"values"==d&&A&&"values"!==A.name&&(E=!0,M=function(){return A.call(this)}),h&&!y||C[g]===M||u(C,g,M),f[e]=M,d)if(x={values:T("values"),keys:v?M:T("keys"),entries:T("entries")},y)for(w in x)(m||E||!(w in C))&&l(C,w,x[w]);else r({target:e,proto:!0,forced:m||E},x);return x}},"7e12":function(t,e,n){var r=n("da84"),i=n("58a8").trim,a=n("5899"),o=r.parseFloat,s=1/o(a+"-0")!=-1/0;t.exports=s?function(t){var e=i(String(t)),n=o(e);return 0===n&&"-"==e.charAt(0)?-0:n}:o},"7ed3":function(t,e,n){var r=n("23e7"),i=n("825a"),a=n("861d"),o=n("5135"),s=n("d039"),u=n("9bf2"),l=n("06cf"),c=n("e163"),h=n("5c6c");r({target:"Reflect",stat:!0,forced:s((function(){var t=u.f({},"a",{configurable:!0});return!1!==Reflect.set(c(t),"a",1,t)}))},{set:function t(e,n,r){var s,f,d=arguments.length<4?e:arguments[3],p=l.f(i(e),n);if(!p){if(a(f=c(e)))return t(f,n,r,d);p=h(0)}if(o(p,"value")){if(!1===p.writable||!a(d))return!1;if(s=l.f(d,n)){if(s.get||s.set||!1===s.writable)return!1;s.value=r,u.f(d,n,s)}else u.f(d,n,h(0,r));return!0}return void 0!==p.set&&(p.set.call(d,r),!0)}})},"7f78":function(t,e,n){var r=n("23e7"),i=n("825a"),a=n("e163");r({target:"Reflect",stat:!0,sham:!n("e177")},{getPrototypeOf:function(t){return a(i(t))}})},"7f9a":function(t,e,n){var r=n("da84"),i=n("8925"),a=r.WeakMap;t.exports="function"==typeof a&&/native code/.test(i(a))},"80e0":function(t,e,n){n("746f")("replace")},8119:function(t,e,n){n("693d"),n("dfe5"),n("301c"),n("4e71"),t.exports=n("5524").Symbol},8172:function(t,e,n){n("746f")("toPrimitive")},"81b8":function(t,e,n){n("746f")("unscopables")},"81d5":function(t,e,n){"use strict";var r=n("7b0b"),i=n("23cb"),a=n("50c4");t.exports=function(t){for(var e=r(this),n=a(e.length),o=arguments.length,s=i(o>1?arguments[1]:void 0,n),u=o>2?arguments[2]:void 0,l=void 0===u?n:i(u,n);l>s;)e[s++]=t;return e}},"820e":function(t,e,n){"use strict";var r=n("23e7"),i=n("1c0b"),a=n("f069"),o=n("e667"),s=n("2266");r({target:"Promise",stat:!0},{allSettled:function(t){var e=this,n=a.f(e),r=n.resolve,u=n.reject,l=o((function(){var n=i(e.resolve),a=[],o=0,u=1;s(t,(function(t){var i=o++,s=!1;a.push(void 0),u++,n.call(e,t).then((function(t){s||(s=!0,a[i]={status:"fulfilled",value:t},--u||r(a))}),(function(t){s||(s=!0,a[i]={status:"rejected",reason:t},--u||r(a))}))})),--u||r(a)}));return l.error&&u(l.value),n.promise}})},"825a":function(t,e,n){var r=n("861d");t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},8267:function(t,e,n){},8286:function(t,e,n){},"82da":function(t,e,n){var r=n("23e7"),i=n("ebb5");r({target:"ArrayBuffer",stat:!0,forced:!i.NATIVE_ARRAY_BUFFER_VIEWS},{isView:i.isView})},"82f8":function(t,e,n){"use strict";var r=n("ebb5"),i=n("4d64").includes,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("includes",(function(t){return i(a(this),t,arguments.length>1?arguments[1]:void 0)}))},"83ab":function(t,e,n){var r=n("d039");t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},"83b9":function(t,e,n){"use strict";var r=n("d925"),i=n("e683");t.exports=function(t,e){return t&&!r(e)?i(t,e):e}},8418:function(t,e,n){"use strict";var r=n("c04e"),i=n("9bf2"),a=n("5c6c");t.exports=function(t,e,n){var o=r(e);o in t?i.f(t,o,a(0,n)):t[o]=n}},"841c":function(t,e,n){"use strict";var r=n("d784"),i=n("825a"),a=n("1d80"),o=n("129f"),s=n("14c3");r("search",1,(function(t,e,n){return[function(e){var n=a(this),r=null==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var r=n(e,t,this);if(r.done)return r.value;var a=i(t),u=String(this),l=a.lastIndex;o(l,0)||(a.lastIndex=0);var c=s(a,u);return o(a.lastIndex,l)||(a.lastIndex=l),null===c?-1:c.index}]}))},"843c":function(t,e,n){"use strict";var r=n("23e7"),i=n("0ccb").end;r({target:"String",proto:!0,forced:n("9a0c")},{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},"84c3":function(t,e,n){n("74e8")("Uint16",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},"857a":function(t,e,n){var r=n("1d80"),i=/"/g;t.exports=function(t,e,n,a){var o=String(r(t)),s="<"+e;return""!==n&&(s+=" "+n+'="'+String(a).replace(i,"&quot;")+'"'),s+">"+o+"</"+e+">"}},"85e7":function(t,e,n){var r=n("1a14"),i=n("77e9"),a=n("9876");t.exports=n("0bad")?Object.defineProperties:function(t,e){i(t);for(var n,o=a(e),s=o.length,u=0;s>u;)r.f(t,n=o[u++],e[n]);return t}},"861d":function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},"861da":function(t,e,n){"use strict";var r=n("8b27");n.n(r).a},"86ba":function(t,e,n){"use strict";var r=n("7182");n.n(r).a},8925:function(t,e,n){var r=n("c6cd"),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return i.call(t)}),t.exports=r.inspectSource},"8a0d":function(t,e){t.exports={}},"8a59":function(t,e,n){n("74e8")("Uint8",(function(t){return function(e,n,r){return t(this,e,n,r)}}),!0)},"8a79":function(t,e,n){"use strict";var r,i=n("23e7"),a=n("06cf").f,o=n("50c4"),s=n("5a34"),u=n("1d80"),l=n("ab13"),c=n("c430"),h="".endsWith,f=Math.min,d=l("endsWith");i({target:"String",proto:!0,forced:!!(c||d||(r=a(String.prototype,"endsWith"),!r||r.writable))&&!d},{endsWith:function(t){var e=String(u(this));s(t);var n=arguments.length>1?arguments[1]:void 0,r=o(e.length),i=void 0===n?r:f(o(n),r),a=String(t);return h?h.call(e,a,i):e.slice(i-a.length,i)===a}})},"8aa5":function(t,e,n){"use strict";var r=n("6547").charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},"8aa7":function(t,e,n){var r=n("da84"),i=n("d039"),a=n("1c7e"),o=n("ebb5").NATIVE_ARRAY_BUFFER_VIEWS,s=r.ArrayBuffer,u=r.Int8Array;t.exports=!o||!i((function(){u(1)}))||!i((function(){new u(-1)}))||!a((function(t){new u,new u(null),new u(1.5),new u(t)}),!0)||i((function(){return 1!==new u(new s(2),1,void 0).length}))},"8b09":function(t,e,n){n("74e8")("Int16",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},"8b1a":function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},"8b27":function(t,e,n){},"8b9a":function(t,e,n){var r=n("23e7"),i=n("825a"),a=n("3bbe"),o=n("d2bb");o&&r({target:"Reflect",stat:!0},{setPrototypeOf:function(t,e){i(t),a(e);try{return o(t,e),!0}catch(t){return!1}}})},"8ba4":function(t,e,n){n("23e7")({target:"Number",stat:!0},{isInteger:n("5e89")})},"8c4f":function(t,e,n){"use strict";
/*!
  * vue-router v3.4.3
  * (c) 2020 Evan You
  * @license MIT
  */function r(t,e){for(var n in e)t[n]=e[n];return t}var i={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(t,e){var n=e.props,i=e.children,o=e.parent,s=e.data;s.routerView=!0;for(var u=o.$createElement,l=n.name,c=o.$route,h=o._routerViewCache||(o._routerViewCache={}),f=0,d=!1;o&&o._routerRoot!==o;){var p=o.$vnode?o.$vnode.data:{};p.routerView&&f++,p.keepAlive&&o._directInactive&&o._inactive&&(d=!0),o=o.$parent}if(s.routerViewDepth=f,d){var m=h[l],g=m&&m.component;return g?(m.configProps&&a(g,s,m.route,m.configProps),u(g,s,i)):u()}var _=c.matched[f],v=_&&_.components[l];if(!_||!v)return h[l]=null,u();h[l]={component:v},s.registerRouteInstance=function(t,e){var n=_.instances[l];(e&&n!==t||!e&&n===t)&&(_.instances[l]=e)},(s.hook||(s.hook={})).prepatch=function(t,e){_.instances[l]=e.componentInstance},s.hook.init=function(t){t.data.keepAlive&&t.componentInstance&&t.componentInstance!==_.instances[l]&&(_.instances[l]=t.componentInstance)};var y=_.props&&_.props[l];return y&&(r(h[l],{route:c,configProps:y}),a(v,s,c,y)),u(v,s,i)}};function a(t,e,n,i){var a=e.props=function(t,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(t);case"boolean":return e?t.params:void 0;default:0}}(n,i);if(a){a=e.props=r({},a);var o=e.attrs=e.attrs||{};for(var s in a)t.props&&s in t.props||(o[s]=a[s],delete a[s])}}var o=/[!'()*]/g,s=function(t){return"%"+t.charCodeAt(0).toString(16)},u=/%2C/g,l=function(t){return encodeURIComponent(t).replace(o,s).replace(u,",")},c=decodeURIComponent;var h=function(t){return null==t||"object"==typeof t?t:String(t)};function f(t){var e={};return(t=t.trim().replace(/^(\?|#|&)/,""))?(t.split("&").forEach((function(t){var n=t.replace(/\+/g," ").split("="),r=c(n.shift()),i=n.length>0?c(n.join("=")):null;void 0===e[r]?e[r]=i:Array.isArray(e[r])?e[r].push(i):e[r]=[e[r],i]})),e):e}function d(t){var e=t?Object.keys(t).map((function(e){var n=t[e];if(void 0===n)return"";if(null===n)return l(e);if(Array.isArray(n)){var r=[];return n.forEach((function(t){void 0!==t&&(null===t?r.push(l(e)):r.push(l(e)+"="+l(t)))})),r.join("&")}return l(e)+"="+l(n)})).filter((function(t){return t.length>0})).join("&"):null;return e?"?"+e:""}var p=/\/?$/;function m(t,e,n,r){var i=r&&r.options.stringifyQuery,a=e.query||{};try{a=g(a)}catch(t){}var o={name:e.name||t&&t.name,meta:t&&t.meta||{},path:e.path||"/",hash:e.hash||"",query:a,params:e.params||{},fullPath:y(e,i),matched:t?v(t):[]};return n&&(o.redirectedFrom=y(n,i)),Object.freeze(o)}function g(t){if(Array.isArray(t))return t.map(g);if(t&&"object"==typeof t){var e={};for(var n in t)e[n]=g(t[n]);return e}return t}var _=m(null,{path:"/"});function v(t){for(var e=[];t;)e.unshift(t),t=t.parent;return e}function y(t,e){var n=t.path,r=t.query;void 0===r&&(r={});var i=t.hash;return void 0===i&&(i=""),(n||"/")+(e||d)(r)+i}function b(t,e){return e===_?t===e:!!e&&(t.path&&e.path?t.path.replace(p,"")===e.path.replace(p,"")&&t.hash===e.hash&&x(t.query,e.query):!(!t.name||!e.name)&&(t.name===e.name&&t.hash===e.hash&&x(t.query,e.query)&&x(t.params,e.params)))}function x(t,e){if(void 0===t&&(t={}),void 0===e&&(e={}),!t||!e)return t===e;var n=Object.keys(t),r=Object.keys(e);return n.length===r.length&&n.every((function(n){var r=t[n],i=e[n];return null==r||null==i?r===i:"object"==typeof r&&"object"==typeof i?x(r,i):String(r)===String(i)}))}function w(t,e,n){var r=t.charAt(0);if("/"===r)return t;if("?"===r||"#"===r)return e+t;var i=e.split("/");n&&i[i.length-1]||i.pop();for(var a=t.replace(/^\//,"").split("/"),o=0;o<a.length;o++){var s=a[o];".."===s?i.pop():"."!==s&&i.push(s)}return""!==i[0]&&i.unshift(""),i.join("/")}function T(t){return t.replace(/\/\//g,"/")}var S=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},E=z,C=N,A=function(t,e){return P(N(t,e),e)},M=P,O=F,D=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function N(t,e){for(var n,r=[],i=0,a=0,o="",s=e&&e.delimiter||"/";null!=(n=D.exec(t));){var u=n[0],l=n[1],c=n.index;if(o+=t.slice(a,c),a=c+u.length,l)o+=l[1];else{var h=t[a],f=n[2],d=n[3],p=n[4],m=n[5],g=n[6],_=n[7];o&&(r.push(o),o="");var v=null!=f&&null!=h&&h!==f,y="+"===g||"*"===g,b="?"===g||"*"===g,x=n[2]||s,w=p||m;r.push({name:d||i++,prefix:f||"",delimiter:x,optional:b,repeat:y,partial:v,asterisk:!!_,pattern:w?R(w):_?".*":"[^"+L(x)+"]+?"})}}return a<t.length&&(o+=t.substr(a)),o&&r.push(o),r}function I(t){return encodeURI(t).replace(/[\/?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function P(t,e){for(var n=new Array(t.length),r=0;r<t.length;r++)"object"==typeof t[r]&&(n[r]=new RegExp("^(?:"+t[r].pattern+")$",B(e)));return function(e,r){for(var i="",a=e||{},o=(r||{}).pretty?I:encodeURIComponent,s=0;s<t.length;s++){var u=t[s];if("string"!=typeof u){var l,c=a[u.name];if(null==c){if(u.optional){u.partial&&(i+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(S(c)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(c)+"`");if(0===c.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var h=0;h<c.length;h++){if(l=o(c[h]),!n[s].test(l))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(l)+"`");i+=(0===h?u.prefix:u.delimiter)+l}}else{if(l=u.asterisk?encodeURI(c).replace(/[?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})):o(c),!n[s].test(l))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+l+'"');i+=u.prefix+l}}else i+=u}return i}}function L(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function R(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function k(t,e){return t.keys=e,t}function B(t){return t&&t.sensitive?"":"i"}function F(t,e,n){S(e)||(n=e||n,e=[]);for(var r=(n=n||{}).strict,i=!1!==n.end,a="",o=0;o<t.length;o++){var s=t[o];if("string"==typeof s)a+=L(s);else{var u=L(s.prefix),l="(?:"+s.pattern+")";e.push(s),s.repeat&&(l+="(?:"+u+l+")*"),a+=l=s.optional?s.partial?u+"("+l+")?":"(?:"+u+"("+l+"))?":u+"("+l+")"}}var c=L(n.delimiter||"/"),h=a.slice(-c.length)===c;return r||(a=(h?a.slice(0,-c.length):a)+"(?:"+c+"(?=$))?"),a+=i?"$":r&&h?"":"(?="+c+"|$)",k(new RegExp("^"+a,B(n)),e)}function z(t,e,n){return S(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?function(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return k(t,e)}(t,e):S(t)?function(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(z(t[i],e,n).source);return k(new RegExp("(?:"+r.join("|")+")",B(n)),e)}(t,e,n):function(t,e,n){return F(N(t,n),e,n)}(t,e,n)}E.parse=C,E.compile=A,E.tokensToFunction=M,E.tokensToRegExp=O;var j=Object.create(null);function U(t,e,n){e=e||{};try{var r=j[t]||(j[t]=E.compile(t));return"string"==typeof e.pathMatch&&(e[0]=e.pathMatch),r(e,{pretty:!0})}catch(t){return""}finally{delete e[0]}}function H(t,e,n,i){var a="string"==typeof t?{path:t}:t;if(a._normalized)return a;if(a.name){var o=(a=r({},t)).params;return o&&"object"==typeof o&&(a.params=r({},o)),a}if(!a.path&&a.params&&e){(a=r({},a))._normalized=!0;var s=r(r({},e.params),a.params);if(e.name)a.name=e.name,a.params=s;else if(e.matched.length){var u=e.matched[e.matched.length-1].path;a.path=U(u,s,e.path)}else 0;return a}var l=function(t){var e="",n="",r=t.indexOf("#");r>=0&&(e=t.slice(r),t=t.slice(0,r));var i=t.indexOf("?");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{path:t,query:n,hash:e}}(a.path||""),c=e&&e.path||"/",d=l.path?w(l.path,c,n||a.append):c,p=function(t,e,n){void 0===e&&(e={});var r,i=n||f;try{r=i(t||"")}catch(t){r={}}for(var a in e){var o=e[a];r[a]=Array.isArray(o)?o.map(h):h(o)}return r}(l.query,a.query,i&&i.options.parseQuery),m=a.hash||l.hash;return m&&"#"!==m.charAt(0)&&(m="#"+m),{_normalized:!0,path:d,query:p,hash:m}}var V,G=function(){},W={name:"RouterLink",props:{to:{type:[String,Object],required:!0},tag:{type:String,default:"a"},exact:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:[String,Array],default:"click"}},render:function(t){var e=this,n=this.$router,i=this.$route,a=n.resolve(this.to,i,this.append),o=a.location,s=a.route,u=a.href,l={},c=n.options.linkActiveClass,h=n.options.linkExactActiveClass,f=null==c?"router-link-active":c,d=null==h?"router-link-exact-active":h,g=null==this.activeClass?f:this.activeClass,_=null==this.exactActiveClass?d:this.exactActiveClass,v=s.redirectedFrom?m(null,H(s.redirectedFrom),null,n):s;l[_]=b(i,v),l[g]=this.exact?l[_]:function(t,e){return 0===t.path.replace(p,"/").indexOf(e.path.replace(p,"/"))&&(!e.hash||t.hash===e.hash)&&function(t,e){for(var n in e)if(!(n in t))return!1;return!0}(t.query,e.query)}(i,v);var y=l[_]?this.ariaCurrentValue:null,x=function(t){$(t)&&(e.replace?n.replace(o,G):n.push(o,G))},w={click:$};Array.isArray(this.event)?this.event.forEach((function(t){w[t]=x})):w[this.event]=x;var T={class:l},S=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:u,route:s,navigate:x,isActive:l[g],isExactActive:l[_]});if(S){if(1===S.length)return S[0];if(S.length>1||!S.length)return 0===S.length?t():t("span",{},S)}if("a"===this.tag)T.on=w,T.attrs={href:u,"aria-current":y};else{var E=function t(e){var n;if(e)for(var r=0;r<e.length;r++){if("a"===(n=e[r]).tag)return n;if(n.children&&(n=t(n.children)))return n}}(this.$slots.default);if(E){E.isStatic=!1;var C=E.data=r({},E.data);for(var A in C.on=C.on||{},C.on){var M=C.on[A];A in w&&(C.on[A]=Array.isArray(M)?M:[M])}for(var O in w)O in C.on?C.on[O].push(w[O]):C.on[O]=x;var D=E.data.attrs=r({},E.data.attrs);D.href=u,D["aria-current"]=y}else T.on=w}return t(this.tag,T,this.$slots.default)}};function $(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey||t.defaultPrevented||void 0!==t.button&&0!==t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){var e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}var X="undefined"!=typeof window;function q(t,e,n,r){var i=e||[],a=n||Object.create(null),o=r||Object.create(null);t.forEach((function(t){!function t(e,n,r,i,a,o){var s=i.path,u=i.name;0;var l=i.pathToRegexpOptions||{},c=function(t,e,n){n||(t=t.replace(/\/$/,""));if("/"===t[0])return t;if(null==e)return t;return T(e.path+"/"+t)}(s,a,l.strict);"boolean"==typeof i.caseSensitive&&(l.sensitive=i.caseSensitive);var h={path:c,regex:Y(c,l),components:i.components||{default:i.component},instances:{},name:u,parent:a,matchAs:o,redirect:i.redirect,beforeEnter:i.beforeEnter,meta:i.meta||{},props:null==i.props?{}:i.components?i.props:{default:i.props}};i.children&&i.children.forEach((function(i){var a=o?T(o+"/"+i.path):void 0;t(e,n,r,i,h,a)}));n[h.path]||(e.push(h.path),n[h.path]=h);if(void 0!==i.alias)for(var f=Array.isArray(i.alias)?i.alias:[i.alias],d=0;d<f.length;++d){0;var p={path:f[d],children:i.children};t(e,n,r,p,a,h.path||"/")}u&&(r[u]||(r[u]=h))}(i,a,o,t)}));for(var s=0,u=i.length;s<u;s++)"*"===i[s]&&(i.push(i.splice(s,1)[0]),u--,s--);return{pathList:i,pathMap:a,nameMap:o}}function Y(t,e){return E(t,[],e)}function Z(t,e){var n=q(t),r=n.pathList,i=n.pathMap,a=n.nameMap;function o(t,n,o){var s=H(t,n,!1,e),l=s.name;if(l){var c=a[l];if(!c)return u(null,s);var h=c.regex.keys.filter((function(t){return!t.optional})).map((function(t){return t.name}));if("object"!=typeof s.params&&(s.params={}),n&&"object"==typeof n.params)for(var f in n.params)!(f in s.params)&&h.indexOf(f)>-1&&(s.params[f]=n.params[f]);return s.path=U(c.path,s.params),u(c,s,o)}if(s.path){s.params={};for(var d=0;d<r.length;d++){var p=r[d],m=i[p];if(K(m.regex,s.path,s.params))return u(m,s,o)}}return u(null,s)}function s(t,n){var r=t.redirect,i="function"==typeof r?r(m(t,n,null,e)):r;if("string"==typeof i&&(i={path:i}),!i||"object"!=typeof i)return u(null,n);var s=i,l=s.name,c=s.path,h=n.query,f=n.hash,d=n.params;if(h=s.hasOwnProperty("query")?s.query:h,f=s.hasOwnProperty("hash")?s.hash:f,d=s.hasOwnProperty("params")?s.params:d,l){a[l];return o({_normalized:!0,name:l,query:h,hash:f,params:d},void 0,n)}if(c){var p=function(t,e){return w(t,e.parent?e.parent.path:"/",!0)}(c,t);return o({_normalized:!0,path:U(p,d),query:h,hash:f},void 0,n)}return u(null,n)}function u(t,n,r){return t&&t.redirect?s(t,r||n):t&&t.matchAs?function(t,e,n){var r=o({_normalized:!0,path:U(n,e.params)});if(r){var i=r.matched,a=i[i.length-1];return e.params=r.params,u(a,e)}return u(null,e)}(0,n,t.matchAs):m(t,n,r,e)}return{match:o,addRoutes:function(t){q(t,r,i,a)}}}function K(t,e,n){var r=e.match(t);if(!r)return!1;if(!n)return!0;for(var i=1,a=r.length;i<a;++i){var o=t.keys[i-1],s="string"==typeof r[i]?decodeURIComponent(r[i]):r[i];o&&(n[o.name||"pathMatch"]=s)}return!0}var J=X&&window.performance&&window.performance.now?window.performance:Date;function Q(){return J.now().toFixed(3)}var tt=Q();function et(){return tt}function nt(t){return tt=t}var rt=Object.create(null);function it(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var t=window.location.protocol+"//"+window.location.host,e=window.location.href.replace(t,""),n=r({},window.history.state);return n.key=et(),window.history.replaceState(n,"",e),window.addEventListener("popstate",st),function(){window.removeEventListener("popstate",st)}}function at(t,e,n,r){if(t.app){var i=t.options.scrollBehavior;i&&t.app.$nextTick((function(){var a=function(){var t=et();if(t)return rt[t]}(),o=i.call(t,e,n,r?a:null);o&&("function"==typeof o.then?o.then((function(t){ft(t,a)})).catch((function(t){0})):ft(o,a))}))}}function ot(){var t=et();t&&(rt[t]={x:window.pageXOffset,y:window.pageYOffset})}function st(t){ot(),t.state&&t.state.key&&nt(t.state.key)}function ut(t){return ct(t.x)||ct(t.y)}function lt(t){return{x:ct(t.x)?t.x:window.pageXOffset,y:ct(t.y)?t.y:window.pageYOffset}}function ct(t){return"number"==typeof t}var ht=/^#\d/;function ft(t,e){var n,r="object"==typeof t;if(r&&"string"==typeof t.selector){var i=ht.test(t.selector)?document.getElementById(t.selector.slice(1)):document.querySelector(t.selector);if(i){var a=t.offset&&"object"==typeof t.offset?t.offset:{};e=function(t,e){var n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{x:r.left-n.left-e.x,y:r.top-n.top-e.y}}(i,a={x:ct((n=a).x)?n.x:0,y:ct(n.y)?n.y:0})}else ut(t)&&(e=lt(t))}else r&&ut(t)&&(e=lt(t));e&&window.scrollTo(e.x,e.y)}var dt,pt=X&&((-1===(dt=window.navigator.userAgent).indexOf("Android 2.")&&-1===dt.indexOf("Android 4.0")||-1===dt.indexOf("Mobile Safari")||-1!==dt.indexOf("Chrome")||-1!==dt.indexOf("Windows Phone"))&&window.history&&"function"==typeof window.history.pushState);function mt(t,e){ot();var n=window.history;try{if(e){var i=r({},n.state);i.key=et(),n.replaceState(i,"",t)}else n.pushState({key:nt(Q())},"",t)}catch(n){window.location[e?"replace":"assign"](t)}}function gt(t){mt(t,!0)}function _t(t,e,n){var r=function(i){i>=t.length?n():t[i]?e(t[i],(function(){r(i+1)})):r(i+1)};r(0)}var vt={redirected:2,aborted:4,cancelled:8,duplicated:16};function yt(t,e){return xt(t,e,vt.redirected,'Redirected when going from "'+t.fullPath+'" to "'+function(t){if("string"==typeof t)return t;if("path"in t)return t.path;var e={};return wt.forEach((function(n){n in t&&(e[n]=t[n])})),JSON.stringify(e,null,2)}(e)+'" via a navigation guard.')}function bt(t,e){return xt(t,e,vt.cancelled,'Navigation cancelled from "'+t.fullPath+'" to "'+e.fullPath+'" with a new navigation.')}function xt(t,e,n,r){var i=new Error(r);return i._isRouter=!0,i.from=t,i.to=e,i.type=n,i}var wt=["params","query","hash"];function Tt(t){return Object.prototype.toString.call(t).indexOf("Error")>-1}function St(t,e){return Tt(t)&&t._isRouter&&(null==e||t.type===e)}function Et(t){return function(e,n,r){var i=!1,a=0,o=null;Ct(t,(function(t,e,n,s){if("function"==typeof t&&void 0===t.cid){i=!0,a++;var u,l=Ot((function(e){var i;((i=e).__esModule||Mt&&"Module"===i[Symbol.toStringTag])&&(e=e.default),t.resolved="function"==typeof e?e:V.extend(e),n.components[s]=e,--a<=0&&r()})),c=Ot((function(t){var e="Failed to resolve async component "+s+": "+t;o||(o=Tt(t)?t:new Error(e),r(o))}));try{u=t(l,c)}catch(t){c(t)}if(u)if("function"==typeof u.then)u.then(l,c);else{var h=u.component;h&&"function"==typeof h.then&&h.then(l,c)}}})),i||r()}}function Ct(t,e){return At(t.map((function(t){return Object.keys(t.components).map((function(n){return e(t.components[n],t.instances[n],t,n)}))})))}function At(t){return Array.prototype.concat.apply([],t)}var Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;function Ot(t){var e=!1;return function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];if(!e)return e=!0,t.apply(this,n)}}var Dt=function(t,e){this.router=t,this.base=function(t){if(!t)if(X){var e=document.querySelector("base");t=(t=e&&e.getAttribute("href")||"/").replace(/^https?:\/\/[^\/]+/,"")}else t="/";"/"!==t.charAt(0)&&(t="/"+t);return t.replace(/\/$/,"")}(e),this.current=_,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};function Nt(t,e,n,r){var i=Ct(t,(function(t,r,i,a){var o=function(t,e){"function"!=typeof t&&(t=V.extend(t));return t.options[e]}(t,e);if(o)return Array.isArray(o)?o.map((function(t){return n(t,r,i,a)})):n(o,r,i,a)}));return At(r?i.reverse():i)}function It(t,e){if(e)return function(){return t.apply(e,arguments)}}Dt.prototype.listen=function(t){this.cb=t},Dt.prototype.onReady=function(t,e){this.ready?t():(this.readyCbs.push(t),e&&this.readyErrorCbs.push(e))},Dt.prototype.onError=function(t){this.errorCbs.push(t)},Dt.prototype.transitionTo=function(t,e,n){var r,i=this;try{r=this.router.match(t,this.current)}catch(t){throw this.errorCbs.forEach((function(e){e(t)})),t}this.confirmTransition(r,(function(){var t=i.current;i.updateRoute(r),e&&e(r),i.ensureURL(),i.router.afterHooks.forEach((function(e){e&&e(r,t)})),i.ready||(i.ready=!0,i.readyCbs.forEach((function(t){t(r)})))}),(function(t){n&&n(t),t&&!i.ready&&(i.ready=!0,St(t,vt.redirected)?i.readyCbs.forEach((function(t){t(r)})):i.readyErrorCbs.forEach((function(e){e(t)})))}))},Dt.prototype.confirmTransition=function(t,e,n){var r,i,a=this,o=this.current,s=function(t){!St(t)&&Tt(t)&&(a.errorCbs.length?a.errorCbs.forEach((function(e){e(t)})):console.error(t)),n&&n(t)},u=t.matched.length-1,l=o.matched.length-1;if(b(t,o)&&u===l&&t.matched[u]===o.matched[l])return this.ensureURL(),s(((i=xt(r=o,t,vt.duplicated,'Avoided redundant navigation to current location: "'+r.fullPath+'".')).name="NavigationDuplicated",i));var c=function(t,e){var n,r=Math.max(t.length,e.length);for(n=0;n<r&&t[n]===e[n];n++);return{updated:e.slice(0,n),activated:e.slice(n),deactivated:t.slice(n)}}(this.current.matched,t.matched),h=c.updated,f=c.deactivated,d=c.activated,p=[].concat(function(t){return Nt(t,"beforeRouteLeave",It,!0)}(f),this.router.beforeHooks,function(t){return Nt(t,"beforeRouteUpdate",It)}(h),d.map((function(t){return t.beforeEnter})),Et(d));this.pending=t;var m=function(e,n){if(a.pending!==t)return s(bt(o,t));try{e(t,o,(function(e){!1===e?(a.ensureURL(!0),s(function(t,e){return xt(t,e,vt.aborted,'Navigation aborted from "'+t.fullPath+'" to "'+e.fullPath+'" via a navigation guard.')}(o,t))):Tt(e)?(a.ensureURL(!0),s(e)):"string"==typeof e||"object"==typeof e&&("string"==typeof e.path||"string"==typeof e.name)?(s(yt(o,t)),"object"==typeof e&&e.replace?a.replace(e):a.push(e)):n(e)}))}catch(t){s(t)}};_t(p,m,(function(){var n=[];_t(function(t,e,n){return Nt(t,"beforeRouteEnter",(function(t,r,i,a){return function(t,e,n,r,i){return function(a,o,s){return t(a,o,(function(t){"function"==typeof t&&r.push((function(){!function t(e,n,r,i){n[r]&&!n[r]._isBeingDestroyed?e(n[r]):i()&&setTimeout((function(){t(e,n,r,i)}),16)}(t,e.instances,n,i)})),s(t)}))}}(t,i,a,e,n)}))}(d,n,(function(){return a.current===t})).concat(a.router.resolveHooks),m,(function(){if(a.pending!==t)return s(bt(o,t));a.pending=null,e(t),a.router.app&&a.router.app.$nextTick((function(){n.forEach((function(t){t()}))}))}))}))},Dt.prototype.updateRoute=function(t){this.current=t,this.cb&&this.cb(t)},Dt.prototype.setupListeners=function(){},Dt.prototype.teardownListeners=function(){this.listeners.forEach((function(t){t()})),this.listeners=[]};var Pt=function(t){function e(e,n){t.call(this,e,n),this._startLocation=Lt(this.base)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this;if(!(this.listeners.length>0)){var e=this.router,n=e.options.scrollBehavior,r=pt&&n;r&&this.listeners.push(it());var i=function(){var n=t.current,i=Lt(t.base);t.current===_&&i===t._startLocation||t.transitionTo(i,(function(t){r&&at(e,t,n,!0)}))};window.addEventListener("popstate",i),this.listeners.push((function(){window.removeEventListener("popstate",i)}))}},e.prototype.go=function(t){window.history.go(t)},e.prototype.push=function(t,e,n){var r=this,i=this.current;this.transitionTo(t,(function(t){mt(T(r.base+t.fullPath)),at(r.router,t,i,!1),e&&e(t)}),n)},e.prototype.replace=function(t,e,n){var r=this,i=this.current;this.transitionTo(t,(function(t){gt(T(r.base+t.fullPath)),at(r.router,t,i,!1),e&&e(t)}),n)},e.prototype.ensureURL=function(t){if(Lt(this.base)!==this.current.fullPath){var e=T(this.base+this.current.fullPath);t?mt(e):gt(e)}},e.prototype.getCurrentLocation=function(){return Lt(this.base)},e}(Dt);function Lt(t){var e=decodeURI(window.location.pathname);return t&&0===e.toLowerCase().indexOf(t.toLowerCase())&&(e=e.slice(t.length)),(e||"/")+window.location.search+window.location.hash}var Rt=function(t){function e(e,n,r){t.call(this,e,n),r&&function(t){var e=Lt(t);if(!/^\/#/.test(e))return window.location.replace(T(t+"/#"+e)),!0}(this.base)||kt()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this;if(!(this.listeners.length>0)){var e=this.router.options.scrollBehavior,n=pt&&e;n&&this.listeners.push(it());var r=function(){var e=t.current;kt()&&t.transitionTo(Bt(),(function(r){n&&at(t.router,r,e,!0),pt||jt(r.fullPath)}))},i=pt?"popstate":"hashchange";window.addEventListener(i,r),this.listeners.push((function(){window.removeEventListener(i,r)}))}},e.prototype.push=function(t,e,n){var r=this,i=this.current;this.transitionTo(t,(function(t){zt(t.fullPath),at(r.router,t,i,!1),e&&e(t)}),n)},e.prototype.replace=function(t,e,n){var r=this,i=this.current;this.transitionTo(t,(function(t){jt(t.fullPath),at(r.router,t,i,!1),e&&e(t)}),n)},e.prototype.go=function(t){window.history.go(t)},e.prototype.ensureURL=function(t){var e=this.current.fullPath;Bt()!==e&&(t?zt(e):jt(e))},e.prototype.getCurrentLocation=function(){return Bt()},e}(Dt);function kt(){var t=Bt();return"/"===t.charAt(0)||(jt("/"+t),!1)}function Bt(){var t=window.location.href,e=t.indexOf("#");if(e<0)return"";var n=(t=t.slice(e+1)).indexOf("?");if(n<0){var r=t.indexOf("#");t=r>-1?decodeURI(t.slice(0,r))+t.slice(r):decodeURI(t)}else t=decodeURI(t.slice(0,n))+t.slice(n);return t}function Ft(t){var e=window.location.href,n=e.indexOf("#");return(n>=0?e.slice(0,n):e)+"#"+t}function zt(t){pt?mt(Ft(t)):window.location.hash=t}function jt(t){pt?gt(Ft(t)):window.location.replace(Ft(t))}var Ut=function(t){function e(e,n){t.call(this,e,n),this.stack=[],this.index=-1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e,n){var r=this;this.transitionTo(t,(function(t){r.stack=r.stack.slice(0,r.index+1).concat(t),r.index++,e&&e(t)}),n)},e.prototype.replace=function(t,e,n){var r=this;this.transitionTo(t,(function(t){r.stack=r.stack.slice(0,r.index).concat(t),e&&e(t)}),n)},e.prototype.go=function(t){var e=this,n=this.index+t;if(!(n<0||n>=this.stack.length)){var r=this.stack[n];this.confirmTransition(r,(function(){e.index=n,e.updateRoute(r)}),(function(t){St(t,vt.duplicated)&&(e.index=n)}))}},e.prototype.getCurrentLocation=function(){var t=this.stack[this.stack.length-1];return t?t.fullPath:"/"},e.prototype.ensureURL=function(){},e}(Dt),Ht=function(t){void 0===t&&(t={}),this.app=null,this.apps=[],this.options=t,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=Z(t.routes||[],this);var e=t.mode||"hash";switch(this.fallback="history"===e&&!pt&&!1!==t.fallback,this.fallback&&(e="hash"),X||(e="abstract"),this.mode=e,e){case"history":this.history=new Pt(this,t.base);break;case"hash":this.history=new Rt(this,t.base,this.fallback);break;case"abstract":this.history=new Ut(this,t.base);break;default:0}},Vt={currentRoute:{configurable:!0}};function Gt(t,e){return t.push(e),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}Ht.prototype.match=function(t,e,n){return this.matcher.match(t,e,n)},Vt.currentRoute.get=function(){return this.history&&this.history.current},Ht.prototype.init=function(t){var e=this;if(this.apps.push(t),t.$once("hook:destroyed",(function(){var n=e.apps.indexOf(t);n>-1&&e.apps.splice(n,1),e.app===t&&(e.app=e.apps[0]||null),e.app||e.history.teardownListeners()})),!this.app){this.app=t;var n=this.history;if(n instanceof Pt||n instanceof Rt){var r=function(t){n.setupListeners(),function(t){var r=n.current,i=e.options.scrollBehavior;pt&&i&&"fullPath"in t&&at(e,t,r,!1)}(t)};n.transitionTo(n.getCurrentLocation(),r,r)}n.listen((function(t){e.apps.forEach((function(e){e._route=t}))}))}},Ht.prototype.beforeEach=function(t){return Gt(this.beforeHooks,t)},Ht.prototype.beforeResolve=function(t){return Gt(this.resolveHooks,t)},Ht.prototype.afterEach=function(t){return Gt(this.afterHooks,t)},Ht.prototype.onReady=function(t,e){this.history.onReady(t,e)},Ht.prototype.onError=function(t){this.history.onError(t)},Ht.prototype.push=function(t,e,n){var r=this;if(!e&&!n&&"undefined"!=typeof Promise)return new Promise((function(e,n){r.history.push(t,e,n)}));this.history.push(t,e,n)},Ht.prototype.replace=function(t,e,n){var r=this;if(!e&&!n&&"undefined"!=typeof Promise)return new Promise((function(e,n){r.history.replace(t,e,n)}));this.history.replace(t,e,n)},Ht.prototype.go=function(t){this.history.go(t)},Ht.prototype.back=function(){this.go(-1)},Ht.prototype.forward=function(){this.go(1)},Ht.prototype.getMatchedComponents=function(t){var e=t?t.matched?t:this.resolve(t).route:this.currentRoute;return e?[].concat.apply([],e.matched.map((function(t){return Object.keys(t.components).map((function(e){return t.components[e]}))}))):[]},Ht.prototype.resolve=function(t,e,n){var r=H(t,e=e||this.history.current,n,this),i=this.match(r,e),a=i.redirectedFrom||i.fullPath;return{location:r,route:i,href:function(t,e,n){var r="hash"===n?"#"+e:e;return t?T(t+"/"+r):r}(this.history.base,a,this.mode),normalizedTo:r,resolved:i}},Ht.prototype.addRoutes=function(t){this.matcher.addRoutes(t),this.history.current!==_&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(Ht.prototype,Vt),Ht.install=function t(e){if(!t.installed||V!==e){t.installed=!0,V=e;var n=function(t){return void 0!==t},r=function(t,e){var r=t.$options._parentVnode;n(r)&&n(r=r.data)&&n(r=r.registerRouteInstance)&&r(t,e)};e.mixin({beforeCreate:function(){n(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),e.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,r(this,this)},destroyed:function(){r(this)}}),Object.defineProperty(e.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(e.prototype,"$route",{get:function(){return this._routerRoot._route}}),e.component("RouterView",i),e.component("RouterLink",W);var a=e.config.optionMergeStrategies;a.beforeRouteEnter=a.beforeRouteLeave=a.beforeRouteUpdate=a.created}},Ht.version="3.4.3",Ht.isNavigationFailure=St,Ht.NavigationFailureType=vt,X&&window.Vue&&window.Vue.use(Ht),e.a=Ht},"8df4":function(t,e,n){"use strict";var r=n("7a77");function i(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new r(t),e(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var t;return{token:new i((function(e){t=e})),cancel:t}},t.exports=i},"8e99":function(t,e,n){},"8eb5":function(t,e){var n=Math.expm1,r=Math.exp;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:r(t)-1}:n},"8eb7":function(t,e){var n,r,i,a,o,s,u,l,c,h,f,d,p,m,g,_=!1;function v(){if(!_){_=!0;var t=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),v=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(d=/\b(iPhone|iP[ao]d)/.exec(t),p=/\b(iP[ao]d)/.exec(t),h=/Android/i.exec(t),m=/FBAN\/\w+;/i.exec(t),g=/Mobile/i.exec(t),f=!!/Win64/.exec(t),e){(n=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN)&&document&&document.documentMode&&(n=document.documentMode);var y=/(?:Trident\/(\d+.\d+))/.exec(t);s=y?parseFloat(y[1])+4:n,r=e[2]?parseFloat(e[2]):NaN,i=e[3]?parseFloat(e[3]):NaN,(a=e[4]?parseFloat(e[4]):NaN)?(e=/(?:Chrome\/(\d+\.\d+))/.exec(t),o=e&&e[1]?parseFloat(e[1]):NaN):o=NaN}else n=r=i=o=a=NaN;if(v){if(v[1]){var b=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);u=!b||parseFloat(b[1].replace("_","."))}else u=!1;l=!!v[2],c=!!v[3]}else u=l=c=!1}}var y={ie:function(){return v()||n},ieCompatibilityMode:function(){return v()||s>n},ie64:function(){return y.ie()&&f},firefox:function(){return v()||r},opera:function(){return v()||i},webkit:function(){return v()||a},safari:function(){return y.webkit()},chrome:function(){return v()||o},windows:function(){return v()||l},osx:function(){return v()||u},linux:function(){return v()||c},iphone:function(){return v()||d},mobile:function(){return v()||d||p||h||g},nativeApp:function(){return v()||m},android:function(){return v()||h},ipad:function(){return v()||p}};t.exports=y},"8edd":function(t,e,n){n("746f")("matchAll")},"906f":function(t){t.exports=JSON.parse('{"op":{"plus":["and","plus","+","add","on"],"minus":["minus","subtract"],"times":["times","multiply"],"divide":["divide"]},"o":{"plus":["at","in","past","late","later","after","next","from","start","starting","since","coming"],"minus":["last","minus","subtract","ago","before","from"]},"n":{"0":["zero"],"1":["one","a","an","first"],"2":["two","second"],"3":["three","third"],"4":["four","fourth"],"5":["five","fifth"],"6":["six","sixth"],"7":["seven","seventh"],"8":["eight","eighth"],"9":["nine","ninth"],"10":["ten","tenth"],"11":["eleven","eleventh"],"12":["twelve","twelveth"],"13":["thirteen","thirteenth"],"14":["fourteen","fourteenth"],"15":["fifteen","fifteenth"],"16":["sixteen","sixteenth"],"17":["seventeen","seventeenth"],"18":["eighteen","eighteenth"],"19":["nineteen","nineteenth"],"20":["twenty","twentieth"],"30":["thirty","thirtieth"],"40":["fourty","fourtieth"],"50":["fifty","fiftieth"],"60":["sixty","sixtieth"],"70":["seventy","seventieth"],"80":["eighty","eightieth"],"90":["ninety","ninetieth"],"100":["hundred","hundreds","hundredth"],"1000":["thousand","thousands","thousandth","k","K"],"0.25":["quarter"],"0.5":["half","1/2","half an"]},"t":{},"dt":{"s":["second","seconds","s","sec","secs"],"m":["minute","minutes","m","min","mins"],"h":["hour","hours","h","hr","hrs"],"d":["day","days","d","dai"],"w":["week","weeks","w","wk","wks"],"M":["month","months","monthes","M","mo","moon","moons"],"y":["year","years","y","yr","yrs"]},"T":{"t:,dt:=3h":["later","soon"],"t:=1d,dt:":["st","nd","rd","th","st day","nd day","rd day","th day"],"t:,dt:1w":["st week","nd week","rd week","th week"],"t:,dt:14d":["day","fortnight"],"t:=0h=0m=0s1mer,dt:":["pm","p.m","p.m.","noon"],"t:,dt:1d":["tomorrow","tmr"],"t:,dt:-1d":["yesterday","ytd"],"t:,0dt:":["today"],"t:=2h=0m=0s1mer,dt:":["afternoon"],"t:=6h=0m=0s0mer,dt:":["dawn"],"t:=7h=0m=0s0mer,dt:":["am","a.m","a.m."],"t:=7h=0m=0s1mer,dt:":["evening"],"t:=8h=0m=0s0mer,dt:":["morning"],"t:=9h=0m=0s1mer,dt:":["tonight","night"],"t:=0h=0m=0s0mer,dt:1d":["midnight"],"t:,dt:=0w0wd":["sunday","sun"],"t:,dt:=0w1wd":["monday","mon"],"t:,dt:=0w2wd":["tuesday","tue","tues"],"t:,dt:=0w3wd":["wednesday","wed"],"t:,dt:=0w4wd":["thursday","thu","thur","thurs"],"t:,dt:=0w5wd":["friday","fri"],"t:,dt:=0w6wd":["saturday","sat"],"t:1M=1d,dt:":["january","jan"],"t:2M=1d,dt:":["february","feb"],"t:3M=1d,dt:":["march","mar"],"t:4M=1d,dt:":["april","apr"],"t:5M=1d,dt:":["may"],"t:6M=1d,dt:":["june","jun"],"t:7M=1d,dt:":["july","jul"],"t:8M=1d,dt:":["august","aug"],"t:9M=1d,dt:":["september","sept","sep"],"t:10M=1d,dt:":["october","oct"],"t:11M=1d,dt:":["november","nov"],"t:12M=1d,dt:":["december","dec"],"t:12M25d,dt:":["christmas"]},"f":{"1":["once"],"2":["twice"]}}')},"90d7":function(t,e,n){var r=n("23e7"),i=Math.log,a=Math.LN2;r({target:"Math",stat:!0},{log2:function(t){return i(t)/a}})},"90e3":function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},9112:function(t,e,n){var r=n("83ab"),i=n("9bf2"),a=n("5c6c");t.exports=r?function(t,e,n){return i.f(t,e,a(1,n))}:function(t,e,n){return t[e]=n,t}},9129:function(t,e,n){n("23e7")({target:"Number",stat:!0},{isNaN:function(t){return t!=t}})},9141:function(t,e,n){var r=n("ef08").document;t.exports=r&&r.documentElement},"91dd":function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,a){e=e||"&",n=n||"=";var o={};if("string"!=typeof t||0===t.length)return o;var s=/\+/g;t=t.split(e);var u=1e3;a&&"number"==typeof a.maxKeys&&(u=a.maxKeys);var l=t.length;u>0&&l>u&&(l=u);for(var c=0;c<l;++c){var h,f,d,p,m=t[c].replace(s,"%20"),g=m.indexOf(n);g>=0?(h=m.substr(0,g),f=m.substr(g+1)):(h=m,f=""),d=decodeURIComponent(h),p=decodeURIComponent(f),r(o,d)?i(o[d])?o[d].push(p):o[d]=[o[d],p]:o[d]=p}return o};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},9263:function(t,e,n){"use strict";var r,i,a=n("ad6d"),o=n("9f7f"),s=RegExp.prototype.exec,u=String.prototype.replace,l=s,c=(r=/a/,i=/b*/g,s.call(r,"a"),s.call(i,"a"),0!==r.lastIndex||0!==i.lastIndex),h=o.UNSUPPORTED_Y||o.BROKEN_CARET,f=void 0!==/()??/.exec("")[1];(c||f||h)&&(l=function(t){var e,n,r,i,o=this,l=h&&o.sticky,d=a.call(o),p=o.source,m=0,g=t;return l&&(-1===(d=d.replace("y","")).indexOf("g")&&(d+="g"),g=String(t).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&"\n"!==t[o.lastIndex-1])&&(p="(?: "+p+")",g=" "+g,m++),n=new RegExp("^(?:"+p+")",d)),f&&(n=new RegExp("^"+p+"$(?!\\s)",d)),c&&(e=o.lastIndex),r=s.call(l?n:o,g),l?r?(r.input=r.input.slice(m),r[0]=r[0].slice(m),r.index=o.lastIndex,o.lastIndex+=r[0].length):o.lastIndex=0:c&&r&&(o.lastIndex=o.global?r.index+r[0].length:e),f&&r&&r.length>1&&u.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r}),t.exports=l},"92f0":function(t,e,n){var r=n("1a14").f,i=n("9c0e"),a=n("cc15")("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,a)&&r(t,a,{configurable:!0,value:e})}},"92fa":function(t,e){var n=/^(attrs|props|on|nativeOn|class|style|hook)$/;function r(t,e){return function(){t&&t.apply(this,arguments),e&&e.apply(this,arguments)}}t.exports=function(t){return t.reduce((function(t,e){var i,a,o,s,u;for(o in e)if(i=t[o],a=e[o],i&&n.test(o))if("class"===o&&("string"==typeof i&&(u=i,t[o]=i={},i[u]=!0),"string"==typeof a&&(u=a,e[o]=a={},a[u]=!0)),"on"===o||"nativeOn"===o||"hook"===o)for(s in a)i[s]=r(i[s],a[s]);else if(Array.isArray(i))t[o]=i.concat(a);else if(Array.isArray(a))t[o]=[i].concat(a);else for(s in a)i[s]=a[s];else t[o]=e[o];return t}),{})}},"944a":function(t,e,n){n("746f")("toStringTag")},9483:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r;function i(t,e){void 0===e&&(e={});var n=e.registrationOptions;void 0===n&&(n={}),delete e.registrationOptions;var i=function(t){for(var n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];e&&e[t]&&e[t].apply(e,n)};"serviceWorker"in navigator&&r.then((function(){Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))?(!function(t,e,n){fetch(t).then((function(r){404===r.status?(e("error",new Error("Service worker not found at "+t)),s()):-1===r.headers.get("content-type").indexOf("javascript")?(e("error",new Error("Expected "+t+" to have javascript content-type, but received "+r.headers.get("content-type"))),s()):o(t,e,n)})).catch((function(t){return a(e,t)}))}(t,i,n),navigator.serviceWorker.ready.then((function(t){i("ready",t)}))):(o(t,i,n),navigator.serviceWorker.ready.then((function(t){i("ready",t)})))}))}function a(t,e){navigator.onLine||t("offline"),t("error",e)}function o(t,e,n){navigator.serviceWorker.register(t,n).then((function(t){e("registered",t),t.waiting?e("updated",t):t.onupdatefound=function(){e("updatefound",t);var n=t.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?e("updated",t):e("cached",t))}}})).catch((function(t){return a(e,t)}))}function s(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}"undefined"!=typeof window&&(r="undefined"!=typeof Promise?new Promise((function(t){return window.addEventListener("load",t)})):{then:function(t){return window.addEventListener("load",t)}})},"94ca":function(t,e,n){var r=n("d039"),i=/#|\.prototype\./,a=function(t,e){var n=s[o(t)];return n==l||n!=u&&("function"==typeof e?r(e):!!e)},o=a.normalize=function(t){return String(t).replace(i,".").toLowerCase()},s=a.data={},u=a.NATIVE="N",l=a.POLYFILL="P";t.exports=a},9597:function(t,e,n){t.exports=n.p+"img/model.8494d03a.png"},9619:function(t,e,n){var r=n("597f"),i=n("0e15");t.exports={throttle:r,debounce:i}},"96cf":function(t,e,n){var r=function(t){"use strict";var e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),o=new T(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return E()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=b(o,n);if(s){if(s===c)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===c)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,o),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var c={};function h(){}function f(){}function d(){}var p={};p[i]=function(){return this};var m=Object.getPrototypeOf,g=m&&m(m(S([])));g&&g!==e&&n.call(g,i)&&(p=g);var _=d.prototype=h.prototype=Object.create(p);function v(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function y(t,e){var r;this._invoke=function(i,a){function o(){return new e((function(r,o){!function r(i,a,o,s){var u=l(t[i],t,a);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"==typeof h&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,o,s)}),(function(t){r("throw",t,o,s)})):e.resolve(h).then((function(t){c.value=t,o(c)}),(function(t){return r("throw",t,o,s)}))}s(u.arg)}(i,a,r,o)}))}return r=r?r.then(o,o):o()}}function b(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return c;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,c;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,c):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,c)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:E}}function E(){return{value:void 0,done:!0}}return f.prototype=_.constructor=d,d.constructor=f,f.displayName=s(d,o,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,o,"GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},v(y.prototype),y.prototype[a]=function(){return this},t.AsyncIterator=y,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new y(u(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},v(_),s(_,o,"Generator"),_[i]=function(){return this},_.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=S,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return o.type="throw",o.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,c):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),c},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),c}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;w(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},9740:function(t,e,n){},9742:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},9767:function(t,e,n){"use strict";var r=n("23e7"),i=n("857a");r({target:"String",proto:!0,forced:n("af03")("fontcolor")},{fontcolor:function(t){return i(this,"font","color",t)}})},9861:function(t,e,n){"use strict";n("e260");var r=n("23e7"),i=n("d066"),a=n("0d3b"),o=n("6eeb"),s=n("e2cc"),u=n("d44e"),l=n("9ed3"),c=n("69f3"),h=n("19aa"),f=n("5135"),d=n("0366"),p=n("f5df"),m=n("825a"),g=n("861d"),_=n("7c73"),v=n("5c6c"),y=n("9a1f"),b=n("35a1"),x=n("b622"),w=i("fetch"),T=i("Headers"),S=x("iterator"),E=c.set,C=c.getterFor("URLSearchParams"),A=c.getterFor("URLSearchParamsIterator"),M=/\+/g,O=Array(4),D=function(t){return O[t-1]||(O[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},N=function(t){try{return decodeURIComponent(t)}catch(e){return t}},I=function(t){var e=t.replace(M," "),n=4;try{return decodeURIComponent(e)}catch(t){for(;n;)e=e.replace(D(n--),N);return e}},P=/[!'()~]|%20/g,L={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},R=function(t){return L[t]},k=function(t){return encodeURIComponent(t).replace(P,R)},B=function(t,e){if(e)for(var n,r,i=e.split("&"),a=0;a<i.length;)(n=i[a++]).length&&(r=n.split("="),t.push({key:I(r.shift()),value:I(r.join("="))}))},F=function(t){this.entries.length=0,B(this.entries,t)},z=function(t,e){if(t<e)throw TypeError("Not enough arguments")},j=l((function(t,e){E(this,{type:"URLSearchParamsIterator",iterator:y(C(t).entries),kind:e})}),"Iterator",(function(){var t=A(this),e=t.kind,n=t.iterator.next(),r=n.value;return n.done||(n.value="keys"===e?r.key:"values"===e?r.value:[r.key,r.value]),n})),U=function(){h(this,U,"URLSearchParams");var t,e,n,r,i,a,o,s,u,l=arguments.length>0?arguments[0]:void 0,c=this,d=[];if(E(c,{type:"URLSearchParams",entries:d,updateURL:function(){},updateSearchParams:F}),void 0!==l)if(g(l))if("function"==typeof(t=b(l)))for(n=(e=t.call(l)).next;!(r=n.call(e)).done;){if((o=(a=(i=y(m(r.value))).next).call(i)).done||(s=a.call(i)).done||!a.call(i).done)throw TypeError("Expected sequence with length 2");d.push({key:o.value+"",value:s.value+""})}else for(u in l)f(l,u)&&d.push({key:u,value:l[u]+""});else B(d,"string"==typeof l?"?"===l.charAt(0)?l.slice(1):l:l+"")},H=U.prototype;s(H,{append:function(t,e){z(arguments.length,2);var n=C(this);n.entries.push({key:t+"",value:e+""}),n.updateURL()},delete:function(t){z(arguments.length,1);for(var e=C(this),n=e.entries,r=t+"",i=0;i<n.length;)n[i].key===r?n.splice(i,1):i++;e.updateURL()},get:function(t){z(arguments.length,1);for(var e=C(this).entries,n=t+"",r=0;r<e.length;r++)if(e[r].key===n)return e[r].value;return null},getAll:function(t){z(arguments.length,1);for(var e=C(this).entries,n=t+"",r=[],i=0;i<e.length;i++)e[i].key===n&&r.push(e[i].value);return r},has:function(t){z(arguments.length,1);for(var e=C(this).entries,n=t+"",r=0;r<e.length;)if(e[r++].key===n)return!0;return!1},set:function(t,e){z(arguments.length,1);for(var n,r=C(this),i=r.entries,a=!1,o=t+"",s=e+"",u=0;u<i.length;u++)(n=i[u]).key===o&&(a?i.splice(u--,1):(a=!0,n.value=s));a||i.push({key:o,value:s}),r.updateURL()},sort:function(){var t,e,n,r=C(this),i=r.entries,a=i.slice();for(i.length=0,n=0;n<a.length;n++){for(t=a[n],e=0;e<n;e++)if(i[e].key>t.key){i.splice(e,0,t);break}e===n&&i.push(t)}r.updateURL()},forEach:function(t){for(var e,n=C(this).entries,r=d(t,arguments.length>1?arguments[1]:void 0,3),i=0;i<n.length;)r((e=n[i++]).value,e.key,this)},keys:function(){return new j(this,"keys")},values:function(){return new j(this,"values")},entries:function(){return new j(this,"entries")}},{enumerable:!0}),o(H,S,H.entries),o(H,"toString",(function(){for(var t,e=C(this).entries,n=[],r=0;r<e.length;)t=e[r++],n.push(k(t.key)+"="+k(t.value));return n.join("&")}),{enumerable:!0}),u(U,"URLSearchParams"),r({global:!0,forced:!a},{URLSearchParams:U}),a||"function"!=typeof w||"function"!=typeof T||r({global:!0,enumerable:!0,forced:!0},{fetch:function(t){var e,n,r,i=[t];return arguments.length>1&&(g(e=arguments[1])&&(n=e.body,"URLSearchParams"===p(n)&&((r=e.headers?new T(e.headers):new T).has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),e=_(e,{body:v(0,String(n)),headers:v(0,r)}))),i.push(e)),w.apply(this,i)}}),t.exports={URLSearchParams:U,getState:C}},9876:function(t,e,n){var r=n("03d6"),i=n("9742");t.exports=Object.keys||function(t){return r(t,i)}},9911:function(t,e,n){"use strict";var r=n("23e7"),i=n("857a");r({target:"String",proto:!0,forced:n("af03")("link")},{link:function(t){return i(this,"a","href",t)}})},"99af":function(t,e,n){"use strict";var r=n("23e7"),i=n("d039"),a=n("e8b5"),o=n("861d"),s=n("7b0b"),u=n("50c4"),l=n("8418"),c=n("65f0"),h=n("1dde"),f=n("b622"),d=n("2d00"),p=f("isConcatSpreadable"),m=d>=51||!i((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),g=h("concat"),_=function(t){if(!o(t))return!1;var e=t[p];return void 0!==e?!!e:a(t)};r({target:"Array",proto:!0,forced:!m||!g},{concat:function(t){var e,n,r,i,a,o=s(this),h=c(o,0),f=0;for(e=-1,r=arguments.length;e<r;e++)if(_(a=-1===e?o:arguments[e])){if(f+(i=u(a.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<i;n++,f++)n in a&&l(h,f,a[n])}else{if(f>=9007199254740991)throw TypeError("Maximum allowed index exceeded");l(h,f++,a)}return h.length=f,h}})},"99bb":function(module,exports,__webpack_require__){__webpack_require__("a4d3"),__webpack_require__("e01a"),__webpack_require__("d28b"),__webpack_require__("944a"),__webpack_require__("99af"),__webpack_require__("cb29"),__webpack_require__("4de4"),__webpack_require__("7db0"),__webpack_require__("4160"),__webpack_require__("a630"),__webpack_require__("caad"),__webpack_require__("c975"),__webpack_require__("a15b"),__webpack_require__("d81d"),__webpack_require__("13d5"),__webpack_require__("fb6a"),__webpack_require__("a434"),__webpack_require__("b0c0"),__webpack_require__("0c47"),__webpack_require__("4ec9"),__webpack_require__("23dc"),__webpack_require__("a9e3"),__webpack_require__("9129"),__webpack_require__("b680"),__webpack_require__("b64b"),__webpack_require__("d3b7"),__webpack_require__("4d63"),__webpack_require__("ac1f"),__webpack_require__("25f0"),__webpack_require__("2532"),__webpack_require__("3ca3"),__webpack_require__("466d"),__webpack_require__("5319"),__webpack_require__("1276"),__webpack_require__("498a"),__webpack_require__("159b"),__webpack_require__("ddb0"),__webpack_require__("a4d3"),__webpack_require__("e01a"),__webpack_require__("d28b"),__webpack_require__("944a"),__webpack_require__("99af"),__webpack_require__("cb29"),__webpack_require__("4de4"),__webpack_require__("7db0"),__webpack_require__("4160"),__webpack_require__("a630"),__webpack_require__("caad"),__webpack_require__("c975"),__webpack_require__("e260"),__webpack_require__("a15b"),__webpack_require__("d81d"),__webpack_require__("13d5"),__webpack_require__("fb6a"),__webpack_require__("a434"),__webpack_require__("b0c0"),__webpack_require__("0c47"),__webpack_require__("4ec9"),__webpack_require__("23dc"),__webpack_require__("a9e3"),__webpack_require__("9129"),__webpack_require__("b680"),__webpack_require__("cca6"),__webpack_require__("b64b"),__webpack_require__("d3b7"),__webpack_require__("4d63"),__webpack_require__("ac1f"),__webpack_require__("25f0"),__webpack_require__("2532"),__webpack_require__("3ca3"),__webpack_require__("466d"),__webpack_require__("5319"),__webpack_require__("1276"),__webpack_require__("498a"),__webpack_require__("159b"),__webpack_require__("ddb0");var _typeof2=__webpack_require__("7037"),canvasDatagrid=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===_typeof2(t)&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="./lib/main.js")}({"./lib/component.js":
/*!**************************!*\
    !*** ./lib/component.js ***!
    \**************************/
/*! no static exports found */
function libComponentJs(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(
/*! ./defaults */
"./lib/defaults.js")],__WEBPACK_AMD_DEFINE_RESULT__=function(defaults){"use strict";return function(){var typeMap,component={};function getDefaultItem(t,e){var n={};return defaults(n),n.defaults[t].filter((function(t){return t[0].toLowerCase()===e.toLowerCase()||component.hyphenateProperty(t[0])===e.toLowerCase()||component.hyphenateProperty(t[0],!0)===e.toLowerCase()}))[0]}return component.dehyphenateProperty=function(t){t=t.replace("--cdg-","");var e,n="";return Array.prototype.forEach.call(t,(function(t){if(e)return e=!1,void(n+=t.toUpperCase());"-"!==t?n+=t:e=!0})),n},component.hyphenateProperty=function(t,e){var n="";return Array.prototype.forEach.call(t,(function(t){t!==t.toUpperCase()?n+=t:n+="-"+t.toLowerCase()})),(e?"--cdg-":"")+n},component.applyComponentStyle=function(t,e){if(e.isComponent){var n=window.getComputedStyle("CANVAS-DATAGRID"===e.tagName?e:e.canvas,null),r={};e.computedStyle=n,defaults(r),(r=r.defaults.styles).forEach((function(t){var r;""===(r=n.getPropertyValue(component.hyphenateProperty(t[0],!0)))&&(r=n.getPropertyValue(component.hyphenateProperty(t[0],!1))),""!==r&&"string"==typeof r&&e.setStyleProperty(t[0],typeMap[_typeof(t[1])](r.replace(/^\s+/,"").replace(/\s+$/,""),t[1]),!0)})),!t&&e.dispatchEvent&&(requestAnimationFrame((function(){e.resize(!0)})),e.dispatchEvent("stylechanged",e.style))}},typeMap={data:function(t){try{return JSON.parse(t)}catch(t){throw new Error("Cannot read JSON data in canvas-datagrid data.")}},schema:function(t){try{return JSON.parse(t)}catch(t){throw new Error("Cannot read JSON data in canvas-datagrid schema attribute.")}},number:function(t,e){var n=parseInt(t,10);return isNaN(n)?e:n},boolean:function(t){return/true/i.test(t)},string:function(t){return t}},component.getObservableAttributes=function(){var t={},e=["data","schema","style","className","name"];return defaults(t),t.defaults.attributes.forEach((function(t){e.push(t[0].toLowerCase())})),e},component.disconnectedCallback=function(){this.connected=!1},component.connectedCallback=function(){this.parentDOMNode.innerHTML="",this.parentDOMNode.appendChild(this.canvas),this.connected=!0,component.observe(this),component.applyComponentStyle(!0,this),this.resize(!0)},component.adoptedCallback=function(){this.resize()},component.attributeChangedCallback=function(attrName,oldVal,newVal){var tfn,intf=this,def;if("style"!==attrName){if("data"===attrName)return"application/x-canvas-datagrid"===intf.dataType&&(intf.dataType="application/json+x-canvas-datagrid"),void(intf.data=newVal);if("schema"!==attrName)if("name"!==attrName){if("class"!==attrName&&"className"!==attrName){if(def=getDefaultItem("attributes",attrName),def)return tfn=typeMap[_typeof(def[1])],void(intf.attributes[def[0]]=tfn(newVal));/^on/.test(attrName)&&intf.addEventListener("on"+attrName,(function(e){eval(newVal)}))}}else intf.name=newVal;else intf.schema=typeMap.schema(newVal)}else component.applyComponentStyle(!1,intf)},component.observe=function(t){var e;window.MutationObserver&&(t.applyComponentStyle=function(){component.applyComponentStyle(!1,t),t.resize()},(e=new window.MutationObserver((function(e){var n,r;Array.prototype.forEach.call(e,(function(e){"class"!==e.attributeName&&"style"!==e.attributeName&&"STYLE"!==e.target.nodeName?e.target.parentNode&&"STYLE"===e.target.parentNode.nodeName?r=!0:e.target===t&&(e.addedNodes.length>0||"characterData"===e.type)&&(n=!0):r=!0})),r&&t.applyComponentStyle(!1,t),n&&("application/x-canvas-datagrid"===t.dataType&&(t.dataType="application/json+x-canvas-datagrid"),t.data=t.innerHTML)}))).observe(t,{characterData:!0,childList:!0,attributes:!0,subtree:!0}),Array.prototype.forEach.call(document.querySelectorAll("style"),(function(t){e.observe(t,{characterData:!0,childList:!0,attributes:!0,subtree:!0})})))},component}}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"./lib/contextMenu.js":
/*!****************************!*\
    !*** ./lib/contextMenu.js ***!
    \****************************/
/*! no static exports found */
function(t,e,n){var r;function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}void 0===(r=function(){"use strict";return function(t){var e,n,r;function a(e){t.createInlineStyle(e,"canvas-datagrid-context-menu-item"+(t.mobile?"-mobile":"")),e.addEventListener("mouseover",(function(){t.createInlineStyle(e,"canvas-datagrid-context-menu-item:hover")})),e.addEventListener("mouseout",(function(){t.createInlineStyle(e,"canvas-datagrid-context-menu-item")}))}function o(r,s,u,l){var c,h,f,d=document.createElement("div"),p=document.createElement("div"),m=document.createElement("div"),g=[],_=-1,v={};if(!Array.isArray(u))throw new Error("createContextMenu expects an array.");function y(){d.scrollTop>0?t.parentDOMNode.appendChild(p):p.parentNode&&p.parentNode.removeChild(p),d.scrollTop>=d.scrollHeight-d.offsetHeight&&m.parentNode?m.parentNode.removeChild(m):d.scrollHeight-d.offsetHeight>0&&!(d.scrollTop>=d.scrollHeight-d.offsetHeight)&&t.parentDOMNode.appendChild(m)}function b(e){return function r(){var i=t.attributes.contextHoverScrollAmount;"up"===e&&0===d.scrollTop||"down"===e&&d.scrollTop===d.scrollHeight||(d.scrollTop+="up"===e?-i:i,n=setTimeout(r,t.attributes.contextHoverScrollRateMs,e))}}function x(t){return function(){clearTimeout(n)}}return v.parentGrid=t.intf,v.parentContextMenu=l,v.container=d,h={},f=t.scrollOffset(t.canvas),void 0===e&&(e=t.style.contextMenuZIndex),u.forEach((function(e){var n,s=document.createElement("div");function u(t){t.relatedTarget===d||e.contextMenu.container===t.relatedTarget||n===t.relatedTarget||s===t.relatedTarget||e.contextMenu.container.contains(t.relatedTarget)||(e.contextMenu.dispose(),g.splice(g.indexOf(e.contextMenu),1),e.contextMenu=void 0,s.removeEventListener("mouseout",u),d.removeEventListener("mouseout",u),s.setAttribute("contextOpen","0"),s.setAttribute("opening","0"))}function l(n){if("1"===s.getAttribute("opening")&&"1"!==s.getAttribute("contextOpen")){var i=s.getBoundingClientRect();i={left:i.left+t.style.childContextMenuMarginLeft+d.offsetWidth,top:i.top+t.style.childContextMenuMarginTop,bottom:i.bottom,right:i.right},e.contextMenu=o(r,i,n,v),s.setAttribute("contextOpen","1"),s.addEventListener("mouseout",u),d.addEventListener("mouseout",u),g.push(e.contextMenu)}}function c(){var t;"1"!==s.getAttribute("contextOpen")&&(s.setAttribute("opening","1"),"function"!=typeof e.items?l(e.items):void 0!==(t=e.items.apply(v,[function(t){l(t)}]))&&Array.isArray(t)&&l(t))}!function(e){!function t(e){if(null!==e)return"function"==typeof e?t(e(r)):void("object"!==i(e)?(a(s),s.innerHTML=e):s.appendChild(e))}(e.title),e.contextItemContainer=s,(e.items&&e.items.length>0||"function"==typeof e.items)&&(n=document.createElement("div"),t.createInlineStyle(n,"canvas-datagrid-context-child-arrow"),n.innerHTML=t.style.childContextMenuArrowHTML,s.appendChild(n),s.addEventListener("mouseover",c),s.addEventListener("mouseout",(function(){s.setAttribute("opening","0")}))),e.click&&s.addEventListener("click",(function(n){e.click.apply(t,[n])}))}(e),d.appendChild(s)})),t.createInlineStyle(d,"canvas-datagrid-context-menu"+(t.mobile?"-mobile":"")),h.x=s.left-f.left,h.y=s.top-f.top,h.height=0,e+=1,d.style.position="absolute",p.style.color=t.style.contextMenuArrowColor,m.style.color=t.style.contextMenuArrowColor,[p,m].forEach((function(t){t.style.textAlign="center",t.style.position="absolute",t.style.zIndex=e+1})),d.style.zIndex=e,l&&l.inputDropdown&&(d.style.maxHeight=window.innerHeight-h.y-t.style.autocompleteBottomMargin+"px",d.style.minWidth=s.width+"px",h.y+=s.height),t.mobile&&(d.style.width=s.width+"px"),d.style.left=h.x+"px",d.style.top=h.y+"px",d.addEventListener("scroll",y),d.addEventListener("wheel",(function(e){t.hasFocus&&(d.scrollTop+=e.deltaY,d.scrollLeft+=e.deltaX),y()})),p.innerHTML=t.style.contextMenuArrowUpHTML,m.innerHTML=t.style.contextMenuArrowDownHTML,d.appendChild(p),document.body.appendChild(m),document.body.appendChild(d),(c=d.getBoundingClientRect()).bottom>window.innerHeight&&(l&&l.inputDropdown||(h.y-=c.bottom+t.style.contextMenuWindowMargin-window.innerHeight),h.y<0&&(h.y=t.style.contextMenuWindowMargin),d.offsetHeight>window.innerHeight-t.style.contextMenuWindowMargin&&(d.style.height=window.innerHeight-2*t.style.contextMenuWindowMargin+"px")),c.right>window.innerWidth&&(h.x-=c.right-window.innerWidth+t.style.contextMenuWindowMargin),h.x<0&&(h.x=t.style.contextMenuWindowMargin),h.y<0&&(h.y=t.style.contextMenuWindowMargin),d.style.left=h.x+"px",d.style.top=h.y+"px",c=d.getBoundingClientRect(),p.style.top=c.top+"px",m.style.top=c.top+c.height-m.offsetHeight+"px",p.style.left=c.left+"px",m.style.left=c.left+"px",m.style.width=d.offsetWidth+"px",p.style.width=d.offsetWidth+"px",m.addEventListener("mouseover",b("down")),m.addEventListener("mouseout",x()),p.addEventListener("mouseover",b("up")),p.addEventListener("mouseout",x()),y(),v.clickIndex=function(t){u[t].contextItemContainer.dispatchEvent(new Event("click"))},v.rect=c,v.items=u,v.upArrow=p,v.downArrow=m,v.dispose=function(){clearTimeout(n),g.forEach((function(t){t.dispose()})),[m,p,d].forEach((function(t){t.parentNode&&t.parentNode.removeChild(t)}))},Object.defineProperty(v,"selectedIndex",{get:function(){return _},set:function(e){if("number"!=typeof e||isNaN(e||!isFinite(e)))throw new Error("Context menu selected index must be a sane number.");(_=e)>u.length-1&&(_=u.length-1),_<0&&(_=0),u.forEach((function(e,n){if(n===_)return t.createInlineStyle(e.contextItemContainer,"canvas-datagrid-context-menu-item:hover");t.createInlineStyle(e.contextItemContainer,"canvas-datagrid-context-menu-item")}))}}),v}function s(e){var n,i=document.createElement("div"),a=document.createElement("div"),s=document.createElement("button"),u=document.createElement("input"),l=e.cell&&e.cell.header?e.cell.header.title||e.cell.header.name:"";function c(){u.style.background=t.style.contextFilterInputBackground,u.style.color=t.style.contextFilterInputColor,t.invalidFilterRegEx&&(u.style.background=t.style.contextFilterInvalidRegExpBackground,u.style.color=t.style.contextFilterInvalidRegExpColor)}function h(i){if(!i||!["ArrowDown","ArrowUp","Enter","Tab"].includes(i.key)){var a,s,l,c=(a=0,s={},l=[],t.data.forEach((function(n){var r=null==n[e.cell.header.name]?n[e.cell.header.name]:String(n[e.cell.header.name]).trim(),i=t.blankValues.includes(r)?t.attributes.blanksText:r;s[i]||a>t.attributes.maxAutoCompleteItems||(a+=1,s[i]={title:t.formatters[e.cell.header.type||"string"]({cell:{value:i}}),click:function(e){u.value=i,e.stopPropagation(),u.dispatchEvent(new Event("keyup")),t.disposeAutocomplete()}})})),-1!==Object.keys(s).indexOf(t.attributes.blanksText)&&(l.push(s[t.attributes.blanksText]),delete s[t.attributes.blanksText]),l.concat(Object.keys(s).map((function(t){return s[t]}))));n=u.getBoundingClientRect(),r&&(r.dispose(),r=void 0),(r=o(e,{left:n.left,top:n.top,right:n.right,bottom:n.bottom,height:n.height,width:n.width},c,{inputDropdown:!0})).selectedIndex=0}}t.createInlineStyle(a,"canvas-datagrid-context-menu-label"),t.createInlineStyle(s,"canvas-datagrid-context-menu-filter-button"),t.createInlineStyle(u,"canvas-datagrid-context-menu-filter-input"),c(),u.onclick=t.disposeAutocomplete,u.addEventListener("keydown",(function(e){"ArrowDown"===e.key&&(r.selectedIndex+=1),"ArrowUp"===e.key&&(r.selectedIndex-=1),"Enter"===e.key&&(r.clickIndex(r.selectedIndex),t.disposeContextMenu()),"Tab"===e.key&&(r.clickIndex(r.selectedIndex),e.preventDefault()),"Escape"===e.key&&t.disposeContextMenu()})),u.addEventListener("keyup",(function(){t.setFilter(e.cell.header.name,u.value)})),u.addEventListener("keyup",h),["focus","blur","keydown","keyup","change"].forEach((function(t){u.addEventListener(t,c)})),u.value=e.cell.header&&t.columnFilters[e.cell.header.name]||"",a.innerHTML=t.attributes.filterOptionText.replace(/%s/g,l),s.onclick=function(){if(r)return t.disposeAutocomplete();h()},s.innerHTML=t.style.contextFilterButtonHTML,i.addEventListener("click",(function(t){return t.stopPropagation()})),i.appendChild(a),i.appendChild(u),i.appendChild(s),e.items.push({title:i}),Object.keys(t.columnFilters).length&&Object.keys(t.columnFilters).forEach((function(n){var r=t.getHeaderByName(n);e.items.push({title:t.attributes.removeFilterOptionText.replace(/%s/g,r.title||r.name),click:function(e){e.preventDefault(),t.setFilter(n,""),t.controlInput.focus()}})}))}t.disposeAutocomplete=function(){r&&(r.dispose(),r=void 0)},t.disposeContextMenu=function(){document.removeEventListener("click",t.disposeContextMenu),e=t.style.contextMenuZIndex,t.disposeAutocomplete(),t.contextMenu&&t.contextMenu.dispose(),t.contextMenu=void 0},t.contextmenuEvent=function(e,n){if(t.hasFocus||e.target===t.canvas){var r,i=[],u=n||t.getLayerPos(e),l={NativeEvent:e,cell:t.getCellAt(u.x,u.y),items:i};l.cell.isGrid||function(e){var n=!(e.cell.isBackground||e.cell.isColumnHeaderCellCap||e.cell.isScrollBar||e.cell.isCorner||e.cell.isRowHeader)&&e.cell.header;t.attributes.showFilter&&n&&s(e),t.attributes.showCopy&&t.selections.reduce((function(t,e){return t+e.length}),0)>0&&e.items.push({title:t.attributes.copyText,click:function(){document.execCommand("copy"),t.disposeContextMenu(),t.controlInput.focus()}}),t.attributes.showPaste&&t.clipBoardData&&e.items.push({title:t.attributes.pasteText,click:function(){t.paste(t.clipBoardData,e.cell.columnIndex,e.cell.rowIndex),t.draw()}}),t.attributes.showColumnSelector&&(e.items.push({title:t.attributes.columnSelectorText,items:function(){var e=[];return t.getSchema().forEach((function(n){function r(e){n.hidden=!n.hidden,t.dispatchEvent("togglecolumn",{column:n,hidden:n.hidden}),e.preventDefault(),t.stopPropagation(e),t.disposeContextMenu(),t.resize(!0),t.setStorageData()}var i=document.createElement("div");a(i),i.addEventListener("touchstart",r),i.addEventListener("click",r),i.innerHTML=(n.hidden?t.attributes.columnSelectorHiddenText:t.attributes.columnSelectorVisibleText)+(n.title||n.name),e.push({title:i})})),e}}),e.cell&&e.cell.header&&e.cell.columnIndex>-1&&e.items.push({title:t.attributes.hideColumnText.replace(/%s/gi,e.cell.header.title||e.cell.header.name),click:function(n){t.getSchema()[e.cell.columnIndex].hidden=!0,n.preventDefault(),t.stopPropagation(n),t.disposeContextMenu(),t.setStorageData(),setTimeout((function(){t.resize(!0)}),10)}})),t.attributes.saveAppearance&&t.attributes.showClearSettingsOption&&(Object.keys(t.sizes.rows).length>0||Object.keys(t.sizes.columns).length>0)&&e.items.push({title:t.attributes.clearSettingsOptionText,click:function(e){e.preventDefault(),t.sizes.rows={},t.sizes.columns={},t.createRowOrders(),t.createColumnOrders(),t.storedSettings=void 0,t.dispatchEvent("resizecolumn",{columnWidth:t.style.cellWidth}),t.dispatchEvent("resizerow",{cellHeight:t.style.cellHeight}),t.setStorageData(),t.resize(!0),t.disposeContextMenu(),t.controlInput.focus()}}),t.attributes.allowSorting&&t.attributes.showOrderByOption&&n&&(e.items.push({title:t.attributes.showOrderByOptionTextAsc.replace("%s",e.cell.header.title||e.cell.header.name),click:function(n){n.preventDefault(),t.order(e.cell.header.name,"asc"),t.controlInput.focus()}}),e.items.push({title:t.attributes.showOrderByOptionTextDesc.replace("%s",e.cell.header.title||e.cell.header.name),click:function(n){n.preventDefault(),t.order(e.cell.header.name,"desc"),t.disposeContextMenu(),t.controlInput.focus()}}))}(l),t.dispatchEvent("contextmenu",l)||l.cell.isGrid||(t.contextMenu&&t.disposeContextMenu(),r={left:u.x+u.rect.left+t.style.contextMenuMarginLeft+t.canvasOffsetLeft,top:u.y+u.rect.top+t.style.contextMenuMarginTop+t.canvasOffsetTop,right:l.cell.width+l.cell.x+u.rect.left,bottom:l.cell.height+l.cell.y+u.rect.top,height:l.cell.height,width:l.cell.width},t.mobile&&(r.left=t.style.mobileContextMenuMargin+"px",r.width=t.width-2*t.style.mobileContextMenuMargin+"px"),t.contextMenu=o(l,r,i),document.addEventListener("mouseup",(function e(){requestAnimationFrame((function(){document.addEventListener("click",t.disposeContextMenu),document.removeEventListener("mouseup",e)}))})),e.preventDefault())}}}}.apply(e,[]))||(t.exports=r)},"./lib/defaults.js":
/*!*************************!*\
    !*** ./lib/defaults.js ***!
    \*************************/
/*! no static exports found */
function(t,e,n){var r;void 0===(r=function(){"use strict";return function(t){t.defaults={attributes:[["allowColumnReordering",!0],["allowColumnResize",!0],["allowColumnResizeFromCell",!1],["allowFreezingRows",!1],["allowFreezingColumns",!1],["allowMovingSelection",!0],["allowRowHeaderResize",!0],["allowRowReordering",!1],["allowRowResize",!0],["allowRowResizeFromCell",!1],["allowSorting",!0],["autoGenerateSchema",!1],["autoResizeColumns",!1],["autoResizeRows",!1],["blanksText","(Blanks)"],["borderDragBehavior","none"],["borderResizeZone",10],["clearSettingsOptionText","Clear saved settings"],["columnHeaderClickBehavior","sort"],["columnSelectorHiddenText","&nbsp;&nbsp;&nbsp;"],["columnSelectorText","Add/Remove columns"],["columnSelectorVisibleText","✓"],["contextHoverScrollAmount",2],["contextHoverScrollRateMs",5],["copyHeadersOnSelectAll",!0],["copyText","Copy"],["debug",!1],["editable",!0],["ellipsisText","..."],["filterOptionText","Filter %s"],["filterTextPrefix","(filtered) "],["globalRowResize",!1],["hideColumnText","Hide %s"],["maxAutoCompleteItems",200],["multiLine",!1],["name",""],["pageUpDownOverlap",1],["pasteText","Paste"],["persistantSelectionMode",!1],["removeFilterOptionText","Remove filter on %s"],["reorderDeadZone",3],["resizeScrollZone",20],["rowGrabZoneSize",5],["saveAppearance",!0],["scrollAnimationPPSThreshold",.75],["scrollPointerLock",!1],["scrollRepeatRate",75],["selectionFollowsActiveCell",!1],["selectionHandleBehavior","none"],["selectionMode","cell"],["selectionScrollIncrement",20],["selectionScrollZone",20],["showClearSettingsOption",!0],["showColumnHeaders",!0],["showColumnSelector",!0],["showCopy",!1],["showFilter",!0],["showNewRow",!1],["showOrderByOption",!0],["showOrderByOptionTextAsc","Order by %s ascending"],["showOrderByOptionTextDesc","Order by %s descending"],["showPaste",!1],["showPerformance",!1],["showRowHeaders",!0],["showRowNumbers",!0],["singleSelectionMode",!1],["snapToRow",!1],["touchContextMenuTimeMs",800],["touchDeadZone",3],["touchEasingMethod","easeOutQuad"],["touchReleaseAcceleration",1e3],["touchReleaseAnimationDurationMs",2e3],["touchScrollZone",20],["touchSelectHandleZone",20],["touchZoomSensitivity",.005],["touchZoomMin",.5],["touchZoomMax",1.75],["maxPixelRatio",2],["tree",!1],["treeHorizontalScroll",!1]],styles:[["activeCellBackgroundColor","rgba(255, 255, 255, 1)"],["activeCellBorderColor","rgba(110, 168, 255, 1)"],["activeCellBorderWidth",1],["activeCellColor","rgba(0, 0, 0, 1)"],["activeCellFont","16px sans-serif"],["activeCellHoverBackgroundColor","rgba(255, 255, 255, 1)"],["activeCellHorizontalAlignment","left"],["activeCellHoverColor","rgba(0, 0, 0, 1)"],["activeCellOverlayBorderColor","rgba(66, 133, 244, 1)"],["activeCellOverlayBorderWidth",1],["activeCellPaddingBottom",5],["activeCellPaddingLeft",5],["activeCellPaddingRight",5],["activeCellPaddingTop",5],["activeCellSelectedBackgroundColor","rgba(236, 243, 255, 1)"],["activeCellSelectedColor","rgba(0, 0, 0, 1)"],["activeCellVerticalAlignment","center"],["activeColumnHeaderCellBackgroundColor","rgba(225, 225, 225, 1)"],["activeColumnHeaderCellColor","rgba(0, 0, 0, 1)"],["activeRowHeaderCellBackgroundColor","rgba(225, 225, 225, 1)"],["activeRowHeaderCellColor","rgba(0, 0, 0, 1)"],["autocompleteBottomMargin",60],["autosizeHeaderCellPadding",8],["autosizePadding",5],["cellAutoResizePadding",13],["cellBackgroundColor","rgba(255, 255, 255, 1)"],["cellBorderColor","rgba(195, 199, 202, 1)"],["cellBorderWidth",1],["cellColor","rgba(0, 0, 0, 1)"],["cellFont","16px sans-serif"],["cellGridHeight",250],["cellHeight",24],["cellHeightWithChildGrid",150],["cellHorizontalAlignment","left"],["cellHoverBackgroundColor","rgba(255, 255, 255, 1)"],["cellHoverColor","rgba(0, 0, 0, 1)"],["cellPaddingBottom",5],["cellPaddingLeft",5],["cellPaddingRight",5],["cellPaddingTop",5],["cellSelectedBackgroundColor","rgba(236, 243, 255, 1)"],["cellSelectedColor","rgba(0, 0, 0, 1)"],["cellVerticalAlignment","center"],["cellWidth",250],["cellWidthWithChildGrid",250],["cellWhiteSpace","nowrap"],["cellLineHeight",1],["cellLineSpacing",3],["childContextMenuArrowColor","rgba(43, 48, 43, 1)"],["childContextMenuArrowHTML","&#x25BA;"],["childContextMenuMarginLeft",-11],["childContextMenuMarginTop",-6],["columnHeaderCellBackgroundColor","rgba(240, 240, 240, 1)"],["columnHeaderCellBorderColor","rgba(172, 172, 172, 1)"],["columnHeaderCellBorderWidth",1],["columnHeaderCellCapBackgroundColor","rgba(240, 240, 240, 1)"],["columnHeaderCellCapBorderColor","rgba(172, 172, 172, 1)"],["columnHeaderCellCapBorderWidth",1],["columnHeaderCellColor","rgba(50, 50, 50, 1)"],["columnHeaderCellFont","16px sans-serif"],["columnHeaderCellHeight",25],["columnHeaderCellHorizontalAlignment","left"],["columnHeaderCellHoverBackgroundColor","rgba(235, 235, 235, 1)"],["columnHeaderCellHoverColor","rgba(0, 0, 0, 1)"],["columnHeaderCellPaddingBottom",5],["columnHeaderCellPaddingLeft",5],["columnHeaderCellPaddingRight",5],["columnHeaderCellPaddingTop",5],["columnHeaderCellVerticalAlignment","center"],["columnHeaderOrderByArrowBorderColor","rgba(195, 199, 202, 1)"],["columnHeaderOrderByArrowBorderWidth",1],["columnHeaderOrderByArrowColor","rgba(155, 155, 155, 1)"],["columnHeaderOrderByArrowHeight",8],["columnHeaderOrderByArrowMarginLeft",0],["columnHeaderOrderByArrowMarginRight",5],["columnHeaderOrderByArrowMarginTop",6],["columnHeaderOrderByArrowWidth",13],["contextFilterButtonBorder","solid 1px rgba(158, 163, 169, 1)"],["contextFilterButtonBorderRadius","3px"],["contextFilterButtonHTML","&#x25BC;"],["contextFilterInputBackground","rgba(255,255,255,1)"],["contextFilterInputBorder","solid 1px rgba(158, 163, 169, 1)"],["contextFilterInputBorderRadius","0"],["contextFilterInputColor","rgba(0,0,0,1)"],["contextFilterInputFontFamily","sans-serif"],["contextFilterInputFontSize","14px"],["contextFilterInvalidRegExpBackground","rgba(180, 6, 1, 1)"],["contextFilterInvalidRegExpColor","rgba(255, 255, 255, 1)"],["contextMenuArrowColor","rgba(43, 48, 43, 1)"],["contextMenuArrowDownHTML","&#x25BC;"],["contextMenuArrowUpHTML","&#x25B2;"],["contextMenuBackground","rgba(240, 240, 240, 1)"],["contextMenuBorder","solid 1px rgba(158, 163, 169, 1)"],["contextMenuBorderRadius","3px"],["contextMenuChildArrowFontSize","12px"],["contextMenuColor","rgba(43, 48, 43, 1)"],["contextMenuCursor","default"],["contextMenuFilterButtonFontFamily","sans-serif"],["contextMenuFilterButtonFontSize","10px"],["contextMenuFilterInvalidExpresion","rgba(237, 155, 156, 1)"],["contextMenuFontFamily","sans-serif"],["contextMenuFontSize","16px"],["contextMenuHoverBackground","rgba(182, 205, 250, 1)"],["contextMenuHoverColor","rgba(43, 48, 153, 1)"],["contextMenuItemBorderRadius","3px"],["contextMenuItemMargin","2px"],["contextMenuLabelDisplay","inline-block"],["contextMenuLabelMargin","0 3px 0 0"],["contextMenuLabelMaxWidth","700px"],["contextMenuLabelMinWidth","75px"],["contextMenuMarginLeft",3],["contextMenuMarginTop",-3],["contextMenuOpacity","0.98"],["contextMenuPadding","2px"],["contextMenuWindowMargin",30],["contextMenuZIndex",1e4],["cornerCellBackgroundColor","rgba(240, 240, 240, 1)"],["cornerCellBorderColor","rgba(202, 202, 202, 1)"],["debugBackgroundColor","rgba(0, 0, 0, .0)"],["debugColor","rgba(255, 15, 24, 1)"],["debugEntitiesColor","rgba(76, 231, 239, 1.00)"],["debugFont","11px sans-serif"],["debugPerfChartBackground","rgba(29, 25, 26, 1.00)"],["debugPerfChartTextColor","rgba(255, 255, 255, 0.8)"],["debugPerformanceColor","rgba(252, 255, 37, 1.00)"],["debugScrollHeightColor","rgba(248, 33, 103, 1.00)"],["debugScrollWidthColor","rgba(66, 255, 27, 1.00)"],["debugTouchPPSXColor","rgba(246, 102, 24, 1.00)"],["debugTouchPPSYColor","rgba(186, 0, 255, 1.00)"],["display","inline-block"],["editCellBackgroundColor","white"],["editCellBorder","solid 1px rgba(110, 168, 255, 1)"],["editCellBoxShadow","0 2px 5px rgba(0,0,0,0.4)"],["editCellColor","black"],["editCellFontFamily","sans-serif"],["editCellFontSize","16px"],["editCellPaddingLeft",4],["editCellZIndex",1e4],["frozenMarkerHoverColor","rgba(236, 243, 255, 1)"],["frozenMarkerHoverBorderColor","rgba(110, 168, 255, 1)"],["frozenMarkerActiveColor","rgba(236, 243, 255, 1)"],["frozenMarkerActiveBorderColor","rgba(110, 168, 255, 1)"],["frozenMarkerColor","rgba(222, 222, 222, 1)"],["frozenMarkerBorderColor","rgba(168, 168, 168, 1)"],["frozenMarkerBorderWidth",1],["frozenMarkerWidth",2],["gridBackgroundColor","rgba(240, 240, 240, 1)"],["gridBorderCollapse","collapse"],["gridBorderColor","rgba(202, 202, 202, 1)"],["gridBorderWidth",1],["height","auto"],["maxHeight","inherit"],["maxWidth","inherit"],["minColumnWidth",45],["minHeight","inherit"],["minRowHeight",24],["minWidth","inherit"],["mobileContextMenuMargin",10],["mobileEditInputHeight",30],["mobileEditFontFamily","sans-serif"],["mobileEditFontSize","16px"],["moveOverlayBorderWidth",1],["moveOverlayBorderColor","rgba(66, 133, 244, 1)"],["moveOverlayBorderSegments","12, 7"],["name","default"],["overflowY","auto"],["overflowX","auto"],["reorderMarkerBackgroundColor","rgba(0, 0, 0, 0.1)"],["reorderMarkerBorderColor","rgba(0, 0, 0, 0.2)"],["reorderMarkerBorderWidth",1.25],["reorderMarkerIndexBorderColor","rgba(66, 133, 244, 1)"],["reorderMarkerIndexBorderWidth",2.75],["rowHeaderCellBackgroundColor","rgba(240, 240, 240, 1)"],["rowHeaderCellBorderColor","rgba(200, 200, 200, 1)"],["rowHeaderCellBorderWidth",1],["rowHeaderCellColor","rgba(50, 50, 50, 1)"],["rowHeaderCellFont","16px sans-serif"],["rowHeaderCellHeight",25],["rowHeaderCellHorizontalAlignment","left"],["rowHeaderCellHoverBackgroundColor","rgba(235, 235, 235, 1)"],["rowHeaderCellHoverColor","rgba(0, 0, 0, 1)"],["rowHeaderCellPaddingBottom",5],["rowHeaderCellPaddingLeft",5],["rowHeaderCellPaddingRight",5],["rowHeaderCellPaddingTop",5],["rowHeaderCellSelectedBackgroundColor","rgba(217, 217, 217, 1)"],["rowHeaderCellSelectedColor","rgba(50, 50, 50, 1)"],["rowHeaderCellVerticalAlignment","center"],["rowHeaderCellWidth",57],["scrollBarActiveColor","rgba(125, 125, 125, 1)"],["scrollBarBackgroundColor","rgba(240, 240, 240, 1)"],["scrollBarBorderColor","rgba(202, 202, 202, 1)"],["scrollBarBorderWidth",.5],["scrollBarBoxBorderRadius",4.125],["scrollBarBoxColor","rgba(192, 192, 192, 1)"],["scrollBarBoxMargin",2],["scrollBarBoxMinSize",15],["scrollBarBoxWidth",8],["scrollBarCornerBackgroundColor","rgba(240, 240, 240, 1)"],["scrollBarCornerBorderColor","rgba(202, 202, 202, 1)"],["scrollBarWidth",11],["selectionHandleBorderColor","rgba(255, 255, 255, 1)"],["selectionHandleBorderWidth",1.5],["selectionHandleColor","rgba(66, 133, 244, 1)"],["selectionHandleSize",8],["selectionHandleType","square"],["selectionOverlayBorderColor","rgba(66, 133, 244, 1)"],["selectionOverlayBorderWidth",1],["treeArrowBorderColor","rgba(195, 199, 202, 1)"],["treeArrowBorderWidth",1],["treeArrowClickRadius",5],["treeArrowColor","rgba(155, 155, 155, 1)"],["treeArrowHeight",8],["treeArrowMarginLeft",0],["treeArrowMarginRight",5],["treeArrowMarginTop",6],["treeArrowWidth",13],["treeGridHeight",250],["width","auto"]]}}}.apply(e,[]))||(t.exports=r)},"./lib/dom.js":
/*!********************!*\
    !*** ./lib/dom.js ***!
    \********************/
/*! no static exports found */
function(t,e,n){var r;void 0===(r=function(){"use strict";return function(t){t.getClippingRect=function(e){var n=t.position(t.parentNode),r=t.position(e),i=t.scrollOffset(t.canvas),a={x:0,y:0,h:0,w:0},o={x:-1/0,y:-1/0,h:1/0,w:1/0},s=t.getColumnHeaderCellHeight(),u=t.getRowHeaderCellWidth();return n.top-=i.top,n.left-=i.left,r.top-=i.top,r.left-=i.left,a.h=n.top+n.height-e.offsetTop-t.style.scrollBarWidth,a.w=n.left+n.width-e.offsetLeft-t.style.scrollBarWidth,a.x=n.left+-1*r.left+u,a.y=n.top+-1*r.top+s,{x:a.x>o.x?a.x:o.x,y:a.y>o.y?a.y:o.y,h:a.h<o.h?a.h:o.h,w:a.w<o.w?a.w:o.w}},t.clipElement=function(e){var n=t.getClippingRect(e);n.w<0&&(n.w=0),n.h<0&&(n.h=0),e.style.clip="rect("+n.y+"px,"+n.w+"px,"+n.h+"px,"+n.x+"px)"},t.scrollOffset=function(e){for(var n=0,r=0,i=document.scrollingElement||{scrollLeft:0,scrollTop:0};e.parentNode&&"CANVAS-DATAGRID"!==e.nodeName&&e!==t.intf;)"canvas-datagrid-tree"!==e.nodeType&&"canvas-datagrid-cell"!==e.nodeType&&(n-=e.scrollLeft,r-=e.scrollTop),e=e.parentNode;return{left:n-i.scrollLeft,top:r-i.scrollTop}},t.resizeEditInput=function(){if(t.input&&t.input.editCell){var e=t.canvas.getBoundingClientRect(),n=t.scrollOffset(t.intf),r="collapse"===t.style.gridBorderCollapse?1:2,i=t.style.cellBorderWidth*r,a=t.getVisibleCellByIndex(t.input.editCell.columnIndex,t.input.editCell.rowIndex)||{x:-100,y:-100,height:0,width:0};if(t.mobile)return t.input.style.left="0",t.input.style.top=t.height-t.style.mobileEditInputHeight-i-1+"px",t.input.style.height=t.style.mobileEditInputHeight+"px",void(t.input.style.width=t.width-i-1+"px");t.input.style.left=e.left+a.x+t.canvasOffsetLeft-n.left+"px",t.input.style.top=e.top+a.y-t.style.cellBorderWidth+t.canvasOffsetTop-n.top+"px",t.input.style.height=a.height-i+"px",t.input.style.width=a.width-t.style.cellPaddingLeft+"px",t.clipElement(t.input)}},t.position=function(e,n){for(var r,i,a=0,o=0,s=e;e.offsetParent&&"CANVAS-DATAGRID"!==e.nodeName;)a+=e.offsetLeft,o+=e.offsetTop,r=e.offsetHeight,i=e.offsetWidth,e=e.offsetParent;return n?{left:a,top:o,height:r,width:i}:(e=s,{left:a+(s=t.scrollOffset(e)).left,top:o+s.top,height:r,width:i})},t.getLayerPos=function(e){var n=t.canvas.getBoundingClientRect(),r={x:e.clientX-n.left,y:e.clientY-n.top};return t.isChildGrid&&(r.x-=t.canvasOffsetLeft,r.y-=t.canvasOffsetTop),{x:r.x,y:r.y,rect:n}},t.endEdit=function(e){var n=t.input.editCell,r=n.rowIndex;if(t.dispatchEvent("beforeendedit",{cell:n,newValue:t.input.value,oldValue:n.value,abort:function(){e=!0},input:t.input}))return!1;if(t.input.value!==n.value&&!e){if(t.changes[r]=t.changes[r]||{},t.changes[r][n.header.name]=t.input.value,n.data||(t.data[n.rowIndex]={},n.data=t.data[n.rowIndex]),n.data[n.header.name]=t.input.value,r===t.data.length){if(t.dispatchEvent("newrow",{value:t.input.value,defaultValue:n.value,aborted:e,cell:n,input:t.input}))return!1;t.addRow(n.data),t.createNewRowData()}t.draw(!0)}return t.input.parentNode&&t.input.parentNode.removeChild(t.input),t.intf.focus(),t.dispatchEvent("endedit",{cell:n,value:t.input.value,aborted:e,input:t.input}),t.input=void 0,!0},t.beginEditAt=function(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(t.attributes.editable){t.input&&t.endEdit();var a,o,s,u,l,c=t.getVisibleCellByIndex(e,n);t.getSchema();if(c&&c.header){if(s=c.header.enum,t.dispatchEvent("beforebeginedit",{cell:c,NativeEvent:r}))return!1;if(t.scrollIntoView(e,n),t.setActiveCell(e,n),a=t.getAdjacentCells(),t.input=s?document.createElement("select"):document.createElement(t.attributes.multiLine?"textarea":"input"),c=t.getVisibleCellByIndex(e,n)){s&&("function"==typeof s?o=s.apply(t.intf,[{cell:c}]):Array.isArray(s)&&(o=s),o.forEach((function(e){var n,r,i=document.createElement("option");Array.isArray(e)?(n=e[0],r=e[1]):(n=e,r=e),n===c.value&&(l=!0),i.value=n,i.innerHTML=r,t.input.appendChild(i)})),l||((u=document.createElement("option")).value=c.value,u.innerHTML=c.value,t.input.appendChild(u)),t.input.addEventListener("change",(function(){t.endEdit(),t.draw(!0)}))),t.dispatchEvent("appendeditinput",{cell:c,input:t.input})||document.body.appendChild(t.input),t.createInlineStyle(t.input,t.mobile?"canvas-datagrid-edit-mobile-input":"canvas-datagrid-edit-input"),t.input.style.position="absolute",t.input.editCell=c,t.resizeEditInput(),t.input.style.zIndex=t.style.editCellZIndex,t.input.style.fontSize=parseInt(t.style.editCellFontSize,10)*t.scale+"px";var h=-1!==[null,void 0].indexOf(c.value),f=h||i;t.input.value=f?"":c.value,t.input.focus(),t.input.addEventListener("click",t.stopPropagation),t.input.addEventListener("dblclick",t.stopPropagation),t.input.addEventListener("mouseup",t.stopPropagation),t.input.addEventListener("mousedown",t.stopPropagation),t.input.addEventListener("keydown",(function(n){var r=c.columnIndex,o=c.rowIndex;if("Escape"===n.key)t.endEdit(!0),t.draw(!0);else if("Enter"===n.key&&t.attributes.multiLine&&n.altKey)t.input.value=t.input.value+"\n",t.input.scrollTop=t.input.scrollHeight;else if("Enter"===n.key){t.endEdit();var s=n.shiftKey?Math.max(0,o-1):Math.min(o+1,t.data.length-1);s!==o&&(t.scrollIntoView(r,s),t.setActiveCell(r,s)),t.draw(!0)}else if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(n.key)&&i){switch(n.key){case"ArrowUp":o=Math.max(0,o-1);break;case"ArrowDown":o=Math.min(o+1,t.data.length-1);break;case"ArrowLeft":r=Math.max(r-1,0);break;case"ArrowRight":r=a.right}t.endEdit(),t.scrollIntoView(r,o),t.setActiveCell(r,o),t.draw(!0)}else if("Tab"===n.key){if(n.preventDefault(),!t.endEdit())return;r=n.shiftKey?a.left:a.right,a.left===e&&n.shiftKey&&(r=a.last,o-=1),a.right!==e||n.shiftKey||(r=a.first,o+=1),o<0&&(o=t.data.length-1),o>t.data.length-1&&(o=0),t.scrollIntoView(r,o),t.beginEditAt(r,o,n)}})),t.dispatchEvent("beginedit",{cell:c,input:t.input})}}}},t.createInlineStyle=function(e,n){var r={"canvas-datagrid-context-menu-filter-input":{height:"19px",verticalAlign:"bottom",marginLeft:"2px",padding:"0",background:t.style.contextFilterInputBackground,color:t.style.contextFilterInputColor,border:t.style.contextFilterInputBorder,borderRadius:t.style.contextFilterInputBorderRadius,lineHeight:"normal",fontWeight:"normal",fontFamily:t.style.contextFilterInputFontFamily,fontSize:t.style.contextFilterInputFontSize},"canvas-datagrid-context-menu-filter-button":{height:"19px",verticalAlign:"bottom",marginLeft:"2px",padding:"0",background:t.style.contextMenuBackground,color:t.style.contextMenuColor,border:t.style.contextFilterButtonBorder,borderRadius:t.style.contextFilterButtonBorderRadius,lineHeight:"normal",fontWeight:"normal",fontFamily:t.style.contextMenuFilterButtonFontFamily,fontSize:t.style.contextMenuFilterButtonFontSize},"canvas-datagrid-context-child-arrow":{cssFloat:"right",color:t.style.childContextMenuArrowColor,fontSize:t.style.contextMenuChildArrowFontSize,fontFamily:t.style.contextMenuFontFamily,verticalAlign:"middle"},"canvas-datagrid-autocomplete":{fontFamily:t.style.contextMenuFontFamily,fontSize:t.style.contextMenuFontSize,background:t.style.contextMenuBackground,color:t.style.contextMenuColor,border:t.style.contextMenuBorder,padding:t.style.contextMenuPadding,borderRadius:t.style.contextMenuBorderRadius,opacity:t.style.contextMenuOpacity,position:"absolute",zIndex:9999,overflow:"hidden"},"canvas-datagrid-autocomplete-item":{background:t.style.contextMenuBackground,color:t.style.contextMenuColor},"canvas-datagrid-autocomplete-item:hover":{background:t.style.contextMenuHoverBackground,color:t.style.contextMenuHoverColor},"canvas-datagrid-canvas":{position:"absolute",zIndex:"-1"},"canvas-datagrid":{display:"block"},"canvas-datagrid-control-input":{position:"fixed",top:"-5px",left:"-5px",border:"none",opacity:"0",cursor:"pointer",width:"1px",height:"1px",lineHeight:"normal",fontWeight:"normal",fontFamily:t.style.contextMenuFontFamily,fontSize:t.style.contextMenuFontSize},"canvas-datagrid-edit-mobile-input":{boxSizing:"content-box",outline:"none",margin:"0",padding:"0 0 0 0",lineHeight:"normal",fontWeight:"normal",fontFamily:t.style.mobileEditFontFamily,fontSize:t.style.mobileEditFontSize,border:t.style.editCellBorder,color:t.style.editCellColor,background:t.style.editCellBackgroundColor,appearance:"none",webkitAppearance:"none",mozAppearance:"none",borderRadius:"0"},"canvas-datagrid-edit-input":{boxSizing:"content-box",outline:"none",margin:"0",padding:"0 0 0 "+t.style.editCellPaddingLeft+"px",lineHeight:"normal",fontWeight:"normal",fontFamily:t.style.editCellFontFamily,fontSize:t.style.editCellFontSize,boxShadow:t.style.editCellBoxShadow,border:t.style.editCellBorder,color:t.style.editCellColor,background:t.style.editCellBackgroundColor,appearance:"none",webkitAppearance:"none",mozAppearance:"none",borderRadius:"0"},"canvas-datagrid-context-menu-item-mobile":{lineHeight:"normal",fontWeight:"normal",fontFamily:t.style.contextMenuFontFamily,fontSize:t.style.contextMenuFontSize,color:"inherit",background:"inherit",margin:t.style.contextMenuItemMargin,borderRadius:t.style.contextMenuItemBorderRadius,verticalAlign:"middle"},"canvas-datagrid-context-menu-item":{lineHeight:"normal",fontWeight:"normal",fontFamily:t.style.contextMenuFontFamily,fontSize:t.style.contextMenuFontSize,color:"inherit",background:"inherit",margin:t.style.contextMenuItemMargin,borderRadius:t.style.contextMenuItemBorderRadius,verticalAlign:"middle"},"canvas-datagrid-context-menu-item:hover":{background:t.style.contextMenuHoverBackground,color:t.style.contextMenuHoverColor},"canvas-datagrid-context-menu-label":{margin:t.style.contextMenuLabelMargin,display:t.style.contextMenuLabelDisplay,minWidth:t.style.contextMenuLabelMinWidth,maxWidth:t.style.contextMenuLabelMaxWidth},"canvas-datagrid-context-menu-mobile":{lineHeight:"normal",fontWeight:"normal",fontFamily:t.style.contextMenuFontFamily,fontSize:t.style.contextMenuFontSize,background:t.style.contextMenuBackground,color:t.style.contextMenuColor,border:t.style.contextMenuBorder,padding:t.style.contextMenuPadding,borderRadius:t.style.contextMenuBorderRadius,opacity:t.style.contextMenuOpacity,overflow:"hidden",whiteSpace:"nowrap"},"canvas-datagrid-context-menu":{lineHeight:"normal",fontWeight:"normal",fontFamily:t.style.contextMenuFontFamily,fontSize:t.style.contextMenuFontSize,background:t.style.contextMenuBackground,color:t.style.contextMenuColor,border:t.style.contextMenuBorder,padding:t.style.contextMenuPadding,borderRadius:t.style.contextMenuBorderRadius,opacity:t.style.contextMenuOpacity,overflow:"hidden",whiteSpace:"nowrap",cursor:t.style.contextMenuCursor},"canvas-datagrid-invalid-search-regExp":{background:t.style.contextMenuFilterInvalidExpresion}};r[n]&&Object.keys(r[n]).map((function(t){e.style[t]=r[n][t]}))},t.appendTo=function(e){t.parentNode=e,t.setDom()},t.setDom=function(){t.isChildGrid?(t.parentGrid=t.parentNode.parentGrid,t.ctx=t.parentGrid.context,t.canvas=t.parentGrid.canvas,t.controlInput=t.parentGrid.controlInput,t.eventParent=t.canvas):(t.controlInput=t.controlInput||document.createElement("input"),t.controlInput.onblur=t.intf.blur,t.createInlineStyle(t.controlInput,"canvas-datagrid-control-input"),t.isChildGrid=!1,t.parentDOMNode=t.parentNode,t.parentIsCanvas=/^canvas$/i.test(t.parentDOMNode.tagName),t.parentIsCanvas?t.canvas=t.parentDOMNode:(t.canvas=document.createElement("canvas"),t.parentDOMNode.appendChild(t.canvas)),document.body.appendChild(t.controlInput),t.createInlineStyle(t.canvas,"canvas-datagrid"),t.ctx=t.canvas.getContext("2d"),t.ctx.textBaseline="alphabetic",t.eventParent=t.canvas),t.parentNodeStyle=t.canvas.style,t.controlInput.setAttribute("readonly",!0),t.controlInput.addEventListener("blur",(function(e){e.target!==t.canvas&&(t.hasFocus=!1)})),t.eventParent.addEventListener("scroll",t.resize,!1),t.eventParent.addEventListener("touchstart",t.touchstart,!1),t.eventParent.addEventListener("mouseup",t.mouseup,!1),t.eventParent.addEventListener("mousedown",t.mousedown,!1),t.eventParent.addEventListener("dblclick",t.dblclick,!1),t.eventParent.addEventListener("click",t.click,!1),t.eventParent.addEventListener("mousemove",t.mousemove),t[t.isChildGrid?"parentGrid":"eventParent"].addEventListener("wheel",t.scrollWheel,!1),t.canvas.addEventListener("contextmenu",t.contextmenuEvent,!1),t.controlInput.addEventListener("copy",t.copy),t.controlInput.addEventListener("cut",t.cut),t.controlInput.addEventListener("paste",t.paste),t.controlInput.addEventListener("keypress",t.keypress,!1),t.controlInput.addEventListener("keyup",t.keyup,!1),t.controlInput.addEventListener("keydown",t.keydown,!1),window.addEventListener("resize",t.resize)}}}.apply(e,[]))||(t.exports=r)},"./lib/draw.js":
/*!*********************!*\
    !*** ./lib/draw.js ***!
    \*********************/
/*! no static exports found */
function(t,e,n){var r;void 0===(r=function(){"use strict";return function(t){var e=[],n=!1,r=0,i=[],a=[],o=[];function s(t,e,n,r){n=n||1;var i,a=[];for(i=t;i<=e;i+=n)a[i]=void 0===r?i:"function"==typeof r?r(i):r;return a}function u(e){var r,i=e.innerHTML||e.formattedValue,a=i.toString()+e.rowIndex.toString()+e.columnIndex.toString(),o=Math.round(e.x+t.canvasOffsetLeft),s=Math.round(e.y+t.canvasOffsetTop);if(t.htmlImageCache[a]){if(r=t.htmlImageCache[a].img,t.htmlImageCache[a].height===e.height&&t.htmlImageCache[a].width===e.width){if(!r.complete)return;return t.ctx.drawImage(r,o,s)}t.htmlImageCache[a]=void 0}else n=!1;r=new Image(e.width,e.height),t.htmlImageCache[a]={img:r,width:e.width,height:e.height},r.onload=function(){var e;t.ctx.drawImage(r,o,s),e=!0,Object.keys(t.htmlImageCache).forEach((function(n){t.htmlImageCache[n].img.complete||(e=!1)})),e&&!n&&(n=!0,t.draw())},r.src="data:image/svg+xml;base64,"+btoa('<svg xmlns="http://www.w3.org/2000/svg" width="'+e.width+'" height="'+e.height+'">\n<foreignObject class="node" x="0" y="0" width="100%" height="100%">\n<body xmlns="http://www.w3.org/1999/xhtml" style="margin:0;padding:0;">\n'+i+"\n</body></foreignObject>\n</svg>\n")}function l(e,n,r,i,a){var o=(e+=t.canvasOffsetLeft)+r,s=(n+=t.canvasOffsetTop)+i;t.ctx.beginPath(),t.ctx.moveTo(e+a,n),t.ctx.lineTo(o-a,n),t.ctx.quadraticCurveTo(o,n,o,n+a),t.ctx.lineTo(o,n+i-a),t.ctx.quadraticCurveTo(o,s,o-a,s),t.ctx.lineTo(e+a,s),t.ctx.quadraticCurveTo(e,s,e,s-a),t.ctx.lineTo(e,n+a),t.ctx.quadraticCurveTo(e,n,e+a,n)}function c(e,n,r,i){e+=t.canvasOffsetLeft,n+=t.canvasOffsetTop,t.ctx.fillRect(e,n,r,i)}function h(e,n,r,i){e+=t.canvasOffsetLeft,n+=t.canvasOffsetTop,t.ctx.strokeRect(e,n,r,i)}function f(e,n,r){n+=t.canvasOffsetLeft,r+=t.canvasOffsetTop,t.ctx.fillText(e,n,r)}function d(e){t.ctx.beginPath(),0===e&&(t.ctx.moveTo(t.lastFrozenColumnPixel,t.lastFrozenRowPixel),t.ctx.lineTo(t.lastFrozenColumnPixel,t.height),t.ctx.lineTo(t.width,t.height),t.ctx.lineTo(t.width,t.lastFrozenRowPixel)),1===e&&(t.ctx.moveTo(0,t.lastFrozenRowPixel),t.ctx.lineTo(0,t.height),t.ctx.lineTo(t.width,t.height),t.ctx.lineTo(t.width,t.lastFrozenRowPixel)),2===e&&(t.ctx.moveTo(t.lastFrozenColumnPixel,0),t.ctx.lineTo(t.width,0),t.ctx.lineTo(t.width,t.height),t.ctx.lineTo(t.lastFrozenColumnPixel,t.height)),t.ctx.clip()}function p(e,n,r){if("circle"===t.style.selectionHandleType)return function(e,n,r){e+=t.canvasOffsetLeft,n+=t.canvasOffsetTop,t.ctx.beginPath(),t.ctx.arc(e,n,r,0,2*Math.PI),t.ctx.fill()}(e,n,.5*r);c(e-.5*r,n-.5*r,r,r)}function m(e,n,r){if("circle"===t.style.selectionHandleType)return function(e,n,r){e+=t.canvasOffsetLeft,n+=t.canvasOffsetTop,t.ctx.beginPath(),t.ctx.arc(e,n,r,0,2*Math.PI),t.ctx.stroke()}(e,n,.5*r);h(e-.5*r,n-.5*r,r,r)}function g(e,n){t.ctx.beginPath(),{t:function(){t.ctx.moveTo(e.x+t.canvasOffsetLeft,e.y+t.canvasOffsetTop),t.ctx.lineTo(e.x+t.canvasOffsetLeft+e.width,e.y+t.canvasOffsetTop)},r:function(){t.ctx.moveTo(e.x+t.canvasOffsetLeft+e.width,e.y+t.canvasOffsetTop),t.ctx.lineTo(e.x+t.canvasOffsetLeft+e.width,e.y+t.canvasOffsetTop+e.height)},b:function(){t.ctx.moveTo(e.x+t.canvasOffsetLeft,e.y+t.canvasOffsetTop+e.height),t.ctx.lineTo(e.x+t.canvasOffsetLeft+e.width,e.y+t.canvasOffsetTop+e.height)},l:function(){t.ctx.moveTo(e.x+t.canvasOffsetLeft,e.y+t.canvasOffsetTop),t.ctx.lineTo(e.x+t.canvasOffsetLeft,e.y+t.canvasOffsetTop+e.height)}}[n](),t.ctx.stroke()}t.htmlImageCache={},t.draw=function(n){if(!t.dispatchEvent("beforedraw",{})&&(t.isChildGrid||t.height&&t.width))if(t.isChildGrid&&n)requestAnimationFrame(t.parentGrid.draw);else if(!1!==t.intf.visible){var _,v,y,b,x,w,T,S,E,C,A,M,O,D,N,I,P,L,R,k,B,F,z,j,U,H,V=t.data||[],G="collapse"===t.style.gridBorderCollapse,W=[],$=[],X=[],q=[],Y=V.length,Z=t.currentCell||{},K=t.getColumnHeaderCellHeight(),J=t.getRowHeaderCellWidth(),Q=t.style.cellHeight;r+=1,y=performance.now(),t.visibleRowHeights=[],V.length>t.orders.rows.length&&t.createRowOrders(),t.ctx.save(),t.visibleRows=[],N=t.getSchema(),t.visibleCells=[],t.canvasOffsetTop=t.isChildGrid?t.parentNode.offsetTop:.5,t.canvasOffsetLeft=t.isChildGrid?t.parentNode.offsetLeft:-.5,O=t.height,l(0,0,D=t.width,O,0),t.ctx.clip(),t.ctx.fillStyle=t.style.gridBackgroundColor,c(0,0,D,O),function(){var e=Math.min(V.length,t.frozenRow);for(A=-t.scrollBox.scrollLeft+t.scrollPixelLeft+t.style.cellBorderWidth,C=K,I=0;I<e&&nt(t.orders.rows[I],I);I+=1);t.attributes.allowFreezingRows&&(C+=t.style.frozenMarkerBorderWidth+t.style.frozenMarkerWidth-.4999999999),t.lastFrozenRowPixel=C}(),function(){t.ctx.save(),t.frozenRow>0&&(l(0,t.lastFrozenRowPixel,t.width,t.height-t.lastFrozenRowPixel,0),t.ctx.clip());var e,n,r,i=N.length;for(A=-t.scrollBox.scrollLeft+t.scrollPixelLeft+t.style.cellBorderWidth,t.attributes.snapToRow||(C+=-t.scrollBox.scrollTop+t.scrollPixelTop+t.style.cellBorderWidth),I=t.frozenRow+t.scrollIndexTop;I<Y&&(n=t.orders.rows[I],t.scrollIndexBottom=I,t.scrollPixelBottom=C,nt(n,I));I+=1);if(t.attributes.showNewRow){for(t.attributes.showRowHeaders&&(A+=J),S=Q=t.style.cellHeight,T=!1,e=t.scrollIndexLeft;e<i&&(r=t.orders.columns[e],!((A+=et(t.newRow,V.length,V.length)(N[r],r,e))>t.width+t.scrollBox.scrollLeft));e+=1);q.push([t.newRow,V.length,V.length,C,S])}t.ctx.restore()}(),function(){if(L){t.ctx.save();var e=t.activeCell.columnIndex+1>t.frozenColumn||t.activeCell.rowIndex+1>t.frozenRow;l(e?t.lastFrozenColumnPixel:0,e?t.lastFrozenRowPixel:0,e?t.width-t.lastFrozenColumnPixel:t.width,e?t.height-t.lastFrozenRowPixel:t.height,0),t.ctx.clip(),"row"===t.attributes.selectionMode?t.activeCell&&t.activeCell.rowIndex===L.rowIndex&&(t.ctx.lineWidth=t.style.activeCellOverlayBorderWidth,t.ctx.strokeStyle=t.style.activeCellOverlayBorderColor,h(1,L.y,t.getHeaderWidth()+J,t.visibleRowHeights[L.rowIndex])):(t.ctx.lineWidth=t.style.activeCellOverlayBorderWidth,t.ctx.strokeStyle=t.style.activeCellOverlayBorderColor,h(L.x,L.y,L.width,L.height)),t.ctx.restore()}}(),function(){var e,n,r,i,a,o,s=N.length;function u(o,u){for(u=Math.min(u,s),r=o;r<u&&(n=t.orders.columns[r],(a=N[n]).hidden||(e={title:a.title,name:a.name,width:a.width||t.style.cellWidth,style:"columnHeaderCell",type:"string",index:r,order:n},i={columnHeaderCell:a.title||a.name},!((A+=et(i,-1,-1)(e,n,r))>t.width+t.scrollBox.scrollLeft)));r+=1);}q.forEach((function(e,n){C=e[3],Q=e[4],n===t.frozenRow&&(t.ctx.save(),l(0,t.lastFrozenRowPixel,t.width,t.height-t.lastFrozenRowPixel,0),t.ctx.clip()),function(e,n,r){var i,a;t.attributes.showRowHeaders&&(A=0,v={rowHeaderCell:a=n+1},i={name:"rowHeaderCell",width:t.sizes.columns[-1]||t.style.rowHeaderCellWidth,style:"rowHeaderCell",type:"string",data:a,index:-1},T=t.openChildren[n],et(v,n,r)(i,-1,-1))}(e[0],e[1],e[2])})),t.ctx.restore(),t.attributes.showColumnHeaders&&(A=-t.scrollBox.scrollLeft+t.scrollPixelLeft+t.style.columnHeaderCellBorderWidth,t.attributes.showRowHeaders&&(A+=J),C=0,Q=t.getColumnHeaderCellHeight(),u(t.scrollIndexLeft,s),o=A,A=t.style.columnHeaderCellBorderWidth,t.attributes.showRowHeaders&&(A+=J),u(0,t.frozenColumn),(A=o)<D&&(M={name:"",width:t.style.scrollBarWidth,style:"columnHeaderCellCap",isColumnHeaderCell:!0,isColumnHeaderCellCap:!0,type:"string",index:N.length},et({endCap:""},-1,-1)(M,-1,-1)),t.attributes.showRowHeaders&&(E={cornerCell:""},A=0,M={name:"cornerCell",width:t.style.rowHeaderCellWidth,style:"cornerCell",type:"string",index:-1},et(E,-1,-1)(M,-1,-1)))}(),R=t.lastFrozenRowPixel-t.style.frozenMarkerWidth,k=t.lastFrozenColumnPixel-t.style.frozenMarkerBorderWidth,B=t.currentCell&&"frozen-row-marker"===t.currentCell.style,F=t.currentCell&&"frozen-column-marker"===t.currentCell.style,t.ctx.lineWidth=t.style.frozenMarkerBorderWidth,t.attributes.allowFreezingColumns&&(t.ctx.fillStyle=F?t.style.frozenMarkerHoverColor:t.style.frozenMarkerColor,t.ctx.strokeStyle=F?t.style.frozenMarkerHoverBorderColor:t.style.frozenMarkerBorderColor,c(k,0,t.style.frozenMarkerWidth,t.height),h(k,0,t.style.frozenMarkerWidth,t.height),t.visibleCells.unshift({x:k,y:0,height:t.height,width:t.style.frozenMarkerWidth+t.style.frozenMarkerBorderWidth,style:"frozen-column-marker"})),t.attributes.allowFreezingRows&&(t.ctx.fillStyle=B?t.style.frozenMarkerHoverColor:t.style.frozenMarkerColor,t.ctx.strokeStyle=B?t.style.frozenMarkerHoverBorderColor:t.style.frozenMarkerBorderColor,c(0,R,t.width,t.style.frozenMarkerWidth),h(0,R,t.width,t.style.frozenMarkerWidth),t.visibleCells.unshift({x:0,y:R,height:t.style.frozenMarkerWidth+t.style.frozenMarkerBorderWidth,width:t.width,style:"frozen-row-marker"})),t.freezeMarkerPosition&&(t.ctx.fillStyle=t.style.frozenMarkerActiveColor,t.ctx.strokeStyle=t.style.frozenMarkerActiveBorderColor,"frozen-column-marker"===t.dragMode?(c(t.freezeMarkerPosition.x,0,t.style.frozenMarkerWidth,t.height),h(t.freezeMarkerPosition.x,0,t.style.frozenMarkerWidth,t.height)):(c(0,t.freezeMarkerPosition.y,t.width,t.style.frozenMarkerWidth),h(0,t.freezeMarkerPosition.y,t.width,t.style.frozenMarkerWidth))),(t.mobile||t.attributes.allowMovingSelection)&&(t.ctx.lineWidth=t.style.selectionHandleBorderWidth,t.ctx.strokeStyle=t.style.selectionHandleBorderColor,t.ctx.fillStyle=t.style.selectionHandleColor,X.forEach((function(e){!function(e,n){var r=t.style.selectionHandleSize;({tr:function(){p(e.x+e.width,e.y,r),m(e.x+e.width,e.y,r)},br:function(){p(e.x+e.width,e.y+e.height,r),m(e.x+e.width,e.y+e.height,r)},tl:function(){p(e.x,e.y,r),m(e.x,e.y,r)},bl:function(){p(e.x,e.y+e.height,r),m(e.x,e.y+e.height,r)}})[n]()}(e[0],e[1]);var n=t.attributes.touchSelectHandleZone/2,r=e[0].x+("tl"===e[1]||"bl"===e[1]?0:e[0].width)-n,i=e[0].y+("bl"===e[1]||"br"===e[1]?e[0].height:0)-n;t.visibleCells.unshift({x:r,y:i,height:t.style.selectionHandleSize+n,width:t.style.selectionHandleSize+n,style:"selection-handle-"+e[1]})}))),function(){if(t.reorderObject){var e={height:t.reorderObject.height,width:t.reorderObject.width,x:t.reorderObject.x+t.reorderObject.dragOffset.x,y:t.reorderObject.y+t.reorderObject.dragOffset.y},n={width:D,height:O,x:0,y:0};t.ctx.fillStyle=t.style.reorderMarkerBackgroundColor,t.ctx.lineWidth=t.style.reorderMarkerBorderWidth,t.ctx.strokeStyle=t.style.reorderMarkerBorderColor,"row-reorder"===t.dragMode?(e.width=D,e.x=0,n.width=D,n.height=t.currentCell.height,n.y=t.currentCell.y,c(e.x,e.y,e.width,e.height),h(e.x,e.y,e.width,e.height),t.ctx.lineWidth=t.style.reorderMarkerIndexBorderWidth,t.ctx.strokeStyle=t.style.reorderMarkerIndexBorderColor,t.currentCell.rowIndex!==t.reorderObject.rowIndex&&t.currentCell.rowIndex>-1&&t.currentCell.rowIndex<Y&&g(n,t.reorderTarget.sortRowIndex>t.reorderObject.sortRowIndex?"b":"t")):"column-reorder"===t.dragMode&&t.reorderObject&&(e.height=O,e.y=0,n.height=O,n.width=t.currentCell.width,n.y=0,n.x=t.currentCell.x,c(e.x,e.y,e.width,e.height),h(e.x,e.y,e.width,e.height),t.ctx.lineWidth=t.style.reorderMarkerIndexBorderWidth,t.ctx.strokeStyle=t.style.reorderMarkerIndexBorderColor,t.currentCell.sortColumnIndex!==t.reorderObject.sortColumnIndex&&t.currentCell.sortColumnIndex>-1&&t.currentCell.sortColumnIndex<N.length&&g(n,t.reorderTarget.columnIndex>t.reorderObject.columnIndex?"r":"l"))}}(),t.movingSelection&&(t.ctx.lineWidth=t.style.moveOverlayBorderWidth,t.ctx.strokeStyle=t.style.moveOverlayBorderColor,t.ctx.setLineDash(t.style.moveOverlayBorderSegments),$.forEach((function(t){g(t[0],t[1])})),t.ctx.setLineDash([])),t.ctx.lineWidth=t.style.gridBorderWidth,t.ctx.strokeStyle=t.style.gridBorderColor,h(0,0,t.width,t.height),function(){function e(t){g(t[0],t[1])}t.ctx.lineWidth=t.style.selectionOverlayBorderWidth,t.ctx.strokeStyle=t.style.selectionOverlayBorderColor,W.filter((function(e){return e[0].rowIndex<t.frozenRow&&e[0].columnIndex<t.frozenColumn})).forEach(e),t.ctx.save(),d(0),W.filter((function(e){return e[0].rowIndex>=t.frozenRow&&e[0].columnIndex>=t.frozenColumn})).forEach(e),t.ctx.restore(),t.ctx.save(),d(1),W.filter((function(e){return e[0].rowIndex>=t.frozenRow&&e[0].columnIndex<t.frozenColumn})).forEach(e),t.ctx.restore(),t.ctx.save(),d(2),W.filter((function(e){return e[0].rowIndex<t.frozenRow&&e[0].columnIndex>=t.frozenColumn})).forEach(e),t.ctx.restore()}(),j=t.scrollBox.entities,U=2*t.style.scrollBarBoxMargin,t.ctx.strokeStyle=t.style.scrollBarBorderColor,t.ctx.lineWidth=t.style.scrollBarBorderWidth,j.horizontalBox.x=J+t.style.scrollBarBoxMargin+(j.horizontalBar.width-t.scrollBox.scrollBoxWidth)*(t.scrollBox.scrollLeft/t.scrollBox.scrollWidth),j.verticalBox.y=K+t.style.scrollBarBoxMargin+(j.verticalBar.height-t.scrollBox.scrollBoxHeight)*(t.scrollBox.scrollTop/t.scrollBox.scrollHeight),t.scrollBox.horizontalBarVisible&&(t.ctx.fillStyle=t.style.scrollBarBackgroundColor,c(j.horizontalBar.x,j.horizontalBar.y,j.horizontalBar.width+U,j.horizontalBar.height),h(j.horizontalBar.x,j.horizontalBar.y,j.horizontalBar.width+U,j.horizontalBar.height),t.ctx.fillStyle=t.style.scrollBarBoxColor,t.scrollBox.horizontalBoxVisible&&(/horizontal/.test(Z.context)&&(t.ctx.fillStyle=t.style.scrollBarActiveColor),l(j.horizontalBox.x,j.horizontalBox.y,j.horizontalBox.width,j.horizontalBox.height,t.style.scrollBarBoxBorderRadius),t.ctx.stroke(),t.ctx.fill()),z=!0,t.visibleCells.unshift(j.horizontalBar),t.visibleCells.unshift(j.horizontalBox)),t.scrollBox.verticalBarVisible&&(t.ctx.fillStyle=t.style.scrollBarBackgroundColor,c(j.verticalBar.x,j.verticalBar.y,j.verticalBar.width,j.verticalBar.height+U),h(j.verticalBar.x,j.verticalBar.y,j.verticalBar.width,j.verticalBar.height+U),t.scrollBox.verticalBoxVisible&&(t.ctx.fillStyle=t.style.scrollBarBoxColor,/vertical/.test(Z.context)&&(t.ctx.fillStyle=t.style.scrollBarActiveColor),l(j.verticalBox.x,j.verticalBox.y,j.verticalBox.width,j.verticalBox.height,t.style.scrollBarBoxBorderRadius),t.ctx.stroke(),t.ctx.fill()),z=!0,t.visibleCells.unshift(j.verticalBar),t.visibleCells.unshift(j.verticalBox)),z&&(t.ctx.strokeStyle=t.style.scrollBarCornerBorderColor,t.ctx.fillStyle=t.style.scrollBarCornerBackgroundColor,l(j.corner.x,j.corner.y,j.corner.width,j.corner.height,0),t.ctx.stroke(),t.ctx.fill(),t.visibleCells.unshift(j.corner)),_&&t.resize(!0),t.ctx.save(),(t.attributes.showPerformance||t.attributes.debug)&&(0===e.length&&(e=s(0,300,1,0)),e.pop(),e.unshift(performance.now()-y)),t.attributes.debug?(t.ctx.font=t.style.debugFont,(H={}).perf=(e.reduce((function(t,e){return t+e}),0)/Math.min(r,e.length)).toFixed(1),H.perfDelta=e[0].toFixed(1),H.frozenColumnsWidth=function(){var e=0,n=t.getSchema(),r=0,i=Math.min(t.frozenColumn,n.length);for(0;r<i;)n[r].hidden?1:e+=t.getColummnWidth(r),r+=1;return e}(),H.htmlImages=Object.keys(t.htmlImageCache).length,H.reorderObject="x: "+(t.reorderObject||{columnIndex:0}).columnIndex+", y: "+(t.reorderObject||{rowIndex:0}).rowIndex,H.reorderTarget="x: "+(t.reorderTarget||{columnIndex:0}).columnIndex+", y: "+(t.reorderTarget||{rowIndex:0}).rowIndex,H.scale=t.scale,H.startScale=t.startScale,H.scaleDelta=t.scaleDelta,H.zoomDeltaStart=t.zoomDeltaStart,H.touchLength=t.touchLength,H.touches="y0: "+(t.touchPosition||{y:0}).y+" y1: "+(t.touchPosition1||{y:0}).y,H.scrollBox=t.scrollBox.toString(),H.scrollIndex="x: "+t.scrollIndexLeft+", y: "+t.scrollIndexTop,H.scrollPixel="x: "+t.scrollPixelLeft+", y: "+t.scrollPixelTop,H.canvasOffset="x: "+t.canvasOffsetLeft+", y: "+t.canvasOffsetTop,H.touchDelta="x: "+t.touchDelta.x+", y: "+t.touchDelta.y,H.touchAnimateTo="x: "+t.touchAnimateTo.x+", y: "+t.touchAnimateTo.y,H.scrollAnimation="x: "+t.scrollAnimation.x+", y: "+t.scrollAnimation.y,H.touchPPS="x: "+t.xPPS+", y: "+t.yPPS,H.touchPPST="x: "+t.xPPST+", y: "+t.yPPST,H.touchDuration=t.touchDuration,H.pointerLockPosition=t.pointerLockPosition?t.pointerLockPosition.x+", "+t.pointerLockPosition.y:"",H.size="w: "+t.width+", h: "+t.height,H.mouse="x: "+t.mouse.x+", y: "+t.mouse.y,H.touch=t.touchStart?"x: "+t.touchStart.x+", y: "+t.touchStart.y:"",H.entities=t.visibleCells.length,H.hasFocus=t.hasFocus,H.dragMode=t.dragMode,t.currentCell&&(H.columnIndex=t.currentCell.columnIndex,H.rowIndex=t.currentCell.rowIndex,H.sortColumnIndex=t.currentCell.sortColumnIndex,H.sortRowIndex=t.currentCell.sortRowIndex,H.context=t.currentCell.context,H.dragContext=t.currentCell.dragContext,H.style=t.currentCell.style,H.type=t.currentCell.type),t.ctx.textAlign="right",t.ctx.fillStyle=t.style.debugBackgroundColor,c(0,0,t.width,t.height),Object.keys(H).forEach((function(e,n){var r=e+": "+H[e];t.ctx.fillStyle=t.style.debugColor,f(r,D-20,(t.attributes.showPerformance?140:24)+14*n)})),t.ctx.restore()):t.ctx.restore(),function(){if(t.attributes.showPerformance){var n=t.width-250-t.style.scrollBarWidth-2*t.style.scrollBarBorderWidth,r=K;0===a.length&&(a=s(0,300,1,(function(){return[0,0]}))),0===o.length&&(o=s(0,300,1,(function(){return[0,0]}))),0===i.length&&(i=s(0,300,1,0)),t.ctx.lineWidth=.5,t.ctx.textAlign="left",t.ctx.font=t.style.debugFont,t.ctx.fillStyle=t.style.debugPerfChartBackground,c(n,r,250,100),[["Scroll Height",a,0,t.scrollBox.scrollHeight,t.style.debugScrollHeightColor,!1],["Scroll Width",a,1,t.scrollBox.scrollWidth,t.style.debugScrollWidthColor,!1],["Performance",e,void 0,200,t.style.debugPerformanceColor,!1],["Entities",i,void 0,1500,t.style.debugEntitiesColor,!1],["TouchPPSX",o,0,1e3,t.style.debugTouchPPSXColor,!0],["TouchPPSY",o,1,1e3,t.style.debugTouchPPSYColor,!0]].forEach((function(t,e){t.push(e),u.apply(null,t)})),t.ctx.fillStyle=t.style.debugPerfChartBackground,i.pop(),i.unshift(t.visibleCells.length),a.pop(),a.unshift([t.scrollBox.scrollTop,t.scrollBox.scrollLeft]),o.pop(),o.unshift([t.yPPS,t.xPPS])}function u(e,i,a,o,s,u,l){var h;!function(e,n,r,i,a,o,s,u,l){var c=e/a.length,h=n/s;r+=t.canvasOffsetLeft,i+=t.canvasOffsetTop,t.ctx.beginPath(),t.ctx.moveTo(r,i+n),a.forEach((function(e){var a,s,u=void 0===o?e:e[o];l&&(u=Math.abs(u)),a=r+c,s=i+n-u*h,t.ctx.lineTo(a,s),r+=c})),t.ctx.moveTo(r+e,i+n),t.ctx.strokeStyle=u,t.ctx.stroke()}(250,100,n,r,i,a,o,s,u),t.ctx.fillStyle=s,c(3+n,r+9+11*l,8,8),t.ctx.fillStyle=t.style.debugPerfChartTextColor,h=void 0!==a?i[0][a]:i[0],f(e+" "+(isNaN(h)?0:h).toFixed(3),14+n,r+16+11*l)}}(),t.dispatchEvent("afterdraw",{})||t.ctx.restore()}function tt(e,n,r,i){i=i||{x:0,y:0},e.selectionBorder="",!e.isRowHeader&&t.selections[e.rowIndex+-i.y]&&-1!==t.selections[e.rowIndex+-i.y].indexOf(e.columnIndex+-i.x)&&(t.selections[e.rowIndex-1-i.y]&&-1!==t.selections[e.rowIndex-1-i.y].indexOf(e.columnIndex+-i.x)&&0!==e.rowIndex||e.isHeader||(n.push([e,"t"]),e[r+"BorderTop"]=!0,e[r+"Border"]+="t"),t.selections[e.rowIndex+1+-i.y]&&-1!==t.selections[e.rowIndex+1+-i.y].indexOf(e.columnIndex+-i.x)||(n.push([e,"b"]),e[r+"BorderBottom"]=!0,e[r+"Border"]+="b"),t.selections[e.rowIndex+-i.y]&&0!==e.columnIndex&&-1!==t.selections[e.rowIndex+-i.y].indexOf(e.columnIndex-1-i.x)||(n.push([e,"l"]),e[r+"BorderLeft"]=!0,e[r+"Border"]+="l"),t.selections[e.rowIndex+-i.y]&&e.columnIndex!==N.length&&-1!==t.selections[e.rowIndex+-i.y].indexOf(e.columnIndex+1+-i.x)||(n.push([e,"r"]),e[r+"BorderRight"]=!0,e[r+"Border"]+="r"))}function et(e,n,r){return function(i,a,o){if(i.hidden)return 0;var s,d,p,m=i.style||"cell",g=/HeaderCell/.test(m),v=/cornerCell/.test(m),y="rowHeaderCell"===m,w="columnHeaderCell"===m,E="nowrap"!==t.style.cellWhiteSpace,M=t.selections[n]&&-1!==t.selections[n].indexOf(o),O=t.hovers.rowIndex===n&&t.hovers.columnIndex===o,N=t.activeCell.rowIndex===n&&t.activeCell.columnIndex===o,I="columnHeaderCellCap"===m,P=e?e[i.name]:void 0,R="canvas-datagrid"===i.type,k=!(t.orders.rows[t.activeCell.rowIndex]!==n&&t.orders.columns[t.activeCell.columnIndex]!==a||-1!==o&&-1!==n)&&(y?"activeRowHeaderCell":"activeColumnHeaderCell"),B=t.formatters[i.type||"string"],F=0,z=0,j=t.sizes.columns[a]||i.width,U={value:P,row:e,header:i};if(I&&(j=D-A),void 0===j&&(j=t.style.cellWidth),j*=t.scale,A+j+t.style.cellBorderWidth<0&&(A+=j+t.style.cellBorderWidth),N&&"cornerCell"!==m&&(m="activeCell"),-1!==t.visibleRows.indexOf(r)||g||t.visibleRows.push(r),p=t.dispatchEvent("formatcellvalue",U),b=A,x=C,"cornerCell"===m?(b=0,x=0):y?b=0:g&&(x=0),(d={type:R?"canvas-datagrid-cell":i.type,style:m,nodeType:"canvas-datagrid-cell",x:b,y:x,fontHeight:(t.style[m+"FontHeight"]||0)*t.scale,horizontalAlignment:t.style[m+"HorizontalAlignment"],verticalAlignment:t.style[m+"VerticalAlignment"],paddingLeft:(t.style[m+"PaddingLeft"]||0)*t.scale,paddingTop:(t.style[m+"PaddingTop"]||0)*t.scale,paddingRight:(t.style[m+"PaddingRight"]||0)*t.scale,paddingBottom:(t.style[m+"PaddingBottom"]||0)*t.scale,whiteSpace:t.style.cellWhiteSpace,lineHeight:t.style.cellLineHeight,lineSpacing:t.style.cellLineSpacing,offsetTop:t.canvasOffsetTop+x,offsetLeft:t.canvasOffsetLeft+b,scrollTop:t.scrollBox.scrollTop,scrollLeft:t.scrollBox.scrollLeft,active:N||k,hovered:O,selected:M,width:j,height:Q,offsetWidth:j,offsetHeight:Q,parentNode:t.intf.parentNode,offsetParent:t.intf.parentNode,data:e,isCorner:v,isHeader:g,isColumnHeader:w,isColumnHeaderCellCap:I,isRowHeader:y,rowOpen:T,header:i,columnIndex:o,rowIndex:n,sortColumnIndex:a,sortRowIndex:r,isGrid:R,isNormal:!R&&!v&&!g,gridId:(t.attributes.name||"")+r+":"+a,parentGrid:t.intf,innerHTML:"",activeHeader:k,value:g&&!y?i.title||i.name:P}).calculatedLineHeight=d.fontHeight*d.lineHeight+d.lineSpacing,d.paddedWidth=d.width-d.paddingRight-d.paddingLeft,d.paddedHeight=d.height-d.paddingTop-d.paddingBottom,U.cell=d,d.userHeight=d.isHeader?t.sizes.rows[-1]:S,d.userWidth=d.isHeader?t.sizes.columns.cornerCell:t.sizes.columns[a],t.visibleCells.unshift(d),!t.dispatchEvent("beforerendercell",U)){if(t.ctx.fillStyle=t.style[m+"BackgroundColor"],t.ctx.strokeStyle=t.style[m+"BorderColor"],t.ctx.lineWidth=t.style[m+"BorderWidth"],O&&(t.ctx.fillStyle=t.style[m+"HoverBackgroundColor"],t.ctx.strokeStyle=t.style[m+"HoverBorderColor"]),M&&(t.ctx.fillStyle=t.style[m+"SelectedBackgroundColor"],t.ctx.strokeStyle=t.style[m+"SelectedBorderColor"]),k&&(t.ctx.fillStyle=t.style[k+"BackgroundColor"]),t.dispatchEvent("rendercell",U),d.isGrid&&(d.height!==S&&(d.height=S||t.style.cellHeightWithChildGrid,_=!0),d.width=t.sizes.columns[a]||t.style.cellWidthWithChildGrid),T&&!d.isRowHeader&&(d.height=t.sizes.rows[r]||t.style.cellHeight),d.isGrid||(c(b,x,d.width,d.height),h(b,x,d.width,d.height)),t.ctx.save(),l(d.x,d.y,d.width,d.height,0),t.ctx.clip(),t.dispatchEvent("afterrendercell",U),d.height===Q||T&&!d.isRowHeader||(t.sizes.rows[g?-1:r]=d.height,_=!0),d.width!==j&&(t.sizes.columns[a]=d.width,_=!0),y&&t.attributes.tree&&(t.dispatchEvent("rendertreearrow",U)||(z=function(e,n,r){var i=t.style.treeArrowMarginTop*t.scale,a=t.style.treeArrowMarginRight*t.scale,o=t.style.treeArrowMarginLeft*t.scale,s=t.style.treeArrowWidth*t.scale,u=t.style.treeArrowHeight*t.scale;return n+=t.canvasOffsetLeft,r+=t.canvasOffsetTop,t.ctx.fillStyle=t.style.treeArrowColor,t.ctx.strokeStyle=t.style.treeArrowBorderColor,t.ctx.beginPath(),n+=o,r+=i,t.openChildren[e.rowIndex]?(t.ctx.moveTo(n,r),t.ctx.lineTo(n+s,r),t.ctx.lineTo(n+.5*s,r+u),t.ctx.moveTo(n,r)):(t.ctx.lineTo(n,r),t.ctx.lineTo(n+u,r+.5*s),t.ctx.lineTo(n,r+s),t.ctx.lineTo(n,r)),t.ctx.stroke(),t.ctx.fill(),o+s+a}(d,t.style[m+"PaddingLeft"],x))),t.attributes.showRowNumbers&&y||!y)if(d.isGrid&&!t.dispatchEvent("beforerendercellgrid",U)){if(!t.childGrids[d.gridId]){if((s=t.cellGridAttributes).name=t.attributes.saveAppearance?d.gridId:void 0,s.component=!1,s.parentNode=d,s.data=P,U.cellGridAttributes=s,t.dispatchEvent("beforecreatecellgrid",U))return;t.childGrids[d.gridId]=t.createGrid(s),t.sizes.rows[r]=t.sizes.rows[r]||t.style.cellGridHeight,_=!0}d.grid=t.childGrids[d.gridId],d.grid.parentNode=d,d.grid.visible=!0,d.grid.draw(),t.dispatchEvent("rendercellgrid",U)}else d.isGrid||(t.childGrids[d.gridId]&&(t.childGrids[d.gridId].parentNode.offsetHeight=0),g&&t.orderBy===i.name&&(t.dispatchEvent("renderorderbyarrow",U)||(F=function(e,n){var r=t.style.columnHeaderOrderByArrowMarginTop*t.scale,i=t.style.columnHeaderOrderByArrowMarginLeft*t.scale,a=t.style.columnHeaderOrderByArrowMarginRight*t.scale,o=t.style.columnHeaderOrderByArrowWidth*t.scale,s=t.style.columnHeaderOrderByArrowHeight*t.scale;return e+=t.canvasOffsetLeft,n+=t.canvasOffsetTop,t.ctx.fillStyle=t.style.columnHeaderOrderByArrowColor,t.ctx.strokeStyle=t.style.columnHeaderOrderByArrowBorderColor,t.ctx.beginPath(),e+=i,n+=r,"asc"===t.orderDirection?(t.ctx.moveTo(e,n),t.ctx.lineTo(e+o,n),t.ctx.lineTo(e+.5*o,n+s),t.ctx.moveTo(e,n)):(t.ctx.lineTo(e,n+s),t.ctx.lineTo(e+o,n+s),t.ctx.lineTo(e+.5*o,n),t.ctx.lineTo(e,n+s)),t.ctx.stroke(),t.ctx.fill(),i+o+a}(b+t.style[m+"PaddingLeft"],0))),t.ctx.fillStyle=t.style[m+"Color"],O&&(t.ctx.fillStyle=t.style[m+"HoverColor"]),M&&(t.ctx.fillStyle=t.style[m+"SelectedColor"]),k&&(t.ctx.fillStyle=t.style[k+"Color"]),d.treeArrowWidth=z,d.orderByArrowWidth=F,void 0!==(p=void 0!==p?p:B?B(U):"")||B||(p=""),d.formattedValue=(null!=p?p:"").toString(),t.columnFilters&&void 0!==t.columnFilters[p]&&g&&(d.formattedValue=t.attributes.filterTextPrefix+p),t.ctx.font=t.style[m+"FontHeight"]*t.scale+"px "+t.style[m+"FontName"],t.dispatchEvent("formattext",U)||(d.text=function(e,n){if(!e.formattedValue)return{lines:[{width:0,value:""}],width:0,height:e.calculatedLineHeight};var r,i,a,o,s,u,l=e.formattedValue.split(n),c=e.calculatedLineHeight,h=[],f="nowrap"!==t.style.cellWhiteSpace,d=t.attributes.autoResizeRows&&f,p=t.attributes.ellipsisText,m={width:0,value:""},g=f?e.paddedHeight:e.calculatedLineHeight;for(h.push(m),a=t.ctx.measureText(" "+p).width,r=0;r<l.length;r+=1){i=l[r];var _=t.ctx.measureText(i+n);if(m.width+_.width+a<e.paddedWidth)m.value+=i+n,m.width+=_.width;else if(/\w-\w/.test(i)&&e.paddedWidth<_.width)l.splice(r,1,i.split("-")[0]+"-",i.split("-")[1]),r-=1;else{if(m={width:_.width,value:i+n},0===r&&(h=[]).push(m),(c+=e.calculatedLineHeight)>g&&!d){if(0===h.length)break;if(1,(u=h[h.length-1]).width<e.paddedWidth&&1===l.length)break;var v=s=u.value+i;if((o=t.ctx.measureText(s+p).width)>e.paddedWidth)for(var y=parseInt(s.length/2),b=-1;y>0;)s=v.substr(0,y*b+s.length),b=(o=t.ctx.measureText(s+p).width)>e.paddedWidth?-1:1,y=parseInt(y/2);s+=v.length!=s.length?p:"",u.value=s,u.width=o;break}r>0&&h.push(m)}}return{lines:h,width:0,height:e.calculatedLineHeight*h.length}}(d," ")),t.dispatchEvent("rendertext",U)||(d.innerHTML||"html"===i.type?u(d):function(e){e.text.lines.length;var n,r,i=e.fontHeight*e.lineHeight,a="nowrap"!==t.style.cellWhiteSpace,o=0;for(n=0;n<e.text.lines.length;n+=1){r=e.text.lines[n];var s=Math.max(.5*(e.height-(a?e.text.height:e.calculatedLineHeight)),0)+i,u=e.paddingLeft+e.treeArrowWidth+e.orderByArrowWidth;"right"===e.horizontalAlignment?u=e.paddingLeft+e.paddedWidth-r.width:"center"===e.horizontalAlignment&&(u=e.paddingLeft+(e.paddedWidth+e.paddingRight)/2-r.width/2),"top"===e.verticalAlignment?s=e.calculatedLineHeight:"bottom"===e.verticalAlignment&&(s=e.height-e.paddingBottom-e.text.height),r.height=i+e.lineSpacing,r.offsetLeft=u,r.offsetTop=s,r.x=e.x+u,r.y=e.y+o+s,o+=r.height,f(r.value,r.x,r.y)}t.attributes.debug&&e.active&&requestAnimationFrame((function(){t.ctx.font=t.style.debugFont,t.ctx.fillStyle=t.style.debugColor,f(JSON.stringify({x:e.x,y:e.y,h:e.height,w:e.width,pw:e.paddedWidth,idx:e.columnIndex,idx_ord:e.sortColumnIndex},null,"\t"),e.x+14,e.y+14),f(JSON.stringify(e.text.lines.map((function(t){return{w:t.width,v:t.value.length}})),null,"\t"),e.x+14,e.y+30)}))}(d),E&&d.text&&d.text.height>S&&(t.sizes.rows[g?-1:r]=d.text.height,_=!0)));return N&&(L=d),tt(d,W,"selection"),function(e){(t.attributes.allowMovingSelection||t.mobile)&&(e.selectionBorderTop&&e.selectionBorderRight&&t.mobile&&(X.push([e,"tr"]),e.selectionHandle="tr"),e.selectionBorderTop&&e.selectionBorderLeft&&t.mobile&&(X.push([e,"tl"]),e.selectionHandle="tl"),e.selectionBorderBottom&&e.selectionBorderLeft&&t.mobile&&(X.push([e,"bl"]),e.selectionHandle="bl"),e.selectionBorderBottom&&e.selectionBorderRight&&("none"!==t.attributes.selectionHandleBehavior||t.mobile)&&(X.push([e,"br"]),e.selectionHandle="br"))}(d),t.movingSelection&&tt(d,$,"move",t.moveOffset),t.ctx.restore(),A+=d.width+(G?0:t.style.cellBorderWidth),d.width}}}function nt(e,n){var r,i,a,o,s=N.length;if(C-2*Q>O)return!1;if(P=V[e],T=t.openChildren[e],a=(t.sizes.rows[e]||t.style.cellHeight)*t.scale,i=(T?t.sizes.trees[e]:0)*t.scale,C<-(S=a+i))return!1;for(t.attributes.showRowHeaders&&(A+=J),Q=S,o=t.scrollIndexLeft;o<s;o+=1)if(r=t.orders.columns[o],(A+=et(P,e,n)(N[r],r,o))>t.width){t.scrollIndexRight=o,t.scrollPixelRight=A;break}for(A=0,t.attributes.showRowHeaders&&(A+=J),o=0;o<t.frozenColumn&&(r=t.orders.columns[o],!((A+=et(P,e,n)(N[r],r,o))>t.width));o+=1);return t.lastFrozenColumnPixel=A,Q=S,A=-t.scrollBox.scrollLeft+t.scrollPixelLeft+t.style.cellBorderWidth,w=t.childGrids[e],e!==V.length&&T?(w.visible=!0,w.parentNode={offsetTop:C+a+t.canvasOffsetTop,offsetLeft:J-1+t.canvasOffsetLeft,offsetHeight:i,offsetWidth:t.width-J-t.style.scrollBarWidth-1,offsetParent:t.intf.parentNode,parentNode:t.intf.parentNode,style:t.style,nodeType:"canvas-datagrid-tree",scrollTop:t.scrollBox.scrollTop,scrollLeft:t.scrollBox.scrollLeft,rowIndex:e},t.visibleCells.unshift({rowIndex:e,columnIndex:0,y:w.parentNode.offsetTop,x:w.parentNode.offsetLeft,height:w.height,width:w.width,style:"tree-grid",type:w.parentNode.nodeType}),w.draw()):w&&(w.parentNode.offsetHeight=0,delete t.sizes.trees[e]),q.push([P,e,n,C,S]),t.visibleRowHeights[e]=S,C+=Q+(G?0:t.style.cellBorderWidth),!0}}}}.apply(e,[]))||(t.exports=r)},"./lib/events.js":
/*!***********************!*\
    !*** ./lib/events.js ***!
    \***********************/
/*! no static exports found */
function(t,e,n){var r,i=n(
/*! is-printable-key-event */
"./node_modules/is-printable-key-event/dist/index.js");void 0===(r=function(){"use strict";return function(t){var e;t.stopPropagation=function(t){t.stopPropagation()},t.addEventListener=function(e,n){t.events[e]=t.events[e]||[],t.events[e].unshift(n)},t.removeEventListener=function(e,n){(t.events[e]||[]).forEach((function(r,i){n===r&&t.events[e].splice(i,1)}))},t.dispatchEvent=function(e,n){var r;function i(){r=!0}if(n=e.type?e:n||{},e=e.type||e,t.events[e])return t.events[e].forEach((function(e){n.ctx=t.ctx,n.preventDefault=i,e.apply(t.intf,[n])})),r},t.getRatio=function(){return Math.min(t.attributes.maxPixelRatio,(window.devicePixelRatio||1)/(t.ctx.webkitBackingStorePixelRatio||t.ctx.mozBackingStorePixelRatio||t.ctx.msBackingStorePixelRatio||t.ctx.oBackingStorePixelRatio||t.ctx.backingStorePixelRatio||1))},t.resize=function(e){if(t.canvas){var n,r,i={x:0,y:0,height:0,width:0,style:"vertical-scroll-bar"},a={x:0,y:0,height:0,width:0,style:"horizontal-scroll-bar"},o={x:0,y:0,height:0,width:0,style:"vertical-scroll-box"},s={x:0,y:0,height:0,width:0,style:"horizontal-scroll-box"},u={x:0,y:0,height:0,width:0,isCorner:!0,isScrollBoxCorner:!0,style:"scroll-box-corner"},l=2*t.style.scrollBarBoxMargin,c=2*t.style.scrollBarBorderWidth,h=.5*t.style.scrollBarBoxMargin,f=t.style.scrollBarWidth+2*t.style.scrollBarBorderWidth,d=t.getRatio(),p="collapse"===t.style.gridBorderCollapse?1:2,m=t.style.cellBorderWidth*p,g=t.style.columnHeaderCellBorderWidth*p,_=0,v=0,y=(t.data||[]).length,b=t.getColumnHeaderCellHeight(),x=t.getRowHeaderCellWidth(),w=t.style.cellHeight,T=t.getSchema();for(t.scrollCache.x=[],t.scrollCache.y=[],n=0;n<y;n+=1)t.scrollCache.y[n]=_,_+=((t.sizes.rows[n]||w)+(t.sizes.trees[n]||0))*t.scale+(t.frozenRow>n&&t.sizes.trees[n]||0);return y>1&&(t.scrollCache.y[n]=_),v=T.reduce((function(e,n,r){if(T[t.orders.columns[r]].hidden)return t.scrollCache.x[r]=e,e;var i=e+t.getColummnWidth(t.orders.columns[r]);return t.scrollCache.x[r]=i,i}),0)||0,t.attributes.showNewRow&&(_+=w),t.attributes.snapToRow&&(_+=t.style.cellHeight),C(),t.isChildGrid?(t.width=t.parentNode.offsetWidth,t.height=t.parentNode.offsetHeight):t.height===t.canvas.offsetHeight&&t.width===t.canvas.offsetWidth||(t.height=t.canvas.offsetHeight,t.width=t.canvas.offsetWidth,t.canvasOffsetLeft=t.args.canvasOffsetLeft||0,t.canvasOffsetTop=t.args.canvasOffsetTop||0),t.scrollBox.top=b+g,t.scrollBox.left=x,E(),S(),t.scrollBox.horizontalBarVisible&&("auto"!==t.style.height||t.isChildGrid||(t.height+=f),_+=f,C(),E(),S()),t.scrollBox.verticalBarVisible&&("auto"!==t.style.width||t.isChildGrid||(t.width+=f),v+=f,C(),E(),S()),E(),t.scrollBox.scrollWidth=v-t.scrollBox.width,t.scrollBox.scrollHeight=_-t.scrollBox.height,t.scrollBox.widthBoxRatio=t.scrollBox.width/v,t.scrollBox.scrollBoxWidth=t.scrollBox.width*t.scrollBox.widthBoxRatio-t.style.scrollBarWidth-c-h,t.scrollBox.heightBoxRatio=(t.scrollBox.height-b)/_,t.scrollBox.scrollBoxHeight=t.scrollBox.height*t.scrollBox.heightBoxRatio-t.style.scrollBarWidth-c-h,t.scrollBox.scrollBoxWidth=Math.max(t.scrollBox.scrollBoxWidth,t.style.scrollBarBoxMinSize),t.scrollBox.scrollBoxHeight=Math.max(t.scrollBox.scrollBoxHeight,t.style.scrollBarBoxMinSize),a.x+=x,a.y+=t.height-t.style.scrollBarWidth-h,a.width=t.width-t.style.scrollBarWidth-x-h-l,a.height=t.style.scrollBarWidth+t.style.scrollBarBorderWidth+h,s.y=a.y+t.style.scrollBarBoxMargin,s.width=t.scrollBox.scrollBoxWidth,s.height=t.style.scrollBarBoxWidth,i.x+=t.width-t.style.scrollBarWidth-t.style.scrollBarBorderWidth-h,i.y+=b,i.width=t.style.scrollBarWidth+t.style.scrollBarBorderWidth+h,i.height=t.height-b-t.style.scrollBarWidth-h-l,o.x=i.x+t.style.scrollBarBoxMargin,o.width=t.style.scrollBarBoxWidth,o.height=t.scrollBox.scrollBoxHeight,u.x=a.x+a.width+l,u.y=i.y+i.height+l,u.width=t.style.scrollBarWidth+t.style.scrollBarBorderWidth,u.height=t.style.scrollBarWidth+t.style.scrollBarBorderWidth,t.scrollBox.entities={horizontalBar:a,horizontalBox:s,verticalBar:i,verticalBox:o,corner:u},t.scrollBox.bar={v:i,h:a},t.scrollBox.box={v:o,h:s},t.page=Math.max(1,t.visibleRows.length-3-t.attributes.pageUpDownOverlap),t.isChildGrid||(t.canvas.width=t.width*d,t.canvas.height=t.height*d,t.ctx.scale(d,d)),t.resizeEditInput(),t.scroll(!0),e&&t.draw(!0),t.dispatchEvent("resize",{}),!0}function S(){t.scrollBox.horizontalBarVisible="auto"!==t.style.width&&v>t.scrollBox.width&&"hidden"!==t.style.overflowX||"scroll"===t.style.overflowX,t.scrollBox.horizontalBoxVisible=v>t.scrollBox.width,t.scrollBox.verticalBarVisible="auto"!==t.style.height&&_>t.scrollBox.height&&"hidden"!==t.style.overflowY||"scroll"===t.style.overflowY,t.scrollBox.verticalBoxVisible=_>t.scrollBox.height}function E(){t.scrollBox.width=t.width-x,t.scrollBox.height=t.height-b}function C(){t.isChildGrid||(r={height:b+_+m+1,width:v+x+m},["width","height"].forEach((function(e){-1!==["auto",void 0].indexOf(t.style[e])&&-1!==["auto",void 0].indexOf(t.appliedInlineStyles[e])?t.parentNodeStyle[e]=r[e]+"px":-1==["auto",void 0].indexOf(t.style[e])&&-1==["auto",void 0].indexOf(t.appliedInlineStyles[e])&&(t.parentNodeStyle[e]=t.style[e],t.isComponet&&(t.canvas.style[e]=t.style[e]))})))}},t.scroll=function(e){var n=t.getSchema(),r=(t.data||[]).length,i=t.style.cellHeight;for(t.scrollIndexTop=Math.floor(r*(t.scrollBox.scrollTop/t.scrollBox.scrollHeight)-100),t.scrollIndexTop=Math.max(t.scrollIndexTop,0),t.scrollPixelTop=t.scrollCache.y[t.scrollIndexTop],0===t.scrollBox.scrollHeight&&(t.scrollIndexTop=0),t.scrollPixelTop=0,t.scrollIndexLeft=t.frozenColumn,t.scrollPixelLeft=0;t.scrollPixelTop<t.scrollBox.scrollTop&&t.scrollIndexTop<t.data.length;)t.scrollIndexTop+=1,t.scrollPixelTop=t.scrollCache.y[t.scrollIndexTop];for(;t.scrollPixelLeft<t.scrollBox.scrollLeft+1&&t.scrollIndexLeft<n.length;)t.scrollPixelLeft=t.scrollCache.x[t.scrollIndexLeft],t.scrollIndexLeft+=1;n.length>0&&(t.scrollIndexLeft=Math.max(t.scrollIndexLeft-1,0),t.scrollPixelLeft-=t.getColummnWidth(t.orders.columns[t.scrollIndexLeft])),(t.data||[]).length>0&&(t.scrollIndexTop=Math.max(t.scrollIndexTop-1,0),t.scrollPixelTop=Math.max(t.scrollPixelTop-(t.data[t.scrollIndexTop]?(t.sizes.rows[t.scrollIndexTop]||i)+(t.sizes.trees[t.scrollIndexTop]||0):i)*t.scale,0)),t.ellipsisCache={},e||t.draw(!0),requestAnimationFrame(t.resizeEditInput),t.dispatchEvent("scroll",{top:t.scrollBox.scrollTop,left:t.scrollBox.scrollLeft})},t.mousemove=function(e,n){if(!t.contextMenu&&!t.input){t.mouse=n||t.getLayerPos(e);var r,i,a,o,s=(e.ctrlKey||e.metaKey||t.attributes.persistantSelectionMode)&&!t.attributes.singleSelectionMode,u=t.getSchema(),l=t.mouse.x,c=t.mouse.y,h=t.getCellAt(l,c),f={NativeEvent:e,cell:h,x:l,y:c},d=t.currentCell;if(clearTimeout(t.scrollTimer),t.isInGrid({x:l,y:c})||(t.hasFocus=!1),!t.dispatchEvent("mousemove",f)&&(h&&t.currentCell&&(t.rowBoundaryCrossed=t.currentCell.rowIndex!==h.rowIndex,t.columnBoundaryCrossed=t.currentCell.columnIndex!==h.columnIndex,t.cellBoundaryCrossed=t.rowBoundaryCrossed||t.columnBoundaryCrossed,["row","column","cell"].forEach((function(e){t[e+"BoundaryCrossed"]&&(f.cell=d,t.dispatchEvent(e+"mouseout",f),f.cell=h,t.dispatchEvent(e+"mouseover",f))}))),t.currentCell=h,t.hasFocus)){if(t.hovers={},!t.draggingItem&&h&&-1===t.scrollModes.indexOf(h.context)&&(t.dragItem=h,t.dragMode=h.dragContext,t.cursor=h.context,"cell"===h.context&&(t.cursor="default",t.hovers={rowIndex:h.rowIndex,columnIndex:h.columnIndex}),(t.selecting||t.reorderObject)&&"cell"===h.context)){if(o={x:Math.abs(t.dragStart.x-l),y:Math.abs(t.dragStart.y-c)},-1!==t.dragStartObject.columnIndex&&e.shiftKey&&(t.dragStartObject={rowIndex:t.activeCell.rowIndex,columnIndex:t.activeCell.columnIndex}),i={top:Math.min(t.dragStartObject.rowIndex,h.rowIndex),left:Math.min(t.dragStartObject.columnIndex,h.columnIndex),bottom:Math.max(t.dragStartObject.rowIndex,h.rowIndex),right:Math.max(t.dragStartObject.columnIndex,h.columnIndex)},-1===t.dragStartObject.columnIndex&&(a=t.getSelectionBounds(),i.left=-1,i.right=u.length-1,i.top=Math.min(a.top,h.rowIndex),i.bottom=Math.max(a.bottom,h.rowIndex)),t.dragStartObject.rowIndex===h.rowIndex&&t.dragStartObject.columnIndex===h.columnIndex||(t.ignoreNextClick=!0),(t.cellBoundaryCrossed||0===o.x&&0===o.y||"row"===t.attributes.selectionMode)&&("row"!==t.attributes.selectionMode&&-1!==t.dragStartObject.columnIndex||!t.rowBoundaryCrossed?"row"!==t.attributes.selectionMode&&(t.dragAddToSelection||void 0===h.rowIndex?(t.selections[h.rowIndex]=t.selections[h.rowIndex]||[],-1===t.selections[h.rowIndex].indexOf(h.columnIndex)&&t.selections[h.rowIndex].push(h.columnIndex)):t.selections[h.rowIndex]&&-1!==t.selections[h.rowIndex].indexOf(h.columnIndex)&&t.selections[h.rowIndex].splice(t.selections[h.rowIndex].indexOf(h.columnIndex),1)):t.selectRow(h.rowIndex,s,null,!0)),!(t.selectionBounds&&i.top===t.selectionBounds.top&&i.left===t.selectionBounds.left&&i.bottom===t.selectionBounds.bottom&&i.right===t.selectionBounds.right||s))if(t.selections=[],a=i,"row"===t.attributes.selectionMode)for(r=a.top;r<=a.bottom;r+=1)t.selectRow(r,!0,null,!0);else-1!==i.top&&t.selectArea(a,!0);t.autoScrollZone(e,l,c,s)}t.cellBoundaryCrossed=!1,t.rowBoundaryCrossed=!1,t.columnBoundaryCrossed=!1,t.draw(!0)}}},t.click=function(e,n){var r,i=JSON.stringify(t.getSelectionBounds()),a=(e.ctrlKey||e.metaKey||t.attributes.persistantSelectionMode)&&!t.attributes.singleSelectionMode,o=n||t.getLayerPos(e);if(t.currentCell=t.getCellAt(o.x,o.y),void 0===t.currentCell.grid)if(t.input&&t.endEdit(),t.ignoreNextClick)t.ignoreNextClick=!1;else if(r=t.currentCell,!t.dispatchEvent("click",{NativeEvent:e,cell:t.currentCell})&&t.hasFocus){if(-1!==["rowHeaderCell","columnHeaderCell"].indexOf(t.currentCell.style)||a||t.setActiveCell(r.columnIndex,r.rowIndex),"cell"===t.currentCell.context){if("cornerCell"===t.currentCell.style)return t.selectAll(),t.draw(),void s();if("columnHeaderCell"===t.currentCell.style){if("sort"===t.attributes.columnHeaderClickBehavior)return t.orderBy===r.header.name?t.orderDirection="asc"===t.orderDirection?"desc":"asc":t.orderDirection="asc",t.order(r.header.name,t.orderDirection),void s();if("select"===t.attributes.columnHeaderClickBehavior)return t.selectColumn(r.header.index,a,e.shiftKey),void t.draw()}if(t.selections[r.rowIndex]=t.selections[r.rowIndex]||[],("row"===t.attributes.selectionMode||"rowHeaderCell"===t.currentCell.style)&&"rowHeaderCell"===t.currentCell.style&&t.attributes.tree&&o.x>0&&o.x-t.currentCell.x<t.style.treeArrowWidth+t.style.treeArrowMarginLeft+t.style.treeArrowMarginRight+t.style.treeArrowClickRadius&&o.y-t.currentCell.y<t.style.treeArrowHeight+t.style.treeArrowMarginTop+t.style.treeArrowClickRadius&&o.y>0)return void t.toggleTree(r.rowIndex);e.shiftKey&&!a&&(t.selectionBounds=t.getSelectionBounds(),t.selectArea(void 0,!1))}s(),t.draw(!0)}function s(){var e,n=t.getSelectionBounds();i!==JSON.stringify(n)&&(e={selections:t.selections,selectionBounds:t.getSelectionBounds()},Object.defineProperty(e,"selectedData",{get:function(){return t.getSelectedData()}}),t.dispatchEvent("selectionchanged",e))}},t.dragResizeColumn=function(e){var n,r,i;return n=t.getLayerPos(e),r=t.resizingStartingWidth+n.x-t.dragStart.x,i=t.resizingStartingHeight+n.y-t.dragStart.y,r<t.style.minColumnWidth&&(r=t.style.minColumnWidth),i<t.style.minRowHeight&&(i=t.style.minRowHeight),!t.dispatchEvent("resizecolumn",{x:r,y:i,draggingItem:t.draggingItem})&&(t.scrollBox.scrollLeft>t.scrollBox.scrollWidth-t.attributes.resizeScrollZone&&"ew-resize"===t.dragMode&&(t.resize(!0),t.scrollBox.scrollLeft+=r),"ew-resize"===t.dragMode?(t.sizes.columns["rowHeaderCell"===t.draggingItem.header.style?"cornerCell":t.draggingItem.sortColumnIndex]=r,-1!==["rowHeaderCell","cornerCell"].indexOf(t.draggingItem.header.style)&&t.resize(!0),void t.resizeChildGrids()):"ns-resize"===t.dragMode?(t.draggingItem.rowOpen?t.sizes.trees[t.draggingItem.rowIndex]=i:t.attributes.globalRowResize?t.style.cellHeight=i:t.sizes.rows[t.draggingItem.rowIndex]=i,t.dispatchEvent("resizerow",{row:i}),void t.resizeChildGrids()):void(t.ellipsisCache={}))},t.stopDragResize=function(){t.resize(),document.body.removeEventListener("mousemove",t.dragResizeColumn,!1),document.body.removeEventListener("mouseup",t.stopDragResize,!1),t.setStorageData(),t.draw(!0),t.ignoreNextClick=!0},t.scrollGrid=function(e){var n=t.getLayerPos(e);return t.attributes.scrollPointerLock&&t.pointerLockPosition&&-1!==["horizontal-scroll-box","vertical-scroll-box"].indexOf(t.scrollStartMode)&&(t.pointerLockPosition.x+=e.movementX,t.pointerLockPosition.y+=e.movementY,t.pointerLockPosition.x=Math.min(t.width-t.style.scrollBarWidth,Math.max(0,t.pointerLockPosition.x)),t.pointerLockPosition.y=Math.min(t.height-t.style.scrollBarWidth,Math.max(0,t.pointerLockPosition.y)),n=t.pointerLockPosition),t.scrollMode=t.getCellAt(n.x,n.y).context,"horizontal-scroll-box"===t.scrollMode&&"horizontal-scroll-box"!==t.scrollStartMode?(t.scrollStartMode="horizontal-scroll-box",t.dragStart=n,t.scrollStart.left=t.scrollBox.scrollLeft,void clearTimeout(t.scrollTimer)):"vertical-scroll-box"===t.scrollMode&&"vertical-scroll-box"!==t.scrollStartMode?(t.scrollStartMode="vertical-scroll-box",t.dragStart=n,t.scrollStart.top=t.scrollBox.scrollTop,void clearTimeout(t.scrollTimer)):("vertical-scroll-box"===t.scrollStartMode&&"vertical-scroll-box"!==t.scrollMode&&(t.scrollMode="vertical-scroll-box"),"horizontal-scroll-box"===t.scrollStartMode&&"horizontal-scroll-box"!==t.scrollMode&&(t.scrollMode="horizontal-scroll-box"),clearTimeout(t.scrollTimer),void(-1!==t.scrollModes.indexOf(t.scrollMode)&&("vertical-scroll-box"===t.scrollMode?t.scrollBox.scrollTop=t.scrollStart.top+(n.y-t.dragStart.y)/t.scrollBox.heightBoxRatio:"vertical-scroll-top"===t.scrollMode?(t.scrollBox.scrollTop-=t.page*t.style.cellHeight,t.scrollTimer=setTimeout(t.scrollGrid,t.attributes.scrollRepeatRate,e)):"vertical-scroll-bottom"===t.scrollMode&&(t.scrollBox.scrollTop+=t.page*t.style.cellHeight,t.scrollTimer=setTimeout(t.scrollGrid,t.attributes.scrollRepeatRate,e)),"horizontal-scroll-box"===t.scrollMode?t.scrollBox.scrollLeft=t.scrollStart.left+(n.x-t.dragStart.x)/t.scrollBox.widthBoxRatio:"horizontal-scroll-right"===t.scrollMode?(t.scrollBox.scrollLeft+=t.attributes.selectionScrollIncrement,t.scrollTimer=setTimeout(t.scrollGrid,t.attributes.scrollRepeatRate,e)):"horizontal-scroll-left"===t.scrollMode&&(t.scrollBox.scrollLeft-=t.attributes.selectionScrollIncrement,t.scrollTimer=setTimeout(t.scrollGrid,t.attributes.scrollRepeatRate,e)))))},t.stopScrollGrid=function(){clearTimeout(t.scrollTimer),document.exitPointerLock&&document.exitPointerLock(),document.removeEventListener("mousemove",t.scrollGrid,!1)},t.dragReorder=function(e){var n,r,i,a="column-reorder"===t.dragMode,o="row-reorder"===t.dragMode;r=(n=t.getLayerPos(e)).x-t.dragStart.x,i=n.y-t.dragStart.y,!t.attributes.allowColumnReordering&&a||!t.attributes.allowRowReordering&&o||t.dispatchEvent("reordering",{NativeEvent:e,source:t.dragStartObject,target:t.currentCell,dragMode:t.dragMode})||(Math.abs(r)>t.attributes.reorderDeadZone||Math.abs(i)>t.attributes.reorderDeadZone)&&(t.reorderObject=t.draggingItem,t.reorderTarget=t.currentCell,t.reorderObject.dragOffset={x:r,y:i},t.autoScrollZone(e,a?n.x:-1,o?n.y:-1,!1))},t.stopDragReorder=function(e){var n,r,i={"row-reorder":t.orders.rows,"column-reorder":t.orders.columns},a={"row-reorder":"rowIndex","column-reorder":"sortColumnIndex"}[t.dragMode];document.body.removeEventListener("mousemove",t.dragReorder,!1),document.body.removeEventListener("mouseup",t.stopDragReorder,!1),t.reorderObject&&t.reorderTarget&&("column-reorder"===t.dragMode&&t.reorderTarget.sortColumnIndex>-1&&t.reorderTarget.sortColumnIndex<t.getSchema().length||"row-reorder"===t.dragMode&&t.reorderTarget.rowIndex>-1&&t.reorderTarget.rowIndex<t.data.length)&&t.reorderObject[a]!==t.reorderTarget[a]&&!t.dispatchEvent("reorder",{NativeEvent:e,source:t.reorderObject,target:t.reorderTarget,dragMode:t.dragMode})&&(t.ignoreNextClick=!0,n=i[t.dragMode].indexOf(t.reorderObject[a]),r=i[t.dragMode].indexOf(t.reorderTarget[a]),i[t.dragMode].splice(n,1),i[t.dragMode].splice(r,0,t.reorderObject[a]),"column-reorder"===t.dragMode?t.orders.columns=i[t.dragMode]:t.orders.rows=i[t.dragMode],t.resize(),t.setStorageData()),t.reorderObject=void 0,t.reorderTarget=void 0,t.draw(!0)},t.dragMove=function(e){if(!t.dispatchEvent("moving",{NativeEvent:e,cell:t.currentCell})){var n=t.getLayerPos(e);t.moveOffset={x:t.currentCell.columnIndex-t.dragStartObject.columnIndex,y:t.currentCell.rowIndex-t.dragStartObject.rowIndex},(Math.abs(n.x)>t.attributes.reorderDeadZone||Math.abs(n.y)>t.attributes.reorderDeadZone)&&setTimeout((function(){t.autoScrollZone(e,n.x,n.y,!1)}),1)}},t.stopDragMove=function(e){document.body.removeEventListener("mousemove",t.dragMove,!1),document.body.removeEventListener("mouseup",t.stopDragMove,!1);var n=t.getSelectionBounds();if(t.dispatchEvent("endmove",{NativeEvent:e,cell:t.currentCell}))return t.movingSelection=void 0,t.moveOffset=void 0,void t.draw(!0);t.moveOffset&&(t.moveTo(t.movingSelection,n.left+t.moveOffset.x,n.top+t.moveOffset.y),t.moveSelection(t.moveOffset.x,t.moveOffset.y)),t.movingSelection=void 0,t.moveOffset=void 0,t.draw(!0)},t.freezeMove=function(e){if(!t.dispatchEvent("freezemoving",{NativeEvent:e,cell:t.currentCell})){var n=t.getLayerPos(e);t.ignoreNextClick=!0,t.freezeMarkerPosition=n,t.currentCell&&void 0!==t.currentCell.rowIndex&&"frozen-row-marker"===t.dragMode&&(t.scrollBox.scrollTop=0,t.frozenRow=t.currentCell.rowIndex+1),t.currentCell&&void 0!==t.currentCell.columnIndex&&"frozen-column-marker"===t.dragMode&&(t.scrollBox.scrollLeft=0,t.frozenColumn=t.currentCell.columnIndex+1),(Math.abs(n.x)>t.attributes.reorderDeadZone||Math.abs(n.y)>t.attributes.reorderDeadZone)&&setTimeout((function(){t.autoScrollZone(e,n.x,n.y,!1)}),1)}},t.stopFreezeMove=function(e){if(document.body.removeEventListener("mousemove",t.freezeMove,!1),document.body.removeEventListener("mouseup",t.stopFreezeMove,!1),t.freezeMarkerPosition=void 0,t.dispatchEvent("endfreezemove",{NativeEvent:e,cell:t.currentCell}))return t.frozenRow=t.startFreezeMove.x,t.frozenColumn=t.startFreezeMove.y,void t.draw(!0);t.draw(!0)},t.mousedown=function(e,n){if(t.lastMouseDownTarget=e.target,!t.dispatchEvent("mousedown",{NativeEvent:e,cell:t.currentCell})&&t.hasFocus&&2!==e.button&&!t.input){var r=e.ctrlKey||e.metaKey,i=/-move/.test(t.dragMode),a=/frozen-row-marker|frozen-column-marker/.test(t.dragMode),o=/-resize/.test(t.dragMode);if(t.dragStart=n||t.getLayerPos(e),t.scrollStart={left:t.scrollBox.scrollLeft,top:t.scrollBox.scrollTop},t.dragStartObject=t.getCellAt(t.dragStart.x,t.dragStart.y),t.dragAddToSelection=!t.dragStartObject.selected,r||e.shiftKey||/(vertical|horizontal)-scroll-(bar|box)/.test(t.dragStartObject.context)||!t.currentCell||t.currentCell.isColumnHeader||i||a||o||(t.selections=[]),!t.dragStartObject.isGrid){if(-1!==t.scrollModes.indexOf(t.dragStartObject.context))return t.scrollMode=t.dragStartObject.context,t.scrollStartMode=t.dragStartObject.context,t.scrollGrid(e),t.attributes.scrollPointerLock&&-1!==["horizontal-scroll-box","vertical-scroll-box"].indexOf(t.scrollStartMode)&&(t.pointerLockPosition={x:t.dragStart.x,y:t.dragStart.y},t.canvas.requestPointerLock()),document.addEventListener("mousemove",t.scrollGrid,!1),document.addEventListener("mouseup",t.stopScrollGrid,!1),void(t.ignoreNextClick=!0);if("cell"===t.dragMode)return t.selecting=!0,void(("row"===t.attributes.selectionMode||-1===t.dragStartObject.columnIndex)&&t.dragStartObject.rowIndex>-1?t.selectRow(t.dragStartObject.rowIndex,r,null):"row"!==t.attributes.selectionMode&&t.mousemove(e));if(i){if(t.draggingItem=t.dragItem,t.movingSelection=t.selections.concat([]),t.dragging=t.dragStartObject,t.dispatchEvent("beginmove",{NativeEvent:e,cell:t.currentCell}))return;return document.body.addEventListener("mousemove",t.dragMove,!1),document.body.addEventListener("mouseup",t.stopDragMove,!1),t.mousemove(e)}if(a){if(t.draggingItem=t.dragItem,t.startFreezeMove={x:t.frozenRow,y:t.frozenColumn},t.dispatchEvent("beginfreezemove",{NativeEvent:e}))return;return document.body.addEventListener("mousemove",t.freezeMove,!1),document.body.addEventListener("mouseup",t.stopFreezeMove,!1),t.mousemove(e)}return o?(t.draggingItem=t.dragItem,t.draggingItem.rowOpen?t.resizingStartingHeight=t.sizes.trees[t.draggingItem.rowIndex]:t.resizingStartingHeight=t.sizes.rows[t.draggingItem.rowIndex]||t.style.cellHeight,t.resizingStartingWidth=t.sizes.columns["rowHeaderCell"===t.draggingItem.header.style?"cornerCell":t.draggingItem.sortColumnIndex]||t.draggingItem.width,document.body.addEventListener("mousemove",t.dragResizeColumn,!1),void document.body.addEventListener("mouseup",t.stopDragResize,!1)):-1!==["row-reorder","column-reorder"].indexOf(t.dragMode)?(t.draggingItem=t.dragStartObject,document.body.addEventListener("mousemove",t.dragReorder,!1),void document.body.addEventListener("mouseup",t.stopDragReorder,!1)):void 0}}},t.mouseup=function(e){clearTimeout(t.scrollTimer),t.cellBoundaryCrossed=!0,t.rowBoundaryCrossed=!0,t.columnBoundaryCrossed=!0,t.selecting=void 0,t.draggingItem=void 0,t.dragStartObject=void 0,t.dispatchEvent("mouseup",{NativeEvent:e,cell:t.currentCell})||(t.hasFocus||e.target===t.canvas)&&(t.currentCell&&void 0!==t.currentCell.grid||t.contextMenu||t.input||(t.dragStart&&t.isInGrid(t.dragStart)&&t.controlInput.focus(),e.preventDefault()))},t.getAdjacentCells=function(){var e,n=t.getSchema(),r={};for(e=0;e<n.length;e+=1)n[t.orders.columns[e]].hidden||(void 0===r.first&&(r.first=e,r.left=e),r.last=e,e>t.activeCell.columnIndex&&void 0===r.right&&(r.right=e),e<t.activeCell.columnIndex&&(r.left=e));return void 0===r.right&&(r.right=r.last),r},t.keydown=function(e){var n,r=t.getAdjacentCells(),a=t.activeCell.columnIndex,o=t.activeCell.rowIndex,s=e.ctrlKey||e.metaKey,u=t.data.length-1,l=t.getSchema().length-1;if(!t.dispatchEvent("keydown",{NativeEvent:e,cell:t.currentCell})&&t.hasFocus){if(i(e)&&!s)return t.beginEditAt(a,o,e,!0);if(t.attributes.showNewRow&&(u+=1),"Tab"===e.key&&e.preventDefault(),"Escape"===e.key?(t.selections=[],t.draw(!0)):s&&"a"===e.key?t.selectAll():"ArrowDown"===e.key?o+=1:"ArrowUp"===e.key?o-=1:"ArrowLeft"===e.key||e.shiftKey&&"Tab"===e.key?a=r.left:"ArrowRight"===e.key||!e.shiftKey&&"Tab"===e.key?a=r.right:"PageUp"===e.key?(o-=t.page,e.preventDefault()):"PageDown"===e.key?(o+=t.page,e.preventDefault()):"Home"===e.key||s&&"ArrowUp"===e.key?o=0:"End"===e.key||s&&"ArrowDown"===e.key?o=t.data.length-1:s&&"ArrowRight"===e.key?a=r.last:s&&"ArrowLeft"===e.key&&(a=r.first),"Enter"===e.key)return e.preventDefault(),t.beginEditAt(a,o,e);(a<0||Number.isNaN(a))&&(a=r.first),o>u&&(o=u),(o<0||Number.isNaN(o))&&(o=0),a>l&&(a=r.last);var c=["ArrowLeft","ArrowUp","ArrowRight","ArrowDown"].includes(e.key);e.shiftKey&&c&&(t.selections[Math.max(o,0)]=t.selections[Math.max(o,0)]||[],t.selections[Math.max(o,0)].push(a),t.selectionBounds=t.getSelectionBounds(),t.selectArea(void 0,s),t.draw(!0)),a===t.activeCell.columnIndex&&o===t.activeCell.rowIndex||(t.scrollIntoView(a!==t.activeCell.columnIndex?a:void 0,o===t.activeCell.rowIndex||Number.isNaN(o)?void 0:o),t.setActiveCell(a,o),!e.shiftKey&&t.attributes.selectionFollowsActiveCell&&(s||(t.selections=[]),t.selections[o]=t.selections[o]||[],t.selections[o].push(a),n={selectedData:t.getSelectedData(),selections:t.selections,selectionBounds:t.getSelectionBounds()},Object.defineProperty(n,"selectedData",{get:function(){return t.getSelectedData()}}),t.dispatchEvent("selectionchanged",n)),t.draw(!0))}},t.keyup=function(e){t.dispatchEvent("keyup",{NativeEvent:e,cell:t.currentCell})||t.hasFocus},t.keypress=function(e){t.hasFocus&&t.dispatchEvent("keypress",{NativeEvent:e,cell:t.currentCell})},t.dblclick=function(e){t.dispatchEvent("dblclick",{NativeEvent:e,cell:t.currentCell})||t.hasFocus&&("ew-resize"===t.currentCell.context&&"columnHeaderCell"===t.currentCell.style?t.fitColumnToValues(t.currentCell.header.name):"ew-resize"===t.currentCell.context&&"cornerCell"===t.currentCell.style?t.autosize():-1!==["cell","activeCell"].indexOf(t.currentCell.style)&&t.beginEditAt(t.currentCell.columnIndex,t.currentCell.rowIndex))},t.scrollWheel=function(n){var r,i,a=n,o=void 0===n.deltaX?n.NativeEvent.deltaX:n.deltaX,s=void 0===n.deltaY?n.NativeEvent.deltaY:n.deltaY,u=void 0===n.deltaMode?n.NativeEvent.deltaMode:n.deltaMode;n=n.NativeEvent||n;e?a.preventDefault(n):t.dispatchEvent("wheel",{NativeEvent:n})||(t.touchHaltAnimation=!0,r=t.scrollBox.scrollLeft,i=t.scrollBox.scrollTop,t.hasFocus&&(1===u&&(s*=17),(t.scrollBox.scrollTop<t.scrollBox.scrollHeight&&s>0||t.scrollBox.scrollLeft<t.scrollBox.scrollWidth&&o>0||t.scrollBox.scrollTop>0&&s<0||t.scrollBox.scrollLeft>0&&o<0)&&a.preventDefault(n),e=setTimeout((function(){e=void 0,t.scrollBox.scrollTo(o+r,s+i)}),1)))},t.pasteData=function(e,n,r,i){var a=t.getVisibleSchema();if("text/html"!==n||!1!==/(?:^(<meta[^>]+>)?<table>)|(?:<!--StartFragment-->\s*<table>)/.test(e)){var o=function(t,e){return"text/html"===e?t.substring(t.indexOf("<table><tr>")+11,t.indexOf("</tr></table>")).split("</tr><tr>").filter((function(t){return!/^<th>|^<thead>/.test(t)})).map((function(t){return t.match(/<td>[^<]+/g).map((function(t){return t.replace(/^<td>/,"")}))})):t.split("\n").map((function(t){return[t]}))}(e,n);if(1===o.length){var s=o[0][0];t.forEachSelectedCell((function(t,e,n){t[e][n]=s}))}else{for(var u=[],l=0;l<o.length;l++){var c=t.orders.rows[r+l],h=o[l],f=t.data[c],d=Object.assign({},f);u[c]=[];for(var p=0;p<h.length;p++){var m=a[i+p];if(m){var g=m.name;null!=(s=h[p])?(u[c].push(i+p),d[g]=s):d[g]=f[g]}}t.data[c]=d}t.selections=u}var _=[];return t.selections.forEach((function(t,e){void 0!==e&&t.forEach((function(t){_.push([e,t])}))})),t.dispatchEvent("afterpaste",{cells:_}),o.length}},t.getNextVisibleColumnIndex=function(e){var n,r=t.getVisibleSchema();for(n=0;n<r.length;n+=1)if(r[n].columnIndex===e)return r[n+1].columnIndex;return-1},t.getVisibleColumnIndexOf=function(e){var n,r=t.getVisibleSchema();for(n=0;n<r.length;n+=1)if(r[n].columnIndex===e)return n;return-1},t.paste=function(e){if(t.attributes.editable&&!t.dispatchEvent("beforepaste",{NativeEvent:e})){var n=new Map(Array.from(e.clipboardData.items).map((function(t){return[t.type,t]}))),r=["text/html","text/csv","text/plain"].map((function(t){return n.get(t)})).filter((function(t){return!!t}));if(0!==r.length){var i=r[0],a=i.type;i.getAsString((function(e){t.pasteData(e,a,t.activeCell.rowIndex,t.getVisibleColumnIndexOf(t.activeCell.columnIndex)),t.draw()}))}}},t.cut=function(e){t.copy(e),t.forEachSelectedCell((function(t,e,n){t[e][n]=""}))},t.copy=function(e){if(!t.dispatchEvent("copy",{NativeEvent:e})&&t.hasFocus&&e.clipboardData){t.data;var n,r,i,a=[],o=[],s={},u=t.getSelectedData(),l=t.getSchema();u.length>0&&(u.forEach((function(e){var n=Object.keys(e);if(e){var r=[],i=[],u=[];l.forEach((function(e,n){u.push(l[t.orders.columns[n]])})),u.forEach((function(t,a){-1!==n.indexOf(t.name)&&(s[t.name]=!0,function(t,e,n,r){null!==t&&!1!==t&&void 0!==t&&t.replace?(e.push(h(t)),n.push('"'+t.replace(/"/g,'""')+'"')):void 0!==t?(n.push(t),e.push(h(t))):(n.push(""),e.push("<td>&nbsp;</td>"))}(e[t.name],r,i))})),a.push(r.join("")),o.push(i.join(","))}})),n=f(i=Object.keys(s))+o.join("\n"),r="<table>"+f(i,!0)+"<tr>"+a.join("</tr><tr>")+"</tr></table>",1===i.length&&(n=n.substring(1,n.length-1)),e.clipboardData.setData("text/html",r),e.clipboardData.setData("text/plain",n),e.clipboardData.setData("text/csv",n),e.clipboardData.setData("application/json",JSON.stringify(u)),e.preventDefault())}function c(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function h(t){return"<td>"+("string"==typeof(t=null==t?"":t)?c(t):t)+"</td>"}function f(n,r){if(!l.length||n.length<2)return"";var i=[];return r&&i.push("<tr>"),l.forEach((function(a,o){if(!(a=l[t.orders.columns[o]]).hidden&&-1!==n.indexOf(a.name)){var s={NativeEvent:e,column:a};t.dispatchEvent("copyonschema",s)&&(a=s.column);var u=a.name||a.title||"";r?i.push("<th>"+c(u)+"</th>"):i.push('"'+u.replace(/"/g,'""')+'"')}})),i.push(r?"</tr>":"\n"),i.join(r?"":",")}}}}.apply(e,[]))||(t.exports=r)},"./lib/intf.js":
/*!*********************!*\
    !*** ./lib/intf.js ***!
    \*********************/
/*! no static exports found */
function(t,e,n){var r;function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}void 0===(r=function(){"use strict";return function(t,e){function n(t,e){var n,r=[];for(n=t;n<=e;n+=1)r[n]=n;return r}t.scale=1,t.orders={rows:[],columns:[]},t.appliedInlineStyles={},t.cellGridAttributes={},t.treeGridAttributes={},t.visibleRowHeights=[],t.hasFocus=!1,t.activeCell={columnIndex:0,rowIndex:0},t.innerHTML="",t.storageName="canvasDataGrid",t.invalidSearchExpClass="canvas-datagrid-invalid-search-regExp",t.localStyleLibraryStorageKey="canvas-datagrid-user-style-library",t.dataType="application/x-canvas-datagrid",t.orderBy=null,t.orderDirection="asc",t.orderings={columns:[],add:function(e,n,r){t.orderings.columns=t.orderings.columns.filter((function(t){return t.orderBy!==e})),t.orderings.columns.push({orderBy:e,orderDirection:n,sortFunction:r})},sort:function(){t.orderings.columns.forEach((function(e){t.data.sort(e.sortFunction(e.orderBy,e.orderDirection))}))}},t.columnFilters={},t.filters={},t.frozenRow=0,t.frozenColumn=0,t.ellipsisCache={},t.scrollCache={x:[],y:[]},t.scrollBox={},t.visibleRows=[],t.visibleCells=[],t.sizes={rows:{},columns:{},trees:{}},t.currentFilter=function(){return!0},t.selections=[],t.hovers={},t.attributes={},t.style={},t.formatters={},t.sorters={},t.parsers={},t.schemaHashes={},t.events={},t.changes=[],t.scrollIndexTop=0,t.scrollPixelTop=0,t.scrollIndexLeft=0,t.scrollPixelLeft=0,t.childGrids={},t.openChildren={},t.scrollModes=["vertical-scroll-box","vertical-scroll-top","vertical-scroll-bottom","horizontal-scroll-box","horizontal-scroll-right","horizontal-scroll-left"],t.componentL1Events={},t.eventNames=["afterdraw","afterrendercell","attributechanged","beforebeginedit","beforecreatecellgrid","beforedraw","beforeendedit","beforerendercell","beforerendercellgrid","beginedit","cellmouseout","cellmouseover","click","collapsetree","contextmenu","copy","datachanged","dblclick","endedit","expandtree","formatcellvalue","keydown","keypress","keyup","mousedown","mousemove","mouseup","newrow","ordercolumn","rendercell","rendercellgrid","renderorderbyarrow","rendertext","rendertreearrow","reorder","reordering","resize","resizecolumn","resizerow","schemachanged","scroll","selectionchanged","stylechanged","touchcancel","touchend","touchmove","touchstart","wheel"],t.mouse={x:0,y:0},t.getSelectedData=function(e){var n=[],r=t.getSchema(),i=t.data.length;return 0===i?[]:(t.selections.forEach((function(a,o){a&&o!==i&&(0!==a.length?(n[o]={},a.forEach((function(i){var a;-1!==i&&r[i]&&(a=t.orders.columns[i],!e&&r[a].hidden||t.data[o]&&(n[o][r[a].name]=t.data[o][r[a].name]))}))):n[o]=null)})),n)},t.getColumnHeaderCellHeight=function(){return t.attributes.showColumnHeaders?(t.sizes.rows[-1]||t.style.columnHeaderCellHeight)*t.scale:0},t.getRowHeaderCellWidth=function(){return t.attributes.showRowHeaders?(t.sizes.columns[-1]||t.style.rowHeaderCellWidth)*t.scale:0},t.setStorageData=function(){if(t.attributes.saveAppearance&&t.attributes.name){var e={};t.getSchema().forEach((function(t){e[t.name]=!t.hidden})),localStorage.setItem(t.storageName+"-"+t.attributes.name,JSON.stringify({sizes:{rows:t.sizes.rows,columns:t.sizes.columns},orders:{rows:t.orders.rows,columns:t.orders.columns},orderBy:t.orderBy,orderDirection:t.orderDirection,visibility:e}))}},t.getSchema=function(){return t.schema||t.tempSchema||[]},t.createColumnOrders=function(){var e=t.getSchema();t.orders.columns=n(0,e.length-1)},t.createRowOrders=function(){t.orders.rows=n(0,t.data.length-1)},t.getVisibleSchema=function(){return t.getSchema().filter((function(t){return!t.hidden}))},t.applyDefaultValue=function(e,n){var r=n.defaultValue||"";"function"==typeof r&&(r=r.apply(t.intf,[n])),e[n.name]=r},t.createNewRowData=function(){t.newRow={},t.getSchema().forEach((function(e){t.applyDefaultValue(t.newRow,e)}))},t.getSchemaNameHash=function(e){for(var n=0;t.schemaHashes[e];)e+=n+=1;return e},t.filter=function(e){var n=t.filters[e];return n||void 0===e||(n=t.filters.string),n},t.applyFilter=function(){t.refreshFromOrigialData(),Object.keys(t.columnFilters).forEach((function(e){var n=t.getHeaderByName(e);n&&(t.currentFilter=n.filter||t.filter(n.type||"string"),t.data=t.data.filter((function(n){return t.currentFilter(n[e],t.columnFilters[e])})))})),t.resize(),t.draw(!0)},t.applyDataTransforms=function(){t.applyFilter(),t.orderings.sort()},t.getBestGuessDataType=function(t,e){var n,r,a=e.length;for(r=0;r<a;r+=1)if(void 0!==e[r]&&null!==e[r]&&-1!==[null,void 0].indexOf(e[r][t]))return"object"===(n=i(e[r]))?"string":n;return"string"},t.drawChildGrids=function(){Object.keys(t.childGrids).forEach((function(e){t.childGrids[e].draw()}))},t.resizeChildGrids=function(){Object.keys(t.childGrids).forEach((function(e){t.childGrids[e].resize()}))},t.autoScrollZone=function(e,n,r,i){var a,o=t.getRowHeaderCellWidth(),s=t.getColumnHeaderCellHeight();-1!==r&&(n>t.width-t.attributes.selectionScrollZone&&n<t.width&&(t.scrollBox.scrollLeft+=t.attributes.selectionScrollIncrement,a=!0),n-t.attributes.selectionScrollZone-o<0&&(t.scrollBox.scrollLeft-=t.attributes.selectionScrollIncrement,a=!0)),-1!==r&&(r>t.height-t.attributes.selectionScrollZone&&r<t.height&&(t.scrollBox.scrollTop+=t.attributes.selectionScrollIncrement,a=!0),r-t.attributes.selectionScrollZone-s<0&&(t.scrollBox.scrollTop-=t.attributes.selectionScrollIncrement,a=!0)),a&&!i&&t.currentCell&&-1!==t.currentCell.columnIndex&&(t.scrollTimer=setTimeout(t.mousemove,t.attributes.scrollRepeatRate,e))},t.refreshFromOrigialData=function(){t.data=t.originalData.filter((function(t){return!0}))},t.validateColumn=function(t,e){if(!t.name)throw new Error("A column must contain at least a name.");if(e.filter((function(e){return e.name===t.name})).length>0)throw new Error("A column with the name "+t.name+" already exists and cannot be added again.");return!0},t.setDefaults=function(t,e,n,r){t[n]=void 0===e[n]?r:e[n]},t.setAttributes=function(){t.defaults.attributes.forEach((function(e){t.setDefaults(t.attributes,t.args,e[0],e[1])}))},t.setStyle=function(){t.defaults.styles.forEach((function(e){t.setDefaults(t.style,t.args.style||{},e[0],e[1])}))},t.autosize=function(e){t.getVisibleSchema().forEach((function(n,r){n.name!==e&&void 0!==e||(t.sizes.columns[r]=Math.max(t.findColumnMaxTextLength(n.name),t.style.minColumnWidth))})),t.sizes.columns[-1]=t.findColumnMaxTextLength("cornerCell")},t.dispose=function(){!t.isChildGrid&&t.canvas&&t.canvas.parentNode&&t.canvas.parentNode.removeChild(t.canvas),t.isChildGrid||document.body.removeChild(t.controlInput),t.eventParent.removeEventListener("mouseup",t.mouseup,!1),t.eventParent.removeEventListener("mousedown",t.mousedown,!1),t.eventParent.removeEventListener("dblclick",t.dblclick,!1),t.eventParent.removeEventListener("click",t.click,!1),t.eventParent.removeEventListener("mousemove",t.mousemove),t.eventParent.removeEventListener("wheel",t.scrollWheel,!1),t.canvas.removeEventListener("contextmenu",t.contextmenu,!1),t.canvas.removeEventListener("copy",t.copy),t.controlInput.removeEventListener("copy",t.copy),t.controlInput.removeEventListener("cut",t.cut),t.controlInput.removeEventListener("paste",t.paste),t.controlInput.removeEventListener("keypress",t.keypress,!1),t.controlInput.removeEventListener("keyup",t.keyup,!1),t.controlInput.removeEventListener("keydown",t.keydown,!1),window.removeEventListener("resize",t.resize),t.observer&&t.observer.disconnect&&t.observer.disconnect()},t.tryLoadStoredSettings=function(){var e;t.reloadStoredValues(),t.storedSettings&&"object"===i(t.storedSettings.orders)&&null!==t.storedSettings.orders&&(t.storedSettings.orders.rows.length>=(t.data||[]).length&&(t.orders.rows=t.storedSettings.orders.rows),e=t.getSchema(),t.storedSettings.orders.columns.length===e.length&&(t.orders.columns=t.storedSettings.orders.columns),t.orderBy=void 0===t.storedSettings.orderBy?e[0].name:t.storedSettings.orderBy,t.orderDirection=void 0===t.storedSettings.orderDirection?"asc":t.storedSettings.orderDirection,void 0!==t.storedSettings.orderBy&&t.getHeaderByName(t.orderBy)&&t.orderDirection&&t.order(t.orderBy,t.orderDirection))},t.getDomRoot=function(){return t.shadowRoot?t.shadowRoot.host:t.parentNode},t.getFontName=function(t){return t.replace(/\d+\.?\d*px/,"")},t.getFontHeight=function(t){return parseFloat(t,10)},t.parseStyleValue=function(e){if(/Font/.test(e))return t.style[e+"Height"]=t.getFontHeight(t.style[e]),void(t.style[e+"Name"]=t.getFontName(t.style[e]));"moveOverlayBorderSegments"===e&&"string"==typeof t.style[e]&&(t.style[e]=t.style[e].split(",").map((function(t){return parseInt(t,10)})))},t.initProp=function(e){t.args[e]&&Object.keys(t.args[e]).forEach((function(n){t[e][n]=t.args[e][n]}))},t.getStyleProperty=function(e){return-1===t.styleKeys.indexOf(e)?t.parentNodeStyle[e]:t.style[e]},t.setStyleProperty=function(e,n,r){var i=-1!==["height","width","minHeight","minWidth","maxHeight","maxWidth"].indexOf(e);-1===t.styleKeys.indexOf(e)?t.parentNodeStyle[e]=n:(/-/.test(e)&&(e=t.dehyphenateProperty(e)),t.style[e]=n,t.parseStyleValue(e)),i&&t.resize(),r||(t.draw(!0),t.dispatchEvent("stylechanged",{name:"style",value:n}))},t.reloadStoredValues=function(){if(t.attributes.name&&t.attributes.saveAppearance){try{t.storedSettings=localStorage.getItem(t.storageName+"-"+t.attributes.name)}catch(e){t.storedSettings=void 0}if(t.storedSettings)try{t.storedSettings=JSON.parse(t.storedSettings)}catch(e){t.storedSettings=void 0}t.storedSettings&&("object"===i(t.storedSettings.sizes)&&null!==t.storedSettings.sizes&&(t.sizes.rows=t.storedSettings.sizes.rows,t.sizes.columns=t.storedSettings.sizes.columns,["trees","columns","rows"].forEach((function(e){t.sizes[e]||(t.sizes[e]={})}))),"object"===i(t.storedSettings.visibility)&&t.getSchema().forEach((function(e){t.storedSettings.visibility&&void 0!==t.storedSettings.visibility[e.name]&&(e.hidden=!t.storedSettings.visibility[e.name])})))}},t.init=function(){if(!t.initialized){var e={};return t.setAttributes(),t.setStyle(),t.initScrollBox(),t.setDom(),t.nodeType="canvas-datagrid",t.ie=/Trident/.test(window.navigator.userAgent),t.edge=/Edge/.test(window.navigator.userAgent),t.webKit=/WebKit/.test(window.navigator.userAgent),t.moz=/Gecko/.test(window.navigator.userAgent),t.mobile=/Mobile/i.test(window.navigator.userAgent),t.blankValues=[void 0,null,""],t.cursorGrab="grab",t.cursorGrabing="grabbing",t.cursorGrab=t.webKit?"-webkit-grab":t.cursorGrab,t.cursorGrabing=t.moz?"-webkit-grabbing":t.cursorGrabbing,t.pointerLockPosition={x:0,y:0},Object.keys(t.style).forEach(t.parseStyleValue),t.intf.moveSelection=t.moveSelection,t.intf.moveTo=t.moveTo,t.intf.addEventListener=t.addEventListener,t.intf.removeEventListener=t.removeEventListener,t.intf.dispatchEvent=t.dispatchEvent,t.intf.dispose=t.dispose,t.intf.appendTo=t.appendTo,t.intf.getVisibleCellByIndex=t.getVisibleCellByIndex,t.intf.filters=t.filters,t.intf.sorters=t.sorters,t.intf.autosize=t.autosize,t.intf.beginEditAt=t.beginEditAt,t.intf.endEdit=t.endEdit,t.intf.setActiveCell=t.setActiveCell,t.intf.forEachSelectedCell=t.forEachSelectedCell,t.intf.scrollIntoView=t.scrollIntoView,t.intf.clearChangeLog=t.clearChangeLog,t.intf.gotoCell=t.gotoCell,t.intf.gotoRow=t.gotoRow,t.intf.getHeaderByName=t.getHeaderByName,t.intf.findColumnScrollLeft=t.findColumnScrollLeft,t.intf.findRowScrollTop=t.findRowScrollTop,t.intf.fitColumnToValues=t.fitColumnToValues,t.intf.findColumnMaxTextLength=t.findColumnMaxTextLength,t.intf.disposeContextMenu=t.disposeContextMenu,t.intf.getCellAt=t.getCellAt,t.intf.isCellVisible=t.isCellVisible,t.intf.isRowVisible=t.isRowVisible,t.intf.isColumnVisible=t.isColumnVisible,t.intf.order=t.order,t.intf.draw=t.draw,t.intf.isComponent=t.isComponent,t.intf.selectArea=t.selectArea,t.intf.clipElement=t.clipElement,t.intf.getSchemaFromData=t.getSchemaFromData,t.intf.setFilter=t.setFilter,t.intf.selectRow=t.selectRow,t.intf.parentGrid=t.parentGrid,t.intf.toggleTree=t.toggleTree,t.intf.expandTree=t.expandTree,t.intf.collapseTree=t.collapseTree,t.intf.canvas=t.canvas,t.intf.context=t.ctx,t.intf.insertRow=t.insertRow,t.intf.deleteRow=t.deleteRow,t.intf.addRow=t.addRow,t.intf.insertColumn=t.insertColumn,t.intf.deleteColumn=t.deleteColumn,t.intf.addColumn=t.addColumn,t.intf.getClippingRect=t.getClippingRect,t.intf.setRowHeight=t.setRowHeight,t.intf.setColumnWidth=t.setColumnWidth,t.intf.resetColumnWidths=t.resetColumnWidths,t.intf.resetRowHeights=t.resetRowHeights,t.intf.resize=t.resize,t.intf.selectColumn=t.selectColumn,t.intf.selectRow=t.selectRow,t.intf.selectAll=t.selectAll,t.intf.selectNone=t.selectNone,t.intf.drawChildGrids=t.drawChildGrids,t.intf.assertPxColor=t.assertPxColor,t.intf.clearPxColorAssertions=t.clearPxColorAssertions,t.intf.integerToAlpha=t.integerToAlpha,t.intf.copy=t.copy,t.intf.paste=t.paste,t.intf.setStyleProperty=t.setStyleProperty,Object.defineProperty(t.intf,"defaults",{get:function(){return{styles:t.defaults.styles.reduce((function(t,e){return t[e[0]]=e[1],t}),{}),attributes:t.defaults.attributes.reduce((function(t,e){return t[e[0]]=e[1],t}),{})}}}),t.styleKeys=Object.keys(t.intf.defaults.styles),t.styleKeys.map((function(e){return t.hyphenateProperty(e,!1)})).forEach(n),t.styleKeys.map((function(e){return t.hyphenateProperty(e,!0)})).forEach(n),t.DOMStyles=window.getComputedStyle(document.body,null),t.styleKeys.concat(Object.keys(t.DOMStyles)).forEach((function(n){e[n]=void 0,Object.defineProperty(e,n,{get:function(){return t.getStyleProperty(n)},set:function(e){t.initialized&&(t.appliedInlineStyles[n]=e),t.setStyleProperty(n,e)}})})),Object.defineProperty(t.intf,"shadowRoot",{get:function(){return t.shadowRoot}}),Object.defineProperty(t.intf,"activeCell",{get:function(){return t.activeCell}}),Object.defineProperty(t.intf,"hasFocus",{get:function(){return t.hasFocus}}),Object.defineProperty(t.intf,"style",{get:function(){return e},set:function(e){Object.keys(e).forEach((function(n){t.setStyleProperty(n,e[n],!0)})),t.draw(!0),t.dispatchEvent("stylechanged",{name:"style",value:e})}}),Object.defineProperty(t.intf,"attributes",{value:{}}),Object.keys(t.attributes).forEach((function(e){Object.defineProperty(t.intf.attributes,e,{get:function(){return t.attributes[e]},set:function(n){t.attributes[e]=n,"name"===e&&t.tryLoadStoredSettings(),t.draw(!0),t.dispatchEvent("attributechanged",{name:e,value:n[e]})}})})),t.filters.string=function(e,n){if(n===t.attributes.blanksText)return t.blankValues.includes(null==e?e:String(e).trim());e=String(e);var r,i=/\/(i|g|m)*$/.exec(n),a=i?i[0].substring(1):"",o=a.length;if(t.invalidFilterRegEx=void 0,"/"===n.substring(0,1)&&i){try{r=new RegExp(n.substring(1,n.length-(o+1)),a)}catch(e){return void(t.invalidFilterRegEx=e)}return r.test(e)}return!!e.toString&&-1!==e.toString().toLocaleUpperCase().indexOf(n.toLocaleUpperCase())},t.filters.number=function(e,n){return n===t.attributes.blanksText?t.blankValues.includes(null==e?e:String(e).trim()):!n||e===n},["formatters","filters","sorters"].forEach(t.initProp),t.applyComponentStyle(!1,t.intf),t.reloadStoredValues(),t.args.data&&(t.intf.data=t.args.data),(t.intf.innerText||t.intf.textContent)&&("application/x-canvas-datagrid"===t.intf.dataType&&(t.intf.dataType="application/json+x-canvas-datagrid"),t.intf.data=t.intf.innerText||t.intf.textContent),t.args.schema&&(t.intf.schema=t.args.schema),t.isChildGrid||!t.isComponent?requestAnimationFrame((function(){t.resize(!0)})):t.resize(!0),t.initialized=!0,t}function n(e){-1===t.styleKeys.indexOf(e)&&t.styleKeys.push(e)}},t.intf.blur=function(e){t.hasFocus=!1},t.intf.focus=function(){t.hasFocus=!0,t.controlInput.focus()},(t.shadowRoot||t.isChildGrid)&&(Object.defineProperty(t.intf,"height",{get:function(){return t.shadowRoot?t.shadowRoot.height:t.parentNode.height},set:function(e){t.shadowRoot?t.shadowRoot.height=e:t.parentNode.height=e,t.resize(!0)}}),Object.defineProperty(t.intf,"width",{get:function(){return t.shadowRoot?t.shadowRoot.width:t.parentNode.width},set:function(e){t.shadowRoot?t.shadowRoot.width=e:t.parentNode.width=e,t.resize(!0)}}),Object.defineProperty(t.intf,"parentNode",{get:function(){return t.parentNode},set:function(e){if(!t.isChildGrid)throw new TypeError("Cannot set property parentNode which has only a getter");t.parentNode=e}})),Object.defineProperty(t.intf,"visibleRowHeights",{get:function(){return t.visibleRowHeights}}),Object.defineProperty(t.intf,"openChildren",{get:function(){return t.openChildren}}),Object.defineProperty(t.intf,"childGrids",{get:function(){return Object.keys(t.childGrids).map((function(e){return t.childGrids[e]}))}}),Object.defineProperty(t.intf,"isChildGrid",{get:function(){return t.isChildGrid}}),Object.defineProperty(t,"cursor",{get:function(){return t.parentNodeStyle.cursor},set:function(e){"cell"===e&&(e="default"),t.currentCursor!==e&&(t.parentNodeStyle.cursor=e,t.currentCursor=e)}}),Object.defineProperty(t.intf,"orderDirection",{get:function(){return t.orderDirection},set:function(e){"desc"!==e&&(e="asc"),t.orderDirection=e,t.order(t.orderBy,t.orderDirection)}}),Object.defineProperty(t.intf,"orderBy",{get:function(){return t.orderBy},set:function(e){if(void 0===t.getSchema().find((function(t){return t.name===e})))throw new Error("Cannot sort by unknown column name.");t.orderBy=e,t.order(t.orderBy,t.orderDirection)}}),t.isComponent&&(Object.defineProperty(t.intf,"offsetHeight",{get:function(){return t.canvas.offsetHeight}}),Object.defineProperty(t.intf,"offsetWidth",{get:function(){return t.canvas.offsetWidth}})),Object.defineProperty(t.intf,"scrollHeight",{get:function(){return t.scrollBox.scrollHeight}}),Object.defineProperty(t.intf,"scrollWidth",{get:function(){return t.scrollBox.scrollWidth}}),Object.defineProperty(t.intf,"scrollTop",{get:function(){return t.scrollBox.scrollTop},set:function(e){t.scrollBox.scrollTop=e}}),Object.defineProperty(t.intf,"scrollLeft",{get:function(){return t.scrollBox.scrollLeft},set:function(e){t.scrollBox.scrollLeft=e}}),Object.defineProperty(t.intf,"sizes",{get:function(){return t.sizes}}),Object.defineProperty(t.intf,"parentDOMNode",{get:function(){return t.parentDOMNode}}),Object.defineProperty(t.intf,"input",{get:function(){return t.input}}),Object.defineProperty(t.intf,"controlInput",{get:function(){return t.controlInput}}),Object.defineProperty(t.intf,"currentCell",{get:function(){return t.currentCell}}),Object.defineProperty(t.intf,"visibleCells",{get:function(){return t.visibleCells}}),Object.defineProperty(t.intf,"visibleRows",{get:function(){return t.visibleRows}}),Object.defineProperty(t.intf,"selections",{get:function(){return t.selections}}),Object.defineProperty(t.intf,"dragMode",{get:function(){return t.dragMode}}),Object.defineProperty(t.intf,"changes",{get:function(){return t.changes}}),t.intf.formatters=t.formatters,Object.defineProperty(t.intf,"dataType",{get:function(){return t.dataType},set:function(e){if(!t.parsers[e])throw new Error("No parser for MIME type "+e);t.dataType=e}}),t.eventNames.forEach((function(e){Object.defineProperty(t.intf,"on"+e,{get:function(){return t.componentL1Events[e]},set:function(n){t.events[e]=[],t.componentL1Events[e]=n,n&&t.addEventListener(e,n)}})})),Object.defineProperty(t.intf,"frozenRow",{get:function(){return t.frozenRow},set:function(e){if(isNaN(e))throw new TypeError("Expected value for frozenRow to be a number.");if(t.visibleRows.length<e)throw new RangeError("Cannot set a value larger than the number of visible rows.");t.frozenRow=e}}),Object.defineProperty(t.intf,"frozenColumn",{get:function(){return t.frozenColumn},set:function(e){if(isNaN(e))throw new TypeError("Expected value for frozenRow to be a number.");if(t.getVisibleSchema().length<e)throw new RangeError("Cannot set a value larger than the number of visible columns.");t.frozenColumn=e}}),Object.defineProperty(t.intf,"scrollIndexRect",{get:function(){return{top:t.scrollIndexTop,right:t.scrollIndexRight,bottom:t.scrollIndexBottom,left:t.scrollIndexLeft}}}),Object.defineProperty(t.intf,"scrollPixelRect",{get:function(){return{top:t.scrollPixelTop,right:t.scrollPixelRight,bottom:t.scrollPixelBottom,left:t.scrollPixelLeft}}}),Object.defineProperty(t.intf,"rowOrder",{get:function(){return t.orders.rows},set:function(e){if(!Array.isArray(e))throw new TypeError("Value must be an array.");if(!t.data||e.length<t.data.length)throw new RangeError("Array length must be equal to or greater than number of rows.");t.orders.rows=e}}),Object.defineProperty(t.intf,"columnOrder",{get:function(){return t.orders.columns},set:function(e){if(!Array.isArray(e))throw new TypeError("Value must be an array.");if(e.length<t.getSchema().length)throw new RangeError("Array length must be equal to or greater than number of columns.");t.orders.columns=e}}),Object.defineProperty(t.intf,"selectionBounds",{get:function(){return t.getSelectionBounds()}}),Object.defineProperty(t.intf,"selectedRows",{get:function(){return t.getSelectedData(!0)}}),Object.defineProperty(t.intf,"selectedCells",{get:function(){return t.getSelectedData()}}),Object.defineProperty(t.intf,"visibleSchema",{get:function(){return t.getVisibleSchema().map((function(t){return t}))}}),Object.defineProperty(t.intf,"treeGridAttributes",{get:function(){return t.treeGridAttributes},set:function(e){t.treeGridAttributes=e}}),Object.defineProperty(t.intf,"cellGridAttributes",{get:function(){return t.cellGridAttributes},set:function(e){t.cellGridAttributes=e}}),Object.defineProperty(t.intf,"ctx",{get:function(){return t.ctx}}),Object.defineProperty(t.intf,"schema",{get:function(){return t.getSchema()},set:function(e){if(void 0===e)return t.schema=void 0,t.tempSchema=void 0,void t.dispatchEvent("schemachanged",{schema:void 0});if(!Array.isArray(e)||"object"!==i(e[0]))throw new Error("Schema must be an array of objects.");if(void 0===e[0].name)throw new Error("Expected schema to contain an object with at least a name property.");t.schema=e.map((function(e,n){return e.width=e.width||t.style.cellWidth,e.filter=e.filter||t.filter(e.type),e.type=e.type||"string",e.index=n,e.columnIndex=n,e.rowIndex=-1,e})),t.tempSchema=void 0,t.createNewRowData(),t.createColumnOrders(),t.tryLoadStoredSettings(),t.storedSettings&&"object"===i(t.storedSettings.visibility)&&t.schema.forEach((function(e,n){t.storedSettings&&void 0!==t.storedSettings.visibility[e.name]&&(e.hidden=!t.storedSettings.visibility[e.name])})),t.resize(!0),t.dispatchEvent("schemachanged",{schema:t.schema})}}),t.intf.getTypes=function(){return Object.keys(t.parsers)},t.parseInnerHtml=function(t){if(!t||/^ +$/.test(t))return[];try{t=JSON.parse(t)}catch(t){}return t},t.parsers["application/json+x-canvas-datagrid"]=function(e,n){t.parsers["application/x-canvas-datagrid"](t.parseInnerHtml(e),(function(t,e){return n(t,e)}))},t.parsers["application/x-canvas-datagrid"]=function(t,e){return e(t)},t.intf.parsers=t.parsers,t.etl=function(e,n){if(!t.intf.parsers[t.dataType])throw new Error("Unsupported data type.");t.intf.parsers[t.dataType](e,(function(e,r){Array.isArray(r)&&(t.schema=r),t.attributes.autoGenerateSchema&&(t.schema=t.getSchemaFromData(e)),t.schema||(t.tempSchema=t.getSchemaFromData(e)),t.getSchema()&&t.createColumnOrders(),t.originalData=e,t.applyDataTransforms(),t.schema||0!==(t.data||[]).length||(t.tempSchema=[{name:""}]),t.fitColumnToValues("cornerCell",!0),(t.tempSchema&&!t.schema||t.attributes.autoGenerateSchema)&&(t.createColumnOrders(),t.dispatchEvent("schemachanged",{schema:t.tempSchema})),n()}))},Object.defineProperty(t.intf,"data",{get:function(){return t.data},set:function(e){t.etl(e,(function(){t.changes=[],t.createNewRowData(),t.attributes.autoResizeColumns&&t.data.length>0&&void 0===t.storedSettings&&t.autosize(),t.fitColumnToValues("cornerCell",!0),t.createRowOrders(),t.tryLoadStoredSettings(),t.dispatchEvent("datachanged",{data:t.data}),t.resize(!0)}))}}),t.initScrollBox=function(){var e=0,n=0,r=0,i=0,a=0,o=0,s=20,u=20;function l(e,n){if(isNaN(e))throw new Error("ScrollTop value must be a number");e<0&&(e=0),e>a&&(e=a),a<0&&(e=0),r=e,n||t.scroll()}function c(e,n){if(isNaN(e))throw new Error("ScrollLeft value must be a number");e<0&&(e=0),e>o&&(e=o),o<0&&(e=0),i=e,n||t.scroll()}t.scrollBox.toString=function(){return'{"width": '+o.toFixed(2)+', "height": '+a.toFixed(2)+', "left": '+i.toFixed(2)+', "top": '+r.toFixed(2)+', "widthRatio": '+t.scrollBox.widthBoxRatio.toFixed(5)+', "heightRatio": '+t.scrollBox.heightBoxRatio.toFixed(5)+"}"},t.scrollBox.scrollTo=function(t,e,n){c(t,!0),l(e,n)},Object.defineProperty(t.scrollBox,"scrollBoxHeight",{get:function(){return s},set:function(t){s=t}}),Object.defineProperty(t.scrollBox,"scrollBoxWidth",{get:function(){return u},set:function(t){u=t}}),Object.defineProperty(t.scrollBox,"height",{get:function(){return e},set:function(t){e=t}}),Object.defineProperty(t.scrollBox,"width",{get:function(){return n},set:function(t){n=t}}),Object.defineProperty(t.scrollBox,"scrollTop",{get:function(){return r},set:l}),Object.defineProperty(t.scrollBox,"scrollLeft",{get:function(){return i},set:c}),Object.defineProperty(t.scrollBox,"scrollHeight",{get:function(){return a},set:function(t){r>t&&(r=Math.max(t,0)),a=t}}),Object.defineProperty(t.scrollBox,"scrollWidth",{get:function(){return o},set:function(t){i>t&&(i=Math.max(t,0)),o=t}})}}}.apply(e,[]))||(t.exports=r)},"./lib/main.js":
/*!*********************!*\
    !*** ./lib/main.js ***!
    \*********************/
/*! no static exports found */
function libMainJs(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(
/*! ./component */
"./lib/component.js"),__webpack_require__(
/*! ./defaults */
"./lib/defaults.js"),__webpack_require__(
/*! ./draw */
"./lib/draw.js"),__webpack_require__(
/*! ./events */
"./lib/events.js"),__webpack_require__(
/*! ./touch */
"./lib/touch.js"),__webpack_require__(
/*! ./intf */
"./lib/intf.js"),__webpack_require__(
/*! ./contextMenu */
"./lib/contextMenu.js"),__webpack_require__(
/*! ./dom */
"./lib/dom.js"),__webpack_require__(
/*! ./publicMethods */
"./lib/publicMethods.js")],__WEBPACK_AMD_DEFINE_RESULT__=function context(component){"use strict";component=component();var modules=Array.prototype.slice.call(arguments);function Grid(args){args=args||{};var self={};return self.isComponent=void 0===args.component,self.isChildGrid=args.parentNode&&/canvas-datagrid-(cell|tree)/.test(args.parentNode.nodeType),self.isChildGrid?self.intf={}:self.intf=self.isComponent?eval("Reflect.construct(HTMLElement, [], new.target)"):document.createElement("canvas"),self.args=args,self.intf.args=args,self.applyComponentStyle=component.applyComponentStyle,self.hyphenateProperty=component.hyphenateProperty,self.dehyphenateProperty=component.dehyphenateProperty,self.createGrid=function(t){return t.component=!1,new Grid(t)},modules.forEach((function(t){t(self)})),self.isChildGrid?(self.shadowRoot=args.parentNode.shadowRoot,self.parentNode=args.parentNode):(self.shadowRoot=self.intf.attachShadow({mode:"open"}),self.parentNode=self.shadowRoot),self.init(),self.intf}return window.HTMLElement&&(Grid.prototype=Object.create(window.HTMLElement.prototype)),window.customElements&&(Grid.observedAttributes=component.getObservableAttributes(),Grid.prototype.disconnectedCallback=component.disconnectedCallback,Grid.prototype.attributeChangedCallback=component.attributeChangedCallback,Grid.prototype.connectedCallback=component.connectedCallback,Grid.prototype.adoptedCallback=component.adoptedCallback,window.customElements.define("canvas-datagrid",Grid)),!window||window.canvasDatagrid||window.require||(window.canvasDatagrid=function(t){return new Grid(t)}),module.exports=function(t){t=t||{};var e,n=["style","formatters","sorters","filters","treeGridAttributes","cellGridAttributes","data","schema"];return window.customElements?(e=document.createElement("canvas-datagrid"),Object.keys(t).forEach((function(r){"data"!==r&&"parentNode"!==r&&(-1===n.indexOf(r)?e.attributes[r]=t[r]:n.forEach((function(n){void 0!==t[n]&&n===r&&(-1!==["formatters","sorters","filters"].indexOf(r)?"object"===_typeof(t[n])&&null!==t[n]&&Object.keys(t[n]).forEach((function(r){e[n][r]=t[n][r]})):e[n]=t[n])})))})),t.data&&(e.data=t.data),t.parentNode&&t.parentNode.appendChild(e),e):(t.component=!1,e=new Grid(t),t.parentNode&&t.parentNode.appendChild&&t.parentNode.appendChild(e),e)},module.exports}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"./lib/publicMethods.js":
/*!******************************!*\
    !*** ./lib/publicMethods.js ***!
    \******************************/
/*! no static exports found */
function(t,e,n){var r;void 0===(r=function(){"use strict";return function(t){t.integerToAlpha=function(t){for(var e="a".charCodeAt(0),n="z".charCodeAt(0)-e+1,r="";t>=0;)r=String.fromCharCode(t%n+e)+r,t=Math.floor(t/n)-1;return r},t.insertColumn=function(e,n){var r=t.getSchema();if(r.length<n)throw new Error("Index is beyond the length of the schema.");t.validateColumn(e,r),r.splice(n,0,e),t.data.forEach((function(n){t.applyDefaultValue(n,e)})),t.intf.schema=r},t.deleteColumn=function(e){var n=t.getSchema();t.data.forEach((function(t){delete t[n[e].name]})),n.splice(e,1),t.intf.schema=n},t.addColumn=function(e){var n=t.getSchema();t.validateColumn(e,n),n.push(e),t.data.forEach((function(n){t.applyDefaultValue(n,e)})),t.intf.schema=n},t.deleteRow=function(e){t.originalData.splice(e,1),t.setFilter(),t.resize(!0)},t.insertRow=function(e,n){if(t.originalData.length<n)throw new Error("Index is beyond the length of the dataset.");t.originalData.splice(n,0,e),t.getSchema().forEach((function(r){void 0===e[r.name]&&t.applyDefaultValue(t.originalData[n],r)})),t.setFilter(),t.resize(!0)},t.addRow=function(e){t.originalData.push(e),t.getSchema().forEach((function(n){void 0===e[n.name]&&t.applyDefaultValue(t.originalData[t.originalData.length-1],n)})),t.setFilter(),t.resize(!0)},t.setRowHeight=function(e,n){t.sizes.rows[e]=n,t.draw(!0)},t.setColumnWidth=function(e,n){t.sizes.columns[e]=n,t.draw(!0)},t.resetColumnWidths=function(){t.sizes.columns={},t.draw(!0)},t.resetRowHeights=function(){t.sizes.rows={},t.draw(!0)},t.setFilter=function(e,n){void 0===e&&void 0===n?t.columnFilters={}:!e||""!==n&&void 0!==n?t.columnFilters[e]=n:delete t.columnFilters[e],t.applyDataTransforms()},t.findRowScrollTop=function(e){if(void 0===t.scrollCache.y[e])throw new RangeError("Row index out of range.");return t.scrollCache.y[e]},t.findColumnScrollLeft=function(e){var n=Math.max(e-1,0);if(void 0===t.scrollCache.x[n])throw new Error("Column index out of range.");return t.scrollCache.x[n]-t.getColummnWidth(t.orders.columns[e])},t.gotoCell=function(e,n,r,i){var a,o=void 0===e?void 0:t.findColumnScrollLeft(e),s=void 0===n?void 0:t.findRowScrollTop(n),u=t.scrollBox.width-(t.scrollBox.verticalBarVisible?t.style.scrollBarWidth:0),l=t.scrollBox.height-(t.scrollBox.horizontalBarVisible?t.style.scrollBarWidth:0);o-=u*(r=void 0===r?0:r),s-=l*(i=void 0===i?0:i),void 0!==e&&void 0!==n?(t.scrollBox.scrollTo(o,s),requestAnimationFrame((function(){(a=t.getVisibleCellByIndex(e,n))&&(o+=a.width*r,s+=a.height*i,t.scrollBox.scrollTo(o,s))}))):void 0!==e?t.scrollBox.scrollLeft=o:void 0!==n&&(t.scrollBox.scrollTop=s)},t.gotoRow=function(e){t.gotoCell(0,e)},t.scrollIntoView=function(e,n,r,i){0===t.visibleCells.filter((function(r){return(r.rowIndex===n||void 0===n)&&(r.columnIndex===e||void 0===e)&&r.x>0&&r.y>0&&r.x+r.width<t.width&&r.y+r.height<t.height})).length&&t.gotoCell(e,n,r,i)},t.setActiveCell=function(e,n){e<0&&(e=0),n<0&&(n=0),t.activeCell={rowIndex:n,columnIndex:e}},t.selectNone=function(e){t.selections=[],t.dispatchEvent("selectionchanged",{selectedData:t.getSelectedData(),selections:t.selections,selectionBounds:t.selectionBounds}),e||t.draw()},t.selectAll=function(e){t.selectArea({top:0,left:-1,right:t.getSchema().length-1,bottom:t.data.length-1}),e||t.draw()},t.isColumnSelected=function(e){var n=!0;return t.data.forEach((function(r,i){t.selections[i]&&-1!==t.selections[i].indexOf(t.orders.columns[e])||(n=!1)})),n},t.forEachSelectedCell=function(e,n){var r=[],i=n?t.getSchema():t.getVisibleSchema(),a=t.data.length;t.selections.forEach((function(n,o){o!==a&&(0!==n.length?(r[o]={},n.forEach((function(n){-1!==n&&i[n]&&e(t.data,o,i[n].name)}))):r[o]=null)}))},t.selectColumn=function(e,n,r,i){var a,o,s,u;function l(e){t.data.forEach((function(n,r){t.selections[r]=t.selections[r]||[],-1===t.selections[r].indexOf(e)&&t.selections[r].push(e)}))}if(r){if(!t.activeCell)return;for(a=Math.min(t.activeCell.columnIndex,e),o=Math.max(t.activeCell.columnIndex,e),s=a;o>s;s+=1)l(s)}n||r||(t.selections=[],t.activeCell.columnIndex=e,t.activeCell.rowIndex=t.scrollIndexTop),n&&t.isColumnSelected(e)?(u=e,t.data.forEach((function(e,n){t.selections[n]=t.selections[n]||[],-1!==t.selections[n].indexOf(u)&&t.selections[n].splice(t.selections[n].indexOf(u),1)}))):l(e),i||t.dispatchEvent("selectionchanged",{selectedData:t.getSelectedData(),selections:t.selections,selectionBounds:t.getSelectionBounds()})},t.selectRow=function(e,n,r,i){var a,o,s,u=t.getVisibleSchema();function l(){i||t.dispatchEvent("selectionchanged",{selectedData:t.getSelectedData(),selections:t.selections,selectionBounds:t.selectionBounds})}function c(e){t.selections[e]=[],t.selections[e].push(-1),u.forEach((function(n,r){t.selections[e].push(t.orders.columns.indexOf(n.index))}))}if((!1===t.dragAddToSelection||void 0===t.dragObject)&&t.selections[e]&&t.selections[e].length-1===u.length&&n)return t.selections[e]=[],void l();if(!0===t.dragAddToSelection||void 0===t.dragObject)if(r&&void 0===t.dragObject){if(!t.activeCell)return;for(o=Math.min(t.activeCell.rowIndex,e),s=Math.max(t.activeCell.rowIndex,e),a=o;s>=a;a+=1)c(a)}else c(e);l()},t.collapseTree=function(e){t.dispatchEvent("collapsetree",{childGrid:t.childGrids[e],data:t.data[e],rowIndex:e}),t.openChildren[e].blur(),t.openChildren[e].dispose(),delete t.openChildren[e],delete t.sizes.trees[e],delete t.childGrids[e],t.dispatchEvent("resizerow",{cellHeight:t.style.cellHeight}),t.resize(!0),t.draw(!0)},t.expandTree=function(e){var n,r=t.args.treeGridAttributes||{},i=t.getColumnHeaderCellHeight(),a=t.sizes.columns.cornerCell||t.style.rowHeaderCellWidth,o=t.sizes.trees[e]||t.style.treeGridHeight;t.childGrids[e]||(r.debug=t.attributes.debug,r.name=t.attributes.saveAppearance?t.attributes.name+"tree"+e:void 0,r.style=r.style||t.style,r.parentNode={parentGrid:t.intf,nodeType:"canvas-datagrid-tree",offsetHeight:o,offsetWidth:t.width-a,header:{width:t.width-a},offsetLeft:a,offsetTop:i,offsetParent:t.intf.parentNode,parentNode:t.intf.parentNode,style:"tree",data:t.data[e]},n=t.createGrid(r),t.childGrids[e]=n),(n=t.childGrids[e]).visible=!0,t.dispatchEvent("expandtree",{treeGrid:n,data:t.data[e],rowIndex:e}),t.openChildren[e]=n,t.sizes.trees[e]=o,t.dispatchEvent("resizerow",{height:t.style.cellHeight}),t.resize(!0)},t.toggleTree=function(e){if(t.openChildren[e])return t.collapseTree(e);t.expandTree(e)},t.getHeaderByName=function(e){var n,r=t.getSchema();for(n=0;n<r.length;n+=1)if(r[n].name===e)return r[n]},t.fitColumnToValues=function(e,n){t.canvas&&(t.sizes.columns["cornerCell"===e?-1:t.getHeaderByName(e).index]=Math.max(t.findColumnMaxTextLength(e),t.style.minColumnWidth),n||(t.resize(),t.draw(!0)))},t.isCellVisible=function(e,n){if(void 0!==n)return t.visibleCells.filter((function(t){return t.columnIndex===e&&t.rowIndex===n})).length>0;var r,i=t.visibleCells.length;for(r=0;r<i;r+=1)if(e.x===t.visibleCells[r].x&&e.y===t.visibleCells[r].y)return!0;return!1},t.order=function(e,n,r,i){var a,o=t.getSchema().filter((function(t){return t.name===e}));if(!t.dispatchEvent("beforesortcolumn",{name:e,direction:n})&&(t.orderBy=e,t.orderDirection=n,t.data&&0!==t.data.length)){if(0===o.length)throw new Error("Cannot sort.  No such column name");!(a=r||o[0].sorter||t.sorters[o[0].type])&&o[0].type,t.orderings.add(e,n,"function"==typeof a?a:t.sorters.string),t.orderings.sort(),t.dispatchEvent("sortcolumn",{name:e,direction:n}),t.draw(!0),i||t.setStorageData()}},t.isInGrid=function(e){return!(e.x<0||e.x>t.width||e.y<0||e.y>t.height)},t.moveSelection=function(e,n){var r=[];t.selections.forEach((function(t,i){r[i+n]=[],t.forEach((function(t){r[i+n].push(t+e)}))})),t.selections=r},t.moveTo=function(e,n,r){var i,a=t.getSelectedData(),o=t.getVisibleSchema(),s=e.length,u=-1/0,l=1/0,c=r-1;e.forEach((function(e,r){r!==s&&0!==e.length&&(l=Math.min(t.getVisibleColumnIndexOf(n),l),u=Math.max(u,e.length),e.forEach((function(e){e=t.getVisibleColumnIndexOf(e),o[e]&&(t.data[r]||(t.data[r]={}),t.data[r][o[e].name]=null)})))})),e.forEach((function(e,r){var s;c+=1,i=t.getVisibleColumnIndexOf(n),e.forEach((function(e,n){e=t.getVisibleColumnIndexOf(e),n>0&&(i+=e-s),s=e,-1===e||!o[i]||!o[e]||t.data.length-1<c||c<0||(t.data[c]||(t.data[c]={}),t.data[c][o[i].name]=a[r][o[e].name])}))}))},t.isColumnVisible=function(e){return t.visibleCells.filter((function(t){return t.columnIndex===e})).length>0},t.isRowVisible=function(e){return t.visibleCells.filter((function(t){return t.rowIndex===e})).length>0},t.getVisibleCellByIndex=function(e,n){return t.visibleCells.filter((function(t){return t.columnIndex===e&&t.rowIndex===n}))[0]},t.getCellAt=function(e,n,r){function i(r){return r.x+r.width-.4*t.attributes.borderResizeZone<e&&r.x+r.width+.6*t.attributes.borderResizeZone>e?"r":r.x-.4*t.attributes.borderResizeZone<e&&r.x+.6*t.attributes.borderResizeZone>e?"l":r.y+r.height-.4*t.attributes.borderResizeZone<n&&r.y+r.height+.6*t.attributes.borderResizeZone>n?"b":r.y-.4*t.attributes.borderResizeZone<n&&r.y+.6*t.attributes.borderResizeZone>n?"t":void 0}if(t.visibleCells){var a,o,s,u,l,c=r?t.attributes.touchScrollZone:0,h="move"===t.attributes.borderDragBehavior,f=t.visibleCells.length,d=h?t.cursorGrab:"ew-resize",p=h?t.cursorGrab:"ns-resize";if(t.visibleCells&&t.visibleCells.length){if(t.hasFocus=!0,!(n<t.height&&n>0&&e<t.width&&e>0))return t.hasFocus=!1,{dragContext:"inherit",context:"inherit"};for(o=0;o<f;o+=1)if(l={x:(u=t.visibleCells[o]).x,y:u.y,height:u.height,width:u.width},r&&/(vertical|horizontal)-scroll-/.test(u.style)&&(l.x-=c,l.y-=c,l.height+=c,l.width+=c),l.x-t.style.cellBorderWidth<e&&l.x+l.width+t.style.cellBorderWidth>e&&l.y-t.style.cellBorderWidth<n&&l.y+l.height+t.style.cellBorderWidth>n){if(/frozen-row-marker/.test(u.style))return u.dragContext=u.style,u.context="row-resize",u;if(/frozen-column-marker/.test(u.style))return u.dragContext=u.style,u.context="col-resize",u;if(/selection-handle-/.test(u.style))return u.dragContext=u.style,u.context="crosshair",u;if(/vertical-scroll-(bar|box)/.test(u.style))return u.dragContext="vertical-scroll-box",u.context="vertical-scroll-box",u.isScrollBar=!0,u.isVerticalScrollBar=!0,n>t.scrollBox.box.v.y+t.scrollBox.scrollBoxHeight?(u.dragContext="vertical-scroll-bottom",u.context="vertical-scroll-bottom"):n<t.scrollBox.box.v.y&&(u.dragContext="vertical-scroll-top",u.context="vertical-scroll-top"),t.cursor="default",u;if(/horizontal-scroll-(bar|box)/.test(u.style))return u.dragContext="horizontal-scroll-box",u.context="horizontal-scroll-box",u.isScrollBar=!0,u.isHorizontalScrollBar=!0,e>t.scrollBox.box.h.x+t.scrollBox.scrollBoxWidth?(u.dragContext="horizontal-scroll-right",u.context="horizontal-scroll-right"):e<t.scrollBox.box.h.x&&(u.dragContext="horizontal-scroll-left",u.context="horizontal-scroll-left"),t.cursor="default",u;if(a=i(l),s=h&&u.selectionBorder&&-1!==u.selectionBorder.indexOf(a),-1!==["l","r"].indexOf(a)&&(t.attributes.allowColumnResize||s)&&(t.attributes.allowColumnResizeFromCell&&u.isNormal||!u.isNormal||s)&&(t.attributes.allowRowHeaderResize&&(u.isRowHeader||u.isCorner)||!u.isRowHeader||!u.isCorner)){if((u.isColumnHeader||u.isCorner||t.attributes.allowColumnResizeFromCell&&u.isNormal)&&"r"===a)return u.context="ew-resize",u.dragContext="ew-resize",u;if(!u.isColumnHeader&&!u.isCorner&&s)return u.context=d,u.dragContext=a+"-move",u}if(-1!==["t","b"].indexOf(a)&&u.rowIndex>-1&&(t.attributes.allowRowResize||s)&&(t.attributes.allowRowResizeFromCell&&u.isNormal||!u.isNormal||s)&&!u.isColumnHeader){if((u.isRowHeader||u.isCorner||t.attributes.allowRowResizeFromCell&&u.isNormal)&&"b"===a)return u.context="ns-resize",u.dragContext="ns-resize",u;if(!u.isRowHeader&&!u.isCorner&&s)return u.context=p,u.dragContext=a+"-move",u}return"columnHeaderCell"===u.style?(u.context="cell",u.dragContext="column-reorder",u):"rowHeaderCell"===u.style?(t.attributes.rowGrabZoneSize+(u.y-t.style.cellBorderWidth)<n||!t.attributes.allowRowReordering?(u.dragContext="cell",u.context="cell"):(u.context=t.cursorGrab,u.dragContext="row-reorder"),u):u.isGrid?(t.hasFocus=!1,u.dragContext="cell-grid",u.context="cell-grid",u):"tree-grid"===u.style?(t.hasFocus=!1,u.dragContext="tree",u.context="tree",u):(u.dragContext="cell",u.context="cell",u)}return t.hasFocus=!0,t.cursor="default",{dragContext:"background",context:"background",style:"background",isBackground:!0}}}},t.getSelectionBounds=function(){var e={x:1/0,y:1/0},n={x:-1/0,y:-1/0};return t.selections.forEach((function(t,r){var i,a;e.y=r<e.y?r:e.y,n.y=r>n.y?r:n.y,i=Math.max.apply(null,t),a=Math.min.apply(null,t),e.x=a<e.x?a:e.x,n.x=i>n.x?i:n.x})),{top:e.y,left:e.x,bottom:n.y,right:n.x}},t.getSchemaFromData=function(e){return e=e||t.data,Object.keys(e[0]||{" ":""}).map((function(n,r){var i=t.getBestGuessDataType(n,e),a={name:n,title:isNaN(parseInt(n,10))?n:t.integerToAlpha(n).toUpperCase(),index:r,columnIndex:r,type:i,filter:t.filter(i)};return t.storedSettings&&t.storedSettings.visibility&&void 0!==t.storedSettings.visibility[a.name]&&(a.hidden=!t.storedSettings.visibility[a.name]),a}))},t.clearChangeLog=function(){t.changes=[]},t.selectArea=function(e,n){t.selectionBounds=e||t.selectionBounds;var r,i,a,o=t.getSchema();if(n||(t.selections=[]),t.selectionBounds.top<-1||t.selectionBounds.bottom>t.data.length||t.selectionBounds.left<-1||t.selectionBounds.right>o.length)throw new Error("Impossible selection area");for(i=t.selectionBounds.top;i<=t.selectionBounds.bottom;i+=1)for(t.selections[i]=[],a=t.selectionBounds.left;a<=t.selectionBounds.right;a+=1)-1===t.selections[i].indexOf(a)&&t.selections[i].push(a);r={selections:t.selections,selectionBounds:t.selectionBounds},Object.defineProperty(r,"selectedData",{get:function(){return t.getSelectedData()}}),t.dispatchEvent("selectionchanged",r)},t.findColumnMaxTextLength=function(e){var n=-1/0;if("cornerCell"===e)return t.ctx.font=t.style.rowHeaderCellFont,t.ctx.measureText((t.data.length+(t.attributes.showNewRow?1:0)).toString()).width+t.style.autosizePadding+t.style.autosizeHeaderCellPadding+t.style.rowHeaderCellPaddingRight+t.style.rowHeaderCellPaddingLeft+(t.attributes.tree?t.style.treeArrowWidth+t.style.treeArrowMarginLeft+t.style.treeArrowMarginRight:0);var r=null;return t.getSchema().forEach((function(i){if(i.name===e){t.ctx.font=t.style.columnHeaderCellFont;var a=t.ctx.measureText(i.title||i.name).width+t.style.headerCellPaddingRight+t.style.headerCellPaddingLeft;n=a>n?a:n,r=t.formatters[i.type]}})),t.data.forEach((function(i){var a=i[e];r&&(a=r({cell:{value:a}})),t.ctx.font=t.style.cellFont;var o=t.ctx.measureText(a).width+t.style.cellPaddingRight+t.style.cellPaddingLeft+t.style.cellAutoResizePadding;n=o>n?o:n})),n},t.getHeaderWidth=function(){return t.getVisibleSchema().reduce((function(e,n){return e+parseInt(n.width||t.style.cellWidth,10)}),0)},t.getRowHeight=function(e){return(t.sizes.rows[e]||t.style.cellHeight)*t.scale},t.getColummnWidth=function(e){return(t.sizes.columns[e]||t.getSchema()[e].width||t.style.cellWidth)*t.scale},t.formatters.string=function(t){return void 0!==t.cell.value?t.cell.value:""},t.formatters.rowHeaderCell=t.formatters.string,t.formatters.headerCell=t.formatters.string,t.formatters.number=t.formatters.string,t.formatters.int=t.formatters.string,t.formatters.html=t.formatters.string,t.sorters.string=function(t,e){var n="asc"===e;return function(e,r){return void 0===e[t]||null===e[t]?1:void 0===r[t]||null===r[t]?0:n?e[t].localeCompare?e[t].localeCompare(r[t]):1:r[t].localeCompare?r[t].localeCompare(e[t]):1}},t.sorters.number=function(t,e){var n="asc"===e;return function(e,r){return n?e[t]-r[t]:r[t]-e[t]}},t.sorters.date=function(t,e){var n="asc"===e;return function(e,r){return n?new Date(e[t]).getTime()-new Date(r[t]).getTime():new Date(r[t]).getTime()-new Date(e[t]).getTime()}}}}.apply(e,[]))||(t.exports=r)},"./lib/touch.js":
/*!**********************!*\
    !*** ./lib/touch.js ***!
    \**********************/
/*! no static exports found */
function(t,e,n){var r;void 0===(r=function(){"use strict";return function(t){var e,n;t.scrollAnimation={},t.touchDelta={},t.touchAnimateTo={},t.animationFrames=0,t.getTouchPos=function(e,n){var r,i=n?e.touches[n]:e.touches[0],a=t.canvas.getBoundingClientRect();if(i)return r={x:i.clientX-a.left,y:i.clientY-a.top},t.isChildGrid&&(r.x-=t.canvasOffsetLeft,r.y-=t.canvasOffsetTop),{x:r.x,y:r.y,rect:a}},t.easingFunctions={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}},t.easing=function(e,n,r,i){return r*t.easingFunctions[t.attributes.touchEasingMethod](e/i)+n},t.calculatePPSTimed=function(){t.xPPST=-(t.touchDelta.x-t.touchSigmaTimed.x)/(t.touchDelta.t-t.touchSigmaTimed.t),t.yPPST=-(t.touchDelta.y-t.touchSigmaTimed.y)/(t.touchDelta.t-t.touchSigmaTimed.t),t.touchSigmaTimed={x:t.touchDelta.x,y:t.touchDelta.y,t:performance.now()}},t.calculatePPS=function(){t.xPPS=-(t.touchDelta.x-t.touchSigma.x)/(t.touchDelta.t-t.touchSigma.t),t.yPPS=-(t.touchDelta.y-t.touchSigma.y)/(t.touchDelta.t-t.touchSigma.t),t.touchSigma={x:t.touchDelta.x,y:t.touchDelta.y,t:performance.now()}},t.touchEndAnimation=function(){if(!t.canvas||!t.scrollBox.scrollTo)return requestAnimationFrame(t.touchEndAnimation);var e,n=performance.now(),r=t.attributes.touchReleaseAnimationDurationMs;e=n-t.touchDelta.t,t.animationFrames+=1,t.scrollAnimation.x=t.easing(e,t.touchDelta.scrollLeft,t.touchAnimateTo.x,r),t.scrollAnimation.y=t.easing(e,t.touchDelta.scrollTop,t.touchAnimateTo.y,r),e>r||t.scrollAnimation.y===t.scrollBox.scrollTop&&t.scrollAnimation.x===t.scrollBox.scrollLeft||t.stopAnimation||(t.scrollBox.scrollTo(t.scrollAnimation.x,t.scrollAnimation.y),requestAnimationFrame(t.touchEndAnimation))},t.touchEditCell=function(e){t.beginEditAt(e.columnIndex,e.rowIndex)},t.touchCell=function(e){return function(){clearInterval(t.calculatePPSTimer);var n,r=t.getTouchPos(e);if(Math.abs(t.touchDelta.x)+Math.abs(t.touchDelta.y)<t.attributes.touchDeadZone){if(!(n=t.getCellAt(r.x,r.y)))return;if(t.touchingCell&&t.touchingCell.rowIndex===n.rowIndex&&t.touchingCell.columnIndex===n.columnIndex)return void t.touchEditCell(n);t.input&&t.input.editCell&&t.endEdit(),t.touchingCell=n,t.selectArea({top:n.rowIndex,bottom:n.rowIndex,left:n.columnIndex,right:n.columnIndex}),t.draw(!0)}}},t.touchstart=function(e){if(e.changedTouches[0]&&(t.touchStart=t.getTouchPos(e),t.startingCell=t.getCellAt(t.touchStart.x,t.touchStart.y,!0)),!t.dispatchEvent("touchstart",{NativeEvent:e,cell:t.startingCell})){if(t.disposeContextMenu(),clearInterval(t.calculatePPSTimer),clearTimeout(t.touchContextTimeout),t.touchStartEvent=e,t.stopAnimation=!0,t.animationFrames=0,t.stopPropagation(e),e.preventDefault(),1===e.touches.length&&e.changedTouches[0]&&!t.zoomAltered){if(t.touchLength=1,t.touchStart=t.touchStart||t.touchStart1,t.touchScrollStart={x:t.scrollBox.scrollLeft,y:t.scrollBox.scrollTop,t:performance.now()},t.touchDelta={x:0,y:0,scrollLeft:t.scrollBox.scrollLeft,scrollTop:t.scrollBox.scrollTop,t:t.touchScrollStart.t},t.touchSigma={x:t.touchDelta.x,y:t.touchDelta.y,t:t.touchDelta.t},t.touchSigmaTimed={x:t.touchDelta.x,y:t.touchDelta.y,t:t.touchDelta.t},t.touchContextTimeout=setTimeout((function(){t.contextmenuEvent(e,t.touchStart)}),t.attributes.touchContextMenuTimeMs),t.calculatePPSTimer=setInterval(t.calculatePPSTimed,50),t.startingCell&&(t.startingCell.isGrid||-1!==["tree","inherit"].indexOf(t.startingCell.context)))return void(t.hasFocus=!1);if(t.hasFocus=!0,t.startingCell.isHeader)return t.startingCell.isRowHeader?(t.selectArea({top:t.startingCell.rowIndex,bottom:t.startingCell.rowIndex,left:0,right:t.getVisibleSchema().length-1}),t.draw(!0)):t.startingCell.isColumnHeader&&("sort"===t.attributes.columnHeaderClickBehavior&&(t.orderBy===t.startingCell.header.name?t.orderDirection="asc"===t.orderDirection?"desc":"asc":t.orderDirection="asc",t.order(t.startingCell.header.name,t.orderDirection)),"select"===t.attributes.columnHeaderClickBehavior&&(t.selectArea({top:0,bottom:t.data.length-1,left:t.startingCell.columnIndex,right:t.startingCell.columnIndex}),t.draw(!0))),void t.touchEndEvents(e)}t.zoomAltered||(document.body.addEventListener("touchmove",t.touchmove,{passive:!1}),document.body.addEventListener("touchend",t.touchend,!1),document.body.addEventListener("touchcancel",t.touchcancel,!1),t.draw(!0))}},t.touchSelect=function(e,n){if(void 0!==e.rowIndex&&void 0!==e.columnIndex){t.touchSelecting=!0;var r=t.getSelectionBounds();"selection-handle-bl"===n&&e.rowIndex>=r.top&&e.columnIndex<=r.right?(r.bottom=e.rowIndex,r.left=e.columnIndex):"selection-handle-tl"===n&&e.rowIndex<=r.bottom&&e.columnIndex<=r.right?(r.top=e.rowIndex,r.left=e.columnIndex):"selection-handle-tr"===n&&e.rowIndex<=r.bottom&&e.columnIndex>=r.left?(r.top=e.rowIndex,r.right=e.columnIndex):"selection-handle-br"===n&&e.rowIndex>=r.top&&e.columnIndex>=r.left&&(r.bottom=e.rowIndex,r.right=e.columnIndex),"row"===t.attributes.selectionMode||-1===e.rowIndex?(r.left=0,r.right=t.getSchema().length-1):r.left=Math.max(0,r.left),t.selectArea(r),t.draw(!0)}},t.touchmove=function(r){e||requestAnimationFrame((function(){e=!0,function(e){var r,i,a,o,s,u,l,c,h;if(!t.dispatchEvent("beforetouchmove",{NativeEvent:e})){if(clearTimeout(n),e.changedTouches[0]&&(t.touchPosition=t.getTouchPos(e)),e.changedTouches[1]&&(t.touchPosition1=t.getTouchPos(e,1)),Math.abs(t.touchDelta.x)+Math.abs(t.touchDelta.y)>t.attributes.touchDeadZone&&clearTimeout(t.touchContextTimeout),2===e.touches.length&&t.touchPosition&&t.touchPosition1)return c=t.touchPosition.y,h=t.touchPosition1.y,t.zoomDeltaStart||(t.zoomDeltaStart=Math.abs(c-h),t.startScale=t.scale),t.touchLength=2,t.scaleDelta=t.zoomDeltaStart-Math.abs(c-h),t.scale=t.startScale-t.scaleDelta*t.attributes.touchZoomSensitivity,t.scale=Math.min(Math.max(t.scale,t.attributes.touchZoomMin),t.attributes.touchZoomMax),t.zoomAltered=!0,t.resize(!0),void t.resizeChildGrids();t.zoomAltered||(t.touchLength=1,t.touchPosition=t.touchPosition||t.touchPosition1,r=t.getColumnHeaderCellHeight(),i=t.getRowHeaderCellWidth(),a=t.width-t.style.scrollBarWidth-t.touchPosition.x<t.attributes.selectionScrollZone,o=t.touchPosition.x-i<t.attributes.selectionScrollZone,s=t.height-t.style.scrollBarWidth-t.touchPosition.y<t.attributes.selectionScrollZone,u=t.touchPosition.y-r<t.attributes.selectionScrollZone,l=t.style.scrollBarWidth,e.stopPropagation(),t.touchDelta={x:t.touchPosition.x-t.touchStart.x,y:t.touchPosition.y-t.touchStart.y,scrollLeft:t.scrollBox.scrollLeft,scrollTop:t.scrollBox.scrollTop,t:performance.now()},t.currentCell=t.getCellAt(t.touchPosition.x,t.touchPosition.y),t.dispatchEvent("touchmove",{NativeEvent:e,cell:t.currentCell}),t.calculatePPS(),t.touchDuration=performance.now()-t.touchScrollStart.t,t.stopAnimation=!0,t.animationFrames=0,t.touchSelecting&&(a||o||u||s)&&function e(){var r=t.scrollBox.scrollLeft,i=t.scrollBox.scrollTop;r+=a?t.attributes.selectionScrollIncrement:0,i+=s?t.attributes.selectionScrollIncrement:0,i-=u?t.attributes.selectionScrollIncrement:0,r-=o?t.attributes.selectionScrollIncrement:0,t.scrollBox.scrollTo(r,i),n=setTimeout(e,t.attributes.scrollRepeatRate)}(),/vertical-scroll-/.test(t.startingCell.style)?t.scrollBox.scrollTop=t.scrollBox.scrollHeight*((t.touchPosition.y-r-l)/(t.scrollBox.height-l-r)):/horizontal-scroll-/.test(t.startingCell.style)?t.scrollBox.scrollLeft=t.scrollBox.scrollWidth*((t.touchPosition.x-i-l)/(t.scrollBox.width-l-i)):/selection-handle-/.test(t.startingCell.style)?t.touchSelect(t.currentCell,t.startingCell.style):t.scrollBox.scrollTo(t.touchScrollStart.x-t.touchDelta.x,t.touchScrollStart.y-t.touchDelta.y))}}(r),e=!1}))},t.touchEndEvents=function(e){t.zoomDeltaStart=void 0,t.touchSelecting=!1,clearInterval(t.touchScrollTimeout),clearInterval(t.touchContextTimeout),clearInterval(t.calculatePPSTimer),e.stopPropagation(),document.body.removeEventListener("touchmove",t.touchmove,{passive:!1}),document.body.removeEventListener("touchend",t.touchend,!1),document.body.removeEventListener("touchcancel",t.touchcancel,!1)},t.touchend=function(e){if(!t.dispatchEvent("touchend",{NativeEvent:e,cell:t.currentCell}))if(t.zoomDeltaStart=void 0,e.changedTouches[0]&&(t.touchPosition=void 0),e.changedTouches[1]&&(t.touchPosition1=void 0),t.zoomAltered)0===e.touches.length&&(t.zoomAltered=!1);else{var n=Math.abs(t.touchDelta.x)+Math.abs(t.touchDelta.y)<t.attributes.touchDeadZone;isNaN(t.xPPS)&&(t.xPPS=0),isNaN(t.yPPS)&&(t.yPPS=0),isNaN(t.xPPST)&&(t.xPPST=0),isNaN(t.yPPST)&&(t.yPPST=0),t.touchAnimateTo.x=t.xPPS*t.attributes.touchReleaseAcceleration,t.touchAnimateTo.y=t.yPPS*t.attributes.touchReleaseAcceleration,t.calculatePPSTimed(),n&&!t.contextMenu?t.touchCell(t.touchStartEvent)():0!==t.animationFrames||!(Math.abs(t.xPPST)>t.attributes.scrollAnimationPPSThreshold||Math.abs(t.yPPST)>t.attributes.scrollAnimationPPSThreshold)||/-scroll-/.test(t.startingCell.style)||n||(t.stopAnimation=!1,t.touchEndAnimation()),t.touchEndEvents(e)}},t.touchcancel=function(e){t.dispatchEvent("touchcancel",{NativeEvent:e,cell:t.currentCell})||t.touchEndEvents(e)}}}.apply(e,[]))||(t.exports=r)},"./node_modules/is-printable-key-event/dist/index.js":
/*!***********************************************************!*\
    !*** ./node_modules/is-printable-key-event/dist/index.js ***!
    \***********************************************************/
/*! no static exports found */
function(t,e){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==_typeof2(t)&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=Object.keys(r.default).reduce((function(t,e){return t.concat(r.default[e])}),[]);e.default=function(t){return-1===i.indexOf(t.key)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={modifier:["Alt","AltGraph","CapsLock","Control","Fn","FnLock","Meta","NumLock","ScrollLock","Shift","Symbol","SymbolLock"],legacyModifier:["Hyper","Super"],whiteSpace:["Enter","Tab"],navigation:["ArrowDown","ArrowLeft","ArrowRight","ArrowUp","End","Home","PageDown","PageUp"],editing:["Backspace","Clear","Copy","CrSel","Cut","Delete","EraseEof","ExSel","Insert","Paste","Redo","Undo"],ui:["Accept","Again","Attn","Cancel","ContextMenu","Escape","Execute","Find","Help","Pause","Play","Props","Select","ZoomIn","ZoomOut"],device:["BrightnessDown","BrightnessUp","Eject","LogOff","Power","PowerOff","PrintScreen","Hibernate","Standby","WakeUp"],imeCompositionKeys:["AllCandidates","Alphanumeric","CodeInput","Compose","Convert","Dead","FinalMode","GroupFirst","GroupLast","GroupNext","GroupPrevious","ModeChange","NextCandidate","NonConvert","PreviousCandidate","Process","SingleCandidate"],koreanSpecific:["HangulMode","HanjaMode","JunjaMode"],japaneseSpecific:["Eisu","Hankaku","Hiragana","HiraganaKatakana","KanaMode","KanjiMode","Katakana","Romaji","Zenkaku","ZenkakuHankaku"],commonFunction:["F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","Soft1","Soft2","Soft3","Soft4"],multimedia:["ChannelDown","ChannelUp","Close","MailForward","MailReply","MailSend","MediaClose","MediaFastForward","MediaPause","MediaPlay","MediaPlayPause","MediaRecord","MediaRewind","MediaStop","MediaTrackNext","MediaTrackPrevious","New","Open","Print","Save","SpellCheck"],multimediaNumpad:["Key11","Key12"],audio:["AudioBalanceLeft","AudioBalanceRight","AudioBassBoostDown","AudioBassBoostToggle","AudioBassBoostUp","AudioFaderFront","AudioFaderRear","AudioSurroundModeNext","AudioTrebleDown","AudioTrebleUp","AudioVolumeDown","AudioVolumeUp","AudioVolumeMute","MicrophoneToggle","MicrophoneVolumeDown","MicrophoneVolumeUp","MicrophoneVolumeMute"],speech:["SpeechCorrectionList","SpeechInputToggle"],application:["LaunchApplication1","LaunchApplication2","LaunchCalendar","LaunchContacts","LaunchMail","LaunchMediaPlayer","LaunchMusicPlayer","LaunchPhone","LaunchScreenSaver","LaunchSpreadsheet","LaunchWebBrowser","LaunchWebCam","LaunchWordProcessor"],browser:["BrowserBack","BrowserFavorites","BrowserForward","BrowserHome","BrowserRefresh","BrowserSearch","BrowserStop"],mobilePhone:["AppSwitch","Call","Camera","CameraFocus","EndCall","GoBack","GoHome","HeadsetHook","LastNumberRedial","Notification","MannerMode","VoiceDial"],tv:["TV","TV3DMode","TVAntennaCable","TVAudioDescription","TVAudioDescriptionMixDown","TVAudioDescriptionMixUp","TVContentsMenu","TVDataService","TVInput","TVInputComponent1","TVInputComponent2","TVInputComposite1","TVInputComposite2","TVInputHDMI1","TVInputHDMI2","TVInputHDMI3","TVInputHDMI4","TVInputVGA1","TVMediaContext","TVNetwork","TVNumberEntry","TVPower","TVRadioService","TVSatellite","TVSatelliteBS","TVSatelliteCS","TVSatelliteToggle","TVTerrestrialAnalog","TVTerrestrialDigital","TVTimer"],mediaControls:["AVRInput","AVRPower","ColorF0Red","ColorF1Green","ColorF2Yellow","ColorF3Blue","ColorF4Grey","ColorF5Brown","ClosedCaptionToggle","Dimmer","DisplaySwap","DVR","Exit","FavoriteClear0","FavoriteClear1","FavoriteClear2","FavoriteClear3","FavoriteRecall0","FavoriteRecall1","FavoriteRecall2","FavoriteRecall3","FavoriteStore0","FavoriteStore1","FavoriteStore2","FavoriteStore3","Guide","GuideNextDay","GuidePreviousDay","Info","InstantReplay","Link","ListProgram","LiveContent","Lock","MediaApps","MediaAudioTrack","MediaLast","MediaSkipBackward","MediaSkipForward","MediaStepBackward","MediaStepForward","MediaTopMenu","NavigateIn","NavigateNext","NavigateOut","NavigatePrevious","NextFavoriteChannel","NextUserProfile","OnDemand","Pairing","PinPDown","PinPMove","PinPToggle","PinPUp","PlaySpeedDown","PlaySpeedReset","PlaySpeedUp","RandomToggle","RcLowBattery","RecordSpeedNext","RfBypass","ScanChannelsToggle","ScreenModeNext","Settings","SplitScreenToggle","STBInput","STBPower","Subtitle","Teletext","VideoModeNext","Wink","ZoomToggle"]}}]).default}})},"9a0c":function(t,e,n){var r=n("342f");t.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r)},"9a1f":function(t,e,n){var r=n("825a"),i=n("35a1");t.exports=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return r(e.call(t))}},"9a8c":function(t,e,n){"use strict";var r=n("ebb5"),i=n("145e"),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("copyWithin",(function(t,e){return i.call(a(this),t,e,arguments.length>2?arguments[2]:void 0)}))},"9ac3":function(t,e,n){var r=n("294a"),i=n("61c0"),a=n("f65b"),o=n("44ac");function s(t){var e=t.token;if(e.match(i.reT)){var n=i.splitT(e);if(r.includes(n,void 0)){n.slice(0,3);return null!=n.slice(3)[0]?i.TtoStdT(e).match(/(\d+\:\d+)/)[1]:{normal:i.TtoStdT(e)}}return{normal:i.TtoStdT(e)}}if(!i.has_t(t)&&i.has_dt(t)&&i.has_pureTimeUnit(t)){for(var a="",o=r.keys(t.dt),s=t.dt,u=0;u<o.length;u++){var l=o[u],c=parseFloat(s[l]),h=c!=s[l]||0==c||1==Math.abs(c)?"":s[l].toString()+" ",f=l;if(null!=t.canon)f=t.canon;else{var d=i.lemma(l),p=d.canon,m=d.value;m&&m.match(/^\w+$/)&&(f=p)}a=a+h+f+" "}return a}return e}function u(t){var e=i.delimSyms(t),n=i.splitSyms(e,"trinull");return i.orderChunks(n).pop()}function l(t,e,n){if(t.length<2)return t;n=n||["op"];t.push("null");for(var o=[],s=null,u=null,l=!1,h=0;h<t.length;h++){var f=t[h];s&&f?i.isSym(f,n)?(u=f,l=!0):i.isSym(s,[e[0]])&&i.isSym(f,[e[1]])?(s=c(s,u,f),u=null,l=!1):(o.push(s),Array.isArray(s)?o=r.flatten(o):l&&o.push(a(u.value)),u=null,l=!1,s=f):0==h&&(s=f)}return o}function c(t,e,n,o){var s=i.opType(t,e,n);return r.includes(["nn"],s)?function(t,e,n){var r=t.value,i=n.value;e=r>i?e||a("plus"):e||a("times");var o=h(r,e,i);return a(o)}(t,e,n):r.includes(["nT"],s)?function(t,e,n){var o=i.highestOverride(n.t);if(o)n.t[o]=t.value;else if(r.keys(n.dt).length)for(var s in e=e||a("times"),n.dt)"wd"!=s&&(n.dt[s]=h(t.value,e,n.dt[s]));else if(r.keys(n.t).length)for(var s in e=e||a("plus"),n.t)n.t[s]=h(t.value,e,n.t[s]);return n}(t,e,n):r.includes(["TT"],s)?function(t,e,n){for(var r in e=e||a("plus"),n.t)t.t[r]=h(t.t[r],e,n.t[r],!0);for(var r in n.dt)"wd"!=r&&(t.dt[r]=h(t.dt[r],e,n.dt[r]));return t}(t,e,n):r.includes(["ToT","oT","To"],s)?function(t,e,n,o){if(t&&!n)n=a(i.nowT(o));else if(!t&&n)if(i.has_t(n)){var s=i.nextLargestUnit(n);n=function(t,e){var n=i.nextLargestUnit(t),r=d([t],e)[0],a=i.TtoStdT(r),o=Date.parse(a),s=Date.parse(new Date);return o-s<0?(t.dt[n]=(t.dt[n]||0)+1,d([t],e)[0]):r}(n,o),t=c(a(.5),a("times"),a(s))}else t=a(i.nowT(o));else t||n||(t=a(i.nowT(o)),n=a(i.nowT(o)));for(var u=["t","dt"],l=0;l<u.length;l++)for(var f=u[l],p="t"==f,m=r.keys(t[f]).concat(r.keys(n[f])),g=r.unique(m),_=0;_<g.length;_++){var v=g[_];n[f][v]=h(n[f][v],e,t[f][v],p)}return n}(t,e,n,o):r.includes(["oo"],s)?function(t,e){var n="plus"==t.value?1:-1,r="plus"==e.value?1:-1;return a(n*r>0?"after":"before")}(t,n):r.includes(["rT","TrT"],s)?function(t,e){var n,r;e?(n=t,r=e):(n=a(i.nowT()),r=t);return a({start:n,end:r})}(t,n):r.includes(["cT","fcT","crT","fcrT"],s)?void 0:null==e?[t,n]:[t,e,n]}function h(t,e,n,r){r=r||!1;var i=e.value;if(null==t)return"minus"==i?n.toString().replace(/(\d)/,"-$1"):n;if(null==n)return t;var a=t.toString().match(/^=/),o=n.toString().match(/^=/),s=parseFloat(t.toString().replace(/^=/,"")),u=parseFloat(n.toString().replace(/^=/,""));return a&&o||a&&!o?u:!a&&o||r?s:"minus"==i?s-u:"plus"==i?s+u:"times"==i?s*u:"divide"==i?s/u:void 0}function f(t){if(t.length<2)return t;for(var e=0;e<t.length;e++){var n=t[e];if("n"==i.sName(n)){var a=t[e+1];if("T"!=i.sName(a)){var o=[],s=t[e-1],u=-1;"op"==i.sName(s)&&(u=e-1);var c=r.findLastIndex(t.slice(0,e-1),(function(t){return"n"==i.sName(t)}));t[c]&&"T"==i.sName(t[c+1])&&(o.push(r.pullAt(t,e)[0]),-1!=u&&o.unshift(r.pullAt(t,u)[0]),t.splice(c+1,0,o),t=r.flatten(t))}}}return t=l(t,["n","n"])}function d(t,e){for(var n=0;n<t.length;n++)t[n]=p(t[n]);t.push(a(i.nowT(e))),t=l(t,["T","T"]);var r=[];for(n=0;n<t.length;n++){var o=t[n],s=m(o);s.token=i.TtoStr(s),r.push(m(o))}return t}function p(t){for(var e in t.dt)t.dt[e]=t.dt[e].toString().replace(/^=/,"");for(var e in t.t)t.t[e]=t.t[e].toString().replace(/^=/,"");return delete t.t.mer,t}function m(t){if(!i.isSym(t,["T"]))return t;for(var e in t.dt){var n=null==t.t[e]?0:t.t[e],r=t.dt[e];n=n.toString().replace(/^=/,""),r=r.toString().replace(/^=/,"");var a=parseFloat(n)+parseFloat(r);t.t[e]=a,delete t.dt[e]}return t}t.exports=function(t,e){try{var n=o(t),r=u(n.symbols)||[];return r=l(r,["n","n"]),function(t,e){var n=[],r=[];e.tokensOut,e.tokensIn;t=i.removeTnPlus(t);for(var a=0;a<t.length;a++){var o=t[a],u=i.sName(o),l="";switch(u){case"n":l=o.token.match(/^\s*[\d\.\-\+]+\s*$/)?o.token.trim():o.value.toString();break;case"T":l=s(o);break;default:l=o.token.toString()}"string"==typeof l?n.push(l):r.push(l.normal)}return{tokens:n,str:n.join(" ").replace(/\s+/g," "),normals:r}}(r=l(r=f(r),["o","o"]),n)}catch(e){return{str:t,tokens:[],normals:[]}}}},"9bdd":function(t,e,n){var r=n("825a");t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var a=t.return;throw void 0!==a&&r(a.call(t)),e}}},"9bf2":function(t,e,n){var r=n("83ab"),i=n("0cfb"),a=n("825a"),o=n("c04e"),s=Object.defineProperty;e.f=r?s:function(t,e,n){if(a(t),e=o(e,!0),a(n),i)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},"9c0c":function(t,e,n){var r=n("1609");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},"9c0e":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"9d11":function(t,e,n){var r=n("fc5e"),i=Math.max,a=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):a(t,e)}},"9e4a":function(t,e,n){var r=n("23e7"),i=n("83ab"),a=n("825a"),o=n("06cf");r({target:"Reflect",stat:!0,sham:!i},{getOwnPropertyDescriptor:function(t,e){return o.f(a(t),e)}})},"9e6a":function(t,e,n){"use strict";var r=n("d233"),i=Object.prototype.hasOwnProperty,a={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},o=function(t){return t.replace(/&#(\d+);/g,(function(t,e){return String.fromCharCode(parseInt(e,10))}))},s=function(t,e,n){if(t){var r=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,a=/(\[[^[\]]*])/g,o=/(\[[^[\]]*])/.exec(r),s=o?r.slice(0,o.index):r,u=[];if(s){if(!n.plainObjects&&i.call(Object.prototype,s)&&!n.allowPrototypes)return;u.push(s)}for(var l=0;null!==(o=a.exec(r))&&l<n.depth;){if(l+=1,!n.plainObjects&&i.call(Object.prototype,o[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(o[1])}return o&&u.push("["+r.slice(o.index)+"]"),function(t,e,n){for(var r=e,i=t.length-1;i>=0;--i){var a,o=t[i];if("[]"===o&&n.parseArrays)a=[].concat(r);else{a=n.plainObjects?Object.create(null):{};var s="["===o.charAt(0)&&"]"===o.charAt(o.length-1)?o.slice(1,-1):o,u=parseInt(s,10);n.parseArrays||""!==s?!isNaN(u)&&o!==s&&String(u)===s&&u>=0&&n.parseArrays&&u<=n.arrayLimit?(a=[])[u]=r:a[s]=r:a={0:r}}r=a}return r}(u,e,n)}};t.exports=function(t,e){var n=function(t){if(!t)return a;if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");var e=void 0===t.charset?a.charset:t.charset;return{allowDots:void 0===t.allowDots?a.allowDots:!!t.allowDots,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:a.allowPrototypes,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:a.arrayLimit,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:a.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:a.comma,decoder:"function"==typeof t.decoder?t.decoder:a.decoder,delimiter:"string"==typeof t.delimiter||r.isRegExp(t.delimiter)?t.delimiter:a.delimiter,depth:"number"==typeof t.depth?t.depth:a.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:a.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:a.plainObjects,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:a.strictNullHandling}}(e);if(""===t||null==t)return n.plainObjects?Object.create(null):{};for(var u="string"==typeof t?function(t,e){var n,s={},u=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,l=e.parameterLimit===1/0?void 0:e.parameterLimit,c=u.split(e.delimiter,l),h=-1,f=e.charset;if(e.charsetSentinel)for(n=0;n<c.length;++n)0===c[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===c[n]?f="utf-8":"utf8=%26%2310003%3B"===c[n]&&(f="iso-8859-1"),h=n,n=c.length);for(n=0;n<c.length;++n)if(n!==h){var d,p,m=c[n],g=m.indexOf("]="),_=-1===g?m.indexOf("="):g+1;-1===_?(d=e.decoder(m,a.decoder,f),p=e.strictNullHandling?null:""):(d=e.decoder(m.slice(0,_),a.decoder,f),p=e.decoder(m.slice(_+1),a.decoder,f)),p&&e.interpretNumericEntities&&"iso-8859-1"===f&&(p=o(p)),p&&e.comma&&p.indexOf(",")>-1&&(p=p.split(",")),i.call(s,d)?s[d]=r.combine(s[d],p):s[d]=p}return s}(t,n):t,l=n.plainObjects?Object.create(null):{},c=Object.keys(u),h=0;h<c.length;++h){var f=c[h],d=s(f,u[f],n);l=r.merge(l,d,n)}return r.compact(l)}},"9ed3":function(t,e,n){"use strict";var r=n("ae93").IteratorPrototype,i=n("7c73"),a=n("5c6c"),o=n("d44e"),s=n("3f8c"),u=function(){return this};t.exports=function(t,e,n){var l=e+" Iterator";return t.prototype=i(r,{next:a(1,n)}),o(t,l,!1,!0),s[l]=u,t}},"9f7f":function(t,e,n){"use strict";var r=n("d039");function i(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=r((function(){var t=i("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=r((function(){var t=i("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},"9f96":function(t,e,n){var r=n("23e7"),i=n("da84"),a=n("b575"),o=n("c6b6"),s=i.process,u="process"==o(s);r({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(t){var e=u&&s.domain;a(e?e.bind(t):t)}})},"9fbb":function(t,e,n){var r=n("4d88");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},"9ff9":function(t,e,n){var r=n("23e7"),i=Math.atanh,a=Math.log;r({target:"Math",stat:!0,forced:!(i&&1/i(-0)<0)},{atanh:function(t){return 0==(t=+t)?t:a((1+t)/(1-t))/2}})},a026:function(t,e,n){"use strict";n.r(e),function(t){
/*!
 * Vue.js v2.6.12
 * (c) 2014-2020 Evan You
 * Released under the MIT License.
 */
var n=Object.freeze({});function r(t){return null==t}function i(t){return null!=t}function a(t){return!0===t}function o(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t||"boolean"==typeof t}function s(t){return null!==t&&"object"==typeof t}var u=Object.prototype.toString;function l(t){return"[object Object]"===u.call(t)}function c(t){return"[object RegExp]"===u.call(t)}function h(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function f(t){return i(t)&&"function"==typeof t.then&&"function"==typeof t.catch}function d(t){return null==t?"":Array.isArray(t)||l(t)&&t.toString===u?JSON.stringify(t,null,2):String(t)}function p(t){var e=parseFloat(t);return isNaN(e)?t:e}function m(t,e){for(var n=Object.create(null),r=t.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}var g=m("slot,component",!0),_=m("key,ref,slot,slot-scope,is");function v(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}var y=Object.prototype.hasOwnProperty;function b(t,e){return y.call(t,e)}function x(t){var e=Object.create(null);return function(n){return e[n]||(e[n]=t(n))}}var w=/-(\w)/g,T=x((function(t){return t.replace(w,(function(t,e){return e?e.toUpperCase():""}))})),S=x((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})),E=/\B([A-Z])/g,C=x((function(t){return t.replace(E,"-$1").toLowerCase()}));var A=Function.prototype.bind?function(t,e){return t.bind(e)}:function(t,e){function n(n){var r=arguments.length;return r?r>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n};function M(t,e){e=e||0;for(var n=t.length-e,r=new Array(n);n--;)r[n]=t[n+e];return r}function O(t,e){for(var n in e)t[n]=e[n];return t}function D(t){for(var e={},n=0;n<t.length;n++)t[n]&&O(e,t[n]);return e}function N(t,e,n){}var I=function(t,e,n){return!1},P=function(t){return t};function L(t,e){if(t===e)return!0;var n=s(t),r=s(e);if(!n||!r)return!n&&!r&&String(t)===String(e);try{var i=Array.isArray(t),a=Array.isArray(e);if(i&&a)return t.length===e.length&&t.every((function(t,n){return L(t,e[n])}));if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(i||a)return!1;var o=Object.keys(t),u=Object.keys(e);return o.length===u.length&&o.every((function(n){return L(t[n],e[n])}))}catch(t){return!1}}function R(t,e){for(var n=0;n<t.length;n++)if(L(t[n],e))return n;return-1}function k(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var B=["component","directive","filter"],F=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],z={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:I,isReservedAttr:I,isUnknownElement:I,getTagNamespace:N,parsePlatformTagName:P,mustUseProp:I,async:!0,_lifecycleHooks:F},j=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function U(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function H(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var V=new RegExp("[^"+j.source+".$_\\d]");var G,W="__proto__"in{},$="undefined"!=typeof window,X="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,q=X&&WXEnvironment.platform.toLowerCase(),Y=$&&window.navigator.userAgent.toLowerCase(),Z=Y&&/msie|trident/.test(Y),K=Y&&Y.indexOf("msie 9.0")>0,J=Y&&Y.indexOf("edge/")>0,Q=(Y&&Y.indexOf("android"),Y&&/iphone|ipad|ipod|ios/.test(Y)||"ios"===q),tt=(Y&&/chrome\/\d+/.test(Y),Y&&/phantomjs/.test(Y),Y&&Y.match(/firefox\/(\d+)/)),et={}.watch,nt=!1;if($)try{var rt={};Object.defineProperty(rt,"passive",{get:function(){nt=!0}}),window.addEventListener("test-passive",null,rt)}catch(t){}var it=function(){return void 0===G&&(G=!$&&!X&&void 0!==t&&(t.process&&"server"===t.process.env.VUE_ENV)),G},at=$&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ot(t){return"function"==typeof t&&/native code/.test(t.toString())}var st,ut="undefined"!=typeof Symbol&&ot(Symbol)&&"undefined"!=typeof Reflect&&ot(Reflect.ownKeys);st="undefined"!=typeof Set&&ot(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var lt=N,ct=0,ht=function(){this.id=ct++,this.subs=[]};ht.prototype.addSub=function(t){this.subs.push(t)},ht.prototype.removeSub=function(t){v(this.subs,t)},ht.prototype.depend=function(){ht.target&&ht.target.addDep(this)},ht.prototype.notify=function(){var t=this.subs.slice();for(var e=0,n=t.length;e<n;e++)t[e].update()},ht.target=null;var ft=[];function dt(t){ft.push(t),ht.target=t}function pt(){ft.pop(),ht.target=ft[ft.length-1]}var mt=function(t,e,n,r,i,a,o,s){this.tag=t,this.data=e,this.children=n,this.text=r,this.elm=i,this.ns=void 0,this.context=a,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=o,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},gt={child:{configurable:!0}};gt.child.get=function(){return this.componentInstance},Object.defineProperties(mt.prototype,gt);var _t=function(t){void 0===t&&(t="");var e=new mt;return e.text=t,e.isComment=!0,e};function vt(t){return new mt(void 0,void 0,void 0,String(t))}function yt(t){var e=new mt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var bt=Array.prototype,xt=Object.create(bt);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(t){var e=bt[t];H(xt,t,(function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];var i,a=e.apply(this,n),o=this.__ob__;switch(t){case"push":case"unshift":i=n;break;case"splice":i=n.slice(2)}return i&&o.observeArray(i),o.dep.notify(),a}))}));var wt=Object.getOwnPropertyNames(xt),Tt=!0;function St(t){Tt=t}var Et=function(t){this.value=t,this.dep=new ht,this.vmCount=0,H(t,"__ob__",this),Array.isArray(t)?(W?function(t,e){t.__proto__=e}(t,xt):function(t,e,n){for(var r=0,i=n.length;r<i;r++){var a=n[r];H(t,a,e[a])}}(t,xt,wt),this.observeArray(t)):this.walk(t)};function Ct(t,e){var n;if(s(t)&&!(t instanceof mt))return b(t,"__ob__")&&t.__ob__ instanceof Et?n=t.__ob__:Tt&&!it()&&(Array.isArray(t)||l(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new Et(t)),e&&n&&n.vmCount++,n}function At(t,e,n,r,i){var a=new ht,o=Object.getOwnPropertyDescriptor(t,e);if(!o||!1!==o.configurable){var s=o&&o.get,u=o&&o.set;s&&!u||2!==arguments.length||(n=t[e]);var l=!i&&Ct(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=s?s.call(t):n;return ht.target&&(a.depend(),l&&(l.dep.depend(),Array.isArray(e)&&Dt(e))),e},set:function(e){var r=s?s.call(t):n;e===r||e!=e&&r!=r||s&&!u||(u?u.call(t,e):n=e,l=!i&&Ct(e),a.notify())}})}}function Mt(t,e,n){if(Array.isArray(t)&&h(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(e in t&&!(e in Object.prototype))return t[e]=n,n;var r=t.__ob__;return t._isVue||r&&r.vmCount?n:r?(At(r.value,e,n),r.dep.notify(),n):(t[e]=n,n)}function Ot(t,e){if(Array.isArray(t)&&h(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||b(t,e)&&(delete t[e],n&&n.dep.notify())}}function Dt(t){for(var e=void 0,n=0,r=t.length;n<r;n++)(e=t[n])&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&Dt(e)}Et.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)At(t,e[n])},Et.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)Ct(t[e])};var Nt=z.optionMergeStrategies;function It(t,e){if(!e)return t;for(var n,r,i,a=ut?Reflect.ownKeys(e):Object.keys(e),o=0;o<a.length;o++)"__ob__"!==(n=a[o])&&(r=t[n],i=e[n],b(t,n)?r!==i&&l(r)&&l(i)&&It(r,i):Mt(t,n,i));return t}function Pt(t,e,n){return n?function(){var r="function"==typeof e?e.call(n,n):e,i="function"==typeof t?t.call(n,n):t;return r?It(r,i):i}:e?t?function(){return It("function"==typeof e?e.call(this,this):e,"function"==typeof t?t.call(this,this):t)}:e:t}function Lt(t,e){var n=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return n?function(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}(n):n}function Rt(t,e,n,r){var i=Object.create(t||null);return e?O(i,e):i}Nt.data=function(t,e,n){return n?Pt(t,e,n):e&&"function"!=typeof e?t:Pt(t,e)},F.forEach((function(t){Nt[t]=Lt})),B.forEach((function(t){Nt[t+"s"]=Rt})),Nt.watch=function(t,e,n,r){if(t===et&&(t=void 0),e===et&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var i={};for(var a in O(i,t),e){var o=i[a],s=e[a];o&&!Array.isArray(o)&&(o=[o]),i[a]=o?o.concat(s):Array.isArray(s)?s:[s]}return i},Nt.props=Nt.methods=Nt.inject=Nt.computed=function(t,e,n,r){if(!t)return e;var i=Object.create(null);return O(i,t),e&&O(i,e),i},Nt.provide=Pt;var kt=function(t,e){return void 0===e?t:e};function Bt(t,e,n){if("function"==typeof e&&(e=e.options),function(t,e){var n=t.props;if(n){var r,i,a={};if(Array.isArray(n))for(r=n.length;r--;)"string"==typeof(i=n[r])&&(a[T(i)]={type:null});else if(l(n))for(var o in n)i=n[o],a[T(o)]=l(i)?i:{type:i};else 0;t.props=a}}(e),function(t,e){var n=t.inject;if(n){var r=t.inject={};if(Array.isArray(n))for(var i=0;i<n.length;i++)r[n[i]]={from:n[i]};else if(l(n))for(var a in n){var o=n[a];r[a]=l(o)?O({from:a},o):{from:o}}else 0}}(e),function(t){var e=t.directives;if(e)for(var n in e){var r=e[n];"function"==typeof r&&(e[n]={bind:r,update:r})}}(e),!e._base&&(e.extends&&(t=Bt(t,e.extends,n)),e.mixins))for(var r=0,i=e.mixins.length;r<i;r++)t=Bt(t,e.mixins[r],n);var a,o={};for(a in t)s(a);for(a in e)b(t,a)||s(a);function s(r){var i=Nt[r]||kt;o[r]=i(t[r],e[r],n,r)}return o}function Ft(t,e,n,r){if("string"==typeof n){var i=t[e];if(b(i,n))return i[n];var a=T(n);if(b(i,a))return i[a];var o=S(a);return b(i,o)?i[o]:i[n]||i[a]||i[o]}}function zt(t,e,n,r){var i=e[t],a=!b(n,t),o=n[t],s=Ht(Boolean,i.type);if(s>-1)if(a&&!b(i,"default"))o=!1;else if(""===o||o===C(t)){var u=Ht(String,i.type);(u<0||s<u)&&(o=!0)}if(void 0===o){o=function(t,e,n){if(!b(e,"default"))return;var r=e.default;0;if(t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n])return t._props[n];return"function"==typeof r&&"Function"!==jt(e.type)?r.call(t):r}(r,i,t);var l=Tt;St(!0),Ct(o),St(l)}return o}function jt(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function Ut(t,e){return jt(t)===jt(e)}function Ht(t,e){if(!Array.isArray(e))return Ut(e,t)?0:-1;for(var n=0,r=e.length;n<r;n++)if(Ut(e[n],t))return n;return-1}function Vt(t,e,n){dt();try{if(e)for(var r=e;r=r.$parent;){var i=r.$options.errorCaptured;if(i)for(var a=0;a<i.length;a++)try{if(!1===i[a].call(r,t,e,n))return}catch(t){Wt(t,r,"errorCaptured hook")}}Wt(t,e,n)}finally{pt()}}function Gt(t,e,n,r,i){var a;try{(a=n?t.apply(e,n):t.call(e))&&!a._isVue&&f(a)&&!a._handled&&(a.catch((function(t){return Vt(t,r,i+" (Promise/async)")})),a._handled=!0)}catch(t){Vt(t,r,i)}return a}function Wt(t,e,n){if(z.errorHandler)try{return z.errorHandler.call(null,t,e,n)}catch(e){e!==t&&$t(e,null,"config.errorHandler")}$t(t,e,n)}function $t(t,e,n){if(!$&&!X||"undefined"==typeof console)throw t;console.error(t)}var Xt,qt=!1,Yt=[],Zt=!1;function Kt(){Zt=!1;var t=Yt.slice(0);Yt.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!=typeof Promise&&ot(Promise)){var Jt=Promise.resolve();Xt=function(){Jt.then(Kt),Q&&setTimeout(N)},qt=!0}else if(Z||"undefined"==typeof MutationObserver||!ot(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Xt="undefined"!=typeof setImmediate&&ot(setImmediate)?function(){setImmediate(Kt)}:function(){setTimeout(Kt,0)};else{var Qt=1,te=new MutationObserver(Kt),ee=document.createTextNode(String(Qt));te.observe(ee,{characterData:!0}),Xt=function(){Qt=(Qt+1)%2,ee.data=String(Qt)},qt=!0}function ne(t,e){var n;if(Yt.push((function(){if(t)try{t.call(e)}catch(t){Vt(t,e,"nextTick")}else n&&n(e)})),Zt||(Zt=!0,Xt()),!t&&"undefined"!=typeof Promise)return new Promise((function(t){n=t}))}var re=new st;function ie(t){!function t(e,n){var r,i,a=Array.isArray(e);if(!a&&!s(e)||Object.isFrozen(e)||e instanceof mt)return;if(e.__ob__){var o=e.__ob__.dep.id;if(n.has(o))return;n.add(o)}if(a)for(r=e.length;r--;)t(e[r],n);else for(i=Object.keys(e),r=i.length;r--;)t(e[i[r]],n)}(t,re),re.clear()}var ae=x((function(t){var e="&"===t.charAt(0),n="~"===(t=e?t.slice(1):t).charAt(0),r="!"===(t=n?t.slice(1):t).charAt(0);return{name:t=r?t.slice(1):t,once:n,capture:r,passive:e}}));function oe(t,e){function n(){var t=arguments,r=n.fns;if(!Array.isArray(r))return Gt(r,null,arguments,e,"v-on handler");for(var i=r.slice(),a=0;a<i.length;a++)Gt(i[a],null,t,e,"v-on handler")}return n.fns=t,n}function se(t,e,n,i,o,s){var u,l,c,h;for(u in t)l=t[u],c=e[u],h=ae(u),r(l)||(r(c)?(r(l.fns)&&(l=t[u]=oe(l,s)),a(h.once)&&(l=t[u]=o(h.name,l,h.capture)),n(h.name,l,h.capture,h.passive,h.params)):l!==c&&(c.fns=l,t[u]=c));for(u in e)r(t[u])&&i((h=ae(u)).name,e[u],h.capture)}function ue(t,e,n){var o;t instanceof mt&&(t=t.data.hook||(t.data.hook={}));var s=t[e];function u(){n.apply(this,arguments),v(o.fns,u)}r(s)?o=oe([u]):i(s.fns)&&a(s.merged)?(o=s).fns.push(u):o=oe([s,u]),o.merged=!0,t[e]=o}function le(t,e,n,r,a){if(i(e)){if(b(e,n))return t[n]=e[n],a||delete e[n],!0;if(b(e,r))return t[n]=e[r],a||delete e[r],!0}return!1}function ce(t){return o(t)?[vt(t)]:Array.isArray(t)?function t(e,n){var s,u,l,c,h=[];for(s=0;s<e.length;s++)r(u=e[s])||"boolean"==typeof u||(l=h.length-1,c=h[l],Array.isArray(u)?u.length>0&&(he((u=t(u,(n||"")+"_"+s))[0])&&he(c)&&(h[l]=vt(c.text+u[0].text),u.shift()),h.push.apply(h,u)):o(u)?he(c)?h[l]=vt(c.text+u):""!==u&&h.push(vt(u)):he(u)&&he(c)?h[l]=vt(c.text+u.text):(a(e._isVList)&&i(u.tag)&&r(u.key)&&i(n)&&(u.key="__vlist"+n+"_"+s+"__"),h.push(u)));return h}(t):void 0}function he(t){return i(t)&&i(t.text)&&!1===t.isComment}function fe(t,e){if(t){for(var n=Object.create(null),r=ut?Reflect.ownKeys(t):Object.keys(t),i=0;i<r.length;i++){var a=r[i];if("__ob__"!==a){for(var o=t[a].from,s=e;s;){if(s._provided&&b(s._provided,o)){n[a]=s._provided[o];break}s=s.$parent}if(!s)if("default"in t[a]){var u=t[a].default;n[a]="function"==typeof u?u.call(e):u}else 0}}return n}}function de(t,e){if(!t||!t.length)return{};for(var n={},r=0,i=t.length;r<i;r++){var a=t[r],o=a.data;if(o&&o.attrs&&o.attrs.slot&&delete o.attrs.slot,a.context!==e&&a.fnContext!==e||!o||null==o.slot)(n.default||(n.default=[])).push(a);else{var s=o.slot,u=n[s]||(n[s]=[]);"template"===a.tag?u.push.apply(u,a.children||[]):u.push(a)}}for(var l in n)n[l].every(pe)&&delete n[l];return n}function pe(t){return t.isComment&&!t.asyncFactory||" "===t.text}function me(t,e,r){var i,a=Object.keys(e).length>0,o=t?!!t.$stable:!a,s=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(o&&r&&r!==n&&s===r.$key&&!a&&!r.$hasNormal)return r;for(var u in i={},t)t[u]&&"$"!==u[0]&&(i[u]=ge(e,u,t[u]))}else i={};for(var l in e)l in i||(i[l]=_e(e,l));return t&&Object.isExtensible(t)&&(t._normalized=i),H(i,"$stable",o),H(i,"$key",s),H(i,"$hasNormal",a),i}function ge(t,e,n){var r=function(){var t=arguments.length?n.apply(null,arguments):n({});return(t=t&&"object"==typeof t&&!Array.isArray(t)?[t]:ce(t))&&(0===t.length||1===t.length&&t[0].isComment)?void 0:t};return n.proxy&&Object.defineProperty(t,e,{get:r,enumerable:!0,configurable:!0}),r}function _e(t,e){return function(){return t[e]}}function ve(t,e){var n,r,a,o,u;if(Array.isArray(t)||"string"==typeof t)for(n=new Array(t.length),r=0,a=t.length;r<a;r++)n[r]=e(t[r],r);else if("number"==typeof t)for(n=new Array(t),r=0;r<t;r++)n[r]=e(r+1,r);else if(s(t))if(ut&&t[Symbol.iterator]){n=[];for(var l=t[Symbol.iterator](),c=l.next();!c.done;)n.push(e(c.value,n.length)),c=l.next()}else for(o=Object.keys(t),n=new Array(o.length),r=0,a=o.length;r<a;r++)u=o[r],n[r]=e(t[u],u,r);return i(n)||(n=[]),n._isVList=!0,n}function ye(t,e,n,r){var i,a=this.$scopedSlots[t];a?(n=n||{},r&&(n=O(O({},r),n)),i=a(n)||e):i=this.$slots[t]||e;var o=n&&n.slot;return o?this.$createElement("template",{slot:o},i):i}function be(t){return Ft(this.$options,"filters",t)||P}function xe(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function we(t,e,n,r,i){var a=z.keyCodes[e]||n;return i&&r&&!z.keyCodes[e]?xe(i,r):a?xe(a,t):r?C(r)!==e:void 0}function Te(t,e,n,r,i){if(n)if(s(n)){var a;Array.isArray(n)&&(n=D(n));var o=function(o){if("class"===o||"style"===o||_(o))a=t;else{var s=t.attrs&&t.attrs.type;a=r||z.mustUseProp(e,s,o)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var u=T(o),l=C(o);u in a||l in a||(a[o]=n[o],i&&((t.on||(t.on={}))["update:"+o]=function(t){n[o]=t}))};for(var u in n)o(u)}else;return t}function Se(t,e){var n=this._staticTrees||(this._staticTrees=[]),r=n[t];return r&&!e||Ce(r=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),"__static__"+t,!1),r}function Ee(t,e,n){return Ce(t,"__once__"+e+(n?"_"+n:""),!0),t}function Ce(t,e,n){if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]&&"string"!=typeof t[r]&&Ae(t[r],e+"_"+r,n);else Ae(t,e,n)}function Ae(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function Me(t,e){if(e)if(l(e)){var n=t.on=t.on?O({},t.on):{};for(var r in e){var i=n[r],a=e[r];n[r]=i?[].concat(i,a):a}}else;return t}function Oe(t,e,n,r){e=e||{$stable:!n};for(var i=0;i<t.length;i++){var a=t[i];Array.isArray(a)?Oe(a,e,n):a&&(a.proxy&&(a.fn.proxy=!0),e[a.key]=a.fn)}return r&&(e.$key=r),e}function De(t,e){for(var n=0;n<e.length;n+=2){var r=e[n];"string"==typeof r&&r&&(t[e[n]]=e[n+1])}return t}function Ne(t,e){return"string"==typeof t?e+t:t}function Ie(t){t._o=Ee,t._n=p,t._s=d,t._l=ve,t._t=ye,t._q=L,t._i=R,t._m=Se,t._f=be,t._k=we,t._b=Te,t._v=vt,t._e=_t,t._u=Oe,t._g=Me,t._d=De,t._p=Ne}function Pe(t,e,r,i,o){var s,u=this,l=o.options;b(i,"_uid")?(s=Object.create(i))._original=i:(s=i,i=i._original);var c=a(l._compiled),h=!c;this.data=t,this.props=e,this.children=r,this.parent=i,this.listeners=t.on||n,this.injections=fe(l.inject,i),this.slots=function(){return u.$slots||me(t.scopedSlots,u.$slots=de(r,i)),u.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return me(t.scopedSlots,this.slots())}}),c&&(this.$options=l,this.$slots=this.slots(),this.$scopedSlots=me(t.scopedSlots,this.$slots)),l._scopeId?this._c=function(t,e,n,r){var a=je(s,t,e,n,r,h);return a&&!Array.isArray(a)&&(a.fnScopeId=l._scopeId,a.fnContext=i),a}:this._c=function(t,e,n,r){return je(s,t,e,n,r,h)}}function Le(t,e,n,r,i){var a=yt(t);return a.fnContext=n,a.fnOptions=r,e.slot&&((a.data||(a.data={})).slot=e.slot),a}function Re(t,e){for(var n in e)t[T(n)]=e[n]}Ie(Pe.prototype);var ke={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;ke.prepatch(n,n)}else{(t.componentInstance=function(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},r=t.data.inlineTemplate;i(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns);return new t.componentOptions.Ctor(n)}(t,Ze)).$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var r=e.componentOptions;!function(t,e,r,i,a){0;var o=i.data.scopedSlots,s=t.$scopedSlots,u=!!(o&&!o.$stable||s!==n&&!s.$stable||o&&t.$scopedSlots.$key!==o.$key),l=!!(a||t.$options._renderChildren||u);t.$options._parentVnode=i,t.$vnode=i,t._vnode&&(t._vnode.parent=i);if(t.$options._renderChildren=a,t.$attrs=i.data.attrs||n,t.$listeners=r||n,e&&t.$options.props){St(!1);for(var c=t._props,h=t.$options._propKeys||[],f=0;f<h.length;f++){var d=h[f],p=t.$options.props;c[d]=zt(d,p,e,t)}St(!0),t.$options.propsData=e}r=r||n;var m=t.$options._parentListeners;t.$options._parentListeners=r,Ye(t,r,m),l&&(t.$slots=de(a,i.context),t.$forceUpdate());0}(e.componentInstance=t.componentInstance,r.propsData,r.listeners,e,r.children)},insert:function(t){var e,n=t.context,r=t.componentInstance;r._isMounted||(r._isMounted=!0,tn(r,"mounted")),t.data.keepAlive&&(n._isMounted?((e=r)._inactive=!1,nn.push(e)):Qe(r,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?function t(e,n){if(n&&(e._directInactive=!0,Je(e)))return;if(!e._inactive){e._inactive=!0;for(var r=0;r<e.$children.length;r++)t(e.$children[r]);tn(e,"deactivated")}}(e,!0):e.$destroy())}},Be=Object.keys(ke);function Fe(t,e,o,u,l){if(!r(t)){var c=o.$options._base;if(s(t)&&(t=c.extend(t)),"function"==typeof t){var h;if(r(t.cid)&&void 0===(t=function(t,e){if(a(t.error)&&i(t.errorComp))return t.errorComp;if(i(t.resolved))return t.resolved;var n=He;n&&i(t.owners)&&-1===t.owners.indexOf(n)&&t.owners.push(n);if(a(t.loading)&&i(t.loadingComp))return t.loadingComp;if(n&&!i(t.owners)){var o=t.owners=[n],u=!0,l=null,c=null;n.$on("hook:destroyed",(function(){return v(o,n)}));var h=function(t){for(var e=0,n=o.length;e<n;e++)o[e].$forceUpdate();t&&(o.length=0,null!==l&&(clearTimeout(l),l=null),null!==c&&(clearTimeout(c),c=null))},d=k((function(n){t.resolved=Ve(n,e),u?o.length=0:h(!0)})),p=k((function(e){i(t.errorComp)&&(t.error=!0,h(!0))})),m=t(d,p);return s(m)&&(f(m)?r(t.resolved)&&m.then(d,p):f(m.component)&&(m.component.then(d,p),i(m.error)&&(t.errorComp=Ve(m.error,e)),i(m.loading)&&(t.loadingComp=Ve(m.loading,e),0===m.delay?t.loading=!0:l=setTimeout((function(){l=null,r(t.resolved)&&r(t.error)&&(t.loading=!0,h(!1))}),m.delay||200)),i(m.timeout)&&(c=setTimeout((function(){c=null,r(t.resolved)&&p(null)}),m.timeout)))),u=!1,t.loading?t.loadingComp:t.resolved}}(h=t,c)))return function(t,e,n,r,i){var a=_t();return a.asyncFactory=t,a.asyncMeta={data:e,context:n,children:r,tag:i},a}(h,e,o,u,l);e=e||{},Tn(t),i(e.model)&&function(t,e){var n=t.model&&t.model.prop||"value",r=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var a=e.on||(e.on={}),o=a[r],s=e.model.callback;i(o)?(Array.isArray(o)?-1===o.indexOf(s):o!==s)&&(a[r]=[s].concat(o)):a[r]=s}(t.options,e);var d=function(t,e,n){var a=e.options.props;if(!r(a)){var o={},s=t.attrs,u=t.props;if(i(s)||i(u))for(var l in a){var c=C(l);le(o,u,l,c,!0)||le(o,s,l,c,!1)}return o}}(e,t);if(a(t.options.functional))return function(t,e,r,a,o){var s=t.options,u={},l=s.props;if(i(l))for(var c in l)u[c]=zt(c,l,e||n);else i(r.attrs)&&Re(u,r.attrs),i(r.props)&&Re(u,r.props);var h=new Pe(r,u,o,a,t),f=s.render.call(null,h._c,h);if(f instanceof mt)return Le(f,r,h.parent,s,h);if(Array.isArray(f)){for(var d=ce(f)||[],p=new Array(d.length),m=0;m<d.length;m++)p[m]=Le(d[m],r,h.parent,s,h);return p}}(t,d,e,o,u);var p=e.on;if(e.on=e.nativeOn,a(t.options.abstract)){var m=e.slot;e={},m&&(e.slot=m)}!function(t){for(var e=t.hook||(t.hook={}),n=0;n<Be.length;n++){var r=Be[n],i=e[r],a=ke[r];i===a||i&&i._merged||(e[r]=i?ze(a,i):a)}}(e);var g=t.options.name||l;return new mt("vue-component-"+t.cid+(g?"-"+g:""),e,void 0,void 0,void 0,o,{Ctor:t,propsData:d,listeners:p,tag:l,children:u},h)}}}function ze(t,e){var n=function(n,r){t(n,r),e(n,r)};return n._merged=!0,n}function je(t,e,n,u,l,c){return(Array.isArray(n)||o(n))&&(l=u,u=n,n=void 0),a(c)&&(l=2),function(t,e,n,o,u){if(i(n)&&i(n.__ob__))return _t();i(n)&&i(n.is)&&(e=n.is);if(!e)return _t();0;Array.isArray(o)&&"function"==typeof o[0]&&((n=n||{}).scopedSlots={default:o[0]},o.length=0);2===u?o=ce(o):1===u&&(o=function(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}(o));var l,c;if("string"==typeof e){var h;c=t.$vnode&&t.$vnode.ns||z.getTagNamespace(e),l=z.isReservedTag(e)?new mt(z.parsePlatformTagName(e),n,o,void 0,void 0,t):n&&n.pre||!i(h=Ft(t.$options,"components",e))?new mt(e,n,o,void 0,void 0,t):Fe(h,n,t,o,e)}else l=Fe(e,n,t,o);return Array.isArray(l)?l:i(l)?(i(c)&&function t(e,n,o){e.ns=n,"foreignObject"===e.tag&&(n=void 0,o=!0);if(i(e.children))for(var s=0,u=e.children.length;s<u;s++){var l=e.children[s];i(l.tag)&&(r(l.ns)||a(o)&&"svg"!==l.tag)&&t(l,n,o)}}(l,c),i(n)&&function(t){s(t.style)&&ie(t.style);s(t.class)&&ie(t.class)}(n),l):_t()}(t,e,n,u,l)}var Ue,He=null;function Ve(t,e){return(t.__esModule||ut&&"Module"===t[Symbol.toStringTag])&&(t=t.default),s(t)?e.extend(t):t}function Ge(t){return t.isComment&&t.asyncFactory}function We(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(i(n)&&(i(n.componentOptions)||Ge(n)))return n}}function $e(t,e){Ue.$on(t,e)}function Xe(t,e){Ue.$off(t,e)}function qe(t,e){var n=Ue;return function r(){var i=e.apply(null,arguments);null!==i&&n.$off(t,r)}}function Ye(t,e,n){Ue=t,se(e,n||{},$e,Xe,qe,t),Ue=void 0}var Ze=null;function Ke(t){var e=Ze;return Ze=t,function(){Ze=e}}function Je(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function Qe(t,e){if(e){if(t._directInactive=!1,Je(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)Qe(t.$children[n]);tn(t,"activated")}}function tn(t,e){dt();var n=t.$options[e],r=e+" hook";if(n)for(var i=0,a=n.length;i<a;i++)Gt(n[i],t,null,t,r);t._hasHookEvent&&t.$emit("hook:"+e),pt()}var en=[],nn=[],rn={},an=!1,on=!1,sn=0;var un=0,ln=Date.now;if($&&!Z){var cn=window.performance;cn&&"function"==typeof cn.now&&ln()>document.createEvent("Event").timeStamp&&(ln=function(){return cn.now()})}function hn(){var t,e;for(un=ln(),on=!0,en.sort((function(t,e){return t.id-e.id})),sn=0;sn<en.length;sn++)(t=en[sn]).before&&t.before(),e=t.id,rn[e]=null,t.run();var n=nn.slice(),r=en.slice();sn=en.length=nn.length=0,rn={},an=on=!1,function(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,Qe(t[e],!0)}(n),function(t){var e=t.length;for(;e--;){var n=t[e],r=n.vm;r._watcher===n&&r._isMounted&&!r._isDestroyed&&tn(r,"updated")}}(r),at&&z.devtools&&at.emit("flush")}var fn=0,dn=function(t,e,n,r,i){this.vm=t,i&&(t._watcher=this),t._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++fn,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new st,this.newDepIds=new st,this.expression="","function"==typeof e?this.getter=e:(this.getter=function(t){if(!V.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}(e),this.getter||(this.getter=N)),this.value=this.lazy?void 0:this.get()};dn.prototype.get=function(){var t;dt(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(t){if(!this.user)throw t;Vt(t,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&ie(t),pt(),this.cleanupDeps()}return t},dn.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},dn.prototype.cleanupDeps=function(){for(var t=this.deps.length;t--;){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},dn.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(t){var e=t.id;if(null==rn[e]){if(rn[e]=!0,on){for(var n=en.length-1;n>sn&&en[n].id>t.id;)n--;en.splice(n+1,0,t)}else en.push(t);an||(an=!0,ne(hn))}}(this)},dn.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||s(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(t){Vt(t,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},dn.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},dn.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},dn.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||v(this.vm._watchers,this);for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1}};var pn={enumerable:!0,configurable:!0,get:N,set:N};function mn(t,e,n){pn.get=function(){return this[e][n]},pn.set=function(t){this[e][n]=t},Object.defineProperty(t,n,pn)}function gn(t){t._watchers=[];var e=t.$options;e.props&&function(t,e){var n=t.$options.propsData||{},r=t._props={},i=t.$options._propKeys=[];t.$parent&&St(!1);var a=function(a){i.push(a);var o=zt(a,e,n,t);At(r,a,o),a in t||mn(t,"_props",a)};for(var o in e)a(o);St(!0)}(t,e.props),e.methods&&function(t,e){t.$options.props;for(var n in e)t[n]="function"!=typeof e[n]?N:A(e[n],t)}(t,e.methods),e.data?function(t){var e=t.$options.data;l(e=t._data="function"==typeof e?function(t,e){dt();try{return t.call(e,e)}catch(t){return Vt(t,e,"data()"),{}}finally{pt()}}(e,t):e||{})||(e={});var n=Object.keys(e),r=t.$options.props,i=(t.$options.methods,n.length);for(;i--;){var a=n[i];0,r&&b(r,a)||U(a)||mn(t,"_data",a)}Ct(e,!0)}(t):Ct(t._data={},!0),e.computed&&function(t,e){var n=t._computedWatchers=Object.create(null),r=it();for(var i in e){var a=e[i],o="function"==typeof a?a:a.get;0,r||(n[i]=new dn(t,o||N,N,_n)),i in t||vn(t,i,a)}}(t,e.computed),e.watch&&e.watch!==et&&function(t,e){for(var n in e){var r=e[n];if(Array.isArray(r))for(var i=0;i<r.length;i++)xn(t,n,r[i]);else xn(t,n,r)}}(t,e.watch)}var _n={lazy:!0};function vn(t,e,n){var r=!it();"function"==typeof n?(pn.get=r?yn(e):bn(n),pn.set=N):(pn.get=n.get?r&&!1!==n.cache?yn(e):bn(n.get):N,pn.set=n.set||N),Object.defineProperty(t,e,pn)}function yn(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),ht.target&&e.depend(),e.value}}function bn(t){return function(){return t.call(this,this)}}function xn(t,e,n,r){return l(n)&&(r=n,n=n.handler),"string"==typeof n&&(n=t[n]),t.$watch(e,n,r)}var wn=0;function Tn(t){var e=t.options;if(t.super){var n=Tn(t.super);if(n!==t.superOptions){t.superOptions=n;var r=function(t){var e,n=t.options,r=t.sealedOptions;for(var i in n)n[i]!==r[i]&&(e||(e={}),e[i]=n[i]);return e}(t);r&&O(t.extendOptions,r),(e=t.options=Bt(n,t.extendOptions)).name&&(e.components[e.name]=t)}}return e}function Sn(t){this._init(t)}function En(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,r=n.cid,i=t._Ctor||(t._Ctor={});if(i[r])return i[r];var a=t.name||n.options.name;var o=function(t){this._init(t)};return(o.prototype=Object.create(n.prototype)).constructor=o,o.cid=e++,o.options=Bt(n.options,t),o.super=n,o.options.props&&function(t){var e=t.options.props;for(var n in e)mn(t.prototype,"_props",n)}(o),o.options.computed&&function(t){var e=t.options.computed;for(var n in e)vn(t.prototype,n,e[n])}(o),o.extend=n.extend,o.mixin=n.mixin,o.use=n.use,B.forEach((function(t){o[t]=n[t]})),a&&(o.options.components[a]=o),o.superOptions=n.options,o.extendOptions=t,o.sealedOptions=O({},o.options),i[r]=o,o}}function Cn(t){return t&&(t.Ctor.options.name||t.tag)}function An(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"==typeof t?t.split(",").indexOf(e)>-1:!!c(t)&&t.test(e)}function Mn(t,e){var n=t.cache,r=t.keys,i=t._vnode;for(var a in n){var o=n[a];if(o){var s=Cn(o.componentOptions);s&&!e(s)&&On(n,a,r,i)}}}function On(t,e,n,r){var i=t[e];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),t[e]=null,v(n,e)}!function(t){t.prototype._init=function(t){var e=this;e._uid=wn++,e._isVue=!0,t&&t._isComponent?function(t,e){var n=t.$options=Object.create(t.constructor.options),r=e._parentVnode;n.parent=e.parent,n._parentVnode=r;var i=r.componentOptions;n.propsData=i.propsData,n._parentListeners=i.listeners,n._renderChildren=i.children,n._componentTag=i.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}(e,t):e.$options=Bt(Tn(e.constructor),t||{},e),e._renderProxy=e,e._self=e,function(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}(e),function(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&Ye(t,e)}(e),function(t){t._vnode=null,t._staticTrees=null;var e=t.$options,r=t.$vnode=e._parentVnode,i=r&&r.context;t.$slots=de(e._renderChildren,i),t.$scopedSlots=n,t._c=function(e,n,r,i){return je(t,e,n,r,i,!1)},t.$createElement=function(e,n,r,i){return je(t,e,n,r,i,!0)};var a=r&&r.data;At(t,"$attrs",a&&a.attrs||n,null,!0),At(t,"$listeners",e._parentListeners||n,null,!0)}(e),tn(e,"beforeCreate"),function(t){var e=fe(t.$options.inject,t);e&&(St(!1),Object.keys(e).forEach((function(n){At(t,n,e[n])})),St(!0))}(e),gn(e),function(t){var e=t.$options.provide;e&&(t._provided="function"==typeof e?e.call(t):e)}(e),tn(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}(Sn),function(t){var e={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=Mt,t.prototype.$delete=Ot,t.prototype.$watch=function(t,e,n){if(l(e))return xn(this,t,e,n);(n=n||{}).user=!0;var r=new dn(this,t,e,n);if(n.immediate)try{e.call(this,r.value)}catch(t){Vt(t,this,'callback for immediate watcher "'+r.expression+'"')}return function(){r.teardown()}}}(Sn),function(t){var e=/^hook:/;t.prototype.$on=function(t,n){var r=this;if(Array.isArray(t))for(var i=0,a=t.length;i<a;i++)r.$on(t[i],n);else(r._events[t]||(r._events[t]=[])).push(n),e.test(t)&&(r._hasHookEvent=!0);return r},t.prototype.$once=function(t,e){var n=this;function r(){n.$off(t,r),e.apply(n,arguments)}return r.fn=e,n.$on(t,r),n},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(t)){for(var r=0,i=t.length;r<i;r++)n.$off(t[r],e);return n}var a,o=n._events[t];if(!o)return n;if(!e)return n._events[t]=null,n;for(var s=o.length;s--;)if((a=o[s])===e||a.fn===e){o.splice(s,1);break}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?M(n):n;for(var r=M(arguments,1),i='event handler for "'+t+'"',a=0,o=n.length;a<o;a++)Gt(n[a],e,r,e,i)}return e}}(Sn),function(t){t.prototype._update=function(t,e){var n=this,r=n.$el,i=n._vnode,a=Ke(n);n._vnode=t,n.$el=i?n.__patch__(i,t):n.__patch__(n.$el,t,e,!1),a(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},t.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){tn(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||v(e.$children,t),t._watcher&&t._watcher.teardown();for(var n=t._watchers.length;n--;)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),tn(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}(Sn),function(t){Ie(t.prototype),t.prototype.$nextTick=function(t){return ne(t,this)},t.prototype._render=function(){var t,e=this,n=e.$options,r=n.render,i=n._parentVnode;i&&(e.$scopedSlots=me(i.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=i;try{He=e,t=r.call(e._renderProxy,e.$createElement)}catch(n){Vt(n,e,"render"),t=e._vnode}finally{He=null}return Array.isArray(t)&&1===t.length&&(t=t[0]),t instanceof mt||(t=_t()),t.parent=i,t}}(Sn);var Dn=[String,RegExp,Array],Nn={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:Dn,exclude:Dn,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)On(this.cache,t,this.keys)},mounted:function(){var t=this;this.$watch("include",(function(e){Mn(t,(function(t){return An(e,t)}))})),this.$watch("exclude",(function(e){Mn(t,(function(t){return!An(e,t)}))}))},render:function(){var t=this.$slots.default,e=We(t),n=e&&e.componentOptions;if(n){var r=Cn(n),i=this.include,a=this.exclude;if(i&&(!r||!An(i,r))||a&&r&&An(a,r))return e;var o=this.cache,s=this.keys,u=null==e.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):e.key;o[u]?(e.componentInstance=o[u].componentInstance,v(s,u),s.push(u)):(o[u]=e,s.push(u),this.max&&s.length>parseInt(this.max)&&On(o,s[0],s,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}}};!function(t){var e={get:function(){return z}};Object.defineProperty(t,"config",e),t.util={warn:lt,extend:O,mergeOptions:Bt,defineReactive:At},t.set=Mt,t.delete=Ot,t.nextTick=ne,t.observable=function(t){return Ct(t),t},t.options=Object.create(null),B.forEach((function(e){t.options[e+"s"]=Object.create(null)})),t.options._base=t,O(t.options.components,Nn),function(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=M(arguments,1);return n.unshift(this),"function"==typeof t.install?t.install.apply(t,n):"function"==typeof t&&t.apply(null,n),e.push(t),this}}(t),function(t){t.mixin=function(t){return this.options=Bt(this.options,t),this}}(t),En(t),function(t){B.forEach((function(e){t[e]=function(t,n){return n?("component"===e&&l(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&"function"==typeof n&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}}))}(t)}(Sn),Object.defineProperty(Sn.prototype,"$isServer",{get:it}),Object.defineProperty(Sn.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Sn,"FunctionalRenderContext",{value:Pe}),Sn.version="2.6.12";var In=m("style,class"),Pn=m("input,textarea,option,select,progress"),Ln=function(t,e,n){return"value"===n&&Pn(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},Rn=m("contenteditable,draggable,spellcheck"),kn=m("events,caret,typing,plaintext-only"),Bn=m("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Fn="http://www.w3.org/1999/xlink",zn=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},jn=function(t){return zn(t)?t.slice(6,t.length):""},Un=function(t){return null==t||!1===t};function Hn(t){for(var e=t.data,n=t,r=t;i(r.componentInstance);)(r=r.componentInstance._vnode)&&r.data&&(e=Vn(r.data,e));for(;i(n=n.parent);)n&&n.data&&(e=Vn(e,n.data));return function(t,e){if(i(t)||i(e))return Gn(t,Wn(e));return""}(e.staticClass,e.class)}function Vn(t,e){return{staticClass:Gn(t.staticClass,e.staticClass),class:i(t.class)?[t.class,e.class]:e.class}}function Gn(t,e){return t?e?t+" "+e:t:e||""}function Wn(t){return Array.isArray(t)?function(t){for(var e,n="",r=0,a=t.length;r<a;r++)i(e=Wn(t[r]))&&""!==e&&(n&&(n+=" "),n+=e);return n}(t):s(t)?function(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}(t):"string"==typeof t?t:""}var $n={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Xn=m("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),qn=m("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Yn=function(t){return Xn(t)||qn(t)};function Zn(t){return qn(t)?"svg":"math"===t?"math":void 0}var Kn=Object.create(null);var Jn=m("text,number,password,search,email,tel,url");function Qn(t){if("string"==typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}var tr=Object.freeze({createElement:function(t,e){var n=document.createElement(t);return"select"!==t||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n},createElementNS:function(t,e){return document.createElementNS($n[t],e)},createTextNode:function(t){return document.createTextNode(t)},createComment:function(t){return document.createComment(t)},insertBefore:function(t,e,n){t.insertBefore(e,n)},removeChild:function(t,e){t.removeChild(e)},appendChild:function(t,e){t.appendChild(e)},parentNode:function(t){return t.parentNode},nextSibling:function(t){return t.nextSibling},tagName:function(t){return t.tagName},setTextContent:function(t,e){t.textContent=e},setStyleScope:function(t,e){t.setAttribute(e,"")}}),er={create:function(t,e){nr(e)},update:function(t,e){t.data.ref!==e.data.ref&&(nr(t,!0),nr(e))},destroy:function(t){nr(t,!0)}};function nr(t,e){var n=t.data.ref;if(i(n)){var r=t.context,a=t.componentInstance||t.elm,o=r.$refs;e?Array.isArray(o[n])?v(o[n],a):o[n]===a&&(o[n]=void 0):t.data.refInFor?Array.isArray(o[n])?o[n].indexOf(a)<0&&o[n].push(a):o[n]=[a]:o[n]=a}}var rr=new mt("",{},[]),ir=["create","activate","update","remove","destroy"];function ar(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&i(t.data)===i(e.data)&&function(t,e){if("input"!==t.tag)return!0;var n,r=i(n=t.data)&&i(n=n.attrs)&&n.type,a=i(n=e.data)&&i(n=n.attrs)&&n.type;return r===a||Jn(r)&&Jn(a)}(t,e)||a(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&r(e.asyncFactory.error))}function or(t,e,n){var r,a,o={};for(r=e;r<=n;++r)i(a=t[r].key)&&(o[a]=r);return o}var sr={create:ur,update:ur,destroy:function(t){ur(t,rr)}};function ur(t,e){(t.data.directives||e.data.directives)&&function(t,e){var n,r,i,a=t===rr,o=e===rr,s=cr(t.data.directives,t.context),u=cr(e.data.directives,e.context),l=[],c=[];for(n in u)r=s[n],i=u[n],r?(i.oldValue=r.value,i.oldArg=r.arg,fr(i,"update",e,t),i.def&&i.def.componentUpdated&&c.push(i)):(fr(i,"bind",e,t),i.def&&i.def.inserted&&l.push(i));if(l.length){var h=function(){for(var n=0;n<l.length;n++)fr(l[n],"inserted",e,t)};a?ue(e,"insert",h):h()}c.length&&ue(e,"postpatch",(function(){for(var n=0;n<c.length;n++)fr(c[n],"componentUpdated",e,t)}));if(!a)for(n in s)u[n]||fr(s[n],"unbind",t,t,o)}(t,e)}var lr=Object.create(null);function cr(t,e){var n,r,i=Object.create(null);if(!t)return i;for(n=0;n<t.length;n++)(r=t[n]).modifiers||(r.modifiers=lr),i[hr(r)]=r,r.def=Ft(e.$options,"directives",r.name);return i}function hr(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function fr(t,e,n,r,i){var a=t.def&&t.def[e];if(a)try{a(n.elm,t,n,r,i)}catch(r){Vt(r,n.context,"directive "+t.name+" "+e+" hook")}}var dr=[er,sr];function pr(t,e){var n=e.componentOptions;if(!(i(n)&&!1===n.Ctor.options.inheritAttrs||r(t.data.attrs)&&r(e.data.attrs))){var a,o,s=e.elm,u=t.data.attrs||{},l=e.data.attrs||{};for(a in i(l.__ob__)&&(l=e.data.attrs=O({},l)),l)o=l[a],u[a]!==o&&mr(s,a,o);for(a in(Z||J)&&l.value!==u.value&&mr(s,"value",l.value),u)r(l[a])&&(zn(a)?s.removeAttributeNS(Fn,jn(a)):Rn(a)||s.removeAttribute(a))}}function mr(t,e,n){t.tagName.indexOf("-")>-1?gr(t,e,n):Bn(e)?Un(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):Rn(e)?t.setAttribute(e,function(t,e){return Un(e)||"false"===e?"false":"contenteditable"===t&&kn(e)?e:"true"}(e,n)):zn(e)?Un(n)?t.removeAttributeNS(Fn,jn(e)):t.setAttributeNS(Fn,e,n):gr(t,e,n)}function gr(t,e,n){if(Un(n))t.removeAttribute(e);else{if(Z&&!K&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==n&&!t.__ieph){var r=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",r)};t.addEventListener("input",r),t.__ieph=!0}t.setAttribute(e,n)}}var _r={create:pr,update:pr};function vr(t,e){var n=e.elm,a=e.data,o=t.data;if(!(r(a.staticClass)&&r(a.class)&&(r(o)||r(o.staticClass)&&r(o.class)))){var s=Hn(e),u=n._transitionClasses;i(u)&&(s=Gn(s,Wn(u))),s!==n._prevClass&&(n.setAttribute("class",s),n._prevClass=s)}}var yr,br,xr,wr,Tr,Sr,Er={create:vr,update:vr},Cr=/[\w).+\-_$\]]/;function Ar(t){var e,n,r,i,a,o=!1,s=!1,u=!1,l=!1,c=0,h=0,f=0,d=0;for(r=0;r<t.length;r++)if(n=e,e=t.charCodeAt(r),o)39===e&&92!==n&&(o=!1);else if(s)34===e&&92!==n&&(s=!1);else if(u)96===e&&92!==n&&(u=!1);else if(l)47===e&&92!==n&&(l=!1);else if(124!==e||124===t.charCodeAt(r+1)||124===t.charCodeAt(r-1)||c||h||f){switch(e){case 34:s=!0;break;case 39:o=!0;break;case 96:u=!0;break;case 40:f++;break;case 41:f--;break;case 91:h++;break;case 93:h--;break;case 123:c++;break;case 125:c--}if(47===e){for(var p=r-1,m=void 0;p>=0&&" "===(m=t.charAt(p));p--);m&&Cr.test(m)||(l=!0)}}else void 0===i?(d=r+1,i=t.slice(0,r).trim()):g();function g(){(a||(a=[])).push(t.slice(d,r).trim()),d=r+1}if(void 0===i?i=t.slice(0,r).trim():0!==d&&g(),a)for(r=0;r<a.length;r++)i=Mr(i,a[r]);return i}function Mr(t,e){var n=e.indexOf("(");if(n<0)return'_f("'+e+'")('+t+")";var r=e.slice(0,n),i=e.slice(n+1);return'_f("'+r+'")('+t+(")"!==i?","+i:i)}function Or(t,e){console.error("[Vue compiler]: "+t)}function Dr(t,e){return t?t.map((function(t){return t[e]})).filter((function(t){return t})):[]}function Nr(t,e,n,r,i){(t.props||(t.props=[])).push(jr({name:e,value:n,dynamic:i},r)),t.plain=!1}function Ir(t,e,n,r,i){(i?t.dynamicAttrs||(t.dynamicAttrs=[]):t.attrs||(t.attrs=[])).push(jr({name:e,value:n,dynamic:i},r)),t.plain=!1}function Pr(t,e,n,r){t.attrsMap[e]=n,t.attrsList.push(jr({name:e,value:n},r))}function Lr(t,e,n,r,i,a,o,s){(t.directives||(t.directives=[])).push(jr({name:e,rawName:n,value:r,arg:i,isDynamicArg:a,modifiers:o},s)),t.plain=!1}function Rr(t,e,n){return n?"_p("+e+',"'+t+'")':t+e}function kr(t,e,r,i,a,o,s,u){var l;(i=i||n).right?u?e="("+e+")==='click'?'contextmenu':("+e+")":"click"===e&&(e="contextmenu",delete i.right):i.middle&&(u?e="("+e+")==='click'?'mouseup':("+e+")":"click"===e&&(e="mouseup")),i.capture&&(delete i.capture,e=Rr("!",e,u)),i.once&&(delete i.once,e=Rr("~",e,u)),i.passive&&(delete i.passive,e=Rr("&",e,u)),i.native?(delete i.native,l=t.nativeEvents||(t.nativeEvents={})):l=t.events||(t.events={});var c=jr({value:r.trim(),dynamic:u},s);i!==n&&(c.modifiers=i);var h=l[e];Array.isArray(h)?a?h.unshift(c):h.push(c):l[e]=h?a?[c,h]:[h,c]:c,t.plain=!1}function Br(t,e,n){var r=Fr(t,":"+e)||Fr(t,"v-bind:"+e);if(null!=r)return Ar(r);if(!1!==n){var i=Fr(t,e);if(null!=i)return JSON.stringify(i)}}function Fr(t,e,n){var r;if(null!=(r=t.attrsMap[e]))for(var i=t.attrsList,a=0,o=i.length;a<o;a++)if(i[a].name===e){i.splice(a,1);break}return n&&delete t.attrsMap[e],r}function zr(t,e){for(var n=t.attrsList,r=0,i=n.length;r<i;r++){var a=n[r];if(e.test(a.name))return n.splice(r,1),a}}function jr(t,e){return e&&(null!=e.start&&(t.start=e.start),null!=e.end&&(t.end=e.end)),t}function Ur(t,e,n){var r=n||{},i=r.number,a="$$v";r.trim&&(a="(typeof $$v === 'string'? $$v.trim(): $$v)"),i&&(a="_n("+a+")");var o=Hr(e,a);t.model={value:"("+e+")",expression:JSON.stringify(e),callback:"function ($$v) {"+o+"}"}}function Hr(t,e){var n=function(t){if(t=t.trim(),yr=t.length,t.indexOf("[")<0||t.lastIndexOf("]")<yr-1)return(wr=t.lastIndexOf("."))>-1?{exp:t.slice(0,wr),key:'"'+t.slice(wr+1)+'"'}:{exp:t,key:null};br=t,wr=Tr=Sr=0;for(;!Gr();)Wr(xr=Vr())?Xr(xr):91===xr&&$r(xr);return{exp:t.slice(0,Tr),key:t.slice(Tr+1,Sr)}}(t);return null===n.key?t+"="+e:"$set("+n.exp+", "+n.key+", "+e+")"}function Vr(){return br.charCodeAt(++wr)}function Gr(){return wr>=yr}function Wr(t){return 34===t||39===t}function $r(t){var e=1;for(Tr=wr;!Gr();)if(Wr(t=Vr()))Xr(t);else if(91===t&&e++,93===t&&e--,0===e){Sr=wr;break}}function Xr(t){for(var e=t;!Gr()&&(t=Vr())!==e;);}var qr;function Yr(t,e,n){var r=qr;return function i(){var a=e.apply(null,arguments);null!==a&&Jr(t,i,n,r)}}var Zr=qt&&!(tt&&Number(tt[1])<=53);function Kr(t,e,n,r){if(Zr){var i=un,a=e;e=a._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=i||t.timeStamp<=0||t.target.ownerDocument!==document)return a.apply(this,arguments)}}qr.addEventListener(t,e,nt?{capture:n,passive:r}:n)}function Jr(t,e,n,r){(r||qr).removeEventListener(t,e._wrapper||e,n)}function Qr(t,e){if(!r(t.data.on)||!r(e.data.on)){var n=e.data.on||{},a=t.data.on||{};qr=e.elm,function(t){if(i(t.__r)){var e=Z?"change":"input";t[e]=[].concat(t.__r,t[e]||[]),delete t.__r}i(t.__c)&&(t.change=[].concat(t.__c,t.change||[]),delete t.__c)}(n),se(n,a,Kr,Jr,Yr,e.context),qr=void 0}}var ti,ei={create:Qr,update:Qr};function ni(t,e){if(!r(t.data.domProps)||!r(e.data.domProps)){var n,a,o=e.elm,s=t.data.domProps||{},u=e.data.domProps||{};for(n in i(u.__ob__)&&(u=e.data.domProps=O({},u)),s)n in u||(o[n]="");for(n in u){if(a=u[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),a===s[n])continue;1===o.childNodes.length&&o.removeChild(o.childNodes[0])}if("value"===n&&"PROGRESS"!==o.tagName){o._value=a;var l=r(a)?"":String(a);ri(o,l)&&(o.value=l)}else if("innerHTML"===n&&qn(o.tagName)&&r(o.innerHTML)){(ti=ti||document.createElement("div")).innerHTML="<svg>"+a+"</svg>";for(var c=ti.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;c.firstChild;)o.appendChild(c.firstChild)}else if(a!==s[n])try{o[n]=a}catch(t){}}}}function ri(t,e){return!t.composing&&("OPTION"===t.tagName||function(t,e){var n=!0;try{n=document.activeElement!==t}catch(t){}return n&&t.value!==e}(t,e)||function(t,e){var n=t.value,r=t._vModifiers;if(i(r)){if(r.number)return p(n)!==p(e);if(r.trim)return n.trim()!==e.trim()}return n!==e}(t,e))}var ii={create:ni,update:ni},ai=x((function(t){var e={},n=/:(.+)/;return t.split(/;(?![^(]*\))/g).forEach((function(t){if(t){var r=t.split(n);r.length>1&&(e[r[0].trim()]=r[1].trim())}})),e}));function oi(t){var e=si(t.style);return t.staticStyle?O(t.staticStyle,e):e}function si(t){return Array.isArray(t)?D(t):"string"==typeof t?ai(t):t}var ui,li=/^--/,ci=/\s*!important$/,hi=function(t,e,n){if(li.test(e))t.style.setProperty(e,n);else if(ci.test(n))t.style.setProperty(C(e),n.replace(ci,""),"important");else{var r=di(e);if(Array.isArray(n))for(var i=0,a=n.length;i<a;i++)t.style[r]=n[i];else t.style[r]=n}},fi=["Webkit","Moz","ms"],di=x((function(t){if(ui=ui||document.createElement("div").style,"filter"!==(t=T(t))&&t in ui)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<fi.length;n++){var r=fi[n]+e;if(r in ui)return r}}));function pi(t,e){var n=e.data,a=t.data;if(!(r(n.staticStyle)&&r(n.style)&&r(a.staticStyle)&&r(a.style))){var o,s,u=e.elm,l=a.staticStyle,c=a.normalizedStyle||a.style||{},h=l||c,f=si(e.data.style)||{};e.data.normalizedStyle=i(f.__ob__)?O({},f):f;var d=function(t,e){var n,r={};if(e)for(var i=t;i.componentInstance;)(i=i.componentInstance._vnode)&&i.data&&(n=oi(i.data))&&O(r,n);(n=oi(t.data))&&O(r,n);for(var a=t;a=a.parent;)a.data&&(n=oi(a.data))&&O(r,n);return r}(e,!0);for(s in h)r(d[s])&&hi(u,s,"");for(s in d)(o=d[s])!==h[s]&&hi(u,s,null==o?"":o)}}var mi={create:pi,update:pi},gi=/\s+/;function _i(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(gi).forEach((function(e){return t.classList.add(e)})):t.classList.add(e);else{var n=" "+(t.getAttribute("class")||"")+" ";n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function vi(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(gi).forEach((function(e){return t.classList.remove(e)})):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{for(var n=" "+(t.getAttribute("class")||"")+" ",r=" "+e+" ";n.indexOf(r)>=0;)n=n.replace(r," ");(n=n.trim())?t.setAttribute("class",n):t.removeAttribute("class")}}function yi(t){if(t){if("object"==typeof t){var e={};return!1!==t.css&&O(e,bi(t.name||"v")),O(e,t),e}return"string"==typeof t?bi(t):void 0}}var bi=x((function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}})),xi=$&&!K,wi="transition",Ti="transitionend",Si="animation",Ei="animationend";xi&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(wi="WebkitTransition",Ti="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Si="WebkitAnimation",Ei="webkitAnimationEnd"));var Ci=$?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function Ai(t){Ci((function(){Ci(t)}))}function Mi(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),_i(t,e))}function Oi(t,e){t._transitionClasses&&v(t._transitionClasses,e),vi(t,e)}function Di(t,e,n){var r=Ii(t,e),i=r.type,a=r.timeout,o=r.propCount;if(!i)return n();var s="transition"===i?Ti:Ei,u=0,l=function(){t.removeEventListener(s,c),n()},c=function(e){e.target===t&&++u>=o&&l()};setTimeout((function(){u<o&&l()}),a+1),t.addEventListener(s,c)}var Ni=/\b(transform|all)(,|$)/;function Ii(t,e){var n,r=window.getComputedStyle(t),i=(r[wi+"Delay"]||"").split(", "),a=(r[wi+"Duration"]||"").split(", "),o=Pi(i,a),s=(r[Si+"Delay"]||"").split(", "),u=(r[Si+"Duration"]||"").split(", "),l=Pi(s,u),c=0,h=0;return"transition"===e?o>0&&(n="transition",c=o,h=a.length):"animation"===e?l>0&&(n="animation",c=l,h=u.length):h=(n=(c=Math.max(o,l))>0?o>l?"transition":"animation":null)?"transition"===n?a.length:u.length:0,{type:n,timeout:c,propCount:h,hasTransform:"transition"===n&&Ni.test(r[wi+"Property"])}}function Pi(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map((function(e,n){return Li(e)+Li(t[n])})))}function Li(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function Ri(t,e){var n=t.elm;i(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var a=yi(t.data.transition);if(!r(a)&&!i(n._enterCb)&&1===n.nodeType){for(var o=a.css,u=a.type,l=a.enterClass,c=a.enterToClass,h=a.enterActiveClass,f=a.appearClass,d=a.appearToClass,m=a.appearActiveClass,g=a.beforeEnter,_=a.enter,v=a.afterEnter,y=a.enterCancelled,b=a.beforeAppear,x=a.appear,w=a.afterAppear,T=a.appearCancelled,S=a.duration,E=Ze,C=Ze.$vnode;C&&C.parent;)E=C.context,C=C.parent;var A=!E._isMounted||!t.isRootInsert;if(!A||x||""===x){var M=A&&f?f:l,O=A&&m?m:h,D=A&&d?d:c,N=A&&b||g,I=A&&"function"==typeof x?x:_,P=A&&w||v,L=A&&T||y,R=p(s(S)?S.enter:S);0;var B=!1!==o&&!K,F=Fi(I),z=n._enterCb=k((function(){B&&(Oi(n,D),Oi(n,O)),z.cancelled?(B&&Oi(n,M),L&&L(n)):P&&P(n),n._enterCb=null}));t.data.show||ue(t,"insert",(function(){var e=n.parentNode,r=e&&e._pending&&e._pending[t.key];r&&r.tag===t.tag&&r.elm._leaveCb&&r.elm._leaveCb(),I&&I(n,z)})),N&&N(n),B&&(Mi(n,M),Mi(n,O),Ai((function(){Oi(n,M),z.cancelled||(Mi(n,D),F||(Bi(R)?setTimeout(z,R):Di(n,u,z)))}))),t.data.show&&(e&&e(),I&&I(n,z)),B||F||z()}}}function ki(t,e){var n=t.elm;i(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var a=yi(t.data.transition);if(r(a)||1!==n.nodeType)return e();if(!i(n._leaveCb)){var o=a.css,u=a.type,l=a.leaveClass,c=a.leaveToClass,h=a.leaveActiveClass,f=a.beforeLeave,d=a.leave,m=a.afterLeave,g=a.leaveCancelled,_=a.delayLeave,v=a.duration,y=!1!==o&&!K,b=Fi(d),x=p(s(v)?v.leave:v);0;var w=n._leaveCb=k((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),y&&(Oi(n,c),Oi(n,h)),w.cancelled?(y&&Oi(n,l),g&&g(n)):(e(),m&&m(n)),n._leaveCb=null}));_?_(T):T()}function T(){w.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),f&&f(n),y&&(Mi(n,l),Mi(n,h),Ai((function(){Oi(n,l),w.cancelled||(Mi(n,c),b||(Bi(x)?setTimeout(w,x):Di(n,u,w)))}))),d&&d(n,w),y||b||w())}}function Bi(t){return"number"==typeof t&&!isNaN(t)}function Fi(t){if(r(t))return!1;var e=t.fns;return i(e)?Fi(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function zi(t,e){!0!==e.data.show&&Ri(e)}var ji=function(t){var e,n,s={},u=t.modules,l=t.nodeOps;for(e=0;e<ir.length;++e)for(s[ir[e]]=[],n=0;n<u.length;++n)i(u[n][ir[e]])&&s[ir[e]].push(u[n][ir[e]]);function c(t){var e=l.parentNode(t);i(e)&&l.removeChild(e,t)}function h(t,e,n,r,o,u,c){if(i(t.elm)&&i(u)&&(t=u[c]=yt(t)),t.isRootInsert=!o,!function(t,e,n,r){var o=t.data;if(i(o)){var u=i(t.componentInstance)&&o.keepAlive;if(i(o=o.hook)&&i(o=o.init)&&o(t,!1),i(t.componentInstance))return f(t,e),d(n,t.elm,r),a(u)&&function(t,e,n,r){var a,o=t;for(;o.componentInstance;)if(o=o.componentInstance._vnode,i(a=o.data)&&i(a=a.transition)){for(a=0;a<s.activate.length;++a)s.activate[a](rr,o);e.push(o);break}d(n,t.elm,r)}(t,e,n,r),!0}}(t,e,n,r)){var h=t.data,m=t.children,g=t.tag;i(g)?(t.elm=t.ns?l.createElementNS(t.ns,g):l.createElement(g,t),v(t),p(t,m,e),i(h)&&_(t,e),d(n,t.elm,r)):a(t.isComment)?(t.elm=l.createComment(t.text),d(n,t.elm,r)):(t.elm=l.createTextNode(t.text),d(n,t.elm,r))}}function f(t,e){i(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,g(t)?(_(t,e),v(t)):(nr(t),e.push(t))}function d(t,e,n){i(t)&&(i(n)?l.parentNode(n)===t&&l.insertBefore(t,e,n):l.appendChild(t,e))}function p(t,e,n){if(Array.isArray(e)){0;for(var r=0;r<e.length;++r)h(e[r],n,t.elm,null,!0,e,r)}else o(t.text)&&l.appendChild(t.elm,l.createTextNode(String(t.text)))}function g(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return i(t.tag)}function _(t,n){for(var r=0;r<s.create.length;++r)s.create[r](rr,t);i(e=t.data.hook)&&(i(e.create)&&e.create(rr,t),i(e.insert)&&n.push(t))}function v(t){var e;if(i(e=t.fnScopeId))l.setStyleScope(t.elm,e);else for(var n=t;n;)i(e=n.context)&&i(e=e.$options._scopeId)&&l.setStyleScope(t.elm,e),n=n.parent;i(e=Ze)&&e!==t.context&&e!==t.fnContext&&i(e=e.$options._scopeId)&&l.setStyleScope(t.elm,e)}function y(t,e,n,r,i,a){for(;r<=i;++r)h(n[r],a,t,e,!1,n,r)}function b(t){var e,n,r=t.data;if(i(r))for(i(e=r.hook)&&i(e=e.destroy)&&e(t),e=0;e<s.destroy.length;++e)s.destroy[e](t);if(i(e=t.children))for(n=0;n<t.children.length;++n)b(t.children[n])}function x(t,e,n){for(;e<=n;++e){var r=t[e];i(r)&&(i(r.tag)?(w(r),b(r)):c(r.elm))}}function w(t,e){if(i(e)||i(t.data)){var n,r=s.remove.length+1;for(i(e)?e.listeners+=r:e=function(t,e){function n(){0==--n.listeners&&c(t)}return n.listeners=e,n}(t.elm,r),i(n=t.componentInstance)&&i(n=n._vnode)&&i(n.data)&&w(n,e),n=0;n<s.remove.length;++n)s.remove[n](t,e);i(n=t.data.hook)&&i(n=n.remove)?n(t,e):e()}else c(t.elm)}function T(t,e,n,r){for(var a=n;a<r;a++){var o=e[a];if(i(o)&&ar(t,o))return a}}function S(t,e,n,o,u,c){if(t!==e){i(e.elm)&&i(o)&&(e=o[u]=yt(e));var f=e.elm=t.elm;if(a(t.isAsyncPlaceholder))i(e.asyncFactory.resolved)?A(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(a(e.isStatic)&&a(t.isStatic)&&e.key===t.key&&(a(e.isCloned)||a(e.isOnce)))e.componentInstance=t.componentInstance;else{var d,p=e.data;i(p)&&i(d=p.hook)&&i(d=d.prepatch)&&d(t,e);var m=t.children,_=e.children;if(i(p)&&g(e)){for(d=0;d<s.update.length;++d)s.update[d](t,e);i(d=p.hook)&&i(d=d.update)&&d(t,e)}r(e.text)?i(m)&&i(_)?m!==_&&function(t,e,n,a,o){var s,u,c,f=0,d=0,p=e.length-1,m=e[0],g=e[p],_=n.length-1,v=n[0],b=n[_],w=!o;for(0;f<=p&&d<=_;)r(m)?m=e[++f]:r(g)?g=e[--p]:ar(m,v)?(S(m,v,a,n,d),m=e[++f],v=n[++d]):ar(g,b)?(S(g,b,a,n,_),g=e[--p],b=n[--_]):ar(m,b)?(S(m,b,a,n,_),w&&l.insertBefore(t,m.elm,l.nextSibling(g.elm)),m=e[++f],b=n[--_]):ar(g,v)?(S(g,v,a,n,d),w&&l.insertBefore(t,g.elm,m.elm),g=e[--p],v=n[++d]):(r(s)&&(s=or(e,f,p)),r(u=i(v.key)?s[v.key]:T(v,e,f,p))?h(v,a,t,m.elm,!1,n,d):ar(c=e[u],v)?(S(c,v,a,n,d),e[u]=void 0,w&&l.insertBefore(t,c.elm,m.elm)):h(v,a,t,m.elm,!1,n,d),v=n[++d]);f>p?y(t,r(n[_+1])?null:n[_+1].elm,n,d,_,a):d>_&&x(e,f,p)}(f,m,_,n,c):i(_)?(i(t.text)&&l.setTextContent(f,""),y(f,null,_,0,_.length-1,n)):i(m)?x(m,0,m.length-1):i(t.text)&&l.setTextContent(f,""):t.text!==e.text&&l.setTextContent(f,e.text),i(p)&&i(d=p.hook)&&i(d=d.postpatch)&&d(t,e)}}}function E(t,e,n){if(a(n)&&i(t.parent))t.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}var C=m("attrs,class,staticClass,staticStyle,key");function A(t,e,n,r){var o,s=e.tag,u=e.data,l=e.children;if(r=r||u&&u.pre,e.elm=t,a(e.isComment)&&i(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(i(u)&&(i(o=u.hook)&&i(o=o.init)&&o(e,!0),i(o=e.componentInstance)))return f(e,n),!0;if(i(s)){if(i(l))if(t.hasChildNodes())if(i(o=u)&&i(o=o.domProps)&&i(o=o.innerHTML)){if(o!==t.innerHTML)return!1}else{for(var c=!0,h=t.firstChild,d=0;d<l.length;d++){if(!h||!A(h,l[d],n,r)){c=!1;break}h=h.nextSibling}if(!c||h)return!1}else p(e,l,n);if(i(u)){var m=!1;for(var g in u)if(!C(g)){m=!0,_(e,n);break}!m&&u.class&&ie(u.class)}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,n,o){if(!r(e)){var u,c=!1,f=[];if(r(t))c=!0,h(e,f);else{var d=i(t.nodeType);if(!d&&ar(t,e))S(t,e,f,null,null,o);else{if(d){if(1===t.nodeType&&t.hasAttribute("data-server-rendered")&&(t.removeAttribute("data-server-rendered"),n=!0),a(n)&&A(t,e,f))return E(e,f,!0),t;u=t,t=new mt(l.tagName(u).toLowerCase(),{},[],void 0,u)}var p=t.elm,m=l.parentNode(p);if(h(e,f,p._leaveCb?null:m,l.nextSibling(p)),i(e.parent))for(var _=e.parent,v=g(e);_;){for(var y=0;y<s.destroy.length;++y)s.destroy[y](_);if(_.elm=e.elm,v){for(var w=0;w<s.create.length;++w)s.create[w](rr,_);var T=_.data.hook.insert;if(T.merged)for(var C=1;C<T.fns.length;C++)T.fns[C]()}else nr(_);_=_.parent}i(m)?x([t],0,0):i(t.tag)&&b(t)}}return E(e,f,c),e.elm}i(t)&&b(t)}}({nodeOps:tr,modules:[_r,Er,ei,ii,mi,$?{create:zi,activate:zi,remove:function(t,e){!0!==t.data.show?ki(t,e):e()}}:{}].concat(dr)});K&&document.addEventListener("selectionchange",(function(){var t=document.activeElement;t&&t.vmodel&&qi(t,"input")}));var Ui={inserted:function(t,e,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?ue(n,"postpatch",(function(){Ui.componentUpdated(t,e,n)})):Hi(t,e,n.context),t._vOptions=[].map.call(t.options,Wi)):("textarea"===n.tag||Jn(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",$i),t.addEventListener("compositionend",Xi),t.addEventListener("change",Xi),K&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){Hi(t,e,n.context);var r=t._vOptions,i=t._vOptions=[].map.call(t.options,Wi);if(i.some((function(t,e){return!L(t,r[e])})))(t.multiple?e.value.some((function(t){return Gi(t,i)})):e.value!==e.oldValue&&Gi(e.value,i))&&qi(t,"change")}}};function Hi(t,e,n){Vi(t,e,n),(Z||J)&&setTimeout((function(){Vi(t,e,n)}),0)}function Vi(t,e,n){var r=e.value,i=t.multiple;if(!i||Array.isArray(r)){for(var a,o,s=0,u=t.options.length;s<u;s++)if(o=t.options[s],i)a=R(r,Wi(o))>-1,o.selected!==a&&(o.selected=a);else if(L(Wi(o),r))return void(t.selectedIndex!==s&&(t.selectedIndex=s));i||(t.selectedIndex=-1)}}function Gi(t,e){return e.every((function(e){return!L(e,t)}))}function Wi(t){return"_value"in t?t._value:t.value}function $i(t){t.target.composing=!0}function Xi(t){t.target.composing&&(t.target.composing=!1,qi(t.target,"input"))}function qi(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function Yi(t){return!t.componentInstance||t.data&&t.data.transition?t:Yi(t.componentInstance._vnode)}var Zi={model:Ui,show:{bind:function(t,e,n){var r=e.value,i=(n=Yi(n)).data&&n.data.transition,a=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;r&&i?(n.data.show=!0,Ri(n,(function(){t.style.display=a}))):t.style.display=r?a:"none"},update:function(t,e,n){var r=e.value;!r!=!e.oldValue&&((n=Yi(n)).data&&n.data.transition?(n.data.show=!0,r?Ri(n,(function(){t.style.display=t.__vOriginalDisplay})):ki(n,(function(){t.style.display="none"}))):t.style.display=r?t.__vOriginalDisplay:"none")},unbind:function(t,e,n,r,i){i||(t.style.display=t.__vOriginalDisplay)}}},Ki={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Ji(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?Ji(We(e.children)):t}function Qi(t){var e={},n=t.$options;for(var r in n.propsData)e[r]=t[r];var i=n._parentListeners;for(var a in i)e[T(a)]=i[a];return e}function ta(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}var ea=function(t){return t.tag||Ge(t)},na=function(t){return"show"===t.name},ra={name:"transition",props:Ki,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(ea)).length){0;var r=this.mode;0;var i=n[0];if(function(t){for(;t=t.parent;)if(t.data.transition)return!0}(this.$vnode))return i;var a=Ji(i);if(!a)return i;if(this._leaving)return ta(t,i);var s="__transition-"+this._uid+"-";a.key=null==a.key?a.isComment?s+"comment":s+a.tag:o(a.key)?0===String(a.key).indexOf(s)?a.key:s+a.key:a.key;var u=(a.data||(a.data={})).transition=Qi(this),l=this._vnode,c=Ji(l);if(a.data.directives&&a.data.directives.some(na)&&(a.data.show=!0),c&&c.data&&!function(t,e){return e.key===t.key&&e.tag===t.tag}(a,c)&&!Ge(c)&&(!c.componentInstance||!c.componentInstance._vnode.isComment)){var h=c.data.transition=O({},u);if("out-in"===r)return this._leaving=!0,ue(h,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),ta(t,i);if("in-out"===r){if(Ge(a))return l;var f,d=function(){f()};ue(u,"afterEnter",d),ue(u,"enterCancelled",d),ue(h,"delayLeave",(function(t){f=t}))}}return i}}},ia=O({tag:String,moveClass:String},Ki);function aa(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function oa(t){t.data.newPos=t.elm.getBoundingClientRect()}function sa(t){var e=t.data.pos,n=t.data.newPos,r=e.left-n.left,i=e.top-n.top;if(r||i){t.data.moved=!0;var a=t.elm.style;a.transform=a.WebkitTransform="translate("+r+"px,"+i+"px)",a.transitionDuration="0s"}}delete ia.mode;var ua={Transition:ra,TransitionGroup:{props:ia,beforeMount:function(){var t=this,e=this._update;this._update=function(n,r){var i=Ke(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,i(),e.call(t,n,r)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],a=this.children=[],o=Qi(this),s=0;s<i.length;s++){var u=i[s];if(u.tag)if(null!=u.key&&0!==String(u.key).indexOf("__vlist"))a.push(u),n[u.key]=u,(u.data||(u.data={})).transition=o;else;}if(r){for(var l=[],c=[],h=0;h<r.length;h++){var f=r[h];f.data.transition=o,f.data.pos=f.elm.getBoundingClientRect(),n[f.key]?l.push(f):c.push(f)}this.kept=t(e,null,l),this.removed=c}return t(e,null,a)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(aa),t.forEach(oa),t.forEach(sa),this._reflow=document.body.offsetHeight,t.forEach((function(t){if(t.data.moved){var n=t.elm,r=n.style;Mi(n,e),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(Ti,n._moveCb=function t(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(Ti,t),n._moveCb=null,Oi(n,e))})}})))},methods:{hasMove:function(t,e){if(!xi)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach((function(t){vi(n,t)})),_i(n,e),n.style.display="none",this.$el.appendChild(n);var r=Ii(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}}};Sn.config.mustUseProp=Ln,Sn.config.isReservedTag=Yn,Sn.config.isReservedAttr=In,Sn.config.getTagNamespace=Zn,Sn.config.isUnknownElement=function(t){if(!$)return!0;if(Yn(t))return!1;if(t=t.toLowerCase(),null!=Kn[t])return Kn[t];var e=document.createElement(t);return t.indexOf("-")>-1?Kn[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Kn[t]=/HTMLUnknownElement/.test(e.toString())},O(Sn.options.directives,Zi),O(Sn.options.components,ua),Sn.prototype.__patch__=$?ji:N,Sn.prototype.$mount=function(t,e){return function(t,e,n){var r;return t.$el=e,t.$options.render||(t.$options.render=_t),tn(t,"beforeMount"),r=function(){t._update(t._render(),n)},new dn(t,r,N,{before:function(){t._isMounted&&!t._isDestroyed&&tn(t,"beforeUpdate")}},!0),n=!1,null==t.$vnode&&(t._isMounted=!0,tn(t,"mounted")),t}(this,t=t&&$?Qn(t):void 0,e)},$&&setTimeout((function(){z.devtools&&at&&at.emit("init",Sn)}),0);var la=/\{\{((?:.|\r?\n)+?)\}\}/g,ca=/[-.*+?^${}()|[\]\/\\]/g,ha=x((function(t){var e=t[0].replace(ca,"\\$&"),n=t[1].replace(ca,"\\$&");return new RegExp(e+"((?:.|\\n)+?)"+n,"g")}));var fa={staticKeys:["staticClass"],transformNode:function(t,e){e.warn;var n=Fr(t,"class");n&&(t.staticClass=JSON.stringify(n));var r=Br(t,"class",!1);r&&(t.classBinding=r)},genData:function(t){var e="";return t.staticClass&&(e+="staticClass:"+t.staticClass+","),t.classBinding&&(e+="class:"+t.classBinding+","),e}};var da,pa={staticKeys:["staticStyle"],transformNode:function(t,e){e.warn;var n=Fr(t,"style");n&&(t.staticStyle=JSON.stringify(ai(n)));var r=Br(t,"style",!1);r&&(t.styleBinding=r)},genData:function(t){var e="";return t.staticStyle&&(e+="staticStyle:"+t.staticStyle+","),t.styleBinding&&(e+="style:("+t.styleBinding+"),"),e}},ma=function(t){return(da=da||document.createElement("div")).innerHTML=t,da.textContent},ga=m("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),_a=m("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),va=m("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),ya=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,ba=/^\s*((?:v-[\w-]+:|@|:|#)\[[^=]+\][^\s"'<>\/=]*)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,xa="[a-zA-Z_][\\-\\.0-9_a-zA-Z"+j.source+"]*",wa="((?:"+xa+"\\:)?"+xa+")",Ta=new RegExp("^<"+wa),Sa=/^\s*(\/?)>/,Ea=new RegExp("^<\\/"+wa+"[^>]*>"),Ca=/^<!DOCTYPE [^>]+>/i,Aa=/^<!\--/,Ma=/^<!\[/,Oa=m("script,style,textarea",!0),Da={},Na={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t","&#39;":"'"},Ia=/&(?:lt|gt|quot|amp|#39);/g,Pa=/&(?:lt|gt|quot|amp|#39|#10|#9);/g,La=m("pre,textarea",!0),Ra=function(t,e){return t&&La(t)&&"\n"===e[0]};function ka(t,e){var n=e?Pa:Ia;return t.replace(n,(function(t){return Na[t]}))}var Ba,Fa,za,ja,Ua,Ha,Va,Ga,Wa=/^@|^v-on:/,$a=/^v-|^@|^:|^#/,Xa=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,qa=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Ya=/^\(|\)$/g,Za=/^\[.*\]$/,Ka=/:(.*)$/,Ja=/^:|^\.|^v-bind:/,Qa=/\.[^.\]]+(?=[^\]]*$)/g,to=/^v-slot(:|$)|^#/,eo=/[\r\n]/,no=/\s+/g,ro=x(ma);function io(t,e,n){return{type:1,tag:t,attrsList:e,attrsMap:ho(e),rawAttrsMap:{},parent:n,children:[]}}function ao(t,e){Ba=e.warn||Or,Ha=e.isPreTag||I,Va=e.mustUseProp||I,Ga=e.getTagNamespace||I;var n=e.isReservedTag||I;(function(t){return!!t.component||!n(t.tag)}),za=Dr(e.modules,"transformNode"),ja=Dr(e.modules,"preTransformNode"),Ua=Dr(e.modules,"postTransformNode"),Fa=e.delimiters;var r,i,a=[],o=!1!==e.preserveWhitespace,s=e.whitespace,u=!1,l=!1;function c(t){if(h(t),u||t.processed||(t=oo(t,e)),a.length||t===r||r.if&&(t.elseif||t.else)&&uo(r,{exp:t.elseif,block:t}),i&&!t.forbidden)if(t.elseif||t.else)o=t,(s=function(t){for(var e=t.length;e--;){if(1===t[e].type)return t[e];t.pop()}}(i.children))&&s.if&&uo(s,{exp:o.elseif,block:o});else{if(t.slotScope){var n=t.slotTarget||'"default"';(i.scopedSlots||(i.scopedSlots={}))[n]=t}i.children.push(t),t.parent=i}var o,s;t.children=t.children.filter((function(t){return!t.slotScope})),h(t),t.pre&&(u=!1),Ha(t.tag)&&(l=!1);for(var c=0;c<Ua.length;c++)Ua[c](t,e)}function h(t){if(!l)for(var e;(e=t.children[t.children.length-1])&&3===e.type&&" "===e.text;)t.children.pop()}return function(t,e){for(var n,r,i=[],a=e.expectHTML,o=e.isUnaryTag||I,s=e.canBeLeftOpenTag||I,u=0;t;){if(n=t,r&&Oa(r)){var l=0,c=r.toLowerCase(),h=Da[c]||(Da[c]=new RegExp("([\\s\\S]*?)(</"+c+"[^>]*>)","i")),f=t.replace(h,(function(t,n,r){return l=r.length,Oa(c)||"noscript"===c||(n=n.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),Ra(c,n)&&(n=n.slice(1)),e.chars&&e.chars(n),""}));u+=t.length-f.length,t=f,C(c,u-l,u)}else{var d=t.indexOf("<");if(0===d){if(Aa.test(t)){var p=t.indexOf("--\x3e");if(p>=0){e.shouldKeepComment&&e.comment(t.substring(4,p),u,u+p+3),T(p+3);continue}}if(Ma.test(t)){var m=t.indexOf("]>");if(m>=0){T(m+2);continue}}var g=t.match(Ca);if(g){T(g[0].length);continue}var _=t.match(Ea);if(_){var v=u;T(_[0].length),C(_[1],v,u);continue}var y=S();if(y){E(y),Ra(y.tagName,t)&&T(1);continue}}var b=void 0,x=void 0,w=void 0;if(d>=0){for(x=t.slice(d);!(Ea.test(x)||Ta.test(x)||Aa.test(x)||Ma.test(x)||(w=x.indexOf("<",1))<0);)d+=w,x=t.slice(d);b=t.substring(0,d)}d<0&&(b=t),b&&T(b.length),e.chars&&b&&e.chars(b,u-b.length,u)}if(t===n){e.chars&&e.chars(t);break}}function T(e){u+=e,t=t.substring(e)}function S(){var e=t.match(Ta);if(e){var n,r,i={tagName:e[1],attrs:[],start:u};for(T(e[0].length);!(n=t.match(Sa))&&(r=t.match(ba)||t.match(ya));)r.start=u,T(r[0].length),r.end=u,i.attrs.push(r);if(n)return i.unarySlash=n[1],T(n[0].length),i.end=u,i}}function E(t){var n=t.tagName,u=t.unarySlash;a&&("p"===r&&va(n)&&C(r),s(n)&&r===n&&C(n));for(var l=o(n)||!!u,c=t.attrs.length,h=new Array(c),f=0;f<c;f++){var d=t.attrs[f],p=d[3]||d[4]||d[5]||"",m="a"===n&&"href"===d[1]?e.shouldDecodeNewlinesForHref:e.shouldDecodeNewlines;h[f]={name:d[1],value:ka(p,m)}}l||(i.push({tag:n,lowerCasedTag:n.toLowerCase(),attrs:h,start:t.start,end:t.end}),r=n),e.start&&e.start(n,h,l,t.start,t.end)}function C(t,n,a){var o,s;if(null==n&&(n=u),null==a&&(a=u),t)for(s=t.toLowerCase(),o=i.length-1;o>=0&&i[o].lowerCasedTag!==s;o--);else o=0;if(o>=0){for(var l=i.length-1;l>=o;l--)e.end&&e.end(i[l].tag,n,a);i.length=o,r=o&&i[o-1].tag}else"br"===s?e.start&&e.start(t,[],!0,n,a):"p"===s&&(e.start&&e.start(t,[],!1,n,a),e.end&&e.end(t,n,a))}C()}(t,{warn:Ba,expectHTML:e.expectHTML,isUnaryTag:e.isUnaryTag,canBeLeftOpenTag:e.canBeLeftOpenTag,shouldDecodeNewlines:e.shouldDecodeNewlines,shouldDecodeNewlinesForHref:e.shouldDecodeNewlinesForHref,shouldKeepComment:e.comments,outputSourceRange:e.outputSourceRange,start:function(t,n,o,s,h){var f=i&&i.ns||Ga(t);Z&&"svg"===f&&(n=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];fo.test(r.name)||(r.name=r.name.replace(po,""),e.push(r))}return e}(n));var d,p=io(t,n,i);f&&(p.ns=f),"style"!==(d=p).tag&&("script"!==d.tag||d.attrsMap.type&&"text/javascript"!==d.attrsMap.type)||it()||(p.forbidden=!0);for(var m=0;m<ja.length;m++)p=ja[m](p,e)||p;u||(!function(t){null!=Fr(t,"v-pre")&&(t.pre=!0)}(p),p.pre&&(u=!0)),Ha(p.tag)&&(l=!0),u?function(t){var e=t.attrsList,n=e.length;if(n)for(var r=t.attrs=new Array(n),i=0;i<n;i++)r[i]={name:e[i].name,value:JSON.stringify(e[i].value)},null!=e[i].start&&(r[i].start=e[i].start,r[i].end=e[i].end);else t.pre||(t.plain=!0)}(p):p.processed||(so(p),function(t){var e=Fr(t,"v-if");if(e)t.if=e,uo(t,{exp:e,block:t});else{null!=Fr(t,"v-else")&&(t.else=!0);var n=Fr(t,"v-else-if");n&&(t.elseif=n)}}(p),function(t){null!=Fr(t,"v-once")&&(t.once=!0)}(p)),r||(r=p),o?c(p):(i=p,a.push(p))},end:function(t,e,n){var r=a[a.length-1];a.length-=1,i=a[a.length-1],c(r)},chars:function(t,e,n){if(i&&(!Z||"textarea"!==i.tag||i.attrsMap.placeholder!==t)){var r,a,c,h=i.children;if(t=l||t.trim()?"script"===(r=i).tag||"style"===r.tag?t:ro(t):h.length?s?"condense"===s&&eo.test(t)?"":" ":o?" ":"":"")l||"condense"!==s||(t=t.replace(no," ")),!u&&" "!==t&&(a=function(t,e){var n=e?ha(e):la;if(n.test(t)){for(var r,i,a,o=[],s=[],u=n.lastIndex=0;r=n.exec(t);){(i=r.index)>u&&(s.push(a=t.slice(u,i)),o.push(JSON.stringify(a)));var l=Ar(r[1].trim());o.push("_s("+l+")"),s.push({"@binding":l}),u=i+r[0].length}return u<t.length&&(s.push(a=t.slice(u)),o.push(JSON.stringify(a))),{expression:o.join("+"),tokens:s}}}(t,Fa))?c={type:2,expression:a.expression,tokens:a.tokens,text:t}:" "===t&&h.length&&" "===h[h.length-1].text||(c={type:3,text:t}),c&&h.push(c)}},comment:function(t,e,n){if(i){var r={type:3,text:t,isComment:!0};0,i.children.push(r)}}}),r}function oo(t,e){var n;!function(t){var e=Br(t,"key");if(e){t.key=e}}(t),t.plain=!t.key&&!t.scopedSlots&&!t.attrsList.length,function(t){var e=Br(t,"ref");e&&(t.ref=e,t.refInFor=function(t){var e=t;for(;e;){if(void 0!==e.for)return!0;e=e.parent}return!1}(t))}(t),function(t){var e;"template"===t.tag?(e=Fr(t,"scope"),t.slotScope=e||Fr(t,"slot-scope")):(e=Fr(t,"slot-scope"))&&(t.slotScope=e);var n=Br(t,"slot");n&&(t.slotTarget='""'===n?'"default"':n,t.slotTargetDynamic=!(!t.attrsMap[":slot"]&&!t.attrsMap["v-bind:slot"]),"template"===t.tag||t.slotScope||Ir(t,"slot",n,function(t,e){return t.rawAttrsMap[":"+e]||t.rawAttrsMap["v-bind:"+e]||t.rawAttrsMap[e]}(t,"slot")));if("template"===t.tag){var r=zr(t,to);if(r){0;var i=lo(r),a=i.name,o=i.dynamic;t.slotTarget=a,t.slotTargetDynamic=o,t.slotScope=r.value||"_empty_"}}else{var s=zr(t,to);if(s){0;var u=t.scopedSlots||(t.scopedSlots={}),l=lo(s),c=l.name,h=l.dynamic,f=u[c]=io("template",[],t);f.slotTarget=c,f.slotTargetDynamic=h,f.children=t.children.filter((function(t){if(!t.slotScope)return t.parent=f,!0})),f.slotScope=s.value||"_empty_",t.children=[],t.plain=!1}}}(t),"slot"===(n=t).tag&&(n.slotName=Br(n,"name")),function(t){var e;(e=Br(t,"is"))&&(t.component=e);null!=Fr(t,"inline-template")&&(t.inlineTemplate=!0)}(t);for(var r=0;r<za.length;r++)t=za[r](t,e)||t;return function(t){var e,n,r,i,a,o,s,u,l=t.attrsList;for(e=0,n=l.length;e<n;e++){if(r=i=l[e].name,a=l[e].value,$a.test(r))if(t.hasBindings=!0,(o=co(r.replace($a,"")))&&(r=r.replace(Qa,"")),Ja.test(r))r=r.replace(Ja,""),a=Ar(a),(u=Za.test(r))&&(r=r.slice(1,-1)),o&&(o.prop&&!u&&"innerHtml"===(r=T(r))&&(r="innerHTML"),o.camel&&!u&&(r=T(r)),o.sync&&(s=Hr(a,"$event"),u?kr(t,'"update:"+('+r+")",s,null,!1,0,l[e],!0):(kr(t,"update:"+T(r),s,null,!1,0,l[e]),C(r)!==T(r)&&kr(t,"update:"+C(r),s,null,!1,0,l[e])))),o&&o.prop||!t.component&&Va(t.tag,t.attrsMap.type,r)?Nr(t,r,a,l[e],u):Ir(t,r,a,l[e],u);else if(Wa.test(r))r=r.replace(Wa,""),(u=Za.test(r))&&(r=r.slice(1,-1)),kr(t,r,a,o,!1,0,l[e],u);else{var c=(r=r.replace($a,"")).match(Ka),h=c&&c[1];u=!1,h&&(r=r.slice(0,-(h.length+1)),Za.test(h)&&(h=h.slice(1,-1),u=!0)),Lr(t,r,i,a,h,u,o,l[e])}else Ir(t,r,JSON.stringify(a),l[e]),!t.component&&"muted"===r&&Va(t.tag,t.attrsMap.type,r)&&Nr(t,r,"true",l[e])}}(t),t}function so(t){var e;if(e=Fr(t,"v-for")){var n=function(t){var e=t.match(Xa);if(!e)return;var n={};n.for=e[2].trim();var r=e[1].trim().replace(Ya,""),i=r.match(qa);i?(n.alias=r.replace(qa,"").trim(),n.iterator1=i[1].trim(),i[2]&&(n.iterator2=i[2].trim())):n.alias=r;return n}(e);n&&O(t,n)}}function uo(t,e){t.ifConditions||(t.ifConditions=[]),t.ifConditions.push(e)}function lo(t){var e=t.name.replace(to,"");return e||"#"!==t.name[0]&&(e="default"),Za.test(e)?{name:e.slice(1,-1),dynamic:!0}:{name:'"'+e+'"',dynamic:!1}}function co(t){var e=t.match(Qa);if(e){var n={};return e.forEach((function(t){n[t.slice(1)]=!0})),n}}function ho(t){for(var e={},n=0,r=t.length;n<r;n++)e[t[n].name]=t[n].value;return e}var fo=/^xmlns:NS\d+/,po=/^NS\d+:/;function mo(t){return io(t.tag,t.attrsList.slice(),t.parent)}var go=[fa,pa,{preTransformNode:function(t,e){if("input"===t.tag){var n,r=t.attrsMap;if(!r["v-model"])return;if((r[":type"]||r["v-bind:type"])&&(n=Br(t,"type")),r.type||n||!r["v-bind"]||(n="("+r["v-bind"]+").type"),n){var i=Fr(t,"v-if",!0),a=i?"&&("+i+")":"",o=null!=Fr(t,"v-else",!0),s=Fr(t,"v-else-if",!0),u=mo(t);so(u),Pr(u,"type","checkbox"),oo(u,e),u.processed=!0,u.if="("+n+")==='checkbox'"+a,uo(u,{exp:u.if,block:u});var l=mo(t);Fr(l,"v-for",!0),Pr(l,"type","radio"),oo(l,e),uo(u,{exp:"("+n+")==='radio'"+a,block:l});var c=mo(t);return Fr(c,"v-for",!0),Pr(c,":type",n),oo(c,e),uo(u,{exp:i,block:c}),o?u.else=!0:s&&(u.elseif=s),u}}}}];var _o,vo,yo={expectHTML:!0,modules:go,directives:{model:function(t,e,n){n;var r=e.value,i=e.modifiers,a=t.tag,o=t.attrsMap.type;if(t.component)return Ur(t,r,i),!1;if("select"===a)!function(t,e,n){var r='var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+(n&&n.number?"_n(val)":"val")+"});";r=r+" "+Hr(e,"$event.target.multiple ? $$selectedVal : $$selectedVal[0]"),kr(t,"change",r,null,!0)}(t,r,i);else if("input"===a&&"checkbox"===o)!function(t,e,n){var r=n&&n.number,i=Br(t,"value")||"null",a=Br(t,"true-value")||"true",o=Br(t,"false-value")||"false";Nr(t,"checked","Array.isArray("+e+")?_i("+e+","+i+")>-1"+("true"===a?":("+e+")":":_q("+e+","+a+")")),kr(t,"change","var $$a="+e+",$$el=$event.target,$$c=$$el.checked?("+a+"):("+o+");if(Array.isArray($$a)){var $$v="+(r?"_n("+i+")":i)+",$$i=_i($$a,$$v);if($$el.checked){$$i<0&&("+Hr(e,"$$a.concat([$$v])")+")}else{$$i>-1&&("+Hr(e,"$$a.slice(0,$$i).concat($$a.slice($$i+1))")+")}}else{"+Hr(e,"$$c")+"}",null,!0)}(t,r,i);else if("input"===a&&"radio"===o)!function(t,e,n){var r=n&&n.number,i=Br(t,"value")||"null";Nr(t,"checked","_q("+e+","+(i=r?"_n("+i+")":i)+")"),kr(t,"change",Hr(e,i),null,!0)}(t,r,i);else if("input"===a||"textarea"===a)!function(t,e,n){var r=t.attrsMap.type;0;var i=n||{},a=i.lazy,o=i.number,s=i.trim,u=!a&&"range"!==r,l=a?"change":"range"===r?"__r":"input",c="$event.target.value";s&&(c="$event.target.value.trim()");o&&(c="_n("+c+")");var h=Hr(e,c);u&&(h="if($event.target.composing)return;"+h);Nr(t,"value","("+e+")"),kr(t,l,h,null,!0),(s||o)&&kr(t,"blur","$forceUpdate()")}(t,r,i);else{if(!z.isReservedTag(a))return Ur(t,r,i),!1}return!0},text:function(t,e){e.value&&Nr(t,"textContent","_s("+e.value+")",e)},html:function(t,e){e.value&&Nr(t,"innerHTML","_s("+e.value+")",e)}},isPreTag:function(t){return"pre"===t},isUnaryTag:ga,mustUseProp:Ln,canBeLeftOpenTag:_a,isReservedTag:Yn,getTagNamespace:Zn,staticKeys:function(t){return t.reduce((function(t,e){return t.concat(e.staticKeys||[])}),[]).join(",")}(go)},bo=x((function(t){return m("type,tag,attrsList,attrsMap,plain,parent,children,attrs,start,end,rawAttrsMap"+(t?","+t:""))}));function xo(t,e){t&&(_o=bo(e.staticKeys||""),vo=e.isReservedTag||I,function t(e){if(e.static=function(t){if(2===t.type)return!1;if(3===t.type)return!0;return!(!t.pre&&(t.hasBindings||t.if||t.for||g(t.tag)||!vo(t.tag)||function(t){for(;t.parent;){if("template"!==(t=t.parent).tag)return!1;if(t.for)return!0}return!1}(t)||!Object.keys(t).every(_o)))}(e),1===e.type){if(!vo(e.tag)&&"slot"!==e.tag&&null==e.attrsMap["inline-template"])return;for(var n=0,r=e.children.length;n<r;n++){var i=e.children[n];t(i),i.static||(e.static=!1)}if(e.ifConditions)for(var a=1,o=e.ifConditions.length;a<o;a++){var s=e.ifConditions[a].block;t(s),s.static||(e.static=!1)}}}(t),function t(e,n){if(1===e.type){if((e.static||e.once)&&(e.staticInFor=n),e.static&&e.children.length&&(1!==e.children.length||3!==e.children[0].type))return void(e.staticRoot=!0);if(e.staticRoot=!1,e.children)for(var r=0,i=e.children.length;r<i;r++)t(e.children[r],n||!!e.for);if(e.ifConditions)for(var a=1,o=e.ifConditions.length;a<o;a++)t(e.ifConditions[a].block,n)}}(t,!1))}var wo=/^([\w$_]+|\([^)]*?\))\s*=>|^function(?:\s+[\w$]+)?\s*\(/,To=/\([^)]*?\);*$/,So=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/,Eo={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},Co={esc:["Esc","Escape"],tab:"Tab",enter:"Enter",space:[" ","Spacebar"],up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete","Del"]},Ao=function(t){return"if("+t+")return null;"},Mo={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:Ao("$event.target !== $event.currentTarget"),ctrl:Ao("!$event.ctrlKey"),shift:Ao("!$event.shiftKey"),alt:Ao("!$event.altKey"),meta:Ao("!$event.metaKey"),left:Ao("'button' in $event && $event.button !== 0"),middle:Ao("'button' in $event && $event.button !== 1"),right:Ao("'button' in $event && $event.button !== 2")};function Oo(t,e){var n=e?"nativeOn:":"on:",r="",i="";for(var a in t){var o=Do(t[a]);t[a]&&t[a].dynamic?i+=a+","+o+",":r+='"'+a+'":'+o+","}return r="{"+r.slice(0,-1)+"}",i?n+"_d("+r+",["+i.slice(0,-1)+"])":n+r}function Do(t){if(!t)return"function(){}";if(Array.isArray(t))return"["+t.map((function(t){return Do(t)})).join(",")+"]";var e=So.test(t.value),n=wo.test(t.value),r=So.test(t.value.replace(To,""));if(t.modifiers){var i="",a="",o=[];for(var s in t.modifiers)if(Mo[s])a+=Mo[s],Eo[s]&&o.push(s);else if("exact"===s){var u=t.modifiers;a+=Ao(["ctrl","shift","alt","meta"].filter((function(t){return!u[t]})).map((function(t){return"$event."+t+"Key"})).join("||"))}else o.push(s);return o.length&&(i+=function(t){return"if(!$event.type.indexOf('key')&&"+t.map(No).join("&&")+")return null;"}(o)),a&&(i+=a),"function($event){"+i+(e?"return "+t.value+"($event)":n?"return ("+t.value+")($event)":r?"return "+t.value:t.value)+"}"}return e||n?t.value:"function($event){"+(r?"return "+t.value:t.value)+"}"}function No(t){var e=parseInt(t,10);if(e)return"$event.keyCode!=="+e;var n=Eo[t],r=Co[t];return"_k($event.keyCode,"+JSON.stringify(t)+","+JSON.stringify(n)+",$event.key,"+JSON.stringify(r)+")"}var Io={on:function(t,e){t.wrapListeners=function(t){return"_g("+t+","+e.value+")"}},bind:function(t,e){t.wrapData=function(n){return"_b("+n+",'"+t.tag+"',"+e.value+","+(e.modifiers&&e.modifiers.prop?"true":"false")+(e.modifiers&&e.modifiers.sync?",true":"")+")"}},cloak:N},Po=function(t){this.options=t,this.warn=t.warn||Or,this.transforms=Dr(t.modules,"transformCode"),this.dataGenFns=Dr(t.modules,"genData"),this.directives=O(O({},Io),t.directives);var e=t.isReservedTag||I;this.maybeComponent=function(t){return!!t.component||!e(t.tag)},this.onceId=0,this.staticRenderFns=[],this.pre=!1};function Lo(t,e){var n=new Po(e);return{render:"with(this){return "+(t?Ro(t,n):'_c("div")')+"}",staticRenderFns:n.staticRenderFns}}function Ro(t,e){if(t.parent&&(t.pre=t.pre||t.parent.pre),t.staticRoot&&!t.staticProcessed)return ko(t,e);if(t.once&&!t.onceProcessed)return Bo(t,e);if(t.for&&!t.forProcessed)return zo(t,e);if(t.if&&!t.ifProcessed)return Fo(t,e);if("template"!==t.tag||t.slotTarget||e.pre){if("slot"===t.tag)return function(t,e){var n=t.slotName||'"default"',r=Vo(t,e),i="_t("+n+(r?","+r:""),a=t.attrs||t.dynamicAttrs?$o((t.attrs||[]).concat(t.dynamicAttrs||[]).map((function(t){return{name:T(t.name),value:t.value,dynamic:t.dynamic}}))):null,o=t.attrsMap["v-bind"];!a&&!o||r||(i+=",null");a&&(i+=","+a);o&&(i+=(a?"":",null")+","+o);return i+")"}(t,e);var n;if(t.component)n=function(t,e,n){var r=e.inlineTemplate?null:Vo(e,n,!0);return"_c("+t+","+jo(e,n)+(r?","+r:"")+")"}(t.component,t,e);else{var r;(!t.plain||t.pre&&e.maybeComponent(t))&&(r=jo(t,e));var i=t.inlineTemplate?null:Vo(t,e,!0);n="_c('"+t.tag+"'"+(r?","+r:"")+(i?","+i:"")+")"}for(var a=0;a<e.transforms.length;a++)n=e.transforms[a](t,n);return n}return Vo(t,e)||"void 0"}function ko(t,e){t.staticProcessed=!0;var n=e.pre;return t.pre&&(e.pre=t.pre),e.staticRenderFns.push("with(this){return "+Ro(t,e)+"}"),e.pre=n,"_m("+(e.staticRenderFns.length-1)+(t.staticInFor?",true":"")+")"}function Bo(t,e){if(t.onceProcessed=!0,t.if&&!t.ifProcessed)return Fo(t,e);if(t.staticInFor){for(var n="",r=t.parent;r;){if(r.for){n=r.key;break}r=r.parent}return n?"_o("+Ro(t,e)+","+e.onceId+++","+n+")":Ro(t,e)}return ko(t,e)}function Fo(t,e,n,r){return t.ifProcessed=!0,function t(e,n,r,i){if(!e.length)return i||"_e()";var a=e.shift();return a.exp?"("+a.exp+")?"+o(a.block)+":"+t(e,n,r,i):""+o(a.block);function o(t){return r?r(t,n):t.once?Bo(t,n):Ro(t,n)}}(t.ifConditions.slice(),e,n,r)}function zo(t,e,n,r){var i=t.for,a=t.alias,o=t.iterator1?","+t.iterator1:"",s=t.iterator2?","+t.iterator2:"";return t.forProcessed=!0,(r||"_l")+"(("+i+"),function("+a+o+s+"){return "+(n||Ro)(t,e)+"})"}function jo(t,e){var n="{",r=function(t,e){var n=t.directives;if(!n)return;var r,i,a,o,s="directives:[",u=!1;for(r=0,i=n.length;r<i;r++){a=n[r],o=!0;var l=e.directives[a.name];l&&(o=!!l(t,a,e.warn)),o&&(u=!0,s+='{name:"'+a.name+'",rawName:"'+a.rawName+'"'+(a.value?",value:("+a.value+"),expression:"+JSON.stringify(a.value):"")+(a.arg?",arg:"+(a.isDynamicArg?a.arg:'"'+a.arg+'"'):"")+(a.modifiers?",modifiers:"+JSON.stringify(a.modifiers):"")+"},")}if(u)return s.slice(0,-1)+"]"}(t,e);r&&(n+=r+","),t.key&&(n+="key:"+t.key+","),t.ref&&(n+="ref:"+t.ref+","),t.refInFor&&(n+="refInFor:true,"),t.pre&&(n+="pre:true,"),t.component&&(n+='tag:"'+t.tag+'",');for(var i=0;i<e.dataGenFns.length;i++)n+=e.dataGenFns[i](t);if(t.attrs&&(n+="attrs:"+$o(t.attrs)+","),t.props&&(n+="domProps:"+$o(t.props)+","),t.events&&(n+=Oo(t.events,!1)+","),t.nativeEvents&&(n+=Oo(t.nativeEvents,!0)+","),t.slotTarget&&!t.slotScope&&(n+="slot:"+t.slotTarget+","),t.scopedSlots&&(n+=function(t,e,n){var r=t.for||Object.keys(e).some((function(t){var n=e[t];return n.slotTargetDynamic||n.if||n.for||Uo(n)})),i=!!t.if;if(!r)for(var a=t.parent;a;){if(a.slotScope&&"_empty_"!==a.slotScope||a.for){r=!0;break}a.if&&(i=!0),a=a.parent}var o=Object.keys(e).map((function(t){return Ho(e[t],n)})).join(",");return"scopedSlots:_u(["+o+"]"+(r?",null,true":"")+(!r&&i?",null,false,"+function(t){var e=5381,n=t.length;for(;n;)e=33*e^t.charCodeAt(--n);return e>>>0}(o):"")+")"}(t,t.scopedSlots,e)+","),t.model&&(n+="model:{value:"+t.model.value+",callback:"+t.model.callback+",expression:"+t.model.expression+"},"),t.inlineTemplate){var a=function(t,e){var n=t.children[0];0;if(n&&1===n.type){var r=Lo(n,e.options);return"inlineTemplate:{render:function(){"+r.render+"},staticRenderFns:["+r.staticRenderFns.map((function(t){return"function(){"+t+"}"})).join(",")+"]}"}}(t,e);a&&(n+=a+",")}return n=n.replace(/,$/,"")+"}",t.dynamicAttrs&&(n="_b("+n+',"'+t.tag+'",'+$o(t.dynamicAttrs)+")"),t.wrapData&&(n=t.wrapData(n)),t.wrapListeners&&(n=t.wrapListeners(n)),n}function Uo(t){return 1===t.type&&("slot"===t.tag||t.children.some(Uo))}function Ho(t,e){var n=t.attrsMap["slot-scope"];if(t.if&&!t.ifProcessed&&!n)return Fo(t,e,Ho,"null");if(t.for&&!t.forProcessed)return zo(t,e,Ho);var r="_empty_"===t.slotScope?"":String(t.slotScope),i="function("+r+"){return "+("template"===t.tag?t.if&&n?"("+t.if+")?"+(Vo(t,e)||"undefined")+":undefined":Vo(t,e)||"undefined":Ro(t,e))+"}",a=r?"":",proxy:true";return"{key:"+(t.slotTarget||'"default"')+",fn:"+i+a+"}"}function Vo(t,e,n,r,i){var a=t.children;if(a.length){var o=a[0];if(1===a.length&&o.for&&"template"!==o.tag&&"slot"!==o.tag){var s=n?e.maybeComponent(o)?",1":",0":"";return""+(r||Ro)(o,e)+s}var u=n?function(t,e){for(var n=0,r=0;r<t.length;r++){var i=t[r];if(1===i.type){if(Go(i)||i.ifConditions&&i.ifConditions.some((function(t){return Go(t.block)}))){n=2;break}(e(i)||i.ifConditions&&i.ifConditions.some((function(t){return e(t.block)})))&&(n=1)}}return n}(a,e.maybeComponent):0,l=i||Wo;return"["+a.map((function(t){return l(t,e)})).join(",")+"]"+(u?","+u:"")}}function Go(t){return void 0!==t.for||"template"===t.tag||"slot"===t.tag}function Wo(t,e){return 1===t.type?Ro(t,e):3===t.type&&t.isComment?function(t){return"_e("+JSON.stringify(t.text)+")"}(t):function(t){return"_v("+(2===t.type?t.expression:Xo(JSON.stringify(t.text)))+")"}(t)}function $o(t){for(var e="",n="",r=0;r<t.length;r++){var i=t[r],a=Xo(i.value);i.dynamic?n+=i.name+","+a+",":e+='"'+i.name+'":'+a+","}return e="{"+e.slice(0,-1)+"}",n?"_d("+e+",["+n.slice(0,-1)+"])":e}function Xo(t){return t.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b"),new RegExp("\\b"+"delete,typeof,void".split(",").join("\\s*\\([^\\)]*\\)|\\b")+"\\s*\\([^\\)]*\\)");function qo(t,e){try{return new Function(t)}catch(n){return e.push({err:n,code:t}),N}}function Yo(t){var e=Object.create(null);return function(n,r,i){(r=O({},r)).warn;delete r.warn;var a=r.delimiters?String(r.delimiters)+n:n;if(e[a])return e[a];var o=t(n,r);var s={},u=[];return s.render=qo(o.render,u),s.staticRenderFns=o.staticRenderFns.map((function(t){return qo(t,u)})),e[a]=s}}var Zo,Ko,Jo=(Zo=function(t,e){var n=ao(t.trim(),e);!1!==e.optimize&&xo(n,e);var r=Lo(n,e);return{ast:n,render:r.render,staticRenderFns:r.staticRenderFns}},function(t){function e(e,n){var r=Object.create(t),i=[],a=[];if(n)for(var o in n.modules&&(r.modules=(t.modules||[]).concat(n.modules)),n.directives&&(r.directives=O(Object.create(t.directives||null),n.directives)),n)"modules"!==o&&"directives"!==o&&(r[o]=n[o]);r.warn=function(t,e,n){(n?a:i).push(t)};var s=Zo(e.trim(),r);return s.errors=i,s.tips=a,s}return{compile:e,compileToFunctions:Yo(e)}})(yo),Qo=(Jo.compile,Jo.compileToFunctions);function ts(t){return(Ko=Ko||document.createElement("div")).innerHTML=t?'<a href="\n"/>':'<div a="\n"/>',Ko.innerHTML.indexOf("&#10;")>0}var es=!!$&&ts(!1),ns=!!$&&ts(!0),rs=x((function(t){var e=Qn(t);return e&&e.innerHTML})),is=Sn.prototype.$mount;Sn.prototype.$mount=function(t,e){if((t=t&&Qn(t))===document.body||t===document.documentElement)return this;var n=this.$options;if(!n.render){var r=n.template;if(r)if("string"==typeof r)"#"===r.charAt(0)&&(r=rs(r));else{if(!r.nodeType)return this;r=r.innerHTML}else t&&(r=function(t){if(t.outerHTML)return t.outerHTML;var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}(t));if(r){0;var i=Qo(r,{outputSourceRange:!1,shouldDecodeNewlines:es,shouldDecodeNewlinesForHref:ns,delimiters:n.delimiters,comments:n.comments},this),a=i.render,o=i.staticRenderFns;n.render=a,n.staticRenderFns=o}}return is.call(this,t,e)},Sn.compile=Qo,e.default=Sn}.call(this,n("c8ba"))},a02f:function(t,e,n){"use strict";var r=n("4185");n.n(r).a},a078:function(t,e,n){var r=n("7b0b"),i=n("50c4"),a=n("35a1"),o=n("e95a"),s=n("0366"),u=n("ebb5").aTypedArrayConstructor;t.exports=function(t){var e,n,l,c,h,f,d=r(t),p=arguments.length,m=p>1?arguments[1]:void 0,g=void 0!==m,_=a(d);if(null!=_&&!o(_))for(f=(h=_.call(d)).next,d=[];!(c=f.call(h)).done;)d.push(c.value);for(g&&p>2&&(m=s(m,arguments[2],2)),n=i(d.length),l=new(u(this))(n),e=0;n>e;e++)l[e]=g?m(d[e],e):d[e];return l}},a0aa:function(t){t.exports=JSON.parse('{"confirm":"确认","custom":"自定义","dropDownNew":"新建","dropDownEnter":"请输入...","dropDownNoData":"没有数据","dropDownNoSearchData":"没有搜索数据","myFolders":"我的文件夹","no":"取消","ok":"确定","paginatorDetailPage":"共{pageNum}页/{totalCounts}条数据","paginatorFirstPage":"首页","paginatorJumpTo":"跳转:","paginatorPrevPage":"上一页","paginatorLastPage":"尾页","paginatorNextPage":"下一页","pickColor":"选取颜色","popupWindowAlertContent":"服务请求失败！","popupWindowConfirmContent":"请确认","popupWindowCustomContent":"自定义内容","popupWindowPromptContent":"请输入","selectAll":"全选","sharedFolders":"共享文件夹","tips":"提示","treeNew":"新建","yes":"确定","transparency":"透明度","recentlyUsed":"最近使用","customColor":"自定义颜色","hueTransparency":"色相透明度"}')},a15b:function(t,e,n){"use strict";var r=n("23e7"),i=n("44ad"),a=n("fc6a"),o=n("a640"),s=[].join,u=i!=Object,l=o("join",",");r({target:"Array",proto:!0,forced:u||!l},{join:function(t){return s.call(a(this),void 0===t?",":t)}})},a15e:function(t,e,n){"use strict";n.r(e);var r=n("41b2"),i=n.n(r),a=n("1098"),o=n.n(a),s=/%[sdj%]/g;function u(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=1,i=e[0],a=e.length;if("function"==typeof i)return i.apply(null,e.slice(1));if("string"==typeof i){for(var o=String(i).replace(s,(function(t){if("%%"===t)return"%";if(r>=a)return t;switch(t){case"%s":return String(e[r++]);case"%d":return Number(e[r++]);case"%j":try{return JSON.stringify(e[r++])}catch(t){return"[Circular]"}break;default:return t}})),u=e[r];r<a;u=e[++r])o+=" "+u;return o}return i}function l(t,e){return null==t||(!("array"!==e||!Array.isArray(t)||t.length)||!(!function(t){return"string"===t||"url"===t||"hex"===t||"email"===t||"pattern"===t}(e)||"string"!=typeof t||t))}function c(t,e,n){var r=0,i=t.length;!function a(o){if(o&&o.length)n(o);else{var s=r;r+=1,s<i?e(t[s],a):n([])}}([])}function h(t,e,n,r){if(e.first)return c(function(t){var e=[];return Object.keys(t).forEach((function(n){e.push.apply(e,t[n])})),e}(t),n,r);var i=e.firstFields||[];!0===i&&(i=Object.keys(t));var a=Object.keys(t),o=a.length,s=0,u=[],l=function(t){u.push.apply(u,t),++s===o&&r(u)};a.forEach((function(e){var r=t[e];-1!==i.indexOf(e)?c(r,n,l):function(t,e,n){var r=[],i=0,a=t.length;function o(t){r.push.apply(r,t),++i===a&&n(r)}t.forEach((function(t){e(t,o)}))}(r,n,l)}))}function f(t){return function(e){return e&&e.message?(e.field=e.field||t.fullField,e):{message:e,field:e.field||t.fullField}}}function d(t,e){if(e)for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];"object"===(void 0===r?"undefined":o()(r))&&"object"===o()(t[n])?t[n]=i()({},t[n],r):t[n]=r}return t}var p=function(t,e,n,r,i,a){!t.required||n.hasOwnProperty(t.field)&&!l(e,a||t.type)||r.push(u(i.messages.required,t.fullField))};var m=function(t,e,n,r,i){(/^\s+$/.test(e)||""===e)&&r.push(u(i.messages.whitespace,t.fullField))},g={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},_={integer:function(t){return _.number(t)&&parseInt(t,10)===t},float:function(t){return _.number(t)&&!_.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch(t){return!1}},date:function(t){return"function"==typeof t.getTime&&"function"==typeof t.getMonth&&"function"==typeof t.getYear},number:function(t){return!isNaN(t)&&"number"==typeof t},object:function(t){return"object"===(void 0===t?"undefined":o()(t))&&!_.array(t)},method:function(t){return"function"==typeof t},email:function(t){return"string"==typeof t&&!!t.match(g.email)&&t.length<255},url:function(t){return"string"==typeof t&&!!t.match(g.url)},hex:function(t){return"string"==typeof t&&!!t.match(g.hex)}};var v=function(t,e,n,r,i){if(t.required&&void 0===e)p(t,e,n,r,i);else{var a=t.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(a)>-1?_[a](e)||r.push(u(i.messages.types[a],t.fullField,t.type)):a&&(void 0===e?"undefined":o()(e))!==t.type&&r.push(u(i.messages.types[a],t.fullField,t.type))}};var y={required:p,whitespace:m,type:v,range:function(t,e,n,r,i){var a="number"==typeof t.len,o="number"==typeof t.min,s="number"==typeof t.max,l=e,c=null,h="number"==typeof e,f="string"==typeof e,d=Array.isArray(e);if(h?c="number":f?c="string":d&&(c="array"),!c)return!1;d&&(l=e.length),f&&(l=e.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),a?l!==t.len&&r.push(u(i.messages[c].len,t.fullField,t.len)):o&&!s&&l<t.min?r.push(u(i.messages[c].min,t.fullField,t.min)):s&&!o&&l>t.max?r.push(u(i.messages[c].max,t.fullField,t.max)):o&&s&&(l<t.min||l>t.max)&&r.push(u(i.messages[c].range,t.fullField,t.min,t.max))},enum:function(t,e,n,r,i){t.enum=Array.isArray(t.enum)?t.enum:[],-1===t.enum.indexOf(e)&&r.push(u(i.messages.enum,t.fullField,t.enum.join(", ")))},pattern:function(t,e,n,r,i){if(t.pattern)if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(e)||r.push(u(i.messages.pattern.mismatch,t.fullField,e,t.pattern));else if("string"==typeof t.pattern){new RegExp(t.pattern).test(e)||r.push(u(i.messages.pattern.mismatch,t.fullField,e,t.pattern))}}};var b=function(t,e,n,r,i){var a=t.type,o=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if(l(e,a)&&!t.required)return n();y.required(t,e,r,o,i,a),l(e,a)||y.type(t,e,r,o,i)}n(o)},x={string:function(t,e,n,r,i){var a=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if(l(e,"string")&&!t.required)return n();y.required(t,e,r,a,i,"string"),l(e,"string")||(y.type(t,e,r,a,i),y.range(t,e,r,a,i),y.pattern(t,e,r,a,i),!0===t.whitespace&&y.whitespace(t,e,r,a,i))}n(a)},method:function(t,e,n,r,i){var a=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if(l(e)&&!t.required)return n();y.required(t,e,r,a,i),void 0!==e&&y.type(t,e,r,a,i)}n(a)},number:function(t,e,n,r,i){var a=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if(l(e)&&!t.required)return n();y.required(t,e,r,a,i),void 0!==e&&(y.type(t,e,r,a,i),y.range(t,e,r,a,i))}n(a)},boolean:function(t,e,n,r,i){var a=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if(l(e)&&!t.required)return n();y.required(t,e,r,a,i),void 0!==e&&y.type(t,e,r,a,i)}n(a)},regexp:function(t,e,n,r,i){var a=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if(l(e)&&!t.required)return n();y.required(t,e,r,a,i),l(e)||y.type(t,e,r,a,i)}n(a)},integer:function(t,e,n,r,i){var a=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if(l(e)&&!t.required)return n();y.required(t,e,r,a,i),void 0!==e&&(y.type(t,e,r,a,i),y.range(t,e,r,a,i))}n(a)},float:function(t,e,n,r,i){var a=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if(l(e)&&!t.required)return n();y.required(t,e,r,a,i),void 0!==e&&(y.type(t,e,r,a,i),y.range(t,e,r,a,i))}n(a)},array:function(t,e,n,r,i){var a=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if(l(e,"array")&&!t.required)return n();y.required(t,e,r,a,i,"array"),l(e,"array")||(y.type(t,e,r,a,i),y.range(t,e,r,a,i))}n(a)},object:function(t,e,n,r,i){var a=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if(l(e)&&!t.required)return n();y.required(t,e,r,a,i),void 0!==e&&y.type(t,e,r,a,i)}n(a)},enum:function(t,e,n,r,i){var a=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if(l(e)&&!t.required)return n();y.required(t,e,r,a,i),e&&y.enum(t,e,r,a,i)}n(a)},pattern:function(t,e,n,r,i){var a=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if(l(e,"string")&&!t.required)return n();y.required(t,e,r,a,i),l(e,"string")||y.pattern(t,e,r,a,i)}n(a)},date:function(t,e,n,r,i){var a=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if(l(e)&&!t.required)return n();if(y.required(t,e,r,a,i),!l(e)){var o=void 0;o="number"==typeof e?new Date(e):e,y.type(t,o,r,a,i),o&&y.range(t,o.getTime(),r,a,i)}}n(a)},url:b,hex:b,email:b,required:function(t,e,n,r,i){var a=[],s=Array.isArray(e)?"array":void 0===e?"undefined":o()(e);y.required(t,e,r,a,i,s),n(a)}};function w(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var T=w();function S(t){this.rules=null,this._messages=T,this.define(t)}S.prototype={messages:function(t){return t&&(this._messages=d(w(),t)),this._messages},define:function(t){if(!t)throw new Error("Cannot configure a schema with no rules");if("object"!==(void 0===t?"undefined":o()(t))||Array.isArray(t))throw new Error("Rules must be an object");this.rules={};var e=void 0,n=void 0;for(e in t)t.hasOwnProperty(e)&&(n=t[e],this.rules[e]=Array.isArray(n)?n:[n])},validate:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments[2],a=t,s=n,l=r;if("function"==typeof s&&(l=s,s={}),this.rules&&0!==Object.keys(this.rules).length){if(s.messages){var c=this.messages();c===T&&(c=w()),d(c,s.messages),s.messages=c}else s.messages=this.messages();var p=void 0,m=void 0,g={},_=s.keys||Object.keys(this.rules);_.forEach((function(n){p=e.rules[n],m=a[n],p.forEach((function(r){var o=r;"function"==typeof o.transform&&(a===t&&(a=i()({},a)),m=a[n]=o.transform(m)),(o="function"==typeof o?{validator:o}:i()({},o)).validator=e.getValidationMethod(o),o.field=n,o.fullField=o.fullField||n,o.type=e.getType(o),o.validator&&(g[n]=g[n]||[],g[n].push({rule:o,value:m,source:a,field:n}))}))}));var v={};h(g,s,(function(t,e){var n=t.rule,r=!("object"!==n.type&&"array"!==n.type||"object"!==o()(n.fields)&&"object"!==o()(n.defaultField));function a(t,e){return i()({},e,{fullField:n.fullField+"."+t})}function l(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],l=o;if(Array.isArray(l)||(l=[l]),l.length,l.length&&n.message&&(l=[].concat(n.message)),l=l.map(f(n)),s.first&&l.length)return v[n.field]=1,e(l);if(r){if(n.required&&!t.value)return l=n.message?[].concat(n.message).map(f(n)):s.error?[s.error(n,u(s.messages.required,n.field))]:[],e(l);var c={};if(n.defaultField)for(var h in t.value)t.value.hasOwnProperty(h)&&(c[h]=n.defaultField);for(var d in c=i()({},c,t.rule.fields))if(c.hasOwnProperty(d)){var p=Array.isArray(c[d])?c[d]:[c[d]];c[d]=p.map(a.bind(null,d))}var m=new S(c);m.messages(s.messages),t.rule.options&&(t.rule.options.messages=s.messages,t.rule.options.error=s.error),m.validate(t.value,t.rule.options||s,(function(t){e(t&&t.length?l.concat(t):t)}))}else e(l)}r=r&&(n.required||!n.required&&t.value),n.field=t.field;var c=n.validator(n,t.value,l,t.source,s);c&&c.then&&c.then((function(){return l()}),(function(t){return l(t)}))}),(function(t){y(t)}))}else l&&l();function y(t){var e,n=void 0,r=void 0,i=[],a={};for(n=0;n<t.length;n++)e=t[n],Array.isArray(e)?i=i.concat.apply(i,e):i.push(e);if(i.length)for(n=0;n<i.length;n++)a[r=i[n].field]=a[r]||[],a[r].push(i[n]);else i=null,a=null;l(i,a)}},getType:function(t){if(void 0===t.type&&t.pattern instanceof RegExp&&(t.type="pattern"),"function"!=typeof t.validator&&t.type&&!x.hasOwnProperty(t.type))throw new Error(u("Unknown rule type %s",t.type));return t.type||"string"},getValidationMethod:function(t){if("function"==typeof t.validator)return t.validator;var e=Object.keys(t),n=e.indexOf("message");return-1!==n&&e.splice(n,1),1===e.length&&"required"===e[0]?x.required:x[this.getType(t)]||!1}},S.register=function(t,e){if("function"!=typeof e)throw new Error("Cannot register a validator by type, validator is not a function");x[t]=e},S.messages=T;e.default=S},a1f0:function(t,e,n){"use strict";var r=n("23e7"),i=n("9ed3"),a=n("1d80"),o=n("50c4"),s=n("1c0b"),u=n("825a"),l=n("c6b6"),c=n("44e7"),h=n("ad6d"),f=n("9112"),d=n("d039"),p=n("b622"),m=n("4840"),g=n("8aa5"),_=n("69f3"),v=n("c430"),y=p("matchAll"),b=_.set,x=_.getterFor("RegExp String Iterator"),w=RegExp.prototype,T=w.exec,S="".matchAll,E=!!S&&!d((function(){"a".matchAll(/./)})),C=i((function(t,e,n,r){b(this,{type:"RegExp String Iterator",regexp:t,string:e,global:n,unicode:r,done:!1})}),"RegExp String",(function(){var t=x(this);if(t.done)return{value:void 0,done:!0};var e=t.regexp,n=t.string,r=function(t,e){var n,r=t.exec;if("function"==typeof r){if("object"!=typeof(n=r.call(t,e)))throw TypeError("Incorrect exec result");return n}return T.call(t,e)}(e,n);return null===r?{value:void 0,done:t.done=!0}:t.global?(""==String(r[0])&&(e.lastIndex=g(n,o(e.lastIndex),t.unicode)),{value:r,done:!1}):(t.done=!0,{value:r,done:!1})})),A=function(t){var e,n,r,i,a,s,l=u(this),c=String(t);return e=m(l,RegExp),void 0===(n=l.flags)&&l instanceof RegExp&&!("flags"in w)&&(n=h.call(l)),r=void 0===n?"":String(n),i=new e(e===RegExp?l.source:l,r),a=!!~r.indexOf("g"),s=!!~r.indexOf("u"),i.lastIndex=o(l.lastIndex),new C(i,c,a,s)};r({target:"String",proto:!0,forced:E},{matchAll:function(t){var e,n,r,i=a(this);if(null!=t){if(c(t)&&!~String(a("flags"in w?t.flags:h.call(t))).indexOf("g"))throw TypeError("`.matchAll` does not allow non-global regexes");if(E)return S.apply(i,arguments);if(void 0===(n=t[y])&&v&&"RegExp"==l(t)&&(n=A),null!=n)return s(n).call(t,i)}else if(E)return S.apply(i,arguments);return e=String(i),r=new RegExp(t,"g"),v?A.call(r,e):r[y](e)}}),v||y in w||f(w,y,A)},a24a:function(t,e,n){"use strict";var r=n("20f9");n.n(r).a},a2bf:function(t,e,n){"use strict";var r=n("e8b5"),i=n("50c4"),a=n("0366"),o=function(t,e,n,s,u,l,c,h){for(var f,d=u,p=0,m=!!c&&a(c,h,3);p<s;){if(p in n){if(f=m?m(n[p],p,e):n[p],l>0&&r(f))d=o(t,e,f,i(f.length),d,l-1)-1;else{if(d>=9007199254740991)throw TypeError("Exceed the acceptable array length");t[d]=f}d++}p++}return d};t.exports=o},a3de:function(t,e,n){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};t.exports=i},a434:function(t,e,n){"use strict";var r=n("23e7"),i=n("23cb"),a=n("a691"),o=n("50c4"),s=n("7b0b"),u=n("65f0"),l=n("8418"),c=n("1dde"),h=n("ae40"),f=c("splice"),d=h("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,m=Math.min;r({target:"Array",proto:!0,forced:!f||!d},{splice:function(t,e){var n,r,c,h,f,d,g=s(this),_=o(g.length),v=i(t,_),y=arguments.length;if(0===y?n=r=0:1===y?(n=0,r=_-v):(n=y-2,r=m(p(a(e),0),_-v)),_+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(c=u(g,r),h=0;h<r;h++)(f=v+h)in g&&l(c,h,g[f]);if(c.length=r,n<r){for(h=v;h<_-r;h++)d=h+n,(f=h+r)in g?g[d]=g[f]:delete g[d];for(h=_;h>_-r+n;h--)delete g[h-1]}else if(n>r)for(h=_-r;h>v;h--)d=h+n-1,(f=h+r-1)in g?g[d]=g[f]:delete g[d];for(h=0;h<n;h++)g[h+v]=arguments[h+2];return g.length=_-r+n,c}})},a4b9:function(t,e,n){"use strict";var r=n("5db2");n.n(r).a},a4d3:function(t,e,n){"use strict";var r=n("23e7"),i=n("da84"),a=n("d066"),o=n("c430"),s=n("83ab"),u=n("4930"),l=n("fdbf"),c=n("d039"),h=n("5135"),f=n("e8b5"),d=n("861d"),p=n("825a"),m=n("7b0b"),g=n("fc6a"),_=n("c04e"),v=n("5c6c"),y=n("7c73"),b=n("df75"),x=n("241c"),w=n("057f"),T=n("7418"),S=n("06cf"),E=n("9bf2"),C=n("d1e7"),A=n("9112"),M=n("6eeb"),O=n("5692"),D=n("f772"),N=n("d012"),I=n("90e3"),P=n("b622"),L=n("e538"),R=n("746f"),k=n("d44e"),B=n("69f3"),F=n("b727").forEach,z=D("hidden"),j=P("toPrimitive"),U=B.set,H=B.getterFor("Symbol"),V=Object.prototype,G=i.Symbol,W=a("JSON","stringify"),$=S.f,X=E.f,q=w.f,Y=C.f,Z=O("symbols"),K=O("op-symbols"),J=O("string-to-symbol-registry"),Q=O("symbol-to-string-registry"),tt=O("wks"),et=i.QObject,nt=!et||!et.prototype||!et.prototype.findChild,rt=s&&c((function(){return 7!=y(X({},"a",{get:function(){return X(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=$(V,e);r&&delete V[e],X(t,e,n),r&&t!==V&&X(V,e,r)}:X,it=function(t,e){var n=Z[t]=y(G.prototype);return U(n,{type:"Symbol",tag:t,description:e}),s||(n.description=e),n},at=l?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof G},ot=function(t,e,n){t===V&&ot(K,e,n),p(t);var r=_(e,!0);return p(n),h(Z,r)?(n.enumerable?(h(t,z)&&t[z][r]&&(t[z][r]=!1),n=y(n,{enumerable:v(0,!1)})):(h(t,z)||X(t,z,v(1,{})),t[z][r]=!0),rt(t,r,n)):X(t,r,n)},st=function(t,e){p(t);var n=g(e),r=b(n).concat(ht(n));return F(r,(function(e){s&&!ut.call(n,e)||ot(t,e,n[e])})),t},ut=function(t){var e=_(t,!0),n=Y.call(this,e);return!(this===V&&h(Z,e)&&!h(K,e))&&(!(n||!h(this,e)||!h(Z,e)||h(this,z)&&this[z][e])||n)},lt=function(t,e){var n=g(t),r=_(e,!0);if(n!==V||!h(Z,r)||h(K,r)){var i=$(n,r);return!i||!h(Z,r)||h(n,z)&&n[z][r]||(i.enumerable=!0),i}},ct=function(t){var e=q(g(t)),n=[];return F(e,(function(t){h(Z,t)||h(N,t)||n.push(t)})),n},ht=function(t){var e=t===V,n=q(e?K:g(t)),r=[];return F(n,(function(t){!h(Z,t)||e&&!h(V,t)||r.push(Z[t])})),r};(u||(M((G=function(){if(this instanceof G)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=I(t),n=function(t){this===V&&n.call(K,t),h(this,z)&&h(this[z],e)&&(this[z][e]=!1),rt(this,e,v(1,t))};return s&&nt&&rt(V,e,{configurable:!0,set:n}),it(e,t)}).prototype,"toString",(function(){return H(this).tag})),M(G,"withoutSetter",(function(t){return it(I(t),t)})),C.f=ut,E.f=ot,S.f=lt,x.f=w.f=ct,T.f=ht,L.f=function(t){return it(P(t),t)},s&&(X(G.prototype,"description",{configurable:!0,get:function(){return H(this).description}}),o||M(V,"propertyIsEnumerable",ut,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:G}),F(b(tt),(function(t){R(t)})),r({target:"Symbol",stat:!0,forced:!u},{for:function(t){var e=String(t);if(h(J,e))return J[e];var n=G(e);return J[e]=n,Q[n]=e,n},keyFor:function(t){if(!at(t))throw TypeError(t+" is not a symbol");if(h(Q,t))return Q[t]},useSetter:function(){nt=!0},useSimple:function(){nt=!1}}),r({target:"Object",stat:!0,forced:!u,sham:!s},{create:function(t,e){return void 0===e?y(t):st(y(t),e)},defineProperty:ot,defineProperties:st,getOwnPropertyDescriptor:lt}),r({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:ct,getOwnPropertySymbols:ht}),r({target:"Object",stat:!0,forced:c((function(){T.f(1)}))},{getOwnPropertySymbols:function(t){return T.f(m(t))}}),W)&&r({target:"JSON",stat:!0,forced:!u||c((function(){var t=G();return"[null]"!=W([t])||"{}"!=W({a:t})||"{}"!=W(Object(t))}))},{stringify:function(t,e,n){for(var r,i=[t],a=1;arguments.length>a;)i.push(arguments[a++]);if(r=e,(d(e)||void 0!==t)&&!at(t))return f(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!at(e))return e}),i[1]=e,W.apply(null,i)}});G.prototype[j]||A(G.prototype,j,G.prototype.valueOf),k(G,"Symbol"),N[z]=!0},a623:function(t,e,n){"use strict";var r=n("23e7"),i=n("b727").every,a=n("a640"),o=n("ae40"),s=a("every"),u=o("every");r({target:"Array",proto:!0,forced:!s||!u},{every:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},a630:function(t,e,n){var r=n("23e7"),i=n("4df4");r({target:"Array",stat:!0,forced:!n("1c7e")((function(t){Array.from(t)}))},{from:i})},a640:function(t,e,n){"use strict";var r=n("d039");t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){throw 1},1)}))}},a691:function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},a6fd:function(t,e,n){var r=n("23e7"),i=n("d066"),a=n("1c0b"),o=n("825a"),s=n("d039"),u=i("Reflect","apply"),l=Function.apply;r({target:"Reflect",stat:!0,forced:!s((function(){u((function(){}))}))},{apply:function(t,e,n){return a(t),o(n),u?u(t,e,n):l.call(t,e,n)}})},a79d:function(t,e,n){"use strict";var r=n("23e7"),i=n("c430"),a=n("fea9"),o=n("d039"),s=n("d066"),u=n("4840"),l=n("cdf9"),c=n("6eeb");r({target:"Promise",proto:!0,real:!0,forced:!!a&&o((function(){a.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=u(this,s("Promise")),n="function"==typeof t;return this.then(n?function(n){return l(e,t()).then((function(){return n}))}:t,n?function(n){return l(e,t()).then((function(){throw n}))}:t)}}),i||"function"!=typeof a||a.prototype.finally||c(a.prototype,"finally",s("Promise").prototype.finally)},a874:function(t,e,n){var r=n("23e7"),i=n("145e"),a=n("44d2");r({target:"Array",proto:!0},{copyWithin:i}),a("copyWithin")},a925:function(t,e,n){"use strict";
/*!
 * vue-i18n v8.21.0 
 * (c) 2020 kazuya kawaguchi
 * Released under the MIT License.
 */var r=["style","currency","currencyDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","localeMatcher","formatMatcher","unit"];function i(t,e){"undefined"!=typeof console&&(console.warn("[vue-i18n] "+t),e&&console.warn(e.stack))}var a=Array.isArray;function o(t){return null!==t&&"object"==typeof t}function s(t){return"string"==typeof t}var u=Object.prototype.toString;function l(t){return"[object Object]"===u.call(t)}function c(t){return null==t}function h(t){return"function"==typeof t}function f(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=null,r=null;return 1===t.length?o(t[0])||a(t[0])?r=t[0]:"string"==typeof t[0]&&(n=t[0]):2===t.length&&("string"==typeof t[0]&&(n=t[0]),(o(t[1])||a(t[1]))&&(r=t[1])),{locale:n,params:r}}function d(t){return JSON.parse(JSON.stringify(t))}function p(t,e){return!!~t.indexOf(e)}var m=Object.prototype.hasOwnProperty;function g(t,e){return m.call(t,e)}function _(t){for(var e=arguments,n=Object(t),r=1;r<arguments.length;r++){var i=e[r];if(null!=i){var a=void 0;for(a in i)g(i,a)&&(o(i[a])?n[a]=_(n[a],i[a]):n[a]=i[a])}}return n}function v(t,e){if(t===e)return!0;var n=o(t),r=o(e);if(!n||!r)return!n&&!r&&String(t)===String(e);try{var i=a(t),s=a(e);if(i&&s)return t.length===e.length&&t.every((function(t,n){return v(t,e[n])}));if(i||s)return!1;var u=Object.keys(t),l=Object.keys(e);return u.length===l.length&&u.every((function(n){return v(t[n],e[n])}))}catch(t){return!1}}var y={beforeCreate:function(){var t=this.$options;if(t.i18n=t.i18n||(t.__i18n?{}:null),t.i18n)if(t.i18n instanceof q){if(t.__i18n)try{var e={};t.__i18n.forEach((function(t){e=_(e,JSON.parse(t))})),Object.keys(e).forEach((function(n){t.i18n.mergeLocaleMessage(n,e[n])}))}catch(t){0}this._i18n=t.i18n,this._i18nWatcher=this._i18n.watchI18nData()}else if(l(t.i18n)){var n=this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof q?this.$root.$i18n:null;if(n&&(t.i18n.root=this.$root,t.i18n.formatter=n.formatter,t.i18n.fallbackLocale=n.fallbackLocale,t.i18n.formatFallbackMessages=n.formatFallbackMessages,t.i18n.silentTranslationWarn=n.silentTranslationWarn,t.i18n.silentFallbackWarn=n.silentFallbackWarn,t.i18n.pluralizationRules=n.pluralizationRules,t.i18n.preserveDirectiveContent=n.preserveDirectiveContent),t.__i18n)try{var r={};t.__i18n.forEach((function(t){r=_(r,JSON.parse(t))})),t.i18n.messages=r}catch(t){0}var i=t.i18n.sharedMessages;i&&l(i)&&(t.i18n.messages=_(t.i18n.messages,i)),this._i18n=new q(t.i18n),this._i18nWatcher=this._i18n.watchI18nData(),(void 0===t.i18n.sync||t.i18n.sync)&&(this._localeWatcher=this.$i18n.watchLocale()),n&&n.onComponentInstanceCreated(this._i18n)}else 0;else this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof q?this._i18n=this.$root.$i18n:t.parent&&t.parent.$i18n&&t.parent.$i18n instanceof q&&(this._i18n=t.parent.$i18n)},beforeMount:function(){var t=this.$options;t.i18n=t.i18n||(t.__i18n?{}:null),t.i18n?(t.i18n instanceof q||l(t.i18n))&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0):(this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof q||t.parent&&t.parent.$i18n&&t.parent.$i18n instanceof q)&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0)},beforeDestroy:function(){if(this._i18n){var t=this;this.$nextTick((function(){t._subscribing&&(t._i18n.unsubscribeDataChanging(t),delete t._subscribing),t._i18nWatcher&&(t._i18nWatcher(),t._i18n.destroyVM(),delete t._i18nWatcher),t._localeWatcher&&(t._localeWatcher(),delete t._localeWatcher)}))}}},b={name:"i18n",functional:!0,props:{tag:{type:[String,Boolean,Object],default:"span"},path:{type:String,required:!0},locale:{type:String},places:{type:[Array,Object]}},render:function(t,e){var n=e.data,r=e.parent,i=e.props,a=e.slots,o=r.$i18n;if(o){var s=i.path,u=i.locale,l=i.places,c=a(),h=o.i(s,u,function(t){var e;for(e in t)if("default"!==e)return!1;return Boolean(e)}(c)||l?function(t,e){var n=e?function(t){0;return Array.isArray(t)?t.reduce(w,{}):Object.assign({},t)}(e):{};if(!t)return n;var r=(t=t.filter((function(t){return t.tag||""!==t.text.trim()}))).every(T);0;return t.reduce(r?x:w,n)}(c.default,l):c),f=i.tag&&!0!==i.tag||!1===i.tag?i.tag:"span";return f?t(f,n,h):h}}};function x(t,e){return e.data&&e.data.attrs&&e.data.attrs.place&&(t[e.data.attrs.place]=e),t}function w(t,e,n){return t[n]=e,t}function T(t){return Boolean(t.data&&t.data.attrs&&t.data.attrs.place)}var S,E={name:"i18n-n",functional:!0,props:{tag:{type:[String,Boolean,Object],default:"span"},value:{type:Number,required:!0},format:{type:[String,Object]},locale:{type:String}},render:function(t,e){var n=e.props,i=e.parent,a=e.data,u=i.$i18n;if(!u)return null;var l=null,c=null;s(n.format)?l=n.format:o(n.format)&&(n.format.key&&(l=n.format.key),c=Object.keys(n.format).reduce((function(t,e){var i;return p(r,e)?Object.assign({},t,((i={})[e]=n.format[e],i)):t}),null));var h=n.locale||u.locale,f=u._ntp(n.value,h,l,c),d=f.map((function(t,e){var n,r=a.scopedSlots&&a.scopedSlots[t.type];return r?r(((n={})[t.type]=t.value,n.index=e,n.parts=f,n)):t.value})),m=n.tag&&!0!==n.tag||!1===n.tag?n.tag:"span";return m?t(m,{attrs:a.attrs,class:a.class,staticClass:a.staticClass},d):d}};function C(t,e,n){O(t,n)&&D(t,e,n)}function A(t,e,n,r){if(O(t,n)){var i=n.context.$i18n;(function(t,e){var n=e.context;return t._locale===n.$i18n.locale})(t,n)&&v(e.value,e.oldValue)&&v(t._localeMessage,i.getLocaleMessage(i.locale))||D(t,e,n)}}function M(t,e,n,r){if(n.context){var a=n.context.$i18n||{};e.modifiers.preserve||a.preserveDirectiveContent||(t.textContent=""),t._vt=void 0,delete t._vt,t._locale=void 0,delete t._locale,t._localeMessage=void 0,delete t._localeMessage}else i("Vue instance does not exists in VNode context")}function O(t,e){var n=e.context;return n?!!n.$i18n||(i("VueI18n instance does not exists in Vue instance"),!1):(i("Vue instance does not exists in VNode context"),!1)}function D(t,e,n){var r,a,o=function(t){var e,n,r,i;s(t)?e=t:l(t)&&(e=t.path,n=t.locale,r=t.args,i=t.choice);return{path:e,locale:n,args:r,choice:i}}(e.value),u=o.path,c=o.locale,h=o.args,f=o.choice;if(u||c||h)if(u){var d=n.context;t._vt=t.textContent=null!=f?(r=d.$i18n).tc.apply(r,[u,f].concat(N(c,h))):(a=d.$i18n).t.apply(a,[u].concat(N(c,h))),t._locale=d.$i18n.locale,t._localeMessage=d.$i18n.getLocaleMessage(d.$i18n.locale)}else i("`path` is required in v-t directive");else i("value type not supported")}function N(t,e){var n=[];return t&&n.push(t),e&&(Array.isArray(e)||l(e))&&n.push(e),n}function I(t){I.installed=!0;(S=t).version&&Number(S.version.split(".")[0]);(function(t){t.prototype.hasOwnProperty("$i18n")||Object.defineProperty(t.prototype,"$i18n",{get:function(){return this._i18n}}),t.prototype.$t=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];var r=this.$i18n;return r._t.apply(r,[t,r.locale,r._getMessages(),this].concat(e))},t.prototype.$tc=function(t,e){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];var i=this.$i18n;return i._tc.apply(i,[t,i.locale,i._getMessages(),this,e].concat(n))},t.prototype.$te=function(t,e){var n=this.$i18n;return n._te(t,n.locale,n._getMessages(),e)},t.prototype.$d=function(t){for(var e,n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];return(e=this.$i18n).d.apply(e,[t].concat(n))},t.prototype.$n=function(t){for(var e,n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];return(e=this.$i18n).n.apply(e,[t].concat(n))}})(S),S.mixin(y),S.directive("t",{bind:C,update:A,unbind:M}),S.component(b.name,b),S.component(E.name,E),S.config.optionMergeStrategies.i18n=function(t,e){return void 0===e?t:e}}var P=function(){this._caches=Object.create(null)};P.prototype.interpolate=function(t,e){if(!e)return[t];var n=this._caches[t];return n||(n=function(t){var e=[],n=0,r="";for(;n<t.length;){var i=t[n++];if("{"===i){r&&e.push({type:"text",value:r}),r="";var a="";for(i=t[n++];void 0!==i&&"}"!==i;)a+=i,i=t[n++];var o="}"===i,s=L.test(a)?"list":o&&R.test(a)?"named":"unknown";e.push({value:a,type:s})}else"%"===i?"{"!==t[n]&&(r+=i):r+=i}return r&&e.push({type:"text",value:r}),e}(t),this._caches[t]=n),function(t,e){var n=[],r=0,i=Array.isArray(e)?"list":o(e)?"named":"unknown";if("unknown"===i)return n;for(;r<t.length;){var a=t[r];switch(a.type){case"text":n.push(a.value);break;case"list":n.push(e[parseInt(a.value,10)]);break;case"named":"named"===i&&n.push(e[a.value]);break;case"unknown":0}r++}return n}(n,e)};var L=/^(?:\d)+/,R=/^(?:\w)+/;var k=[];k[0]={ws:[0],ident:[3,0],"[":[4],eof:[7]},k[1]={ws:[1],".":[2],"[":[4],eof:[7]},k[2]={ws:[2],ident:[3,0],0:[3,0],number:[3,0]},k[3]={ident:[3,0],0:[3,0],number:[3,0],ws:[1,1],".":[2,1],"[":[4,1],eof:[7,1]},k[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],eof:8,else:[4,0]},k[5]={"'":[4,0],eof:8,else:[5,0]},k[6]={'"':[4,0],eof:8,else:[6,0]};var B=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function F(t){if(null==t)return"eof";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"ident";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return"ident"}function z(t){var e,n,r,i=t.trim();return("0"!==t.charAt(0)||!isNaN(t))&&(r=i,B.test(r)?(n=(e=i).charCodeAt(0))!==e.charCodeAt(e.length-1)||34!==n&&39!==n?e:e.slice(1,-1):"*"+i)}var j=function(){this._cache=Object.create(null)};j.prototype.parsePath=function(t){var e=this._cache[t];return e||(e=function(t){var e,n,r,i,a,o,s,u=[],l=-1,c=0,h=0,f=[];function d(){var e=t[l+1];if(5===c&&"'"===e||6===c&&'"'===e)return l++,r="\\"+e,f[0](),!0}for(f[1]=function(){void 0!==n&&(u.push(n),n=void 0)},f[0]=function(){void 0===n?n=r:n+=r},f[2]=function(){f[0](),h++},f[3]=function(){if(h>0)h--,c=4,f[0]();else{if(h=0,void 0===n)return!1;if(!1===(n=z(n)))return!1;f[1]()}};null!==c;)if(l++,"\\"!==(e=t[l])||!d()){if(i=F(e),8===(a=(s=k[c])[i]||s.else||8))return;if(c=a[0],(o=f[a[1]])&&(r=void 0===(r=a[2])?e:r,!1===o()))return;if(7===c)return u}}(t))&&(this._cache[t]=e),e||[]},j.prototype.getPathValue=function(t,e){if(!o(t))return null;var n=this.parsePath(e);if(0===n.length)return null;for(var r=n.length,i=t,a=0;a<r;){var s=i[n[a]];if(void 0===s)return null;i=s,a++}return i};var U,H=/<\/?[\w\s="/.':;#-\/]+>/,V=/(?:@(?:\.[a-z]+)?:(?:[\w\-_|.]+|\([\w\-_|.]+\)))/g,G=/^@(?:\.([a-z]+))?:/,W=/[()]/g,$={upper:function(t){return t.toLocaleUpperCase()},lower:function(t){return t.toLocaleLowerCase()},capitalize:function(t){return""+t.charAt(0).toLocaleUpperCase()+t.substr(1)}},X=new P,q=function(t){var e=this;void 0===t&&(t={}),!S&&"undefined"!=typeof window&&window.Vue&&I(window.Vue);var n=t.locale||"en-US",r=!1!==t.fallbackLocale&&(t.fallbackLocale||"en-US"),i=t.messages||{},a=t.dateTimeFormats||{},o=t.numberFormats||{};this._vm=null,this._formatter=t.formatter||X,this._modifiers=t.modifiers||{},this._missing=t.missing||null,this._root=t.root||null,this._sync=void 0===t.sync||!!t.sync,this._fallbackRoot=void 0===t.fallbackRoot||!!t.fallbackRoot,this._formatFallbackMessages=void 0!==t.formatFallbackMessages&&!!t.formatFallbackMessages,this._silentTranslationWarn=void 0!==t.silentTranslationWarn&&t.silentTranslationWarn,this._silentFallbackWarn=void 0!==t.silentFallbackWarn&&!!t.silentFallbackWarn,this._dateTimeFormatters={},this._numberFormatters={},this._path=new j,this._dataListeners=[],this._componentInstanceCreatedListener=t.componentInstanceCreatedListener||null,this._preserveDirectiveContent=void 0!==t.preserveDirectiveContent&&!!t.preserveDirectiveContent,this.pluralizationRules=t.pluralizationRules||{},this._warnHtmlInMessage=t.warnHtmlInMessage||"off",this._postTranslation=t.postTranslation||null,this.getChoiceIndex=function(t,n){var r=Object.getPrototypeOf(e);if(r&&r.getChoiceIndex)return r.getChoiceIndex.call(e,t,n);var i,a;return e.locale in e.pluralizationRules?e.pluralizationRules[e.locale].apply(e,[t,n]):(i=t,a=n,i=Math.abs(i),2===a?i?i>1?1:0:1:i?Math.min(i,2):0)},this._exist=function(t,n){return!(!t||!n)&&(!c(e._path.getPathValue(t,n))||!!t[n])},"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||Object.keys(i).forEach((function(t){e._checkLocaleMessage(t,e._warnHtmlInMessage,i[t])})),this._initVM({locale:n,fallbackLocale:r,messages:i,dateTimeFormats:a,numberFormats:o})},Y={vm:{configurable:!0},messages:{configurable:!0},dateTimeFormats:{configurable:!0},numberFormats:{configurable:!0},availableLocales:{configurable:!0},locale:{configurable:!0},fallbackLocale:{configurable:!0},formatFallbackMessages:{configurable:!0},missing:{configurable:!0},formatter:{configurable:!0},silentTranslationWarn:{configurable:!0},silentFallbackWarn:{configurable:!0},preserveDirectiveContent:{configurable:!0},warnHtmlInMessage:{configurable:!0},postTranslation:{configurable:!0}};q.prototype._checkLocaleMessage=function(t,e,n){var r=function(t,e,n,o){if(l(n))Object.keys(n).forEach((function(i){var a=n[i];l(a)?(o.push(i),o.push("."),r(t,e,a,o),o.pop(),o.pop()):(o.push(i),r(t,e,a,o),o.pop())}));else if(a(n))n.forEach((function(n,i){l(n)?(o.push("["+i+"]"),o.push("."),r(t,e,n,o),o.pop(),o.pop()):(o.push("["+i+"]"),r(t,e,n,o),o.pop())}));else if(s(n)){if(H.test(n)){var u="Detected HTML in message '"+n+"' of keypath '"+o.join("")+"' at '"+e+"'. Consider component interpolation with '<i18n>' to avoid XSS. See https://bit.ly/2ZqJzkp";"warn"===t?i(u):"error"===t&&function(t,e){"undefined"!=typeof console&&(console.error("[vue-i18n] "+t),e&&console.error(e.stack))}(u)}}};r(e,t,n,[])},q.prototype._initVM=function(t){var e=S.config.silent;S.config.silent=!0,this._vm=new S({data:t}),S.config.silent=e},q.prototype.destroyVM=function(){this._vm.$destroy()},q.prototype.subscribeDataChanging=function(t){this._dataListeners.push(t)},q.prototype.unsubscribeDataChanging=function(t){!function(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)t.splice(n,1)}}(this._dataListeners,t)},q.prototype.watchI18nData=function(){var t=this;return this._vm.$watch("$data",(function(){for(var e=t._dataListeners.length;e--;)S.nextTick((function(){t._dataListeners[e]&&t._dataListeners[e].$forceUpdate()}))}),{deep:!0})},q.prototype.watchLocale=function(){if(!this._sync||!this._root)return null;var t=this._vm;return this._root.$i18n.vm.$watch("locale",(function(e){t.$set(t,"locale",e),t.$forceUpdate()}),{immediate:!0})},q.prototype.onComponentInstanceCreated=function(t){this._componentInstanceCreatedListener&&this._componentInstanceCreatedListener(t,this)},Y.vm.get=function(){return this._vm},Y.messages.get=function(){return d(this._getMessages())},Y.dateTimeFormats.get=function(){return d(this._getDateTimeFormats())},Y.numberFormats.get=function(){return d(this._getNumberFormats())},Y.availableLocales.get=function(){return Object.keys(this.messages).sort()},Y.locale.get=function(){return this._vm.locale},Y.locale.set=function(t){this._vm.$set(this._vm,"locale",t)},Y.fallbackLocale.get=function(){return this._vm.fallbackLocale},Y.fallbackLocale.set=function(t){this._localeChainCache={},this._vm.$set(this._vm,"fallbackLocale",t)},Y.formatFallbackMessages.get=function(){return this._formatFallbackMessages},Y.formatFallbackMessages.set=function(t){this._formatFallbackMessages=t},Y.missing.get=function(){return this._missing},Y.missing.set=function(t){this._missing=t},Y.formatter.get=function(){return this._formatter},Y.formatter.set=function(t){this._formatter=t},Y.silentTranslationWarn.get=function(){return this._silentTranslationWarn},Y.silentTranslationWarn.set=function(t){this._silentTranslationWarn=t},Y.silentFallbackWarn.get=function(){return this._silentFallbackWarn},Y.silentFallbackWarn.set=function(t){this._silentFallbackWarn=t},Y.preserveDirectiveContent.get=function(){return this._preserveDirectiveContent},Y.preserveDirectiveContent.set=function(t){this._preserveDirectiveContent=t},Y.warnHtmlInMessage.get=function(){return this._warnHtmlInMessage},Y.warnHtmlInMessage.set=function(t){var e=this,n=this._warnHtmlInMessage;if(this._warnHtmlInMessage=t,n!==t&&("warn"===t||"error"===t)){var r=this._getMessages();Object.keys(r).forEach((function(t){e._checkLocaleMessage(t,e._warnHtmlInMessage,r[t])}))}},Y.postTranslation.get=function(){return this._postTranslation},Y.postTranslation.set=function(t){this._postTranslation=t},q.prototype._getMessages=function(){return this._vm.messages},q.prototype._getDateTimeFormats=function(){return this._vm.dateTimeFormats},q.prototype._getNumberFormats=function(){return this._vm.numberFormats},q.prototype._warnDefault=function(t,e,n,r,i,a){if(!c(n))return n;if(this._missing){var o=this._missing.apply(null,[t,e,r,i]);if(s(o))return o}else 0;if(this._formatFallbackMessages){var u=f.apply(void 0,i);return this._render(e,a,u.params,e)}return e},q.prototype._isFallbackRoot=function(t){return!t&&!c(this._root)&&this._fallbackRoot},q.prototype._isSilentFallbackWarn=function(t){return this._silentFallbackWarn instanceof RegExp?this._silentFallbackWarn.test(t):this._silentFallbackWarn},q.prototype._isSilentFallback=function(t,e){return this._isSilentFallbackWarn(e)&&(this._isFallbackRoot()||t!==this.fallbackLocale)},q.prototype._isSilentTranslationWarn=function(t){return this._silentTranslationWarn instanceof RegExp?this._silentTranslationWarn.test(t):this._silentTranslationWarn},q.prototype._interpolate=function(t,e,n,r,i,o,u){if(!e)return null;var f,d=this._path.getPathValue(e,n);if(a(d)||l(d))return d;if(c(d)){if(!l(e))return null;if(!s(f=e[n])&&!h(f))return null}else{if(!s(d)&&!h(d))return null;f=d}return s(f)&&(f.indexOf("@:")>=0||f.indexOf("@.")>=0)&&(f=this._link(t,e,f,r,"raw",o,u)),this._render(f,i,o,n)},q.prototype._link=function(t,e,n,r,i,o,s){var u=n,l=u.match(V);for(var c in l)if(l.hasOwnProperty(c)){var h=l[c],f=h.match(G),d=f[0],m=f[1],g=h.replace(d,"").replace(W,"");if(p(s,g))return u;s.push(g);var _=this._interpolate(t,e,g,r,"raw"===i?"string":i,"raw"===i?void 0:o,s);if(this._isFallbackRoot(_)){if(!this._root)throw Error("unexpected error");var v=this._root.$i18n;_=v._translate(v._getMessages(),v.locale,v.fallbackLocale,g,r,i,o)}_=this._warnDefault(t,g,_,r,a(o)?o:[o],i),this._modifiers.hasOwnProperty(m)?_=this._modifiers[m](_):$.hasOwnProperty(m)&&(_=$[m](_)),s.pop(),u=_?u.replace(h,_):u}return u},q.prototype._createMessageContext=function(t){var e=a(t)?t:[],n=o(t)?t:{};return{list:function(t){return e[t]},named:function(t){return n[t]}}},q.prototype._render=function(t,e,n,r){if(h(t))return t(this._createMessageContext(n));var i=this._formatter.interpolate(t,n,r);return i||(i=X.interpolate(t,n,r)),"string"!==e||s(i)?i:i.join("")},q.prototype._appendItemToChain=function(t,e,n){var r=!1;return p(t,e)||(r=!0,e&&(r="!"!==e[e.length-1],e=e.replace(/!/g,""),t.push(e),n&&n[e]&&(r=n[e]))),r},q.prototype._appendLocaleToChain=function(t,e,n){var r,i=e.split("-");do{var a=i.join("-");r=this._appendItemToChain(t,a,n),i.splice(-1,1)}while(i.length&&!0===r);return r},q.prototype._appendBlockToChain=function(t,e,n){for(var r=!0,i=0;i<e.length&&"boolean"==typeof r;i++){var a=e[i];s(a)&&(r=this._appendLocaleToChain(t,a,n))}return r},q.prototype._getLocaleChain=function(t,e){if(""===t)return[];this._localeChainCache||(this._localeChainCache={});var n=this._localeChainCache[t];if(!n){e||(e=this.fallbackLocale),n=[];for(var r,i=[t];a(i);)i=this._appendBlockToChain(n,i,e);(i=s(r=a(e)?e:o(e)?e.default?e.default:null:e)?[r]:r)&&this._appendBlockToChain(n,i,null),this._localeChainCache[t]=n}return n},q.prototype._translate=function(t,e,n,r,i,a,o){for(var s,u=this._getLocaleChain(e,n),l=0;l<u.length;l++){var h=u[l];if(!c(s=this._interpolate(h,t[h],r,i,a,o,[r])))return s}return null},q.prototype._t=function(t,e,n,r){for(var i,a=[],o=arguments.length-4;o-- >0;)a[o]=arguments[o+4];if(!t)return"";var s=f.apply(void 0,a),u=s.locale||e,l=this._translate(n,u,this.fallbackLocale,t,r,"string",s.params);if(this._isFallbackRoot(l)){if(!this._root)throw Error("unexpected error");return(i=this._root).$t.apply(i,[t].concat(a))}return l=this._warnDefault(u,t,l,r,a,"string"),this._postTranslation&&null!=l&&(l=this._postTranslation(l,t)),l},q.prototype.t=function(t){for(var e,n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];return(e=this)._t.apply(e,[t,this.locale,this._getMessages(),null].concat(n))},q.prototype._i=function(t,e,n,r,i){var a=this._translate(n,e,this.fallbackLocale,t,r,"raw",i);if(this._isFallbackRoot(a)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.i(t,e,i)}return this._warnDefault(e,t,a,r,[i],"raw")},q.prototype.i=function(t,e,n){return t?(s(e)||(e=this.locale),this._i(t,e,this._getMessages(),null,n)):""},q.prototype._tc=function(t,e,n,r,i){for(var a,o=[],s=arguments.length-5;s-- >0;)o[s]=arguments[s+5];if(!t)return"";void 0===i&&(i=1);var u={count:i,n:i},l=f.apply(void 0,o);return l.params=Object.assign(u,l.params),o=null===l.locale?[l.params]:[l.locale,l.params],this.fetchChoice((a=this)._t.apply(a,[t,e,n,r].concat(o)),i)},q.prototype.fetchChoice=function(t,e){if(!t&&!s(t))return null;var n=t.split("|");return n[e=this.getChoiceIndex(e,n.length)]?n[e].trim():t},q.prototype.tc=function(t,e){for(var n,r=[],i=arguments.length-2;i-- >0;)r[i]=arguments[i+2];return(n=this)._tc.apply(n,[t,this.locale,this._getMessages(),null,e].concat(r))},q.prototype._te=function(t,e,n){for(var r=[],i=arguments.length-3;i-- >0;)r[i]=arguments[i+3];var a=f.apply(void 0,r).locale||e;return this._exist(n[a],t)},q.prototype.te=function(t,e){return this._te(t,this.locale,this._getMessages(),e)},q.prototype.getLocaleMessage=function(t){return d(this._vm.messages[t]||{})},q.prototype.setLocaleMessage=function(t,e){"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||this._checkLocaleMessage(t,this._warnHtmlInMessage,e),this._vm.$set(this._vm.messages,t,e)},q.prototype.mergeLocaleMessage=function(t,e){"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||this._checkLocaleMessage(t,this._warnHtmlInMessage,e),this._vm.$set(this._vm.messages,t,_({},this._vm.messages[t]||{},e))},q.prototype.getDateTimeFormat=function(t){return d(this._vm.dateTimeFormats[t]||{})},q.prototype.setDateTimeFormat=function(t,e){this._vm.$set(this._vm.dateTimeFormats,t,e),this._clearDateTimeFormat(t,e)},q.prototype.mergeDateTimeFormat=function(t,e){this._vm.$set(this._vm.dateTimeFormats,t,_(this._vm.dateTimeFormats[t]||{},e)),this._clearDateTimeFormat(t,e)},q.prototype._clearDateTimeFormat=function(t,e){for(var n in e){var r=t+"__"+n;this._dateTimeFormatters.hasOwnProperty(r)&&delete this._dateTimeFormatters[r]}},q.prototype._localizeDateTime=function(t,e,n,r,i){for(var a=e,o=r[a],s=this._getLocaleChain(e,n),u=0;u<s.length;u++){var l=s[u];if(a=l,!c(o=r[l])&&!c(o[i]))break}if(c(o)||c(o[i]))return null;var h=o[i],f=a+"__"+i,d=this._dateTimeFormatters[f];return d||(d=this._dateTimeFormatters[f]=new Intl.DateTimeFormat(a,h)),d.format(t)},q.prototype._d=function(t,e,n){if(!n)return new Intl.DateTimeFormat(e).format(t);var r=this._localizeDateTime(t,e,this.fallbackLocale,this._getDateTimeFormats(),n);if(this._isFallbackRoot(r)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.d(t,n,e)}return r||""},q.prototype.d=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];var r=this.locale,i=null;return 1===e.length?s(e[0])?i=e[0]:o(e[0])&&(e[0].locale&&(r=e[0].locale),e[0].key&&(i=e[0].key)):2===e.length&&(s(e[0])&&(i=e[0]),s(e[1])&&(r=e[1])),this._d(t,r,i)},q.prototype.getNumberFormat=function(t){return d(this._vm.numberFormats[t]||{})},q.prototype.setNumberFormat=function(t,e){this._vm.$set(this._vm.numberFormats,t,e),this._clearNumberFormat(t,e)},q.prototype.mergeNumberFormat=function(t,e){this._vm.$set(this._vm.numberFormats,t,_(this._vm.numberFormats[t]||{},e)),this._clearNumberFormat(t,e)},q.prototype._clearNumberFormat=function(t,e){for(var n in e){var r=t+"__"+n;this._numberFormatters.hasOwnProperty(r)&&delete this._numberFormatters[r]}},q.prototype._getNumberFormatter=function(t,e,n,r,i,a){for(var o=e,s=r[o],u=this._getLocaleChain(e,n),l=0;l<u.length;l++){var h=u[l];if(o=h,!c(s=r[h])&&!c(s[i]))break}if(c(s)||c(s[i]))return null;var f,d=s[i];if(a)f=new Intl.NumberFormat(o,Object.assign({},d,a));else{var p=o+"__"+i;(f=this._numberFormatters[p])||(f=this._numberFormatters[p]=new Intl.NumberFormat(o,d))}return f},q.prototype._n=function(t,e,n,r){if(!q.availabilities.numberFormat)return"";if(!n)return(r?new Intl.NumberFormat(e,r):new Intl.NumberFormat(e)).format(t);var i=this._getNumberFormatter(t,e,this.fallbackLocale,this._getNumberFormats(),n,r),a=i&&i.format(t);if(this._isFallbackRoot(a)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.n(t,Object.assign({},{key:n,locale:e},r))}return a||""},q.prototype.n=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];var i=this.locale,a=null,u=null;return 1===e.length?s(e[0])?a=e[0]:o(e[0])&&(e[0].locale&&(i=e[0].locale),e[0].key&&(a=e[0].key),u=Object.keys(e[0]).reduce((function(t,n){var i;return p(r,n)?Object.assign({},t,((i={})[n]=e[0][n],i)):t}),null)):2===e.length&&(s(e[0])&&(a=e[0]),s(e[1])&&(i=e[1])),this._n(t,i,a,u)},q.prototype._ntp=function(t,e,n,r){if(!q.availabilities.numberFormat)return[];if(!n)return(r?new Intl.NumberFormat(e,r):new Intl.NumberFormat(e)).formatToParts(t);var i=this._getNumberFormatter(t,e,this.fallbackLocale,this._getNumberFormats(),n,r),a=i&&i.formatToParts(t);if(this._isFallbackRoot(a)){if(!this._root)throw Error("unexpected error");return this._root.$i18n._ntp(t,e,n,r)}return a||[]},Object.defineProperties(q.prototype,Y),Object.defineProperty(q,"availabilities",{get:function(){if(!U){var t="undefined"!=typeof Intl;U={dateTimeFormat:t&&void 0!==Intl.DateTimeFormat,numberFormat:t&&void 0!==Intl.NumberFormat}}return U}}),q.install=I,q.version="8.21.0",e.a=q},a92f:function(t,e,n){"use strict";var r=n("62e2");n.n(r).a},a975:function(t,e,n){"use strict";var r=n("ebb5"),i=n("b727").every,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("every",(function(t){return i(a(this),t,arguments.length>1?arguments[1]:void 0)}))},a981:function(t,e){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},a9e3:function(t,e,n){"use strict";var r=n("83ab"),i=n("da84"),a=n("94ca"),o=n("6eeb"),s=n("5135"),u=n("c6b6"),l=n("7156"),c=n("c04e"),h=n("d039"),f=n("7c73"),d=n("241c").f,p=n("06cf").f,m=n("9bf2").f,g=n("58a8").trim,_=i.Number,v=_.prototype,y="Number"==u(f(v)),b=function(t){var e,n,r,i,a,o,s,u,l=c(t,!1);if("string"==typeof l&&l.length>2)if(43===(e=(l=g(l)).charCodeAt(0))||45===e){if(88===(n=l.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+l}for(o=(a=l.slice(2)).length,s=0;s<o;s++)if((u=a.charCodeAt(s))<48||u>i)return NaN;return parseInt(a,r)}return+l};if(a("Number",!_(" 0o1")||!_("0b1")||_("+0x1"))){for(var x,w=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof w&&(y?h((function(){v.valueOf.call(n)})):"Number"!=u(n))?l(new _(b(e)),n,w):b(e)},T=r?d(_):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;T.length>S;S++)s(_,x=T[S])&&!s(w,x)&&m(w,x,p(_,x));w.prototype=v,v.constructor=w,o(i,"Number",w)}},ab13:function(t,e,n){var r=n("b622")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(t){}}return!1}},ac16:function(t,e,n){var r=n("23e7"),i=n("825a"),a=n("06cf").f;r({target:"Reflect",stat:!0},{deleteProperty:function(t,e){var n=a(i(t),e);return!(n&&!n.configurable)&&delete t[e]}})},ac1f:function(t,e,n){"use strict";var r=n("23e7"),i=n("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},acac:function(t,e,n){"use strict";var r=n("e2cc"),i=n("f183").getWeakData,a=n("825a"),o=n("861d"),s=n("19aa"),u=n("2266"),l=n("b727"),c=n("5135"),h=n("69f3"),f=h.set,d=h.getterFor,p=l.find,m=l.findIndex,g=0,_=function(t){return t.frozen||(t.frozen=new v)},v=function(){this.entries=[]},y=function(t,e){return p(t.entries,(function(t){return t[0]===e}))};v.prototype={get:function(t){var e=y(this,t);if(e)return e[1]},has:function(t){return!!y(this,t)},set:function(t,e){var n=y(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=m(this.entries,(function(e){return e[0]===t}));return~e&&this.entries.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,l){var h=t((function(t,r){s(t,h,e),f(t,{type:e,id:g++,frozen:void 0}),null!=r&&u(r,t[l],t,n)})),p=d(e),m=function(t,e,n){var r=p(t),o=i(a(e),!0);return!0===o?_(r).set(e,n):o[r.id]=n,t};return r(h.prototype,{delete:function(t){var e=p(this);if(!o(t))return!1;var n=i(t);return!0===n?_(e).delete(t):n&&c(n,e.id)&&delete n[e.id]},has:function(t){var e=p(this);if(!o(t))return!1;var n=i(t);return!0===n?_(e).has(t):n&&c(n,e.id)}}),r(h.prototype,n?{get:function(t){var e=p(this);if(o(t)){var n=i(t);return!0===n?_(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return m(this,t,e)}}:{add:function(t){return m(this,t,!0)}}),h}}},accc:function(t,e,n){var r=n("23e7"),i=n("64e5");r({target:"Date",proto:!0,forced:Date.prototype.toISOString!==i},{toISOString:i})},acd8:function(t,e,n){var r=n("23e7"),i=n("7e12");r({global:!0,forced:parseFloat!=i},{parseFloat:i})},ace4:function(t,e,n){"use strict";var r=n("23e7"),i=n("d039"),a=n("621a"),o=n("825a"),s=n("23cb"),u=n("50c4"),l=n("4840"),c=a.ArrayBuffer,h=a.DataView,f=c.prototype.slice;r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:i((function(){return!new c(2).slice(1,void 0).byteLength}))},{slice:function(t,e){if(void 0!==f&&void 0===e)return f.call(o(this),t);for(var n=o(this).byteLength,r=s(t,n),i=s(void 0===e?n:e,n),a=new(l(this,c))(u(i-r)),d=new h(this),p=new h(a),m=0;r<i;)p.setUint8(m++,d.getUint8(r++));return a}})},ad6d:function(t,e,n){"use strict";var r=n("825a");t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},ade3:function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return r}))},ae40:function(t,e,n){var r=n("83ab"),i=n("d039"),a=n("5135"),o=Object.defineProperty,s={},u=function(t){throw t};t.exports=function(t,e){if(a(s,t))return s[t];e||(e={});var n=[][t],l=!!a(e,"ACCESSORS")&&e.ACCESSORS,c=a(e,0)?e[0]:u,h=a(e,1)?e[1]:void 0;return s[t]=!!n&&!i((function(){if(l&&!r)return!0;var t={length:-1};l?o(t,1,{enumerable:!0,get:u}):t[1]=1,n.call(t,c,h)}))}},ae93:function(t,e,n){"use strict";var r,i,a,o=n("e163"),s=n("9112"),u=n("5135"),l=n("b622"),c=n("c430"),h=l("iterator"),f=!1;[].keys&&("next"in(a=[].keys())?(i=o(o(a)))!==Object.prototype&&(r=i):f=!0),null==r&&(r={}),c||u(r,h)||s(r,h,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:f}},af03:function(t,e,n){var r=n("d039");t.exports=function(t){return r((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},af93:function(t,e,n){var r=n("23e7"),i=n("861d"),a=n("f183").onFreeze,o=n("bb2f"),s=n("d039"),u=Object.seal;r({target:"Object",stat:!0,forced:s((function(){u(1)})),sham:!o},{seal:function(t){return u&&i(t)?u(a(t)):t}})},aff5:function(t,e,n){n("23e7")({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},b041:function(t,e,n){"use strict";var r=n("00ee"),i=n("f5df");t.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},b054:function(t,e,n){
/*!
 * vuex v3.5.1
 * (c) 2020 Evan You
 * @license MIT
 */
t.exports=function(){"use strict";function t(e,n){if(void 0===n&&(n=[]),null===e||"object"!=typeof e)return e;var r,i=(r=function(t){return t.original===e},n.filter(r)[0]);if(i)return i.copy;var a=Array.isArray(e)?[]:{};return n.push({original:e,copy:a}),Object.keys(e).forEach((function(r){a[r]=t(e[r],n)})),a}function e(t,e,n){var r=n?t.groupCollapsed:t.group;try{r.call(t,e)}catch(n){t.log(e)}}function n(t){try{t.groupEnd()}catch(e){t.log("—— log end ——")}}function r(){var t=new Date;return" @ "+i(t.getHours(),2)+":"+i(t.getMinutes(),2)+":"+i(t.getSeconds(),2)+"."+i(t.getMilliseconds(),3)}function i(t,e){return n="0",r=e-t.toString().length,new Array(r+1).join(n)+t;var n,r}return function(i){void 0===i&&(i={});var a=i.collapsed;void 0===a&&(a=!0);var o=i.filter;void 0===o&&(o=function(t,e,n){return!0});var s=i.transformer;void 0===s&&(s=function(t){return t});var u=i.mutationTransformer;void 0===u&&(u=function(t){return t});var l=i.actionFilter;void 0===l&&(l=function(t,e){return!0});var c=i.actionTransformer;void 0===c&&(c=function(t){return t});var h=i.logMutations;void 0===h&&(h=!0);var f=i.logActions;void 0===f&&(f=!0);var d=i.logger;return void 0===d&&(d=console),function(i){var p=t(i.state);void 0!==d&&(h&&i.subscribe((function(i,l){var c=t(l);if(o(i,p,c)){var h=r(),f=u(i),m="mutation "+i.type+h;e(d,m,a),d.log("%c prev state","color: #9E9E9E; font-weight: bold",s(p)),d.log("%c mutation","color: #03A9F4; font-weight: bold",f),d.log("%c next state","color: #4CAF50; font-weight: bold",s(c)),n(d)}p=c})),f&&i.subscribeAction((function(t,i){if(l(t,i)){var o=r(),s=c(t),u="action "+t.type+o;e(d,u,a),d.log("%c action","color: #03A9F4; font-weight: bold",s),n(d)}})))}}}()},b0c0:function(t,e,n){var r=n("83ab"),i=n("9bf2").f,a=Function.prototype,o=a.toString,s=/^\s*function ([^ (]*)/;r&&!("name"in a)&&i(a,"name",{configurable:!0,get:function(){try{return o.call(this).match(s)[1]}catch(t){return""}}})},b22e:function(t,e,n){var r,i,a;
/*!
 * jQuery Mousewheel 3.1.13
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 */i=[n("1157")],void 0===(a="function"==typeof(r=function(t){var e,n,r=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],i="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],a=Array.prototype.slice;if(t.event.fixHooks)for(var o=r.length;o;)t.event.fixHooks[r[--o]]=t.event.mouseHooks;var s=t.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var e=i.length;e;)this.addEventListener(i[--e],u,!1);else this.onmousewheel=u;t.data(this,"mousewheel-line-height",s.getLineHeight(this)),t.data(this,"mousewheel-page-height",s.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=i.length;e;)this.removeEventListener(i[--e],u,!1);else this.onmousewheel=null;t.removeData(this,"mousewheel-line-height"),t.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var n=t(e),r=n["offsetParent"in t.fn?"offsetParent":"parent"]();return r.length||(r=t("body")),parseInt(r.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(e){return t(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};function u(r){var i=r||window.event,o=a.call(arguments,1),u=0,h=0,f=0,d=0,p=0,m=0;if((r=t.event.fix(i)).type="mousewheel","detail"in i&&(f=-1*i.detail),"wheelDelta"in i&&(f=i.wheelDelta),"wheelDeltaY"in i&&(f=i.wheelDeltaY),"wheelDeltaX"in i&&(h=-1*i.wheelDeltaX),"axis"in i&&i.axis===i.HORIZONTAL_AXIS&&(h=-1*f,f=0),u=0===f?h:f,"deltaY"in i&&(u=f=-1*i.deltaY),"deltaX"in i&&(h=i.deltaX,0===f&&(u=-1*h)),0!==f||0!==h){if(1===i.deltaMode){var g=t.data(this,"mousewheel-line-height");u*=g,f*=g,h*=g}else if(2===i.deltaMode){var _=t.data(this,"mousewheel-page-height");u*=_,f*=_,h*=_}if(d=Math.max(Math.abs(f),Math.abs(h)),(!n||d<n)&&(n=d,c(i,d)&&(n/=40)),c(i,d)&&(u/=40,h/=40,f/=40),u=Math[u>=1?"floor":"ceil"](u/n),h=Math[h>=1?"floor":"ceil"](h/n),f=Math[f>=1?"floor":"ceil"](f/n),s.settings.normalizeOffset&&this.getBoundingClientRect){var v=this.getBoundingClientRect();p=r.clientX-v.left,m=r.clientY-v.top}return r.deltaX=h,r.deltaY=f,r.deltaFactor=n,r.offsetX=p,r.offsetY=m,r.deltaMode=0,o.unshift(r,u,h,f),e&&clearTimeout(e),e=setTimeout(l,200),(t.event.dispatch||t.event.handle).apply(this,o)}}function l(){n=null}function c(t,e){return s.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120==0}t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})})?r.apply(e,i):r)||(t.exports=a)},b313:function(t,e,n){"use strict";var r=String.prototype.replace,i=/%20/g;t.exports={default:"RFC3986",formatters:{RFC1738:function(t){return r.call(t,i,"+")},RFC3986:function(t){return t}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},b367:function(t,e,n){var r=n("5524"),i=n("ef08"),a=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n("e444")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},b383:function(t,e,n){"use strict";e.decode=e.parse=n("91dd"),e.encode=e.stringify=n("e099")},b39a:function(t,e,n){"use strict";var r=n("da84"),i=n("ebb5"),a=n("d039"),o=r.Int8Array,s=i.aTypedArray,u=i.exportTypedArrayMethod,l=[].toLocaleString,c=[].slice,h=!!o&&a((function(){l.call(new o(1))}));u("toLocaleString",(function(){return l.apply(h?c.call(s(this)):s(this),arguments)}),a((function(){return[1,2].toLocaleString()!=new o([1,2]).toLocaleString()}))||!a((function(){o.prototype.toLocaleString.call([1,2])})))},b420:function(t,e,n){var r=n("23e7"),i=n("621a");r({global:!0,forced:!n("a981")},{DataView:i.DataView})},b50d:function(t,e,n){"use strict";var r=n("c532"),i=n("467f"),a=n("30b5"),o=n("83b9"),s=n("c345"),u=n("3934"),l=n("2d83");t.exports=function(t){return new Promise((function(e,c){var h=t.data,f=t.headers;r.isFormData(h)&&delete f["Content-Type"];var d=new XMLHttpRequest;if(t.auth){var p=t.auth.username||"",m=t.auth.password||"";f.Authorization="Basic "+btoa(p+":"+m)}var g=o(t.baseURL,t.url);if(d.open(t.method.toUpperCase(),a(g,t.params,t.paramsSerializer),!0),d.timeout=t.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in d?s(d.getAllResponseHeaders()):null,r={data:t.responseType&&"text"!==t.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:n,config:t,request:d};i(e,c,r),d=null}},d.onabort=function(){d&&(c(l("Request aborted",t,"ECONNABORTED",d)),d=null)},d.onerror=function(){c(l("Network Error",t,null,d)),d=null},d.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),c(l(e,t,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var _=n("7aac"),v=(t.withCredentials||u(g))&&t.xsrfCookieName?_.read(t.xsrfCookieName):void 0;v&&(f[t.xsrfHeaderName]=v)}if("setRequestHeader"in d&&r.forEach(f,(function(t,e){void 0===h&&"content-type"===e.toLowerCase()?delete f[e]:d.setRequestHeader(e,t)})),r.isUndefined(t.withCredentials)||(d.withCredentials=!!t.withCredentials),t.responseType)try{d.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&d.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){d&&(d.abort(),c(t),d=null)})),void 0===h&&(h=null),d.send(h)}))}},b56e:function(t,e,n){"use strict";var r=n("861d"),i=n("9bf2"),a=n("e163"),o=n("b622")("hasInstance"),s=Function.prototype;o in s||i.f(s,o,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;for(;t=a(t);)if(this.prototype===t)return!0;return!1}})},b575:function(t,e,n){var r,i,a,o,s,u,l,c,h=n("da84"),f=n("06cf").f,d=n("c6b6"),p=n("2cf49").set,m=n("1cdc"),g=h.MutationObserver||h.WebKitMutationObserver,_=h.process,v=h.Promise,y="process"==d(_),b=f(h,"queueMicrotask"),x=b&&b.value;x||(r=function(){var t,e;for(y&&(t=_.domain)&&t.exit();i;){e=i.fn,i=i.next;try{e()}catch(t){throw i?o():a=void 0,t}}a=void 0,t&&t.enter()},y?o=function(){_.nextTick(r)}:g&&!m?(s=!0,u=document.createTextNode(""),new g(r).observe(u,{characterData:!0}),o=function(){u.data=s=!s}):v&&v.resolve?(l=v.resolve(void 0),c=l.then,o=function(){c.call(l,r)}):o=function(){p.call(h,r)}),t.exports=x||function(t){var e={fn:t,next:void 0};a&&(a.next=e),i||(i=e,o()),a=e}},b622:function(t,e,n){var r=n("da84"),i=n("5692"),a=n("5135"),o=n("90e3"),s=n("4930"),u=n("fdbf"),l=i("wks"),c=r.Symbol,h=u?c:c&&c.withoutSetter||o;t.exports=function(t){return a(l,t)||(s&&a(c,t)?l[t]=c[t]:l[t]=h("Symbol."+t)),l[t]}},b636:function(t,e,n){n("746f")("asyncIterator")},b64b:function(t,e,n){var r=n("23e7"),i=n("7b0b"),a=n("df75");r({target:"Object",stat:!0,forced:n("d039")((function(){a(1)}))},{keys:function(t){return a(i(t))}})},b65f:function(t,e,n){var r=n("23e7"),i=Math.ceil,a=Math.floor;r({target:"Math",stat:!0},{trunc:function(t){return(t>0?a:i)(t)}})},b680:function(t,e,n){"use strict";var r=n("23e7"),i=n("a691"),a=n("408a"),o=n("1148"),s=n("d039"),u=1..toFixed,l=Math.floor,c=function(t,e,n){return 0===e?n:e%2==1?c(t,e-1,n*t):c(t*t,e/2,n)};r({target:"Number",proto:!0,forced:u&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){u.call({})}))},{toFixed:function(t){var e,n,r,s,u=a(this),h=i(t),f=[0,0,0,0,0,0],d="",p="0",m=function(t,e){for(var n=-1,r=e;++n<6;)r+=t*f[n],f[n]=r%1e7,r=l(r/1e7)},g=function(t){for(var e=6,n=0;--e>=0;)n+=f[e],f[e]=l(n/t),n=n%t*1e7},_=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==f[t]){var n=String(f[t]);e=""===e?n:e+o.call("0",7-n.length)+n}return e};if(h<0||h>20)throw RangeError("Incorrect fraction digits");if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(d="-",u=-u),u>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(u*c(2,69,1))-69)<0?u*c(2,-e,1):u/c(2,e,1),n*=4503599627370496,(e=52-e)>0){for(m(0,n),r=h;r>=7;)m(1e7,0),r-=7;for(m(c(10,r,1),0),r=e-1;r>=23;)g(1<<23),r-=23;g(1<<r),m(1,1),g(2),p=_()}else m(0,n),m(1<<-e,0),p=_()+o.call("0",h);return p=h>0?d+((s=p.length)<=h?"0."+o.call("0",h-s)+p:p.slice(0,s-h)+"."+p.slice(s-h)):d+p}})},b6ca:function(t,e,n){},b727:function(t,e,n){var r=n("0366"),i=n("44ad"),a=n("7b0b"),o=n("50c4"),s=n("65f0"),u=[].push,l=function(t){var e=1==t,n=2==t,l=3==t,c=4==t,h=6==t,f=5==t||h;return function(d,p,m,g){for(var _,v,y=a(d),b=i(y),x=r(p,m,3),w=o(b.length),T=0,S=g||s,E=e?S(d,w):n?S(d,0):void 0;w>T;T++)if((f||T in b)&&(v=x(_=b[T],T,y),t))if(e)E[T]=v;else if(v)switch(t){case 3:return!0;case 5:return _;case 6:return T;case 2:u.call(E,_)}else if(c)return!1;return h?-1:l||c?c:E}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},b85c:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n("a4d3"),n("e01a"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0"),n("e260");var r=n("06c5");function i(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Object(r.a)(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}},b8b7:function(t,e,n){var r,i,a;i=[n("1157")],void 0===(a="function"==typeof(r=function(t){function e(e){var o=e||window.event,s=u.call(arguments,1),l=0,h=0,f=0,d=0,p=0,m=0;if((e=t.event.fix(o)).type="mousewheel","detail"in o&&(f=-1*o.detail),"wheelDelta"in o&&(f=o.wheelDelta),"wheelDeltaY"in o&&(f=o.wheelDeltaY),"wheelDeltaX"in o&&(h=-1*o.wheelDeltaX),"axis"in o&&o.axis===o.HORIZONTAL_AXIS&&(h=-1*f,f=0),l=0===f?h:f,"deltaY"in o&&(l=f=-1*o.deltaY),"deltaX"in o&&(h=o.deltaX,0===f&&(l=-1*h)),0!==f||0!==h){if(1===o.deltaMode){var g=t.data(this,"mousewheel-line-height");l*=g,f*=g,h*=g}else if(2===o.deltaMode){var _=t.data(this,"mousewheel-page-height");l*=_,f*=_,h*=_}if(d=Math.max(Math.abs(f),Math.abs(h)),(!a||a>d)&&(a=d,r(o,d)&&(a/=40)),r(o,d)&&(l/=40,h/=40,f/=40),l=Math[l>=1?"floor":"ceil"](l/a),h=Math[h>=1?"floor":"ceil"](h/a),f=Math[f>=1?"floor":"ceil"](f/a),c.settings.normalizeOffset&&this.getBoundingClientRect){var v=this.getBoundingClientRect();p=e.clientX-v.left,m=e.clientY-v.top}return e.deltaX=h,e.deltaY=f,e.deltaFactor=a,e.offsetX=p,e.offsetY=m,e.deltaMode=0,s.unshift(e,l,h,f),i&&clearTimeout(i),i=setTimeout(n,200),(t.event.dispatch||t.event.handle).apply(this,s)}}function n(){a=null}function r(t,e){return c.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120==0}var i,a,o=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],u=Array.prototype.slice;if(t.event.fixHooks)for(var l=o.length;l;)t.event.fixHooks[o[--l]]=t.event.mouseHooks;var c=t.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=s.length;n;)this.addEventListener(s[--n],e,!1);else this.onmousewheel=e;t.data(this,"mousewheel-line-height",c.getLineHeight(this)),t.data(this,"mousewheel-page-height",c.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=s.length;n;)this.removeEventListener(s[--n],e,!1);else this.onmousewheel=null;t.removeData(this,"mousewheel-line-height"),t.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var n=t(e),r=n["offsetParent"in t.fn?"offsetParent":"parent"]();return r.length||(r=t("body")),parseInt(r.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(e){return t(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})})?r.apply(e,i):r)||(t.exports=a),i=[n("1157")],void 0===(a="function"==typeof(r=function(t){function e(e){var o=e||window.event,s=u.call(arguments,1),l=0,h=0,f=0,d=0,p=0,m=0;if((e=t.event.fix(o)).type="mousewheel","detail"in o&&(f=-1*o.detail),"wheelDelta"in o&&(f=o.wheelDelta),"wheelDeltaY"in o&&(f=o.wheelDeltaY),"wheelDeltaX"in o&&(h=-1*o.wheelDeltaX),"axis"in o&&o.axis===o.HORIZONTAL_AXIS&&(h=-1*f,f=0),l=0===f?h:f,"deltaY"in o&&(l=f=-1*o.deltaY),"deltaX"in o&&(h=o.deltaX,0===f&&(l=-1*h)),0!==f||0!==h){if(1===o.deltaMode){var g=t.data(this,"mousewheel-line-height");l*=g,f*=g,h*=g}else if(2===o.deltaMode){var _=t.data(this,"mousewheel-page-height");l*=_,f*=_,h*=_}if(d=Math.max(Math.abs(f),Math.abs(h)),(!a||a>d)&&(a=d,r(o,d)&&(a/=40)),r(o,d)&&(l/=40,h/=40,f/=40),l=Math[l>=1?"floor":"ceil"](l/a),h=Math[h>=1?"floor":"ceil"](h/a),f=Math[f>=1?"floor":"ceil"](f/a),c.settings.normalizeOffset&&this.getBoundingClientRect){var v=this.getBoundingClientRect();p=e.clientX-v.left,m=e.clientY-v.top}return e.deltaX=h,e.deltaY=f,e.deltaFactor=a,e.offsetX=p,e.offsetY=m,e.deltaMode=0,s.unshift(e,l,h,f),i&&clearTimeout(i),i=setTimeout(n,200),(t.event.dispatch||t.event.handle).apply(this,s)}}function n(){a=null}function r(t,e){return c.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120==0}var i,a,o=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],u=Array.prototype.slice;if(t.event.fixHooks)for(var l=o.length;l;)t.event.fixHooks[o[--l]]=t.event.mouseHooks;var c=t.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=s.length;n;)this.addEventListener(s[--n],e,!1);else this.onmousewheel=e;t.data(this,"mousewheel-line-height",c.getLineHeight(this)),t.data(this,"mousewheel-page-height",c.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=s.length;n;)this.removeEventListener(s[--n],e,!1);else this.onmousewheel=null;t.removeData(this,"mousewheel-line-height"),t.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var n=t(e),r=n["offsetParent"in t.fn?"offsetParent":"parent"]();return r.length||(r=t("body")),parseInt(r.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(e){return t(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})})?r.apply(e,i):r)||(t.exports=a),i=[n("1157")],void 0===(a="function"==typeof(r=function(e){var r,i,a;r=n("3c35"),i=t.exports,a="https:"==document.location.protocol?"https:":"http:",r||(i?n("b22e")(e):e.event.special.mousewheel||e("head").append(decodeURI("%3Cscript src="+a+"//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js%3E%3C/script%3E"))),function(){var t,n="mCustomScrollbar",r="mCS",i=".mCustomScrollbar",a={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},o=0,s={},u=window.attachEvent&&!window.addEventListener?1:0,l=!1,c=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],h={init:function(t){t=e.extend(!0,{},a,t);var n=f.call(this);if(t.live){var u=t.liveSelector||this.selector||i,l=e(u);if("off"===t.live)return void p(u);s[u]=setTimeout((function(){l.mCustomScrollbar(t),"once"===t.live&&l.length&&p(u)}),500)}else p(u);return t.setWidth=t.set_width?t.set_width:t.setWidth,t.setHeight=t.set_height?t.set_height:t.setHeight,t.axis=t.horizontalScroll?"x":m(t.axis),t.scrollInertia=t.scrollInertia>0&&t.scrollInertia<17?17:t.scrollInertia,"object"!=typeof t.mouseWheel&&1==t.mouseWheel&&(t.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),t.mouseWheel.scrollAmount=t.mouseWheelPixels?t.mouseWheelPixels:t.mouseWheel.scrollAmount,t.mouseWheel.normalizeDelta=t.advanced.normalizeMouseWheelDelta?t.advanced.normalizeMouseWheelDelta:t.mouseWheel.normalizeDelta,t.scrollButtons.scrollType=g(t.scrollButtons.scrollType),d(t),e(n).each((function(){var n=e(this);if(!n.data(r)){n.data(r,{idx:++o,opt:t,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:n.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var i=n.data(r),a=i.opt,s=n.data("mcs-axis"),u=n.data("mcs-scrollbar-position"),l=n.data("mcs-theme");s&&(a.axis=s),u&&(a.scrollbarPosition=u),l&&(a.theme=l,d(a)),_.call(this),i&&a.callbacks.onCreate&&"function"==typeof a.callbacks.onCreate&&a.callbacks.onCreate.call(this),e("#mCSB_"+i.idx+"_container img:not(."+c[2]+")").addClass(c[2]),h.update.call(null,n)}}))},update:function(t,n){var i=t||f.call(this);return e(i).each((function(){var t=e(this);if(t.data(r)){var i=t.data(r),a=i.opt,o=e("#mCSB_"+i.idx+"_container"),s=e("#mCSB_"+i.idx),u=[e("#mCSB_"+i.idx+"_dragger_vertical"),e("#mCSB_"+i.idx+"_dragger_horizontal")];if(!o.length)return;i.tweenRunning&&X(t),n&&i&&a.callbacks.onBeforeUpdate&&"function"==typeof a.callbacks.onBeforeUpdate&&a.callbacks.onBeforeUpdate.call(this),t.hasClass(c[3])&&t.removeClass(c[3]),t.hasClass(c[4])&&t.removeClass(c[4]),s.css("max-height","none"),s.height()!==t.height()&&s.css("max-height",t.height()),y.call(this),"y"===a.axis||a.advanced.autoExpandHorizontalScroll||o.css("width",v(o)),i.overflowed=S.call(this),M.call(this),a.autoDraggerLength&&x.call(this),w.call(this),C.call(this);var l=[Math.abs(o[0].offsetTop),Math.abs(o[0].offsetLeft)];"x"!==a.axis&&(i.overflowed[0]?u[0].height()>u[0].parent().height()?E.call(this):(q(t,l[0].toString(),{dir:"y",dur:0,overwrite:"none"}),i.contentReset.y=null):(E.call(this),"y"===a.axis?A.call(this):"yx"===a.axis&&i.overflowed[1]&&q(t,l[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==a.axis&&(i.overflowed[1]?u[1].width()>u[1].parent().width()?E.call(this):(q(t,l[1].toString(),{dir:"x",dur:0,overwrite:"none"}),i.contentReset.x=null):(E.call(this),"x"===a.axis?A.call(this):"yx"===a.axis&&i.overflowed[0]&&q(t,l[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),n&&i&&(2===n&&a.callbacks.onImageLoad&&"function"==typeof a.callbacks.onImageLoad?a.callbacks.onImageLoad.call(this):3===n&&a.callbacks.onSelectorChange&&"function"==typeof a.callbacks.onSelectorChange?a.callbacks.onSelectorChange.call(this):a.callbacks.onUpdate&&"function"==typeof a.callbacks.onUpdate&&a.callbacks.onUpdate.call(this)),$.call(this)}}))},scrollTo:function(t,n){if(void 0!==t&&null!=t){var i=f.call(this);return e(i).each((function(){var i=e(this);if(i.data(r)){var a=i.data(r),o=a.opt,s={trigger:"external",scrollInertia:o.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},u=e.extend(!0,{},s,n),l=G.call(this,t),c=u.scrollInertia>0&&u.scrollInertia<17?17:u.scrollInertia;l[0]=W.call(this,l[0],"y"),l[1]=W.call(this,l[1],"x"),u.moveDragger&&(l[0]*=a.scrollRatio.y,l[1]*=a.scrollRatio.x),u.dur=rt()?0:c,setTimeout((function(){null!==l[0]&&void 0!==l[0]&&"x"!==o.axis&&a.overflowed[0]&&(u.dir="y",u.overwrite="all",q(i,l[0].toString(),u)),null!==l[1]&&void 0!==l[1]&&"y"!==o.axis&&a.overflowed[1]&&(u.dir="x",u.overwrite="none",q(i,l[1].toString(),u))}),u.timeout)}}))}},stop:function(){var t=f.call(this);return e(t).each((function(){var t=e(this);t.data(r)&&X(t)}))},disable:function(t){var n=f.call(this);return e(n).each((function(){var n=e(this);n.data(r)&&(n.data(r),$.call(this,"remove"),A.call(this),t&&E.call(this),M.call(this,!0),n.addClass(c[3]))}))},destroy:function(){var t=f.call(this);return e(t).each((function(){var i=e(this);if(i.data(r)){var a=i.data(r),o=a.opt,s=e("#mCSB_"+a.idx),u=e("#mCSB_"+a.idx+"_container"),l=e(".mCSB_"+a.idx+"_scrollbar");o.live&&p(o.liveSelector||e(t).selector),$.call(this,"remove"),A.call(this),E.call(this),i.removeData(r),J(this,"mcs"),l.remove(),u.find("img."+c[2]).removeClass(c[2]),s.replaceWith(u.contents()),i.removeClass(n+" _mCS_"+a.idx+" "+c[6]+" "+c[7]+" "+c[5]+" "+c[3]).addClass(c[4])}}))}},f=function(){return"object"!=typeof e(this)||e(this).length<1?i:this},d=function(t){t.autoDraggerLength=!(e.inArray(t.theme,["rounded","rounded-dark","rounded-dots","rounded-dots-dark"])>-1)&&t.autoDraggerLength,t.autoExpandScrollbar=!(e.inArray(t.theme,["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"])>-1)&&t.autoExpandScrollbar,t.scrollButtons.enable=!(e.inArray(t.theme,["minimal","minimal-dark"])>-1)&&t.scrollButtons.enable,t.autoHideScrollbar=e.inArray(t.theme,["minimal","minimal-dark"])>-1||t.autoHideScrollbar,t.scrollbarPosition=e.inArray(t.theme,["minimal","minimal-dark"])>-1?"outside":t.scrollbarPosition},p=function(t){s[t]&&(clearTimeout(s[t]),J(s,t))},m=function(t){return"yx"===t||"xy"===t||"auto"===t?"yx":"x"===t||"horizontal"===t?"x":"y"},g=function(t){return"stepped"===t||"pixels"===t||"step"===t||"click"===t?"stepped":"stepless"},_=function(){var t=e(this),i=t.data(r),a=i.opt,o=a.autoExpandScrollbar?" "+c[1]+"_expand":"",s=["<div id='mCSB_"+i.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+i.idx+"_scrollbar mCS-"+a.theme+" mCSB_scrollTools_vertical"+o+"'><div class='"+c[12]+"'><div id='mCSB_"+i.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+i.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+i.idx+"_scrollbar mCS-"+a.theme+" mCSB_scrollTools_horizontal"+o+"'><div class='"+c[12]+"'><div id='mCSB_"+i.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],u="yx"===a.axis?"mCSB_vertical_horizontal":"x"===a.axis?"mCSB_horizontal":"mCSB_vertical",l="yx"===a.axis?s[0]+s[1]:"x"===a.axis?s[1]:s[0],h="yx"===a.axis?"<div id='mCSB_"+i.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",f=a.autoHideScrollbar?" "+c[6]:"",d="x"!==a.axis&&"rtl"===i.langDir?" "+c[7]:"";a.setWidth&&t.css("width",a.setWidth),a.setHeight&&t.css("height",a.setHeight),a.setLeft="y"!==a.axis&&"rtl"===i.langDir?"989999px":a.setLeft,t.addClass(n+" _mCS_"+i.idx+f+d).wrapInner("<div id='mCSB_"+i.idx+"' class='mCustomScrollBox mCS-"+a.theme+" "+u+"'><div id='mCSB_"+i.idx+"_container' class='mCSB_container' style='position:relative; top:"+a.setTop+"; left:"+a.setLeft+";' dir='"+i.langDir+"' /></div>");var p=e("#mCSB_"+i.idx),m=e("#mCSB_"+i.idx+"_container");"y"===a.axis||a.advanced.autoExpandHorizontalScroll||m.css("width",v(m)),"outside"===a.scrollbarPosition?("static"===t.css("position")&&t.css("position","relative"),t.css("overflow","visible"),p.addClass("mCSB_outside").after(l)):(p.addClass("mCSB_inside").append(l),m.wrap(h)),b.call(this);var g=[e("#mCSB_"+i.idx+"_dragger_vertical"),e("#mCSB_"+i.idx+"_dragger_horizontal")];g[0].css("min-height",g[0].height()),g[1].css("min-width",g[1].width())},v=function(t){var n=[t[0].scrollWidth,Math.max.apply(Math,t.children().map((function(){return e(this).outerWidth(!0)})).get())],r=t.parent().width();return n[0]>r?n[0]:n[1]>r?n[1]:"100%"},y=function(){var t=e(this).data(r),n=t.opt,i=e("#mCSB_"+t.idx+"_container");if(n.advanced.autoExpandHorizontalScroll&&"y"!==n.axis){i.css({width:"auto","min-width":0,"overflow-x":"scroll"});var a=Math.ceil(i[0].scrollWidth);3===n.advanced.autoExpandHorizontalScroll||2!==n.advanced.autoExpandHorizontalScroll&&a>i.parent().width()?i.css({width:a,"min-width":"100%","overflow-x":"inherit"}):i.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(i[0].getBoundingClientRect().right+.4)-Math.floor(i[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap()}},b=function(){var t=e(this).data(r),n=t.opt,i=e(".mCSB_"+t.idx+"_scrollbar:first"),a=et(n.scrollButtons.tabindex)?"tabindex='"+n.scrollButtons.tabindex+"'":"",o=["<a href='#' class='"+c[13]+"' "+a+" />","<a href='#' class='"+c[14]+"' "+a+" />","<a href='#' class='"+c[15]+"' "+a+" />","<a href='#' class='"+c[16]+"' "+a+" />"],s=["x"===n.axis?o[2]:o[0],"x"===n.axis?o[3]:o[1],o[2],o[3]];n.scrollButtons.enable&&i.prepend(s[0]).append(s[1]).next(".mCSB_scrollTools").prepend(s[2]).append(s[3])},x=function(){var t=e(this).data(r),n=e("#mCSB_"+t.idx),i=e("#mCSB_"+t.idx+"_container"),a=[e("#mCSB_"+t.idx+"_dragger_vertical"),e("#mCSB_"+t.idx+"_dragger_horizontal")],o=[n.height()/i.outerHeight(!1),n.width()/i.outerWidth(!1)],s=[parseInt(a[0].css("min-height")),Math.round(o[0]*a[0].parent().height()),parseInt(a[1].css("min-width")),Math.round(o[1]*a[1].parent().width())],l=u&&s[1]<s[0]?s[0]:s[1],c=u&&s[3]<s[2]?s[2]:s[3];a[0].css({height:l,"max-height":a[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":s[0]+"px"}),a[1].css({width:c,"max-width":a[1].parent().width()-10})},w=function(){var t=e(this).data(r),n=e("#mCSB_"+t.idx),i=e("#mCSB_"+t.idx+"_container"),a=[e("#mCSB_"+t.idx+"_dragger_vertical"),e("#mCSB_"+t.idx+"_dragger_horizontal")],o=[i.outerHeight(!1)-n.height(),i.outerWidth(!1)-n.width()],s=[o[0]/(a[0].parent().height()-a[0].height()),o[1]/(a[1].parent().width()-a[1].width())];t.scrollRatio={y:s[0],x:s[1]}},T=function(t,e,n){var r=n?c[0]+"_expanded":"",i=t.closest(".mCSB_scrollTools");"active"===e?(t.toggleClass(c[0]+" "+r),i.toggleClass(c[1]),t[0]._draggable=t[0]._draggable?0:1):t[0]._draggable||("hide"===e?(t.removeClass(c[0]),i.removeClass(c[1])):(t.addClass(c[0]),i.addClass(c[1])))},S=function(){var t=e(this).data(r),n=e("#mCSB_"+t.idx),i=e("#mCSB_"+t.idx+"_container"),a=null==t.overflowed?i.height():i.outerHeight(!1),o=null==t.overflowed?i.width():i.outerWidth(!1),s=i[0].scrollHeight,u=i[0].scrollWidth;return s>a&&(a=s),u>o&&(o=u),[a>n.height(),o>n.width()]},E=function(){var t=e(this),n=t.data(r),i=n.opt,a=e("#mCSB_"+n.idx),o=e("#mCSB_"+n.idx+"_container"),s=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")];if(X(t),("x"!==i.axis&&!n.overflowed[0]||"y"===i.axis&&n.overflowed[0])&&(s[0].add(o).css("top",0),q(t,"_resetY")),"y"!==i.axis&&!n.overflowed[1]||"x"===i.axis&&n.overflowed[1]){var u=dx=0;"rtl"===n.langDir&&(u=a.width()-o.outerWidth(!1),dx=Math.abs(u/n.scrollRatio.x)),o.css("left",u),s[1].css("left",dx),q(t,"_resetX")}},C=function(){var t,n=e(this),i=n.data(r),a=i.opt;i.bindEvents||(D.call(this),a.contentTouchScroll&&N.call(this),I.call(this),a.mouseWheel.enable&&function r(){t=setTimeout((function(){e.event.special.mousewheel?(clearTimeout(t),P.call(n[0])):r()}),100)}(),F.call(this),j.call(this),a.advanced.autoScrollOnFocus&&z.call(this),a.scrollButtons.enable&&U.call(this),a.keyboard.enable&&H.call(this),i.bindEvents=!0)},A=function(){var t=e(this),n=t.data(r),i=n.opt,a="mCS_"+n.idx,o=".mCSB_"+n.idx+"_scrollbar",s=e("#mCSB_"+n.idx+",#mCSB_"+n.idx+"_container,#mCSB_"+n.idx+"_container_wrapper,"+o+" ."+c[12]+",#mCSB_"+n.idx+"_dragger_vertical,#mCSB_"+n.idx+"_dragger_horizontal,"+o+">a"),u=e("#mCSB_"+n.idx+"_container");i.advanced.releaseDraggableSelectors&&s.add(e(i.advanced.releaseDraggableSelectors)),i.advanced.extraDraggableSelectors&&s.add(e(i.advanced.extraDraggableSelectors)),n.bindEvents&&(e(document).add(e(!R()||top.document)).unbind("."+a),s.each((function(){e(this).unbind("."+a)})),clearTimeout(t[0]._focusTimeout),J(t[0],"_focusTimeout"),clearTimeout(n.sequential.step),J(n.sequential,"step"),clearTimeout(u[0].onCompleteTimeout),J(u[0],"onCompleteTimeout"),n.bindEvents=!1)},M=function(t){var n=e(this),i=n.data(r),a=i.opt,o=e("#mCSB_"+i.idx+"_container_wrapper"),s=o.length?o:e("#mCSB_"+i.idx+"_container"),u=[e("#mCSB_"+i.idx+"_scrollbar_vertical"),e("#mCSB_"+i.idx+"_scrollbar_horizontal")],l=[u[0].find(".mCSB_dragger"),u[1].find(".mCSB_dragger")];"x"!==a.axis&&(i.overflowed[0]&&!t?(u[0].add(l[0]).add(u[0].children("a")).css("display","block"),s.removeClass(c[8]+" "+c[10])):(a.alwaysShowScrollbar?(2!==a.alwaysShowScrollbar&&l[0].css("display","none"),s.removeClass(c[10])):(u[0].css("display","none"),s.addClass(c[10])),s.addClass(c[8]))),"y"!==a.axis&&(i.overflowed[1]&&!t?(u[1].add(l[1]).add(u[1].children("a")).css("display","block"),s.removeClass(c[9]+" "+c[11])):(a.alwaysShowScrollbar?(2!==a.alwaysShowScrollbar&&l[1].css("display","none"),s.removeClass(c[11])):(u[1].css("display","none"),s.addClass(c[11])),s.addClass(c[9]))),i.overflowed[0]||i.overflowed[1]?n.removeClass(c[5]):n.addClass(c[5])},O=function(t){var n=t.type,r=t.target.ownerDocument!==document&&null!==frameElement?[e(frameElement).offset().top,e(frameElement).offset().left]:null,i=R()&&t.target.ownerDocument!==top.document&&null!==frameElement?[e(t.view.frameElement).offset().top,e(t.view.frameElement).offset().left]:[0,0];switch(n){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return r?[t.originalEvent.pageY-r[0]+i[0],t.originalEvent.pageX-r[1]+i[1],!1]:[t.originalEvent.pageY,t.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var a=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],o=t.originalEvent.touches.length||t.originalEvent.changedTouches.length;return t.target.ownerDocument!==document?[a.screenY,a.screenX,o>1]:[a.pageY,a.pageX,o>1];default:return r?[t.pageY-r[0]+i[0],t.pageX-r[1]+i[1],!1]:[t.pageY,t.pageX,!1]}},D=function(){function t(t,e,r,i){if(d[0].idleTimer=c.scrollInertia<233?250:0,n.attr("id")===f[1])var a="x",u=(n[0].offsetLeft-e+i)*s.scrollRatio.x;else a="y",u=(n[0].offsetTop-t+r)*s.scrollRatio.y;q(o,u.toString(),{dir:a,drag:!0})}var n,i,a,o=e(this),s=o.data(r),c=s.opt,h="mCS_"+s.idx,f=["mCSB_"+s.idx+"_dragger_vertical","mCSB_"+s.idx+"_dragger_horizontal"],d=e("#mCSB_"+s.idx+"_container"),p=e("#"+f[0]+",#"+f[1]),m=c.advanced.releaseDraggableSelectors?p.add(e(c.advanced.releaseDraggableSelectors)):p,g=c.advanced.extraDraggableSelectors?e(!R()||top.document).add(e(c.advanced.extraDraggableSelectors)):e(!R()||top.document);p.bind("contextmenu."+h,(function(t){t.preventDefault()})).bind("mousedown."+h+" touchstart."+h+" pointerdown."+h+" MSPointerDown."+h,(function(t){if(t.stopImmediatePropagation(),t.preventDefault(),Q(t)){l=!0,u&&(document.onselectstart=function(){return!1}),k.call(d,!1),X(o);var r=(n=e(this)).offset(),s=O(t)[0]-r.top,h=O(t)[1]-r.left,f=n.height()+r.top,p=n.width()+r.left;f>s&&s>0&&p>h&&h>0&&(i=s,a=h),T(n,"active",c.autoExpandScrollbar)}})).bind("touchmove."+h,(function(e){e.stopImmediatePropagation(),e.preventDefault();var r=n.offset(),o=O(e)[0]-r.top,s=O(e)[1]-r.left;t(i,a,o,s)})),e(document).add(g).bind("mousemove."+h+" pointermove."+h+" MSPointerMove."+h,(function(e){if(n){var r=n.offset(),o=O(e)[0]-r.top,s=O(e)[1]-r.left;if(i===o&&a===s)return;t(i,a,o,s)}})).add(m).bind("mouseup."+h+" touchend."+h+" pointerup."+h+" MSPointerUp."+h,(function(){n&&(T(n,"active",c.autoExpandScrollbar),n=null),l=!1,u&&(document.onselectstart=null),k.call(d,!0)}))},N=function(){function n(e){if(!tt(e)||l||O(e)[2])t=0;else{t=1,w=0,T=0,c=1,S.removeClass("mCS_touch_action");var n=D.offset();h=O(e)[0]-n.top,f=O(e)[1]-n.left,B=[O(e)[0],O(e)[1]]}}function i(t){if(tt(t)&&!l&&!O(t)[2]&&(C.documentTouchScroll||t.preventDefault(),t.stopImmediatePropagation(),(!T||w)&&c)){g=Z();var e=M.offset(),n=O(t)[0]-e.top,r=O(t)[1]-e.left,i="mcsLinearOut";if(I.push(n),P.push(r),B[2]=Math.abs(O(t)[0]-B[0]),B[3]=Math.abs(O(t)[1]-B[1]),E.overflowed[0])var a=N[0].parent().height()-N[0].height(),o=h-n>0&&n-h>-a*E.scrollRatio.y&&(2*B[3]<B[2]||"yx"===C.axis);if(E.overflowed[1])var s=N[1].parent().width()-N[1].width(),d=f-r>0&&r-f>-s*E.scrollRatio.x&&(2*B[2]<B[3]||"yx"===C.axis);o||d?(j||t.preventDefault(),w=1):(T=1,S.addClass("mCS_touch_action")),j&&t.preventDefault(),b="yx"===C.axis?[h-n,f-r]:"x"===C.axis?[null,f-r]:[h-n,null],D[0].idleTimer=250,E.overflowed[0]&&u(b[0],L,i,"y","all",!0),E.overflowed[1]&&u(b[1],L,i,"x",k,!0)}}function a(e){if(!tt(e)||l||O(e)[2])t=0;else{t=1,e.stopImmediatePropagation(),X(S),m=Z();var n=M.offset();d=O(e)[0]-n.top,p=O(e)[1]-n.left,I=[],P=[]}}function o(t){if(tt(t)&&!l&&!O(t)[2]){c=0,t.stopImmediatePropagation(),w=0,T=0,_=Z();var e=M.offset(),n=O(t)[0]-e.top,r=O(t)[1]-e.left;if(!(_-g>30)){var i="mcsEaseOut",a=2.5>(y=1e3/(_-m)),o=a?[I[I.length-2],P[P.length-2]]:[0,0];v=a?[n-o[0],r-o[1]]:[n-d,r-p];var h=[Math.abs(v[0]),Math.abs(v[1])];y=a?[Math.abs(v[0]/4),Math.abs(v[1]/4)]:[y,y];var f=[Math.abs(D[0].offsetTop)-v[0]*s(h[0]/y[0],y[0]),Math.abs(D[0].offsetLeft)-v[1]*s(h[1]/y[1],y[1])];b="yx"===C.axis?[f[0],f[1]]:"x"===C.axis?[null,f[1]]:[f[0],null],x=[4*h[0]+C.scrollInertia,4*h[1]+C.scrollInertia];var S=parseInt(C.contentTouchScroll)||0;b[0]=h[0]>S?b[0]:0,b[1]=h[1]>S?b[1]:0,E.overflowed[0]&&u(b[0],x[0],i,"y",k,!1),E.overflowed[1]&&u(b[1],x[1],i,"x",k,!1)}}}function s(t,e){var n=[1.5*e,2*e,e/1.5,e/2];return t>90?e>4?n[0]:n[3]:t>60?e>3?n[3]:n[2]:t>30?e>8?n[1]:e>6?n[0]:e>4?e:n[2]:e>8?e:n[3]}function u(t,e,n,r,i,a){t&&q(S,t.toString(),{dur:e,scrollEasing:n,dir:r,overwrite:i,drag:a})}var c,h,f,d,p,m,g,_,v,y,b,x,w,T,S=e(this),E=S.data(r),C=E.opt,A="mCS_"+E.idx,M=e("#mCSB_"+E.idx),D=e("#mCSB_"+E.idx+"_container"),N=[e("#mCSB_"+E.idx+"_dragger_vertical"),e("#mCSB_"+E.idx+"_dragger_horizontal")],I=[],P=[],L=0,k="yx"===C.axis?"none":"all",B=[],F=D.find("iframe"),z=["touchstart."+A+" pointerdown."+A+" MSPointerDown."+A,"touchmove."+A+" pointermove."+A+" MSPointerMove."+A,"touchend."+A+" pointerup."+A+" MSPointerUp."+A],j=void 0!==document.body.style.touchAction&&""!==document.body.style.touchAction;D.bind(z[0],(function(t){n(t)})).bind(z[1],(function(t){i(t)})),M.bind(z[0],(function(t){a(t)})).bind(z[2],(function(t){o(t)})),F.length&&F.each((function(){e(this).bind("load",(function(){R(this)&&e(this.contentDocument||this.contentWindow.document).bind(z[0],(function(t){n(t),a(t)})).bind(z[1],(function(t){i(t)})).bind(z[2],(function(t){o(t)}))}))}))},I=function(){function n(t,e,n){u.type=n&&i?"stepped":"stepless",u.scrollAmount=10,V(a,t,e,"mcsLinearOut",n?60:null)}var i,a=e(this),o=a.data(r),s=o.opt,u=o.sequential,c="mCS_"+o.idx,h=e("#mCSB_"+o.idx+"_container"),f=h.parent();h.bind("mousedown."+c,(function(){t||i||(i=1,l=!0)})).add(document).bind("mousemove."+c,(function(e){if(!t&&i&&(window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type&&document.selection.createRange().text)){var r=h.offset(),a=O(e)[0]-r.top+h[0].offsetTop,l=O(e)[1]-r.left+h[0].offsetLeft;a>0&&a<f.height()&&l>0&&l<f.width()?u.step&&n("off",null,"stepped"):("x"!==s.axis&&o.overflowed[0]&&(0>a?n("on",38):a>f.height()&&n("on",40)),"y"!==s.axis&&o.overflowed[1]&&(0>l?n("on",37):l>f.width()&&n("on",39)))}})).bind("mouseup."+c+" dragend."+c,(function(){t||(i&&(i=0,n("off",null)),l=!1)}))},P=function(){function t(t,r){if(X(n),!B(n,t.target)){var o="auto"!==a.mouseWheel.deltaFactor?parseInt(a.mouseWheel.deltaFactor):u&&t.deltaFactor<100?100:t.deltaFactor||100,c=a.scrollInertia;if("x"===a.axis||"x"===a.mouseWheel.axis)var h="x",f=[Math.round(o*i.scrollRatio.x),parseInt(a.mouseWheel.scrollAmount)],d="auto"!==a.mouseWheel.scrollAmount?f[1]:f[0]>=s.width()?.9*s.width():f[0],p=Math.abs(e("#mCSB_"+i.idx+"_container")[0].offsetLeft),m=l[1][0].offsetLeft,g=l[1].parent().width()-l[1].width(),_="y"===a.mouseWheel.axis?t.deltaY||r:t.deltaX;else h="y",f=[Math.round(o*i.scrollRatio.y),parseInt(a.mouseWheel.scrollAmount)],d="auto"!==a.mouseWheel.scrollAmount?f[1]:f[0]>=s.height()?.9*s.height():f[0],p=Math.abs(e("#mCSB_"+i.idx+"_container")[0].offsetTop),m=l[0][0].offsetTop,g=l[0].parent().height()-l[0].height(),_=t.deltaY||r;"y"===h&&!i.overflowed[0]||"x"===h&&!i.overflowed[1]||((a.mouseWheel.invert||t.webkitDirectionInvertedFromDevice)&&(_=-_),a.mouseWheel.normalizeDelta&&(_=0>_?-1:1),(_>0&&0!==m||0>_&&m!==g||a.mouseWheel.preventDefault)&&(t.stopImmediatePropagation(),t.preventDefault()),t.deltaFactor<5&&!a.mouseWheel.normalizeDelta&&(d=t.deltaFactor,c=17),q(n,(p-_*d).toString(),{dir:h,dur:c}))}}if(e(this).data(r)){var n=e(this),i=n.data(r),a=i.opt,o="mCS_"+i.idx,s=e("#mCSB_"+i.idx),l=[e("#mCSB_"+i.idx+"_dragger_vertical"),e("#mCSB_"+i.idx+"_dragger_horizontal")],c=e("#mCSB_"+i.idx+"_container").find("iframe");c.length&&c.each((function(){e(this).bind("load",(function(){R(this)&&e(this.contentDocument||this.contentWindow.document).bind("mousewheel."+o,(function(e,n){t(e,n)}))}))})),s.bind("mousewheel."+o,(function(e,n){t(e,n)}))}},L=new Object,R=function(t){var n=!1,r=!1,i=null;if(void 0===t?r="#empty":void 0!==e(t).attr("id")&&(r=e(t).attr("id")),!1!==r&&void 0!==L[r])return L[r];if(t){try{i=(t.contentDocument||t.contentWindow.document).body.innerHTML}catch(t){}n=null!==i}else{try{i=top.document.body.innerHTML}catch(t){}n=null!==i}return!1!==r&&(L[r]=n),n},k=function(t){var e=this.find("iframe");if(e.length){var n=t?"auto":"none";e.css("pointer-events",n)}},B=function(t,n){var i=n.nodeName.toLowerCase(),a=t.data(r).opt.mouseWheel.disableOver;return e.inArray(i,a)>-1&&!(e.inArray(i,["select","textarea"])>-1&&!e(n).is(":focus"))},F=function(){var t,n=e(this),i=n.data(r),a="mCS_"+i.idx,o=e("#mCSB_"+i.idx+"_container"),s=o.parent();e(".mCSB_"+i.idx+"_scrollbar ."+c[12]).bind("mousedown."+a+" touchstart."+a+" pointerdown."+a+" MSPointerDown."+a,(function(n){l=!0,e(n.target).hasClass("mCSB_dragger")||(t=1)})).bind("touchend."+a+" pointerup."+a+" MSPointerUp."+a,(function(){l=!1})).bind("click."+a,(function(r){if(t&&(t=0,e(r.target).hasClass(c[12])||e(r.target).hasClass("mCSB_draggerRail"))){X(n);var a=e(this),u=a.find(".mCSB_dragger");if(a.parent(".mCSB_scrollTools_horizontal").length>0){if(!i.overflowed[1])return;var l="x",h=r.pageX>u.offset().left?-1:1,f=Math.abs(o[0].offsetLeft)-h*(.9*s.width())}else{if(!i.overflowed[0])return;l="y",h=r.pageY>u.offset().top?-1:1,f=Math.abs(o[0].offsetTop)-h*(.9*s.height())}q(n,f.toString(),{dir:l,scrollEasing:"mcsEaseInOut"})}}))},z=function(){var t=e(this),n=t.data(r),i=n.opt,a="mCS_"+n.idx,o=e("#mCSB_"+n.idx+"_container"),s=o.parent();o.bind("focusin."+a,(function(){var n=e(document.activeElement),r=o.find(".mCustomScrollBox").length;n.is(i.advanced.autoScrollOnFocus)&&(X(t),clearTimeout(t[0]._focusTimeout),t[0]._focusTimer=r?17*r:0,t[0]._focusTimeout=setTimeout((function(){var e=[nt(n)[0],nt(n)[1]],r=[o[0].offsetTop,o[0].offsetLeft],a=[r[0]+e[0]>=0&&r[0]+e[0]<s.height()-n.outerHeight(!1),r[1]+e[1]>=0&&r[0]+e[1]<s.width()-n.outerWidth(!1)],u="yx"!==i.axis||a[0]||a[1]?"all":"none";"x"===i.axis||a[0]||q(t,e[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:u,dur:0}),"y"===i.axis||a[1]||q(t,e[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:u,dur:0})}),t[0]._focusTimer))}))},j=function(){var t=e(this).data(r),n="mCS_"+t.idx,i=e("#mCSB_"+t.idx+"_container").parent();i.bind("scroll."+n,(function(){0===i.scrollTop()&&0===i.scrollLeft()||e(".mCSB_"+t.idx+"_scrollbar").css("visibility","hidden")}))},U=function(){var t=e(this),n=t.data(r),i=n.opt,a=n.sequential,o="mCS_"+n.idx,s=".mCSB_"+n.idx+"_scrollbar";e(s+">a").bind("contextmenu."+o,(function(t){t.preventDefault()})).bind("mousedown."+o+" touchstart."+o+" pointerdown."+o+" MSPointerDown."+o+" mouseup."+o+" touchend."+o+" pointerup."+o+" MSPointerUp."+o+" mouseout."+o+" pointerout."+o+" MSPointerOut."+o+" click."+o,(function(r){function o(e,n){a.scrollAmount=i.scrollButtons.scrollAmount,V(t,e,n)}if(r.preventDefault(),Q(r)){var s=e(this).attr("class");switch(a.type=i.scrollButtons.scrollType,r.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===a.type)return;l=!0,n.tweenRunning=!1,o("on",s);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===a.type)return;l=!1,a.dir&&o("off",s);break;case"click":if("stepped"!==a.type||n.tweenRunning)return;o("on",s)}}}))},H=function(){function t(t){function r(t,e){o.type=a.keyboard.scrollType,o.scrollAmount=a.keyboard.scrollAmount,"stepped"===o.type&&i.tweenRunning||V(n,t,e)}switch(t.type){case"blur":i.tweenRunning&&o.dir&&r("off",null);break;case"keydown":case"keyup":var s=t.keyCode?t.keyCode:t.which,u="on";if("x"!==a.axis&&(38===s||40===s)||"y"!==a.axis&&(37===s||39===s)){if((38===s||40===s)&&!i.overflowed[0]||(37===s||39===s)&&!i.overflowed[1])return;"keyup"===t.type&&(u="off"),e(document.activeElement).is(h)||(t.preventDefault(),t.stopImmediatePropagation(),r(u,s))}else if(33===s||34===s){if((i.overflowed[0]||i.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type){X(n);var f=34===s?-1:1;if("x"===a.axis||"yx"===a.axis&&i.overflowed[1]&&!i.overflowed[0])var d="x",p=Math.abs(l[0].offsetLeft)-f*(.9*c.width());else d="y",p=Math.abs(l[0].offsetTop)-f*(.9*c.height());q(n,p.toString(),{dir:d,scrollEasing:"mcsEaseInOut"})}}else 35!==s&&36!==s||e(document.activeElement).is(h)||((i.overflowed[0]||i.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"!==t.type)||("x"===a.axis||"yx"===a.axis&&i.overflowed[1]&&!i.overflowed[0]?(d="x",p=35===s?Math.abs(c.width()-l.outerWidth(!1)):0):(d="y",p=35===s?Math.abs(c.height()-l.outerHeight(!1)):0),q(n,p.toString(),{dir:d,scrollEasing:"mcsEaseInOut"}))}}var n=e(this),i=n.data(r),a=i.opt,o=i.sequential,s="mCS_"+i.idx,u=e("#mCSB_"+i.idx),l=e("#mCSB_"+i.idx+"_container"),c=l.parent(),h="input,textarea,select,datalist,keygen,[contenteditable='true']",f=l.find("iframe"),d=["blur."+s+" keydown."+s+" keyup."+s];f.length&&f.each((function(){e(this).bind("load",(function(){R(this)&&e(this.contentDocument||this.contentWindow.document).bind(d[0],(function(e){t(e)}))}))})),u.attr("tabindex","0").bind(d[0],(function(e){t(e)}))},V=function(t,n,i,a,o){function s(e){l.snapAmount&&(h.scrollAmount=l.snapAmount instanceof Array?"x"===h.dir[0]?l.snapAmount[1]:l.snapAmount[0]:l.snapAmount);var n="stepped"!==h.type,r=o||(e?n?p/1.5:m:1e3/60),i=e?n?7.5:40:2.5,c=[Math.abs(f[0].offsetTop),Math.abs(f[0].offsetLeft)],d=[u.scrollRatio.y>10?10:u.scrollRatio.y,u.scrollRatio.x>10?10:u.scrollRatio.x],g="x"===h.dir[0]?c[1]+h.dir[1]*(d[1]*i):c[0]+h.dir[1]*(d[0]*i),_="x"===h.dir[0]?c[1]+h.dir[1]*parseInt(h.scrollAmount):c[0]+h.dir[1]*parseInt(h.scrollAmount),v="auto"!==h.scrollAmount?_:g,y=a||(e?n?"mcsLinearOut":"mcsEaseInOut":"mcsLinear"),b=!!e;return e&&17>r&&(v="x"===h.dir[0]?c[1]:c[0]),q(t,v.toString(),{dir:h.dir[0],scrollEasing:y,dur:r,onComplete:b}),e?void(h.dir=!1):(clearTimeout(h.step),void(h.step=setTimeout((function(){s()}),r)))}var u=t.data(r),l=u.opt,h=u.sequential,f=e("#mCSB_"+u.idx+"_container"),d="stepped"===h.type,p=l.scrollInertia<26?26:l.scrollInertia,m=l.scrollInertia<1?17:l.scrollInertia;switch(n){case"on":if(h.dir=[i===c[16]||i===c[15]||39===i||37===i?"x":"y",i===c[13]||i===c[15]||38===i||37===i?-1:1],X(t),et(i)&&"stepped"===h.type)return;s(d);break;case"off":clearTimeout(h.step),J(h,"step"),X(t),(d||u.tweenRunning&&h.dir)&&s(!0)}},G=function(t){var n=e(this).data(r).opt,i=[];return"function"==typeof t&&(t=t()),t instanceof Array?i=t.length>1?[t[0],t[1]]:"x"===n.axis?[null,t[0]]:[t[0],null]:(i[0]=t.y?t.y:t.x||"x"===n.axis?null:t,i[1]=t.x?t.x:t.y||"y"===n.axis?null:t),"function"==typeof i[0]&&(i[0]=i[0]()),"function"==typeof i[1]&&(i[1]=i[1]()),i},W=function(t,n){if(null!=t&&void 0!==t){var i=e(this),a=i.data(r),o=a.opt,s=e("#mCSB_"+a.idx+"_container"),u=s.parent(),l=typeof t;n||(n="x"===o.axis?"x":"y");var c="x"===n?s.outerWidth(!1)-u.width():s.outerHeight(!1)-u.height(),f="x"===n?s[0].offsetLeft:s[0].offsetTop,d="x"===n?"left":"top";switch(l){case"function":return t();case"object":if(!(m=t.jquery?t:e(t)).length)return;return"x"===n?nt(m)[1]:nt(m)[0];case"string":case"number":if(et(t))return Math.abs(t);if(-1!==t.indexOf("%"))return Math.abs(c*parseInt(t)/100);if(-1!==t.indexOf("-="))return Math.abs(f-parseInt(t.split("-=")[1]));if(-1!==t.indexOf("+=")){var p=f+parseInt(t.split("+=")[1]);return p>=0?0:Math.abs(p)}if(-1!==t.indexOf("px")&&et(t.split("px")[0]))return Math.abs(t.split("px")[0]);if("top"===t||"left"===t)return 0;if("bottom"===t)return Math.abs(u.height()-s.outerHeight(!1));if("right"===t)return Math.abs(u.width()-s.outerWidth(!1));if("first"===t||"last"===t){var m=s.find(":"+t);return"x"===n?nt(m)[1]:nt(m)[0]}return e(t).length?"x"===n?nt(e(t))[1]:nt(e(t))[0]:(s.css(d,t),void h.update.call(null,i[0]))}}},$=function(t){function n(t){clearTimeout(s[0].autoUpdate),h.update.call(null,i[0],t)}var i=e(this),a=i.data(r),o=a.opt,s=e("#mCSB_"+a.idx+"_container");return t?(clearTimeout(s[0].autoUpdate),void J(s[0],"autoUpdate")):void function t(){return clearTimeout(s[0].autoUpdate),0===i.parents("html").length?void(i=null):void(s[0].autoUpdate=setTimeout((function(){return o.advanced.updateOnSelectorChange&&(a.poll.change.n=function(){!0===o.advanced.updateOnSelectorChange&&(o.advanced.updateOnSelectorChange="*");var t=0,e=s.find(o.advanced.updateOnSelectorChange);return o.advanced.updateOnSelectorChange&&e.length>0&&e.each((function(){t+=this.offsetHeight+this.offsetWidth})),t}(),a.poll.change.n!==a.poll.change.o)?(a.poll.change.o=a.poll.change.n,void n(3)):o.advanced.updateOnContentResize&&(a.poll.size.n=i[0].scrollHeight+i[0].scrollWidth+s[0].offsetHeight+i[0].offsetHeight+i[0].offsetWidth,a.poll.size.n!==a.poll.size.o)?(a.poll.size.o=a.poll.size.n,void n(1)):!o.advanced.updateOnImageLoad||"auto"===o.advanced.updateOnImageLoad&&"y"===o.axis||(a.poll.img.n=s.find("img").length,a.poll.img.n===a.poll.img.o)?void((o.advanced.updateOnSelectorChange||o.advanced.updateOnContentResize||o.advanced.updateOnImageLoad)&&t()):(a.poll.img.o=a.poll.img.n,void s.find("img").each((function(){!function(t){if(e(t).hasClass(c[2]))n();else{var r=new Image;r.onload=function(t,e){return function(){return e.apply(t,arguments)}}(r,(function(){this.onload=null,e(t).addClass(c[2]),n(2)})),r.src=t.src}}(this)})))}),o.advanced.autoUpdateTimeout))}()},X=function(t){var n=t.data(r);e("#mCSB_"+n.idx+"_container,#mCSB_"+n.idx+"_container_wrapper,#mCSB_"+n.idx+"_dragger_vertical,#mCSB_"+n.idx+"_dragger_horizontal").each((function(){K.call(this)}))},q=function(t,n,i){function a(t){return s&&u.callbacks[t]&&"function"==typeof u.callbacks[t]}function o(){var e=[f[0].offsetTop,f[0].offsetLeft],n=[g[0].offsetTop,g[0].offsetLeft],r=[f.outerHeight(!1),f.outerWidth(!1)],a=[h.height(),h.width()];t[0].mcs={content:f,top:e[0],left:e[1],draggerTop:n[0],draggerLeft:n[1],topPct:Math.round(100*Math.abs(e[0])/(Math.abs(r[0])-a[0])),leftPct:Math.round(100*Math.abs(e[1])/(Math.abs(r[1])-a[1])),direction:i.dir}}var s=t.data(r),u=s.opt,l={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:u.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},c=[(i=e.extend(l,i)).dur,i.drag?0:i.dur],h=e("#mCSB_"+s.idx),f=e("#mCSB_"+s.idx+"_container"),d=f.parent(),p=u.callbacks.onTotalScrollOffset?G.call(t,u.callbacks.onTotalScrollOffset):[0,0],m=u.callbacks.onTotalScrollBackOffset?G.call(t,u.callbacks.onTotalScrollBackOffset):[0,0];if(s.trigger=i.trigger,0===d.scrollTop()&&0===d.scrollLeft()||(e(".mCSB_"+s.idx+"_scrollbar").css("visibility","visible"),d.scrollTop(0).scrollLeft(0)),"_resetY"!==n||s.contentReset.y||(a("onOverflowYNone")&&u.callbacks.onOverflowYNone.call(t[0]),s.contentReset.y=1),"_resetX"!==n||s.contentReset.x||(a("onOverflowXNone")&&u.callbacks.onOverflowXNone.call(t[0]),s.contentReset.x=1),"_resetY"!==n&&"_resetX"!==n){switch(!s.contentReset.y&&t[0].mcs||!s.overflowed[0]||(a("onOverflowY")&&u.callbacks.onOverflowY.call(t[0]),s.contentReset.x=null),!s.contentReset.x&&t[0].mcs||!s.overflowed[1]||(a("onOverflowX")&&u.callbacks.onOverflowX.call(t[0]),s.contentReset.x=null),u.snapAmount&&(n=function(t,e,n){return Math.round(t/e)*e-n}(n,u.snapAmount instanceof Array?"x"===i.dir?u.snapAmount[1]:u.snapAmount[0]:u.snapAmount,u.snapOffset)),i.dir){case"x":var g=e("#mCSB_"+s.idx+"_dragger_horizontal"),_="left",v=f[0].offsetLeft,y=[h.width()-f.outerWidth(!1),g.parent().width()-g.width()],b=[n,0===n?0:n/s.scrollRatio.x],x=p[1],w=m[1],S=x>0?x/s.scrollRatio.x:0,E=w>0?w/s.scrollRatio.x:0;break;case"y":g=e("#mCSB_"+s.idx+"_dragger_vertical"),_="top",v=f[0].offsetTop,y=[h.height()-f.outerHeight(!1),g.parent().height()-g.height()],b=[n,0===n?0:n/s.scrollRatio.y],x=p[0],w=m[0],S=x>0?x/s.scrollRatio.y:0,E=w>0?w/s.scrollRatio.y:0}b[1]<0||0===b[0]&&0===b[1]?b=[0,0]:b[1]>=y[1]?b=[y[0],y[1]]:b[0]=-b[0],t[0].mcs||(o(),a("onInit")&&u.callbacks.onInit.call(t[0])),clearTimeout(f[0].onCompleteTimeout),Y(g[0],_,Math.round(b[1]),c[1],i.scrollEasing),!s.tweenRunning&&(0===v&&b[0]>=0||v===y[0]&&b[0]<=y[0])||Y(f[0],_,Math.round(b[0]),c[0],i.scrollEasing,i.overwrite,{onStart:function(){i.callbacks&&i.onStart&&!s.tweenRunning&&(a("onScrollStart")&&(o(),u.callbacks.onScrollStart.call(t[0])),s.tweenRunning=!0,T(g),s.cbOffsets=[u.callbacks.alwaysTriggerOffsets||v>=y[0]+x,u.callbacks.alwaysTriggerOffsets||-w>=v])},onUpdate:function(){i.callbacks&&i.onUpdate&&a("whileScrolling")&&(o(),u.callbacks.whileScrolling.call(t[0]))},onComplete:function(){if(i.callbacks&&i.onComplete){"yx"===u.axis&&clearTimeout(f[0].onCompleteTimeout);var e=f[0].idleTimer||0;f[0].onCompleteTimeout=setTimeout((function(){a("onScroll")&&(o(),u.callbacks.onScroll.call(t[0])),a("onTotalScroll")&&b[1]>=y[1]-S&&s.cbOffsets[0]&&(o(),u.callbacks.onTotalScroll.call(t[0])),a("onTotalScrollBack")&&b[1]<=E&&s.cbOffsets[1]&&(o(),u.callbacks.onTotalScrollBack.call(t[0])),s.tweenRunning=!1,f[0].idleTimer=0,T(g,"hide")}),e)}}})}},Y=function(t,e,n,r,i,a,o){function s(){v.stop||(m||h.call(),m=Z()-p,u(),m>=v.time&&(v.time=m>v.time?m+l-(m-v.time):m+l-1,v.time<m+1&&(v.time=m+1)),v.time<r?v.id=c(s):d.call())}function u(){r>0?(v.currVal=function(t,e,n,r,i){switch(i){case"linear":case"mcsLinear":return n*t/r+e;case"mcsLinearOut":return t/=r,t--,n*Math.sqrt(1-t*t)+e;case"easeInOutSmooth":return 1>(t/=r/2)?n/2*t*t+e:(t--,-n/2*(t*(t-2)-1)+e);case"easeInOutStrong":return 1>(t/=r/2)?n/2*Math.pow(2,10*(t-1))+e:(t--,n/2*(2-Math.pow(2,-10*t))+e);case"easeInOut":case"mcsEaseInOut":return 1>(t/=r/2)?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e;case"easeOutSmooth":return t/=r,t--,-n*(t*t*t*t-1)+e;case"easeOutStrong":return n*(1-Math.pow(2,-10*t/r))+e;case"easeOut":case"mcsEaseOut":default:var a=(t/=r)*t,o=a*t;return e+n*(.499999999999997*o*a+-2.5*a*a+5.5*o+-6.5*a+4*t)}}(v.time,g,y,r,i),_[e]=Math.round(v.currVal)+"px"):_[e]=n+"px",f.call()}t._mTween||(t._mTween={top:{},left:{}});var l,c,h=(o=o||{}).onStart||function(){},f=o.onUpdate||function(){},d=o.onComplete||function(){},p=Z(),m=0,g=t.offsetTop,_=t.style,v=t._mTween[e];"left"===e&&(g=t.offsetLeft);var y=n-g;v.stop=0,"none"!==a&&null!=v.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(v.id):clearTimeout(v.id),v.id=null),l=1e3/60,v.time=m+l,c=window.requestAnimationFrame?window.requestAnimationFrame:function(t){return u(),setTimeout(t,.01)},v.id=c(s)},Z=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},K=function(){var t=this;t._mTween||(t._mTween={top:{},left:{}});for(var e=["top","left"],n=0;n<e.length;n++){var r=e[n];t._mTween[r].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(t._mTween[r].id):clearTimeout(t._mTween[r].id),t._mTween[r].id=null,t._mTween[r].stop=1)}},J=function(t,e){try{delete t[e]}catch(n){t[e]=null}},Q=function(t){return!(t.which&&1!==t.which)},tt=function(t){var e=t.originalEvent.pointerType;return!(e&&"touch"!==e&&2!==e)},et=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},nt=function(t){var e=t.parents(".mCSB_container");return[t.offset().top-e.offset().top,t.offset().left-e.offset().left]},rt=function(){var t=function(){var t=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var e=0;e<t.length;e++)if(t[e]+"Hidden"in document)return t[e]+"Hidden";return null}();return!!t&&document[t]};e.fn[n]=function(t){return h[t]?h[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):h.init.apply(this,arguments)},e[n]=function(t){return h[t]?h[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):h.init.apply(this,arguments)},e[n].defaults=a,window[n]=!0,e(window).bind("load",(function(){e(i)[n](),e.extend(e.expr[":"],{mcsInView:e.expr[":"].mcsInView||function(t){var n,r,i=e(t),a=i.parents(".mCSB_container");if(a.length)return n=a.parent(),(r=[a[0].offsetTop,a[0].offsetLeft])[0]+nt(i)[0]>=0&&r[0]+nt(i)[0]<n.height()-i.outerHeight(!1)&&r[1]+nt(i)[1]>=0&&r[1]+nt(i)[1]<n.width()-i.outerWidth(!1)},mcsInSight:e.expr[":"].mcsInSight||function(t,n,r){var i,a,o,s,u=e(t),l=u.parents(".mCSB_container"),c="exact"===r[3]?[[1,0],[1,0]]:[[.9,.1],[.6,.4]];if(l.length)return i=[u.outerHeight(!1),u.outerWidth(!1)],o=[l[0].offsetTop+nt(u)[0],l[0].offsetLeft+nt(u)[1]],a=[l.parent()[0].offsetHeight,l.parent()[0].offsetWidth],o[0]-a[0]*(s=[i[0]<a[0]?c[0]:c[1],i[1]<a[1]?c[0]:c[1]])[0][0]<0&&o[0]+i[0]-a[0]*s[0][1]>=0&&o[1]-a[1]*s[1][0]<0&&o[1]+i[1]-a[1]*s[1][1]>=0},mcsOverflow:e.expr[":"].mcsOverflow||function(t){var n=e(t).data(r);if(n)return n.overflowed[0]||n.overflowed[1]}})}))}()})?r.apply(e,i):r)||(t.exports=a)},b8bf:function(t,e,n){n("23e7")({target:"Object",stat:!0,sham:!n("83ab")},{create:n("7c73")})},b9c7:function(t,e,n){n("e5077"),t.exports=n("5524").Object.assign},ba01:function(t,e,n){t.exports=n("051b")},baa5:function(t,e,n){var r=n("23e7"),i=n("e58c");r({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},bae1:function(t,e,n){var r=n("05ef")("date:parser"),i=n("ee7d"),a=n("9ac3"),o=["january","february","march","april","may","june","july","august","september","october","november","december"],s=/^(\d{1,2})([:.](\d{1,2}))?([:.](\d{1,2}))?\s*([ap]m)/,u=/^(\d{1,2})([:.](\d{1,2}))([:.](\d{1,2}))?/,l=/^at\s?(\d{1,2})$/,c=/\b(sun(day)?|mon(day)?|tues(day)?|wed(nesday)?|thur(sday|s)?|fri(day)?|sat(urday)?)s?\b/,h=/^((\d{1,2})\s*(st|nd|rd|th))\s(day\s)?(of\s)?(january|february|march|april|may|june|july|august|september|october|november|december)/i,f=/\b(last|yesterday|ago)\b/,d=/\b(morning|noon|afternoon|night|evening|midnight)\b/,p=/^(\d*)\s?\b(second|minute|hour|day|week|month|year)[s]?\b\s?ago$/;function m(t,e){if(!(this instanceof m))return new m(t,e);"string"==typeof e&&(e=m(e));var n=a(t,e);if(!(t=n.str)){if(n.normals.length)return new Date(n.normals[0]);t=t}var o=e||new Date;for(this.date=new i(o),this.original=t,this.str=t.toLowerCase(),this.stash=[],this.tokens=[];"eos"!==this.advance();)r("tokens %j",this.tokens);if(this.nextTime(o),this.date.date==o)throw new Error("Invalid date");return this.date.date}t.exports=m,m.prototype.advance=function(){var t=this.eos()||this.space()||this._next()||this.last()||this.dayByName()||this.monthByName()||this.timeAgo()||this.ago()||this.yesterday()||this.tomorrow()||this.noon()||this.midnight()||this.night()||this.evening()||this.afternoon()||this.morning()||this.tonight()||this.meridiem()||this.hourminute()||this.athour()||this.week()||this.month()||this.year()||this.second()||this.minute()||this.hour()||this.day()||this.number()||this.string()||this.other();return this.tokens.push(t),t},m.prototype.lookahead=function(t){var e=t-this.stash.length;if(0==e)return this.lookahead(++t);for(;e-- >0;)this.stash.push(this.advance());return this.stash[--t]},m.prototype.peek=function(){return this.lookahead(1)},m.prototype.next=function(){return this.stashed()||this.advance()},m.prototype.stashed=function(){return this.stash.shift()},m.prototype.skip=function(t){this.str=this.str.substr(Array.isArray(t)?t[0].length:t)},m.prototype.eos=function(){if(!this.str.length)return"eos"},m.prototype.space=function(){var t;if(t=/^([ \t]+)/.exec(this.str))return this.skip(t),this.advance()},m.prototype.second=function(){var t;if(t=/^s(ec|econd)?s?/.exec(this.str))return this.skip(t),"second"},m.prototype.minute=function(){var t;if(t=/^m(in|inute)?s?/.exec(this.str))return this.skip(t),"minute"},m.prototype.hour=function(){var t;if(t=/^h(r|our)s?/.exec(this.str))return this.skip(t),"hour"},m.prototype.day=function(){var t;if(t=/^d(ay)?s?/.exec(this.str))return this.skip(t),"day"},m.prototype.dayByName=function(){var t;if(t=new RegExp("^"+c.source).exec(this.str)){var e=t[1];return this.skip(t),this.date[e](1),t[1]}},m.prototype.monthByName=function(){var t;if(t=h.exec(this.str)){var e=t[2],n=t[6];return this.date.date.setMonth(o.indexOf(n)),e&&this.date.date.setDate(parseInt(e)),this.skip(t),t[0]}},m.prototype.timeAgo=function(){var t;if(t=p.exec(this.str)){var e=t[1],n=t[2];return this.date[n](-e),this.skip(t),"timeAgo"}},m.prototype.week=function(){var t;if(t=/^w(k|eek)s?/.exec(this.str))return this.skip(t),"week"},m.prototype.month=function(){var t;if(t=/^mon(th)?(es|s)?\b/.exec(this.str))return this.skip(t),"month"},m.prototype.year=function(){var t;if(t=/^y(r|ear)s?/.exec(this.str))return this.skip(t),"year"},m.prototype.meridiem=function(){var t;if(t=s.exec(this.str))return this.skip(t),this.time(t[1],t[3],t[5],t[6]),"meridiem"},m.prototype.hourminute=function(){var t;if(t=u.exec(this.str))return this.skip(t),this.time(t[1],t[3],t[5],this._meridiem),"hourminute"},m.prototype.athour=function(){var t;if(t=l.exec(this.str))return this.skip(t),this.time(t[1],0,0,this._meridiem),this._meridiem=null,"athour"},m.prototype.time=function(t,e,n,r){var i=this.date;i.clone();r&&(t="pm"==r&&12>t?+t+12:t,t="am"==r&&12==t?0:t),e=!(!e&&i.changed("minutes"))&&e,n=!(!n&&i.changed("seconds"))&&n,i.time(t,e,n)},m.prototype.nextTime=function(t){var e=this.date,n=this.original;return t<=e.date||f.test(n)||(c.test(n)?e.day(7):(t-e.date)/1e3>60&&(h.test(n)?e.day(0):e.day(1))),this},m.prototype.yesterday=function(){var t;if(t=/^(yes(terday)?)/.exec(this.str))return this.skip(t),this.date.day(-1),"yesterday"},m.prototype.tomorrow=function(){var t;if(t=/^tom(orrow)?/.exec(this.str))return this.skip(t),this.date.day(1),"tomorrow"},m.prototype.noon=function(){var t;if(t=/^noon\b/.exec(this.str)){this.skip(t);this.date.clone();return this.date.date.setHours(12,0,0),"noon"}},m.prototype.midnight=function(){var t;if(t=/^midnight\b/.exec(this.str)){this.skip(t);this.date.clone();return this.date.date.setHours(0,0,0),"midnight"}},m.prototype.night=function(){var t;if(t=/^night\b/.exec(this.str)){this.skip(t),this._meridiem="pm";this.date.clone();return this.date.date.setHours(19,0,0),"night"}},m.prototype.evening=function(){var t;if(t=/^evening\b/.exec(this.str)){this.skip(t),this._meridiem="pm";this.date.clone();return this.date.date.setHours(17,0,0),"evening"}},m.prototype.afternoon=function(){var t;if(t=/^afternoon\b/.exec(this.str)){this.skip(t),this._meridiem="pm";this.date.clone();return this.date.changed("hours")||this.date.date.setHours(14,0,0),"afternoon"}},m.prototype.morning=function(){var t;if(t=/^morning\b/.exec(this.str)){this.skip(t),this._meridiem="am";this.date.clone();return this.date.changed("hours")||this.date.date.setHours(8,0,0),"morning"}},m.prototype.tonight=function(){var t;if(t=/^tonight\b/.exec(this.str))return this.skip(t),this._meridiem="pm","tonight"},m.prototype._next=function(){var t;if(t=/^next/.exec(this.str)){this.skip(t);var e=new Date(this.date.date),n=this.peek();return this.date[n]?(this.next(),this.date=i(e),this.date[n](1)):d.test(n)&&this.date.day(1),"next"}},m.prototype.last=function(){var t;if(t=/^last/.exec(this.str)){this.skip(t);var e=new Date(this.date.date),n=this.peek();return this.date[n]?(this.next(),this.date=i(e),this.date[n](-1)):d.test(n)&&this.date.day(-1),"last"}},m.prototype.ago=function(){var t;if(t=/^ago\b/.exec(this.str))return this.skip(t),"ago"},m.prototype.number=function(){var t;if(t=/^(\d+)/.exec(this.str)){var e=t[1];this.skip(t);var n=this.peek();return this.date[n]?("ago"==this.peek()&&(e=-e),this.date[n](e)):(this._meridiem||this.original.indexOf("at")>-1)&&(this.time(e,0,0,this._meridiem),this._meridiem=null),"number"}},m.prototype.string=function(){var t;if(t=/^\w+/.exec(this.str))return this.skip(t),"string"},m.prototype.other=function(){var t;if(t=/^./.exec(this.str))return this.skip(t),"other"}},baeb:function(t,e,n){},bb2f:function(t,e,n){var r=n("d039");t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},bbb5:function(t,e,n){},bc01:function(t,e,n){var r=n("23e7"),i=n("d039"),a=Math.imul;r({target:"Math",stat:!0,forced:i((function(){return-5!=a(4294967295,5)||2!=a.length}))},{imul:function(t,e){var n=+t,r=+e,i=65535&n,a=65535&r;return 0|i*a+((65535&n>>>16)*a+i*(65535&r>>>16)<<16>>>0)}})},bc3a:function(t,e,n){t.exports=n("cee4")},be44:function(t,e,n){"use strict";n.d(e,"b",(function(){return f}));n("3410"),n("ac1f"),n("1276");var r=n("a026"),i=n("7098"),a=n.n(i),o=n("a0aa"),s=n("6c49"),u=o,l=!1,c=function(){var t=Object.getPrototypeOf(this||r.default).$t;if("function"==typeof t&&r.default.locale)return l||(l=!0,r.default.locale(r.default.config.lang,a()(u,r.default.locale(r.default.config.lang)||{},{clone:!0}))),t.apply(this,arguments)},h=function(t){var e=c.apply(this,arguments);if(null!=e)return e;for(var n=t.split("."),r=u,i=0,a=n.length;i<a;i++){var o=n[i];if(e=r[o],i===a-1)return e;if(!e)return"";r=e}return""},f={methods:{t:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return h.apply(this,e)}}};e.a={use:function(t){u="en"===t?s:o},t:h,i18n:function(t){c=t||c},lMixin:f}},be8e:function(t,e,n){var r=n("f748"),i=Math.abs,a=Math.pow,o=a(2,-52),s=a(2,-23),u=a(2,127)*(2-s),l=a(2,-126);t.exports=Math.fround||function(t){var e,n,a=i(t),c=r(t);return a<l?c*(a/l/s+1/o-1/o)*l*s:(n=(e=(1+s/o)*a)-(e-a))>u||n!=n?c*(1/0):c*n}},bf19:function(t,e,n){"use strict";n("23e7")({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},bf96:function(t,e,n){"use strict";var r=n("23e7"),i=n("83ab"),a=n("eb1d"),o=n("7b0b"),s=n("c04e"),u=n("e163"),l=n("06cf").f;i&&r({target:"Object",proto:!0,forced:a},{__lookupGetter__:function(t){var e,n=o(this),r=s(t,!0);do{if(e=l(n,r))return e.get}while(n=u(n))}})},bfbc:function(t,e,n){"use strict";var r=n("70a3");n.n(r).a},c04e:function(t,e,n){var r=n("861d");t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},c098:function(t,e,n){t.exports=n("d4af")},c0b6:function(t,e,n){n("23e7")({target:"Function",proto:!0},{bind:n("0538")})},c19f:function(t,e,n){"use strict";var r=n("23e7"),i=n("da84"),a=n("621a"),o=n("2626"),s=a.ArrayBuffer;r({global:!0,forced:i.ArrayBuffer!==s},{ArrayBuffer:s}),o("ArrayBuffer")},c1ac:function(t,e,n){"use strict";var r=n("ebb5"),i=n("b727").filter,a=n("4840"),o=r.aTypedArray,s=r.aTypedArrayConstructor;(0,r.exportTypedArrayMethod)("filter",(function(t){for(var e=i(o(this),t,arguments.length>1?arguments[1]:void 0),n=a(this,this.constructor),r=0,u=e.length,l=new(s(n))(u);u>r;)l[r]=e[r++];return l}))},c1f9:function(t,e,n){var r=n("23e7"),i=n("2266"),a=n("8418");r({target:"Object",stat:!0},{fromEntries:function(t){var e={};return i(t,(function(t,n){a(e,t,n)}),void 0,!0),e}})},c20d:function(t,e,n){var r=n("da84"),i=n("58a8").trim,a=n("5899"),o=r.parseInt,s=/^[+-]?0[Xx]/,u=8!==o(a+"08")||22!==o(a+"0x16");t.exports=u?function(t,e){var n=i(String(t));return o(n,e>>>0||(s.test(n)?16:10))}:o},c345:function(t,e,n){"use strict";var r=n("c532"),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,a,o={};return t?(r.forEach(t.split("\n"),(function(t){if(a=t.indexOf(":"),e=r.trim(t.substr(0,a)).toLowerCase(),n=r.trim(t.substr(a+1)),e){if(o[e]&&i.indexOf(e)>=0)return;o[e]="set-cookie"===e?(o[e]?o[e]:[]).concat([n]):o[e]?o[e]+", "+n:n}})),o):o}},c35a:function(t,e,n){var r=n("23e7"),i=n("7e12");r({target:"Number",stat:!0,forced:Number.parseFloat!=i},{parseFloat:i})},c3b4:function(t,e,n){"use strict";n("b0c0"),n("a9e3");var r={data:function(){return{modelColorLimit:(1*this.color).mul(this.times),prefix:this.prefix}},inject:["prefix"],props:{name:{type:String,default:""},color:{type:String,default:""},times:{type:Number,default:1},maxLimit:{type:Number,default:1},type:{type:String,default:""}},watch:{color:function(t){this.modelColorLimit=(1*t).mul(this.times)}},methods:{change:function(t){var e=t.target.value;e>this.maxLimit&&(e=this.maxLimit),(e<0||"number"!=typeof(1*e)||isNaN(e))&&(e=0);var n=(1*e).div(this.times);this.modelColorLimit=(1*e).div(1),this.$emit("inputColor",n,this.name)}},computed:{modelColor:{get:function(){return this.color},set:function(t){this.$emit("inputColor",t,this.name)}}}},i=(n("fcc6"),n("2877")),a=Object(i.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.prefix+"-color-type-box"},["limit"!==t.type?n("div",{class:t.prefix+"-color-type"},[n("span",{class:t.prefix+"-name"},[t._v(t._s(t.name))]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.modelColor,expression:"modelColor"}],class:t.prefix+"-value",domProps:{value:t.modelColor},on:{input:function(e){e.target.composing||(t.modelColor=e.target.value)}}})]):t._e(),"limit"===t.type?n("div",{class:t.prefix+"-color-type"},[n("span",{class:t.prefix+"-name"},[t._v(t._s(t.name))]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.modelColorLimit,expression:"modelColorLimit"}],class:t.prefix+"-value",domProps:{value:t.modelColorLimit},on:{input:[function(e){e.target.composing||(t.modelColorLimit=e.target.value)},t.change]}})]):t._e()])}),[],!1,null,"efa644ac",null);e.a=a.exports},c401:function(t,e,n){"use strict";var r=n("c532");t.exports=function(t,e,n){return r.forEach(n,(function(n){t=n(t,e)})),t}},c430:function(t,e){t.exports=!1},c532:function(t,e,n){"use strict";var r=n("1d2b"),i=Object.prototype.toString;function a(t){return"[object Array]"===i.call(t)}function o(t){return void 0===t}function s(t){return null!==t&&"object"==typeof t}function u(t){return"[object Function]"===i.call(t)}function l(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),a(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}t.exports={isArray:a,isArrayBuffer:function(t){return"[object ArrayBuffer]"===i.call(t)},isBuffer:function(t){return null!==t&&!o(t)&&null!==t.constructor&&!o(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isUndefined:o,isDate:function(t){return"[object Date]"===i.call(t)},isFile:function(t){return"[object File]"===i.call(t)},isBlob:function(t){return"[object Blob]"===i.call(t)},isFunction:u,isStream:function(t){return s(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:l,merge:function t(){var e={};function n(n,r){"object"==typeof e[r]&&"object"==typeof n?e[r]=t(e[r],n):e[r]=n}for(var r=0,i=arguments.length;r<i;r++)l(arguments[r],n);return e},deepMerge:function t(){var e={};function n(n,r){"object"==typeof e[r]&&"object"==typeof n?e[r]=t(e[r],n):e[r]="object"==typeof n?t({},n):n}for(var r=0,i=arguments.length;r<i;r++)l(arguments[r],n);return e},extend:function(t,e,n){return l(e,(function(e,i){t[i]=n&&"function"==typeof e?r(e,n):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},c5d0:function(t,e,n){"use strict";var r=n("23e7"),i=n("857a");r({target:"String",proto:!0,forced:n("af03")("italics")},{italics:function(){return i(this,"i","","")}})},c6b6:function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},c6cd:function(t,e,n){var r=n("da84"),i=n("ce4e"),a=r["__core-js_shared__"]||i("__core-js_shared__",{});t.exports=a},c740:function(t,e,n){"use strict";var r=n("23e7"),i=n("b727").findIndex,a=n("44d2"),o=n("ae40"),s=!0,u=o("findIndex");"findIndex"in[]&&Array(1).findIndex((function(){s=!1})),r({target:"Array",proto:!0,forced:s||!u},{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),a("findIndex")},c760:function(t,e,n){n("23e7")({target:"Reflect",stat:!0},{has:function(t,e){return e in t}})},c7cd:function(t,e,n){"use strict";var r=n("23e7"),i=n("857a");r({target:"String",proto:!0,forced:n("af03")("fixed")},{fixed:function(){return i(this,"tt","","")}})},c8af:function(t,e,n){"use strict";var r=n("c532");t.exports=function(t,e){r.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))}},c8ba:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},c8d2:function(t,e,n){var r=n("d039"),i=n("5899");t.exports=function(t){return r((function(){return!!i[t]()||"​᠎"!="​᠎"[t]()||i[t].name!==t}))}},c901:function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},c906:function(t,e,n){var r=n("23e7"),i=n("d039"),a=n("861d"),o=Object.isExtensible;r({target:"Object",stat:!0,forced:i((function(){o(1)}))},{isExtensible:function(t){return!!a(t)&&(!o||o(t))}})},c96a:function(t,e,n){"use strict";var r=n("23e7"),i=n("857a");r({target:"String",proto:!0,forced:n("af03")("small")},{small:function(){return i(this,"small","","")}})},c975:function(t,e,n){"use strict";var r=n("23e7"),i=n("4d64").indexOf,a=n("a640"),o=n("ae40"),s=[].indexOf,u=!!s&&1/[1].indexOf(1,-0)<0,l=a("indexOf"),c=o("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:u||!l||!c},{indexOf:function(t){return u?s.apply(this,arguments)||0:i(this,t,arguments.length>1?arguments[1]:void 0)}})},ca21:function(t,e,n){n("23e7")({target:"Math",stat:!0},{log1p:n("1ec1")})},ca84:function(t,e,n){var r=n("5135"),i=n("fc6a"),a=n("4d64").indexOf,o=n("d012");t.exports=function(t,e){var n,s=i(t),u=0,l=[];for(n in s)!r(o,n)&&r(s,n)&&l.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~a(l,n)||l.push(n));return l}},ca91:function(t,e,n){"use strict";var r=n("ebb5"),i=n("d58f").left,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduce",(function(t){return i(a(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}))},caad:function(t,e,n){"use strict";var r=n("23e7"),i=n("4d64").includes,a=n("44d2");r({target:"Array",proto:!0,forced:!n("ae40")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),a("includes")},cb29:function(t,e,n){var r=n("23e7"),i=n("81d5"),a=n("44d2");r({target:"Array",proto:!0},{fill:i}),a("fill")},cc12:function(t,e,n){var r=n("da84"),i=n("861d"),a=r.document,o=i(a)&&i(a.createElement);t.exports=function(t){return o?a.createElement(t):{}}},cc15:function(t,e,n){var r=n("b367")("wks"),i=n("8b1a"),a=n("ef08").Symbol,o="function"==typeof a;(t.exports=function(t){return r[t]||(r[t]=o&&a[t]||(o?a:i)("Symbol."+t))}).store=r},cc71:function(t,e,n){"use strict";var r=n("23e7"),i=n("857a");r({target:"String",proto:!0,forced:n("af03")("bold")},{bold:function(){return i(this,"b","","")}})},cca6:function(t,e,n){var r=n("23e7"),i=n("60da");r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},cd26:function(t,e,n){"use strict";var r=n("ebb5"),i=r.aTypedArray,a=r.exportTypedArrayMethod,o=Math.floor;a("reverse",(function(){for(var t,e=i(this).length,n=o(e/2),r=0;r<n;)t=this[r],this[r++]=this[--e],this[e]=t;return this}))},cdf9:function(t,e,n){var r=n("825a"),i=n("861d"),a=n("f069");t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=a.f(t);return(0,n.resolve)(e),n.promise}},ce4e:function(t,e,n){var r=n("da84"),i=n("9112");t.exports=function(t,e){try{i(r,t,e)}catch(n){r[t]=e}return e}},ce7a:function(t,e,n){var r=n("9c0e"),i=n("0983"),a=n("5a94")("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?o:null}},cee4:function(t,e,n){"use strict";var r=n("c532"),i=n("1d2b"),a=n("0a06"),o=n("4a7b");function s(t){var e=new a(t),n=i(a.prototype.request,e);return r.extend(n,a.prototype,e),r.extend(n,e),n}var u=s(n("2444"));u.Axios=a,u.create=function(t){return s(o(u.defaults,t))},u.Cancel=n("7a77"),u.CancelToken=n("8df4"),u.isCancel=n("2e67"),u.all=function(t){return Promise.all(t)},u.spread=n("0df6"),t.exports=u,t.exports.default=u},cee8:function(t,e,n){var r=n("23e7"),i=n("861d"),a=n("f183").onFreeze,o=n("bb2f"),s=n("d039"),u=Object.preventExtensions;r({target:"Object",stat:!0,forced:s((function(){u(1)})),sham:!o},{preventExtensions:function(t){return u&&i(t)?u(a(t)):t}})},cfc3:function(t,e,n){n("74e8")("Float32",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},d012:function(t,e){t.exports={}},d039:function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},d066:function(t,e,n){var r=n("428f"),i=n("da84"),a=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?a(r[t])||a(i[t]):r[t]&&r[t][e]||i[t]&&i[t][e]}},d139:function(t,e,n){"use strict";var r=n("ebb5"),i=n("b727").find,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("find",(function(t){return i(a(this),t,arguments.length>1?arguments[1]:void 0)}))},d16a:function(t,e,n){var r=n("fc5e"),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},d1e7:function(t,e,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,a=i&&!r.call({1:2},1);e.f=a?function(t){var e=i(this,t);return!!e&&e.enumerable}:r},d233:function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,i=Array.isArray,a=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),o=function(t,e){for(var n=e&&e.plainObjects?Object.create(null):{},r=0;r<t.length;++r)void 0!==t[r]&&(n[r]=t[r]);return n};t.exports={arrayToObject:o,assign:function(t,e){return Object.keys(e).reduce((function(t,n){return t[n]=e[n],t}),t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],n=[],r=0;r<e.length;++r)for(var a=e[r],o=a.obj[a.prop],s=Object.keys(o),u=0;u<s.length;++u){var l=s[u],c=o[l];"object"==typeof c&&null!==c&&-1===n.indexOf(c)&&(e.push({obj:o,prop:l}),n.push(c))}return function(t){for(;t.length>1;){var e=t.pop(),n=e.obj[e.prop];if(i(n)){for(var r=[],a=0;a<n.length;++a)void 0!==n[a]&&r.push(n[a]);e.obj[e.prop]=r}}}(e),t},decode:function(t,e,n){var r=t.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(t){return r}},encode:function(t,e,n){if(0===t.length)return t;var r="string"==typeof t?t:String(t);if("iso-8859-1"===n)return escape(r).replace(/%u[0-9a-f]{4}/gi,(function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"}));for(var i="",o=0;o<r.length;++o){var s=r.charCodeAt(o);45===s||46===s||95===s||126===s||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122?i+=r.charAt(o):s<128?i+=a[s]:s<2048?i+=a[192|s>>6]+a[128|63&s]:s<55296||s>=57344?i+=a[224|s>>12]+a[128|s>>6&63]+a[128|63&s]:(o+=1,s=65536+((1023&s)<<10|1023&r.charCodeAt(o)),i+=a[240|s>>18]+a[128|s>>12&63]+a[128|s>>6&63]+a[128|63&s])}return i},isBuffer:function(t){return!(!t||"object"!=typeof t)&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},merge:function t(e,n,a){if(!n)return e;if("object"!=typeof n){if(i(e))e.push(n);else{if(!e||"object"!=typeof e)return[e,n];(a&&(a.plainObjects||a.allowPrototypes)||!r.call(Object.prototype,n))&&(e[n]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(n);var s=e;return i(e)&&!i(n)&&(s=o(e,a)),i(e)&&i(n)?(n.forEach((function(n,i){if(r.call(e,i)){var o=e[i];o&&"object"==typeof o&&n&&"object"==typeof n?e[i]=t(o,n,a):e.push(n)}else e[i]=n})),e):Object.keys(n).reduce((function(e,i){var o=n[i];return r.call(e,i)?e[i]=t(e[i],o,a):e[i]=o,e}),s)}}},d28b:function(t,e,n){n("746f")("iterator")},d2bb:function(t,e,n){var r=n("825a"),i=n("3bbe");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,a){return r(n),i(a),e?t.call(n,a):n.__proto__=a,n}}():void 0)},d3b7:function(t,e,n){var r=n("00ee"),i=n("6eeb"),a=n("b041");r||i(Object.prototype,"toString",a,{unsafe:!0})},d44e:function(t,e,n){var r=n("9bf2").f,i=n("5135"),a=n("b622")("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,a)&&r(t,a,{configurable:!0,value:e})}},d4af:function(t,e,n){"use strict";var r=n("8eb7"),i=n("7b3e");function a(t){var e=0,n=0,r=0,i=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),r=10*e,i=10*n,"deltaY"in t&&(i=t.deltaY),"deltaX"in t&&(r=t.deltaX),(r||i)&&t.deltaMode&&(1==t.deltaMode?(r*=40,i*=40):(r*=800,i*=800)),r&&!e&&(e=r<1?-1:1),i&&!n&&(n=i<1?-1:1),{spinX:e,spinY:n,pixelX:r,pixelY:i}}a.getEventType=function(){return r.firefox()?"DOMMouseScroll":i("wheel")?"wheel":"mousewheel"},t.exports=a},d58f:function(t,e,n){var r=n("1c0b"),i=n("7b0b"),a=n("44ad"),o=n("50c4"),s=function(t){return function(e,n,s,u){r(n);var l=i(e),c=a(l),h=o(l.length),f=t?h-1:0,d=t?-1:1;if(s<2)for(;;){if(f in c){u=c[f],f+=d;break}if(f+=d,t?f<0:h<=f)throw TypeError("Reduce of empty array with no initial value")}for(;t?f>=0:h>f;f+=d)f in c&&(u=n(u,c[f],f,l));return u}};t.exports={left:s(!1),right:s(!0)}},d5d6:function(t,e,n){"use strict";var r=n("ebb5"),i=n("b727").forEach,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("forEach",(function(t){i(a(this),t,arguments.length>1?arguments[1]:void 0)}))},d6dd:function(t,e,n){var r=n("23e7"),i=n("d066"),a=n("825a");r({target:"Reflect",stat:!0,sham:!n("bb2f")},{preventExtensions:function(t){a(t);try{var e=i("Object","preventExtensions");return e&&e(t),!0}catch(t){return!1}}})},d784:function(t,e,n){"use strict";n("ac1f");var r=n("6eeb"),i=n("d039"),a=n("b622"),o=n("9263"),s=n("9112"),u=a("species"),l=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),c="$0"==="a".replace(/./,"$0"),h=a("replace"),f=!!/./[h]&&""===/./[h]("a","$0"),d=!i((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,h){var p=a(t),m=!i((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),g=m&&!i((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[u]=function(){return n},n.flags="",n[p]=/./[p]),n.exec=function(){return e=!0,null},n[p](""),!e}));if(!m||!g||"replace"===t&&(!l||!c||f)||"split"===t&&!d){var _=/./[p],v=n(p,""[t],(function(t,e,n,r,i){return e.exec===o?m&&!i?{done:!0,value:_.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:c,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),y=v[0],b=v[1];r(String.prototype,t,y),r(RegExp.prototype,p,2==e?function(t,e){return b.call(t,this,e)}:function(t){return b.call(t,this)})}h&&s(RegExp.prototype[p],"sham",!0)}},d80f:function(t,e,n){var r=n("23e7"),i=n("fc6a"),a=n("50c4");r({target:"String",stat:!0},{raw:function(t){for(var e=i(t.raw),n=a(e.length),r=arguments.length,o=[],s=0;n>s;)o.push(String(e[s++])),s<r&&o.push(String(arguments[s]));return o.join("")}})},d81d:function(t,e,n){"use strict";var r=n("23e7"),i=n("b727").map,a=n("1dde"),o=n("ae40"),s=a("map"),u=o("map");r({target:"Array",proto:!0,forced:!s||!u},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},d893:function(t,e,n){"use strict";(function(t){n("7db0"),n("4160"),n("159b"),n("a7be"),n("f6b6");var r=n("56b3"),i=n.n(r),a=(n("ffda"),n("9b74"),n("991c"),n("31c5"),n("1fdb"),n("4498"),n("3110"),n("9948"),n("b933"),n("4ba6"),n("8c33"),n("7289"),n("2aed"),n("d72f"),n("0b6c"),n("9a48"),n("697eb"),n("aedd"),n("164b"),n("4895"),n("cbc8"),n("8d70"),n("9f09"),n("a2c1"),n("6bb1").js_beautify);e.a={name:"highLightComponent",props:{properties:{type:Object,default:function(){return{sqlString:""}}}},data:function(){return{editor:null,mutationObserver:"",defaultSet:{theme:"default",mode:"text/x-sql",hintOptions:{tables:{userPkId:[],loginName:[],orgId:[],reportTime:[],beginTime:[],endTime:[]}},lineNumbers:!0,scrollbarStyle:"simple",startAutoFormatCode:!1},defaultStyle:{height:"100%",width:"100%",border:"1px solid #eee"}}},computed:{highLightSet:function(){return t.extend(!0,{},this.defaultSet,this.properties.highLighterObj)},highLightStyle:function(){return t.extend(!0,{},this.defaultStyle,this.properties.style)}},mounted:function(){this.mutationObserver&&(this.mutationObserver.disconnect(),this.mutationObserver.takeRecord());this.mutationObserver=new MutationObserver((function(t){t.forEach((function(t){"attributes"==t.type&&t.attributeName}))}));this.mutationObserver.observe(document.body,{attributes:!0,childList:!1,subtree:!1,attributeOldValue:!0});var e=this,n=t(e.$el).find("#sqlAreaShow")[0];e.editor=i.a.fromTextArea(n,e.highLightSet),e.editor.setSize("100%","100%"),e.editor.on("blur",(function(){e.$emit("highLightblur",e.editor.getValue())})),e.editor.on("focus",(function(){e.$emit("highLightfocus")})),e.editor.on("keyup",(function(t,e){!t.state.completionActive&&(e.keyCode>=65&&e.keyCode<=90||52===e.keyCode||219===e.keyCode||190===e.keyCode||186===e.keyCode)&&i.a.commands.autocomplete(t,null,{completeSingle:!1})}))},watch:{properties:function(){void 0!==this.properties.sqlString&&this.editor.setValue(this.properties.sqlString),this.properties.startAutoFormatCode&&this.editor.setValue(a(this.editor.getValue(),{indent_size:2}))}}}}).call(this,n("1157"))},d8de:function(t,e,n){"use strict";n.r(e);var r,i=n("3eba"),a=n.n(i),o=Array,s=Math.random,u={};u.create=function(){var t=new o(3);return t[0]=0,t[1]=0,t[2]=0,t},u.clone=function(t){var e=new o(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},u.fromValues=function(t,e,n){var r=new o(3);return r[0]=t,r[1]=e,r[2]=n,r},u.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},u.set=function(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t},u.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},u.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t},u.sub=u.subtract,u.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t},u.mul=u.multiply,u.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t},u.div=u.divide,u.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t},u.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t},u.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},u.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t},u.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)},u.dist=u.distance,u.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i},u.sqrDist=u.squaredDistance,u.length=function(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)},u.len=u.length,u.squaredLength=function(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r},u.sqrLen=u.squaredLength,u.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},u.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},u.normalize=function(t,e){var n=e[0],r=e[1],i=e[2],a=n*n+r*r+i*i;return a>0&&(a=1/Math.sqrt(a),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a),t},u.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},u.cross=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[0],s=n[1],u=n[2];return t[0]=i*u-a*s,t[1]=a*o-r*u,t[2]=r*s-i*o,t},u.lerp=function(t,e,n,r){var i=e[0],a=e[1],o=e[2];return t[0]=i+r*(n[0]-i),t[1]=a+r*(n[1]-a),t[2]=o+r*(n[2]-o),t},u.random=function(t,e){e=e||1;var n=2*s()*Math.PI,r=2*s()-1,i=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*i,t[1]=Math.sin(n)*i,t[2]=r*e,t},u.transformMat4=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[3]*r+n[7]*i+n[11]*a+n[15];return o=o||1,t[0]=(n[0]*r+n[4]*i+n[8]*a+n[12])/o,t[1]=(n[1]*r+n[5]*i+n[9]*a+n[13])/o,t[2]=(n[2]*r+n[6]*i+n[10]*a+n[14])/o,t},u.transformMat3=function(t,e,n){var r=e[0],i=e[1],a=e[2];return t[0]=r*n[0]+i*n[3]+a*n[6],t[1]=r*n[1]+i*n[4]+a*n[7],t[2]=r*n[2]+i*n[5]+a*n[8],t},u.transformQuat=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[0],s=n[1],u=n[2],l=n[3],c=l*r+s*a-u*i,h=l*i+u*r-o*a,f=l*a+o*i-s*r,d=-o*r-s*i-u*a;return t[0]=c*l+d*-o+h*-u-f*-s,t[1]=h*l+d*-s+f*-o-c*-u,t[2]=f*l+d*-u+c*-s-h*-o,t},u.rotateX=function(t,e,n,r){var i=[],a=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],a[0]=i[0],a[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),a[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t},u.rotateY=function(t,e,n,r){var i=[],a=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],a[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),a[1]=i[1],a[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t},u.rotateZ=function(t,e,n,r){var i=[],a=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],a[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),a[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),a[2]=i[2],t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t},u.forEach=(r=u.create(),function(t,e,n,i,a,o){var s,u;for(e||(e=3),n||(n=0),u=i?Math.min(i*e+n,t.length):t.length,s=n;s<u;s+=e)r[0]=t[s],r[1]=t[s+1],r[2]=t[s+2],a(r,r,o),t[s]=r[0],t[s+1]=r[1],t[s+2]=r[2];return t}),u.angle=function(t,e){var n=u.fromValues(t[0],t[1],t[2]),r=u.fromValues(e[0],e[1],e[2]);u.normalize(n,n),u.normalize(r,r);var i=u.dot(n,r);return i>1?0:Math.acos(i)};var l=u,c=function(t,e,n){t=t||0,e=e||0,n=n||0,this.array=l.fromValues(t,e,n),this._dirty=!0};c.prototype={constructor:c,add:function(t){return l.add(this.array,this.array,t.array),this._dirty=!0,this},set:function(t,e,n){return this.array[0]=t,this.array[1]=e,this.array[2]=n,this._dirty=!0,this},setArray:function(t){return this.array[0]=t[0],this.array[1]=t[1],this.array[2]=t[2],this._dirty=!0,this},clone:function(){return new c(this.x,this.y,this.z)},copy:function(t){return l.copy(this.array,t.array),this._dirty=!0,this},cross:function(t,e){return l.cross(this.array,t.array,e.array),this._dirty=!0,this},dist:function(t){return l.dist(this.array,t.array)},distance:function(t){return l.distance(this.array,t.array)},div:function(t){return l.div(this.array,this.array,t.array),this._dirty=!0,this},divide:function(t){return l.divide(this.array,this.array,t.array),this._dirty=!0,this},dot:function(t){return l.dot(this.array,t.array)},len:function(){return l.len(this.array)},length:function(){return l.length(this.array)},lerp:function(t,e,n){return l.lerp(this.array,t.array,e.array,n),this._dirty=!0,this},min:function(t){return l.min(this.array,this.array,t.array),this._dirty=!0,this},max:function(t){return l.max(this.array,this.array,t.array),this._dirty=!0,this},mul:function(t){return l.mul(this.array,this.array,t.array),this._dirty=!0,this},multiply:function(t){return l.multiply(this.array,this.array,t.array),this._dirty=!0,this},negate:function(){return l.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return l.normalize(this.array,this.array),this._dirty=!0,this},random:function(t){return l.random(this.array,t),this._dirty=!0,this},scale:function(t){return l.scale(this.array,this.array,t),this._dirty=!0,this},scaleAndAdd:function(t,e){return l.scaleAndAdd(this.array,this.array,t.array,e),this._dirty=!0,this},sqrDist:function(t){return l.sqrDist(this.array,t.array)},squaredDistance:function(t){return l.squaredDistance(this.array,t.array)},sqrLen:function(){return l.sqrLen(this.array)},squaredLength:function(){return l.squaredLength(this.array)},sub:function(t){return l.sub(this.array,this.array,t.array),this._dirty=!0,this},subtract:function(t){return l.subtract(this.array,this.array,t.array),this._dirty=!0,this},transformMat3:function(t){return l.transformMat3(this.array,this.array,t.array),this._dirty=!0,this},transformMat4:function(t){return l.transformMat4(this.array,this.array,t.array),this._dirty=!0,this},transformQuat:function(t){return l.transformQuat(this.array,this.array,t.array),this._dirty=!0,this},applyProjection:function(t){var e=this.array;if(0===(t=t.array)[15]){var n=-1/e[2];e[0]=t[0]*e[0]*n,e[1]=t[5]*e[1]*n,e[2]=(t[10]*e[2]+t[14])*n}else e[0]=t[0]*e[0]+t[12],e[1]=t[5]*e[1]+t[13],e[2]=t[10]*e[2]+t[14];return this._dirty=!0,this},eulerFromQuat:function(t,e){c.eulerFromQuat(this,t,e)},eulerFromMat3:function(t,e){c.eulerFromMat3(this,t,e)},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var h=Object.defineProperty;if(h){var f=c.prototype;h(f,"x",{get:function(){return this.array[0]},set:function(t){this.array[0]=t,this._dirty=!0}}),h(f,"y",{get:function(){return this.array[1]},set:function(t){this.array[1]=t,this._dirty=!0}}),h(f,"z",{get:function(){return this.array[2]},set:function(t){this.array[2]=t,this._dirty=!0}})}function d(t,e,n){return t<e?e:t>n?n:t}c.add=function(t,e,n){return l.add(t.array,e.array,n.array),t._dirty=!0,t},c.set=function(t,e,n,r){l.set(t.array,e,n,r),t._dirty=!0},c.copy=function(t,e){return l.copy(t.array,e.array),t._dirty=!0,t},c.cross=function(t,e,n){return l.cross(t.array,e.array,n.array),t._dirty=!0,t},c.distance=c.dist=function(t,e){return l.distance(t.array,e.array)},c.divide=c.div=function(t,e,n){return l.divide(t.array,e.array,n.array),t._dirty=!0,t},c.dot=function(t,e){return l.dot(t.array,e.array)},c.len=function(t){return l.length(t.array)},c.lerp=function(t,e,n,r){return l.lerp(t.array,e.array,n.array,r),t._dirty=!0,t},c.min=function(t,e,n){return l.min(t.array,e.array,n.array),t._dirty=!0,t},c.max=function(t,e,n){return l.max(t.array,e.array,n.array),t._dirty=!0,t},c.multiply=c.mul=function(t,e,n){return l.multiply(t.array,e.array,n.array),t._dirty=!0,t},c.negate=function(t,e){return l.negate(t.array,e.array),t._dirty=!0,t},c.normalize=function(t,e){return l.normalize(t.array,e.array),t._dirty=!0,t},c.random=function(t,e){return l.random(t.array,e),t._dirty=!0,t},c.scale=function(t,e,n){return l.scale(t.array,e.array,n),t._dirty=!0,t},c.scaleAndAdd=function(t,e,n,r){return l.scaleAndAdd(t.array,e.array,n.array,r),t._dirty=!0,t},c.squaredDistance=c.sqrDist=function(t,e){return l.sqrDist(t.array,e.array)},c.squaredLength=c.sqrLen=function(t){return l.sqrLen(t.array)},c.subtract=c.sub=function(t,e,n){return l.subtract(t.array,e.array,n.array),t._dirty=!0,t},c.transformMat3=function(t,e,n){return l.transformMat3(t.array,e.array,n.array),t._dirty=!0,t},c.transformMat4=function(t,e,n){return l.transformMat4(t.array,e.array,n.array),t._dirty=!0,t},c.transformQuat=function(t,e,n){return l.transformQuat(t.array,e.array,n.array),t._dirty=!0,t};var p=Math.atan2,m=Math.asin,g=Math.abs;c.eulerFromQuat=function(t,e,n){t._dirty=!0,e=e.array;var r=t.array,i=e[0],a=e[1],o=e[2],s=e[3],u=i*i,l=a*a,c=o*o,h=s*s;switch(n=(n||"XYZ").toUpperCase()){case"XYZ":r[0]=p(2*(i*s-a*o),h-u-l+c),r[1]=m(d(2*(i*o+a*s),-1,1)),r[2]=p(2*(o*s-i*a),h+u-l-c);break;case"YXZ":r[0]=m(d(2*(i*s-a*o),-1,1)),r[1]=p(2*(i*o+a*s),h-u-l+c),r[2]=p(2*(i*a+o*s),h-u+l-c);break;case"ZXY":r[0]=m(d(2*(i*s+a*o),-1,1)),r[1]=p(2*(a*s-o*i),h-u-l+c),r[2]=p(2*(o*s-i*a),h-u+l-c);break;case"ZYX":r[0]=p(2*(i*s+o*a),h-u-l+c),r[1]=m(d(2*(a*s-i*o),-1,1)),r[2]=p(2*(i*a+o*s),h+u-l-c);break;case"YZX":r[0]=p(2*(i*s-o*a),h-u+l-c),r[1]=p(2*(a*s-i*o),h+u-l-c),r[2]=m(d(2*(i*a+o*s),-1,1));break;case"XZY":r[0]=p(2*(i*s+a*o),h-u+l-c),r[1]=p(2*(i*o+a*s),h+u-l-c),r[2]=m(d(2*(o*s-i*a),-1,1));break;default:console.warn("Unkown order: "+n)}return t},c.eulerFromMat3=function(t,e,n){var r=e.array,i=r[0],a=r[3],o=r[6],s=r[1],u=r[4],l=r[7],c=r[2],h=r[5],f=r[8],_=t.array;switch(n=(n||"XYZ").toUpperCase()){case"XYZ":_[1]=m(d(o,-1,1)),g(o)<.99999?(_[0]=p(-l,f),_[2]=p(-a,i)):(_[0]=p(h,u),_[2]=0);break;case"YXZ":_[0]=m(-d(l,-1,1)),g(l)<.99999?(_[1]=p(o,f),_[2]=p(s,u)):(_[1]=p(-c,i),_[2]=0);break;case"ZXY":_[0]=m(d(h,-1,1)),g(h)<.99999?(_[1]=p(-c,f),_[2]=p(-a,u)):(_[1]=0,_[2]=p(s,i));break;case"ZYX":_[1]=m(-d(c,-1,1)),g(c)<.99999?(_[0]=p(h,f),_[2]=p(s,i)):(_[0]=0,_[2]=p(-a,u));break;case"YZX":_[2]=m(d(s,-1,1)),g(s)<.99999?(_[0]=p(-l,u),_[1]=p(-c,i)):(_[0]=0,_[1]=p(o,f));break;case"XZY":_[2]=m(-d(a,-1,1)),g(a)<.99999?(_[0]=p(h,u),_[1]=p(o,i)):(_[0]=p(-l,f),_[1]=0);break;default:console.warn("Unkown order: "+n)}return t._dirty=!0,t},Object.defineProperties(c,{POSITIVE_X:{get:function(){return new c(1,0,0)}},NEGATIVE_X:{get:function(){return new c(-1,0,0)}},POSITIVE_Y:{get:function(){return new c(0,1,0)}},NEGATIVE_Y:{get:function(){return new c(0,-1,0)}},POSITIVE_Z:{get:function(){return new c(0,0,1)}},NEGATIVE_Z:{get:function(){return new c(0,0,-1)}},UP:{get:function(){return new c(0,1,0)}},ZERO:{get:function(){return new c}}});var _=c,v={create:function(){var t=new o(2);return t[0]=0,t[1]=0,t},clone:function(t){var e=new o(2);return e[0]=t[0],e[1]=t[1],e},fromValues:function(t,e){var n=new o(2);return n[0]=t,n[1]=e,n},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t},set:function(t,e,n){return t[0]=e,t[1]=n,t},add:function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},subtract:function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}};v.sub=v.subtract,v.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t},v.mul=v.multiply,v.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t},v.div=v.divide,v.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},v.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t},v.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},v.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t},v.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)},v.dist=v.distance,v.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r},v.sqrDist=v.squaredDistance,v.length=function(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)},v.len=v.length,v.squaredLength=function(t){var e=t[0],n=t[1];return e*e+n*n},v.sqrLen=v.squaredLength,v.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},v.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},v.normalize=function(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i),t},v.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},v.cross=function(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t},v.lerp=function(t,e,n,r){var i=e[0],a=e[1];return t[0]=i+r*(n[0]-i),t[1]=a+r*(n[1]-a),t},v.random=function(t,e){e=e||1;var n=2*GLMAT_RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t},v.transformMat2=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t},v.transformMat2d=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t},v.transformMat3=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t},v.transformMat4=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t},v.forEach=function(){var t=v.create();return function(e,n,r,i,a,o){var s,u;for(n||(n=2),r||(r=0),u=i?Math.min(i*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],a(t,t,o),e[s]=t[0],e[s+1]=t[1];return e}}();var y=v,b={create:function(){var t=new o(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},clone:function(t){var e=new o(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},fromValues:function(t,e,n,r){var i=new o(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},set:function(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t},add:function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},subtract:function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}};b.sub=b.subtract,b.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t},b.mul=b.multiply,b.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t},b.div=b.divide,b.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t},b.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t},b.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},b.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t},b.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],a=e[3]-t[3];return Math.sqrt(n*n+r*r+i*i+a*a)},b.dist=b.distance,b.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],a=e[3]-t[3];return n*n+r*r+i*i+a*a},b.sqrDist=b.squaredDistance,b.length=function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.sqrt(e*e+n*n+r*r+i*i)},b.len=b.length,b.squaredLength=function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return e*e+n*n+r*r+i*i},b.sqrLen=b.squaredLength,b.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},b.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},b.normalize=function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n*n+r*r+i*i+a*a;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t[3]=e[3]*o),t},b.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},b.lerp=function(t,e,n,r){var i=e[0],a=e[1],o=e[2],s=e[3];return t[0]=i+r*(n[0]-i),t[1]=a+r*(n[1]-a),t[2]=o+r*(n[2]-o),t[3]=s+r*(n[3]-s),t},b.random=function(t,e){return e=e||1,t[0]=s(),t[1]=s(),t[2]=s(),t[3]=s(),b.normalize(t,t),b.scale(t,t,e),t},b.transformMat4=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*a+n[12]*o,t[1]=n[1]*r+n[5]*i+n[9]*a+n[13]*o,t[2]=n[2]*r+n[6]*i+n[10]*a+n[14]*o,t[3]=n[3]*r+n[7]*i+n[11]*a+n[15]*o,t},b.transformQuat=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[0],s=n[1],u=n[2],l=n[3],c=l*r+s*a-u*i,h=l*i+u*r-o*a,f=l*a+o*i-s*r,d=-o*r-s*i-u*a;return t[0]=c*l+d*-o+h*-u-f*-s,t[1]=h*l+d*-s+f*-o-c*-u,t[2]=f*l+d*-u+c*-s-h*-o,t},b.forEach=function(){var t=b.create();return function(e,n,r,i,a,o){var s,u;for(n||(n=4),r||(r=0),u=i?Math.min(i*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],t[3]=e[s+3],a(t,t,o),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=t[3];return e}}();var x=b,w={create:function(){var t=new o(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},clone:function(t){var e=new o(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},transpose:function(t,e){if(t===e){var n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t},invert:function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n*a-i*r;return o?(o=1/o,t[0]=a*o,t[1]=-r*o,t[2]=-i*o,t[3]=n*o,t):null},adjoint:function(t,e){var n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t},determinant:function(t){return t[0]*t[3]-t[2]*t[1]},multiply:function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=n[0],u=n[1],l=n[2],c=n[3];return t[0]=r*s+a*u,t[1]=i*s+o*u,t[2]=r*l+a*c,t[3]=i*l+o*c,t}};w.mul=w.multiply,w.rotate=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+a*s,t[1]=i*u+o*s,t[2]=r*-s+a*u,t[3]=i*-s+o*u,t},w.scale=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=n[0],u=n[1];return t[0]=r*s,t[1]=i*s,t[2]=a*u,t[3]=o*u,t},w.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},w.LDU=function(t,e,n,r){return t[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-t[2]*n[1],[t,e,n]};var T=w,S={create:function(){var t=new o(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},clone:function(t){var e=new o(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},invert:function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=n*a-r*i;return u?(u=1/u,t[0]=a*u,t[1]=-r*u,t[2]=-i*u,t[3]=n*u,t[4]=(i*s-a*o)*u,t[5]=(r*o-n*s)*u,t):null},determinant:function(t){return t[0]*t[3]-t[1]*t[2]},multiply:function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=n[0],c=n[1],h=n[2],f=n[3],d=n[4],p=n[5];return t[0]=r*l+a*c,t[1]=i*l+o*c,t[2]=r*h+a*f,t[3]=i*h+o*f,t[4]=r*d+a*p+s,t[5]=i*d+o*p+u,t}};S.mul=S.multiply,S.rotate=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=Math.sin(n),c=Math.cos(n);return t[0]=r*c+a*l,t[1]=i*c+o*l,t[2]=r*-l+a*c,t[3]=i*-l+o*c,t[4]=s,t[5]=u,t},S.scale=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=n[0],c=n[1];return t[0]=r*l,t[1]=i*l,t[2]=a*c,t[3]=o*c,t[4]=s,t[5]=u,t},S.translate=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=n[0],c=n[1];return t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=r*l+a*c+s,t[5]=i*l+o*c+u,t},S.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)};var E=S,C={create:function(){var t=new o(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},fromMat4:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},clone:function(t){var e=new o(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},transpose:function(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},invert:function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],l=e[7],c=e[8],h=c*o-s*l,f=-c*a+s*u,d=l*a-o*u,p=n*h+r*f+i*d;return p?(p=1/p,t[0]=h*p,t[1]=(-c*r+i*l)*p,t[2]=(s*r-i*o)*p,t[3]=f*p,t[4]=(c*n-i*u)*p,t[5]=(-s*n+i*a)*p,t[6]=d*p,t[7]=(-l*n+r*u)*p,t[8]=(o*n-r*a)*p,t):null},adjoint:function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],l=e[7],c=e[8];return t[0]=o*c-s*l,t[1]=i*l-r*c,t[2]=r*s-i*o,t[3]=s*u-a*c,t[4]=n*c-i*u,t[5]=i*a-n*s,t[6]=a*l-o*u,t[7]=r*u-n*l,t[8]=n*o-r*a,t},determinant:function(t){var e=t[0],n=t[1],r=t[2],i=t[3],a=t[4],o=t[5],s=t[6],u=t[7],l=t[8];return e*(l*a-o*u)+n*(-l*i+o*s)+r*(u*i-a*s)},multiply:function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],f=n[0],d=n[1],p=n[2],m=n[3],g=n[4],_=n[5],v=n[6],y=n[7],b=n[8];return t[0]=f*r+d*o+p*l,t[1]=f*i+d*s+p*c,t[2]=f*a+d*u+p*h,t[3]=m*r+g*o+_*l,t[4]=m*i+g*s+_*c,t[5]=m*a+g*u+_*h,t[6]=v*r+y*o+b*l,t[7]=v*i+y*s+b*c,t[8]=v*a+y*u+b*h,t}};C.mul=C.multiply,C.translate=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],f=n[0],d=n[1];return t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=s,t[5]=u,t[6]=f*r+d*o+l,t[7]=f*i+d*s+c,t[8]=f*a+d*u+h,t},C.rotate=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],f=Math.sin(n),d=Math.cos(n);return t[0]=d*r+f*o,t[1]=d*i+f*s,t[2]=d*a+f*u,t[3]=d*o-f*r,t[4]=d*s-f*i,t[5]=d*u-f*a,t[6]=l,t[7]=c,t[8]=h,t},C.scale=function(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},C.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},C.fromQuat=function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n+n,s=r+r,u=i+i,l=n*o,c=r*o,h=r*s,f=i*o,d=i*s,p=i*u,m=a*o,g=a*s,_=a*u;return t[0]=1-h-p,t[3]=c-_,t[6]=f+g,t[1]=c+_,t[4]=1-l-p,t[7]=d-m,t[2]=f-g,t[5]=d+m,t[8]=1-l-h,t},C.normalFromMat4=function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],l=e[7],c=e[8],h=e[9],f=e[10],d=e[11],p=e[12],m=e[13],g=e[14],_=e[15],v=n*s-r*o,y=n*u-i*o,b=n*l-a*o,x=r*u-i*s,w=r*l-a*s,T=i*l-a*u,S=c*m-h*p,E=c*g-f*p,C=c*_-d*p,A=h*g-f*m,M=h*_-d*m,O=f*_-d*g,D=v*O-y*M+b*A+x*C-w*E+T*S;return D?(D=1/D,t[0]=(s*O-u*M+l*A)*D,t[1]=(u*C-o*O-l*E)*D,t[2]=(o*M-s*C+l*S)*D,t[3]=(i*M-r*O-a*A)*D,t[4]=(n*O-i*C+a*E)*D,t[5]=(r*C-n*M-a*S)*D,t[6]=(m*T-g*w+_*x)*D,t[7]=(g*b-p*T-_*y)*D,t[8]=(p*w-m*b+_*v)*D,t):null},C.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))};var A=C,M={create:function(){var t=new o(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},clone:function(t){var e=new o(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},transpose:function(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],a=e[6],o=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=a,t[11]=e[14],t[12]=i,t[13]=o,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},invert:function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],l=e[7],c=e[8],h=e[9],f=e[10],d=e[11],p=e[12],m=e[13],g=e[14],_=e[15],v=n*s-r*o,y=n*u-i*o,b=n*l-a*o,x=r*u-i*s,w=r*l-a*s,T=i*l-a*u,S=c*m-h*p,E=c*g-f*p,C=c*_-d*p,A=h*g-f*m,M=h*_-d*m,O=f*_-d*g,D=v*O-y*M+b*A+x*C-w*E+T*S;return D?(D=1/D,t[0]=(s*O-u*M+l*A)*D,t[1]=(i*M-r*O-a*A)*D,t[2]=(m*T-g*w+_*x)*D,t[3]=(f*w-h*T-d*x)*D,t[4]=(u*C-o*O-l*E)*D,t[5]=(n*O-i*C+a*E)*D,t[6]=(g*b-p*T-_*y)*D,t[7]=(c*T-f*b+d*y)*D,t[8]=(o*M-s*C+l*S)*D,t[9]=(r*C-n*M-a*S)*D,t[10]=(p*w-m*b+_*v)*D,t[11]=(h*b-c*w-d*v)*D,t[12]=(s*E-o*A-u*S)*D,t[13]=(n*A-r*E+i*S)*D,t[14]=(m*y-p*x-g*v)*D,t[15]=(c*x-h*y+f*v)*D,t):null},adjoint:function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],l=e[7],c=e[8],h=e[9],f=e[10],d=e[11],p=e[12],m=e[13],g=e[14],_=e[15];return t[0]=s*(f*_-d*g)-h*(u*_-l*g)+m*(u*d-l*f),t[1]=-(r*(f*_-d*g)-h*(i*_-a*g)+m*(i*d-a*f)),t[2]=r*(u*_-l*g)-s*(i*_-a*g)+m*(i*l-a*u),t[3]=-(r*(u*d-l*f)-s*(i*d-a*f)+h*(i*l-a*u)),t[4]=-(o*(f*_-d*g)-c*(u*_-l*g)+p*(u*d-l*f)),t[5]=n*(f*_-d*g)-c*(i*_-a*g)+p*(i*d-a*f),t[6]=-(n*(u*_-l*g)-o*(i*_-a*g)+p*(i*l-a*u)),t[7]=n*(u*d-l*f)-o*(i*d-a*f)+c*(i*l-a*u),t[8]=o*(h*_-d*m)-c*(s*_-l*m)+p*(s*d-l*h),t[9]=-(n*(h*_-d*m)-c*(r*_-a*m)+p*(r*d-a*h)),t[10]=n*(s*_-l*m)-o*(r*_-a*m)+p*(r*l-a*s),t[11]=-(n*(s*d-l*h)-o*(r*d-a*h)+c*(r*l-a*s)),t[12]=-(o*(h*g-f*m)-c*(s*g-u*m)+p*(s*f-u*h)),t[13]=n*(h*g-f*m)-c*(r*g-i*m)+p*(r*f-i*h),t[14]=-(n*(s*g-u*m)-o*(r*g-i*m)+p*(r*u-i*s)),t[15]=n*(s*f-u*h)-o*(r*f-i*h)+c*(r*u-i*s),t},determinant:function(t){var e=t[0],n=t[1],r=t[2],i=t[3],a=t[4],o=t[5],s=t[6],u=t[7],l=t[8],c=t[9],h=t[10],f=t[11],d=t[12],p=t[13],m=t[14],g=t[15];return(e*o-n*a)*(h*g-f*m)-(e*s-r*a)*(c*g-f*p)+(e*u-i*a)*(c*m-h*p)+(n*s-r*o)*(l*g-f*d)-(n*u-i*o)*(l*m-h*d)+(r*u-i*s)*(l*p-c*d)},multiply:function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],f=e[9],d=e[10],p=e[11],m=e[12],g=e[13],_=e[14],v=e[15],y=n[0],b=n[1],x=n[2],w=n[3];return t[0]=y*r+b*s+x*h+w*m,t[1]=y*i+b*u+x*f+w*g,t[2]=y*a+b*l+x*d+w*_,t[3]=y*o+b*c+x*p+w*v,y=n[4],b=n[5],x=n[6],w=n[7],t[4]=y*r+b*s+x*h+w*m,t[5]=y*i+b*u+x*f+w*g,t[6]=y*a+b*l+x*d+w*_,t[7]=y*o+b*c+x*p+w*v,y=n[8],b=n[9],x=n[10],w=n[11],t[8]=y*r+b*s+x*h+w*m,t[9]=y*i+b*u+x*f+w*g,t[10]=y*a+b*l+x*d+w*_,t[11]=y*o+b*c+x*p+w*v,y=n[12],b=n[13],x=n[14],w=n[15],t[12]=y*r+b*s+x*h+w*m,t[13]=y*i+b*u+x*f+w*g,t[14]=y*a+b*l+x*d+w*_,t[15]=y*o+b*c+x*p+w*v,t},multiplyAffine:function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[4],s=e[5],u=e[6],l=e[8],c=e[9],h=e[10],f=e[12],d=e[13],p=e[14],m=n[0],g=n[1],_=n[2];return t[0]=m*r+g*o+_*l,t[1]=m*i+g*s+_*c,t[2]=m*a+g*u+_*h,m=n[4],g=n[5],_=n[6],t[4]=m*r+g*o+_*l,t[5]=m*i+g*s+_*c,t[6]=m*a+g*u+_*h,m=n[8],g=n[9],_=n[10],t[8]=m*r+g*o+_*l,t[9]=m*i+g*s+_*c,t[10]=m*a+g*u+_*h,m=n[12],g=n[13],_=n[14],t[12]=m*r+g*o+_*l+f,t[13]=m*i+g*s+_*c+d,t[14]=m*a+g*u+_*h+p,t}};M.mul=M.multiply,M.mulAffine=M.multiplyAffine,M.translate=function(t,e,n){var r,i,a,o,s,u,l,c,h,f,d,p,m=n[0],g=n[1],_=n[2];return e===t?(t[12]=e[0]*m+e[4]*g+e[8]*_+e[12],t[13]=e[1]*m+e[5]*g+e[9]*_+e[13],t[14]=e[2]*m+e[6]*g+e[10]*_+e[14],t[15]=e[3]*m+e[7]*g+e[11]*_+e[15]):(r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],f=e[9],d=e[10],p=e[11],t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=s,t[5]=u,t[6]=l,t[7]=c,t[8]=h,t[9]=f,t[10]=d,t[11]=p,t[12]=r*m+s*g+h*_+e[12],t[13]=i*m+u*g+f*_+e[13],t[14]=a*m+l*g+d*_+e[14],t[15]=o*m+c*g+p*_+e[15]),t},M.scale=function(t,e,n){var r=n[0],i=n[1],a=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},M.rotate=function(t,e,n,r){var i,a,o,s,u,l,c,h,f,d,p,m,g,_,v,y,b,x,w,T,S,E,C,A,M=r[0],O=r[1],D=r[2],N=Math.sqrt(M*M+O*O+D*D);return Math.abs(N)<1e-6?null:(M*=N=1/N,O*=N,D*=N,i=Math.sin(n),o=1-(a=Math.cos(n)),s=e[0],u=e[1],l=e[2],c=e[3],h=e[4],f=e[5],d=e[6],p=e[7],m=e[8],g=e[9],_=e[10],v=e[11],y=M*M*o+a,b=O*M*o+D*i,x=D*M*o-O*i,w=M*O*o-D*i,T=O*O*o+a,S=D*O*o+M*i,E=M*D*o+O*i,C=O*D*o-M*i,A=D*D*o+a,t[0]=s*y+h*b+m*x,t[1]=u*y+f*b+g*x,t[2]=l*y+d*b+_*x,t[3]=c*y+p*b+v*x,t[4]=s*w+h*T+m*S,t[5]=u*w+f*T+g*S,t[6]=l*w+d*T+_*S,t[7]=c*w+p*T+v*S,t[8]=s*E+h*C+m*A,t[9]=u*E+f*C+g*A,t[10]=l*E+d*C+_*A,t[11]=c*E+p*C+v*A,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)},M.rotateX=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),a=e[4],o=e[5],s=e[6],u=e[7],l=e[8],c=e[9],h=e[10],f=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=a*i+l*r,t[5]=o*i+c*r,t[6]=s*i+h*r,t[7]=u*i+f*r,t[8]=l*i-a*r,t[9]=c*i-o*r,t[10]=h*i-s*r,t[11]=f*i-u*r,t},M.rotateY=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),a=e[0],o=e[1],s=e[2],u=e[3],l=e[8],c=e[9],h=e[10],f=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i-l*r,t[1]=o*i-c*r,t[2]=s*i-h*r,t[3]=u*i-f*r,t[8]=a*r+l*i,t[9]=o*r+c*i,t[10]=s*r+h*i,t[11]=u*r+f*i,t},M.rotateZ=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),a=e[0],o=e[1],s=e[2],u=e[3],l=e[4],c=e[5],h=e[6],f=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i+l*r,t[1]=o*i+c*r,t[2]=s*i+h*r,t[3]=u*i+f*r,t[4]=l*i-a*r,t[5]=c*i-o*r,t[6]=h*i-s*r,t[7]=f*i-u*r,t},M.fromRotationTranslation=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=r+r,u=i+i,l=a+a,c=r*s,h=r*u,f=r*l,d=i*u,p=i*l,m=a*l,g=o*s,_=o*u,v=o*l;return t[0]=1-(d+m),t[1]=h+v,t[2]=f-_,t[3]=0,t[4]=h-v,t[5]=1-(c+m),t[6]=p+g,t[7]=0,t[8]=f+_,t[9]=p-g,t[10]=1-(c+d),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},M.fromQuat=function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n+n,s=r+r,u=i+i,l=n*o,c=r*o,h=r*s,f=i*o,d=i*s,p=i*u,m=a*o,g=a*s,_=a*u;return t[0]=1-h-p,t[1]=c+_,t[2]=f-g,t[3]=0,t[4]=c-_,t[5]=1-l-p,t[6]=d+m,t[7]=0,t[8]=f+g,t[9]=d-m,t[10]=1-l-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},M.frustum=function(t,e,n,r,i,a,o){var s=1/(n-e),u=1/(i-r),l=1/(a-o);return t[0]=2*a*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*a*u,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(i+r)*u,t[10]=(o+a)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*a*2*l,t[15]=0,t},M.perspective=function(t,e,n,r,i){var a=1/Math.tan(e/2),o=1/(r-i);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+r)*o,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*r*o,t[15]=0,t},M.ortho=function(t,e,n,r,i,a,o){var s=1/(e-n),u=1/(r-i),l=1/(a-o);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*u,t[14]=(o+a)*l,t[15]=1,t},M.lookAt=function(t,e,n,r){var i,a,o,s,u,l,c,h,f,d,p=e[0],m=e[1],g=e[2],_=r[0],v=r[1],y=r[2],b=n[0],x=n[1],w=n[2];return Math.abs(p-b)<1e-6&&Math.abs(m-x)<1e-6&&Math.abs(g-w)<1e-6?M.identity(t):(c=p-b,h=m-x,f=g-w,i=v*(f*=d=1/Math.sqrt(c*c+h*h+f*f))-y*(h*=d),a=y*(c*=d)-_*f,o=_*h-v*c,(d=Math.sqrt(i*i+a*a+o*o))?(i*=d=1/d,a*=d,o*=d):(i=0,a=0,o=0),s=h*o-f*a,u=f*i-c*o,l=c*a-h*i,(d=Math.sqrt(s*s+u*u+l*l))?(s*=d=1/d,u*=d,l*=d):(s=0,u=0,l=0),t[0]=i,t[1]=s,t[2]=c,t[3]=0,t[4]=a,t[5]=u,t[6]=h,t[7]=0,t[8]=o,t[9]=l,t[10]=f,t[11]=0,t[12]=-(i*p+a*m+o*g),t[13]=-(s*p+u*m+l*g),t[14]=-(c*p+h*m+f*g),t[15]=1,t)},M.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))};var O,D,N,I,P=M,L={};L.create=function(){var t=new o(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},L.rotationTo=(O=l.create(),D=l.fromValues(1,0,0),N=l.fromValues(0,1,0),function(t,e,n){var r=l.dot(e,n);return r<-.999999?(l.cross(O,D,e),l.length(O)<1e-6&&l.cross(O,N,e),l.normalize(O,O),L.setAxisAngle(t,O,Math.PI),t):r>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(l.cross(O,e,n),t[0]=O[0],t[1]=O[1],t[2]=O[2],t[3]=1+r,L.normalize(t,t))}),L.setAxes=(I=A.create(),function(t,e,n,r){return I[0]=n[0],I[3]=n[1],I[6]=n[2],I[1]=r[0],I[4]=r[1],I[7]=r[2],I[2]=-e[0],I[5]=-e[1],I[8]=-e[2],L.normalize(t,L.fromMat3(t,I))}),L.clone=x.clone,L.fromValues=x.fromValues,L.copy=x.copy,L.set=x.set,L.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},L.setAxisAngle=function(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t},L.add=x.add,L.multiply=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=n[0],u=n[1],l=n[2],c=n[3];return t[0]=r*c+o*s+i*l-a*u,t[1]=i*c+o*u+a*s-r*l,t[2]=a*c+o*l+r*u-i*s,t[3]=o*c-r*s-i*u-a*l,t},L.mul=L.multiply,L.scale=x.scale,L.rotateX=function(t,e,n){n*=.5;var r=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+o*s,t[1]=i*u+a*s,t[2]=a*u-i*s,t[3]=o*u-r*s,t},L.rotateY=function(t,e,n){n*=.5;var r=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u-a*s,t[1]=i*u+o*s,t[2]=a*u+r*s,t[3]=o*u-i*s,t},L.rotateZ=function(t,e,n){n*=.5;var r=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+i*s,t[1]=i*u-r*s,t[2]=a*u+o*s,t[3]=o*u-a*s,t},L.calculateW=function(t,e){var n=e[0],r=e[1],i=e[2];return t[0]=n,t[1]=r,t[2]=i,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),t},L.dot=x.dot,L.lerp=x.lerp,L.slerp=function(t,e,n,r){var i,a,o,s,u,l=e[0],c=e[1],h=e[2],f=e[3],d=n[0],p=n[1],m=n[2],g=n[3];return(a=l*d+c*p+h*m+f*g)<0&&(a=-a,d=-d,p=-p,m=-m,g=-g),1-a>1e-6?(i=Math.acos(a),o=Math.sin(i),s=Math.sin((1-r)*i)/o,u=Math.sin(r*i)/o):(s=1-r,u=r),t[0]=s*l+u*d,t[1]=s*c+u*p,t[2]=s*h+u*m,t[3]=s*f+u*g,t},L.invert=function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n*n+r*r+i*i+a*a,s=o?1/o:0;return t[0]=-n*s,t[1]=-r*s,t[2]=-i*s,t[3]=a*s,t},L.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},L.length=x.length,L.len=L.length,L.squaredLength=x.squaredLength,L.sqrLen=L.squaredLength,L.normalize=x.normalize,L.fromMat3=function(t,e){var n,r=e[0]+e[4]+e[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var a=(i+1)%3,o=(i+2)%3;n=Math.sqrt(e[3*i+i]-e[3*a+a]-e[3*o+o]+1),t[i]=.5*n,n=.5/n,t[3]=(e[3*a+o]-e[3*o+a])*n,t[a]=(e[3*a+i]+e[3*i+a])*n,t[o]=(e[3*o+i]+e[3*i+o])*n}return t};var R=L,k={vec2:y,vec3:l,vec4:x,mat2:T,mat2d:E,mat3:A,mat4:P,quat:R},B=k.vec3,F=a.a.helper.dataStack.isDimensionStacked;var z=function(t,e){var n=t.getData(),r=t.get("barSize");if(null==r){var i,o,s=e.size,u=e.getAxis("x"),l=e.getAxis("y");i="category"===u.type?.7*u.getBandWidth():.6*Math.round(s[0]/Math.sqrt(n.count())),o="category"===l.type?.7*l.getBandWidth():.6*Math.round(s[1]/Math.sqrt(n.count())),r=[i,o]}else a.a.util.isArray(r)||(r=[r,r]);var c,h,f,d=e.getAxis("z").scale.getExtent(),p=(h=(c=d)[0],f=c[1],!(h>0&&f>0||h<0&&f<0)),m=["x","y","z"].map((function(e){return t.coordDimToDataDim(e)[0]})),g=F(n,m[2]),_=g?n.getCalculationInfo("stackResultDimension"):m[2];n.each(m,(function(t,i,a,o){var s=n.get(_,o),u=g?s-a:p?0:d[0],l=e.dataToPoint([t,i,u]),c=e.dataToPoint([t,i,s]),h=B.dist(l,c),f=[0,c[1]<l[1]?-1:1,0];0===Math.abs(h)&&(h=.1);var m=[r[0],h,r[1]];n.setItemLayout(o,[l,f,m])})),n.setLayout("orient",[1,0,0])},j=function(t,e,n){for(var r=t.getDataExtent(e),i=t.getDataExtent(n),a=r[1]-r[0]||r[0],o=i[1]-i[0]||i[0],s=new Uint8Array(2500),u=0;u<t.count();u++){var l=t.get(e,u),c=t.get(n,u),h=Math.floor((l-r[0])/a*49),f=50*Math.floor((c-i[0])/o*49)+h;s[f]=s[f]||1}var d=0;for(u=0;u<s.length;u++)s[u]&&d++;return d/s.length},U=k.vec3,H=a.a.helper.dataStack.isDimensionStacked;function V(t,e){var n=H(t,e[2]);return{dimension:n?t.getCalculationInfo("stackResultDimension"):e[2],isStacked:n}}function G(t,e,n){"object"==typeof e&&(n=e,e=null);var r,i=this;if(!(t instanceof Function))for(var a in r=[],t)t.hasOwnProperty(a)&&r.push(a);var o=function(e){if(i.apply(this,arguments),t instanceof Function?W(this,t.call(this,e)):$(this,t,r),this.constructor===o)for(var n=o.__initializers__,a=0;a<n.length;a++)n[a].apply(this,arguments)};o.__super__=i,i.__initializers__?o.__initializers__=i.__initializers__.slice():o.__initializers__=[],e&&o.__initializers__.push(e);var s=function(){};return s.prototype=i.prototype,o.prototype=new s,o.prototype.constructor=o,W(o.prototype,n),o.extend=i.extend,o.derive=i.extend,o}function W(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}function $(t,e,n){for(var r=0;r<n.length;r++){var i=n[r];t[i]=e[i]}}a.a.registerLayout((function(t,e){t.eachSeriesByType("bar3D",(function(t){var e=t.coordinateSystem,n=e&&e.type;if("globe"===n)!function(t,e){var n=t.getData(),r=t.get("minHeight")||0,i=t.get("barSize"),o=["lng","lat","alt"].map((function(e){return t.coordDimToDataDim(e)[0]}));if(null==i){var s=e.radius*Math.PI,u=j(n,o[0],o[1]);i=[s/Math.sqrt(n.count()/u),s/Math.sqrt(n.count()/u)]}else a.a.util.isArray(i)||(i=[i,i]);var l=V(n,o);n.each(o,(function(t,a,o,s){var u=n.get(l.dimension,s),c=l.isStacked?u-o:e.altitudeAxis.scale.getExtent()[0],h=Math.max(e.altitudeAxis.dataToCoord(o),r),f=e.dataToPoint([t,a,c]),d=e.dataToPoint([t,a,u]),p=U.sub([],d,f);U.normalize(p,p);var m=[i[0],h,i[1]];n.setItemLayout(s,[f,p,m])})),n.setLayout("orient",_.UP.array)}(t,e);else if("cartesian3D"===n)z(t,e);else if("geo3D"===n)!function(t,e){var n=t.getData(),r=t.get("barSize"),i=t.get("minHeight")||0,o=["lng","lat","alt"].map((function(e){return t.coordDimToDataDim(e)[0]}));if(null==r){var s=Math.min(e.size[0],e.size[2]),u=j(n,o[0],o[1]);r=[s/Math.sqrt(n.count()/u),s/Math.sqrt(n.count()/u)]}else a.a.util.isArray(r)||(r=[r,r]);var l=[0,1,0],c=V(n,o);n.each(o,(function(t,a,o,s){var u=n.get(c.dimension,s),h=c.isStacked?u-o:e.altitudeAxis.scale.getExtent()[0],f=Math.max(e.altitudeAxis.dataToCoord(o),i),d=e.dataToPoint([t,a,h]),p=[r[0],f,r[1]];n.setItemLayout(s,[d,l,p])})),n.setLayout("orient",[1,0,0])}(t,e);else if("mapbox3D"===n||"maptalks3D"===n)!function(t,e){var n=t.getData(),r=t.coordDimToDataDim("lng")[0],i=t.coordDimToDataDim("lat")[0],o=t.coordDimToDataDim("alt")[0],s=t.get("barSize"),u=t.get("minHeight")||0;if(null==s){var l=n.getDataExtent(r),c=n.getDataExtent(i),h=e.dataToPoint([l[0],c[0]]),f=e.dataToPoint([l[1],c[1]]),d=Math.min(Math.abs(h[0]-f[0]),Math.abs(h[1]-f[1]))||1,p=j(n,r,i);s=[d/Math.sqrt(n.count()/p),d/Math.sqrt(n.count()/p)]}else a.a.util.isArray(s)||(s=[s,s]),s[0]/=e.getScale()/16,s[1]/=e.getScale()/16;var m=[0,0,1],g=[r,i,o],_=V(n,g);n.each(g,(function(t,r,i,a){var o=n.get(_.dimension,a),l=_.isStacked?o-i:0,c=e.dataToPoint([t,r,l]),h=e.dataToPoint([t,r,o]),f=Math.max(h[2]-c[2],u),d=[s[0],f,s[1]];n.setItemLayout(a,[c,m,d])})),n.setLayout("orient",[1,0,0])}(t,e);else if(__DEV__)throw e?new Error("bar3D doesn't support coordinate system "+e.type):new Error("bar3D doesn't have coordinate system.")}))}));var X={extend:G,derive:G};function q(t,e){this.action=t,this.context=e}var Y={trigger:function(t){if(this.hasOwnProperty("__handlers__")&&this.__handlers__.hasOwnProperty(t)){var e=this.__handlers__[t],n=e.length,r=-1,i=arguments;switch(i.length){case 1:for(;++r<n;)e[r].action.call(e[r].context);return;case 2:for(;++r<n;)e[r].action.call(e[r].context,i[1]);return;case 3:for(;++r<n;)e[r].action.call(e[r].context,i[1],i[2]);return;case 4:for(;++r<n;)e[r].action.call(e[r].context,i[1],i[2],i[3]);return;case 5:for(;++r<n;)e[r].action.call(e[r].context,i[1],i[2],i[3],i[4]);return;default:for(;++r<n;)e[r].action.apply(e[r].context,Array.prototype.slice.call(i,1));return}}},on:function(t,e,n){if(t&&e){var r=this.__handlers__||(this.__handlers__={});if(r[t]){if(this.has(t,e))return}else r[t]=[];var i=new q(e,n||this);return r[t].push(i),this}},once:function(t,e,n){if(t&&e){var r=this;return this.on(t,(function n(){r.off(t,n),e.apply(this,arguments)}),n)}},before:function(t,e,n){if(t&&e)return t="before"+t,this.on(t,e,n)},after:function(t,e,n){if(t&&e)return t="after"+t,this.on(t,e,n)},success:function(t,e){return this.once("success",t,e)},error:function(t,e){return this.once("error",t,e)},off:function(t,e){var n=this.__handlers__||(this.__handlers__={});if(e){if(n[t]){for(var r=n[t],i=[],a=0;a<r.length;a++)e&&r[a].action!==e&&i.push(r[a]);n[t]=i}return this}n[t]=[]},has:function(t,e){var n=this.__handlers__;if(!n||!n[t])return!1;for(var r=n[t],i=0;i<r.length;i++)if(r[i].action===e)return!0}},Z=0,K=Array.prototype.forEach,J={genGUID:function(){return++Z},relative2absolute:function(t,e){if(!e||t.match(/^\//))return t;for(var n=t.split("/"),r=e.split("/"),i=n[0];"."===i||".."===i;)".."===i&&r.pop(),n.shift(),i=n[0];return r.join("/")+"/"+n.join("/")},extend:function(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},defaults:function(t,e){if(e)for(var n in e)void 0===t[n]&&(t[n]=e[n]);return t},extendWithPropList:function(t,e,n){if(e)for(var r=0;r<n.length;r++){var i=n[r];t[i]=e[i]}return t},defaultsWithPropList:function(t,e,n){if(e)for(var r=0;r<n.length;r++){var i=n[r];null==t[i]&&(t[i]=e[i])}return t},each:function(t,e,n){if(t&&e)if(t.forEach&&t.forEach===K)t.forEach(e,n);else if(t.length===+t.length)for(var r=0,i=t.length;r<i;r++)e.call(n,t[r],r,t);else for(var a in t)t.hasOwnProperty(a)&&e.call(n,t[a],a,t)},isObject:function(t){return t===Object(t)},isArray:function(t){return Array.isArray(t)},isArrayLike:function(t){return!!t&&t.length===+t.length},clone:function(t){if(J.isObject(t)){if(J.isArray(t))return t.slice();if(J.isArrayLike(t)){for(var e=new t.constructor(t.length),n=0;n<t.length;n++)e[n]=t[n];return e}return J.extend({},t)}return t}},Q=J,tt=function(){this.__uid__=Q.genGUID()};tt.__initializers__=[function(t){Q.extend(this,t)}],Q.extend(tt,X),Q.extend(tt.prototype,Y);var et,nt=tt,rt=function(t,e,n,r){t=t||0,e=e||0,n=n||0,r=void 0===r?1:r,this.array=R.fromValues(t,e,n,r),this._dirty=!0};rt.prototype={constructor:rt,add:function(t){return R.add(this.array,this.array,t.array),this._dirty=!0,this},calculateW:function(){return R.calculateW(this.array,this.array),this._dirty=!0,this},set:function(t,e,n,r){return this.array[0]=t,this.array[1]=e,this.array[2]=n,this.array[3]=r,this._dirty=!0,this},setArray:function(t){return this.array[0]=t[0],this.array[1]=t[1],this.array[2]=t[2],this.array[3]=t[3],this._dirty=!0,this},clone:function(){return new rt(this.x,this.y,this.z,this.w)},conjugate:function(){return R.conjugate(this.array,this.array),this._dirty=!0,this},copy:function(t){return R.copy(this.array,t.array),this._dirty=!0,this},dot:function(t){return R.dot(this.array,t.array)},fromMat3:function(t){return R.fromMat3(this.array,t.array),this._dirty=!0,this},fromMat4:(et=A.create(),function(t){return A.fromMat4(et,t.array),A.transpose(et,et),R.fromMat3(this.array,et),this._dirty=!0,this}),identity:function(){return R.identity(this.array),this._dirty=!0,this},invert:function(){return R.invert(this.array,this.array),this._dirty=!0,this},len:function(){return R.len(this.array)},length:function(){return R.length(this.array)},lerp:function(t,e,n){return R.lerp(this.array,t.array,e.array,n),this._dirty=!0,this},mul:function(t){return R.mul(this.array,this.array,t.array),this._dirty=!0,this},mulLeft:function(t){return R.multiply(this.array,t.array,this.array),this._dirty=!0,this},multiply:function(t){return R.multiply(this.array,this.array,t.array),this._dirty=!0,this},multiplyLeft:function(t){return R.multiply(this.array,t.array,this.array),this._dirty=!0,this},normalize:function(){return R.normalize(this.array,this.array),this._dirty=!0,this},rotateX:function(t){return R.rotateX(this.array,this.array,t),this._dirty=!0,this},rotateY:function(t){return R.rotateY(this.array,this.array,t),this._dirty=!0,this},rotateZ:function(t){return R.rotateZ(this.array,this.array,t),this._dirty=!0,this},rotationTo:function(t,e){return R.rotationTo(this.array,t.array,e.array),this._dirty=!0,this},setAxes:function(t,e,n){return R.setAxes(this.array,t.array,e.array,n.array),this._dirty=!0,this},setAxisAngle:function(t,e){return R.setAxisAngle(this.array,t.array,e),this._dirty=!0,this},slerp:function(t,e,n){return R.slerp(this.array,t.array,e.array,n),this._dirty=!0,this},sqrLen:function(){return R.sqrLen(this.array)},squaredLength:function(){return R.squaredLength(this.array)},fromEuler:function(t,e){return rt.fromEuler(this,t,e)},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var it=Object.defineProperty;if(it){var at=rt.prototype;it(at,"x",{get:function(){return this.array[0]},set:function(t){this.array[0]=t,this._dirty=!0}}),it(at,"y",{get:function(){return this.array[1]},set:function(t){this.array[1]=t,this._dirty=!0}}),it(at,"z",{get:function(){return this.array[2]},set:function(t){this.array[2]=t,this._dirty=!0}}),it(at,"w",{get:function(){return this.array[3]},set:function(t){this.array[3]=t,this._dirty=!0}})}rt.add=function(t,e,n){return R.add(t.array,e.array,n.array),t._dirty=!0,t},rt.set=function(t,e,n,r,i){R.set(t.array,e,n,r,i),t._dirty=!0},rt.copy=function(t,e){return R.copy(t.array,e.array),t._dirty=!0,t},rt.calculateW=function(t,e){return R.calculateW(t.array,e.array),t._dirty=!0,t},rt.conjugate=function(t,e){return R.conjugate(t.array,e.array),t._dirty=!0,t},rt.identity=function(t){return R.identity(t.array),t._dirty=!0,t},rt.invert=function(t,e){return R.invert(t.array,e.array),t._dirty=!0,t},rt.dot=function(t,e){return R.dot(t.array,e.array)},rt.len=function(t){return R.length(t.array)},rt.lerp=function(t,e,n,r){return R.lerp(t.array,e.array,n.array,r),t._dirty=!0,t},rt.slerp=function(t,e,n,r){return R.slerp(t.array,e.array,n.array,r),t._dirty=!0,t},rt.multiply=rt.mul=function(t,e,n){return R.multiply(t.array,e.array,n.array),t._dirty=!0,t},rt.rotateX=function(t,e,n){return R.rotateX(t.array,e.array,n),t._dirty=!0,t},rt.rotateY=function(t,e,n){return R.rotateY(t.array,e.array,n),t._dirty=!0,t},rt.rotateZ=function(t,e,n){return R.rotateZ(t.array,e.array,n),t._dirty=!0,t},rt.setAxisAngle=function(t,e,n){return R.setAxisAngle(t.array,e.array,n),t._dirty=!0,t},rt.normalize=function(t,e){return R.normalize(t.array,e.array),t._dirty=!0,t},rt.squaredLength=rt.sqrLen=function(t){return R.sqrLen(t.array)},rt.fromMat3=function(t,e){return R.fromMat3(t.array,e.array),t._dirty=!0,t},rt.setAxes=function(t,e,n,r){return R.setAxes(t.array,e.array,n.array,r.array),t._dirty=!0,t},rt.rotationTo=function(t,e,n){return R.rotationTo(t.array,e.array,n.array),t._dirty=!0,t},rt.fromEuler=function(t,e,n){t._dirty=!0,e=e.array;var r=t.array,i=Math.cos(e[0]/2),a=Math.cos(e[1]/2),o=Math.cos(e[2]/2),s=Math.sin(e[0]/2),u=Math.sin(e[1]/2),l=Math.sin(e[2]/2);switch(n=(n||"XYZ").toUpperCase()){case"XYZ":r[0]=s*a*o+i*u*l,r[1]=i*u*o-s*a*l,r[2]=i*a*l+s*u*o,r[3]=i*a*o-s*u*l;break;case"YXZ":r[0]=s*a*o+i*u*l,r[1]=i*u*o-s*a*l,r[2]=i*a*l-s*u*o,r[3]=i*a*o+s*u*l;break;case"ZXY":r[0]=s*a*o-i*u*l,r[1]=i*u*o+s*a*l,r[2]=i*a*l+s*u*o,r[3]=i*a*o-s*u*l;break;case"ZYX":r[0]=s*a*o-i*u*l,r[1]=i*u*o+s*a*l,r[2]=i*a*l-s*u*o,r[3]=i*a*o+s*u*l;break;case"YZX":r[0]=s*a*o+i*u*l,r[1]=i*u*o+s*a*l,r[2]=i*a*l-s*u*o,r[3]=i*a*o-s*u*l;break;case"XZY":r[0]=s*a*o-i*u*l,r[1]=i*u*o-s*a*l,r[2]=i*a*l+s*u*o,r[3]=i*a*o+s*u*l}};var ot=rt,st=function(){this._axisX=new _,this._axisY=new _,this._axisZ=new _,this.array=P.create(),this._dirty=!0};st.prototype={constructor:st,setArray:function(t){for(var e=0;e<this.array.length;e++)this.array[e]=t[e];return this._dirty=!0,this},adjoint:function(){return P.adjoint(this.array,this.array),this._dirty=!0,this},clone:function(){return(new st).copy(this)},copy:function(t){return P.copy(this.array,t.array),this._dirty=!0,this},determinant:function(){return P.determinant(this.array)},fromQuat:function(t){return P.fromQuat(this.array,t.array),this._dirty=!0,this},fromRotationTranslation:function(t,e){return P.fromRotationTranslation(this.array,t.array,e.array),this._dirty=!0,this},fromMat2d:function(t){return st.fromMat2d(this,t),this},frustum:function(t,e,n,r,i,a){return P.frustum(this.array,t,e,n,r,i,a),this._dirty=!0,this},identity:function(){return P.identity(this.array),this._dirty=!0,this},invert:function(){return P.invert(this.array,this.array),this._dirty=!0,this},lookAt:function(t,e,n){return P.lookAt(this.array,t.array,e.array,n.array),this._dirty=!0,this},mul:function(t){return P.mul(this.array,this.array,t.array),this._dirty=!0,this},mulLeft:function(t){return P.mul(this.array,t.array,this.array),this._dirty=!0,this},multiply:function(t){return P.multiply(this.array,this.array,t.array),this._dirty=!0,this},multiplyLeft:function(t){return P.multiply(this.array,t.array,this.array),this._dirty=!0,this},ortho:function(t,e,n,r,i,a){return P.ortho(this.array,t,e,n,r,i,a),this._dirty=!0,this},perspective:function(t,e,n,r){return P.perspective(this.array,t,e,n,r),this._dirty=!0,this},rotate:function(t,e){return P.rotate(this.array,this.array,t,e.array),this._dirty=!0,this},rotateX:function(t){return P.rotateX(this.array,this.array,t),this._dirty=!0,this},rotateY:function(t){return P.rotateY(this.array,this.array,t),this._dirty=!0,this},rotateZ:function(t){return P.rotateZ(this.array,this.array,t),this._dirty=!0,this},scale:function(t){return P.scale(this.array,this.array,t.array),this._dirty=!0,this},translate:function(t){return P.translate(this.array,this.array,t.array),this._dirty=!0,this},transpose:function(){return P.transpose(this.array,this.array),this._dirty=!0,this},decomposeMatrix:function(){var t=l.create(),e=l.create(),n=l.create(),r=A.create();return function(i,a,o){var s=this.array;l.set(t,s[0],s[1],s[2]),l.set(e,s[4],s[5],s[6]),l.set(n,s[8],s[9],s[10]);var u=l.length(t),c=l.length(e),h=l.length(n);this.determinant()<0&&(u=-u),i&&i.set(u,c,h),o.set(s[12],s[13],s[14]),A.fromMat4(r,s),r[0]/=u,r[1]/=u,r[2]/=u,r[3]/=c,r[4]/=c,r[5]/=c,r[6]/=h,r[7]/=h,r[8]/=h,R.fromMat3(a.array,r),R.normalize(a.array,a.array),a._dirty=!0,o._dirty=!0}}(),toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var ut=Object.defineProperty;if(ut){var lt=st.prototype;ut(lt,"z",{get:function(){var t=this.array;return this._axisZ.set(t[8],t[9],t[10]),this._axisZ},set:function(t){var e=this.array;t=t.array,e[8]=t[0],e[9]=t[1],e[10]=t[2],this._dirty=!0}}),ut(lt,"y",{get:function(){var t=this.array;return this._axisY.set(t[4],t[5],t[6]),this._axisY},set:function(t){var e=this.array;t=t.array,e[4]=t[0],e[5]=t[1],e[6]=t[2],this._dirty=!0}}),ut(lt,"x",{get:function(){var t=this.array;return this._axisX.set(t[0],t[1],t[2]),this._axisX},set:function(t){var e=this.array;t=t.array,e[0]=t[0],e[1]=t[1],e[2]=t[2],this._dirty=!0}})}st.adjoint=function(t,e){return P.adjoint(t.array,e.array),t._dirty=!0,t},st.copy=function(t,e){return P.copy(t.array,e.array),t._dirty=!0,t},st.determinant=function(t){return P.determinant(t.array)},st.identity=function(t){return P.identity(t.array),t._dirty=!0,t},st.ortho=function(t,e,n,r,i,a,o){return P.ortho(t.array,e,n,r,i,a,o),t._dirty=!0,t},st.perspective=function(t,e,n,r,i){return P.perspective(t.array,e,n,r,i),t._dirty=!0,t},st.lookAt=function(t,e,n,r){return P.lookAt(t.array,e.array,n.array,r.array),t._dirty=!0,t},st.invert=function(t,e){return P.invert(t.array,e.array),t._dirty=!0,t},st.multiply=st.mul=function(t,e,n){return P.mul(t.array,e.array,n.array),t._dirty=!0,t},st.fromQuat=function(t,e){return P.fromQuat(t.array,e.array),t._dirty=!0,t},st.fromRotationTranslation=function(t,e,n){return P.fromRotationTranslation(t.array,e.array,n.array),t._dirty=!0,t},st.fromMat2d=function(t,e){t._dirty=!0;e=e.array;return(t=t.array)[0]=e[0],t[4]=e[2],t[12]=e[4],t[1]=e[1],t[5]=e[3],t[13]=e[5],t},st.rotate=function(t,e,n,r){return P.rotate(t.array,e.array,n,r.array),t._dirty=!0,t},st.rotateX=function(t,e,n){return P.rotateX(t.array,e.array,n),t._dirty=!0,t},st.rotateY=function(t,e,n){return P.rotateY(t.array,e.array,n),t._dirty=!0,t},st.rotateZ=function(t,e,n){return P.rotateZ(t.array,e.array,n),t._dirty=!0,t},st.scale=function(t,e,n){return P.scale(t.array,e.array,n.array),t._dirty=!0,t},st.transpose=function(t,e){return P.transpose(t.array,e.array),t._dirty=!0,t},st.translate=function(t,e,n){return P.translate(t.array,e.array,n.array),t._dirty=!0,t};var ct,ht,ft,dt,pt,mt,gt=st,_t=l.set,vt=l.copy,yt=function(t,e){this.min=t||new _(1/0,1/0,1/0),this.max=e||new _(-1/0,-1/0,-1/0),this.vertices=null};yt.prototype={constructor:yt,updateFromVertices:function(t){if(t.length>0){var e=this.min,n=this.max,r=e.array,i=n.array;vt(r,t[0]),vt(i,t[0]);for(var a=1;a<t.length;a++){var o=t[a];o[0]<r[0]&&(r[0]=o[0]),o[1]<r[1]&&(r[1]=o[1]),o[2]<r[2]&&(r[2]=o[2]),o[0]>i[0]&&(i[0]=o[0]),o[1]>i[1]&&(i[1]=o[1]),o[2]>i[2]&&(i[2]=o[2])}e._dirty=!0,n._dirty=!0}},union:function(t){var e=this.min,n=this.max;return l.min(e.array,e.array,t.min.array),l.max(n.array,n.array,t.max.array),e._dirty=!0,n._dirty=!0,this},intersection:function(t){var e=this.min,n=this.max;return l.max(e.array,e.array,t.min.array),l.min(n.array,n.array,t.max.array),e._dirty=!0,n._dirty=!0,this},intersectBoundingBox:function(t){var e=this.min.array,n=this.max.array,r=t.min.array,i=t.max.array;return!(e[0]>i[0]||e[1]>i[1]||e[2]>i[2]||n[0]<r[0]||n[1]<r[1]||n[2]<r[2])},containBoundingBox:function(t){var e=this.min.array,n=this.max.array,r=t.min.array,i=t.max.array;return e[0]<=r[0]&&e[1]<=r[1]&&e[2]<=r[2]&&n[0]>=i[0]&&n[1]>=i[1]&&n[2]>=i[2]},containPoint:function(t){var e=this.min.array,n=this.max.array,r=t.array;return e[0]<=r[0]&&e[1]<=r[1]&&e[2]<=r[2]&&n[0]>=r[0]&&n[1]>=r[1]&&n[2]>=r[2]},isFinite:function(){var t=this.min.array,e=this.max.array;return isFinite(t[0])&&isFinite(t[1])&&isFinite(t[2])&&isFinite(e[0])&&isFinite(e[1])&&isFinite(e[2])},applyTransform:function(t){this.transformFrom(this,t)},transformFrom:(ct=l.create(),ht=l.create(),ft=l.create(),dt=l.create(),pt=l.create(),mt=l.create(),function(t,e){var n=t.min.array,r=t.max.array,i=e.array;return ct[0]=i[0]*n[0],ct[1]=i[1]*n[0],ct[2]=i[2]*n[0],ht[0]=i[0]*r[0],ht[1]=i[1]*r[0],ht[2]=i[2]*r[0],ft[0]=i[4]*n[1],ft[1]=i[5]*n[1],ft[2]=i[6]*n[1],dt[0]=i[4]*r[1],dt[1]=i[5]*r[1],dt[2]=i[6]*r[1],pt[0]=i[8]*n[2],pt[1]=i[9]*n[2],pt[2]=i[10]*n[2],mt[0]=i[8]*r[2],mt[1]=i[9]*r[2],mt[2]=i[10]*r[2],n=this.min.array,r=this.max.array,n[0]=Math.min(ct[0],ht[0])+Math.min(ft[0],dt[0])+Math.min(pt[0],mt[0])+i[12],n[1]=Math.min(ct[1],ht[1])+Math.min(ft[1],dt[1])+Math.min(pt[1],mt[1])+i[13],n[2]=Math.min(ct[2],ht[2])+Math.min(ft[2],dt[2])+Math.min(pt[2],mt[2])+i[14],r[0]=Math.max(ct[0],ht[0])+Math.max(ft[0],dt[0])+Math.max(pt[0],mt[0])+i[12],r[1]=Math.max(ct[1],ht[1])+Math.max(ft[1],dt[1])+Math.max(pt[1],mt[1])+i[13],r[2]=Math.max(ct[2],ht[2])+Math.max(ft[2],dt[2])+Math.max(pt[2],mt[2])+i[14],this.min._dirty=!0,this.max._dirty=!0,this}),applyProjection:function(t){var e=this.min.array,n=this.max.array,r=t.array,i=e[0],a=e[1],o=e[2],s=n[0],u=n[1],l=e[2],c=n[0],h=n[1],f=n[2];if(1===r[15])e[0]=r[0]*i+r[12],e[1]=r[5]*a+r[13],n[2]=r[10]*o+r[14],n[0]=r[0]*c+r[12],n[1]=r[5]*h+r[13],e[2]=r[10]*f+r[14];else{var d=-1/o;e[0]=r[0]*i*d,e[1]=r[5]*a*d,n[2]=(r[10]*o+r[14])*d,d=-1/l,n[0]=r[0]*s*d,n[1]=r[5]*u*d,d=-1/f,e[2]=(r[10]*f+r[14])*d}return this.min._dirty=!0,this.max._dirty=!0,this},updateVertices:function(){var t=this.vertices;if(!t){t=[];for(var e=0;e<8;e++)t[e]=l.fromValues(0,0,0);this.vertices=t}var n=this.min.array,r=this.max.array;return _t(t[0],n[0],n[1],n[2]),_t(t[1],n[0],r[1],n[2]),_t(t[2],r[0],n[1],n[2]),_t(t[3],r[0],r[1],n[2]),_t(t[4],n[0],n[1],r[2]),_t(t[5],n[0],r[1],r[2]),_t(t[6],r[0],n[1],r[2]),_t(t[7],r[0],r[1],r[2]),this},copy:function(t){var e=this.min,n=this.max;return vt(e.array,t.min.array),vt(n.array,t.max.array),e._dirty=!0,n._dirty=!0,this},clone:function(){var t=new yt;return t.copy(this),t}};var bt,xt,wt,Tt,St,Et=yt,Ct=0,At=nt.extend({name:"",position:null,rotation:null,scale:null,worldTransform:null,localTransform:null,autoUpdateLocalTransform:!0,_parent:null,_scene:null,_needsUpdateWorldTransform:!0,_inIterating:!1,__depth:0},(function(){this.name||(this.name=(this.type||"NODE")+"_"+Ct++),this.position||(this.position=new _),this.rotation||(this.rotation=new ot),this.scale||(this.scale=new _(1,1,1)),this.worldTransform=new gt,this.localTransform=new gt,this._children=[]}),{target:null,invisible:!1,isSkinnedMesh:function(){return!1},isRenderable:function(){return!1},setName:function(t){var e=this._scene;if(e){var n=e._nodeRepository;delete n[this.name],n[t]=this}this.name=t},add:function(t){var e=t._parent;if(e!==this){e&&e.remove(t),t._parent=this,this._children.push(t);var n=this._scene;n&&n!==t.scene&&t.traverse(this._addSelfToScene,this),t._needsUpdateWorldTransform=!0}},remove:function(t){var e=this._children,n=e.indexOf(t);n<0||(e.splice(n,1),t._parent=null,this._scene&&t.traverse(this._removeSelfFromScene,this))},removeAll:function(){for(var t=this._children,e=0;e<t.length;e++)t[e]._parent=null,this._scene&&t[e].traverse(this._removeSelfFromScene,this);this._children=[]},getScene:function(){return this._scene},getParent:function(){return this._parent},_removeSelfFromScene:function(t){t._scene.removeFromScene(t),t._scene=null},_addSelfToScene:function(t){this._scene.addToScene(t),t._scene=this._scene},isAncestor:function(t){for(var e=t._parent;e;){if(e===this)return!0;e=e._parent}return!1},children:function(){return this._children.slice()},childAt:function(t){return this._children[t]},getChildByName:function(t){for(var e=this._children,n=0;n<e.length;n++)if(e[n].name===t)return e[n]},getDescendantByName:function(t){for(var e=this._children,n=0;n<e.length;n++){var r=e[n];if(r.name===t)return r;var i=r.getDescendantByName(t);if(i)return i}},queryNode:function(t){if(t){for(var e=t.split("/"),n=this,r=0;r<e.length;r++){var i=e[r];if(i){for(var a=!1,o=n._children,s=0;s<o.length;s++){var u=o[s];if(u.name===i){n=u,a=!0;break}}if(!a)return}}return n}},getPath:function(t){if(!this._parent)return"/";for(var e=this._parent,n=this.name;e._parent&&(n=e.name+"/"+n,e._parent!=t);)e=e._parent;return!e._parent&&t?null:n},traverse:function(t,e){t.call(e,this);for(var n=this._children,r=0,i=n.length;r<i;r++)n[r].traverse(t,e)},eachChild:function(t,e){for(var n=this._children,r=0,i=n.length;r<i;r++){var a=n[r];t.call(e,a,r)}},setLocalTransform:function(t){P.copy(this.localTransform.array,t.array),this.decomposeLocalTransform()},decomposeLocalTransform:function(t){var e=t?null:this.scale;this.localTransform.decomposeMatrix(e,this.rotation,this.position)},setWorldTransform:function(t){P.copy(this.worldTransform.array,t.array),this.decomposeWorldTransform()},decomposeWorldTransform:(Tt=P.create(),function(t){var e=this.localTransform,n=this.worldTransform;this._parent?(P.invert(Tt,this._parent.worldTransform.array),P.multiply(e.array,Tt,n.array)):P.copy(e.array,n.array);var r=t?null:this.scale;e.decomposeMatrix(r,this.rotation,this.position)}),transformNeedsUpdate:function(){return this.position._dirty||this.rotation._dirty||this.scale._dirty},updateLocalTransform:function(){var t=this.position,e=this.rotation,n=this.scale;if(this.transformNeedsUpdate()){var r=this.localTransform.array;P.fromRotationTranslation(r,e.array,t.array),P.scale(r,r,n.array),e._dirty=!1,n._dirty=!1,t._dirty=!1,this._needsUpdateWorldTransform=!0}},_updateWorldTransformTopDown:function(){var t=this.localTransform.array,e=this.worldTransform.array;this._parent?P.multiplyAffine(e,this._parent.worldTransform.array,t):P.copy(e,t)},updateWorldTransform:function(){for(var t=this;t&&t.getParent()&&t.getParent().transformNeedsUpdate();)t=t.getParent();t.update()},update:function(t){this.autoUpdateLocalTransform?this.updateLocalTransform():t=!0,(t||this._needsUpdateWorldTransform)&&(this._updateWorldTransformTopDown(),t=!0,this._needsUpdateWorldTransform=!1);for(var e=this._children,n=0,r=e.length;n<r;n++)e[n].update(t)},getBoundingBox:function(){function t(t){return!t.invisible&&t.geometry}var e=new Et,n=new gt,r=new gt;return function(i,a){return a=a||new Et,i=i||t,this._parent?gt.invert(r,this._parent.worldTransform):gt.identity(r),this.traverse((function(t){t.geometry&&t.geometry.boundingBox&&(e.copy(t.geometry.boundingBox),gt.multiply(n,r,t.worldTransform),e.applyTransform(n),a.union(e))}),this,t),a}}(),getWorldPosition:function(t){this.transformNeedsUpdate()&&this.updateWorldTransform();var e=this.worldTransform.array;if(t){var n=t.array;return n[0]=e[12],n[1]=e[13],n[2]=e[14],t}return new _(e[12],e[13],e[14])},clone:function(){var t=new this.constructor,e=this._children;t.setName(this.name),t.position.copy(this.position),t.rotation.copy(this.rotation),t.scale.copy(this.scale);for(var n=0;n<e.length;n++)t.add(e[n].clone());return t},rotateAround:(xt=new _,wt=new gt,function(t,e,n){xt.copy(this.position).subtract(t);var r=this.localTransform;r.identity(),r.translate(t),r.rotate(n,e),wt.fromRotationTranslation(this.rotation,xt),r.multiply(wt),r.scale(this.scale),this.decomposeLocalTransform(),this._needsUpdateWorldTransform=!0}),lookAt:(bt=new gt,function(t,e){bt.lookAt(this.position,t,e||this.localTransform.y).invert(),this.setLocalTransform(bt),this.target=t})}),Mt=At,Ot=256,Dt=1024,Nt=16384,It=0,Pt=1,Lt=2,Rt=3,kt=4,Bt=5,Ft=6,zt=35040,jt=35044,Ut=35048,Ht=1028,Vt=1029,Gt=1032,Wt=2304,$t=2305,Xt=5120,qt=5121,Yt=5122,Zt=5123,Kt=5124,Jt=5125,Qt=5126,te=6402,ee=6406,ne=6407,re=6408,ie=6409,ae=6410,oe=9728,se=9729,ue=9984,le=9985,ce=9986,he=9987,fe=3553,de=34067,pe=10497,me=33071,ge=33648,_e=36160,ve=36161,ye=34041,be=36064,xe=36096,we=36128,Te=33306,Se=Mt.extend({material:null,geometry:null,mode:kt,_renderInfo:null},{__program:null,lightGroup:0,renderOrder:0,culling:!0,cullFace:Vt,frontFace:$t,frustumCulling:!0,receiveShadow:!0,castShadow:!0,ignorePicking:!1,ignorePreZ:!1,ignoreGBuffer:!1,isRenderable:function(){return this.geometry&&this.material&&this.material.shader&&!this.invisible&&this.geometry.vertexCount>0},beforeRender:function(t){},afterRender:function(t,e){},getBoundingBox:function(t,e){return e=Mt.prototype.getBoundingBox.call(this,t,e),this.geometry&&this.geometry.boundingBox&&e.union(this.geometry.boundingBox),e},clone:(St=["castShadow","receiveShadow","mode","culling","cullFace","frontFace","frustumCulling","renderOrder","lineWidth","ignorePicking","ignorePreZ","ignoreGBuffer"],function(){var t=Mt.prototype.clone.call(this);t.geometry=this.geometry,t.material=this.material;for(var e=0;e<St.length;e++){var n=St[e];t[n]!==this[n]&&(t[n]=this[n])}return t})});Se.POINTS=It,Se.LINES=Pt,Se.LINE_LOOP=Lt,Se.LINE_STRIP=Rt,Se.TRIANGLES=kt,Se.TRIANGLE_STRIP=Bt,Se.TRIANGLE_FAN=Ft,Se.BACK=Vt,Se.FRONT=Ht,Se.FRONT_AND_BACK=Gt,Se.CW=Wt,Se.CCW=$t;var Ee=Se,Ce=Ee.extend({skeleton:null,joints:null},(function(){this.joints||(this.joints=[])}),{offsetMatrix:null,isInstancedMesh:function(){return!1},isSkinnedMesh:function(){return!!(this.skeleton&&this.joints&&this.joints.length>0)},clone:function(){var t=Ee.prototype.clone.call(this);return t.skeleton=this.skeleton,this.joints&&(t.joints=this.joints.slice()),t}});Ce.POINTS=It,Ce.LINES=Pt,Ce.LINE_LOOP=Lt,Ce.LINE_STRIP=Rt,Ce.TRIANGLES=kt,Ce.TRIANGLE_STRIP=Bt,Ce.TRIANGLE_FAN=Ft,Ce.BACK=Vt,Ce.FRONT=Ht,Ce.FRONT_AND_BACK=Gt,Ce.CW=Wt,Ce.CCW=$t;var Ae=Ce,Me=["OES_texture_float","OES_texture_half_float","OES_texture_float_linear","OES_texture_half_float_linear","OES_standard_derivatives","OES_vertex_array_object","OES_element_index_uint","WEBGL_compressed_texture_s3tc","WEBGL_depth_texture","EXT_texture_filter_anisotropic","EXT_shader_texture_lod","WEBGL_draw_buffers","EXT_frag_depth","EXT_sRGB","ANGLE_instanced_arrays"],Oe=["MAX_TEXTURE_SIZE","MAX_CUBE_MAP_TEXTURE_SIZE"];var De=function(t){for(var e={},n={},r=0;r<Me.length;r++){a(Me[r])}for(r=0;r<Oe.length;r++){var i=Oe[r];n[i]=t.getParameter(t[i])}function a(n){if(t.getExtension){var r=t.getExtension(n);r||(r=t.getExtension("MOZ_"+n)),r||(r=t.getExtension("WEBKIT_"+n)),e[n]=r}}this.getExtension=function(t){return t in e||a(t),e[t]},this.getParameter=function(t){return n[t]}},Ne=n("620a"),Ie=function(){this.head=null,this.tail=null,this._length=0};Ie.prototype.insert=function(t){var e=new Ie.Entry(t);return this.insertEntry(e),e},Ie.prototype.insertAt=function(t,e){if(!(t<0)){for(var n=this.head,r=0;n&&r!=t;)n=n.next,r++;if(n){var i=new Ie.Entry(e),a=n.prev;a?(a.next=i,i.prev=a):this.head=i,i.next=n,n.prev=i}else this.insert(e)}},Ie.prototype.insertBeforeEntry=function(t,e){var n=new Ie.Entry(t),r=e.prev;r?(r.next=n,n.prev=r):this.head=n,n.next=e,e.prev=n,this._length++},Ie.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,this.tail=t):this.head=this.tail=t,this._length++},Ie.prototype.remove=function(t){var e=t.prev,n=t.next;e?e.next=n:this.head=n,n?n.prev=e:this.tail=e,t.next=t.prev=null,this._length--},Ie.prototype.removeAt=function(t){if(!(t<0)){for(var e=this.head,n=0;e&&n!=t;)e=e.next,n++;return e?(this.remove(e),e.value):void 0}},Ie.prototype.getHead=function(){if(this.head)return this.head.value},Ie.prototype.getTail=function(){if(this.tail)return this.tail.value},Ie.prototype.getAt=function(t){if(!(t<0)){for(var e=this.head,n=0;e&&n!=t;)e=e.next,n++;return e.value}},Ie.prototype.indexOf=function(t){for(var e=this.head,n=0;e;){if(e.value===t)return n;e=e.next,n++}},Ie.prototype.length=function(){return this._length},Ie.prototype.isEmpty=function(){return 0===this._length},Ie.prototype.forEach=function(t,e){for(var n=this.head,r=0,i=void 0!==e;n;)i?t.call(e,n.value,r):t(n.value,r),n=n.next,r++},Ie.prototype.clear=function(){this.tail=this.head=null,this._length=0},Ie.Entry=function(t){this.value=t,this.next=null,this.prev=null};var Pe=Ie,Le=function(t){this._list=new Pe,this._map={},this._maxSize=t||10};Le.prototype.setMaxSize=function(t){this._maxSize=t},Le.prototype.put=function(t,e){if(!this._map.hasOwnProperty(t)){var n=this._list.length();if(n>=this._maxSize&&n>0){var r=this._list.head;this._list.remove(r),delete this._map[r.key]}var i=this._list.insert(e);i.key=t,this._map[t]=i}},Le.prototype.get=function(t){var e=this._map[t];if(this._map.hasOwnProperty(t))return e!==this._list.tail&&(this._list.remove(e),this._list.insertEntry(e)),e.value},Le.prototype.remove=function(t){var e=this._map[t];void 0!==e&&(delete this._map[t],this._list.remove(e))},Le.prototype.clear=function(){this._list.clear(),this._map={}};var Re=Le,ke={},Be={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Fe(t){return(t=Math.round(t))<0?0:t>255?255:t}function ze(t){return t<0?0:t>1?1:t}function je(t){return t.length&&"%"===t.charAt(t.length-1)?Fe(parseFloat(t)/100*255):Fe(parseInt(t,10))}function Ue(t){return t.length&&"%"===t.charAt(t.length-1)?ze(parseFloat(t)/100):ze(parseFloat(t))}function He(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function Ve(t,e,n){return t+(e-t)*n}function Ge(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function We(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var $e=new Re(20),Xe=null;function qe(t,e){Xe&&We(Xe,e),Xe=$e.put(t,Xe||e.slice())}function Ye(t,e){var n=(parseFloat(t[0])%360+360)%360/360,r=Ue(t[1]),i=Ue(t[2]),a=i<=.5?i*(r+1):i+r-i*r,o=2*i-a;return Ge(e=e||[],Fe(255*He(o,a,n+1/3)),Fe(255*He(o,a,n)),Fe(255*He(o,a,n-1/3)),1),4===t.length&&(e[3]=t[3]),e}ke.parse=function(t,e){if(t){e=e||[];var n=$e.get(t);if(n)return We(e,n);var r,i=(t+="").replace(/ /g,"").toLowerCase();if(i in Be)return We(e,Be[i]),qe(t,e),e;if("#"===i.charAt(0))return 4===i.length?(r=parseInt(i.substr(1),16))>=0&&r<=4095?(Ge(e,(3840&r)>>4|(3840&r)>>8,240&r|(240&r)>>4,15&r|(15&r)<<4,1),qe(t,e),e):void Ge(e,0,0,0,1):7===i.length?(r=parseInt(i.substr(1),16))>=0&&r<=16777215?(Ge(e,(16711680&r)>>16,(65280&r)>>8,255&r,1),qe(t,e),e):void Ge(e,0,0,0,1):void 0;var a=i.indexOf("("),o=i.indexOf(")");if(-1!==a&&o+1===i.length){var s=i.substr(0,a),u=i.substr(a+1,o-(a+1)).split(","),l=1;switch(s){case"rgba":if(4!==u.length)return void Ge(e,0,0,0,1);l=Ue(u.pop());case"rgb":return 3!==u.length?void Ge(e,0,0,0,1):(Ge(e,je(u[0]),je(u[1]),je(u[2]),l),qe(t,e),e);case"hsla":return 4!==u.length?void Ge(e,0,0,0,1):(u[3]=Ue(u[3]),Ye(u,e),qe(t,e),e);case"hsl":return 3!==u.length?void Ge(e,0,0,0,1):(Ye(u,e),qe(t,e),e);default:return}}Ge(e,0,0,0,1)}},ke.parseToFloat=function(t,e){if(e=ke.parse(t,e))return e[0]/=255,e[1]/=255,e[2]/=255,e},ke.lift=function(t,e){var n=ke.parse(t);if(n){for(var r=0;r<3;r++)n[r]=e<0?n[r]*(1-e)|0:(255-n[r])*e+n[r]|0;return ke.stringify(n,4===n.length?"rgba":"rgb")}},ke.toHex=function(t){var e=ke.parse(t);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)},ke.fastLerp=function(t,e,n){if(e&&e.length&&t>=0&&t<=1){n=n||[];var r=t*(e.length-1),i=Math.floor(r),a=Math.ceil(r),o=e[i],s=e[a],u=r-i;return n[0]=Fe(Ve(o[0],s[0],u)),n[1]=Fe(Ve(o[1],s[1],u)),n[2]=Fe(Ve(o[2],s[2],u)),n[3]=ze(Ve(o[3],s[3],u)),n}},ke.fastMapToColor=ke.fastLerp,ke.lerp=function(t,e,n){if(e&&e.length&&t>=0&&t<=1){var r=t*(e.length-1),i=Math.floor(r),a=Math.ceil(r),o=ke.parse(e[i]),s=ke.parse(e[a]),u=r-i,l=ke.stringify([Fe(Ve(o[0],s[0],u)),Fe(Ve(o[1],s[1],u)),Fe(Ve(o[2],s[2],u)),ze(Ve(o[3],s[3],u))],"rgba");return n?{color:l,leftIndex:i,rightIndex:a,value:r}:l}},ke.mapToColor=ke.lerp,ke.modifyHSL=function(t,e,n,r){if(t=ke.parse(t))return t=function(t){if(t){var e,n,r=t[0]/255,i=t[1]/255,a=t[2]/255,o=Math.min(r,i,a),s=Math.max(r,i,a),u=s-o,l=(s+o)/2;if(0===u)e=0,n=0;else{n=l<.5?u/(s+o):u/(2-s-o);var c=((s-r)/6+u/2)/u,h=((s-i)/6+u/2)/u,f=((s-a)/6+u/2)/u;r===s?e=f-h:i===s?e=1/3+c-f:a===s&&(e=2/3+h-c),e<0&&(e+=1),e>1&&(e-=1)}var d=[360*e,n,l];return null!=t[3]&&d.push(t[3]),d}}(t),null!=e&&(t[0]=(i=e,(i=Math.round(i))<0?0:i>360?360:i)),null!=n&&(t[1]=Ue(n)),null!=r&&(t[2]=Ue(r)),ke.stringify(Ye(t),"rgba");var i},ke.modifyAlpha=function(t,e){if((t=ke.parse(t))&&null!=e)return t[3]=ze(e),ke.stringify(t,"rgba")},ke.stringify=function(t,e){if(t&&t.length){var n=t[0]+","+t[1]+","+t[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(n+=","+t[3]),e+"("+n+")"}};var Ze=ke.parseToFloat,Ke={};function Je(t){var e=Object.keys(t);e.sort();for(var n=[],r=0;r<e.length;r++){var i=e[r],a=t[i];null===a?n.push(i):n.push(i+" "+a.toString())}return n.join("\n")}var Qe=nt.extend((function(){return{name:"",depthTest:!0,depthMask:!0,transparent:!1,blend:null,autoUpdateTextureStatus:!0,uniforms:{},vertexDefines:{},fragmentDefines:{},_textureStatus:{},_enabledUniforms:null}}),(function(){this.name||(this.name="MATERIAL_"+this.__uid__),this.shader&&this.attachShader(this.shader,!0)}),{precision:"highp",setUniform:function(t,e){void 0===e&&console.warn('Uniform value "'+t+'" is undefined');var n=this.uniforms[t];n&&("string"==typeof e&&(e=Ze(e)||e),n.value=e,this.autoUpdateTextureStatus&&"t"===n.type&&(e?this.enableTexture(t):this.disableTexture(t)))},setUniforms:function(t){for(var e in t){var n=t[e];this.setUniform(e,n)}},isUniformEnabled:function(t){return this._enabledUniforms.indexOf(t)>=0},getEnabledUniforms:function(){return this._enabledUniforms},getTextureUniforms:function(){return this._textureUniforms},set:function(t,e){if("object"==typeof t)for(var n in t){var r=t[n];this.setUniform(n,r)}else this.setUniform(t,e)},get:function(t){var e=this.uniforms[t];if(e)return e.value},attachShader:function(t,e){var n=this.uniforms;this.uniforms=t.createUniforms(),this.shader=t;var r=this.uniforms;this._enabledUniforms=Object.keys(r),this._enabledUniforms.sort(),this._textureUniforms=this._enabledUniforms.filter((function(t){var e=this.uniforms[t].type;return"t"===e||"tv"===e}),this);var i=this.vertexDefines,a=this.fragmentDefines;if(this.vertexDefines=Q.clone(t.vertexDefines),this.fragmentDefines=Q.clone(t.fragmentDefines),e){for(var o in n)r[o]&&(r[o].value=n[o].value);Q.defaults(this.vertexDefines,i),Q.defaults(this.fragmentDefines,a)}var s={};for(var u in t.textures)s[u]={shaderType:t.textures[u].shaderType,type:t.textures[u].type,enabled:!(!e||!this._textureStatus[u])&&this._textureStatus[u].enabled};this._textureStatus=s,this._programKey=""},clone:function(){var t=new this.constructor({name:this.name,shader:this.shader});for(var e in this.uniforms)t.uniforms[e].value=this.uniforms[e].value;return t.depthTest=this.depthTest,t.depthMask=this.depthMask,t.transparent=this.transparent,t.blend=this.blend,t.vertexDefines=Q.clone(this.vertexDefines),t.fragmentDefines=Q.clone(this.fragmentDefines),t.enableTexture(this.getEnabledTextures()),t.precision=this.precision,t},define:function(t,e,n){var r=this.vertexDefines,i=this.fragmentDefines;"vertex"!==t&&"fragment"!==t&&"both"!==t&&arguments.length<3&&(n=e,e=t,t="both"),n=null!=n?n:null,"vertex"!==t&&"both"!==t||r[e]!==n&&(r[e]=n,this._programKey=""),"fragment"!==t&&"both"!==t||i[e]!==n&&(i[e]=n,"both"!==t&&(this._programKey=""))},undefine:function(t,e){"vertex"!==t&&"fragment"!==t&&"both"!==t&&arguments.length<2&&(e=t,t="both"),"vertex"!==t&&"both"!==t||this.isDefined("vertex",e)&&(delete this.vertexDefines[e],this._programKey=""),"fragment"!==t&&"both"!==t||this.isDefined("fragment",e)&&(delete this.fragmentDefines[e],"both"!==t&&(this._programKey=""))},isDefined:function(t,e){switch(t){case"vertex":return void 0!==this.vertexDefines[e];case"fragment":return void 0!==this.fragmentDefines[e]}},getDefine:function(t,e){switch(t){case"vertex":return this.vertexDefines[e];case"fragment":return this.fragmentDefines[e]}},enableTexture:function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this.enableTexture(t[e]);else{var n=this._textureStatus[t];if(n)n.enabled||(n.enabled=!0,this._programKey="")}},enableTexturesAll:function(){var t=this._textureStatus;for(var e in t)t[e].enabled=!0;this._programKey=""},disableTexture:function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this.disableTexture(t[e]);else{var n=this._textureStatus[t];if(n)!n.enabled||(n.enabled=!1,this._programKey="")}},disableTexturesAll:function(){var t=this._textureStatus;for(var e in t)t[e].enabled=!1;this._programKey=""},isTextureEnabled:function(t){var e=this._textureStatus;return!!e[t]&&e[t].enabled},getEnabledTextures:function(){var t=[],e=this._textureStatus;for(var n in e)e[n].enabled&&t.push(n);return t},dirtyDefines:function(){this._programKey=""},getProgramKey:function(){return this._programKey||(this._programKey=function(t,e,n){n.sort();for(var r=[],i=0;i<n.length;i++){var a=n[i];r.push(a)}var o=Je(t)+"\n"+Je(e)+"\n"+r.join("\n");if(Ke[o])return Ke[o];var s=Q.genGUID();return Ke[o]=s,s}(this.vertexDefines,this.fragmentDefines,this.getEnabledTextures())),this._programKey}}),tn=function(t,e){t=t||0,e=e||0,this.array=y.fromValues(t,e),this._dirty=!0};if(tn.prototype={constructor:tn,add:function(t){return y.add(this.array,this.array,t.array),this._dirty=!0,this},set:function(t,e){return this.array[0]=t,this.array[1]=e,this._dirty=!0,this},setArray:function(t){return this.array[0]=t[0],this.array[1]=t[1],this._dirty=!0,this},clone:function(){return new tn(this.x,this.y)},copy:function(t){return y.copy(this.array,t.array),this._dirty=!0,this},cross:function(t,e){return y.cross(t.array,this.array,e.array),t._dirty=!0,this},dist:function(t){return y.dist(this.array,t.array)},distance:function(t){return y.distance(this.array,t.array)},div:function(t){return y.div(this.array,this.array,t.array),this._dirty=!0,this},divide:function(t){return y.divide(this.array,this.array,t.array),this._dirty=!0,this},dot:function(t){return y.dot(this.array,t.array)},len:function(){return y.len(this.array)},length:function(){return y.length(this.array)},lerp:function(t,e,n){return y.lerp(this.array,t.array,e.array,n),this._dirty=!0,this},min:function(t){return y.min(this.array,this.array,t.array),this._dirty=!0,this},max:function(t){return y.max(this.array,this.array,t.array),this._dirty=!0,this},mul:function(t){return y.mul(this.array,this.array,t.array),this._dirty=!0,this},multiply:function(t){return y.multiply(this.array,this.array,t.array),this._dirty=!0,this},negate:function(){return y.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return y.normalize(this.array,this.array),this._dirty=!0,this},random:function(t){return y.random(this.array,t),this._dirty=!0,this},scale:function(t){return y.scale(this.array,this.array,t),this._dirty=!0,this},scaleAndAdd:function(t,e){return y.scaleAndAdd(this.array,this.array,t.array,e),this._dirty=!0,this},sqrDist:function(t){return y.sqrDist(this.array,t.array)},squaredDistance:function(t){return y.squaredDistance(this.array,t.array)},sqrLen:function(){return y.sqrLen(this.array)},squaredLength:function(){return y.squaredLength(this.array)},sub:function(t){return y.sub(this.array,this.array,t.array),this._dirty=!0,this},subtract:function(t){return y.subtract(this.array,this.array,t.array),this._dirty=!0,this},transformMat2:function(t){return y.transformMat2(this.array,this.array,t.array),this._dirty=!0,this},transformMat2d:function(t){return y.transformMat2d(this.array,this.array,t.array),this._dirty=!0,this},transformMat3:function(t){return y.transformMat3(this.array,this.array,t.array),this._dirty=!0,this},transformMat4:function(t){return y.transformMat4(this.array,this.array,t.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},Object.defineProperty){var en=tn.prototype;Object.defineProperty(en,"x",{get:function(){return this.array[0]},set:function(t){this.array[0]=t,this._dirty=!0}}),Object.defineProperty(en,"y",{get:function(){return this.array[1]},set:function(t){this.array[1]=t,this._dirty=!0}})}tn.add=function(t,e,n){return y.add(t.array,e.array,n.array),t._dirty=!0,t},tn.set=function(t,e,n){return y.set(t.array,e,n),t._dirty=!0,t},tn.copy=function(t,e){return y.copy(t.array,e.array),t._dirty=!0,t},tn.cross=function(t,e,n){return y.cross(t.array,e.array,n.array),t._dirty=!0,t},tn.distance=tn.dist=function(t,e){return y.distance(t.array,e.array)},tn.divide=tn.div=function(t,e,n){return y.divide(t.array,e.array,n.array),t._dirty=!0,t},tn.dot=function(t,e){return y.dot(t.array,e.array)},tn.len=function(t){return y.length(t.array)},tn.lerp=function(t,e,n,r){return y.lerp(t.array,e.array,n.array,r),t._dirty=!0,t},tn.min=function(t,e,n){return y.min(t.array,e.array,n.array),t._dirty=!0,t},tn.max=function(t,e,n){return y.max(t.array,e.array,n.array),t._dirty=!0,t},tn.multiply=tn.mul=function(t,e,n){return y.multiply(t.array,e.array,n.array),t._dirty=!0,t},tn.negate=function(t,e){return y.negate(t.array,e.array),t._dirty=!0,t},tn.normalize=function(t,e){return y.normalize(t.array,e.array),t._dirty=!0,t},tn.random=function(t,e){return y.random(t.array,e),t._dirty=!0,t},tn.scale=function(t,e,n){return y.scale(t.array,e.array,n),t._dirty=!0,t},tn.scaleAndAdd=function(t,e,n,r){return y.scaleAndAdd(t.array,e.array,n.array,r),t._dirty=!0,t},tn.squaredDistance=tn.sqrDist=function(t,e){return y.sqrDist(t.array,e.array)},tn.squaredLength=tn.sqrLen=function(t){return y.sqrLen(t.array)},tn.subtract=tn.sub=function(t,e,n){return y.subtract(t.array,e.array,n.array),t._dirty=!0,t},tn.transformMat2=function(t,e,n){return y.transformMat2(t.array,e.array,n.array),t._dirty=!0,t},tn.transformMat2d=function(t,e,n){return y.transformMat2d(t.array,e.array,n.array),t._dirty=!0,t},tn.transformMat3=function(t,e,n){return y.transformMat3(t.array,e.array,n.array),t._dirty=!0,t},tn.transformMat4=function(t,e,n){return y.transformMat4(t.array,e.array,n.array),t._dirty=!0,t};var nn=tn,rn={};function an(t){for(var e=t.split("\n"),n=0,r=e.length;n<r;n++)e[n]=n+1+": "+e[n];return e.join("\n")}function on(t,e,n){if(!t.getShaderParameter(e,t.COMPILE_STATUS))return[t.getShaderInfoLog(e),an(n)].join("\n")}var sn=new Ne.a.Float32Array(16),un=nt.extend({uniformSemantics:{},attributes:{}},(function(){this._locations={},this._textureSlot=0,this._program=null}),{bind:function(t){this._textureSlot=0,t.gl.useProgram(this._program)},hasUniform:function(t){var e=this._locations[t];return null!=e},useTextureSlot:function(t,e,n){e&&(t.gl.activeTexture(t.gl.TEXTURE0+n),e.isRenderable()?e.bind(t):e.unbind(t))},currentTextureSlot:function(){return this._textureSlot},resetTextureSlot:function(t){this._textureSlot=t||0},takeCurrentTextureSlot:function(t,e){var n=this._textureSlot;return this.useTextureSlot(t,e,n),this._textureSlot++,n},setUniform:function(t,e,n,r){var i=this._locations[n];if(null==i)return!1;switch(e){case"m4":if(!(r instanceof Float32Array)){for(var a=0;a<r.length;a++)sn[a]=r[a];r=sn}t.uniformMatrix4fv(i,!1,r);break;case"2i":t.uniform2i(i,r[0],r[1]);break;case"2f":t.uniform2f(i,r[0],r[1]);break;case"3i":t.uniform3i(i,r[0],r[1],r[2]);break;case"3f":t.uniform3f(i,r[0],r[1],r[2]);break;case"4i":t.uniform4i(i,r[0],r[1],r[2],r[3]);break;case"4f":t.uniform4f(i,r[0],r[1],r[2],r[3]);break;case"1i":t.uniform1i(i,r);break;case"1f":t.uniform1f(i,r);break;case"1fv":t.uniform1fv(i,r);break;case"1iv":t.uniform1iv(i,r);break;case"2iv":t.uniform2iv(i,r);break;case"2fv":t.uniform2fv(i,r);break;case"3iv":t.uniform3iv(i,r);break;case"3fv":t.uniform3fv(i,r);break;case"4iv":t.uniform4iv(i,r);break;case"4fv":t.uniform4fv(i,r);break;case"m2":case"m2v":t.uniformMatrix2fv(i,!1,r);break;case"m3":case"m3v":t.uniformMatrix3fv(i,!1,r);break;case"m4v":if(Array.isArray(r)&&Array.isArray(r[0])){var o=new Ne.a.Float32Array(16*r.length),s=0;for(a=0;a<r.length;a++)for(var u=r[a],l=0;l<16;l++)o[s++]=u[l];t.uniformMatrix4fv(i,!1,o)}else t.uniformMatrix4fv(i,!1,r)}return!0},setUniformOfSemantic:function(t,e,n){var r=this.uniformSemantics[e];return!!r&&this.setUniform(t,r.type,r.symbol,n)},enableAttributes:function(t,e,n){var r,i=t.gl,a=this._program,o=this._locations;(r=n?n.__enabledAttributeList:rn[t.__uid__])||(r=n?n.__enabledAttributeList=[]:rn[t.__uid__]=[]);for(var s=[],u=0;u<e.length;u++){var l=e[u];if(this.attributes[l]){var c=o[l];if(null==c){if(-1===(c=i.getAttribLocation(a,l))){s[u]=-1;continue}o[l]=c}s[u]=c,r[c]?r[c]=2:r[c]=1}else s[u]=-1}for(u=0;u<r.length;u++)switch(r[u]){case 1:i.enableVertexAttribArray(u),r[u]=3;break;case 2:r[u]=3;break;case 3:i.disableVertexAttribArray(u),r[u]=0}return s},getAttribLocation:function(t,e){var n=this._locations,r=n[e];return null==r&&(r=t.getAttribLocation(this._program,e),n[e]=r),r},buildProgram:function(t,e,n,r){var i=t.createShader(t.VERTEX_SHADER),a=t.createProgram();t.shaderSource(i,n),t.compileShader(i);var o=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(o,r),t.compileShader(o);var s=on(t,i,n);if(s)return s;if(s=on(t,o,r))return s;if(t.attachShader(a,i),t.attachShader(a,o),e.attributeSemantics.POSITION)t.bindAttribLocation(a,0,e.attributeSemantics.POSITION.symbol);else{var u=Object.keys(this.attributes);t.bindAttribLocation(a,0,u[0])}if(t.linkProgram(a),t.deleteShader(i),t.deleteShader(o),this._program=a,this.vertexCode=n,this.fragmentCode=r,!t.getProgramParameter(a,t.LINK_STATUS))return"Could not link program\n"+t.getProgramInfoLog(a);for(var l=0;l<e.uniforms.length;l++){var c=e.uniforms[l];this._locations[c]=t.getUniformLocation(a,c)}}}),ln=/for\s*?\(int\s*?_idx_\s*\=\s*([\w-]+)\;\s*_idx_\s*<\s*([\w-]+);\s*_idx_\s*\+\+\s*\)\s*\{\{([\s\S]+?)(?=\}\})\}\}/g;function cn(t,e,n){var r={};for(var i in n)r[i+"_COUNT"]=n[i];return t.replace(ln,(function(t,n,i,a){var o="";isNaN(n)&&(n=n in e?e[n]:r[n]),isNaN(i)&&(i=i in e?e[i]:r[i]);for(var s=parseInt(n);s<parseInt(i);s++)o+="{"+a.replace(/float\s*\(\s*_idx_\s*\)/g,s.toFixed(1)).replace(/_idx_/g,s)+"}";return o}))}function hn(t,e,n){var r=[];if(e)for(var i in e){var a=e[i];a>0&&r.push("#define "+i.toUpperCase()+"_COUNT "+a)}if(n)for(var o=0;o<n.length;o++){var s=n[o];r.push("#define "+s.toUpperCase()+"_ENABLED")}for(var s in t){var u=t[s];null===u?r.push("#define "+s):r.push("#define "+s+" "+u.toString())}return r.join("\n")}function fn(t){this._renderer=t,this._cache={}}fn.prototype.getProgram=function(t,e,n){var r=this._cache,i=t.isSkinnedMesh&&t.isSkinnedMesh(),a=t.isInstancedMesh&&t.isInstancedMesh(),o="s"+e.shader.shaderID+"m"+e.getProgramKey();if(n&&(o+="se"+n.getProgramKey(t.lightGroup)),i&&(o+=",sk"+t.joints.length),a&&(o+=",is"),v=r[o])return v;var s=n?n.getLightsNumbers(t.lightGroup):{},u=this._renderer,l=u.gl,c=e.getEnabledTextures(),h="";if(i){var f={SKINNING:null,JOINT_COUNT:t.joints.length};t.joints.length>u.getMaxJointNumber()&&(f.USE_SKIN_MATRICES_TEXTURE=null),h+="\n"+hn(f)+"\n"}a&&(h+="\n#define INSTANCING\n");var d=h+hn(e.vertexDefines,s,c),p=h+hn(e.fragmentDefines,s,c),m=d+"\n"+e.shader.vertex,g=["OES_standard_derivatives","EXT_shader_texture_lod"].filter((function(t){return null!=u.getGLExtension(t)}));g.indexOf("EXT_shader_texture_lod")>=0&&(p+="\n#define SUPPORT_TEXTURE_LOD"),g.indexOf("OES_standard_derivatives")>=0&&(p+="\n#define SUPPORT_STANDARD_DERIVATIVES");var _,v,y=function(t){for(var e=[],n=0;n<t.length;n++)e.push("#extension GL_"+t[n]+" : enable");return e.join("\n")}(g)+"\n"+(["precision",_=e.precision,"float"].join(" ")+";\n"+["precision",_,"int"].join(" ")+";\n"+["precision",_,"sampler2D"].join(" ")+";\n\n")+p+"\n"+e.shader.fragment,b=cn(m,e.vertexDefines,s),x=cn(y,e.fragmentDefines,s);(v=new un).uniformSemantics=e.shader.uniformSemantics,v.attributes=e.shader.attributes;var w=v.buildProgram(l,e.shader,b,x);return v.__error=w,r[o]=v,v};var dn=fn,pn=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g,mn=/attribute\s+(float|int|vec2|vec3|vec4)\s+([\s\S]*?);/g,gn=/#define\s+(\w+)?(\s+[\d-.]+)?\s*;?\s*\n/g,_n={bool:"1i",int:"1i",sampler2D:"t",samplerCube:"t",float:"1f",vec2:"2f",vec3:"3f",vec4:"4f",ivec2:"2i",ivec3:"3i",ivec4:"4i",mat2:"m2",mat3:"m3",mat4:"m4"};function vn(t){for(var e=[],n=0;n<t;n++)e[n]=0;return e}var yn={bool:function(){return!0},int:function(){return 0},float:function(){return 0},sampler2D:function(){return null},samplerCube:function(){return null},vec2:function(){return vn(2)},vec3:function(){return vn(3)},vec4:function(){return vn(4)},ivec2:function(){return vn(2)},ivec3:function(){return vn(3)},ivec4:function(){return vn(4)},mat2:function(){return vn(4)},mat3:function(){return vn(9)},mat4:function(){return vn(16)},array:function(){return[]}},bn=["POSITION","NORMAL","BINORMAL","TANGENT","TEXCOORD","TEXCOORD_0","TEXCOORD_1","COLOR","JOINT","WEIGHT"],xn=["SKIN_MATRIX","VIEWPORT_SIZE","VIEWPORT","DEVICEPIXELRATIO","WINDOW_SIZE","NEAR","FAR","TIME"],wn=["WORLD","VIEW","PROJECTION","WORLDVIEW","VIEWPROJECTION","WORLDVIEWPROJECTION","WORLDINVERSE","VIEWINVERSE","PROJECTIONINVERSE","WORLDVIEWINVERSE","VIEWPROJECTIONINVERSE","WORLDVIEWPROJECTIONINVERSE","WORLDTRANSPOSE","VIEWTRANSPOSE","PROJECTIONTRANSPOSE","WORLDVIEWTRANSPOSE","VIEWPROJECTIONTRANSPOSE","WORLDVIEWPROJECTIONTRANSPOSE","WORLDINVERSETRANSPOSE","VIEWINVERSETRANSPOSE","PROJECTIONINVERSETRANSPOSE","WORLDVIEWINVERSETRANSPOSE","VIEWPROJECTIONINVERSETRANSPOSE","WORLDVIEWPROJECTIONINVERSETRANSPOSE"],Tn={vec4:4,vec3:3,vec2:2,float:1},Sn={},En={};function Cn(t){return t.replace(/[ \t]*\/\/.*\n/g,"").replace(/[ \t]*\/\*[\s\S]*?\*\//g,"")}function An(){console.error("Wrong uniform/attributes syntax")}function Mn(t,e){for(var n=/[,=\(\):]/,r=e.replace(/:\s*\[\s*(.*)\s*\]/g,"="+t+"($1)").replace(/\s+/g,"").split(/(?=[,=\(\):])/g),i=[],a=0;a<r.length;a++)r[a].match(n)?i.push(r[a].charAt(0),r[a].slice(1)):i.push(r[a]);var o,s=0,u={},l=null;function c(t){t||An();var e=t.match(/\[(.*?)\]/);o=t.replace(/\[(.*?)\]/,""),u[o]={},e&&(u[o].isArray=!0,u[o].arraySize=e[1])}c((r=i)[0]);for(a=1;a<r.length;a++){var h=r[a];if(h)if("="!==h)if(":"!==h)if(","!==h)if(")"!==h)if("("!==h)if(h.indexOf("vec")>=0){if(1!==s&&4!==s){An();break}s=2,l=[]}else if(1!==s)if(4!==s)c(h),s=0;else{var f=h;bn.indexOf(f)>=0||xn.indexOf(f)>=0||wn.indexOf(f)>=0?u[o].semantic=f:"ignore"===f||"unconfigurable"===f?u[o].ignore=!0:u[o].value="bool"===t?"true"===f:parseFloat(f)}else u[o].value="bool"===t?"true"===h:parseFloat(h),l=null;else{if(2!==s){An();break}if(!(l instanceof Array)){An();break}l.push(+r[++a])}else u[o].value=new Ne.a.Float32Array(l),l=null,s=5;else if(2===s){if(!(l instanceof Array)){An();break}l.push(+r[++a])}else s=5;else s=4;else{if(0!==s&&3!==s){An();break}s=1}}return u}function On(t,e){"object"==typeof t&&(e=t.fragment,t=t.vertex),t=Cn(t),e=Cn(e),this._shaderID=function(t,e){var n="vertex:"+t+"fragment:"+e;if(Sn[n])return Sn[n];var r=Q.genGUID();return Sn[n]=r,En[r]={vertex:t,fragment:e},r}(t,e),this._vertexCode=On.parseImport(t),this._fragmentCode=On.parseImport(e),this.attributeSemantics={},this.matrixSemantics={},this.uniformSemantics={},this.matrixSemanticKeys=[],this.uniformTemplates={},this.attributes={},this.textures={},this.vertexDefines={},this.fragmentDefines={},this._parseAttributes(),this._parseUniforms(),this._parseDefines()}On.prototype={constructor:On,createUniforms:function(){var t={};for(var e in this.uniformTemplates){var n=this.uniformTemplates[e];t[e]={type:n.type,value:n.value()}}return t},_parseImport:function(){this._vertexCode=On.parseImport(this.vertex),this._fragmentCode=On.parseImport(this.fragment)},_addSemanticUniform:function(t,e,n){if(bn.indexOf(n)>=0)this.attributeSemantics[n]={symbol:t,type:e};else if(wn.indexOf(n)>=0){var r=!1,i=n;n.match(/TRANSPOSE$/)&&(r=!0,i=n.slice(0,-9)),this.matrixSemantics[n]={symbol:t,type:e,isTranspose:r,semanticNoTranspose:i}}else xn.indexOf(n)>=0&&(this.uniformSemantics[n]={symbol:t,type:e})},_addMaterialUniform:function(t,e,n,r,i,a){a[t]={type:n,value:i?yn.array:r||yn[e],semantic:null}},_parseUniforms:function(){var t={},e=this;function n(t){return null!=t?function(){return t}:null}function r(r,i,a){var o=Mn(i,a),s=[];for(var u in o){var l=o[u],c=l.semantic,h=u,f=_n[i],d=n(o[u].value);o[u].isArray&&(h+="["+o[u].arraySize+"]",f+="v"),s.push(h),e._uniformList.push(u),l.ignore||("sampler2D"!==i&&"samplerCube"!==i||(e.textures[u]={shaderType:"fragment",type:i}),c?e._addSemanticUniform(u,f,c):e._addMaterialUniform(u,i,f,d,o[u].isArray,t))}return s.length>0?"uniform "+i+" "+s.join(",")+";\n":""}this._uniformList=[],this._vertexCode=this._vertexCode.replace(pn,r),this._fragmentCode=this._fragmentCode.replace(pn,r),e.matrixSemanticKeys=Object.keys(this.matrixSemantics),this.uniformTemplates=t},_parseAttributes:function(){var t={},e=this;this._vertexCode=this._vertexCode.replace(mn,(function(n,r,i){var a=Mn(r,i),o=Tn[r]||1,s=[];for(var u in a){var l=a[u].semantic;if(t[u]={type:"float",size:o,semantic:l||null},l){if(bn.indexOf(l)<0)throw new Error('Unkown semantic "'+l+'"');e.attributeSemantics[l]={symbol:u,type:r}}s.push(u)}return"attribute "+r+" "+s.join(",")+";\n"})),this.attributes=t},_parseDefines:function(){var t=this;function e(e,n,r){var i=t.fragmentDefines;return i[n]||(i[n]="false"!==r&&("true"===r||(r?isNaN(parseFloat(r))?r.trim():parseFloat(r):null))),""}this._vertexCode=this._vertexCode.replace(gn,e),this._fragmentCode=this._fragmentCode.replace(gn,e)},clone:function(){var t=En[this._shaderID];return new On(t.vertex,t.fragment)}},Object.defineProperty&&(Object.defineProperty(On.prototype,"shaderID",{get:function(){return this._shaderID}}),Object.defineProperty(On.prototype,"vertex",{get:function(){return this._vertexCode}}),Object.defineProperty(On.prototype,"fragment",{get:function(){return this._fragmentCode}}),Object.defineProperty(On.prototype,"uniforms",{get:function(){return this._uniformList}}));var Dn=/(@import)\s*([0-9a-zA-Z_\-\.]*)/g;On.parseImport=function(t){return t=t.replace(Dn,(function(t,e,n){return(t=On.source(n))?On.parseImport(t):(console.error('Shader chunk "'+n+'" not existed in library'),"")}))};var Nn=/(@export)\s*([0-9a-zA-Z_\-\.]*)\s*\n([\s\S]*?)@end/g;On.import=function(t){t.replace(Nn,(function(t,e,n,r){if(r=r.replace(/(^[\s\t\xa0\u3000]+)|([\u3000\xa0\s\t]+\x24)/g,"")){for(var i,a=n.split("."),o=On.codes,s=0;s<a.length-1;)o[i=a[s++]]||(o[i]={}),o=o[i];o[i=a[s]]=r}return r}))},On.codes={},On.source=function(t){for(var e=t.split("."),n=On.codes,r=0;n&&r<e.length;){n=n[e[r++]]}return"string"!=typeof n?(console.error('Shader "'+t+'" not existed in library'),""):n};var In=On,Pn="@export clay.prez.vertex\nuniform mat4 WVP : WORLDVIEWPROJECTION;\nattribute vec3 pos : POSITION;\nattribute vec2 uv : TEXCOORD_0;\nuniform vec2 uvRepeat : [1.0, 1.0];\nuniform vec2 uvOffset : [0.0, 0.0];\n@import clay.chunk.skinning_header\n@import clay.chunk.instancing_header\nvarying vec2 v_Texcoord;\nvoid main()\n{\n vec4 P = vec4(pos, 1.0);\n#ifdef SKINNING\n @import clay.chunk.skin_matrix\n P = skinMatrixWS * P;\n#endif\n#ifdef INSTANCING\n @import clay.chunk.instancing_matrix\n P = instanceMat * P;\n#endif\n gl_Position = WVP * P;\n v_Texcoord = uv * uvRepeat + uvOffset;\n}\n@end\n@export clay.prez.fragment\nuniform sampler2D alphaMap;\nuniform float alphaCutoff: 0.0;\nvarying vec2 v_Texcoord;\nvoid main()\n{\n if (alphaCutoff > 0.0) {\n if (texture2D(alphaMap, v_Texcoord).a <= alphaCutoff) {\n discard;\n }\n }\n gl_FragColor = vec4(0.0,0.0,0.0,1.0);\n}\n@end";In.import(Pn);var Ln=P.create,Rn={};function kn(t){return t.material}function Bn(t,e,n){return e.uniforms[n].value}function Fn(t,e,n,r){return n!==r}function zn(t){return!0}function jn(){}var Un={float:Qt,byte:Xt,ubyte:qt,short:Yt,ushort:Zt};function Hn(t,e,n){this.availableAttributes=t,this.availableAttributeSymbols=e,this.indicesBuffer=n,this.vao=null}function Vn(t){var e,n;this.bind=function(t){e||((e=Ne.a.createCanvas()).width=e.height=1,e.getContext("2d"));var r=t.gl,i=!n;i&&(n=r.createTexture()),r.bindTexture(r.TEXTURE_2D,n),i&&r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,e)},this.unbind=function(t){t.gl.bindTexture(t.gl.TEXTURE_2D,null)},this.isRenderable=function(){return!0}}var Gn=nt.extend((function(){return{canvas:null,_width:100,_height:100,devicePixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1,clearColor:[0,0,0,0],clearBit:17664,alpha:!0,depth:!0,stencil:!1,antialias:!0,premultipliedAlpha:!0,preserveDrawingBuffer:!1,throwError:!0,gl:null,viewport:{},maxJointNumber:20,__currentFrameBuffer:null,_viewportStack:[],_clearStack:[],_sceneRendering:null}}),(function(){this.canvas||(this.canvas=Ne.a.createCanvas());var t=this.canvas;try{var e={alpha:this.alpha,depth:this.depth,stencil:this.stencil,antialias:this.antialias,premultipliedAlpha:this.premultipliedAlpha,preserveDrawingBuffer:this.preserveDrawingBuffer};if(this.gl=t.getContext("webgl",e)||t.getContext("experimental-webgl",e),!this.gl)throw new Error;this._glinfo=new De(this.gl),this.gl.targetRenderer&&console.error("Already created a renderer"),this.gl.targetRenderer=this,this.resize()}catch(t){throw"Error creating WebGL Context "+t}this._programMgr=new dn(this),this._placeholderTexture=new Vn(this)}),{resize:function(t,e){var n=this.canvas,r=this.devicePixelRatio;null!=t?(n.style&&(n.style.width=t+"px",n.style.height=e+"px"),n.width=t*r,n.height=e*r,this._width=t,this._height=e):(this._width=n.width/r,this._height=n.height/r),this.setViewport(0,0,this._width,this._height)},getWidth:function(){return this._width},getHeight:function(){return this._height},getViewportAspect:function(){var t=this.viewport;return t.width/t.height},setDevicePixelRatio:function(t){this.devicePixelRatio=t,this.resize(this._width,this._height)},getDevicePixelRatio:function(){return this.devicePixelRatio},getGLExtension:function(t){return this._glinfo.getExtension(t)},getGLParameter:function(t){return this._glinfo.getParameter(t)},setViewport:function(t,e,n,r,i){if("object"==typeof t){var a=t;t=a.x,e=a.y,n=a.width,r=a.height,i=a.devicePixelRatio}i=i||this.devicePixelRatio,this.gl.viewport(t*i,e*i,n*i,r*i),this.viewport={x:t,y:e,width:n,height:r,devicePixelRatio:i}},saveViewport:function(){this._viewportStack.push(this.viewport)},restoreViewport:function(){this._viewportStack.length>0&&this.setViewport(this._viewportStack.pop())},saveClear:function(){this._clearStack.push({clearBit:this.clearBit,clearColor:this.clearColor})},restoreClear:function(){if(this._clearStack.length>0){var t=this._clearStack.pop();this.clearColor=t.clearColor,this.clearBit=t.clearBit}},bindSceneRendering:function(t){this._sceneRendering=t},render:function(t,e,n,r){var i=this.gl,a=this.clearColor;if(this.clearBit){i.colorMask(!0,!0,!0,!0),i.depthMask(!0);var o=this.viewport,s=!1,u=o.devicePixelRatio;(o.width!==this._width||o.height!==this._height||u&&u!==this.devicePixelRatio||o.x||o.y)&&(s=!0,i.enable(i.SCISSOR_TEST),i.scissor(o.x*u,o.y*u,o.width*u,o.height*u)),i.clearColor(a[0],a[1],a[2],a[3]),i.clear(this.clearBit),s&&i.disable(i.SCISSOR_TEST)}if(n||t.update(!1),t.updateLights(),e=e||t.getMainCamera()){e.update();var c=t.updateRenderList(e,!0);this._sceneRendering=t;var h=c.opaque,f=c.transparent,d=t.material;t.trigger("beforerender",this,t,e,c),r?(this.renderPreZ(h,t,e),i.depthFunc(i.LEQUAL)):i.depthFunc(i.LESS);for(var p=Ln(),m=l.create(),g=0;g<f.length;g++){var _=f[g];P.multiplyAffine(p,e.viewMatrix.array,_.worldTransform.array),l.transformMat4(m,_.position.array,p),_.__depth=m[2]}this.renderPass(h,e,{getMaterial:function(t){return d||t.material},sortCompare:this.opaqueSortCompare}),this.renderPass(f,e,{getMaterial:function(t){return d||t.material},sortCompare:this.transparentSortCompare}),t.trigger("afterrender",this,t,e,c),this._sceneRendering=null}else console.error("Can't find camera in the scene.")},getProgram:function(t,e,n){return e=e||t.material,this._programMgr.getProgram(t,e,n)},validateProgram:function(t){if(t.__error){var e=t.__error;if(Rn[t.__uid__])return;if(Rn[t.__uid__]=!0,this.throwError)throw new Error(e);this.trigger("error",e)}},updatePrograms:function(t,e,n){var r=n&&n.getMaterial||kn;e=e||null;for(var i=0;i<t.length;i++){var a=t[i],o=r.call(this,a);if(i>0){var s=t[i-1],u=s.joints?s.joints.length:0;if((a.joints?a.joints.length:0)===u&&a.material===s.material&&a.lightGroup===s.lightGroup){a.__program=s.__program;continue}}var l=this._programMgr.getProgram(a,o,e);this.validateProgram(l),a.__program=l}},renderPass:function(t,e,n){this.trigger("beforerenderpass",this,t,e,n),(n=n||{}).getMaterial=n.getMaterial||kn,n.getUniform=n.getUniform||Bn,n.isMaterialChanged=n.isMaterialChanged||Fn,n.beforeRender=n.beforeRender||jn,n.afterRender=n.afterRender||jn;var r=n.ifRender||zn;this.updatePrograms(t,this._sceneRendering,n),n.sortCompare&&t.sort(n.sortCompare);var i=this.viewport,a=i.devicePixelRatio,o=[i.x*a,i.y*a,i.width*a,i.height*a],s=this.devicePixelRatio,u=this.__currentFrameBuffer?[this.__currentFrameBuffer.getTextureWidth(),this.__currentFrameBuffer.getTextureHeight()]:[this._width*s,this._height*s],l=[o[2],o[3]],c=Date.now();e?(P.copy(Wn.VIEW,e.viewMatrix.array),P.copy(Wn.PROJECTION,e.projectionMatrix.array),P.copy(Wn.VIEWINVERSE,e.worldTransform.array)):(P.identity(Wn.VIEW),P.identity(Wn.PROJECTION),P.identity(Wn.VIEWINVERSE)),P.multiply(Wn.VIEWPROJECTION,Wn.PROJECTION,Wn.VIEW),P.invert(Wn.PROJECTIONINVERSE,Wn.PROJECTION),P.invert(Wn.VIEWPROJECTIONINVERSE,Wn.VIEWPROJECTION);for(var h,f,d,p,m,g,_,v,y,b,x,w,T=this.gl,S=this._sceneRendering,E=0;E<t.length;E++){var C,A=t[E],M=null!=A.worldTransform;if(r(A)){M&&(C=A.isSkinnedMesh&&A.isSkinnedMesh()?A.offsetMatrix?A.offsetMatrix.array:Wn.IDENTITY:A.worldTransform.array);var O=A.geometry,D=n.getMaterial.call(this,A),N=A.__program,I=D.shader,L=O.__uid__+"-"+N.__uid__,R=L!==b;b=L,M&&(P.copy(Wn.WORLD,C),P.multiply(Wn.WORLDVIEWPROJECTION,Wn.VIEWPROJECTION,C),P.multiplyAffine(Wn.WORLDVIEW,Wn.VIEW,C),(I.matrixSemantics.WORLDINVERSE||I.matrixSemantics.WORLDINVERSETRANSPOSE)&&P.invert(Wn.WORLDINVERSE,C),(I.matrixSemantics.WORLDVIEWINVERSE||I.matrixSemantics.WORLDVIEWINVERSETRANSPOSE)&&P.invert(Wn.WORLDVIEWINVERSE,Wn.WORLDVIEW),(I.matrixSemantics.WORLDVIEWPROJECTIONINVERSE||I.matrixSemantics.WORLDVIEWPROJECTIONINVERSETRANSPOSE)&&P.invert(Wn.WORLDVIEWPROJECTIONINVERSE,Wn.WORLDVIEWPROJECTION)),A.beforeRender&&A.beforeRender(this),n.beforeRender.call(this,A,D,h);var k=N!==f;k?(N.bind(this),N.setUniformOfSemantic(T,"VIEWPORT",o),N.setUniformOfSemantic(T,"WINDOW_SIZE",u),e&&(N.setUniformOfSemantic(T,"NEAR",e.near),N.setUniformOfSemantic(T,"FAR",e.far)),N.setUniformOfSemantic(T,"DEVICEPIXELRATIO",a),N.setUniformOfSemantic(T,"TIME",c),N.setUniformOfSemantic(T,"VIEWPORT_SIZE",l),S&&S.setLightUniforms(N,A.lightGroup,this)):N=f,(k||n.isMaterialChanged(A,d,D,h))&&(D.depthTest!==p&&(D.depthTest?T.enable(T.DEPTH_TEST):T.disable(T.DEPTH_TEST),p=D.depthTest),D.depthMask!==m&&(T.depthMask(D.depthMask),m=D.depthMask),D.transparent!==y&&(D.transparent?T.enable(T.BLEND):T.disable(T.BLEND),y=D.transparent),D.transparent&&(D.blend?D.blend(T):(T.blendEquationSeparate(T.FUNC_ADD,T.FUNC_ADD),T.blendFuncSeparate(T.SRC_ALPHA,T.ONE_MINUS_SRC_ALPHA,T.ONE,T.ONE_MINUS_SRC_ALPHA))),w=this._bindMaterial(A,D,N,d||null,h||null,f||null,n.getUniform),h=D);var B=I.matrixSemanticKeys;if(M)for(var F=0;F<B.length;F++){var z=B[F],j=I.matrixSemantics[z],U=Wn[z];if(j.isTranspose){var H=Wn[j.semanticNoTranspose];P.transpose(U,H)}N.setUniform(T,j.type,j.symbol,U)}A.cullFace!==_&&(_=A.cullFace,T.cullFace(_)),A.frontFace!==v&&(v=A.frontFace,T.frontFace(v)),A.culling!==g&&((g=A.culling)?T.enable(T.CULL_FACE):T.disable(T.CULL_FACE)),this._updateSkeleton(A,N,w),R&&(x=this._bindVAO(null,I,O,N)),this._renderObject(A,x,N),n.afterRender(this,A),A.afterRender&&A.afterRender(this),f=N,d=A}}this.trigger("afterrenderpass",this,t,e,n)},getMaxJointNumber:function(){return this.maxJointNumber},_updateSkeleton:function(t,e,n){var r=this.gl,i=t.skeleton;if(i)if(i.update(),t.joints.length>this.getMaxJointNumber()){var a=i.getSubSkinMatricesTexture(t.__uid__,t.joints);e.useTextureSlot(this,a,n),e.setUniform(r,"1i","skinMatricesTexture",n),e.setUniform(r,"1f","skinMatricesTextureSize",a.width)}else{var o=i.getSubSkinMatrices(t.__uid__,t.joints);e.setUniformOfSemantic(r,"SKIN_MATRIX",o)}},_renderObject:function(t,e,n){var r=this.gl,i=t.geometry,a=t.mode;null==a&&(a=4);var o=null,s=t.isInstancedMesh&&t.isInstancedMesh();if(!s||(o=this.getGLExtension("ANGLE_instanced_arrays"))){var u;if(s&&(u=this._bindInstancedAttributes(t,n,o)),e.indicesBuffer){var l=this.getGLExtension("OES_element_index_uint")&&i.indices instanceof Uint32Array?r.UNSIGNED_INT:r.UNSIGNED_SHORT;s?o.drawElementsInstancedANGLE(a,e.indicesBuffer.count,l,0,t.getInstanceCount()):r.drawElements(a,e.indicesBuffer.count,l,0)}else s?o.drawArraysInstancedANGLE(a,0,i.vertexCount,t.getInstanceCount()):r.drawArrays(a,0,i.vertexCount);if(s)for(var c=0;c<u.length;c++)r.disableVertexAttribArray(u[c])}else console.warn("Device not support ANGLE_instanced_arrays extension")},_bindInstancedAttributes:function(t,e,n){for(var r=this.gl,i=t.getInstancedAttributesBuffers(this),a=[],o=0;o<i.length;o++){var s=i[o],u=e.getAttribLocation(r,s.symbol);if(!(u<0)){var l=Un[s.type]||r.FLOAT;r.enableVertexAttribArray(u),r.bindBuffer(r.ARRAY_BUFFER,s.buffer),r.vertexAttribPointer(u,s.size,l,!1,0,0),n.vertexAttribDivisorANGLE(u,s.divisor),a.push(u)}}return a},_bindMaterial:function(t,e,n,r,i,a,o){for(var s=this.gl,u=a===n,l=n.currentTextureSlot(),c=e.getEnabledUniforms(),h=e.getTextureUniforms(),f=this._placeholderTexture,d=0;d<h.length;d++){var p=o(t,e,_=h[d]);if("t"===(g=e.uniforms[_].type)&&p)p.__slot=-1;else if("tv"===g)for(var m=0;m<p.length;m++)p[m]&&(p[m].__slot=-1)}f.__slot=-1;for(d=0;d<c.length;d++){var g,_=c[d],v=e.uniforms[_],y=(p=o(t,e,_),"t"===(g=v.type));if(y&&(p&&p.isRenderable()||(p=f)),i&&u){var b=o(r,i,_);if(y&&(b&&b.isRenderable()||(b=f)),b===p){if(y)n.takeCurrentTextureSlot(this,null);else if("tv"===g&&p)for(m=0;m<p.length;m++)n.takeCurrentTextureSlot(this,null);continue}}if(null!=p)if(y)if(p.__slot<0){var x=n.currentTextureSlot();n.setUniform(s,"1i",_,x)&&(n.takeCurrentTextureSlot(this,p),p.__slot=x)}else n.setUniform(s,"1i",_,p.__slot);else if(Array.isArray(p)){if(0===p.length)continue;if("tv"===g){if(!n.hasUniform(_))continue;var w=[];for(m=0;m<p.length;m++){var T=p[m];if(T.__slot<0){x=n.currentTextureSlot();w.push(x),n.takeCurrentTextureSlot(this,T),T.__slot=x}else w.push(T.__slot)}n.setUniform(s,"1iv",_,w)}else n.setUniform(s,v.type,_,p)}else n.setUniform(s,v.type,_,p)}var S=n.currentTextureSlot();return n.resetTextureSlot(l),S},_bindVAO:function(t,e,n,r){var i=!n.dynamic,a=this.gl,o=this.__uid__+"-"+r.__uid__,s=n.__vaoCache[o];if(!s){var u=n.getBufferChunks(this);if(!u||!u.length)return;for(var l=u[0],c=l.attributeBuffers,h=l.indicesBuffer,f=[],d=[],p=0;p<c.length;p++){var m,g=(w=c[p]).name,_=w.semantic;if(_){var v=e.attributeSemantics[_];m=v&&v.symbol}else m=g;m&&r.attributes[m]&&(f.push(w),d.push(m))}s=new Hn(f,d,h),i&&(n.__vaoCache[o]=s)}var y=!0;t&&i&&(null==s.vao?s.vao=t.createVertexArrayOES():y=!1,t.bindVertexArrayOES(s.vao));f=s.availableAttributes,h=s.indicesBuffer;if(y){var b=r.enableAttributes(this,s.availableAttributeSymbols,t&&i&&s);for(p=0;p<f.length;p++){var x=b[p];if(-1!==x){var w,T=(w=f[p]).buffer,S=w.size,E=Un[w.type]||a.FLOAT;a.bindBuffer(a.ARRAY_BUFFER,T),a.vertexAttribPointer(x,S,E,!1,0,0)}}n.isUseIndices()&&a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,h.buffer)}return s},renderPreZ:function(t,e,n){var r=this.gl,i=this._prezMaterial||new Qe({shader:new In(In.source("clay.prez.vertex"),In.source("clay.prez.fragment"))});this._prezMaterial=i,r.colorMask(!1,!1,!1,!1),r.depthMask(!0),this.renderPass(t,n,{ifRender:function(t){return!t.ignorePreZ},isMaterialChanged:function(t,e){var n=t.material,r=e.material;return n.get("diffuseMap")!==r.get("diffuseMap")||(n.get("alphaCutoff")||0)!==(r.get("alphaCutoff")||0)},getUniform:function(t,e,n){return"alphaMap"===n?t.material.get("diffuseMap"):"alphaCutoff"===n?t.material.isDefined("fragment","ALPHA_TEST")&&t.material.get("diffuseMap")&&t.material.get("alphaCutoff")||0:"uvRepeat"===n?t.material.get("uvRepeat"):"uvOffset"===n?t.material.get("uvOffset"):e.get(n)},getMaterial:function(){return i},sort:this.opaqueSortCompare}),r.colorMask(!0,!0,!0,!0),r.depthMask(!0)},disposeScene:function(t){this.disposeNode(t,!0,!0),t.dispose()},disposeNode:function(t,e,n){t.getParent()&&t.getParent().remove(t);var r={};t.traverse((function(t){var i=t.material;if(t.geometry&&e&&t.geometry.dispose(this),n&&i&&!r[i.__uid__]){for(var a=i.getTextureUniforms(),o=0;o<a.length;o++){var s=a[o],u=i.uniforms[s].value,l=i.uniforms[s].type;if(u)if("t"===l)u.dispose&&u.dispose(this);else if("tv"===l)for(var c=0;c<u.length;c++)u[c]&&u[c].dispose&&u[c].dispose(this)}r[i.__uid__]=!0}t.dispose&&t.dispose(this)}),this)},disposeGeometry:function(t){t.dispose(this)},disposeTexture:function(t){t.dispose(this)},disposeFrameBuffer:function(t){t.dispose(this)},dispose:function(){},screenToNDC:function(t,e,n){n||(n=new nn),e=this._height-e;var r=this.viewport,i=n.array;return i[0]=(t-r.x)/r.width,i[0]=2*i[0]-1,i[1]=(e-r.y)/r.height,i[1]=2*i[1]-1,n}});Gn.opaqueSortCompare=Gn.prototype.opaqueSortCompare=function(t,e){return t.renderOrder===e.renderOrder?t.__program===e.__program?t.material===e.material?t.geometry.__uid__-e.geometry.__uid__:t.material.__uid__-e.material.__uid__:t.__program&&e.__program?t.__program.__uid__-e.__program.__uid__:0:t.renderOrder-e.renderOrder},Gn.transparentSortCompare=Gn.prototype.transparentSortCompare=function(t,e){return t.renderOrder===e.renderOrder?t.__depth===e.__depth?t.__program===e.__program?t.material===e.material?t.geometry.__uid__-e.geometry.__uid__:t.material.__uid__-e.material.__uid__:t.__program&&e.__program?t.__program.__uid__-e.__program.__uid__:0:t.__depth-e.__depth:t.renderOrder-e.renderOrder};var Wn={IDENTITY:Ln(),WORLD:Ln(),VIEW:Ln(),PROJECTION:Ln(),WORLDVIEW:Ln(),VIEWPROJECTION:Ln(),WORLDVIEWPROJECTION:Ln(),WORLDINVERSE:Ln(),VIEWINVERSE:Ln(),PROJECTIONINVERSE:Ln(),WORLDVIEWINVERSE:Ln(),VIEWPROJECTIONINVERSE:Ln(),WORLDVIEWPROJECTIONINVERSE:Ln(),WORLDTRANSPOSE:Ln(),VIEWTRANSPOSE:Ln(),PROJECTIONTRANSPOSE:Ln(),WORLDVIEWTRANSPOSE:Ln(),VIEWPROJECTIONTRANSPOSE:Ln(),WORLDVIEWPROJECTIONTRANSPOSE:Ln(),WORLDINVERSETRANSPOSE:Ln(),VIEWINVERSETRANSPOSE:Ln(),PROJECTIONINVERSETRANSPOSE:Ln(),WORLDVIEWINVERSETRANSPOSE:Ln(),VIEWPROJECTIONINVERSETRANSPOSE:Ln(),WORLDVIEWPROJECTIONINVERSETRANSPOSE:Ln()};Gn.COLOR_BUFFER_BIT=Nt,Gn.DEPTH_BUFFER_BIT=Ot,Gn.STENCIL_BUFFER_BIT=Dt;var $n=Gn,Xn=function(){this._contextId=0,this._caches=[],this._context={}};(Xn.prototype={use:function(t,e){var n=this._caches;n[t]||(n[t]={},e&&(n[t]=e())),this._contextId=t,this._context=n[t]},put:function(t,e){this._context[t]=e},get:function(t){return this._context[t]},dirty:function(t){var e="__dt__"+(t=t||"");this.put(e,!0)},dirtyAll:function(t){for(var e="__dt__"+(t=t||""),n=this._caches,r=0;r<n.length;r++)n[r]&&(n[r][e]=!0)},fresh:function(t){var e="__dt__"+(t=t||"");this.put(e,!1)},freshAll:function(t){for(var e="__dt__"+(t=t||""),n=this._caches,r=0;r<n.length;r++)n[r]&&(n[r][e]=!1)},isDirty:function(t){var e="__dt__"+(t=t||""),n=this._context;return!n.hasOwnProperty(e)||!0===n[e]},deleteContext:function(t){delete this._caches[t],this._context={}},delete:function(t){delete this._context[t]},clearAll:function(){this._caches={}},getContext:function(){return this._context},eachContext:function(t,e){Object.keys(this._caches).forEach((function(n){t&&t.call(e,n)}))},miss:function(t){return!this._context.hasOwnProperty(t)}}).constructor=Xn;var qn=Xn,Yn=nt.extend({width:512,height:512,type:qt,format:re,wrapS:pe,wrapT:pe,minFilter:he,magFilter:se,useMipmap:!0,anisotropic:1,flipY:!0,sRGB:!0,unpackAlignment:4,premultiplyAlpha:!1,dynamic:!1,NPOT:!1,__used:0},(function(){this._cache=new qn}),{getWebGLTexture:function(t){var e=t.gl,n=this._cache;return n.use(t.__uid__),n.miss("webgl_texture")&&n.put("webgl_texture",e.createTexture()),this.dynamic?this.update(t):n.isDirty()&&(this.update(t),n.fresh()),n.get("webgl_texture")},bind:function(){},unbind:function(){},dirty:function(){this._cache&&this._cache.dirtyAll()},update:function(t){},updateCommon:function(t){var e=t.gl;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,this.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,this.unpackAlignment),this.format===te&&(this.useMipmap=!1);var n=t.getGLExtension("EXT_sRGB");this.format!==Yn.SRGB||n||(this.format=Yn.RGB),this.format!==Yn.SRGB_ALPHA||n||(this.format=Yn.RGBA),this.NPOT=!this.isPowerOfTwo()},getAvailableWrapS:function(){return this.NPOT?me:this.wrapS},getAvailableWrapT:function(){return this.NPOT?me:this.wrapT},getAvailableMinFilter:function(){var t=this.minFilter;return this.NPOT||!this.useMipmap?t===ue||t===ce?oe:t===he||t===le?se:t:t},getAvailableMagFilter:function(){return this.magFilter},nextHighestPowerOfTwo:function(t){--t;for(var e=1;e<32;e<<=1)t|=t>>e;return t+1},dispose:function(t){var e=this._cache;e.use(t.__uid__);var n=e.get("webgl_texture");n&&t.gl.deleteTexture(n),e.deleteContext(t.__uid__)},isRenderable:function(){},isPowerOfTwo:function(){}});Object.defineProperty(Yn.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t}}),Object.defineProperty(Yn.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t}}),Yn.BYTE=Xt,Yn.UNSIGNED_BYTE=qt,Yn.SHORT=Yt,Yn.UNSIGNED_SHORT=Zt,Yn.INT=Kt,Yn.UNSIGNED_INT=Jt,Yn.FLOAT=Qt,Yn.HALF_FLOAT=36193,Yn.UNSIGNED_INT_24_8_WEBGL=34042,Yn.DEPTH_COMPONENT=te,Yn.DEPTH_STENCIL=ye,Yn.ALPHA=ee,Yn.RGB=ne,Yn.RGBA=re,Yn.LUMINANCE=ie,Yn.LUMINANCE_ALPHA=ae,Yn.SRGB=35904,Yn.SRGB_ALPHA=35906,Yn.COMPRESSED_RGB_S3TC_DXT1_EXT=33776,Yn.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777,Yn.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778,Yn.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779,Yn.NEAREST=oe,Yn.LINEAR=se,Yn.NEAREST_MIPMAP_NEAREST=ue,Yn.LINEAR_MIPMAP_NEAREST=le,Yn.NEAREST_MIPMAP_LINEAR=ce,Yn.LINEAR_MIPMAP_LINEAR=he,Yn.REPEAT=pe,Yn.CLAMP_TO_EDGE=me,Yn.MIRRORED_REPEAT=ge;var Zn=Yn,Kn={isPowerOfTwo:function(t){return 0==(t&t-1)},nextPowerOfTwo:function(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t},nearestPowerOfTwo:function(t){return Math.pow(2,Math.round(Math.log(t)/Math.LN2))}},Jn=Kn,Qn=Jn.isPowerOfTwo;function tr(t){return Math.pow(2,Math.round(Math.log(t)/Math.LN2))}var er=Zn.extend((function(){return{image:null,pixels:null,mipmaps:[],convertToPOT:!1}}),{textureType:"texture2D",update:function(t){var e=t.gl;e.bindTexture(e.TEXTURE_2D,this._cache.get("webgl_texture")),this.updateCommon(t);var n=this.format,r=this.type,i=!(!this.convertToPOT||this.mipmaps.length||!this.image||this.wrapS!==Zn.REPEAT&&this.wrapT!==Zn.REPEAT||!this.NPOT);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,i?this.wrapS:this.getAvailableWrapS()),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,i?this.wrapT:this.getAvailableWrapT()),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,i?this.magFilter:this.getAvailableMagFilter()),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,i?this.minFilter:this.getAvailableMinFilter());var a=t.getGLExtension("EXT_texture_filter_anisotropic");(a&&this.anisotropic>1&&e.texParameterf(e.TEXTURE_2D,a.TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropic),36193===r)&&(t.getGLExtension("OES_texture_half_float")||(r=Qt));if(this.mipmaps.length)for(var o=this.width,s=this.height,u=0;u<this.mipmaps.length;u++){var l=this.mipmaps[u];this._updateTextureData(e,l,u,o,s,n,r,!1),o/=2,s/=2}else this._updateTextureData(e,this,0,this.width,this.height,n,r,i),!this.useMipmap||this.NPOT&&!i||e.generateMipmap(e.TEXTURE_2D);e.bindTexture(e.TEXTURE_2D,null)},_updateTextureData:function(t,e,n,r,i,a,o,s){if(e.image){var u=e.image;s&&(this._potCanvas=function(t,e){var n=tr(t.width),r=tr(t.height);return(e=e||document.createElement("canvas")).width=n,e.height=r,e.getContext("2d").drawImage(t.image,0,0,n,r),e}(this,this._potCanvas),u=this._potCanvas),t.texImage2D(t.TEXTURE_2D,n,a,a,o,u)}else a<=Zn.COMPRESSED_RGBA_S3TC_DXT5_EXT&&a>=Zn.COMPRESSED_RGB_S3TC_DXT1_EXT?t.compressedTexImage2D(t.TEXTURE_2D,n,a,r,i,0,e.pixels):t.texImage2D(t.TEXTURE_2D,n,a,r,i,0,a,o,e.pixels)},generateMipmap:function(t){var e=t.gl;this.useMipmap&&!this.NPOT&&(e.bindTexture(e.TEXTURE_2D,this._cache.get("webgl_texture")),e.generateMipmap(e.TEXTURE_2D))},isPowerOfTwo:function(){return Qn(this.width)&&Qn(this.height)},isRenderable:function(){return this.image?this.image.width>0&&this.image.height>0:!(!this.width||!this.height)},bind:function(t){t.gl.bindTexture(t.gl.TEXTURE_2D,this.getWebGLTexture(t))},unbind:function(t){t.gl.bindTexture(t.gl.TEXTURE_2D,null)},load:function(t,e){var n=Ne.a.createImage();e&&(n.crossOrigin=e);var r=this;return n.onload=function(){r.dirty(),r.trigger("success",r)},n.onerror=function(){r.trigger("error",r)},n.src=t,this.image=n,this}});Object.defineProperty(er.prototype,"width",{get:function(){return this.image?this.image.width:this._width},set:function(t){this.image?console.warn("Texture from image can't set width"):(this._width!==t&&this.dirty(),this._width=t)}}),Object.defineProperty(er.prototype,"height",{get:function(){return this.image?this.image.height:this._height},set:function(t){this.image?console.warn("Texture from image can't set height"):(this._height!==t&&this.dirty(),this._height=t)}});var nr=er;function rr(t){return{byte:Ne.a.Int8Array,ubyte:Ne.a.Uint8Array,short:Ne.a.Int16Array,ushort:Ne.a.Uint16Array}[t]||Ne.a.Float32Array}function ir(t){return"attr_"+t}function ar(t,e,n,r){switch(this.name=t,this.type=e,this.size=n,this.semantic=r||"",this.value=null,n){case 1:this.get=function(t){return this.value[t]},this.set=function(t,e){this.value[t]=e},this.copy=function(t,e){this.value[t]=this.value[t]};break;case 2:this.get=function(t,e){var n=this.value;return e[0]=n[2*t],e[1]=n[2*t+1],e},this.set=function(t,e){var n=this.value;n[2*t]=e[0],n[2*t+1]=e[1]},this.copy=function(t,e){var n=this.value;e*=2,n[t*=2]=n[e],n[t+1]=n[e+1]};break;case 3:this.get=function(t,e){var n=3*t,r=this.value;return e[0]=r[n],e[1]=r[n+1],e[2]=r[n+2],e},this.set=function(t,e){var n=3*t,r=this.value;r[n]=e[0],r[n+1]=e[1],r[n+2]=e[2]},this.copy=function(t,e){var n=this.value;e*=3,n[t*=3]=n[e],n[t+1]=n[e+1],n[t+2]=n[e+2]};break;case 4:this.get=function(t,e){var n=this.value,r=4*t;return e[0]=n[r],e[1]=n[r+1],e[2]=n[r+2],e[3]=n[r+3],e},this.set=function(t,e){var n=this.value,r=4*t;n[r]=e[0],n[r+1]=e[1],n[r+2]=e[2],n[r+3]=e[3]},this.copy=function(t,e){var n=this.value;e*=4,n[t*=4]=n[e],n[t+1]=n[e+1],n[t+2]=n[e+2],n[t+3]=n[e+3]}}}function or(t,e,n,r,i){this.name=t,this.type=e,this.buffer=n,this.size=r,this.semantic=i,this.symbol="",this.needsRemove=!1}function sr(t){this.buffer=t,this.count=0}ar.prototype.init=function(t){if(!this.value||this.value.length!==t*this.size){var e=rr(this.type);this.value=new e(t*this.size)}},ar.prototype.fromArray=function(t){var e,n=rr(this.type);if(t[0]&&t[0].length){var r=0,i=this.size;e=new n(t.length*i);for(var a=0;a<t.length;a++)for(var o=0;o<i;o++)e[r++]=t[a][o]}else e=new n(t);this.value=e},ar.prototype.clone=function(t){var e=new ar(this.name,this.type,this.size,this.semantic);return t&&console.warn("todo"),e};var ur=nt.extend((function(){return{attributes:{},indices:null,dynamic:!0,_enabledAttributes:null,__used:0}}),(function(){this._cache=new qn,this._attributeList=Object.keys(this.attributes),this.__vaoCache={}}),{mainAttribute:"",pick:null,pickByRay:null,dirty:function(){for(var t=this.getEnabledAttributes(),e=0;e<t.length;e++)this.dirtyAttribute(t[e]);this.dirtyIndices(),this._enabledAttributes=null,this._cache.dirty("any")},dirtyIndices:function(){this._cache.dirtyAll("indices")},dirtyAttribute:function(t){this._cache.dirtyAll(ir(t)),this._cache.dirtyAll("attributes")},getTriangleIndices:function(t,e){if(t<this.triangleCount&&t>=0){e||(e=[]);var n=this.indices;return e[0]=n[3*t],e[1]=n[3*t+1],e[2]=n[3*t+2],e}},setTriangleIndices:function(t,e){var n=this.indices;n[3*t]=e[0],n[3*t+1]=e[1],n[3*t+2]=e[2]},isUseIndices:function(){return!!this.indices},initIndicesFromArray:function(t){var e,n=this.vertexCount>65535?Ne.a.Uint32Array:Ne.a.Uint16Array;if(t[0]&&t[0].length){var r=0;e=new n(3*t.length);for(var i=0;i<t.length;i++)for(var a=0;a<3;a++)e[r++]=t[i][a]}else e=new n(t);this.indices=e},createAttribute:function(t,e,n,r){var i=new ar(t,e,n,r);return this.attributes[t]&&this.removeAttribute(t),this.attributes[t]=i,this._attributeList.push(t),i},removeAttribute:function(t){var e=this._attributeList,n=e.indexOf(t);return n>=0&&(e.splice(n,1),delete this.attributes[t],!0)},getAttribute:function(t){return this.attributes[t]},getEnabledAttributes:function(){var t=this._enabledAttributes,e=this._attributeList;if(t)return t;for(var n=[],r=this.vertexCount,i=0;i<e.length;i++){var a=e[i],o=this.attributes[a];o.value&&o.value.length===r*o.size&&n.push(a)}return this._enabledAttributes=n,n},getBufferChunks:function(t){var e=this._cache;e.use(t.__uid__);var n=e.isDirty("attributes"),r=e.isDirty("indices");if(n||r){this._updateBuffer(t.gl,n,r);for(var i=this.getEnabledAttributes(),a=0;a<i.length;a++)e.fresh(ir(i[a]));e.fresh("attributes"),e.fresh("indices")}return e.fresh("any"),e.get("chunks")},_updateBuffer:function(t,e,n){var r=this._cache,i=r.get("chunks"),a=!1;i||((i=[])[0]={attributeBuffers:[],indicesBuffer:null},r.put("chunks",i),a=!0);var o=i[0],s=o.attributeBuffers,u=o.indicesBuffer;if(e||a){var l=this.getEnabledAttributes(),c={};if(!a)for(var h=0;h<s.length;h++)c[s[h].name]=s[h];for(var f=0;f<l.length;f++){var d,p,m=l[f],g=this.attributes[m];a||(d=c[m]),p=d?d.buffer:t.createBuffer(),r.isDirty(ir(m))&&(t.bindBuffer(t.ARRAY_BUFFER,p),t.bufferData(t.ARRAY_BUFFER,g.value,this.dynamic?t.DYNAMIC_DRAW:t.STATIC_DRAW)),s[f]=new or(m,g.type,p,g.size,g.semantic)}for(h=f;h<s.length;h++)t.deleteBuffer(s[h].buffer);s.length=f}this.isUseIndices()&&(n||a)&&(u||(u=new sr(t.createBuffer()),o.indicesBuffer=u),u.count=this.indices.length,t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,u.buffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,this.dynamic?t.DYNAMIC_DRAW:t.STATIC_DRAW))},dispose:function(t){var e=this._cache;e.use(t.__uid__);var n=e.get("chunks");if(n)for(var r=0;r<n.length;r++){for(var i=n[r],a=0;a<i.attributeBuffers.length;a++){var o=i.attributeBuffers[a];t.gl.deleteBuffer(o.buffer)}i.indicesBuffer&&t.gl.deleteBuffer(i.indicesBuffer.buffer)}if(this.__vaoCache){var s=t.getGLExtension("OES_vertex_array_object");for(var u in this.__vaoCache){var l=this.__vaoCache[u].vao;l&&s.deleteVertexArrayOES(l)}}this.__vaoCache={},e.deleteContext(t.__uid__)}});Object.defineProperty&&(Object.defineProperty(ur.prototype,"vertexCount",{enumerable:!1,get:function(){var t=this.attributes[this.mainAttribute];return t||(t=this.attributes[this._attributeList[0]]),t&&t.value?t.value.length/t.size:0}}),Object.defineProperty(ur.prototype,"triangleCount",{enumerable:!1,get:function(){var t=this.indices;return t?t.length/3:0}})),ur.STATIC_DRAW=jt,ur.DYNAMIC_DRAW=Ut,ur.STREAM_DRAW=zt,ur.AttributeBuffer=or,ur.IndicesBuffer=sr,ur.Attribute=ar;var lr=ur,cr=l.create,hr=l.add,fr=l.set,dr=lr.Attribute,pr=lr.extend((function(){return{attributes:{position:new dr("position","float",3,"POSITION"),texcoord0:new dr("texcoord0","float",2,"TEXCOORD_0"),texcoord1:new dr("texcoord1","float",2,"TEXCOORD_1"),normal:new dr("normal","float",3,"NORMAL"),tangent:new dr("tangent","float",4,"TANGENT"),color:new dr("color","float",4,"COLOR"),weight:new dr("weight","float",3,"WEIGHT"),joint:new dr("joint","float",4,"JOINT"),barycentric:new dr("barycentric","float",3,null)},boundingBox:null}}),{mainAttribute:"position",updateBoundingBox:function(){var t=this.boundingBox;t||(t=this.boundingBox=new Et);var e=this.attributes.position.value;if(e&&e.length){var n=t.min,r=t.max,i=n.array,a=r.array;l.set(i,e[0],e[1],e[2]),l.set(a,e[0],e[1],e[2]);for(var o=3;o<e.length;){var s=e[o++],u=e[o++],c=e[o++];s<i[0]&&(i[0]=s),u<i[1]&&(i[1]=u),c<i[2]&&(i[2]=c),s>a[0]&&(a[0]=s),u>a[1]&&(a[1]=u),c>a[2]&&(a[2]=c)}n._dirty=!0,r._dirty=!0}},generateVertexNormals:function(){if(this.vertexCount){var t=this.indices,e=this.attributes,n=e.position.value,r=e.normal.value;if(r&&r.length===n.length)for(var i=0;i<r.length;i++)r[i]=0;else r=e.normal.value=new Ne.a.Float32Array(n.length);for(var a,o,s,u=cr(),c=cr(),h=cr(),f=cr(),d=cr(),p=cr(),m=t?t.length:this.vertexCount,g=0;g<m;){t?(a=t[g++],o=t[g++],s=t[g++]):(a=g++,o=g++,s=g++),fr(u,n[3*a],n[3*a+1],n[3*a+2]),fr(c,n[3*o],n[3*o+1],n[3*o+2]),fr(h,n[3*s],n[3*s+1],n[3*s+2]),l.sub(f,u,c),l.sub(d,c,h),l.cross(p,f,d);for(i=0;i<3;i++)r[3*a+i]=r[3*a+i]+p[i],r[3*o+i]=r[3*o+i]+p[i],r[3*s+i]=r[3*s+i]+p[i]}for(i=0;i<r.length;)fr(p,r[i],r[i+1],r[i+2]),l.normalize(p,p),r[i++]=p[0],r[i++]=p[1],r[i++]=p[2];this.dirty()}},generateFaceNormals:function(){if(this.vertexCount){this.isUniqueVertex()||this.generateUniqueVertex();var t=this.indices,e=this.attributes,n=e.position.value,r=e.normal.value,i=cr(),a=cr(),o=cr(),s=cr(),u=cr(),c=cr();r||(r=e.normal.value=new Float32Array(n.length));for(var h,f,d,p=t?t.length:this.vertexCount,m=0;m<p;){t?(h=t[m++],f=t[m++],d=t[m++]):(h=m++,f=m++,d=m++),fr(i,n[3*h],n[3*h+1],n[3*h+2]),fr(a,n[3*f],n[3*f+1],n[3*f+2]),fr(o,n[3*d],n[3*d+1],n[3*d+2]),l.sub(s,i,a),l.sub(u,a,o),l.cross(c,s,u),l.normalize(c,c);for(var g=0;g<3;g++)r[3*h+g]=c[g],r[3*f+g]=c[g],r[3*d+g]=c[g]}this.dirty()}},generateTangents:function(){if(this.vertexCount){var t=this.vertexCount,e=this.attributes;e.tangent.value||(e.tangent.value=new Float32Array(4*t));var n=e.texcoord0.value,r=e.position.value,i=e.tangent.value,a=e.normal.value;if(n){for(var o=[],s=[],u=0;u<t;u++)o[u]=[0,0,0],s[u]=[0,0,0];var c,h,f,d=[0,0,0],p=[0,0,0],m=this.indices,g=m?m.length:this.vertexCount;for(u=0;u<g;){m?(c=m[u++],h=m[u++],f=m[u++]):(c=u++,h=u++,f=u++);var _=n[2*c],v=n[2*h],y=n[2*f],b=n[2*c+1],x=n[2*h+1],w=n[2*f+1],T=r[3*c],S=r[3*h],E=r[3*f],C=r[3*c+1],A=r[3*h+1],M=r[3*f+1],O=r[3*c+2],D=S-T,N=E-T,I=A-C,P=M-C,L=r[3*h+2]-O,R=r[3*f+2]-O,k=v-_,B=y-_,F=x-b,z=w-b,j=1/(k*z-F*B);d[0]=(z*D-F*N)*j,d[1]=(z*I-F*P)*j,d[2]=(z*L-F*R)*j,p[0]=(k*N-B*D)*j,p[1]=(k*P-B*I)*j,p[2]=(k*R-B*L)*j,hr(o[c],o[c],d),hr(o[h],o[h],d),hr(o[f],o[f],d),hr(s[c],s[c],p),hr(s[h],s[h],p),hr(s[f],s[f],p)}var U=cr(),H=cr(),V=cr();for(u=0;u<t;u++){V[0]=a[3*u],V[1]=a[3*u+1],V[2]=a[3*u+2];var G=o[u];l.scale(U,V,l.dot(V,G)),l.sub(U,G,U),l.normalize(U,U),l.cross(H,V,G),i[4*u]=U[0],i[4*u+1]=U[1],i[4*u+2]=U[2],i[4*u+3]=l.dot(H,s[u])<0?-1:1}this.dirty()}else console.warn("Geometry without texcoords can't generate tangents.")}},isUniqueVertex:function(){return!this.isUseIndices()||this.vertexCount===this.indices.length},generateUniqueVertex:function(){if(this.vertexCount&&this.indices){this.indices.length>65535&&(this.indices=new Ne.a.Uint32Array(this.indices));for(var t=this.attributes,e=this.indices,n=this.getEnabledAttributes(),r={},i=0;i<n.length;i++){r[u=n[i]]=t[u].value,t[u].init(this.indices.length)}for(var a=0,o=0;o<e.length;o++){var s=e[o];for(i=0;i<n.length;i++)for(var u,l=t[u=n[i]].value,c=t[u].size,h=0;h<c;h++)l[a*c+h]=r[u][s*c+h];e[o]=a,a++}this.dirty()}},generateBarycentric:function(){if(this.vertexCount){this.isUniqueVertex()||this.generateUniqueVertex();var t=this.attributes,e=t.barycentric.value,n=this.indices;if(!e||e.length!==3*n.length){e=t.barycentric.value=new Float32Array(3*n.length);for(var r=0;r<(n?n.length:this.vertexCount/3);)for(var i=0;i<3;i++){e[3*(n?n[r++]:3*r+i)+i]=1}this.dirty()}}},applyTransform:function(t){var e=this.attributes,n=e.position.value,r=e.normal.value,i=e.tangent.value;t=t.array;var a=P.create();P.invert(a,t),P.transpose(a,a);var o=l.transformMat4,s=l.forEach;s(n,3,0,null,o,t),r&&s(r,3,0,null,o,a),i&&s(i,4,0,null,o,a),this.boundingBox&&this.updateBoundingBox()},dispose:function(t){var e=this._cache;e.use(t.__uid__);var n=e.get("chunks");if(n)for(var r=0;r<n.length;r++){for(var i=n[r],a=0;a<i.attributeBuffers.length;a++){var o=i.attributeBuffers[a];t.gl.deleteBuffer(o.buffer)}i.indicesBuffer&&t.gl.deleteBuffer(i.indicesBuffer.buffer)}if(this.__vaoCache){var s=t.getGLExtension("OES_vertex_array_object");for(var u in this.__vaoCache){var l=this.__vaoCache[u].vao;l&&s.deleteVertexArrayOES(l)}}this.__vaoCache={},e.deleteContext(t.__uid__)}});pr.STATIC_DRAW=lr.STATIC_DRAW,pr.DYNAMIC_DRAW=lr.DYNAMIC_DRAW,pr.STREAM_DRAW=lr.STREAM_DRAW,pr.AttributeBuffer=lr.AttributeBuffer,pr.IndicesBuffer=lr.IndicesBuffer,pr.Attribute=dr;var mr=pr,gr="@end",_r=":unconfigurable;",vr=["@export clay.header.directional_light","uniform vec3 directionalLightDirection[DIRECTIONAL_LIGHT_COUNT]"+_r,"uniform vec3 directionalLightColor[DIRECTIONAL_LIGHT_COUNT]"+_r,gr,"@export clay.header.ambient_light","uniform vec3 ambientLightColor[AMBIENT_LIGHT_COUNT]"+_r,gr,"@export clay.header.ambient_sh_light","uniform vec3 ambientSHLightColor[AMBIENT_SH_LIGHT_COUNT]"+_r,"uniform vec3 ambientSHLightCoefficients[AMBIENT_SH_LIGHT_COUNT * 9]"+_r,"vec3 calcAmbientSHLight(int idx, vec3 N) {\n int offset = 9 * idx;\n return ambientSHLightCoefficients[0]\n + ambientSHLightCoefficients[1] * N.x\n + ambientSHLightCoefficients[2] * N.y\n + ambientSHLightCoefficients[3] * N.z\n + ambientSHLightCoefficients[4] * N.x * N.z\n + ambientSHLightCoefficients[5] * N.z * N.y\n + ambientSHLightCoefficients[6] * N.y * N.x\n + ambientSHLightCoefficients[7] * (3.0 * N.z * N.z - 1.0)\n + ambientSHLightCoefficients[8] * (N.x * N.x - N.y * N.y);\n}",gr,"@export clay.header.ambient_cubemap_light","uniform vec3 ambientCubemapLightColor[AMBIENT_CUBEMAP_LIGHT_COUNT]"+_r,"uniform samplerCube ambientCubemapLightCubemap[AMBIENT_CUBEMAP_LIGHT_COUNT]"+_r,"uniform sampler2D ambientCubemapLightBRDFLookup[AMBIENT_CUBEMAP_LIGHT_COUNT]"+_r,gr,"@export clay.header.point_light","uniform vec3 pointLightPosition[POINT_LIGHT_COUNT]"+_r,"uniform float pointLightRange[POINT_LIGHT_COUNT]"+_r,"uniform vec3 pointLightColor[POINT_LIGHT_COUNT]"+_r,gr,"@export clay.header.spot_light","uniform vec3 spotLightPosition[SPOT_LIGHT_COUNT]"+_r,"uniform vec3 spotLightDirection[SPOT_LIGHT_COUNT]"+_r,"uniform float spotLightRange[SPOT_LIGHT_COUNT]"+_r,"uniform float spotLightUmbraAngleCosine[SPOT_LIGHT_COUNT]"+_r,"uniform float spotLightPenumbraAngleCosine[SPOT_LIGHT_COUNT]"+_r,"uniform float spotLightFalloffFactor[SPOT_LIGHT_COUNT]"+_r,"uniform vec3 spotLightColor[SPOT_LIGHT_COUNT]"+_r,gr].join("\n");In.import(vr);var yr,br,xr,wr,Tr=Mt.extend((function(){return{color:[1,1,1],intensity:1,castShadow:!0,shadowResolution:512,group:0}}),{type:"",clone:function(){var t=Mt.prototype.clone.call(this);return t.color=Array.prototype.slice.call(this.color),t.intensity=this.intensity,t.castShadow=this.castShadow,t.shadowResolution=this.shadowResolution,t}}),Sr=function(t,e){this.normal=t||new _(0,1,0),this.distance=e||0};Sr.prototype={constructor:Sr,distanceToPoint:function(t){return l.dot(t.array,this.normal.array)-this.distance},projectPoint:function(t,e){e||(e=new _);var n=this.distanceToPoint(t);return l.scaleAndAdd(e.array,t.array,this.normal.array,-n),e._dirty=!0,e},normalize:function(){var t=1/l.len(this.normal.array);l.scale(this.normal.array,t),this.distance*=t},intersectFrustum:function(t){for(var e=t.vertices,n=this.normal.array,r=l.dot(e[0].array,n)>this.distance,i=1;i<8;i++)if(l.dot(e[i].array,n)>this.distance!=r)return!0},intersectLine:(wr=l.create(),function(t,e,n){var r=this.distanceToPoint(t),i=this.distanceToPoint(e);if(r>0&&i>0||r<0&&i<0)return null;var a=this.normal.array,o=this.distance,s=t.array;l.sub(wr,e.array,t.array),l.normalize(wr,wr);var u=l.dot(a,wr);if(0===u)return null;n||(n=new _);var c=(l.dot(a,s)-o)/u;return l.scaleAndAdd(n.array,s,wr,-c),n._dirty=!0,n}),applyTransform:(yr=P.create(),br=x.create(),xr=x.create(),xr[3]=1,function(t){t=t.array,l.scale(xr,this.normal.array,this.distance),x.transformMat4(xr,xr,t),this.distance=l.dot(xr,this.normal.array),P.invert(yr,t),P.transpose(yr,yr),br[3]=0,l.copy(br,this.normal.array),x.transformMat4(br,br,yr),l.copy(this.normal.array,br)}),copy:function(t){l.copy(this.normal.array,t.normal.array),this.normal._dirty=!0,this.distance=t.distance},clone:function(){var t=new Sr;return t.copy(this),t}};var Er,Cr=Sr,Ar=l.set,Mr=l.copy,Or=l.transformMat4,Dr=Math.min,Nr=Math.max,Ir=function(){this.planes=[];for(var t=0;t<6;t++)this.planes.push(new Cr);this.boundingBox=new Et,this.vertices=[];for(t=0;t<8;t++)this.vertices[t]=l.fromValues(0,0,0)};Ir.prototype={setFromProjection:function(t){var e=this.planes,n=t.array,r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],u=n[5],l=n[6],c=n[7],h=n[8],f=n[9],d=n[10],p=n[11],m=n[12],g=n[13],_=n[14],v=n[15];Ar(e[0].normal.array,o-r,c-s,p-h),e[0].distance=-(v-m),e[0].normalize(),Ar(e[1].normal.array,o+r,c+s,p+h),e[1].distance=-(v+m),e[1].normalize(),Ar(e[2].normal.array,o+i,c+u,p+f),e[2].distance=-(v+g),e[2].normalize(),Ar(e[3].normal.array,o-i,c-u,p-f),e[3].distance=-(v-g),e[3].normalize(),Ar(e[4].normal.array,o-a,c-l,p-d),e[4].distance=-(v-_),e[4].normalize(),Ar(e[5].normal.array,o+a,c+l,p+d),e[5].distance=-(v+_),e[5].normalize();var y=this.boundingBox,b=this.vertices;if(0===v){var x=u/r,w=-_/(d-1),T=-_/(d+1),S=-T/u,E=-w/u;y.min.set(-S*x,-S,T),y.max.set(S*x,S,w),Ar(b[0],-S*x,-S,T),Ar(b[1],-S*x,S,T),Ar(b[2],S*x,-S,T),Ar(b[3],S*x,S,T),Ar(b[4],-E*x,-E,w),Ar(b[5],-E*x,E,w),Ar(b[6],E*x,-E,w),Ar(b[7],E*x,E,w)}else{var C=(-1-m)/r,A=(1-m)/r,M=(1-g)/u,O=(-1-g)/u,D=(-1-_)/d,N=(1-_)/d;y.min.set(Math.min(C,A),Math.min(O,M),Math.min(N,D)),y.max.set(Math.max(A,C),Math.max(M,O),Math.max(D,N));var I=y.min.array,P=y.max.array;Ar(b[0],I[0],I[1],I[2]),Ar(b[1],I[0],P[1],I[2]),Ar(b[2],P[0],I[1],I[2]),Ar(b[3],P[0],P[1],I[2]),Ar(b[4],I[0],I[1],P[2]),Ar(b[5],I[0],P[1],P[2]),Ar(b[6],P[0],I[1],P[2]),Ar(b[7],P[0],P[1],P[2])}},getTransformedBoundingBox:(Er=l.create(),function(t,e){var n=this.vertices,r=e.array,i=t.min,a=t.max,o=i.array,s=a.array,u=n[0];Or(Er,u,r),Mr(o,Er),Mr(s,Er);for(var l=1;l<8;l++)u=n[l],Or(Er,u,r),o[0]=Dr(Er[0],o[0]),o[1]=Dr(Er[1],o[1]),o[2]=Dr(Er[2],o[2]),s[0]=Nr(Er[0],s[0]),s[1]=Nr(Er[1],s[1]),s[2]=Nr(Er[2],s[2]);return i._dirty=!0,a._dirty=!0,t})};var Pr,Lr,Rr,kr,Br=Ir,Fr=function(t,e){this.origin=t||new _,this.direction=e||new _};Fr.prototype={constructor:Fr,intersectPlane:function(t,e){var n=t.normal.array,r=t.distance,i=this.origin.array,a=this.direction.array,o=l.dot(n,a);if(0===o)return null;e||(e=new _);var s=(l.dot(n,i)-r)/o;return l.scaleAndAdd(e.array,i,a,-s),e._dirty=!0,e},mirrorAgainstPlane:function(t){var e=l.dot(t.normal.array,this.direction.array);l.scaleAndAdd(this.direction.array,this.direction.array,t.normal.array,2*-e),this.direction._dirty=!0},distanceToPoint:function(){var t=l.create();return function(e){l.sub(t,e,this.origin.array);var n=l.dot(t,this.direction.array);if(n<0)return l.distance(this.origin.array,e);var r=l.lenSquared(t);return Math.sqrt(r-n*n)}}(),intersectSphere:function(){var t=l.create();return function(e,n,r){var i=this.origin.array,a=this.direction.array;e=e.array,l.sub(t,e,i);var o=l.dot(t,a),s=l.squaredLength(t)-o*o,u=n*n;if(!(s>u)){var c=Math.sqrt(u-s),h=o-c,f=o+c;return r||(r=new _),h<0?f<0?null:(l.scaleAndAdd(r.array,i,a,f),r):(l.scaleAndAdd(r.array,i,a,h),r)}}}(),intersectBoundingBox:function(t,e){var n,r,i,a,o,s,u=this.direction.array,c=this.origin.array,h=t.min.array,f=t.max.array,d=1/u[0],p=1/u[1],m=1/u[2];if(d>=0?(n=(h[0]-c[0])*d,r=(f[0]-c[0])*d):(r=(h[0]-c[0])*d,n=(f[0]-c[0])*d),p>=0?(i=(h[1]-c[1])*p,a=(f[1]-c[1])*p):(a=(h[1]-c[1])*p,i=(f[1]-c[1])*p),n>a||i>r)return null;if((i>n||n!=n)&&(n=i),(a<r||r!=r)&&(r=a),m>=0?(o=(h[2]-c[2])*m,s=(f[2]-c[2])*m):(s=(h[2]-c[2])*m,o=(f[2]-c[2])*m),n>s||o>r)return null;if((o>n||n!=n)&&(n=o),(s<r||r!=r)&&(r=s),r<0)return null;var g=n>=0?n:r;return e||(e=new _),l.scaleAndAdd(e.array,c,u,g),e},intersectTriangle:(Pr=l.create(),Lr=l.create(),Rr=l.create(),kr=l.create(),function(t,e,n,r,i,a){var o=this.direction.array,s=this.origin.array;t=t.array,e=e.array,n=n.array,l.sub(Pr,e,t),l.sub(Lr,n,t),l.cross(kr,Lr,o);var u=l.dot(Pr,kr);if(r){if(u>-1e-5)return null}else if(u>-1e-5&&u<1e-5)return null;l.sub(Rr,s,t);var c=l.dot(kr,Rr)/u;if(c<0||c>1)return null;l.cross(kr,Pr,Rr);var h=l.dot(o,kr)/u;if(h<0||h>1||c+h>1)return null;l.cross(kr,Pr,Lr);var f=-l.dot(Rr,kr)/u;return f<0?null:(i||(i=new _),a&&_.set(a,1-c-h,c,h),l.scaleAndAdd(i.array,s,o,f),i)}),applyTransform:function(t){_.add(this.direction,this.direction,this.origin),_.transformMat4(this.origin,this.origin,t),_.transformMat4(this.direction,this.direction,t),_.sub(this.direction,this.direction,this.origin),_.normalize(this.direction,this.direction)},copy:function(t){_.copy(this.origin,t.origin),_.copy(this.direction,t.direction)},clone:function(){var t=new Fr;return t.copy(this),t}};var zr,jr,Ur,Hr=Fr,Vr=Mt.extend((function(){return{projectionMatrix:new gt,invProjectionMatrix:new gt,viewMatrix:new gt,frustum:new Br}}),(function(){this.update(!0)}),{update:function(t){Mt.prototype.update.call(this,t),gt.invert(this.viewMatrix,this.worldTransform),this.updateProjectionMatrix(),gt.invert(this.invProjectionMatrix,this.projectionMatrix),this.frustum.setFromProjection(this.projectionMatrix)},setViewMatrix:function(t){gt.copy(this.viewMatrix,t),gt.invert(this.worldTransform,t),this.decomposeWorldTransform()},decomposeProjectionMatrix:function(){},setProjectionMatrix:function(t){gt.copy(this.projectionMatrix,t),gt.invert(this.invProjectionMatrix,t),this.decomposeProjectionMatrix()},updateProjectionMatrix:function(){},castRay:(zr=x.create(),function(t,e){var n=void 0!==e?e:new Hr,r=t.array[0],i=t.array[1];return x.set(zr,r,i,-1,1),x.transformMat4(zr,zr,this.invProjectionMatrix.array),x.transformMat4(zr,zr,this.worldTransform.array),l.scale(n.origin.array,zr,1/zr[3]),x.set(zr,r,i,1,1),x.transformMat4(zr,zr,this.invProjectionMatrix.array),x.transformMat4(zr,zr,this.worldTransform.array),l.scale(zr,zr,1/zr[3]),l.sub(n.direction.array,zr,n.origin.array),l.normalize(n.direction.array,n.direction.array),n.direction._dirty=!0,n.origin._dirty=!0,n})}),Gr=P.create(),Wr=P.create(),$r={};function Xr(t){var e=[],n=Object.keys(t);n.sort();for(var r=0;r<n.length;r++){var i=n[r];e.push(i+" "+t[i])}var a=e.join("\n");if($r[a])return $r[a];var o=Q.genGUID();return $r[a]=o,o}function qr(){this.opaque=[],this.transparent=[],this._opaqueCount=0,this._transparentCount=0}function Yr(t,e){if(e.castShadow&&!t.castShadow)return!0}qr.prototype.startCount=function(){this._opaqueCount=0,this._transparentCount=0},qr.prototype.add=function(t,e){e?this.transparent[this._transparentCount++]=t:this.opaque[this._opaqueCount++]=t},qr.prototype.endCount=function(){this.transparent.length=this._transparentCount,this.opaque.length=this._opaqueCount};var Zr=Mt.extend((function(){return{material:null,lights:[],viewBoundingBoxLastFrame:new Et,shadowUniforms:{},_cameraList:[],_lightUniforms:{},_previousLightNumber:{},_lightNumber:{},_lightProgramKeys:{},_nodeRepository:{},_renderLists:new Re(20)}}),(function(){this._scene=this}),{addToScene:function(t){t instanceof Vr?(this._cameraList.length>0&&console.warn("Found multiple camera in one scene. Use the fist one."),this._cameraList.push(t)):t instanceof Tr&&this.lights.push(t),t.name&&(this._nodeRepository[t.name]=t)},removeFromScene:function(t){var e;t instanceof Vr?(e=this._cameraList.indexOf(t))>=0&&this._cameraList.splice(e,1):t instanceof Tr&&(e=this.lights.indexOf(t))>=0&&this.lights.splice(e,1),t.name&&delete this._nodeRepository[t.name]},getNode:function(t){return this._nodeRepository[t]},setMainCamera:function(t){var e=this._cameraList.indexOf(t);e>=0&&this._cameraList.splice(e,1),this._cameraList.unshift(t)},getMainCamera:function(){return this._cameraList[0]},getLights:function(){return this.lights},updateLights:function(){var t=this.lights;this._previousLightNumber=this._lightNumber;for(var e={},n=0;n<t.length;n++){var r=t[n];if(!r.invisible){var i=r.group;e[i]||(e[i]={}),e[i][r.type]=e[i][r.type]||0,e[i][r.type]++}}for(var a in this._lightNumber=e,e)this._lightProgramKeys[a]=Xr(e[a]);this._updateLightUniforms()},cloneNode:function(t){var e=t.clone(),n={};return function t(e,r){n[e.__uid__]=r;for(var i=0;i<e._children.length;i++){t(e._children[i],r._children[i])}}(t,e),e.traverse((function(t){t.skeleton&&(t.skeleton=t.skeleton.clone(n)),t.material&&(t.material=t.material.clone())})),e},updateRenderList:function(t,e){var n=t.__uid__,r=this._renderLists.get(n);r||(r=new qr,this._renderLists.put(n,r)),r.startCount(),e&&(this.viewBoundingBoxLastFrame.min.set(1/0,1/0,1/0),this.viewBoundingBoxLastFrame.max.set(-1/0,-1/0,-1/0));var i=this.material&&this.material.transparent||!1;return this._doUpdateRenderList(this,t,i,r,e),r.endCount(),r},getRenderList:function(t){return this._renderLists.get(t.__uid__)},_doUpdateRenderList:function(t,e,n,r,i){if(!t.invisible)for(var a=0;a<t._children.length;a++){var o=t._children[a];if(o.isRenderable()){var s=o.isSkinnedMesh()?Gr:o.worldTransform.array,u=o.geometry;P.multiplyAffine(Wr,e.viewMatrix.array,s),(i&&!u.boundingBox||!this.isFrustumCulled(o,e,Wr))&&r.add(o,o.material.transparent||n)}o._children.length>0&&this._doUpdateRenderList(o,e,n,r,i)}},isFrustumCulled:(jr=new Et,Ur=new gt,function(t,e,n){var r=t.boundingBox;if(r||(r=t.skeleton&&t.skeleton.boundingBox?t.skeleton.boundingBox:t.geometry.boundingBox),!r)return!1;if(Ur.array=n,jr.transformFrom(r,Ur),t.castShadow&&this.viewBoundingBoxLastFrame.union(jr),t.frustumCulling){if(!jr.intersectBoundingBox(e.frustum.boundingBox))return!0;Ur.array=e.projectionMatrix.array,jr.max.array[2]>0&&jr.min.array[2]<0&&(jr.max.array[2]=-1e-20),jr.applyProjection(Ur);var i=jr.min.array,a=jr.max.array;if(a[0]<-1||i[0]>1||a[1]<-1||i[1]>1||a[2]<-1||i[2]>1)return!0}return!1}),_updateLightUniforms:function(){var t=this.lights;t.sort(Yr);var e=this._lightUniforms;for(var n in e)for(var r in e[n])e[n][r].value.length=0;for(var i=0;i<t.length;i++){var a=t[i];if(!a.invisible){n=a.group;for(var r in a.uniformTemplates){var o=a.uniformTemplates[r],s=o.value(a);if(null!=s){e[n]||(e[n]={}),e[n][r]||(e[n][r]={type:"",value:[]});var u=e[n][r];switch(u.type=o.type+"v",o.type){case"1i":case"1f":case"t":u.value.push(s);break;case"2f":case"3f":case"4f":for(var l=0;l<s.length;l++)u.value.push(s[l]);break;default:console.error("Unkown light uniform type "+o.type)}}}}}},getLightGroups:function(){var t=[];for(var e in this._lightNumber)t.push(e);return t},getNumberChangedLightGroups:function(){var t=[];for(var e in this._lightNumber)this.isLightNumberChanged(e)&&t.push(e);return t},isLightNumberChanged:function(t){var e=this._previousLightNumber,n=this._lightNumber;for(var r in n[t]){if(!e[t])return!0;if(n[t][r]!==e[t][r])return!0}for(var r in e[t]){if(!n[t])return!0;if(n[t][r]!==e[t][r])return!0}return!1},getLightsNumbers:function(t){return this._lightNumber[t]},getProgramKey:function(t){return this._lightProgramKeys[t]},setLightUniforms:function(){function t(t,e,n){for(var r in t){var i=t[r];if("tv"===i.type){if(!e.hasUniform(r))continue;for(var a=[],o=0;o<i.value.length;o++){var s=i.value[o],u=e.takeCurrentTextureSlot(n,s);a.push(u)}e.setUniform(n.gl,"1iv",r,a)}else e.setUniform(n.gl,i.type,r,i.value)}}return function(e,n,r){t(this._lightUniforms[n],e,r),t(this.shadowUniforms,e,r)}}(),dispose:function(){this.material=null,this._opaqueList=[],this._transparentList=[],this.lights=[],this._lightUniforms={},this._lightNumber={},this._nodeRepository={}}}),Kr=n("d51b"),Jr=n.n(Kr),Qr=Jn.isPowerOfTwo,ti=["px","nx","py","ny","pz","nz"],ei=Zn.extend((function(){return{image:{px:null,nx:null,py:null,ny:null,pz:null,nz:null},pixels:{px:null,nx:null,py:null,ny:null,pz:null,nz:null},mipmaps:[]}}),{textureType:"textureCube",update:function(t){var e=t.gl;e.bindTexture(e.TEXTURE_CUBE_MAP,this._cache.get("webgl_texture")),this.updateCommon(t);var n=this.format,r=this.type;e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_WRAP_S,this.getAvailableWrapS()),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_WRAP_T,this.getAvailableWrapT()),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,this.getAvailableMagFilter()),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,this.getAvailableMinFilter());var i=t.getGLExtension("EXT_texture_filter_anisotropic");(i&&this.anisotropic>1&&e.texParameterf(e.TEXTURE_CUBE_MAP,i.TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropic),36193===r)&&(t.getGLExtension("OES_texture_half_float")||(r=Qt));if(this.mipmaps.length)for(var a=this.width,o=this.height,s=0;s<this.mipmaps.length;s++){var u=this.mipmaps[s];this._updateTextureData(e,u,s,a,o,n,r),a/=2,o/=2}else this._updateTextureData(e,this,0,this.width,this.height,n,r),!this.NPOT&&this.useMipmap&&e.generateMipmap(e.TEXTURE_CUBE_MAP);e.bindTexture(e.TEXTURE_CUBE_MAP,null)},_updateTextureData:function(t,e,n,r,i,a,o){for(var s=0;s<6;s++){var u=ti[s],l=e.image&&e.image[u];l?t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+s,n,a,a,o,l):t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+s,n,a,r,i,0,a,o,e.pixels&&e.pixels[u])}},generateMipmap:function(t){var e=t.gl;this.useMipmap&&!this.NPOT&&(e.bindTexture(e.TEXTURE_CUBE_MAP,this._cache.get("webgl_texture")),e.generateMipmap(e.TEXTURE_CUBE_MAP))},bind:function(t){t.gl.bindTexture(t.gl.TEXTURE_CUBE_MAP,this.getWebGLTexture(t))},unbind:function(t){t.gl.bindTexture(t.gl.TEXTURE_CUBE_MAP,null)},isPowerOfTwo:function(){return this.image.px?Qr(this.image.px.width)&&Qr(this.image.px.height):Qr(this.width)&&Qr(this.height)},isRenderable:function(){return this.image.px?ni(this.image.px)&&ni(this.image.nx)&&ni(this.image.py)&&ni(this.image.ny)&&ni(this.image.pz)&&ni(this.image.nz):!(!this.width||!this.height)},load:function(t,e){var n=0,r=this;return Q.each(t,(function(t,i){var a=Ne.a.createImage();e&&(a.crossOrigin=e),a.onload=function(){0===--n&&(r.dirty(),r.trigger("success",r))},a.onerror=function(){n--},n++,a.src=t,r.image[i]=a})),this}});function ni(t){return t.width>0&&t.height>0}Object.defineProperty(ei.prototype,"width",{get:function(){return this.image&&this.image.px?this.image.px.width:this._width},set:function(t){this.image&&this.image.px?console.warn("Texture from image can't set width"):(this._width!==t&&this.dirty(),this._width=t)}}),Object.defineProperty(ei.prototype,"height",{get:function(){return this.image&&this.image.px?this.image.px.height:this._height},set:function(t){this.image&&this.image.px?console.warn("Texture from image can't set height"):(this._height!==t&&this.dirty(),this._height=t)}});var ri=ei,ii=Vr.extend({fov:50,aspect:1,near:.1,far:2e3},{updateProjectionMatrix:function(){var t=this.fov/180*Math.PI;this.projectionMatrix.perspective(t,this.aspect,this.near,this.far)},decomposeProjectionMatrix:function(){var t=this.projectionMatrix.array,e=2*Math.atan(1/t[5]);this.fov=e/Math.PI*180,this.aspect=t[5]/t[0],this.near=t[14]/(t[10]-1),this.far=t[14]/(t[10]+1)},clone:function(){var t=Vr.prototype.clone.call(this);return t.fov=this.fov,t.aspect=this.aspect,t.near=this.near,t.far=this.far,t}}),ai=_e,oi=ve,si=xe,ui=be,li=nt.extend({depthBuffer:!0,viewport:null,_width:0,_height:0,_textures:null,_boundRenderer:null},(function(){this._cache=new qn,this._textures={}}),{getTextureWidth:function(){return this._width},getTextureHeight:function(){return this._height},bind:function(t){if(t.__currentFrameBuffer){if(t.__currentFrameBuffer===this)return;console.warn("Renderer already bound with another framebuffer. Unbind it first")}t.__currentFrameBuffer=this;var e=t.gl;e.bindFramebuffer(ai,this._getFrameBufferGL(t)),this._boundRenderer=t;var n=this._cache;n.put("viewport",t.viewport);var r,i,a=!1;for(var o in this._textures){a=!0;var s=this._textures[o];s&&(r=s.texture.width,i=s.texture.height,this._doAttach(t,s.texture,o,s.target))}this._width=r,this._height=i,!a&&this.depthBuffer&&console.error("Must attach texture before bind, or renderbuffer may have incorrect width and height."),this.viewport?t.setViewport(this.viewport):t.setViewport(0,0,r,i,1);var u=n.get("attached_textures");if(u)for(var o in u)if(!this._textures[o]){var l=u[o];this._doDetach(e,o,l)}if(!n.get("depthtexture_attached")&&this.depthBuffer){n.miss("renderbuffer")&&n.put("renderbuffer",e.createRenderbuffer());var c=n.get("renderbuffer");r===n.get("renderbuffer_width")&&i===n.get("renderbuffer_height")||(e.bindRenderbuffer(oi,c),e.renderbufferStorage(oi,e.DEPTH_COMPONENT16,r,i),n.put("renderbuffer_width",r),n.put("renderbuffer_height",i),e.bindRenderbuffer(oi,null)),n.get("renderbuffer_attached")||(e.framebufferRenderbuffer(ai,si,oi,c),n.put("renderbuffer_attached",!0))}},unbind:function(t){t.__currentFrameBuffer=null,t.gl.bindFramebuffer(ai,null),this._boundRenderer=null,this._cache.use(t.__uid__);var e=this._cache.get("viewport");e&&t.setViewport(e),this.updateMipmap(t)},updateMipmap:function(t){var e=t.gl;for(var n in this._textures){var r=this._textures[n];if(r){var i=r.texture;if(!i.NPOT&&i.useMipmap&&i.minFilter===Zn.LINEAR_MIPMAP_LINEAR){var a="textureCube"===i.textureType?de:fe;e.bindTexture(a,i.getWebGLTexture(t)),e.generateMipmap(a),e.bindTexture(a,null)}}}},checkStatus:function(t){return t.checkFramebufferStatus(ai)},_getFrameBufferGL:function(t){var e=this._cache;return e.use(t.__uid__),e.miss("framebuffer")&&e.put("framebuffer",t.gl.createFramebuffer()),e.get("framebuffer")},attach:function(t,e,n){if(!t.width)throw new Error("The texture attached to color buffer is not a valid.");e=e||ui,n=n||fe;var r,i=this._boundRenderer;if(i&&i.gl){var a=this._cache;a.use(i.__uid__),r=a.get("attached_textures")}var o=this._textures[e];if(!o||o.target!==n||o.texture!==t||!r||null==r[e]){var s=!0;i&&(s=this._doAttach(i,t,e,n),this.viewport||i.setViewport(0,0,t.width,t.height,1)),s&&(this._textures[e]=this._textures[e]||{},this._textures[e].texture=t,this._textures[e].target=n)}},_doAttach:function(t,e,n,r){var i=t.gl,a=e.getWebGLTexture(t),o=this._cache.get("attached_textures");if(o&&o[n]){var s=o[n];if(s.texture===e&&s.target===r)return}var u=!0;if(((n=+n)===si||n===Te)&&(t.getGLExtension("WEBGL_depth_texture")||(console.error("Depth texture is not supported by the browser"),u=!1),e.format!==te&&e.format!==ye&&(console.error("The texture attached to depth buffer is not a valid."),u=!1),u)){var l=this._cache.get("renderbuffer");l&&(i.framebufferRenderbuffer(ai,si,oi,null),i.deleteRenderbuffer(l),this._cache.put("renderbuffer",!1)),this._cache.put("renderbuffer_attached",!1),this._cache.put("depthtexture_attached",!0)}return i.framebufferTexture2D(ai,n,r,a,0),o||(o={},this._cache.put("attached_textures",o)),o[n]=o[n]||{},o[n].texture=e,o[n].target=r,u},_doDetach:function(t,e,n){t.framebufferTexture2D(ai,e,n,null,0);var r=this._cache.get("attached_textures");r&&r[e]&&(r[e]=null),e!==si&&e!==Te||this._cache.put("depthtexture_attached",!1)},detach:function(t,e){(this._textures[t]=null,this._boundRenderer)&&(this._cache.use(this._boundRenderer.__uid__),this._doDetach(this._boundRenderer.gl,t,e))},dispose:function(t){var e=t.gl,n=this._cache;n.use(t.__uid__);var r=n.get("renderbuffer");r&&e.deleteRenderbuffer(r);var i=n.get("framebuffer");i&&e.deleteFramebuffer(i),n.deleteContext(t.__uid__),this._textures={}}});li.DEPTH_ATTACHMENT=si,li.COLOR_ATTACHMENT0=ui,li.STENCIL_ATTACHMENT=we,li.DEPTH_STENCIL_ATTACHMENT=Te;var ci=li,hi=["px","nx","py","ny","pz","nz"],fi=nt.extend((function(){var t={position:new _,far:1e3,near:.1,texture:null,shadowMapPass:null},e=t._cameras={px:new ii({fov:90}),nx:new ii({fov:90}),py:new ii({fov:90}),ny:new ii({fov:90}),pz:new ii({fov:90}),nz:new ii({fov:90})};return e.px.lookAt(_.POSITIVE_X,_.NEGATIVE_Y),e.nx.lookAt(_.NEGATIVE_X,_.NEGATIVE_Y),e.py.lookAt(_.POSITIVE_Y,_.POSITIVE_Z),e.ny.lookAt(_.NEGATIVE_Y,_.NEGATIVE_Z),e.pz.lookAt(_.POSITIVE_Z,_.NEGATIVE_Y),e.nz.lookAt(_.NEGATIVE_Z,_.NEGATIVE_Y),t._frameBuffer=new ci,t}),{getCamera:function(t){return this._cameras[t]},render:function(t,e,n){var r=t.gl;n||e.update();for(var i=this.texture.width,a=2*Math.atan(i/(i-.5))/Math.PI*180,o=0;o<6;o++){var s=hi[o],u=this._cameras[s];if(_.copy(u.position,this.position),u.far=this.far,u.near=this.near,u.fov=a,this.shadowMapPass){u.update();var l=e.getBoundingBox();l.applyTransform(u.viewMatrix),e.viewBoundingBoxLastFrame.copy(l),this.shadowMapPass.render(t,e,u,!0)}this._frameBuffer.attach(this.texture,r.COLOR_ATTACHMENT0,r.TEXTURE_CUBE_MAP_POSITIVE_X+o),this._frameBuffer.bind(t),t.render(e,u,!0),this._frameBuffer.unbind(t)}},dispose:function(t){this._frameBuffer.dispose(t)}}),di=mr.extend({dynamic:!1,widthSegments:1,heightSegments:1},(function(){this.build()}),{build:function(){for(var t=this.heightSegments,e=this.widthSegments,n=this.attributes,r=[],i=[],a=[],o=[],s=0;s<=t;s++)for(var u=s/t,l=0;l<=e;l++){var c=l/e;if(r.push([2*c-1,2*u-1,0]),i&&i.push([c,u]),a&&a.push([0,0,1]),l<e&&s<t){var h=l+s*(e+1);o.push([h,h+1,h+e+1]),o.push([h+e+1,h+1,h+e+2])}}n.position.fromArray(r),n.texcoord0.fromArray(i),n.normal.fromArray(a),this.initIndicesFromArray(o),this.boundingBox=new Et,this.boundingBox.min.set(-1,-1,0),this.boundingBox.max.set(1,1,0)}}),pi=new gt;function mi(t,e,n){pi.identity();var r=new di({widthSegments:e,heightSegments:n});switch(t){case"px":gt.translate(pi,pi,_.POSITIVE_X),gt.rotateY(pi,pi,Math.PI/2);break;case"nx":gt.translate(pi,pi,_.NEGATIVE_X),gt.rotateY(pi,pi,-Math.PI/2);break;case"py":gt.translate(pi,pi,_.POSITIVE_Y),gt.rotateX(pi,pi,-Math.PI/2);break;case"ny":gt.translate(pi,pi,_.NEGATIVE_Y),gt.rotateX(pi,pi,Math.PI/2);break;case"pz":gt.translate(pi,pi,_.POSITIVE_Z);break;case"nz":gt.translate(pi,pi,_.NEGATIVE_Z),gt.rotateY(pi,pi,Math.PI)}return r.applyTransform(pi),r}var gi=mr.extend({dynamic:!1,widthSegments:1,heightSegments:1,depthSegments:1,inside:!1},(function(){this.build()}),{build:function(){var t={px:mi("px",this.depthSegments,this.heightSegments),nx:mi("nx",this.depthSegments,this.heightSegments),py:mi("py",this.widthSegments,this.depthSegments),ny:mi("ny",this.widthSegments,this.depthSegments),pz:mi("pz",this.widthSegments,this.heightSegments),nz:mi("nz",this.widthSegments,this.heightSegments)},e=["position","texcoord0","normal"],n=0,r=0;for(var i in t)n+=t[i].vertexCount,r+=t[i].indices.length;for(var a=0;a<e.length;a++)this.attributes[e[a]].init(n);this.indices=new Ne.a.Uint16Array(r);var o=0,s=0;for(var i in t){var u=t[i];for(a=0;a<e.length;a++)for(var l=e[a],c=u.attributes[l].value,h=u.attributes[l].size,f="normal"===l,d=0;d<c.length;d++){var p=c[d];this.inside&&f&&(p=-p),this.attributes[l].value[d+h*s]=p}var m=u.indices.length;for(d=0;d<u.indices.length;d++)this.indices[d+o]=s+u.indices[this.inside?m-d-1:d];o+=u.indices.length,s+=u.vertexCount}this.boundingBox=new Et,this.boundingBox.max.set(1,1,1),this.boundingBox.min.set(-1,-1,-1)}});In.import("@export clay.skybox.vertex\n#define SHADER_NAME skybox\nuniform mat4 world : WORLD;\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nattribute vec3 position : POSITION;\nvarying vec3 v_WorldPosition;\nvoid main()\n{\n v_WorldPosition = (world * vec4(position, 1.0)).xyz;\n gl_Position = worldViewProjection * vec4(position, 1.0);\n}\n@end\n@export clay.skybox.fragment\n#define PI 3.1415926\nuniform mat4 viewInverse : VIEWINVERSE;\n#ifdef EQUIRECTANGULAR\nuniform sampler2D environmentMap;\n#else\nuniform samplerCube environmentMap;\n#endif\nuniform float lod: 0.0;\nvarying vec3 v_WorldPosition;\n@import clay.util.rgbm\n@import clay.util.srgb\n@import clay.util.ACES\nvoid main()\n{\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(v_WorldPosition - eyePos);\n#ifdef EQUIRECTANGULAR\n float phi = acos(V.y);\n float theta = atan(-V.x, V.z) + PI * 0.5;\n vec2 uv = vec2(theta / 2.0 / PI, phi / PI);\n vec4 texel = decodeHDR(texture2D(environmentMap, fract(uv)));\n#else\n #if defined(LOD) || defined(SUPPORT_TEXTURE_LOD)\n vec4 texel = decodeHDR(textureCubeLodEXT(environmentMap, V, lod));\n #else\n vec4 texel = decodeHDR(textureCube(environmentMap, V));\n #endif\n#endif\n#ifdef SRGB_DECODE\n texel = sRGBToLinear(texel);\n#endif\n#ifdef TONEMAPPING\n texel.rgb = ACESToneMapping(texel.rgb);\n#endif\n#ifdef SRGB_ENCODE\n texel = linearTosRGB(texel);\n#endif\n gl_FragColor = encodeHDR(vec4(texel.rgb, 1.0));\n}\n@end");var _i=Ae.extend((function(){var t=new In({vertex:In.source("clay.skybox.vertex"),fragment:In.source("clay.skybox.fragment")}),e=new Qe({shader:t,depthMask:!1});return{scene:null,geometry:new gi,material:e,environmentMap:null,culling:!1,_dummyCamera:new ii}}),(function(){var t=this.scene;t&&this.attachScene(t),this.environmentMap&&this.setEnvironmentMap(this.environmentMap)}),{attachScene:function(t){this.scene&&this.detachScene(),t.skybox=this,this.scene=t,t.on("beforerender",this._beforeRenderScene,this)},detachScene:function(){this.scene&&(this.scene.off("beforerender",this._beforeRenderScene),this.scene.skybox=null),this.scene=null},dispose:function(t){this.detachScene(),this.geometry.dispose(t)},setEnvironmentMap:function(t){"texture2D"===t.textureType?(this.material.define("EQUIRECTANGULAR"),t.minFilter=Zn.LINEAR):this.material.undefine("EQUIRECTANGULAR"),this.material.set("environmentMap",t)},getEnvironmentMap:function(){return this.material.get("environmentMap")},_beforeRenderScene:function(t,e,n){this.renderSkybox(t,n)},renderSkybox:function(t,e){var n=this._dummyCamera;n.aspect=t.getViewportAspect(),n.fov=e.fov||50,n.updateProjectionMatrix(),gt.invert(n.invProjectionMatrix,n.projectionMatrix),n.worldTransform.copy(e.worldTransform),n.viewMatrix.copy(e.viewMatrix),this.position.copy(e.getWorldPosition()),this.update(),t.gl.disable(t.gl.BLEND),this.material.get("lod")>0?this.material.define("fragment","LOD"):this.material.undefine("fragment","LOD"),t.renderPass([this],n)}}),vi=_i;function yi(t){return t.charCodeAt(0)+(t.charCodeAt(1)<<8)+(t.charCodeAt(2)<<16)+(t.charCodeAt(3)<<24)}var bi=yi("DXT1"),xi=yi("DXT3"),wi=yi("DXT5"),Ti={parse:function(t,e){var n=new Int32Array(t,0,31);if(542327876!==n[0])return null;if(4&!n(20))return null;var r,i,a=n(21),o=n[4],s=n[3],u=512&n[28],l=131072&n[2];switch(a){case bi:r=8,i=Zn.COMPRESSED_RGB_S3TC_DXT1_EXT;break;case xi:r=16,i=Zn.COMPRESSED_RGBA_S3TC_DXT3_EXT;break;case wi:r=16,i=Zn.COMPRESSED_RGBA_S3TC_DXT5_EXT;break;default:return null}var c=n[1]+4,h=u?6:1,f=1;l&&(f=Math.max(1,n[7]));for(var d=[],p=0;p<h;p++){var m=o,g=s;d[p]=new nr({width:m,height:g,format:i});for(var _=[],v=0;v<f;v++){var y=Math.max(4,m)/4*Math.max(4,g)/4*r,b=new Uint8Array(t,c,y);c+=y,m*=.5,g*=.5,_[v]=b}d[p].pixels=_[0],l&&(d[p].mipmaps=_)}if(!e)return d[0];e.width=d[0].width,e.height=d[0].height,e.format=d[0].format,e.pixels=d[0].pixels,e.mipmaps=d[0].mipmaps}},Si=String.fromCharCode;function Ei(t,e,n,r){if(t[3]>0){var i=Math.pow(2,t[3]-128-8+r);e[n+0]=t[0]*i,e[n+1]=t[1]*i,e[n+2]=t[2]*i}else e[n+0]=0,e[n+1]=0,e[n+2]=0;return e[n+3]=1,e}function Ci(t,e,n,r){for(var i,a,o=0,s=0,u=r;u>0;)if(t[s][0]=e[n++],t[s][1]=e[n++],t[s][2]=e[n++],t[s][3]=e[n++],1===t[s][0]&&1===t[s][1]&&1===t[s][2]){for(var l=t[s][3]<<o>>>0;l>0;l--)i=t[s-1],(a=t[s])[0]=i[0],a[1]=i[1],a[2]=i[2],a[3]=i[3],s++,u--;o+=8}else s++,u--,o=0;return n}function Ai(t,e,n,r){if(r<8|r>32767)return Ci(t,e,n,r);if(2!=(i=e[n++]))return Ci(t,e,n-1,r);if(t[0][1]=e[n++],t[0][2]=e[n++],i=e[n++],(t[0][2]<<8>>>0|i)>>>0!==r)return null;for(var i=0;i<4;i++)for(var a=0;a<r;){var o=e[n++];if(o>128){o=(127&o)>>>0;for(var s=e[n++];o--;)t[a++][i]=s}else for(;o--;)t[a++][i]=e[n++]}return n}var Mi={parseRGBE:function(t,e,n){null==n&&(n=0);var r=new Uint8Array(t),i=r.length;if("#?"===function(t,e,n){for(var r="",i=e;i<n;i++)r+=Si(t[i]);return r}(r,0,2)){for(var a=2;a<i&&("\n"!==Si(r[a])||"\n"!==Si(r[a+1]));a++);if(!(a>=i)){a+=2;for(var o="";a<i;a++){var s=Si(r[a]);if("\n"===s)break;o+=s}var u=o.split(" "),l=parseInt(u[1]),c=parseInt(u[3]);if(c&&l){for(var h=a+1,f=[],d=0;d<c;d++){f[d]=[];for(var p=0;p<4;p++)f[d][p]=0}for(var m=new Float32Array(c*l*4),g=0,_=0;_<l;_++){if(!(h=Ai(f,r,h,c)))return null;for(d=0;d<c;d++)Ei(f[d],m,g,n),g+=4}return e||(e=new nr),e.width=c,e.height=l,e.pixels=m,e.type=Zn.FLOAT,e}}}},parseRGBEFromPNG:function(t){}},Oi={loadTexture:function(t,e,n,r){var i;if("function"==typeof e?(r=n=e,e={}):e=e||{},"string"==typeof t){if(t.match(/.hdr$/)||"hdr"===e.fileType)return i=new nr({width:0,height:0,sRGB:!1}),Oi._fetchTexture(t,(function(t){Mi.parseRGBE(t,i,e.exposure),i.dirty(),n&&n(i)}),r),i;t.match(/.dds$/)||"dds"===e.fileType?(i=new nr({width:0,height:0}),Oi._fetchTexture(t,(function(t){Ti.parse(t,i),i.dirty(),n&&n(i)}),r)):((i=new nr).load(t),i.success(n),i.error(r))}else"object"==typeof t&&void 0!==t.px&&((i=new ri).load(t),i.success(n),i.error(r));return i},loadPanorama:function(t,e,n,r,i,a){var o=this;"function"==typeof r?(a=i=r,r={}):r=r||{},Oi.loadTexture(e,r,(function(e){e.flipY=r.flipY||!1,o.panoramaToCubeMap(t,e,n,r),e.dispose(t),i&&i(n)}),a)},panoramaToCubeMap:function(t,e,n,r){var i=new fi,a=new vi({scene:new Zr});return a.setEnvironmentMap(e),(r=r||{}).encodeRGBM&&a.material.define("fragment","RGBM_ENCODE"),n.sRGB=e.sRGB,i.texture=n,i.render(t,a.scene),i.texture=null,i.dispose(t),n},heightToNormal:function(t,e){var n=document.createElement("canvas"),r=n.width=t.width,i=n.height=t.height,a=n.getContext("2d");a.drawImage(t,0,0,r,i),e=e||!1;for(var o=a.getImageData(0,0,r,i),s=a.createImageData(r,i),u=0;u<o.data.length;u+=4){if(e){var l=o.data[u],c=o.data[u+1],h=o.data[u+2];if(Math.abs(l-c)+Math.abs(c-h)>20)return console.warn("Given image is not a height map"),t}var f,d,p,m;u%(4*r)==0?(f=o.data[u],p=o.data[u+4]):u%(4*r)==4*(r-1)?(f=o.data[u-4],p=o.data[u]):(f=o.data[u-4],p=o.data[u+4]),u<4*r?(d=o.data[u],m=o.data[u+4*r]):u>r*(i-1)*4?(d=o.data[u-4*r],m=o.data[u]):(d=o.data[u-4*r],m=o.data[u+4*r]),s.data[u]=f-p+127,s.data[u+1]=d-m+127,s.data[u+2]=255,s.data[u+3]=255}return a.putImageData(s,0,0),n},isHeightImage:function(t,e,n){if(!t||!t.width||!t.height)return!1;var r=document.createElement("canvas"),i=r.getContext("2d"),a=e||32;n=n||20,r.width=r.height=a,i.drawImage(t,0,0,a,a);for(var o=i.getImageData(0,0,a,a),s=0;s<o.data.length;s+=4){var u=o.data[s],l=o.data[s+1],c=o.data[s+2];if(Math.abs(u-l)+Math.abs(l-c)>n)return!1}return!0},_fetchTexture:function(t,e,n){Ne.a.request.get({url:t,responseType:"arraybuffer",onload:e,onerror:n})},createChessboard:function(t,e,n,r){t=t||512,e=e||64,n=n||"black",r=r||"white";var i=Math.ceil(t/e),a=document.createElement("canvas");a.width=t,a.height=t;var o=a.getContext("2d");o.fillStyle=r,o.fillRect(0,0,t,t),o.fillStyle=n;for(var s=0;s<i;s++)for(var u=0;u<i;u++){(u%2?s%2:s%2-1)&&o.fillRect(s*e,u*e,e,e)}return new nr({image:a,anisotropic:8})},createBlank:function(t){var e=document.createElement("canvas");e.width=1,e.height=1;var n=e.getContext("2d");return n.fillStyle=t,n.fillRect(0,0,1,1),new nr({image:e})}},Di=Oi,Ni=["mousedown","mouseup","mousemove","mouseover","mouseout","click","dblclick","contextmenu"];function Ii(t){return"_on"+t}var Pi=function(t){var e=this;this._texture=new nr({anisotropic:32,flipY:!1,surface:this,dispose:function(t){e.dispose(),nr.prototype.dispose.call(this,t)}}),Ni.forEach((function(t){this[Ii(t)]=function(e){e.triangle&&this._meshes.forEach((function(n){this.dispatchEvent(t,n,e.triangle,e.point)}),this)}}),this),this._meshes=[],t&&this.setECharts(t),this.onupdate=null};Pi.prototype={constructor:Pi,getTexture:function(){return this._texture},setECharts:function(t){this._chart=t;var e=t.getDom();if(e instanceof HTMLCanvasElement){var n=this,r=t.getZr(),i=r.__oldRefreshImmediately||r.refreshImmediately;r.refreshImmediately=function(){i.call(this),n._texture.dirty(),n.onupdate&&n.onupdate()},r.__oldRefreshImmediately=i}else console.error("ECharts must init on canvas if it is used as texture."),e=document.createElement("canvas");this._texture.image=e,this._texture.dirty(),this.onupdate&&this.onupdate()},dispatchEvent:function(){var t=new _,e=new _,n=new _,r=new nn,i=new nn,a=new nn,o=new nn,s=new _;return function(u,l,c,h){var f=l.geometry,d=f.attributes.position,p=f.attributes.texcoord0,m=_.dot,g=_.cross;d.get(c[0],t.array),d.get(c[1],e.array),d.get(c[2],n.array),p.get(c[0],r.array),p.get(c[1],i.array),p.get(c[2],a.array),g(s,e,n);var v=m(t,s),y=m(h,s)/v;g(s,n,t);var b=m(h,s)/v;g(s,t,e);var x=m(h,s)/v;nn.scale(o,r,y),nn.scaleAndAdd(o,o,i,b),nn.scaleAndAdd(o,o,a,x);var w=o.x*this._chart.getWidth(),T=o.y*this._chart.getHeight();this._chart.getZr().handler.dispatch(u,{zrX:w,zrY:T})}}(),attachToMesh:function(t){this._meshes.indexOf(t)>=0||(Ni.forEach((function(e){t.on(e,this[Ii(e)],this)}),this),this._meshes.push(t))},detachFromMesh:function(t){var e=this._meshes.indexOf(t);e>=0&&this._meshes.splice(e,1),Ni.forEach((function(e){t.off(e,this[Ii(e)])}),this)},dispose:function(){this._meshes.forEach((function(t){this.detachFromMesh(t)}),this)}};var Li=Pi,Ri=Vr.extend({left:-1,right:1,near:-1,far:1,top:1,bottom:-1},{updateProjectionMatrix:function(){this.projectionMatrix.ortho(this.left,this.right,this.bottom,this.top,this.near,this.far)},decomposeProjectionMatrix:function(){var t=this.projectionMatrix.array;this.left=(-1-t[12])/t[0],this.right=(1-t[12])/t[0],this.top=(1-t[13])/t[5],this.bottom=(-1-t[13])/t[5],this.near=-(-1-t[14])/t[10],this.far=-(1-t[14])/t[10]},clone:function(){var t=Vr.prototype.clone.call(this);return t.left=this.left,t.right=this.right,t.near=this.near,t.far=this.far,t.top=this.top,t.bottom=this.bottom,t}});In.import("\n@export clay.compositor.vertex\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nattribute vec3 position : POSITION;\nattribute vec2 texcoord : TEXCOORD_0;\nvarying vec2 v_Texcoord;\nvoid main()\n{\n v_Texcoord = texcoord;\n gl_Position = worldViewProjection * vec4(position, 1.0);\n}\n@end");var ki=new Ae({geometry:new di,frustumCulling:!1}),Bi=new Ri,Fi=nt.extend((function(){return{fragment:"",outputs:null,material:null,blendWithPrevious:!1,clearColor:!1,clearDepth:!0}}),(function(){var t=new In(In.source("clay.compositor.vertex"),this.fragment),e=new Qe({shader:t});e.enableTexturesAll(),this.material=e}),{setUniform:function(t,e){this.material.setUniform(t,e)},getUniform:function(t){var e=this.material.uniforms[t];if(e)return e.value},attachOutput:function(t,e){this.outputs||(this.outputs={}),e=e||be,this.outputs[e]=t},detachOutput:function(t){for(var e in this.outputs)this.outputs[e]===t&&(this.outputs[e]=null)},bind:function(t,e){if(this.outputs)for(var n in this.outputs){var r=this.outputs[n];r&&e.attach(r,n)}e&&e.bind(t)},unbind:function(t,e){e.unbind(t)},render:function(t,e){var n=t.gl;if(e){this.bind(t,e);var r=t.getGLExtension("EXT_draw_buffers");if(r&&this.outputs){var i=[];for(var a in this.outputs)(a=+a)>=n.COLOR_ATTACHMENT0&&a<=n.COLOR_ATTACHMENT0+8&&i.push(a);r.drawBuffersEXT(i)}}this.trigger("beforerender",this,t);var o=this.clearDepth?n.DEPTH_BUFFER_BIT:0;if(n.depthMask(!0),this.clearColor){o|=n.COLOR_BUFFER_BIT,n.colorMask(!0,!0,!0,!0);var s=this.clearColor;Array.isArray(s)&&n.clearColor(s[0],s[1],s[2],s[3])}n.clear(o),this.blendWithPrevious?(n.enable(n.BLEND),this.material.transparent=!0):(n.disable(n.BLEND),this.material.transparent=!1),this.renderQuad(t),this.trigger("afterrender",this,t),e&&this.unbind(t,e)},renderQuad:function(t){ki.material=this.material,t.renderPass([ki],Bi)},dispose:function(t){}}),zi={},ji=["px","nx","py","ny","pz","nz"];zi.prefilterEnvironmentMap=function(t,e,n,r,i){i&&r||(r=zi.generateNormalDistribution(),i=zi.integrateBRDF(t,r));var a=(n=n||{}).width||64,o=n.height||64,s=n.type||e.type,u=new ri({width:a,height:o,type:s,flipY:!1,mipmaps:[]});u.isPowerOfTwo()||console.warn("Width and height must be power of two to enable mipmap.");var l=Math.min(a,o),c=Math.log(l)/Math.log(2)+1,h=new Qe({shader:new In({vertex:In.source("clay.skybox.vertex"),fragment:"#define SHADER_NAME prefilter\n#define SAMPLE_NUMBER 1024\n#define PI 3.14159265358979\nuniform mat4 viewInverse : VIEWINVERSE;\nuniform samplerCube environmentMap;\nuniform sampler2D normalDistribution;\nuniform float roughness : 0.5;\nvarying vec2 v_Texcoord;\nvarying vec3 v_WorldPosition;\n@import clay.util.rgbm\nvec3 importanceSampleNormal(float i, float roughness, vec3 N) {\n vec3 H = texture2D(normalDistribution, vec2(roughness, i)).rgb;\n vec3 upVector = abs(N.y) > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);\n vec3 tangentX = normalize(cross(N, upVector));\n vec3 tangentZ = cross(N, tangentX);\n return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);\n}\nvoid main() {\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(v_WorldPosition - eyePos);\n vec3 N = V;\n vec3 prefilteredColor = vec3(0.0);\n float totalWeight = 0.0;\n float fMaxSampleNumber = float(SAMPLE_NUMBER);\n for (int i = 0; i < SAMPLE_NUMBER; i++) {\n vec3 H = importanceSampleNormal(float(i) / fMaxSampleNumber, roughness, N);\n vec3 L = reflect(-V, H);\n float NoL = clamp(dot(N, L), 0.0, 1.0);\n if (NoL > 0.0) {\n prefilteredColor += decodeHDR(textureCube(environmentMap, L)).rgb * NoL;\n totalWeight += NoL;\n }\n }\n gl_FragColor = encodeHDR(vec4(prefilteredColor / totalWeight, 1.0));\n}\n"})});h.set("normalDistribution",r),n.encodeRGBM&&h.define("fragment","RGBM_ENCODE"),n.decodeRGBM&&h.define("fragment","RGBM_DECODE");var f,d=new Zr;if("texture2D"===e.textureType){var p=new ri({width:a,height:o,type:s===Zn.FLOAT?Zn.HALF_FLOAT:s});Di.panoramaToCubeMap(t,e,p,{encodeRGBM:n.decodeRGBM}),e=p}(f=new _i({scene:d,material:h})).material.set("environmentMap",e);var m=new fi({texture:u});n.encodeRGBM&&(s=u.type=Zn.UNSIGNED_BYTE);for(var g=new nr({width:a,height:o,type:s}),_=new ci({depthBuffer:!1}),v=Ne.a[s===Zn.UNSIGNED_BYTE?"Uint8Array":"Float32Array"],y=0;y<c;y++){u.mipmaps[y]={pixels:{}},f.material.set("roughness",y/(c-1));for(var b=g.width,x=2*Math.atan(b/(b-.5))/Math.PI*180,w=0;w<ji.length;w++){var T=new v(g.width*g.height*4);_.attach(g),_.bind(t);var S=m.getCamera(ji[w]);S.fov=x,t.render(d,S),t.gl.readPixels(0,0,g.width,g.height,Zn.RGBA,s,T),_.unbind(t),u.mipmaps[y].pixels[ji[w]]=T}g.width/=2,g.height/=2,g.dirty()}return _.dispose(t),g.dispose(t),f.dispose(t),r.dispose(t),{environmentMap:u,brdfLookup:i,normalDistribution:r,maxMipmapLevel:c}},zi.integrateBRDF=function(t,e){e=e||zi.generateNormalDistribution();var n=new ci({depthBuffer:!1}),r=new Fi({fragment:"#define SAMPLE_NUMBER 1024\n#define PI 3.14159265358979\nuniform sampler2D normalDistribution;\nuniform vec2 viewportSize : [512, 256];\nconst vec3 N = vec3(0.0, 0.0, 1.0);\nconst float fSampleNumber = float(SAMPLE_NUMBER);\nvec3 importanceSampleNormal(float i, float roughness, vec3 N) {\n vec3 H = texture2D(normalDistribution, vec2(roughness, i)).rgb;\n vec3 upVector = abs(N.y) > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);\n vec3 tangentX = normalize(cross(N, upVector));\n vec3 tangentZ = cross(N, tangentX);\n return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);\n}\nfloat G_Smith(float roughness, float NoV, float NoL) {\n float k = roughness * roughness / 2.0;\n float G1V = NoV / (NoV * (1.0 - k) + k);\n float G1L = NoL / (NoL * (1.0 - k) + k);\n return G1L * G1V;\n}\nvoid main() {\n vec2 uv = gl_FragCoord.xy / viewportSize;\n float NoV = uv.x;\n float roughness = uv.y;\n vec3 V;\n V.x = sqrt(1.0 - NoV * NoV);\n V.y = 0.0;\n V.z = NoV;\n float A = 0.0;\n float B = 0.0;\n for (int i = 0; i < SAMPLE_NUMBER; i++) {\n vec3 H = importanceSampleNormal(float(i) / fSampleNumber, roughness, N);\n vec3 L = reflect(-V, H);\n float NoL = clamp(L.z, 0.0, 1.0);\n float NoH = clamp(H.z, 0.0, 1.0);\n float VoH = clamp(dot(V, H), 0.0, 1.0);\n if (NoL > 0.0) {\n float G = G_Smith(roughness, NoV, NoL);\n float G_Vis = G * VoH / (NoH * NoV);\n float Fc = pow(1.0 - VoH, 5.0);\n A += (1.0 - Fc) * G_Vis;\n B += Fc * G_Vis;\n }\n }\n gl_FragColor = vec4(vec2(A, B) / fSampleNumber, 0.0, 1.0);\n}\n"}),i=new nr({width:512,height:256,type:Zn.HALF_FLOAT,wrapS:Zn.CLAMP_TO_EDGE,wrapT:Zn.CLAMP_TO_EDGE,minFilter:Zn.NEAREST,magFilter:Zn.NEAREST,useMipmap:!1});return r.setUniform("normalDistribution",e),r.setUniform("viewportSize",[512,256]),r.attachOutput(i),r.render(t,n),n.dispose(t),i},zi.generateNormalDistribution=function(t,e){for(var n=new nr({width:t=t||256,height:e=e||1024,type:Zn.FLOAT,minFilter:Zn.NEAREST,magFilter:Zn.NEAREST,wrapS:Zn.CLAMP_TO_EDGE,wrapT:Zn.CLAMP_TO_EDGE,useMipmap:!1}),r=new Float32Array(e*t*4),i=[],a=0;a<t;a++){for(var o=a/t,s=o*o,u=0;u<e;u++){var l=(u<<16|u>>>16)>>>0;l=(((16711935&(l=((252645135&(l=((858993459&(l=((1431655765&l)<<1|(2863311530&l)>>>1)>>>0))<<2|(3435973836&l)>>>2)>>>0))<<4|(4042322160&l)>>>4)>>>0))<<8|(4278255360&l)>>>8)>>>0)/4294967296;var c=Math.sqrt((1-l)/(1+(s*s-1)*l));i[u]=c}for(u=0;u<e;u++){var h=4*(u*t+a),f=(c=i[u],Math.sqrt(1-c*c)),d=u/e,p=2*Math.PI*d;r[h]=f*Math.cos(p),r[h+1]=c,r[h+2]=f*Math.sin(p),r[h+3]=1}}return n.pixels=r,n};var Ui=zi,Hi=Tr.extend({cubemap:null,castShadow:!1,_normalDistribution:null,_brdfLookup:null},{type:"AMBIENT_CUBEMAP_LIGHT",prefilter:function(t,e){if(t.getGLExtension("EXT_shader_texture_lod")){this._brdfLookup||(this._normalDistribution=Ui.generateNormalDistribution(),this._brdfLookup=Ui.integrateBRDF(t,this._normalDistribution));var n=this.cubemap;if(!n.__prefiltered){var r=Ui.prefilterEnvironmentMap(t,n,{encodeRGBM:!0,width:e,height:e},this._normalDistribution,this._brdfLookup);this.cubemap=r.environmentMap,this.cubemap.__prefiltered=!0,n.dispose(t)}}else console.warn("Device not support textureCubeLodEXT")},getBRDFLookup:function(){return this._brdfLookup},uniformTemplates:{ambientCubemapLightColor:{type:"3f",value:function(t){var e=t.color,n=t.intensity;return[e[0]*n,e[1]*n,e[2]*n]}},ambientCubemapLightCubemap:{type:"t",value:function(t){return t.cubemap}},ambientCubemapLightBRDFLookup:{type:"t",value:function(t){return t._brdfLookup}}}}),Vi=Tr.extend({castShadow:!1,coefficients:[]},(function(){this._coefficientsTmpArr=new Ne.a.Float32Array(27)}),{type:"AMBIENT_SH_LIGHT",uniformTemplates:{ambientSHLightColor:{type:"3f",value:function(t){var e=t.color,n=t.intensity;return[e[0]*n,e[1]*n,e[2]*n]}},ambientSHLightCoefficients:{type:"3f",value:function(t){for(var e=t._coefficientsTmpArr,n=0;n<t.coefficients.length;n++)e[n]=t.coefficients[n];return e}}}}),Gi={},Wi=["px","nx","py","ny","pz","nz"];function $i(t,e){var n=t[0],r=t[1],i=t[2];return 0===e?1:1===e?n:2===e?r:3===e?i:4===e?n*i:5===e?r*i:6===e?n*r:7===e?3*i*i-1:n*n-r*r}var Xi={px:[2,1,0,-1,-1,1],nx:[2,1,0,1,-1,-1],py:[0,2,1,1,-1,-1],ny:[0,2,1,1,1,1],pz:[0,1,2,-1,-1,-1],nz:[0,1,2,1,-1,1]};Gi.projectEnvironmentMap=function(t,e,n){var r;(n=n||{}).lod=n.lod||0;var i=new Zr,a=64;"texture2D"===e.textureType?r=new vi({scene:i,environmentMap:e}):(a=e.image&&e.image.px?e.image.px.width:e.width,r=new _i({scene:i,environmentMap:e}));var o=Math.ceil(a/Math.pow(2,n.lod)),s=Math.ceil(a/Math.pow(2,n.lod)),u=new nr({width:o,height:s}),c=new ci;r.material.define("fragment","RGBM_ENCODE"),n.decodeRGBM&&r.material.define("fragment","RGBM_DECODE"),r.material.set("lod",n.lod);for(var h=new fi({texture:u}),f={},d=0;d<Wi.length;d++){f[Wi[d]]=new Uint8Array(o*s*4);var p=h.getCamera(Wi[d]);p.fov=90,c.attach(u),c.bind(t),t.render(i,p),t.gl.readPixels(0,0,o,s,Zn.RGBA,Zn.UNSIGNED_BYTE,f[Wi[d]]),c.unbind(t)}return r.dispose(t),c.dispose(t),u.dispose(t),function(t,e,n,r){for(var i=new Ne.a.Float32Array(27),a=l.create(),o=l.create(),s=l.create(),u=0;u<9;u++){for(var c=l.create(),h=0;h<Wi.length;h++){for(var f=e[Wi[h]],d=l.create(),p=0,m=0,g=Xi[Wi[h]],_=0;_<r;_++)for(var v=0;v<n;v++){a[0]=v/(n-1)*2-1,a[1]=_/(r-1)*2-1,a[2]=-1,l.normalize(a,a),s[0]=a[g[0]]*g[3],s[1]=a[g[1]]*g[4],s[2]=a[g[2]]*g[5],o[0]=f[m++]/255,o[1]=f[m++]/255,o[2]=f[m++]/255;var y=f[m++]/255*8.12;o[0]*=y,o[1]*=y,o[2]*=y,l.scaleAndAdd(d,d,o,$i(s,u)*-a[2]),p+=-a[2]}l.scaleAndAdd(c,c,d,1/p)}i[3*u]=c[0]/6,i[3*u+1]=c[1]/6,i[3*u+2]=c[2]/6}return i}(0,f,o,s)};var qi=Gi,Yi={firstNotNull:function(){for(var t=0,e=arguments.length;t<e;t++)if(null!=arguments[t])return arguments[t]},queryDataIndex:function(t,e){return null!=e.dataIndexInside?e.dataIndexInside:null!=e.dataIndex?a.a.util.isArray(e.dataIndex)?a.a.util.map(e.dataIndex,(function(e){return t.indexOfRawIndex(e)})):t.indexOfRawIndex(e.dataIndex):null!=e.name?a.a.util.isArray(e.name)?a.a.util.map(e.name,(function(e){return t.indexOfName(e)})):t.indexOfName(e.name):void 0}},Zi=mr.extend({dynamic:!1,widthSegments:40,heightSegments:20,phiStart:0,phiLength:2*Math.PI,thetaStart:0,thetaLength:Math.PI,radius:1},(function(){this.build()}),{build:function(){var t=this.heightSegments,e=this.widthSegments,n=this.attributes.position,r=this.attributes.texcoord0,i=this.attributes.normal,a=(e+1)*(t+1);n.init(a),r.init(a),i.init(a);var o,s,u,l,c,h,f,d,p,m,g,_=a>65535?Uint32Array:Uint16Array,v=this.indices=new _(e*t*6),y=this.radius,b=this.phiStart,x=this.phiLength,w=this.thetaStart,T=this.thetaLength,S=[],E=[],C=0,A=1/(y=this.radius);for(f=0;f<=t;f++)for(h=0;h<=e;h++)l=h/e,c=f/t,o=-y*Math.cos(b+l*x)*Math.sin(w+c*T),s=y*Math.cos(w+c*T),u=y*Math.sin(b+l*x)*Math.sin(w+c*T),S[0]=o,S[1]=s,S[2]=u,E[0]=l,E[1]=c,n.set(C,S),r.set(C,E),S[0]*=A,S[1]*=A,S[2]*=A,i.set(C,S),C++;var M=e+1,O=0;for(f=0;f<t;f++)for(h=0;h<e;h++)p=f*M+h,d=f*M+h+1,g=(f+1)*M+h+1,m=(f+1)*M+h,v[O++]=d,v[O++]=p,v[O++]=g,v[O++]=p,v[O++]=m,v[O++]=g;this.boundingBox=new Et,this.boundingBox.max.set(y,y,y),this.boundingBox.min.set(-y,-y,-y)}}),Ki=Tr.extend({castShadow:!1},{type:"AMBIENT_LIGHT",uniformTemplates:{ambientLightColor:{type:"3f",value:function(t){var e=t.color,n=t.intensity;return[e[0]*n,e[1]*n,e[2]*n]}}}}),Ji=Tr.extend({shadowBias:.001,shadowSlopeScale:2,shadowCascade:1,cascadeSplitLogFactor:.2},{type:"DIRECTIONAL_LIGHT",uniformTemplates:{directionalLightDirection:{type:"3f",value:function(t){return t.__dir=t.__dir||new _,t.__dir.copy(t.worldTransform.z).normalize().negate().array}},directionalLightColor:{type:"3f",value:function(t){var e=t.color,n=t.intensity;return[e[0]*n,e[1]*n,e[2]*n]}}},clone:function(){var t=Tr.prototype.clone.call(this);return t.shadowBias=this.shadowBias,t.shadowSlopeScale=this.shadowSlopeScale,t}}),Qi=Tr.extend({range:100,castShadow:!1},{type:"POINT_LIGHT",uniformTemplates:{pointLightPosition:{type:"3f",value:function(t){return t.getWorldPosition().array}},pointLightRange:{type:"1f",value:function(t){return t.range}},pointLightColor:{type:"3f",value:function(t){var e=t.color,n=t.intensity;return[e[0]*n,e[1]*n,e[2]*n]}}},clone:function(){var t=Tr.prototype.clone.call(this);return t.range=this.range,t}}),ta=Tr.extend({range:20,umbraAngle:30,penumbraAngle:45,falloffFactor:2,shadowBias:.001,shadowSlopeScale:2},{type:"SPOT_LIGHT",uniformTemplates:{spotLightPosition:{type:"3f",value:function(t){return t.getWorldPosition().array}},spotLightRange:{type:"1f",value:function(t){return t.range}},spotLightUmbraAngleCosine:{type:"1f",value:function(t){return Math.cos(t.umbraAngle*Math.PI/180)}},spotLightPenumbraAngleCosine:{type:"1f",value:function(t){return Math.cos(t.penumbraAngle*Math.PI/180)}},spotLightFalloffFactor:{type:"1f",value:function(t){return t.falloffFactor}},spotLightDirection:{type:"3f",value:function(t){return t.__dir=t.__dir||new _,t.__dir.copy(t.worldTransform.z).negate().array}},spotLightColor:{type:"3f",value:function(t){var e=t.color,n=t.intensity;return[e[0]*n,e[1]*n,e[2]*n]}}},clone:function(){var t=Tr.prototype.clone.call(this);return t.range=this.range,t.umbraAngle=this.umbraAngle,t.penumbraAngle=this.penumbraAngle,t.falloffFactor=this.falloffFactor,t.shadowBias=this.shadowBias,t.shadowSlopeScale=this.shadowSlopeScale,t}}),ea=function(t,e,n,r){t=t||0,e=e||0,n=n||0,r=r||0,this.array=x.fromValues(t,e,n,r),this._dirty=!0};ea.prototype={constructor:ea,add:function(t){return x.add(this.array,this.array,t.array),this._dirty=!0,this},set:function(t,e,n,r){return this.array[0]=t,this.array[1]=e,this.array[2]=n,this.array[3]=r,this._dirty=!0,this},setArray:function(t){return this.array[0]=t[0],this.array[1]=t[1],this.array[2]=t[2],this.array[3]=t[3],this._dirty=!0,this},clone:function(){return new ea(this.x,this.y,this.z,this.w)},copy:function(t){return x.copy(this.array,t.array),this._dirty=!0,this},dist:function(t){return x.dist(this.array,t.array)},distance:function(t){return x.distance(this.array,t.array)},div:function(t){return x.div(this.array,this.array,t.array),this._dirty=!0,this},divide:function(t){return x.divide(this.array,this.array,t.array),this._dirty=!0,this},dot:function(t){return x.dot(this.array,t.array)},len:function(){return x.len(this.array)},length:function(){return x.length(this.array)},lerp:function(t,e,n){return x.lerp(this.array,t.array,e.array,n),this._dirty=!0,this},min:function(t){return x.min(this.array,this.array,t.array),this._dirty=!0,this},max:function(t){return x.max(this.array,this.array,t.array),this._dirty=!0,this},mul:function(t){return x.mul(this.array,this.array,t.array),this._dirty=!0,this},multiply:function(t){return x.multiply(this.array,this.array,t.array),this._dirty=!0,this},negate:function(){return x.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return x.normalize(this.array,this.array),this._dirty=!0,this},random:function(t){return x.random(this.array,t),this._dirty=!0,this},scale:function(t){return x.scale(this.array,this.array,t),this._dirty=!0,this},scaleAndAdd:function(t,e){return x.scaleAndAdd(this.array,this.array,t.array,e),this._dirty=!0,this},sqrDist:function(t){return x.sqrDist(this.array,t.array)},squaredDistance:function(t){return x.squaredDistance(this.array,t.array)},sqrLen:function(){return x.sqrLen(this.array)},squaredLength:function(){return x.squaredLength(this.array)},sub:function(t){return x.sub(this.array,this.array,t.array),this._dirty=!0,this},subtract:function(t){return x.subtract(this.array,this.array,t.array),this._dirty=!0,this},transformMat4:function(t){return x.transformMat4(this.array,this.array,t.array),this._dirty=!0,this},transformQuat:function(t){return x.transformQuat(this.array,this.array,t.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var na=Object.defineProperty;if(na){var ra=ea.prototype;na(ra,"x",{get:function(){return this.array[0]},set:function(t){this.array[0]=t,this._dirty=!0}}),na(ra,"y",{get:function(){return this.array[1]},set:function(t){this.array[1]=t,this._dirty=!0}}),na(ra,"z",{get:function(){return this.array[2]},set:function(t){this.array[2]=t,this._dirty=!0}}),na(ra,"w",{get:function(){return this.array[3]},set:function(t){this.array[3]=t,this._dirty=!0}})}ea.add=function(t,e,n){return x.add(t.array,e.array,n.array),t._dirty=!0,t},ea.set=function(t,e,n,r,i){x.set(t.array,e,n,r,i),t._dirty=!0},ea.copy=function(t,e){return x.copy(t.array,e.array),t._dirty=!0,t},ea.distance=ea.dist=function(t,e){return x.distance(t.array,e.array)},ea.divide=ea.div=function(t,e,n){return x.divide(t.array,e.array,n.array),t._dirty=!0,t},ea.dot=function(t,e){return x.dot(t.array,e.array)},ea.len=function(t){return x.length(t.array)},ea.lerp=function(t,e,n,r){return x.lerp(t.array,e.array,n.array,r),t._dirty=!0,t},ea.min=function(t,e,n){return x.min(t.array,e.array,n.array),t._dirty=!0,t},ea.max=function(t,e,n){return x.max(t.array,e.array,n.array),t._dirty=!0,t},ea.multiply=ea.mul=function(t,e,n){return x.multiply(t.array,e.array,n.array),t._dirty=!0,t},ea.negate=function(t,e){return x.negate(t.array,e.array),t._dirty=!0,t},ea.normalize=function(t,e){return x.normalize(t.array,e.array),t._dirty=!0,t},ea.random=function(t,e){return x.random(t.array,e),t._dirty=!0,t},ea.scale=function(t,e,n){return x.scale(t.array,e.array,n),t._dirty=!0,t},ea.scaleAndAdd=function(t,e,n,r){return x.scaleAndAdd(t.array,e.array,n.array,r),t._dirty=!0,t},ea.squaredDistance=ea.sqrDist=function(t,e){return x.sqrDist(t.array,e.array)},ea.squaredLength=ea.sqrLen=function(t){return x.sqrLen(t.array)},ea.subtract=ea.sub=function(t,e,n){return x.subtract(t.array,e.array,n.array),t._dirty=!0,t},ea.transformMat4=function(t,e,n){return x.transformMat4(t.array,e.array,n.array),t._dirty=!0,t},ea.transformQuat=function(t,e,n){return x.transformQuat(t.array,e.array,n.array),t._dirty=!0,t};var ia=ea,aa=function(){this.array=T.create(),this._dirty=!0};aa.prototype={constructor:aa,setArray:function(t){for(var e=0;e<this.array.length;e++)this.array[e]=t[e];return this._dirty=!0,this},clone:function(){return(new aa).copy(this)},copy:function(t){return T.copy(this.array,t.array),this._dirty=!0,this},adjoint:function(){return T.adjoint(this.array,this.array),this._dirty=!0,this},determinant:function(){return T.determinant(this.array)},identity:function(){return T.identity(this.array),this._dirty=!0,this},invert:function(){return T.invert(this.array,this.array),this._dirty=!0,this},mul:function(t){return T.mul(this.array,this.array,t.array),this._dirty=!0,this},mulLeft:function(t){return T.mul(this.array,t.array,this.array),this._dirty=!0,this},multiply:function(t){return T.multiply(this.array,this.array,t.array),this._dirty=!0,this},multiplyLeft:function(t){return T.multiply(this.array,t.array,this.array),this._dirty=!0,this},rotate:function(t){return T.rotate(this.array,this.array,t),this._dirty=!0,this},scale:function(t){return T.scale(this.array,this.array,t.array),this._dirty=!0,this},transpose:function(){return T.transpose(this.array,this.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},aa.adjoint=function(t,e){return T.adjoint(t.array,e.array),t._dirty=!0,t},aa.copy=function(t,e){return T.copy(t.array,e.array),t._dirty=!0,t},aa.determinant=function(t){return T.determinant(t.array)},aa.identity=function(t){return T.identity(t.array),t._dirty=!0,t},aa.invert=function(t,e){return T.invert(t.array,e.array),t._dirty=!0,t},aa.multiply=aa.mul=function(t,e,n){return T.mul(t.array,e.array,n.array),t._dirty=!0,t},aa.rotate=function(t,e,n){return T.rotate(t.array,e.array,n),t._dirty=!0,t},aa.scale=function(t,e,n){return T.scale(t.array,e.array,n.array),t._dirty=!0,t},aa.transpose=function(t,e){return T.transpose(t.array,e.array),t._dirty=!0,t};var oa=aa,sa=function(){this.array=E.create(),this._dirty=!0};sa.prototype={constructor:sa,setArray:function(t){for(var e=0;e<this.array.length;e++)this.array[e]=t[e];return this._dirty=!0,this},clone:function(){return(new sa).copy(this)},copy:function(t){return E.copy(this.array,t.array),this._dirty=!0,this},determinant:function(){return E.determinant(this.array)},identity:function(){return E.identity(this.array),this._dirty=!0,this},invert:function(){return E.invert(this.array,this.array),this._dirty=!0,this},mul:function(t){return E.mul(this.array,this.array,t.array),this._dirty=!0,this},mulLeft:function(t){return E.mul(this.array,t.array,this.array),this._dirty=!0,this},multiply:function(t){return E.multiply(this.array,this.array,t.array),this._dirty=!0,this},multiplyLeft:function(t){return E.multiply(this.array,t.array,this.array),this._dirty=!0,this},rotate:function(t){return E.rotate(this.array,this.array,t),this._dirty=!0,this},scale:function(t){return E.scale(this.array,this.array,t.array),this._dirty=!0,this},translate:function(t){return E.translate(this.array,this.array,t.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},sa.copy=function(t,e){return E.copy(t.array,e.array),t._dirty=!0,t},sa.determinant=function(t){return E.determinant(t.array)},sa.identity=function(t){return E.identity(t.array),t._dirty=!0,t},sa.invert=function(t,e){return E.invert(t.array,e.array),t._dirty=!0,t},sa.multiply=sa.mul=function(t,e,n){return E.mul(t.array,e.array,n.array),t._dirty=!0,t},sa.rotate=function(t,e,n){return E.rotate(t.array,e.array,n),t._dirty=!0,t},sa.scale=function(t,e,n){return E.scale(t.array,e.array,n.array),t._dirty=!0,t},sa.translate=function(t,e,n){return E.translate(t.array,e.array,n.array),t._dirty=!0,t};var ua=sa,la=function(){this.array=A.create(),this._dirty=!0};la.prototype={constructor:la,setArray:function(t){for(var e=0;e<this.array.length;e++)this.array[e]=t[e];return this._dirty=!0,this},adjoint:function(){return A.adjoint(this.array,this.array),this._dirty=!0,this},clone:function(){return(new la).copy(this)},copy:function(t){return A.copy(this.array,t.array),this._dirty=!0,this},determinant:function(){return A.determinant(this.array)},fromMat2d:function(t){return A.fromMat2d(this.array,t.array),this._dirty=!0,this},fromMat4:function(t){return A.fromMat4(this.array,t.array),this._dirty=!0,this},fromQuat:function(t){return A.fromQuat(this.array,t.array),this._dirty=!0,this},identity:function(){return A.identity(this.array),this._dirty=!0,this},invert:function(){return A.invert(this.array,this.array),this._dirty=!0,this},mul:function(t){return A.mul(this.array,this.array,t.array),this._dirty=!0,this},mulLeft:function(t){return A.mul(this.array,t.array,this.array),this._dirty=!0,this},multiply:function(t){return A.multiply(this.array,this.array,t.array),this._dirty=!0,this},multiplyLeft:function(t){return A.multiply(this.array,t.array,this.array),this._dirty=!0,this},rotate:function(t){return A.rotate(this.array,this.array,t),this._dirty=!0,this},scale:function(t){return A.scale(this.array,this.array,t.array),this._dirty=!0,this},translate:function(t){return A.translate(this.array,this.array,t.array),this._dirty=!0,this},normalFromMat4:function(t){return A.normalFromMat4(this.array,t.array),this._dirty=!0,this},transpose:function(){return A.transpose(this.array,this.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},la.adjoint=function(t,e){return A.adjoint(t.array,e.array),t._dirty=!0,t},la.copy=function(t,e){return A.copy(t.array,e.array),t._dirty=!0,t},la.determinant=function(t){return A.determinant(t.array)},la.identity=function(t){return A.identity(t.array),t._dirty=!0,t},la.invert=function(t,e){return A.invert(t.array,e.array),t},la.multiply=la.mul=function(t,e,n){return A.mul(t.array,e.array,n.array),t._dirty=!0,t},la.fromMat2d=function(t,e){return A.fromMat2d(t.array,e.array),t._dirty=!0,t},la.fromMat4=function(t,e){return A.fromMat4(t.array,e.array),t._dirty=!0,t},la.fromQuat=function(t,e){return A.fromQuat(t.array,e.array),t._dirty=!0,t},la.normalFromMat4=function(t,e){return A.normalFromMat4(t.array,e.array),t._dirty=!0,t},la.rotate=function(t,e,n){return A.rotate(t.array,e.array,n),t._dirty=!0,t},la.scale=function(t,e,n){return A.scale(t.array,e.array,n.array),t._dirty=!0,t},la.transpose=function(t,e){return A.transpose(t.array,e.array),t._dirty=!0,t},la.translate=function(t,e,n){return A.translate(t.array,e.array,n.array),t._dirty=!0,t};var ca=la,ha=n("06ad"),fa=n.n(ha),da={_animators:null,getAnimators:function(){return this._animators=this._animators||[],this._animators},animate:function(t,e){this._animators=this._animators||[];var n;if(t){for(var r=t.split("."),i=this,a=0,o=r.length;a<o;a++)i&&(i=i[r[a]]);i&&(n=i)}else n=this;if(null==n)throw new Error("Target "+t+" not exists");var s=this._animators,u=new fa.a(n,e),l=this;return u.during((function(){l.__zr&&l.__zr.refresh()})).done((function(){var t=s.indexOf(u);t>=0&&s.splice(t,1)})),s.push(u),this.__zr&&this.__zr.animation.addAnimator(u),u},stopAnimation:function(t){this._animators=this._animators||[];for(var e=this._animators,n=e.length,r=0;r<n;r++)e[r].stop(t);return e.length=0,this},addAnimatorsToZr:function(t){if(this._animators)for(var e=0;e<this._animators.length;e++)t.animation.addAnimator(this._animators[e])},removeAnimatorsFromZr:function(t){if(this._animators)for(var e=0;e<this._animators.length;e++)t.animation.removeAnimator(this._animators[e])}};function pa(t){return t instanceof HTMLCanvasElement||t instanceof HTMLImageElement||t instanceof Image}a.a.util.extend(Mt.prototype,da),In.import("\n@export clay.util.rand\nhighp float rand(vec2 uv) {\n const highp float a = 12.9898, b = 78.233, c = 43758.5453;\n highp float dt = dot(uv.xy, vec2(a,b)), sn = mod(dt, 3.141592653589793);\n return fract(sin(sn) * c);\n}\n@end\n@export clay.util.calculate_attenuation\nuniform float attenuationFactor : 5.0;\nfloat lightAttenuation(float dist, float range)\n{\n float attenuation = 1.0;\n attenuation = dist*dist/(range*range+1.0);\n float att_s = attenuationFactor;\n attenuation = 1.0/(attenuation*att_s+1.0);\n att_s = 1.0/(att_s+1.0);\n attenuation = attenuation - att_s;\n attenuation /= 1.0 - att_s;\n return clamp(attenuation, 0.0, 1.0);\n}\n@end\n@export clay.util.edge_factor\n#ifdef SUPPORT_STANDARD_DERIVATIVES\nfloat edgeFactor(float width)\n{\n vec3 d = fwidth(v_Barycentric);\n vec3 a3 = smoothstep(vec3(0.0), d * width, v_Barycentric);\n return min(min(a3.x, a3.y), a3.z);\n}\n#else\nfloat edgeFactor(float width)\n{\n return 1.0;\n}\n#endif\n@end\n@export clay.util.encode_float\nvec4 encodeFloat(const in float depth)\n{\n const vec4 bitShifts = vec4(256.0*256.0*256.0, 256.0*256.0, 256.0, 1.0);\n const vec4 bit_mask = vec4(0.0, 1.0/256.0, 1.0/256.0, 1.0/256.0);\n vec4 res = fract(depth * bitShifts);\n res -= res.xxyz * bit_mask;\n return res;\n}\n@end\n@export clay.util.decode_float\nfloat decodeFloat(const in vec4 color)\n{\n const vec4 bitShifts = vec4(1.0/(256.0*256.0*256.0), 1.0/(256.0*256.0), 1.0/256.0, 1.0);\n return dot(color, bitShifts);\n}\n@end\n@export clay.util.float\n@import clay.util.encode_float\n@import clay.util.decode_float\n@end\n@export clay.util.rgbm_decode\nvec3 RGBMDecode(vec4 rgbm, float range) {\n return range * rgbm.rgb * rgbm.a;\n}\n@end\n@export clay.util.rgbm_encode\nvec4 RGBMEncode(vec3 color, float range) {\n if (dot(color, color) == 0.0) {\n return vec4(0.0);\n }\n vec4 rgbm;\n color /= range;\n rgbm.a = clamp(max(max(color.r, color.g), max(color.b, 1e-6)), 0.0, 1.0);\n rgbm.a = ceil(rgbm.a * 255.0) / 255.0;\n rgbm.rgb = color / rgbm.a;\n return rgbm;\n}\n@end\n@export clay.util.rgbm\n@import clay.util.rgbm_decode\n@import clay.util.rgbm_encode\nvec4 decodeHDR(vec4 color)\n{\n#if defined(RGBM_DECODE) || defined(RGBM)\n return vec4(RGBMDecode(color, 8.12), 1.0);\n#else\n return color;\n#endif\n}\nvec4 encodeHDR(vec4 color)\n{\n#if defined(RGBM_ENCODE) || defined(RGBM)\n return RGBMEncode(color.xyz, 8.12);\n#else\n return color;\n#endif\n}\n@end\n@export clay.util.srgb\nvec4 sRGBToLinear(in vec4 value) {\n return vec4(mix(pow(value.rgb * 0.9478672986 + vec3(0.0521327014), vec3(2.4)), value.rgb * 0.0773993808, vec3(lessThanEqual(value.rgb, vec3(0.04045)))), value.w);\n}\nvec4 linearTosRGB(in vec4 value) {\n return vec4(mix(pow(value.rgb, vec3(0.41666)) * 1.055 - vec3(0.055), value.rgb * 12.92, vec3(lessThanEqual(value.rgb, vec3(0.0031308)))), value.w);\n}\n@end\n@export clay.chunk.skinning_header\n#ifdef SKINNING\nattribute vec3 weight : WEIGHT;\nattribute vec4 joint : JOINT;\n#ifdef USE_SKIN_MATRICES_TEXTURE\nuniform sampler2D skinMatricesTexture : ignore;\nuniform float skinMatricesTextureSize: ignore;\nmat4 getSkinMatrix(sampler2D tex, float idx) {\n float j = idx * 4.0;\n float x = mod(j, skinMatricesTextureSize);\n float y = floor(j / skinMatricesTextureSize) + 0.5;\n vec2 scale = vec2(skinMatricesTextureSize);\n return mat4(\n texture2D(tex, vec2(x + 0.5, y) / scale),\n texture2D(tex, vec2(x + 1.5, y) / scale),\n texture2D(tex, vec2(x + 2.5, y) / scale),\n texture2D(tex, vec2(x + 3.5, y) / scale)\n );\n}\nmat4 getSkinMatrix(float idx) {\n return getSkinMatrix(skinMatricesTexture, idx);\n}\n#else\nuniform mat4 skinMatrix[JOINT_COUNT] : SKIN_MATRIX;\nmat4 getSkinMatrix(float idx) {\n return skinMatrix[int(idx)];\n}\n#endif\n#endif\n@end\n@export clay.chunk.skin_matrix\nmat4 skinMatrixWS = getSkinMatrix(joint.x) * weight.x;\nif (weight.y > 1e-4)\n{\n skinMatrixWS += getSkinMatrix(joint.y) * weight.y;\n}\nif (weight.z > 1e-4)\n{\n skinMatrixWS += getSkinMatrix(joint.z) * weight.z;\n}\nfloat weightW = 1.0-weight.x-weight.y-weight.z;\nif (weightW > 1e-4)\n{\n skinMatrixWS += getSkinMatrix(joint.w) * weightW;\n}\n@end\n@export clay.chunk.instancing_header\n#ifdef INSTANCING\nattribute vec4 instanceMat1;\nattribute vec4 instanceMat2;\nattribute vec4 instanceMat3;\n#endif\n@end\n@export clay.chunk.instancing_matrix\nmat4 instanceMat = mat4(\n vec4(instanceMat1.xyz, 0.0),\n vec4(instanceMat2.xyz, 0.0),\n vec4(instanceMat3.xyz, 0.0),\n vec4(instanceMat1.w, instanceMat2.w, instanceMat3.w, 1.0)\n);\n@end\n@export clay.util.parallax_correct\nvec3 parallaxCorrect(in vec3 dir, in vec3 pos, in vec3 boxMin, in vec3 boxMax) {\n vec3 first = (boxMax - pos) / dir;\n vec3 second = (boxMin - pos) / dir;\n vec3 further = max(first, second);\n float dist = min(further.x, min(further.y, further.z));\n vec3 fixedPos = pos + dir * dist;\n vec3 boxCenter = (boxMax + boxMin) * 0.5;\n return normalize(fixedPos - boxCenter);\n}\n@end\n@export clay.util.clamp_sample\nvec4 clampSample(const in sampler2D texture, const in vec2 coord)\n{\n#ifdef STEREO\n float eye = step(0.5, coord.x) * 0.5;\n vec2 coordClamped = clamp(coord, vec2(eye, 0.0), vec2(0.5 + eye, 1.0));\n#else\n vec2 coordClamped = clamp(coord, vec2(0.0), vec2(1.0));\n#endif\n return texture2D(texture, coordClamped);\n}\n@end\n@export clay.util.ACES\nvec3 ACESToneMapping(vec3 color)\n{\n const float A = 2.51;\n const float B = 0.03;\n const float C = 2.43;\n const float D = 0.59;\n const float E = 0.14;\n return (color * (A * color + B)) / (color * (C * color + D) + E);\n}\n@end"),In.import(Pn),In.import("\n@export ecgl.common.transformUniforms\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform mat4 worldInverseTranspose : WORLDINVERSETRANSPOSE;\nuniform mat4 world : WORLD;\n@end\n\n@export ecgl.common.attributes\nattribute vec3 position : POSITION;\nattribute vec2 texcoord : TEXCOORD_0;\nattribute vec3 normal : NORMAL;\n@end\n\n@export ecgl.common.uv.header\nuniform vec2 uvRepeat : [1.0, 1.0];\nuniform vec2 uvOffset : [0.0, 0.0];\nuniform vec2 detailUvRepeat : [1.0, 1.0];\nuniform vec2 detailUvOffset : [0.0, 0.0];\n\nvarying vec2 v_Texcoord;\nvarying vec2 v_DetailTexcoord;\n@end\n\n@export ecgl.common.uv.main\nv_Texcoord = texcoord * uvRepeat + uvOffset;\nv_DetailTexcoord = texcoord * detailUvRepeat + detailUvOffset;\n@end\n\n@export ecgl.common.uv.fragmentHeader\nvarying vec2 v_Texcoord;\nvarying vec2 v_DetailTexcoord;\n@end\n\n\n@export ecgl.common.albedo.main\n\n vec4 albedoTexel = vec4(1.0);\n#ifdef DIFFUSEMAP_ENABLED\n albedoTexel = texture2D(diffuseMap, v_Texcoord);\n #ifdef SRGB_DECODE\n albedoTexel = sRGBToLinear(albedoTexel);\n #endif\n#endif\n\n#ifdef DETAILMAP_ENABLED\n vec4 detailTexel = texture2D(detailMap, v_DetailTexcoord);\n #ifdef SRGB_DECODE\n detailTexel = sRGBToLinear(detailTexel);\n #endif\n albedoTexel.rgb = mix(albedoTexel.rgb, detailTexel.rgb, detailTexel.a);\n albedoTexel.a = detailTexel.a + (1.0 - detailTexel.a) * albedoTexel.a;\n#endif\n\n@end\n\n@export ecgl.common.wireframe.vertexHeader\n\n#ifdef WIREFRAME_QUAD\nattribute vec4 barycentric;\nvarying vec4 v_Barycentric;\n#elif defined(WIREFRAME_TRIANGLE)\nattribute vec3 barycentric;\nvarying vec3 v_Barycentric;\n#endif\n\n@end\n\n@export ecgl.common.wireframe.vertexMain\n\n#if defined(WIREFRAME_QUAD) || defined(WIREFRAME_TRIANGLE)\n v_Barycentric = barycentric;\n#endif\n\n@end\n\n\n@export ecgl.common.wireframe.fragmentHeader\n\nuniform float wireframeLineWidth : 1;\nuniform vec4 wireframeLineColor: [0, 0, 0, 0.5];\n\n#ifdef WIREFRAME_QUAD\nvarying vec4 v_Barycentric;\nfloat edgeFactor () {\n vec4 d = fwidth(v_Barycentric);\n vec4 a4 = smoothstep(vec4(0.0), d * wireframeLineWidth, v_Barycentric);\n return min(min(min(a4.x, a4.y), a4.z), a4.w);\n}\n#elif defined(WIREFRAME_TRIANGLE)\nvarying vec3 v_Barycentric;\nfloat edgeFactor () {\n vec3 d = fwidth(v_Barycentric);\n vec3 a3 = smoothstep(vec3(0.0), d * wireframeLineWidth, v_Barycentric);\n return min(min(a3.x, a3.y), a3.z);\n}\n#endif\n\n@end\n\n\n@export ecgl.common.wireframe.fragmentMain\n\n#if defined(WIREFRAME_QUAD) || defined(WIREFRAME_TRIANGLE)\n if (wireframeLineWidth > 0.) {\n vec4 lineColor = wireframeLineColor;\n#ifdef SRGB_DECODE\n lineColor = sRGBToLinear(lineColor);\n#endif\n\n gl_FragColor.rgb = mix(gl_FragColor.rgb, lineColor.rgb, (1.0 - edgeFactor()) * lineColor.a);\n }\n#endif\n@end\n\n\n\n\n@export ecgl.common.bumpMap.header\n\n#ifdef BUMPMAP_ENABLED\nuniform sampler2D bumpMap;\nuniform float bumpScale : 1.0;\n\n\nvec3 bumpNormal(vec3 surfPos, vec3 surfNormal, vec3 baseNormal)\n{\n vec2 dSTdx = dFdx(v_Texcoord);\n vec2 dSTdy = dFdy(v_Texcoord);\n\n float Hll = bumpScale * texture2D(bumpMap, v_Texcoord).x;\n float dHx = bumpScale * texture2D(bumpMap, v_Texcoord + dSTdx).x - Hll;\n float dHy = bumpScale * texture2D(bumpMap, v_Texcoord + dSTdy).x - Hll;\n\n vec3 vSigmaX = dFdx(surfPos);\n vec3 vSigmaY = dFdy(surfPos);\n vec3 vN = surfNormal;\n\n vec3 R1 = cross(vSigmaY, vN);\n vec3 R2 = cross(vN, vSigmaX);\n\n float fDet = dot(vSigmaX, R1);\n\n vec3 vGrad = sign(fDet) * (dHx * R1 + dHy * R2);\n return normalize(abs(fDet) * baseNormal - vGrad);\n\n}\n#endif\n\n@end\n\n@export ecgl.common.normalMap.vertexHeader\n\n#ifdef NORMALMAP_ENABLED\nattribute vec4 tangent : TANGENT;\nvarying vec3 v_Tangent;\nvarying vec3 v_Bitangent;\n#endif\n\n@end\n\n@export ecgl.common.normalMap.vertexMain\n\n#ifdef NORMALMAP_ENABLED\n if (dot(tangent, tangent) > 0.0) {\n v_Tangent = normalize((worldInverseTranspose * vec4(tangent.xyz, 0.0)).xyz);\n v_Bitangent = normalize(cross(v_Normal, v_Tangent) * tangent.w);\n }\n#endif\n\n@end\n\n\n@export ecgl.common.normalMap.fragmentHeader\n\n#ifdef NORMALMAP_ENABLED\nuniform sampler2D normalMap;\nvarying vec3 v_Tangent;\nvarying vec3 v_Bitangent;\n#endif\n\n@end\n\n@export ecgl.common.normalMap.fragmentMain\n#ifdef NORMALMAP_ENABLED\n if (dot(v_Tangent, v_Tangent) > 0.0) {\n vec3 normalTexel = texture2D(normalMap, v_DetailTexcoord).xyz;\n if (dot(normalTexel, normalTexel) > 0.0) { N = normalTexel * 2.0 - 1.0;\n mat3 tbn = mat3(v_Tangent, v_Bitangent, v_Normal);\n N = normalize(tbn * N);\n }\n }\n#endif\n@end\n\n\n\n@export ecgl.common.vertexAnimation.header\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nattribute vec3 prevNormal;\nuniform float percent;\n#endif\n\n@end\n\n@export ecgl.common.vertexAnimation.main\n\n#ifdef VERTEX_ANIMATION\n vec3 pos = mix(prevPosition, position, percent);\n vec3 norm = mix(prevNormal, normal, percent);\n#else\n vec3 pos = position;\n vec3 norm = normal;\n#endif\n\n@end\n\n\n@export ecgl.common.ssaoMap.header\n#ifdef SSAOMAP_ENABLED\nuniform sampler2D ssaoMap;\nuniform vec4 viewport : VIEWPORT;\n#endif\n@end\n\n@export ecgl.common.ssaoMap.main\n float ao = 1.0;\n#ifdef SSAOMAP_ENABLED\n ao = texture2D(ssaoMap, (gl_FragCoord.xy - viewport.xy) / viewport.zw).r;\n#endif\n@end\n\n\n\n\n@export ecgl.common.diffuseLayer.header\n\n#if (LAYER_DIFFUSEMAP_COUNT > 0)\nuniform float layerDiffuseIntensity[LAYER_DIFFUSEMAP_COUNT];\nuniform sampler2D layerDiffuseMap[LAYER_DIFFUSEMAP_COUNT];\n#endif\n\n@end\n\n@export ecgl.common.emissiveLayer.header\n\n#if (LAYER_EMISSIVEMAP_COUNT > 0)\nuniform float layerEmissionIntensity[LAYER_EMISSIVEMAP_COUNT];\nuniform sampler2D layerEmissiveMap[LAYER_EMISSIVEMAP_COUNT];\n#endif\n\n@end\n\n@export ecgl.common.layers.header\n@import ecgl.common.diffuseLayer.header\n@import ecgl.common.emissiveLayer.header\n@end\n\n@export ecgl.common.diffuseLayer.main\n\n#if (LAYER_DIFFUSEMAP_COUNT > 0)\n for (int _idx_ = 0; _idx_ < LAYER_DIFFUSEMAP_COUNT; _idx_++) {{\n float intensity = layerDiffuseIntensity[_idx_];\n vec4 texel2 = texture2D(layerDiffuseMap[_idx_], v_Texcoord);\n #ifdef SRGB_DECODE\n texel2 = sRGBToLinear(texel2);\n #endif\n albedoTexel.rgb = mix(albedoTexel.rgb, texel2.rgb * intensity, texel2.a);\n albedoTexel.a = texel2.a + (1.0 - texel2.a) * albedoTexel.a;\n }}\n#endif\n\n@end\n\n@export ecgl.common.emissiveLayer.main\n\n#if (LAYER_EMISSIVEMAP_COUNT > 0)\n for (int _idx_ = 0; _idx_ < LAYER_EMISSIVEMAP_COUNT; _idx_++)\n {{\n vec4 texel2 = texture2D(layerEmissiveMap[_idx_], v_Texcoord) * layerEmissionIntensity[_idx_];\n #ifdef SRGB_DECODE\n texel2 = sRGBToLinear(texel2);\n #endif\n float intensity = layerEmissionIntensity[_idx_];\n gl_FragColor.rgb += texel2.rgb * texel2.a * intensity;\n }}\n#endif\n\n@end\n"),In.import("@export ecgl.color.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\n@import ecgl.common.uv.header\n\nattribute vec2 texcoord : TEXCOORD_0;\nattribute vec3 position: POSITION;\n\n@import ecgl.common.wireframe.vertexHeader\n\n#ifdef VERTEX_COLOR\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n#endif\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nuniform float percent : 1.0;\n#endif\n\nvoid main()\n{\n#ifdef VERTEX_ANIMATION\n vec3 pos = mix(prevPosition, position, percent);\n#else\n vec3 pos = position;\n#endif\n\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n\n @import ecgl.common.uv.main\n\n#ifdef VERTEX_COLOR\n v_Color = a_Color;\n#endif\n\n @import ecgl.common.wireframe.vertexMain\n\n}\n\n@end\n\n@export ecgl.color.fragment\n\n#define LAYER_DIFFUSEMAP_COUNT 0\n#define LAYER_EMISSIVEMAP_COUNT 0\n\nuniform sampler2D diffuseMap;\nuniform sampler2D detailMap;\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\n@import ecgl.common.layers.header\n\n@import ecgl.common.uv.fragmentHeader\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.util.srgb\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color);\n#else\n gl_FragColor = color;\n#endif\n\n#ifdef VERTEX_COLOR\n gl_FragColor *= v_Color;\n#endif\n\n @import ecgl.common.albedo.main\n\n @import ecgl.common.diffuseLayer.main\n\n gl_FragColor *= albedoTexel;\n\n @import ecgl.common.emissiveLayer.main\n\n @import ecgl.common.wireframe.fragmentMain\n\n}\n@end"),In.import("/**\n * http: */\n\n@export ecgl.lambert.vertex\n\n@import ecgl.common.transformUniforms\n\n@import ecgl.common.uv.header\n\n\n@import ecgl.common.attributes\n\n@import ecgl.common.wireframe.vertexHeader\n\n#ifdef VERTEX_COLOR\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n#endif\n\n\n@import ecgl.common.vertexAnimation.header\n\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nvoid main()\n{\n @import ecgl.common.uv.main\n\n @import ecgl.common.vertexAnimation.main\n\n\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n\n v_Normal = normalize((worldInverseTranspose * vec4(norm, 0.0)).xyz);\n v_WorldPosition = (world * vec4(pos, 1.0)).xyz;\n\n#ifdef VERTEX_COLOR\n v_Color = a_Color;\n#endif\n\n @import ecgl.common.wireframe.vertexMain\n}\n\n@end\n\n\n@export ecgl.lambert.fragment\n\n#define LAYER_DIFFUSEMAP_COUNT 0\n#define LAYER_EMISSIVEMAP_COUNT 0\n\n#define NORMAL_UP_AXIS 1\n#define NORMAL_FRONT_AXIS 2\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform sampler2D diffuseMap;\nuniform sampler2D detailMap;\n\n@import ecgl.common.layers.header\n\nuniform float emissionIntensity: 1.0;\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nuniform mat4 viewInverse : VIEWINVERSE;\n\n#ifdef AMBIENT_LIGHT_COUNT\n@import clay.header.ambient_light\n#endif\n#ifdef AMBIENT_SH_LIGHT_COUNT\n@import clay.header.ambient_sh_light\n#endif\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n@import clay.header.directional_light\n#endif\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\n\n@import ecgl.common.ssaoMap.header\n\n@import ecgl.common.bumpMap.header\n\n@import clay.util.srgb\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.plugin.compute_shadow_map\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color);\n#else\n gl_FragColor = color;\n#endif\n\n#ifdef VERTEX_COLOR\n #ifdef SRGB_DECODE\n gl_FragColor *= sRGBToLinear(v_Color);\n #else\n gl_FragColor *= v_Color;\n #endif\n#endif\n\n @import ecgl.common.albedo.main\n\n @import ecgl.common.diffuseLayer.main\n\n gl_FragColor *= albedoTexel;\n\n vec3 N = v_Normal;\n#ifdef DOUBLE_SIDED\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(eyePos - v_WorldPosition);\n\n if (dot(N, V) < 0.0) {\n N = -N;\n }\n#endif\n\n float ambientFactor = 1.0;\n\n#ifdef BUMPMAP_ENABLED\n N = bumpNormal(v_WorldPosition, v_Normal, N);\n ambientFactor = dot(v_Normal, N);\n#endif\n\n vec3 N2 = vec3(N.x, N[NORMAL_UP_AXIS], N[NORMAL_FRONT_AXIS]);\n\n vec3 diffuseColor = vec3(0.0, 0.0, 0.0);\n\n @import ecgl.common.ssaoMap.main\n\n#ifdef AMBIENT_LIGHT_COUNT\n for(int i = 0; i < AMBIENT_LIGHT_COUNT; i++)\n {\n diffuseColor += ambientLightColor[i] * ambientFactor * ao;\n }\n#endif\n#ifdef AMBIENT_SH_LIGHT_COUNT\n for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)\n {{\n diffuseColor += calcAmbientSHLight(_idx_, N2) * ambientSHLightColor[_idx_] * ao;\n }}\n#endif\n#ifdef DIRECTIONAL_LIGHT_COUNT\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\n if(shadowEnabled)\n {\n computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\n }\n#endif\n for(int i = 0; i < DIRECTIONAL_LIGHT_COUNT; i++)\n {\n vec3 lightDirection = -directionalLightDirection[i];\n vec3 lightColor = directionalLightColor[i];\n\n float shadowContrib = 1.0;\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n if (shadowEnabled)\n {\n shadowContrib = shadowContribsDir[i];\n }\n#endif\n\n float ndl = dot(N, normalize(lightDirection)) * shadowContrib;\n\n diffuseColor += lightColor * clamp(ndl, 0.0, 1.0);\n }\n#endif\n\n gl_FragColor.rgb *= diffuseColor;\n\n @import ecgl.common.emissiveLayer.main\n\n @import ecgl.common.wireframe.fragmentMain\n}\n\n@end"),In.import("@export ecgl.realistic.vertex\n\n@import ecgl.common.transformUniforms\n\n@import ecgl.common.uv.header\n\n@import ecgl.common.attributes\n\n\n@import ecgl.common.wireframe.vertexHeader\n\n#ifdef VERTEX_COLOR\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n#endif\n\n#ifdef NORMALMAP_ENABLED\nattribute vec4 tangent : TANGENT;\nvarying vec3 v_Tangent;\nvarying vec3 v_Bitangent;\n#endif\n\n@import ecgl.common.vertexAnimation.header\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nvoid main()\n{\n\n @import ecgl.common.uv.main\n\n @import ecgl.common.vertexAnimation.main\n\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n\n v_Normal = normalize((worldInverseTranspose * vec4(norm, 0.0)).xyz);\n v_WorldPosition = (world * vec4(pos, 1.0)).xyz;\n\n#ifdef VERTEX_COLOR\n v_Color = a_Color;\n#endif\n\n#ifdef NORMALMAP_ENABLED\n v_Tangent = normalize((worldInverseTranspose * vec4(tangent.xyz, 0.0)).xyz);\n v_Bitangent = normalize(cross(v_Normal, v_Tangent) * tangent.w);\n#endif\n\n @import ecgl.common.wireframe.vertexMain\n\n}\n\n@end\n\n\n\n@export ecgl.realistic.fragment\n\n#define LAYER_DIFFUSEMAP_COUNT 0\n#define LAYER_EMISSIVEMAP_COUNT 0\n#define PI 3.14159265358979\n#define ROUGHNESS_CHANEL 0\n#define METALNESS_CHANEL 1\n\n#define NORMAL_UP_AXIS 1\n#define NORMAL_FRONT_AXIS 2\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform sampler2D diffuseMap;\n\nuniform sampler2D detailMap;\nuniform sampler2D metalnessMap;\nuniform sampler2D roughnessMap;\n\n@import ecgl.common.layers.header\n\nuniform float emissionIntensity: 1.0;\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nuniform float metalness : 0.0;\nuniform float roughness : 0.5;\n\nuniform mat4 viewInverse : VIEWINVERSE;\n\n#ifdef AMBIENT_LIGHT_COUNT\n@import clay.header.ambient_light\n#endif\n\n#ifdef AMBIENT_SH_LIGHT_COUNT\n@import clay.header.ambient_sh_light\n#endif\n\n#ifdef AMBIENT_CUBEMAP_LIGHT_COUNT\n@import clay.header.ambient_cubemap_light\n#endif\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n@import clay.header.directional_light\n#endif\n\n@import ecgl.common.normalMap.fragmentHeader\n\n@import ecgl.common.ssaoMap.header\n\n@import ecgl.common.bumpMap.header\n\n@import clay.util.srgb\n\n@import clay.util.rgbm\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.plugin.compute_shadow_map\n\nvec3 F_Schlick(float ndv, vec3 spec) {\n return spec + (1.0 - spec) * pow(1.0 - ndv, 5.0);\n}\n\nfloat D_Phong(float g, float ndh) {\n float a = pow(8192.0, g);\n return (a + 2.0) / 8.0 * pow(ndh, a);\n}\n\nvoid main()\n{\n vec4 albedoColor = color;\n\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(eyePos - v_WorldPosition);\n#ifdef VERTEX_COLOR\n #ifdef SRGB_DECODE\n albedoColor *= sRGBToLinear(v_Color);\n #else\n albedoColor *= v_Color;\n #endif\n#endif\n\n @import ecgl.common.albedo.main\n\n @import ecgl.common.diffuseLayer.main\n\n albedoColor *= albedoTexel;\n\n float m = metalness;\n\n#ifdef METALNESSMAP_ENABLED\n float m2 = texture2D(metalnessMap, v_DetailTexcoord)[METALNESS_CHANEL];\n m = clamp(m2 + (m - 0.5) * 2.0, 0.0, 1.0);\n#endif\n\n vec3 baseColor = albedoColor.rgb;\n albedoColor.rgb = baseColor * (1.0 - m);\n vec3 specFactor = mix(vec3(0.04), baseColor, m);\n\n float g = 1.0 - roughness;\n\n#ifdef ROUGHNESSMAP_ENABLED\n float g2 = 1.0 - texture2D(roughnessMap, v_DetailTexcoord)[ROUGHNESS_CHANEL];\n g = clamp(g2 + (g - 0.5) * 2.0, 0.0, 1.0);\n#endif\n\n vec3 N = v_Normal;\n\n#ifdef DOUBLE_SIDED\n if (dot(N, V) < 0.0) {\n N = -N;\n }\n#endif\n\n float ambientFactor = 1.0;\n\n#ifdef BUMPMAP_ENABLED\n N = bumpNormal(v_WorldPosition, v_Normal, N);\n ambientFactor = dot(v_Normal, N);\n#endif\n\n@import ecgl.common.normalMap.fragmentMain\n\n vec3 N2 = vec3(N.x, N[NORMAL_UP_AXIS], N[NORMAL_FRONT_AXIS]);\n\n vec3 diffuseTerm = vec3(0.0);\n vec3 specularTerm = vec3(0.0);\n\n float ndv = clamp(dot(N, V), 0.0, 1.0);\n vec3 fresnelTerm = F_Schlick(ndv, specFactor);\n\n @import ecgl.common.ssaoMap.main\n\n#ifdef AMBIENT_LIGHT_COUNT\n for(int _idx_ = 0; _idx_ < AMBIENT_LIGHT_COUNT; _idx_++)\n {{\n diffuseTerm += ambientLightColor[_idx_] * ambientFactor * ao;\n }}\n#endif\n\n#ifdef AMBIENT_SH_LIGHT_COUNT\n for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)\n {{\n diffuseTerm += calcAmbientSHLight(_idx_, N2) * ambientSHLightColor[_idx_] * ao;\n }}\n#endif\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\n if(shadowEnabled)\n {\n computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\n }\n#endif\n for(int _idx_ = 0; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++)\n {{\n vec3 L = -directionalLightDirection[_idx_];\n vec3 lc = directionalLightColor[_idx_];\n\n vec3 H = normalize(L + V);\n float ndl = clamp(dot(N, normalize(L)), 0.0, 1.0);\n float ndh = clamp(dot(N, H), 0.0, 1.0);\n\n float shadowContrib = 1.0;\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n if (shadowEnabled)\n {\n shadowContrib = shadowContribsDir[_idx_];\n }\n#endif\n\n vec3 li = lc * ndl * shadowContrib;\n\n diffuseTerm += li;\n specularTerm += li * fresnelTerm * D_Phong(g, ndh);\n }}\n#endif\n\n\n#ifdef AMBIENT_CUBEMAP_LIGHT_COUNT\n vec3 L = reflect(-V, N);\n L = vec3(L.x, L[NORMAL_UP_AXIS], L[NORMAL_FRONT_AXIS]);\n float rough2 = clamp(1.0 - g, 0.0, 1.0);\n float bias2 = rough2 * 5.0;\n vec2 brdfParam2 = texture2D(ambientCubemapLightBRDFLookup[0], vec2(rough2, ndv)).xy;\n vec3 envWeight2 = specFactor * brdfParam2.x + brdfParam2.y;\n vec3 envTexel2;\n for(int _idx_ = 0; _idx_ < AMBIENT_CUBEMAP_LIGHT_COUNT; _idx_++)\n {{\n envTexel2 = RGBMDecode(textureCubeLodEXT(ambientCubemapLightCubemap[_idx_], L, bias2), 8.12);\n specularTerm += ambientCubemapLightColor[_idx_] * envTexel2 * envWeight2 * ao;\n }}\n#endif\n\n gl_FragColor.rgb = albedoColor.rgb * diffuseTerm + specularTerm;\n gl_FragColor.a = albedoColor.a;\n\n#ifdef SRGB_ENCODE\n gl_FragColor = linearTosRGB(gl_FragColor);\n#endif\n\n @import ecgl.common.emissiveLayer.main\n\n @import ecgl.common.wireframe.fragmentMain\n}\n\n@end"),In.import("@export ecgl.hatching.vertex\n\n@import ecgl.realistic.vertex\n\n@end\n\n\n@export ecgl.hatching.fragment\n\n#define NORMAL_UP_AXIS 1\n#define NORMAL_FRONT_AXIS 2\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform vec4 color : [0.0, 0.0, 0.0, 1.0];\nuniform vec4 paperColor : [1.0, 1.0, 1.0, 1.0];\n\nuniform mat4 viewInverse : VIEWINVERSE;\n\n#ifdef AMBIENT_LIGHT_COUNT\n@import clay.header.ambient_light\n#endif\n#ifdef AMBIENT_SH_LIGHT_COUNT\n@import clay.header.ambient_sh_light\n#endif\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n@import clay.header.directional_light\n#endif\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\n\n@import ecgl.common.ssaoMap.header\n\n@import ecgl.common.bumpMap.header\n\n@import clay.util.srgb\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.plugin.compute_shadow_map\n\nuniform sampler2D hatch1;\nuniform sampler2D hatch2;\nuniform sampler2D hatch3;\nuniform sampler2D hatch4;\nuniform sampler2D hatch5;\nuniform sampler2D hatch6;\n\nfloat shade(in float tone) {\n vec4 c = vec4(1. ,1., 1., 1.);\n float step = 1. / 6.;\n vec2 uv = v_DetailTexcoord;\n if (tone <= step / 2.0) {\n c = mix(vec4(0.), texture2D(hatch6, uv), 12. * tone);\n }\n else if (tone <= step) {\n c = mix(texture2D(hatch6, uv), texture2D(hatch5, uv), 6. * tone);\n }\n if(tone > step && tone <= 2. * step){\n c = mix(texture2D(hatch5, uv), texture2D(hatch4, uv) , 6. * (tone - step));\n }\n if(tone > 2. * step && tone <= 3. * step){\n c = mix(texture2D(hatch4, uv), texture2D(hatch3, uv), 6. * (tone - 2. * step));\n }\n if(tone > 3. * step && tone <= 4. * step){\n c = mix(texture2D(hatch3, uv), texture2D(hatch2, uv), 6. * (tone - 3. * step));\n }\n if(tone > 4. * step && tone <= 5. * step){\n c = mix(texture2D(hatch2, uv), texture2D(hatch1, uv), 6. * (tone - 4. * step));\n }\n if(tone > 5. * step){\n c = mix(texture2D(hatch1, uv), vec4(1.), 6. * (tone - 5. * step));\n }\n\n return c.r;\n}\n\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n vec4 inkColor = sRGBToLinear(color);\n#else\n vec4 inkColor = color;\n#endif\n\n#ifdef VERTEX_COLOR\n #ifdef SRGB_DECODE\n inkColor *= sRGBToLinear(v_Color);\n #else\n inkColor *= v_Color;\n #endif\n#endif\n\n vec3 N = v_Normal;\n#ifdef DOUBLE_SIDED\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(eyePos - v_WorldPosition);\n\n if (dot(N, V) < 0.0) {\n N = -N;\n }\n#endif\n\n float tone = 0.0;\n\n float ambientFactor = 1.0;\n\n#ifdef BUMPMAP_ENABLED\n N = bumpNormal(v_WorldPosition, v_Normal, N);\n ambientFactor = dot(v_Normal, N);\n#endif\n\n vec3 N2 = vec3(N.x, N[NORMAL_UP_AXIS], N[NORMAL_FRONT_AXIS]);\n\n @import ecgl.common.ssaoMap.main\n\n#ifdef AMBIENT_LIGHT_COUNT\n for(int i = 0; i < AMBIENT_LIGHT_COUNT; i++)\n {\n tone += dot(ambientLightColor[i], w) * ambientFactor * ao;\n }\n#endif\n#ifdef AMBIENT_SH_LIGHT_COUNT\n for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)\n {{\n tone += dot(calcAmbientSHLight(_idx_, N2) * ambientSHLightColor[_idx_], w) * ao;\n }}\n#endif\n#ifdef DIRECTIONAL_LIGHT_COUNT\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\n if(shadowEnabled)\n {\n computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\n }\n#endif\n for(int i = 0; i < DIRECTIONAL_LIGHT_COUNT; i++)\n {\n vec3 lightDirection = -directionalLightDirection[i];\n float lightTone = dot(directionalLightColor[i], w);\n\n float shadowContrib = 1.0;\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n if (shadowEnabled)\n {\n shadowContrib = shadowContribsDir[i];\n }\n#endif\n\n float ndl = dot(N, normalize(lightDirection)) * shadowContrib;\n\n tone += lightTone * clamp(ndl, 0.0, 1.0);\n }\n#endif\n\n gl_FragColor = mix(inkColor, paperColor, shade(clamp(tone, 0.0, 1.0)));\n }\n@end\n"),In.import("@export ecgl.sm.depth.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nattribute vec3 position : POSITION;\nattribute vec2 texcoord : TEXCOORD_0;\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nuniform float percent : 1.0;\n#endif\n\nvarying vec4 v_ViewPosition;\nvarying vec2 v_Texcoord;\n\nvoid main(){\n\n#ifdef VERTEX_ANIMATION\n vec3 pos = mix(prevPosition, position, percent);\n#else\n vec3 pos = position;\n#endif\n\n v_ViewPosition = worldViewProjection * vec4(pos, 1.0);\n gl_Position = v_ViewPosition;\n\n v_Texcoord = texcoord;\n\n}\n@end\n\n\n\n@export ecgl.sm.depth.fragment\n\n@import clay.sm.depth.fragment\n\n@end");var ma=Zr.prototype.addToScene,ga=Zr.prototype.removeFromScene;Zr.prototype.addToScene=function(t){if(ma.call(this,t),this.__zr){var e=this.__zr;t.traverse((function(t){t.__zr=e,t.addAnimatorsToZr&&t.addAnimatorsToZr(e)}))}},Zr.prototype.removeFromScene=function(t){ga.call(this,t),t.traverse((function(t){var e=t.__zr;t.__zr=null,e&&t.removeAnimatorsFromZr&&t.removeAnimatorsFromZr(e)}))},Qe.prototype.setTextureImage=function(t,e,n,r){if(this.shader){var i,a,o=n.getZr(),s=this;return s.autoUpdateTextureStatus=!1,s.disableTexture(t),(a=e)&&"none"!==a&&(i=_a.loadTexture(e,n,r,(function(e){s.enableTexture(t),o&&o.refresh()})),s.set(t,i)),i}};var _a={};_a.Renderer=$n,_a.Node=Mt,_a.Mesh=Ae,_a.Shader=In,_a.Material=Qe,_a.Texture=Zn,_a.Texture2D=nr,_a.Geometry=mr,_a.SphereGeometry=Zi,_a.PlaneGeometry=di,_a.CubeGeometry=gi,_a.AmbientLight=Ki,_a.DirectionalLight=Ji,_a.PointLight=Qi,_a.SpotLight=ta,_a.PerspectiveCamera=ii,_a.OrthographicCamera=Ri,_a.Vector2=nn,_a.Vector3=_,_a.Vector4=ia,_a.Quaternion=ot,_a.Matrix2=oa,_a.Matrix2d=ua,_a.Matrix3=ca,_a.Matrix4=gt,_a.Plane=Cr,_a.Ray=Hr,_a.BoundingBox=Et,_a.Frustum=Br;var va=Di.createBlank("rgba(255,255,255,0)").image;function ya(t){return Math.pow(2,Math.round(Math.log(t)/Math.LN2))}function ba(t){if((t.wrapS===Zn.REPEAT||t.wrapT===Zn.REPEAT)&&t.image){var e=ya(t.width),n=ya(t.height);if(e!==t.width||n!==t.height){var r=document.createElement("canvas");r.width=e,r.height=n,r.getContext("2d").drawImage(t.image,0,0,e,n),t.image=r}}}_a.loadTexture=function(t,e,n,r){"function"==typeof n&&(r=n,n={}),n=n||{};for(var i=Object.keys(n).sort(),a="",o=0;o<i.length;o++)a+=i[o]+"_"+n[i[o]]+"_";var s,u=e.__textureCache=e.__textureCache||new Jr.a(20);if((s=t).getZr&&s.setOption){var l=t.__textureid__;if(h=u.get(a+l))h.texture.surface.setECharts(t),r&&r(h.texture);else{var c=new Li(t);c.onupdate=function(){e.getZr().refresh()},h={texture:c.getTexture()};for(o=0;o<i.length;o++)h.texture[i[o]]=n[i[o]];l=t.__textureid__||"__ecgl_ec__"+h.texture.__uid__,t.__textureid__=l,u.put(a+l,h),r&&r(h.texture)}return h.texture}if(pa(t)){var h;l=t.__textureid__;if(!(h=u.get(a+l))){h={texture:new _a.Texture2D({image:t})};for(o=0;o<i.length;o++)h.texture[i[o]]=n[i[o]];l=t.__textureid__||"__ecgl_image__"+h.texture.__uid__,t.__textureid__=l,u.put(a+l,h),ba(h.texture),r&&r(h.texture)}return h.texture}if(h=u.get(a+t))h.callbacks?h.callbacks.push(r):r&&r(h.texture);else if(t.match(/.hdr$|^data:application\/octet-stream/)){h={callbacks:[r]};var f=Di.loadTexture(t,{exposure:n.exposure,fileType:"hdr"},(function(){f.dirty(),h.callbacks.forEach((function(t){t&&t(f)})),h.callbacks=null}));h.texture=f,u.put(a+t,h)}else{for(f=new _a.Texture2D({image:new Image}),o=0;o<i.length;o++)f[i[o]]=n[i[o]];h={texture:f,callbacks:[r]};var d=f.image;d.onload=function(){f.image=d,ba(f),f.dirty(),h.callbacks.forEach((function(t){t&&t(f)})),h.callbacks=null},d.src=t,f.image=va,u.put(a+t,h)}return h.texture},_a.createAmbientCubemap=function(t,e,n,r){var i=(t=t||{}).texture,a=Yi.firstNotNull(t.exposure,1),o=new Hi({intensity:Yi.firstNotNull(t.specularIntensity,1)}),s=new Vi({intensity:Yi.firstNotNull(t.diffuseIntensity,1),coefficients:[.844,.712,.691,-.037,.083,.167,.343,.288,.299,-.041,-.021,-.009,-.003,-.041,-.064,-.011,-.007,-.004,-.031,.034,.081,-.06,-.049,-.06,.046,.056,.05]});return o.cubemap=_a.loadTexture(i,n,{exposure:a},(function(){if(o.cubemap.flipY=!1,__DEV__)var t=Date.now();if(o.prefilter(e,32),__DEV__){var n=Date.now()-t;console.log("Prefilter environment map: "+n+"ms")}s.coefficients=qi.projectEnvironmentMap(e,o.cubemap,{lod:1}),r&&r()})),{specular:o,diffuse:s}},_a.createBlankTexture=Di.createBlank,_a.isImage=pa,_a.additiveBlend=function(t){t.blendEquation(t.FUNC_ADD),t.blendFunc(t.SRC_ALPHA,t.ONE)},_a.parseColor=function(t,e){return t instanceof Array?(e||(e=[]),e[0]=t[0],e[1]=t[1],e[2]=t[2],t.length>3?e[3]=t[3]:e[3]=1,e):((e=a.a.color.parse(t||"#000",e)||[0,0,0,0])[0]/=255,e[1]/=255,e[2]/=255,e)},_a.directionFromAlphaBeta=function(t,e){var n=t/180*Math.PI+Math.PI/2,r=-e/180*Math.PI+Math.PI/2,i=[],a=Math.sin(n);return i[0]=a*Math.cos(r),i[1]=-Math.cos(n),i[2]=a*Math.sin(r),i},_a.getShadowResolution=function(t){var e=1024;switch(t){case"low":e=512;break;case"medium":break;case"high":e=2048;break;case"ultra":e=4096}return e},_a.COMMON_SHADERS=["lambert","color","realistic","hatching"],_a.createShader=function(t){var e=In.source(t+".vertex"),n=In.source(t+".fragment");e||console.error("Vertex shader of '%s' not exits",t),n||console.error("Fragment shader of '%s' not exits",t);var r=new In(e,n);return r.name=t,r},_a.createMaterial=function(t,e){e instanceof Array||(e=[e]);var n=_a.createShader(t),r=new Qe({shader:n});return e.forEach((function(t){"string"==typeof t&&r.define(t)})),r},_a.setMaterialFromModel=function(t,e,n,r){e.autoUpdateTextureStatus=!1;var i=n.getModel(t+"Material"),a=i.get("detailTexture"),o=Yi.firstNotNull(i.get("textureTiling"),1),s=Yi.firstNotNull(i.get("textureOffset"),0);"number"==typeof o&&(o=[o,o]),"number"==typeof s&&(s=[s,s]);var u=o[0]>1||o[1]>1?_a.Texture.REPEAT:_a.Texture.CLAMP_TO_EDGE,l={anisotropic:8,wrapS:u,wrapT:u};if("realistic"===t){var c=i.get("roughness"),h=i.get("metalness");null!=h?isNaN(h)&&(e.setTextureImage("metalnessMap",h,r,l),h=Yi.firstNotNull(i.get("metalnessAdjust"),.5)):h=0,null!=c?isNaN(c)&&(e.setTextureImage("roughnessMap",c,r,l),c=Yi.firstNotNull(i.get("roughnessAdjust"),.5)):c=.5;var f=i.get("normalTexture");e.setTextureImage("detailMap",a,r,l),e.setTextureImage("normalMap",f,r,l),e.set({roughness:c,metalness:h,detailUvRepeat:o,detailUvOffset:s})}else if("lambert"===t)e.setTextureImage("detailMap",a,r,l),e.set({detailUvRepeat:o,detailUvOffset:s});else if("color"===t)e.setTextureImage("detailMap",a,r,l),e.set({detailUvRepeat:o,detailUvOffset:s});else if("hatching"===t){var d=i.get("hatchingTextures")||[];d.length<6&&__DEV__&&console.error("Invalid hatchingTextures.");for(var p=0;p<6;p++)e.setTextureImage("hatch"+(p+1),d[p],r,{anisotropic:8,wrapS:_a.Texture.REPEAT,wrapT:_a.Texture.REPEAT});e.set({detailUvRepeat:o,detailUvOffset:s})}},_a.updateVertexAnimation=function(t,e,n,r){var i=r.get("animation"),a=r.get("animationDurationUpdate"),o=r.get("animationEasingUpdate"),s=n.shadowDepthMaterial;if(i&&e&&a>0&&e.geometry.vertexCount===n.geometry.vertexCount){n.material.define("vertex","VERTEX_ANIMATION"),n.ignorePreZ=!0,s&&s.define("vertex","VERTEX_ANIMATION");for(var u=0;u<t.length;u++)n.geometry.attributes[t[u][0]].value=e.geometry.attributes[t[u][1]].value;n.geometry.dirty(),n.__percent=0,n.material.set("percent",0),n.stopAnimation(),n.animate().when(a,{__percent:1}).during((function(){n.material.set("percent",n.__percent),s&&s.set("percent",n.__percent)})).done((function(){n.ignorePreZ=!1,n.material.undefine("vertex","VERTEX_ANIMATION"),s&&s.undefine("vertex","VERTEX_ANIMATION")})).start(o)}else n.material.undefine("vertex","VERTEX_ANIMATION"),s&&s.undefine("vertex","VERTEX_ANIMATION")};var xa=_a,wa={getFormattedLabel:function(t,e,n,r,i){n=n||"normal";var o=t.getData(r).getItemModel(e),s=t.getDataParams(e,r);null!=i&&s.value instanceof Array&&(s.value=s.value[i]);var u,l=o.get("normal"===n?["label","formatter"]:["emphasis","label","formatter"]);return null==l&&(l=o.get(["label","formatter"])),"function"==typeof l?(s.status=n,u=l(s)):"string"==typeof l&&(u=a.a.format.formatTpl(l,s)),u},normalizeToArray:function(t){return t instanceof Array?t:null==t?[]:[t]}},Ta=wa,Sa={convertToDynamicArray:function(t){t&&this.resetOffset();var e=this.attributes;for(var n in e)t||!e[n].value?e[n].value=[]:e[n].value=Array.prototype.slice.call(e[n].value);t||!this.indices?this.indices=[]:this.indices=Array.prototype.slice.call(this.indices)},convertToTypedArray:function(){var t=this.attributes;for(var e in t)t[e].value&&t[e].value.length>0?t[e].value=new Float32Array(t[e].value):t[e].value=null;this.indices&&this.indices.length>0&&(this.indices=this.vertexCount>65535?new Uint32Array(this.indices):new Uint16Array(this.indices)),this.dirty()}};function Ea(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function Ca(t,e,n,r,i){var a=n,o=t[e];Ea(t,e,r);for(var s=n;s<r;s++)i(t[s],o)<0&&(Ea(t,s,a),a++);return Ea(t,r,a),a}function Aa(t,e,n,r){if(n<r){var i=Ca(t,Math.floor((n+r)/2),n,r,e);Aa(t,e,n,i-1),Aa(t,e,i+1,r)}}function Ma(){this._parts=[]}Ma.prototype.step=function(t,e,n){var r=t.length;if(0===n){this._parts=[],this._sorted=!1;var i=Math.floor(r/2);this._parts.push({pivot:i,left:0,right:r-1}),this._currentSortPartIdx=0}if(!this._sorted){var a=this._parts;if(0===a.length)return this._sorted=!0,!0;if(a.length<512){for(var o=0;o<a.length;o++)a[o].pivot=Ca(t,a[o].pivot,a[o].left,a[o].right,e);var s=[];for(o=0;o<a.length;o++){var u=a[o].left;(l=a[o].pivot-1)>u&&s.push({pivot:Math.floor((l+u)/2),left:u,right:l});var l;u=a[o].pivot+1;(l=a[o].right)>u&&s.push({pivot:Math.floor((l+u)/2),left:u,right:l})}a=this._parts=s}else for(o=0;o<Math.floor(a.length/10);o++){var c=a.length-1-this._currentSortPartIdx;if(Aa(t,e,a[c].left,a[c].right),this._currentSortPartIdx++,this._currentSortPartIdx===a.length)return this._sorted=!0,!0}return!1}},Ma.sort=Aa;var Oa,Da,Na,Ia,Pa,La,Ra,ka,Ba=Ma,Fa=k.vec3,za=Fa.create(),ja=Fa.create(),Ua=Fa.create(),Ha={needsSortTriangles:function(){return this.indices&&this.sortTriangles},needsSortTrianglesProgressively:function(){return this.needsSortTriangles()&&this.triangleCount>=2e4},doSortTriangles:function(t,e){var n=this.indices;if(0===e){var r=this.attributes.position;t=t.array;this._triangleZList&&this._triangleZList.length===this.triangleCount||(this._triangleZList=new Float32Array(this.triangleCount),this._sortedTriangleIndices=new Uint32Array(this.triangleCount),this._indicesTmp=new n.constructor(n.length),this._triangleZListTmp=new Float32Array(this.triangleCount));for(var i,a=0,o=0;o<n.length;){r.get(n[o++],za),r.get(n[o++],ja),r.get(n[o++],Ua);var s=Fa.sqrDist(za,t),u=Fa.sqrDist(ja,t),l=Fa.sqrDist(Ua,t),c=Math.min(s,u);c=Math.min(c,l),3===o?(i=c,c=0):c-=i,this._triangleZList[a++]=c}}var h=this._sortedTriangleIndices;for(o=0;o<h.length;o++)h[o]=o;if(this.triangleCount<2e4)0===e&&this._simpleSort(!0);else for(o=0;o<3;o++)this._progressiveQuickSort(3*e+o);var f=this._indicesTmp,d=this._triangleZListTmp,p=this._triangleZList;for(o=0;o<this.triangleCount;o++){var m=3*h[o],g=3*o;f[g++]=n[m++],f[g++]=n[m++],f[g]=n[m],d[o]=p[h[o]]}var _=this._indicesTmp;this._indicesTmp=this.indices,this.indices=_;_=this._triangleZListTmp;this._triangleZListTmp=this._triangleZList,this._triangleZList=_,this.dirtyIndices()},_simpleSort:function(t){var e=this._triangleZList,n=this._sortedTriangleIndices;function r(t,n){return e[n]-e[t]}t?Array.prototype.sort.call(n,r):Ba.sort(n,r,0,n.length-1)},_progressiveQuickSort:function(t){var e=this._triangleZList,n=this._sortedTriangleIndices;this._quickSort=this._quickSort||new Ba,this._quickSort.step(n,(function(t,n){return e[n]-e[t]}),t)}},Va=k.vec3,Ga=k.mat3,Wa=mr.extend((function(){return{attributes:{position:new mr.Attribute("position","float",3,"POSITION"),normal:new mr.Attribute("normal","float",3,"NORMAL"),color:new mr.Attribute("color","float",4,"COLOR"),prevPosition:new mr.Attribute("prevPosition","float",3),prevNormal:new mr.Attribute("prevNormal","float",3)},dynamic:!0,enableNormal:!1,bevelSize:1,bevelSegments:0,_dataIndices:null,_vertexOffset:0,_triangleOffset:0}}),{resetOffset:function(){this._vertexOffset=0,this._triangleOffset=0},setBarCount:function(t){var e=this.enableNormal,n=this.getBarVertexCount()*t,r=this.getBarTriangleCount()*t;this.vertexCount!==n&&(this.attributes.position.init(n),e?this.attributes.normal.init(n):this.attributes.normal.value=null,this.attributes.color.init(n)),this.triangleCount!==r&&(this.indices=n>65535?new Uint32Array(3*r):new Uint16Array(3*r),this._dataIndices=new Uint32Array(n))},getBarVertexCount:function(){var t=this.bevelSize>0?this.bevelSegments:0;return t>0?this._getBevelBarVertexCount(t):this.enableNormal?24:8},getBarTriangleCount:function(){var t=this.bevelSize>0?this.bevelSegments:0;return t>0?this._getBevelBarTriangleCount(t):12},_getBevelBarVertexCount:function(t){return 4*(t+1)*(t+1)*2},_getBevelBarTriangleCount:function(t){return(4*t+3+1)*(2*t+1)*2+4},setColor:function(t,e){for(var n=this.getBarVertexCount(),r=n*(t+1),i=n*t;i<r;i++)this.attributes.color.set(i,e);this.dirtyAttribute("color")},getDataIndexOfVertex:function(t){return this._dataIndices?this._dataIndices[t]:null},addBar:function(){for(var t=Va.create,e=Va.scaleAndAdd,n=t(),r=t(),i=t(),a=t(),o=t(),s=t(),u=t(),l=[],c=[],h=0;h<8;h++)l[h]=t();var f=[[0,1,5,4],[2,3,7,6],[4,5,6,7],[3,2,1,0],[0,4,7,3],[1,2,6,5]],d=[0,1,2,0,2,3],p=[];for(h=0;h<f.length;h++)for(var m=f[h],g=0;g<2;g++){for(var _=[],v=0;v<3;v++)_.push(m[d[3*g+v]]);p.push(_)}return function(t,h,m,g,_,v){var y=this._vertexOffset;if(this.bevelSize>0&&this.bevelSegments>0)this._addBevelBar(t,h,m,g,this.bevelSize,this.bevelSegments,_);else{Va.copy(i,h),Va.normalize(i,i),Va.cross(a,m,i),Va.normalize(a,a),Va.cross(r,i,a),Va.normalize(a,a),Va.negate(o,r),Va.negate(s,i),Va.negate(u,a),e(l[0],t,r,g[0]/2),e(l[0],l[0],a,g[2]/2),e(l[1],t,r,g[0]/2),e(l[1],l[1],u,g[2]/2),e(l[2],t,o,g[0]/2),e(l[2],l[2],u,g[2]/2),e(l[3],t,o,g[0]/2),e(l[3],l[3],a,g[2]/2),e(n,t,i,g[1]),e(l[4],n,r,g[0]/2),e(l[4],l[4],a,g[2]/2),e(l[5],n,r,g[0]/2),e(l[5],l[5],u,g[2]/2),e(l[6],n,o,g[0]/2),e(l[6],l[6],u,g[2]/2),e(l[7],n,o,g[0]/2),e(l[7],l[7],a,g[2]/2);var b=this.attributes;if(this.enableNormal){c[0]=r,c[1]=o,c[2]=i,c[3]=s,c[4]=a,c[5]=u;for(var x=this._vertexOffset,w=0;w<f.length;w++){for(var T=3*this._triangleOffset,S=0;S<6;S++)this.indices[T++]=x+d[S];x+=4,this._triangleOffset+=2}for(w=0;w<f.length;w++){var E=c[w];for(S=0;S<4;S++){var C=f[w][S];b.position.set(this._vertexOffset,l[C]),b.normal.set(this._vertexOffset,E),b.color.set(this._vertexOffset++,_)}}}else{for(w=0;w<p.length;w++){for(T=3*this._triangleOffset,S=0;S<3;S++)this.indices[T+S]=p[w][S]+this._vertexOffset;this._triangleOffset++}for(w=0;w<l.length;w++)b.position.set(this._vertexOffset,l[w]),b.color.set(this._vertexOffset++,_)}}var A=this._vertexOffset;for(w=y;w<A;w++)this._dataIndices[w]=v}}(),_addBevelBar:(Oa=Va.create(),Da=Va.create(),Na=Va.create(),Ia=Ga.create(),Pa=[],La=[1,-1,-1,1],Ra=[1,1,-1,-1],ka=[2,0],function(t,e,n,r,i,a,o){Va.copy(Da,e),Va.normalize(Da,Da),Va.cross(Na,n,Da),Va.normalize(Na,Na),Va.cross(Oa,Da,Na),Va.normalize(Na,Na),Ia[0]=Oa[0],Ia[1]=Oa[1],Ia[2]=Oa[2],Ia[3]=Da[0],Ia[4]=Da[1],Ia[5]=Da[2],Ia[6]=Na[0],Ia[7]=Na[1],Ia[8]=Na[2],i=Math.min(r[0],r[2])/2*i;for(var s=0;s<3;s++)Pa[s]=Math.max(r[s]-2*i,0);var u=(r[0]-Pa[0])/2,l=(r[1]-Pa[1])/2,c=(r[2]-Pa[2])/2,h=[],f=[],d=this._vertexOffset,p=[];for(s=0;s<2;s++){p[s]=p[s]=[];for(var m=0;m<=a;m++)for(var g=0;g<4;g++){(0===m&&0===s||1===s&&m===a)&&p[s].push(d);for(var _=0;_<=a;_++){var v=_/a*Math.PI/2+Math.PI/2*g,y=m/a*Math.PI/2+Math.PI/2*s;f[0]=u*Math.cos(v)*Math.sin(y),f[1]=l*Math.cos(y),f[2]=c*Math.sin(v)*Math.sin(y),h[0]=f[0]+La[g]*Pa[0]/2,h[1]=f[1]+l+ka[s]*Pa[1]/2,h[2]=f[2]+Ra[g]*Pa[2]/2,Math.abs(u-l)<1e-6&&Math.abs(l-c)<1e-6||(f[0]/=u*u,f[1]/=l*l,f[2]/=c*c),Va.normalize(f,f),Va.transformMat3(h,h,Ia),Va.transformMat3(f,f,Ia),Va.add(h,h,t),this.attributes.position.set(d,h),this.enableNormal&&this.attributes.normal.set(d,f),this.attributes.color.set(d,o),d++}}}var b=4*a+3,x=2*a+1,w=b+1;for(g=0;g<x;g++)for(s=0;s<=b;s++){var T=g*w+s+this._vertexOffset,S=g*w+(s+1)%w+this._vertexOffset,E=(g+1)*w+(s+1)%w+this._vertexOffset,C=(g+1)*w+s+this._vertexOffset;this.setTriangleIndices(this._triangleOffset++,[E,T,S]),this.setTriangleIndices(this._triangleOffset++,[E,C,T])}this.setTriangleIndices(this._triangleOffset++,[p[0][0],p[0][2],p[0][1]]),this.setTriangleIndices(this._triangleOffset++,[p[0][0],p[0][3],p[0][2]]),this.setTriangleIndices(this._triangleOffset++,[p[1][0],p[1][1],p[1][2]]),this.setTriangleIndices(this._triangleOffset++,[p[1][0],p[1][2],p[1][3]]),this._vertexOffset=d})});a.a.util.defaults(Wa.prototype,Sa),a.a.util.defaults(Wa.prototype,Ha);var $a=Wa;function Xa(t,e,n,r,i,a,o){this._zr=t,this._x=0,this._y=0,this._rowHeight=0,this.width=r,this.height=i,this.offsetX=e,this.offsetY=n,this.dpr=o,this.gap=a}function qa(t){(t=t||{}).width=t.width||512,t.height=t.height||512,t.devicePixelRatio=t.devicePixelRatio||1,t.gap=null==t.gap?2:t.gap;var e=document.createElement("canvas");e.width=t.width*t.devicePixelRatio,e.height=t.height*t.devicePixelRatio,this._canvas=e,this._texture=new nr({image:e,flipY:!1});var n=this;this._zr=a.a.zrender.init(e);var r=this._zr.refreshImmediately;this._zr.refreshImmediately=function(){r.call(this),n._texture.dirty(),n.onupdate&&n.onupdate()},this._dpr=t.devicePixelRatio,this._coords={},this.onupdate=t.onupdate,this._gap=t.gap,this._textureAtlasNodes=[new Xa(this._zr,0,0,t.width,t.height,this._gap,this._dpr)],this._nodeWidth=t.width,this._nodeHeight=t.height,this._currentNodeIdx=0}Xa.prototype={constructor:Xa,clear:function(){this._x=0,this._y=0,this._rowHeight=0},add:function(t,e,n){var r=t.getBoundingRect();null==e&&(e=r.width),null==n&&(n=r.height),e*=this.dpr,n*=this.dpr,this._fitElement(t,e,n);var i=this._x,a=this._y,o=this.width*this.dpr,s=this.height*this.dpr,u=this.gap;if(i+e+u>o&&(i=this._x=0,a+=this._rowHeight+u,this._y=a,this._rowHeight=0),this._x+=e+u,this._rowHeight=Math.max(this._rowHeight,n),a+n+u>s)return null;t.position[0]+=this.offsetX*this.dpr+i,t.position[1]+=this.offsetY*this.dpr+a,this._zr.add(t);var l=[this.offsetX/this.width,this.offsetY/this.height];return[[i/o+l[0],a/s+l[1]],[(i+e)/o+l[0],(a+n)/s+l[1]]]},_fitElement:function(t,e,n){var r=t.getBoundingRect(),i=e/r.width,a=n/r.height;t.position=[-r.x*i,-r.y*a],t.scale=[i,a],t.update()}},qa.prototype={clear:function(){for(var t=0;t<this._textureAtlasNodes.length;t++)this._textureAtlasNodes[t].clear();this._currentNodeIdx=0,this._zr.clear(),this._coords={}},getWidth:function(){return this._width},getHeight:function(){return this._height},getTexture:function(){return this._texture},getDevicePixelRatio:function(){return this._dpr},getZr:function(){return this._zr},_getCurrentNode:function(){return this._textureAtlasNodes[this._currentNodeIdx]},_expand:function(){if(this._currentNodeIdx++,this._textureAtlasNodes[this._currentNodeIdx])return this._textureAtlasNodes[this._currentNodeIdx];var t=4096/this._dpr,e=this._textureAtlasNodes.length,n=e*this._nodeWidth%t,r=Math.floor(e*this._nodeWidth/t)*this._nodeHeight;if(!(r>=t)){var i=(n+this._nodeWidth)*this._dpr,a=(r+this._nodeHeight)*this._dpr;try{this._zr.resize({width:i,height:a})}catch(t){this._canvas.width=i,this._canvas.height=a}var o=new Xa(this._zr,n,r,this._nodeWidth,this._nodeHeight,this._gap,this._dpr);return this._textureAtlasNodes.push(o),o}__DEV__&&console.error("Too much labels. Some will be ignored.")},add:function(t,e,n){if(this._coords[t.id])return __DEV__&&console.warn("Element already been add"),this._coords[t.id];var r=this._getCurrentNode().add(t,e,n);if(!r){var i=this._expand();if(!i)return;r=i.add(t,e,n)}return this._coords[t.id]=r,r},getCoordsScale:function(){var t=this._dpr;return[this._nodeWidth/this._canvas.width*t,this._nodeHeight/this._canvas.height*t]},getCoords:function(t){return this._coords[t]}};var Ya=qa,Za=[0,1,2,0,2,3],Ka=mr.extend((function(){return{attributes:{position:new mr.Attribute("position","float",3,"POSITION"),texcoord:new mr.Attribute("texcoord","float",2,"TEXCOORD_0"),offset:new mr.Attribute("offset","float",2),color:new mr.Attribute("color","float",4,"COLOR")}}}),{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0},setSpriteCount:function(t){this._spriteCount=t;var e=4*t,n=2*t;this.vertexCount!==e&&(this.attributes.position.init(e),this.attributes.offset.init(e),this.attributes.color.init(e)),this.triangleCount!==n&&(this.indices=e>65535?new Uint32Array(3*n):new Uint16Array(3*n))},setSpriteAlign:function(t,e,n,r,i){var a,o,s,u;switch(null==n&&(n="left"),null==r&&(r="top"),i=i||0,n){case"left":a=i,s=e[0]+i;break;case"center":case"middle":a=-e[0]/2,s=e[0]/2;break;case"right":a=-e[0]-i,s=-i}switch(r){case"bottom":o=i,u=e[1]+i;break;case"middle":o=-e[1]/2,u=e[1]/2;break;case"top":o=-e[1]-i,u=-i}var l=4*t,c=this.attributes.offset;c.set(l,[a,u]),c.set(l+1,[s,u]),c.set(l+2,[s,o]),c.set(l+3,[a,o])},addSprite:function(t,e,n,r,i,a){var o=this._vertexOffset;this.setSprite(this._vertexOffset/4,t,e,n,r,i,a);for(var s=0;s<Za.length;s++)this.indices[3*this._faceOffset+s]=Za[s]+o;return this._faceOffset+=2,this._vertexOffset+=4,o/4},setSprite:function(t,e,n,r,i,a,o){for(var s=4*t,u=this.attributes,l=0;l<4;l++)u.position.set(s+l,e);var c=u.texcoord;c.set(s,[r[0][0],r[0][1]]),c.set(s+1,[r[1][0],r[0][1]]),c.set(s+2,[r[1][0],r[1][1]]),c.set(s+3,[r[0][0],r[1][1]]),this.setSpriteAlign(t,n,i,a,o)}});a.a.util.defaults(Ka.prototype,Sa);var Ja=Ka;xa.Shader.import("@export ecgl.labels.vertex\n\nattribute vec3 position: POSITION;\nattribute vec2 texcoord: TEXCOORD_0;\nattribute vec2 offset;\n#ifdef VERTEX_COLOR\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n#endif\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform vec4 viewport : VIEWPORT;\n\nvarying vec2 v_Texcoord;\n\nvoid main()\n{\n vec4 proj = worldViewProjection * vec4(position, 1.0);\n\n vec2 screen = (proj.xy / abs(proj.w) + 1.0) * 0.5 * viewport.zw;\n\n screen += offset;\n\n proj.xy = (screen / viewport.zw - 0.5) * 2.0 * abs(proj.w);\n gl_Position = proj;\n#ifdef VERTEX_COLOR\n v_Color = a_Color;\n#endif\n v_Texcoord = texcoord;\n}\n@end\n\n\n@export ecgl.labels.fragment\n\nuniform vec3 color : [1.0, 1.0, 1.0];\nuniform float alpha : 1.0;\nuniform sampler2D textureAtlas;\nuniform vec2 uvScale: [1.0, 1.0];\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\nvarying float v_Miter;\n\nvarying vec2 v_Texcoord;\n\nvoid main()\n{\n gl_FragColor = vec4(color, alpha) * texture2D(textureAtlas, v_Texcoord * uvScale);\n#ifdef VERTEX_COLOR\n gl_FragColor *= v_Color;\n#endif\n}\n\n@end");var Qa=xa.Mesh.extend((function(){return{geometry:new Ja({dynamic:!0}),material:new xa.Material({shader:xa.createShader("ecgl.labels"),transparent:!0,depthMask:!1}),culling:!1,castShadow:!1,ignorePicking:!0}}));function to(t,e,n){this._labelsMesh=new Qa,this._labelTextureSurface=new Ya({width:512,height:512,devicePixelRatio:n.getDevicePixelRatio(),onupdate:function(){n.getZr().refresh()}}),this._api=n,this._labelsMesh.material.set("textureAtlas",this._labelTextureSurface.getTexture())}to.prototype.getLabelPosition=function(t,e,n){return[0,0,0]},to.prototype.getLabelDistance=function(t,e,n){return 0},to.prototype.getMesh=function(){return this._labelsMesh},to.prototype.updateData=function(t,e,n){null==e&&(e=0),null==n&&(n=t.count()),this._labelsVisibilitiesBits&&this._labelsVisibilitiesBits.length===n-e||(this._labelsVisibilitiesBits=new Uint8Array(n-e));for(var r=["label","show"],i=["emphasis","label","show"],a=e;a<n;a++){var o=t.getItemModel(a),s=o.get(r),u=o.get(i);null==u&&(u=s);var l=(s?1:0)|(u?2:0);this._labelsVisibilitiesBits[a-e]=l}this._start=e,this._end=n,this._data=t},to.prototype.updateLabels=function(t){if(this._data){for(var e=(t=t||[]).length>0,n={},r=0;r<t.length;r++)n[t[r]]=!0;this._labelsMesh.geometry.convertToDynamicArray(!0),this._labelTextureSurface.clear();for(var i=["label"],o=["emphasis","label"],s=this._data.hostModel,u=this._data,l=s.getModel(i),c=s.getModel(o,l),h={left:"right",right:"left",top:"center",bottom:"center"},f={left:"middle",right:"middle",top:"bottom",bottom:"top"},d=this._start;d<this._end;d++){var p=!1;if(e&&n[d]&&(p=!0),this._labelsVisibilitiesBits[d-this._start]&(p?2:1)){var m=u.getItemModel(d).getModel(p?o:i,p?c:l),g=m.get("distance")||0,_=m.get("position"),v=m.getModel("textStyle"),y=this._api.getDevicePixelRatio(),b=s.getFormattedLabel(d,p?"emphasis":"normal");if(null==b||""===b)return;var x=new a.a.graphic.Text;a.a.graphic.setTextStyle(x.style,v,{text:b,textFill:v.get("color")||u.getItemVisual(d,"color")||"#000",textAlign:"left",textVerticalAlign:"top",opacity:Yi.firstNotNull(v.get("opacity"),u.getItemVisual(d,"opacity"),1)});var w=x.getBoundingRect();w.height*=1.2;var T=this._labelTextureSurface.add(x),S=h[_]||"center",E=f[_]||"bottom";this._labelsMesh.geometry.addSprite(this.getLabelPosition(d,_,g),[w.width*y,w.height*y],T,S,E,this.getLabelDistance(d,_,g)*y)}}this._labelsMesh.material.set("uvScale",this._labelTextureSurface.getCoordsScale()),this._labelTextureSurface.getZr().refreshImmediately(),this._labelsMesh.geometry.convertToTypedArray(),this._labelsMesh.geometry.dirty()}};var eo=to,no=k.vec3;a.a.extendChartView({type:"bar3D",__ecgl__:!0,init:function(t,e){this.groupGL=new xa.Node,this._api=e,this._labelsBuilder=new eo(256,256,e);var n=this;this._labelsBuilder.getLabelPosition=function(t,e,r){if(n._data){var i=n._data.getItemLayout(t),a=i[0],o=i[1],s=i[2][1];return no.scaleAndAdd([],a,o,r+s)}return[0,0]},this._labelsBuilder.getMesh().renderOrder=100},render:function(t,e,n){var r=this._prevBarMesh;this._prevBarMesh=this._barMesh,this._barMesh=r,this._barMesh||(this._barMesh=new xa.Mesh({geometry:new $a,shadowDepthMaterial:new xa.Material({shader:new xa.Shader(xa.Shader.source("ecgl.sm.depth.vertex"),xa.Shader.source("ecgl.sm.depth.fragment"))}),culling:"cartesian3D"===t.coordinateSystem.type,renderOrder:10,renderNormal:!0})),this.groupGL.remove(this._prevBarMesh),this.groupGL.add(this._barMesh),this.groupGL.add(this._labelsBuilder.getMesh());var i=t.coordinateSystem;if(this._doRender(t,n),i&&i.viewGL){i.viewGL.add(this.groupGL);var a=i.viewGL.isLinearSpace()?"define":"undefine";this._barMesh.material[a]("fragment","SRGB_DECODE")}this._data=t.getData(),this._labelsBuilder.updateData(this._data),this._labelsBuilder.updateLabels(),this._updateAnimation(t)},_updateAnimation:function(t){xa.updateVertexAnimation([["prevPosition","position"],["prevNormal","normal"]],this._prevBarMesh,this._barMesh,t)},_doRender:function(t,e){var n=t.getData(),r=t.get("shading"),i="color"!==r,a=this,o=this._barMesh,s="ecgl."+r;o.material&&o.material.shader.name===s||(o.material=xa.createMaterial(s,["VERTEX_COLOR"])),xa.setMaterialFromModel(r,o.material,t,e),o.geometry.enableNormal=i,o.geometry.resetOffset();var u=t.get("bevelSize"),l=t.get("bevelSmoothness");o.geometry.bevelSegments=l,o.geometry.bevelSize=u;var c=[],h=new Float32Array(4*n.count()),f=0,d=0,p=!1;n.each((function(t){if(n.hasValue(t)){var e=n.getItemVisual(t,"color"),r=n.getItemVisual(t,"opacity");null==r&&(r=1),xa.parseColor(e,c),c[3]*=r,h[f++]=c[0],h[f++]=c[1],h[f++]=c[2],h[f++]=c[3],c[3]>0&&(d++,c[3]<.99&&(p=!0))}})),o.geometry.setBarCount(d);var m=n.getLayout("orient"),g=this._barIndexOfData=new Int32Array(n.count());d=0;n.each((function(t){if(n.hasValue(t)){var e=n.getItemLayout(t),r=e[0],i=e[1],o=e[2],s=4*t;c[0]=h[s++],c[1]=h[s++],c[2]=h[s++],c[3]=h[s++],c[3]>0&&(a._barMesh.geometry.addBar(r,i,m,o,c,t),g[t]=d++)}else g[t]=-1})),o.geometry.dirty(),o.geometry.updateBoundingBox();var _=o.material;_.transparent=p,_.depthMask=!p,o.geometry.sortTriangles=p,this._initHandler(t,e)},_initHandler:function(t,e){var n=t.getData(),r=this._barMesh,i="cartesian3D"===t.coordinateSystem.type;r.seriesIndex=t.seriesIndex;var a=-1;r.off("mousemove"),r.off("mouseout"),r.on("mousemove",(function(t){var o=r.geometry.getDataIndexOfVertex(t.triangle[0]);o!==a&&(this._downplay(a),this._highlight(o),this._labelsBuilder.updateLabels([o]),i&&e.dispatchAction({type:"grid3DShowAxisPointer",value:[n.get("x",o),n.get("y",o),n.get("z",o,!0)]})),a=o,r.dataIndex=o}),this),r.on("mouseout",(function(t){this._downplay(a),this._labelsBuilder.updateLabels(),a=-1,r.dataIndex=-1,i&&e.dispatchAction({type:"grid3DHideAxisPointer"})}),this)},_highlight:function(t){var e=this._data;if(e){var n=this._barIndexOfData[t];if(!(n<0)){var r=e.getItemModel(t).getModel("emphasis.itemStyle"),i=r.get("color"),o=r.get("opacity");if(null==i){var s=e.getItemVisual(t,"color");i=a.a.color.lift(s,-.4)}null==o&&(o=e.getItemVisual(t,"opacity"));var u=xa.parseColor(i);u[3]*=o,this._barMesh.geometry.setColor(n,u),this._api.getZr().refresh()}}},_downplay:function(t){var e=this._data;if(e){var n=this._barIndexOfData[t];if(!(n<0)){var r=e.getItemVisual(t,"color"),i=e.getItemVisual(t,"opacity"),a=xa.parseColor(r);a[3]*=i,this._barMesh.geometry.setColor(n,a),this._api.getZr().refresh()}}},highlight:function(t,e,n,r){this._toggleStatus("highlight",t,e,n,r)},downplay:function(t,e,n,r){this._toggleStatus("downplay",t,e,n,r)},_toggleStatus:function(t,e,n,r,i){var o=e.getData(),s=Yi.queryDataIndex(o,i),u=this;null!=s?a.a.util.each(Ta.normalizeToArray(s),(function(e){"highlight"===t?this._highlight(e):this._downplay(e)}),this):o.each((function(e){"highlight"===t?u._highlight(e):u._downplay(e)}))},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll()}});var ro=function(t,e,n){var r=t.getData(),i=t.getRawValue(e),o=a.a.util.isArray(i)?function(t){var i=[],o=function(t,e){var n=[];return a.a.util.each(t.dimensions,(function(r){var i=t.getDimensionInfo(r),a=i.otherDims[e];null!=a&&!1!==a&&(n[a]=i.name)})),n}(r,"tooltip");function s(t,e){var o=r.getDimensionInfo(e);if(o&&!1!==o.otherDims.tooltip){var s=o.type,u="- "+(o.tooltipName||o.name)+": "+("ordinal"===s?t+"":"time"===s?n?"":a.a.format.formatTime("yyyy/MM/dd hh:mm:ss",t):a.a.format.addCommas(t));u&&i.push(a.a.format.encodeHTML(u))}}return o.length?a.a.util.each(o,(function(t){s(r.get(t,e),t)})):a.a.util.each(t,s),"<br/>"+i.join("<br/>")}(i):a.a.format.encodeHTML(a.a.format.addCommas(i)),s=r.getName(e),u=r.getItemVisual(e,"color");a.a.util.isObject(u)&&u.colorStops&&(u=(u.colorStops[0]||{}).color),u=u||"transparent";var l=a.a.format.getTooltipMarker(u),c=t.name;return"\0-"===c&&(c=""),c=c?a.a.format.encodeHTML(c)+(n?": ":"<br/>"):"",n?l+c+o:c+l+(s?a.a.format.encodeHTML(s)+": "+o:o)},io=a.a.extendSeriesModel({type:"series.bar3D",dependencies:["globe"],visualColorAccessPath:"itemStyle.color",getInitialData:function(t,e){return function(t,e,n){n=n||t.getSource();var r=e||a.a.getCoordinateSystemDimensions(t.get("coordinateSystem"))||["x","y","z"],i=a.a.helper.createDimensions(n,{dimensionsDefine:n.dimensionsDefine||t.get("dimensions"),encodeDefine:n.encodeDefine||t.get("encode"),coordDimensions:r.map((function(e){var n=t.getReferringComponents(e+"Axis3D")[0];return{type:n&&"category"===n.get("type")?"ordinal":"float",name:e}}))});"cartesian3D"===t.get("coordinateSystem")&&i.forEach((function(e){if(r.indexOf(e.coordDim)>=0){var n=t.getReferringComponents(e.coordDim+"Axis3D")[0];n&&"category"===n.get("type")&&(e.ordinalMeta=n.getOrdinalMeta())}}));var o=a.a.helper.dataStack.enableDataStack(t,i,{byIndex:!0,stackedCoordDimension:"z"}),s=new a.a.List(i,t);return s.setCalculationInfo(o),s.initData(n),s}(this)},getFormattedLabel:function(t,e,n,r){var i=Ta.getFormattedLabel(this,t,e,n,r);return null==i&&(i=this.getData().get("z",t)),i},formatTooltip:function(t){return ro(this,t)},defaultOption:{coordinateSystem:"cartesian3D",globeIndex:0,grid3DIndex:0,zlevel:-10,bevelSize:0,bevelSmoothness:2,onGridPlane:"xy",shading:"color",minHeight:0,itemStyle:{opacity:1},label:{show:!1,distance:2,textStyle:{fontSize:14,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:3}},emphasis:{label:{show:!0}},animationDurationUpdate:500}});a.a.util.merge(io.prototype,{defaultOption:{shading:null,realisticMaterial:{textureTiling:1,textureOffset:0,detailTexture:null},lambertMaterial:{textureTiling:1,textureOffset:0,detailTexture:null},colorMaterial:{textureTiling:1,textureOffset:0,detailTexture:null},hatchingMaterial:{textureTiling:1,textureOffset:0,paperColor:"#fff"}}});a.a.registerVisual({seriesType:"bar3D",reset:function(t,e){var n=t.getData(),r=t.visualColorAccessPath.split(".");r[r.length-1]="opacity";var i=t.get(r);return n.setVisual("opacity",null==i?1:i),{dataEach:n.hasItemOption?function(t,e){var n=t.getItemModel(e).get(r,!0);null!=n&&t.setItemVisual(e,"opacity",n)}:null}}}),a.a.registerProcessor((function(t,e){t.eachSeriesByType("bar3d",(function(t){var e=t.getData();e.filterSelf((function(t){return e.hasValue(t)}))}))}))},d925:function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},da84:function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||Function("return this")()}).call(this,n("c8ba"))},db96:function(t,e,n){var r=n("23e7"),i=n("825a"),a=Object.isExtensible;r({target:"Reflect",stat:!0},{isExtensible:function(t){return i(t),!a||a(t)}})},db9f:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return a}));n("4de4"),n("7db0"),n("4160"),n("d81d"),n("159b");function r(t){t&&t.stopPropagation?t.stopPropagation():window.event.cancelBubble=!0}function i(t,e,n,r){var i=[];return r?i=r:t.forEach((function(r){t.find((function(t){return t[e]===r[n]}))||i.push(r)})),i.map((function(r){return function r(i){var a=t.filter((function(t){return t[n]===i[e]}));i.children=a,a.forEach((function(t){return r(t)}))}(r)})),i}function a(t){var e=[];return function t(n){var r=n.children;r&&r.forEach((function(n){e.push(n),t(n)}))}(t),e}},dbb4:function(t,e,n){var r=n("23e7"),i=n("83ab"),a=n("56ef"),o=n("fc6a"),s=n("06cf"),u=n("8418");r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(t){for(var e,n,r=o(t),i=s.f,l=a(r),c={},h=0;l.length>h;)void 0!==(n=i(r,e=l[h++]))&&u(c,e,n);return c}})},dc06:function(t,e,n){"use strict";n("a9e3");var r=n("3835"),i={props:{hsv:{type:Object,default:null},width:{type:Number,default:15},height:{type:Number,default:152}},inject:["prefix"],data:function(){return{slideHueStyle:{},prefix:this.prefix}},mounted:function(){this.renderColor(),this.renderSlide()},methods:{renderColor:function(){var t=this.$refs.canvasHue,e=this.width,n=this.height,r=t.getContext("2d");t.width=e,t.height=n;var i=r.createLinearGradient(0,0,e,0);i.addColorStop(0,"#FF0000"),i.addColorStop(.17,"#FF00FF"),i.addColorStop(.34,"#0000FF"),i.addColorStop(.51,"#00FFFF"),i.addColorStop(.68,"#00FF00"),i.addColorStop(.17*5,"#FFFF00"),i.addColorStop(1,"#FF0000"),r.fillStyle=i,r.fillRect(0,0,e,n)},renderSlide:function(){this.slideHueStyle={left:(1-this.hsv.h/360)*this.width-9+"px"}},selectHue:function(t){var e=this,n=this.$el.getBoundingClientRect().left,i=t.target.getContext("2d"),a=function(t){var a=t.clientX-n;a<0&&(a=0),a>e.width&&(a=e.width),e.slideHueStyle={left:a-9+"px"};var o=i.getImageData(Math.min(a,e.width-1),0,1,1),s=Object(r.a)(o.data,3),u=s[0],l=s[1],c=s[2];e.$emit("selectHue",{r:u,g:l,b:c})};a(t);document.addEventListener("mousemove",a),document.addEventListener("mouseup",(function t(){document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",t)}))}}},a=(n("5b63"),n("2877")),o=Object(a.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.prefix+"-hue",on:{mousedown:function(e){return e.preventDefault(),e.stopPropagation(),t.selectHue(e)}}},[n("canvas",{ref:"canvasHue",class:t.prefix+"-canvas2"}),n("div",{class:t.prefix+"-slide",style:t.slideHueStyle})])}),[],!1,null,"3a32c28a",null);e.a=o.exports},dc8d:function(t,e,n){n("746f")("hasInstance")},dca8:function(t,e,n){var r=n("23e7"),i=n("bb2f"),a=n("d039"),o=n("861d"),s=n("f183").onFreeze,u=Object.freeze;r({target:"Object",stat:!0,forced:a((function(){u(1)})),sham:!i},{freeze:function(t){return u&&o(t)?u(s(t)):t}})},ddb0:function(t,e,n){var r=n("da84"),i=n("fdbc"),a=n("e260"),o=n("9112"),s=n("b622"),u=s("iterator"),l=s("toStringTag"),c=a.values;for(var h in i){var f=r[h],d=f&&f.prototype;if(d){if(d[u]!==c)try{o(d,u,c)}catch(t){d[u]=c}if(d[l]||o(d,l,h),i[h])for(var p in a)if(d[p]!==a[p])try{o(d,p,a[p])}catch(t){d[p]=a[p]}}}},ddc7:function(t,e,n){"use strict";n("ac1f"),n("1276");var r={components:{Box:n("c3b4").a},inject:["prefix"],data:function(){return{prefix:this.prefix}},props:{color:{type:String,default:""}},methods:{inputHex:function(t,e){var n=e+t;this.$emit("inputColor",n)}},computed:{hex:function(){return this.color.split("#")[1]}}},i=(n("1edf"),n("2877")),a=Object(i.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{class:this.prefix+"-rgba-box"},[e("Box",{attrs:{name:"#",color:this.hex},on:{inputColor:this.inputHex}})],1)}),[],!1,null,"0227fdd5",null);e.a=a.exports},df29:function(t,e,n){"use strict";(function(t){n("99af"),n("0481"),n("4069"),n("a9e3"),n("cca6");var r=n("0b3d"),i=n("1452"),a=n("dc06"),o=n("5a51"),s=n("ee92"),u=n("ddc7"),l=n("31ce"),c=n("22a8"),h=n("be44"),f=n("db9f");e.a={name:"colorPicker",components:{Saturation:i.a,Hue:a.a,Alpha:o.a,Preview:s.a,HexBox:u.a,Colors:c.a,RgbaBox:l.a},mixins:[r.a,h.b],props:{colorPicker:{type:Object,default:function(){}},hideColorPicker:{type:Function,default:function(){return function(){}}},clickColorHide:{type:Boolean,default:!0},width:{type:Number,default:262},colorsDefault:{type:Array,default:function(){return["#B71C1C","#E65100","#F57F17","#1B5E20","#006064","#0D47A1","#1A237E","#4A148C","#880E4F","#D32F2F","#F57C00","#FBC02D","#388E3C","#0097A7","#1976D2","#303F9F","#7B1FA2","#C2185B","#F44336","#FF9800","#FFEB3B","#4CAF50","#00BCD4","#2196F3","#3F51B5","#9C27B0","#E91E63","#EF9A9A","#FFCC80","#FFF59D","#A5D6A7","#80DEEA","#90CAF9","#9FA8DA","#CE93D8","#F48FB1","#FFEBEE","#FFF3E0","#FFFDE7","#E8F5E9","#E0F7FA","#E3F2FD","#C5CAE9","#F3E5F5","#FCE4EC","#000000","#212121","#424242","#757575","#9E9E9E","#BDBDBD","#E0E0E0","#F5F5F5","#FFFFFF"]}},colorsHistoryKey:{type:String,default:"vue-colorpicker-history"},colorsSelfHistoryKey:{type:String,default:"vue-colorpicker-history-self"},prefix:{type:String,default:"DataCVGColorPicker"}},provide:function(){return{prefix:this.prefix}},data:function(){return{color:"#000000",flat:!1,flexLeft:0,flexTop:0,hueWidth:this.width-142+46,hueHeight:18,hueHeight2:150,hueWidth2:this.width-82+46,previewHeight:28,previewWidth:28,previewHeight2:18,previewWidth2:54,modelRgba:"",modelHex:"",colorsSelfShow:!1,colorsHistory:JSON.parse(localStorage.getItem(this.colorsHistoryKey))||[],colorsSelfHistory:JSON.parse(localStorage.getItem(this.colorsSelfHistoryKey))||[],r:0,g:0,b:0,a:1,h:0,s:0,v:0,enterAni:!1,leaveAni:!1,clicked:!1}},watch:{colorPicker:function(){this.colorPicker.flat&&this.show(this.colorPicker.el)},"colorPicker.flat":function(t){t?(this.enterAni=!0,this.colorsSelfShow=!1,this.clicked=!1):(this.leaveAni=!0,this.color=this.modelHex)},rgba:function(){this.$emit("gainColor",{rgba:this.rgba,hsv:this.hsv,hex:"rgba(".concat(this.rgba.r,",").concat(this.rgba.g,",").concat(this.rgba.b,",").concat(this.rgba.a,")")})}},computed:{rgba:function(){return{r:this.r,g:this.g,b:this.b,a:this.a}},hsv:function(){return{h:this.h,s:this.s,v:this.v}},rgbString:function(){return"rgb(".concat(this.r,", ").concat(this.g,", ").concat(this.b,")")},rgbaStringShort:function(){return"".concat(this.r,", ").concat(this.g,", ").concat(this.b,", ").concat(this.a)},rgbaString:function(){return"rgba(".concat(this.rgbaStringShort,")")},hexString:function(){return this.rgb2hex(this.rgba,!0)}},created:function(){},methods:{close:function(){this.clicked||(this.clicked=!0,this.hideColorPicker&&this.hideColorPicker())},afterAni:function(){this.enterAni=!1,this.leaveAni=!1},show:function(e){var n=this,r=t(this.$el).outerWidth(!0)||262,i=t(this.$el).outerHeight(!0),a=t(e)[0].offsetHeight,o=t(e).offset(),s=document.body.offsetWidth,u=document.body.offsetHeight,l=o.top+i>u?o.top-i:o.top+a,c=o.left+r>s?s-r:o.left;Object.assign(this.$el.style,{left:c+this.flexLeft+"px",top:l+this.flexTop+"px"}),Object.assign(this,this.setColorValue(this.colorPicker.color||this.color)),this.setText(),this.$nextTick((function(){n.$refs.saturation.renderColor(),n.$refs.saturation.renderSlide(),n.$refs.hue.renderSlide()}))},selectSaturation:function(t){var e=this.setColorValue(t),n=e.r,r=e.g,i=e.b,a=e.h,o=e.s,s=e.v;Object.assign(this,{r:n,g:r,b:i,h:a,s:o,v:s}),this.setText()},selectHue:function(t){var e=this,n=this.setColorValue(t),r=n.r,i=n.g,a=n.b,o=n.h,s=n.s,u=n.v;Object.assign(this,{r:r,g:i,b:a,h:o,s:s,v:u}),this.setText(),this.$nextTick((function(){e.$refs.saturation.renderColor(),e.$refs.saturation.renderSlide()}))},selectAlpha:function(t){this.a=t,this.setText()},inputHex:function(t){var e=this,n=this.setColorValue(t),r=n.r,i=n.g,a=n.b,o=n.a,s=n.h,u=n.s,l=n.v;Object.assign(this,{r:r,g:i,b:a,a:o,h:s,s:u,v:l}),this.modelHex=t,this.modelRgba=this.rgbaStringShort,this.$nextTick((function(){e.$refs.saturation.renderColor(),e.$refs.saturation.renderSlide(),e.$refs.hue.renderSlide()}))},inputRgba:function(t){var e=this,n=this.setColorValue(t),r=n.r,i=n.g,a=n.b,o=n.a,s=n.h,u=n.s,l=n.v;Object.assign(this,{r:r,g:i,b:a,a:o,h:s,s:u,v:l}),this.modelHex=this.hexString,this.modelRgba=t,this.$nextTick((function(){e.$refs.saturation.renderColor(),e.$refs.saturation.renderSlide(),e.$refs.hue.renderSlide()}))},setText:function(){this.modelHex=this.hexString,this.modelRgba=this.rgbaStringShort},setSelfColor:function(t){var e=this;this.setColorsHistory(t,"history"),this.setColorsHistory(t,"historySelf"),this.$nextTick((function(){e.close()}))},selectColor:function(t){var e=this;this.setColorsHistory(t,"history");var n=this.setColorValue(t),r=n.r,i=n.g,a=n.b,o=n.a,s=n.h,u=n.s,l=n.v;Object.assign(this,{r:r,g:i,b:a,a:o,h:s,s:u,v:l}),this.setText(),this.colorsHistory=JSON.parse(localStorage.getItem(this.colorsHistoryKey))||[],this.$nextTick((function(){e.$refs.saturation.renderColor(),e.$refs.saturation.renderSlide(),e.$refs.hue.renderSlide(),e.clickColorHide&&e.close()}))},selectColorSelf:function(t){this.colorsSelfShow=t},stopPop:function(t){Object(f.b)(t)}}}}).call(this,n("1157"))},df75:function(t,e,n){var r=n("ca84"),i=n("7839");t.exports=Object.keys||function(t){return r(t,i)}},df7c:function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function r(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}e.resolve=function(){for(var e="",i=!1,a=arguments.length-1;a>=-1&&!i;a--){var o=a>=0?arguments[a]:t.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(e=o+"/"+e,i="/"===o.charAt(0))}return(i?"/":"")+(e=n(r(e.split("/"),(function(t){return!!t})),!i).join("/"))||"."},e.normalize=function(t){var a=e.isAbsolute(t),o="/"===i(t,-1);return(t=n(r(t.split("/"),(function(t){return!!t})),!a).join("/"))||a||(t="."),t&&o&&(t+="/"),(a?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(r(t,(function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var i=r(t.split("/")),a=r(n.split("/")),o=Math.min(i.length,a.length),s=o,u=0;u<o;u++)if(i[u]!==a[u]){s=u;break}var l=[];for(u=s;u<i.length;u++)l.push("..");return(l=l.concat(a.slice(s))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!=typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),n=47===e,r=-1,i=!0,a=t.length-1;a>=1;--a)if(47===(e=t.charCodeAt(a))){if(!i){r=a;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":t.slice(0,r)},e.basename=function(t,e){var n=function(t){"string"!=typeof t&&(t+="");var e,n=0,r=-1,i=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!i){n=e+1;break}}else-1===r&&(i=!1,r=e+1);return-1===r?"":t.slice(n,r)}(t);return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){"string"!=typeof t&&(t+="");for(var e=-1,n=0,r=-1,i=!0,a=0,o=t.length-1;o>=0;--o){var s=t.charCodeAt(o);if(47!==s)-1===r&&(i=!1,r=o+1),46===s?-1===e?e=o:1!==a&&(a=1):-1!==e&&(a=-1);else if(!i){n=o+1;break}}return-1===e||-1===r||0===a||1===a&&e===r-1&&e===n+1?"":t.slice(e,r)};var i="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n("4362"))},dfe5:function(t,e){},e01a:function(t,e,n){"use strict";var r=n("23e7"),i=n("83ab"),a=n("da84"),o=n("5135"),s=n("861d"),u=n("9bf2").f,l=n("e893"),c=a.Symbol;if(i&&"function"==typeof c&&(!("description"in c.prototype)||void 0!==c().description)){var h={},f=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof f?new c(t):void 0===t?c():c(t);return""===t&&(h[e]=!0),e};l(f,c);var d=f.prototype=c.prototype;d.constructor=f;var p=d.toString,m="Symbol(test)"==String(c("test")),g=/^Symbol\((.*)\)[^)]+$/;u(d,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=p.call(t);if(o(h,t))return"";var n=m?e.slice(7,-1):e.replace(g,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:f})}},e099:function(t,e,n){"use strict";var r=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,s){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?a(o(t),(function(o){var s=encodeURIComponent(r(o))+n;return i(t[o])?a(t[o],(function(t){return s+encodeURIComponent(r(t))})).join(e):s+encodeURIComponent(r(t[o]))})).join(e):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(t)):""};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function a(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var o=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},e163:function(t,e,n){var r=n("5135"),i=n("7b0b"),a=n("f772"),o=n("e177"),s=a("IE_PROTO"),u=Object.prototype;t.exports=o?Object.getPrototypeOf:function(t){return t=i(t),r(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},e177:function(t,e,n){var r=n("d039");t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},e198:function(t,e,n){var r=n("ef08"),i=n("5524"),a=n("e444"),o=n("fcd4"),s=n("1a14").f;t.exports=function(t){var e=i.Symbol||(i.Symbol=a?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:o.f(t)})}},e21d:function(t,e,n){var r=n("23e7"),i=n("d039"),a=n("861d"),o=Object.isFrozen;r({target:"Object",stat:!0,forced:i((function(){o(1)}))},{isFrozen:function(t){return!a(t)||!!o&&o(t)}})},e25e:function(t,e,n){var r=n("23e7"),i=n("c20d");r({global:!0,forced:parseInt!=i},{parseInt:i})},e260:function(t,e,n){"use strict";var r=n("fc6a"),i=n("44d2"),a=n("3f8c"),o=n("69f3"),s=n("7dd0"),u=o.set,l=o.getterFor("Array Iterator");t.exports=s(Array,"Array",(function(t,e){u(this,{type:"Array Iterator",target:r(t),index:0,kind:e})}),(function(){var t=l(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),a.Arguments=a.Array,i("keys"),i("values"),i("entries")},e285:function(t,e,n){var r=n("da84").isFinite;t.exports=Number.isFinite||function(t){return"number"==typeof t&&r(t)}},e2cc:function(t,e,n){var r=n("6eeb");t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},e34a:function(t,e,n){var r=n("8b1a")("meta"),i=n("7a41"),a=n("9c0e"),o=n("1a14").f,s=0,u=Object.isExtensible||function(){return!0},l=!n("4b8b")((function(){return u(Object.preventExtensions({}))})),c=function(t){o(t,r,{value:{i:"O"+ ++s,w:{}}})},h=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,r)){if(!u(t))return"F";if(!e)return"E";c(t)}return t[r].i},getWeak:function(t,e){if(!a(t,r)){if(!u(t))return!0;if(!e)return!1;c(t)}return t[r].w},onFreeze:function(t){return l&&h.NEED&&u(t)&&!a(t,r)&&c(t),t}}},e37d:function(t,e,n){"use strict";(function(t){var r=n("f0bd"),i=n("252c");function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var c=function(){};function h(t){return"string"==typeof t&&(t=t.split(" ")),t}function f(t,e){var n,r=h(e);n=t.className instanceof c?h(t.className.baseVal):h(t.className),r.forEach((function(t){-1===n.indexOf(t)&&n.push(t)})),t instanceof SVGElement?t.setAttribute("class",n.join(" ")):t.className=n.join(" ")}function d(t,e){var n,r=h(e);n=t.className instanceof c?h(t.className.baseVal):h(t.className),r.forEach((function(t){var e=n.indexOf(t);-1!==e&&n.splice(e,1)})),t instanceof SVGElement?t.setAttribute("class",n.join(" ")):t.className=n.join(" ")}"undefined"!=typeof window&&(c=window.SVGAnimatedString);var p=!1;if("undefined"!=typeof window){p=!1;try{var m=Object.defineProperty({},"passive",{get:function(){p=!0}});window.addEventListener("test",null,m)}catch(t){}}var g=function(){this.__data__=[],this.size=0};var _=function(t,e){return t===e||t!=t&&e!=e};var v=function(t,e){for(var n=t.length;n--;)if(_(t[n][0],e))return n;return-1},y=Array.prototype.splice;var b=function(t){var e=this.__data__,n=v(e,t);return!(n<0)&&(n==e.length-1?e.pop():y.call(e,n,1),--this.size,!0)};var x=function(t){var e=this.__data__,n=v(e,t);return n<0?void 0:e[n][1]};var w=function(t){return v(this.__data__,t)>-1};var T=function(t,e){var n=this.__data__,r=v(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function S(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}S.prototype.clear=g,S.prototype.delete=b,S.prototype.get=x,S.prototype.has=w,S.prototype.set=T;var E=S;var C=function(){this.__data__=new E,this.size=0};var A=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n};var M=function(t){return this.__data__.get(t)};var O=function(t){return this.__data__.has(t)},D="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};function N(t,e){return t(e={exports:{}},e.exports),e.exports}var I="object"==typeof D&&D&&D.Object===Object&&D,P="object"==typeof self&&self&&self.Object===Object&&self,L=I||P||Function("return this")(),R=L.Symbol,k=Object.prototype,B=k.hasOwnProperty,F=k.toString,z=R?R.toStringTag:void 0;var j=function(t){var e=B.call(t,z),n=t[z];try{t[z]=void 0;var r=!0}catch(t){}var i=F.call(t);return r&&(e?t[z]=n:delete t[z]),i},U=Object.prototype.toString;var H=function(t){return U.call(t)},V=R?R.toStringTag:void 0;var G=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":V&&V in Object(t)?j(t):H(t)};var W=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)};var $,X=function(t){if(!W(t))return!1;var e=G(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},q=L["__core-js_shared__"],Y=($=/[^.]+$/.exec(q&&q.keys&&q.keys.IE_PROTO||""))?"Symbol(src)_1."+$:"";var Z=function(t){return!!Y&&Y in t},K=Function.prototype.toString;var J=function(t){if(null!=t){try{return K.call(t)}catch(t){}try{return t+""}catch(t){}}return""},Q=/^\[object .+?Constructor\]$/,tt=Function.prototype,et=Object.prototype,nt=tt.toString,rt=et.hasOwnProperty,it=RegExp("^"+nt.call(rt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var at=function(t){return!(!W(t)||Z(t))&&(X(t)?it:Q).test(J(t))};var ot=function(t,e){return null==t?void 0:t[e]};var st=function(t,e){var n=ot(t,e);return at(n)?n:void 0},ut=st(L,"Map"),lt=st(Object,"create");var ct=function(){this.__data__=lt?lt(null):{},this.size=0};var ht=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},ft=Object.prototype.hasOwnProperty;var dt=function(t){var e=this.__data__;if(lt){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return ft.call(e,t)?e[t]:void 0},pt=Object.prototype.hasOwnProperty;var mt=function(t){var e=this.__data__;return lt?void 0!==e[t]:pt.call(e,t)};var gt=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=lt&&void 0===e?"__lodash_hash_undefined__":e,this};function _t(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}_t.prototype.clear=ct,_t.prototype.delete=ht,_t.prototype.get=dt,_t.prototype.has=mt,_t.prototype.set=gt;var vt=_t;var yt=function(){this.size=0,this.__data__={hash:new vt,map:new(ut||E),string:new vt}};var bt=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var xt=function(t,e){var n=t.__data__;return bt(e)?n["string"==typeof e?"string":"hash"]:n.map};var wt=function(t){var e=xt(this,t).delete(t);return this.size-=e?1:0,e};var Tt=function(t){return xt(this,t).get(t)};var St=function(t){return xt(this,t).has(t)};var Et=function(t,e){var n=xt(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function Ct(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ct.prototype.clear=yt,Ct.prototype.delete=wt,Ct.prototype.get=Tt,Ct.prototype.has=St,Ct.prototype.set=Et;var At=Ct;var Mt=function(t,e){var n=this.__data__;if(n instanceof E){var r=n.__data__;if(!ut||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new At(r)}return n.set(t,e),this.size=n.size,this};function Ot(t){var e=this.__data__=new E(t);this.size=e.size}Ot.prototype.clear=C,Ot.prototype.delete=A,Ot.prototype.get=M,Ot.prototype.has=O,Ot.prototype.set=Mt;var Dt=Ot;var Nt=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this};var It=function(t){return this.__data__.has(t)};function Pt(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new At;++e<n;)this.add(t[e])}Pt.prototype.add=Pt.prototype.push=Nt,Pt.prototype.has=It;var Lt=Pt;var Rt=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1};var kt=function(t,e){return t.has(e)};var Bt=function(t,e,n,r,i,a){var o=1&n,s=t.length,u=e.length;if(s!=u&&!(o&&u>s))return!1;var l=a.get(t);if(l&&a.get(e))return l==e;var c=-1,h=!0,f=2&n?new Lt:void 0;for(a.set(t,e),a.set(e,t);++c<s;){var d=t[c],p=e[c];if(r)var m=o?r(p,d,c,e,t,a):r(d,p,c,t,e,a);if(void 0!==m){if(m)continue;h=!1;break}if(f){if(!Rt(e,(function(t,e){if(!kt(f,e)&&(d===t||i(d,t,n,r,a)))return f.push(e)}))){h=!1;break}}else if(d!==p&&!i(d,p,n,r,a)){h=!1;break}}return a.delete(t),a.delete(e),h},Ft=L.Uint8Array;var zt=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n};var jt=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n},Ut=R?R.prototype:void 0,Ht=Ut?Ut.valueOf:void 0;var Vt=function(t,e,n,r,i,a,o){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!a(new Ft(t),new Ft(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return _(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var s=zt;case"[object Set]":var u=1&r;if(s||(s=jt),t.size!=e.size&&!u)return!1;var l=o.get(t);if(l)return l==e;r|=2,o.set(t,e);var c=Bt(s(t),s(e),r,i,a,o);return o.delete(t),c;case"[object Symbol]":if(Ht)return Ht.call(t)==Ht.call(e)}return!1};var Gt=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t},Wt=Array.isArray;var $t=function(t,e,n){var r=e(t);return Wt(t)?r:Gt(r,n(t))};var Xt=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[i++]=o)}return a};var qt=function(){return[]},Yt=Object.prototype.propertyIsEnumerable,Zt=Object.getOwnPropertySymbols,Kt=Zt?function(t){return null==t?[]:(t=Object(t),Xt(Zt(t),(function(e){return Yt.call(t,e)})))}:qt;var Jt=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r};var Qt=function(t){return null!=t&&"object"==typeof t};var te=function(t){return Qt(t)&&"[object Arguments]"==G(t)},ee=Object.prototype,ne=ee.hasOwnProperty,re=ee.propertyIsEnumerable,ie=te(function(){return arguments}())?te:function(t){return Qt(t)&&ne.call(t,"callee")&&!re.call(t,"callee")};var ae=function(){return!1},oe=N((function(t,e){var n=e&&!e.nodeType&&e,r=n&&t&&!t.nodeType&&t,i=r&&r.exports===n?L.Buffer:void 0,a=(i?i.isBuffer:void 0)||ae;t.exports=a})),se=/^(?:0|[1-9]\d*)$/;var ue=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&se.test(t))&&t>-1&&t%1==0&&t<e};var le=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},ce={};ce["[object Float32Array]"]=ce["[object Float64Array]"]=ce["[object Int8Array]"]=ce["[object Int16Array]"]=ce["[object Int32Array]"]=ce["[object Uint8Array]"]=ce["[object Uint8ClampedArray]"]=ce["[object Uint16Array]"]=ce["[object Uint32Array]"]=!0,ce["[object Arguments]"]=ce["[object Array]"]=ce["[object ArrayBuffer]"]=ce["[object Boolean]"]=ce["[object DataView]"]=ce["[object Date]"]=ce["[object Error]"]=ce["[object Function]"]=ce["[object Map]"]=ce["[object Number]"]=ce["[object Object]"]=ce["[object RegExp]"]=ce["[object Set]"]=ce["[object String]"]=ce["[object WeakMap]"]=!1;var he=function(t){return Qt(t)&&le(t.length)&&!!ce[G(t)]};var fe=function(t){return function(e){return t(e)}},de=N((function(t,e){var n=e&&!e.nodeType&&e,r=n&&t&&!t.nodeType&&t,i=r&&r.exports===n&&I.process,a=function(){try{var t=r&&r.require&&r.require("util").types;return t||i&&i.binding&&i.binding("util")}catch(t){}}();t.exports=a})),pe=de&&de.isTypedArray,me=pe?fe(pe):he,ge=Object.prototype.hasOwnProperty;var _e=function(t,e){var n=Wt(t),r=!n&&ie(t),i=!n&&!r&&oe(t),a=!n&&!r&&!i&&me(t),o=n||r||i||a,s=o?Jt(t.length,String):[],u=s.length;for(var l in t)!e&&!ge.call(t,l)||o&&("length"==l||i&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ue(l,u))||s.push(l);return s},ve=Object.prototype;var ye=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ve)};var be=function(t,e){return function(n){return t(e(n))}},xe=be(Object.keys,Object),we=Object.prototype.hasOwnProperty;var Te=function(t){if(!ye(t))return xe(t);var e=[];for(var n in Object(t))we.call(t,n)&&"constructor"!=n&&e.push(n);return e};var Se=function(t){return null!=t&&le(t.length)&&!X(t)};var Ee=function(t){return Se(t)?_e(t):Te(t)};var Ce=function(t){return $t(t,Ee,Kt)},Ae=Object.prototype.hasOwnProperty;var Me=function(t,e,n,r,i,a){var o=1&n,s=Ce(t),u=s.length;if(u!=Ce(e).length&&!o)return!1;for(var l=u;l--;){var c=s[l];if(!(o?c in e:Ae.call(e,c)))return!1}var h=a.get(t);if(h&&a.get(e))return h==e;var f=!0;a.set(t,e),a.set(e,t);for(var d=o;++l<u;){var p=t[c=s[l]],m=e[c];if(r)var g=o?r(m,p,c,e,t,a):r(p,m,c,t,e,a);if(!(void 0===g?p===m||i(p,m,n,r,a):g)){f=!1;break}d||(d="constructor"==c)}if(f&&!d){var _=t.constructor,v=e.constructor;_==v||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof v&&v instanceof v||(f=!1)}return a.delete(t),a.delete(e),f},Oe=st(L,"DataView"),De=st(L,"Promise"),Ne=st(L,"Set"),Ie=st(L,"WeakMap"),Pe=J(Oe),Le=J(ut),Re=J(De),ke=J(Ne),Be=J(Ie),Fe=G;(Oe&&"[object DataView]"!=Fe(new Oe(new ArrayBuffer(1)))||ut&&"[object Map]"!=Fe(new ut)||De&&"[object Promise]"!=Fe(De.resolve())||Ne&&"[object Set]"!=Fe(new Ne)||Ie&&"[object WeakMap]"!=Fe(new Ie))&&(Fe=function(t){var e=G(t),n="[object Object]"==e?t.constructor:void 0,r=n?J(n):"";if(r)switch(r){case Pe:return"[object DataView]";case Le:return"[object Map]";case Re:return"[object Promise]";case ke:return"[object Set]";case Be:return"[object WeakMap]"}return e});var ze=Fe,je=Object.prototype.hasOwnProperty;var Ue=function(t,e,n,r,i,a){var o=Wt(t),s=Wt(e),u=o?"[object Array]":ze(t),l=s?"[object Array]":ze(e),c="[object Object]"==(u="[object Arguments]"==u?"[object Object]":u),h="[object Object]"==(l="[object Arguments]"==l?"[object Object]":l),f=u==l;if(f&&oe(t)){if(!oe(e))return!1;o=!0,c=!1}if(f&&!c)return a||(a=new Dt),o||me(t)?Bt(t,e,n,r,i,a):Vt(t,e,u,n,r,i,a);if(!(1&n)){var d=c&&je.call(t,"__wrapped__"),p=h&&je.call(e,"__wrapped__");if(d||p){var m=d?t.value():t,g=p?e.value():e;return a||(a=new Dt),i(m,g,n,r,a)}}return!!f&&(a||(a=new Dt),Me(t,e,n,r,i,a))};var He=function t(e,n,r,i,a){return e===n||(null==e||null==n||!Qt(e)&&!Qt(n)?e!=e&&n!=n:Ue(e,n,r,i,t,a))};var Ve=function(t,e){return He(t,e)},Ge={container:!1,delay:0,html:!1,placement:"top",title:"",template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",offset:0},We=[],$e=function(){function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,"_events",[]),s(this,"_setTooltipNodeEvent",(function(t,e,n,i){var a=t.relatedreference||t.toElement||t.relatedTarget;return!!r._tooltipNode.contains(a)&&(r._tooltipNode.addEventListener(t.type,(function n(a){var o=a.relatedreference||a.toElement||a.relatedTarget;r._tooltipNode.removeEventListener(t.type,n),e.contains(o)||r._scheduleHide(e,i.delay,i,a)})),!0)})),n=l({},Ge,{},n),e.jquery&&(e=e[0]),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.reference=e,this.options=n,this._isOpen=!1,this._init()}var e,n,i;return e=t,(n=[{key:"show",value:function(){this._show(this.reference,this.options)}},{key:"hide",value:function(){this._hide()}},{key:"dispose",value:function(){this._dispose()}},{key:"toggle",value:function(){return this._isOpen?this.hide():this.show()}},{key:"setClasses",value:function(t){this._classes=t}},{key:"setContent",value:function(t){this.options.title=t,this._tooltipNode&&this._setContent(t,this.options)}},{key:"setOptions",value:function(t){var e=!1,n=t&&t.classes||en.options.defaultClass;Ve(this._classes,n)||(this.setClasses(n),e=!0),t=Ze(t);var r=!1,i=!1;for(var a in this.options.offset===t.offset&&this.options.placement===t.placement||(r=!0),(this.options.template!==t.template||this.options.trigger!==t.trigger||this.options.container!==t.container||e)&&(i=!0),t)this.options[a]=t[a];if(this._tooltipNode)if(i){var o=this._isOpen;this.dispose(),this._init(),o&&this.show()}else r&&this.popperInstance.update()}},{key:"_init",value:function(){var t="string"==typeof this.options.trigger?this.options.trigger.split(" "):[];this._isDisposed=!1,this._enableDocumentTouch=-1===t.indexOf("manual"),t=t.filter((function(t){return-1!==["click","hover","focus"].indexOf(t)})),this._setEventListeners(this.reference,t,this.options),this.$_originalTitle=this.reference.getAttribute("title"),this.reference.removeAttribute("title"),this.reference.setAttribute("data-original-title",this.$_originalTitle)}},{key:"_create",value:function(t,e){var n=window.document.createElement("div");n.innerHTML=e.trim();var r=n.childNodes[0];return r.id="tooltip_".concat(Math.random().toString(36).substr(2,10)),r.setAttribute("aria-hidden","true"),this.options.autoHide&&-1!==this.options.trigger.indexOf("hover")&&(r.addEventListener("mouseenter",this.hide),r.addEventListener("click",this.hide)),r}},{key:"_setContent",value:function(t,e){var n=this;this.asyncContent=!1,this._applyContent(t,e).then((function(){n.popperInstance.update()}))}},{key:"_applyContent",value:function(t,e){var n=this;return new Promise((function(r,i){var a=e.html,o=n._tooltipNode;if(o){var s=o.querySelector(n.options.innerSelector);if(1===t.nodeType){if(a){for(;s.firstChild;)s.removeChild(s.firstChild);s.appendChild(t)}}else{if("function"==typeof t){var u=t();return void(u&&"function"==typeof u.then?(n.asyncContent=!0,e.loadingClass&&f(o,e.loadingClass),e.loadingContent&&n._applyContent(e.loadingContent,e),u.then((function(t){return e.loadingClass&&d(o,e.loadingClass),n._applyContent(t,e)})).then(r).catch(i)):n._applyContent(u,e).then(r).catch(i))}a?s.innerHTML=t:s.innerText=t}r()}}))}},{key:"_show",value:function(t,e){if(!e||"string"!=typeof e.container||document.querySelector(e.container)){clearTimeout(this._disposeTimer),delete(e=Object.assign({},e)).offset;var n=!0;this._tooltipNode&&(f(this._tooltipNode,this._classes),n=!1);var r=this._ensureShown(t,e);return n&&this._tooltipNode&&f(this._tooltipNode,this._classes),f(t,["v-tooltip-open"]),r}}},{key:"_ensureShown",value:function(t,e){var n=this;if(this._isOpen)return this;if(this._isOpen=!0,We.push(this),this._tooltipNode)return this._tooltipNode.style.display="",this._tooltipNode.setAttribute("aria-hidden","false"),this.popperInstance.enableEventListeners(),this.popperInstance.update(),this.asyncContent&&this._setContent(e.title,e),this;var i=t.getAttribute("title")||e.title;if(!i)return this;var a=this._create(t,e.template);this._tooltipNode=a,t.setAttribute("aria-describedby",a.id);var o=this._findContainer(e.container,t);this._append(a,o);var s=l({},e.popperOptions,{placement:e.placement});return s.modifiers=l({},s.modifiers,{arrow:{element:this.options.arrowSelector}}),e.boundariesElement&&(s.modifiers.preventOverflow={boundariesElement:e.boundariesElement}),this.popperInstance=new r.a(t,a,s),this._setContent(i,e),requestAnimationFrame((function(){!n._isDisposed&&n.popperInstance?(n.popperInstance.update(),requestAnimationFrame((function(){n._isDisposed?n.dispose():n._isOpen&&a.setAttribute("aria-hidden","false")}))):n.dispose()})),this}},{key:"_noLongerOpen",value:function(){var t=We.indexOf(this);-1!==t&&We.splice(t,1)}},{key:"_hide",value:function(){var t=this;if(!this._isOpen)return this;this._isOpen=!1,this._noLongerOpen(),this._tooltipNode.style.display="none",this._tooltipNode.setAttribute("aria-hidden","true"),this.popperInstance.disableEventListeners(),clearTimeout(this._disposeTimer);var e=en.options.disposeTimeout;return null!==e&&(this._disposeTimer=setTimeout((function(){t._tooltipNode&&(t._tooltipNode.removeEventListener("mouseenter",t.hide),t._tooltipNode.removeEventListener("click",t.hide),t._removeTooltipNode())}),e)),d(this.reference,["v-tooltip-open"]),this}},{key:"_removeTooltipNode",value:function(){if(this._tooltipNode){var t=this._tooltipNode.parentNode;t&&(t.removeChild(this._tooltipNode),this.reference.removeAttribute("aria-describedby")),this._tooltipNode=null}}},{key:"_dispose",value:function(){var t=this;return this._isDisposed=!0,this.reference.removeAttribute("data-original-title"),this.$_originalTitle&&this.reference.setAttribute("title",this.$_originalTitle),this._events.forEach((function(e){var n=e.func,r=e.event;t.reference.removeEventListener(r,n)})),this._events=[],this._tooltipNode?(this._hide(),this._tooltipNode.removeEventListener("mouseenter",this.hide),this._tooltipNode.removeEventListener("click",this.hide),this.popperInstance.destroy(),this.popperInstance.options.removeOnDestroy||this._removeTooltipNode()):this._noLongerOpen(),this}},{key:"_findContainer",value:function(t,e){return"string"==typeof t?t=window.document.querySelector(t):!1===t&&(t=e.parentNode),t}},{key:"_append",value:function(t,e){e.appendChild(t)}},{key:"_setEventListeners",value:function(t,e,n){var r=this,i=[],a=[];e.forEach((function(t){switch(t){case"hover":i.push("mouseenter"),a.push("mouseleave"),r.options.hideOnTargetClick&&a.push("click");break;case"focus":i.push("focus"),a.push("blur"),r.options.hideOnTargetClick&&a.push("click");break;case"click":i.push("click"),a.push("click")}})),i.forEach((function(e){var i=function(e){!0!==r._isOpen&&(e.usedByTooltip=!0,r._scheduleShow(t,n.delay,n,e))};r._events.push({event:e,func:i}),t.addEventListener(e,i)})),a.forEach((function(e){var i=function(e){!0!==e.usedByTooltip&&r._scheduleHide(t,n.delay,n,e)};r._events.push({event:e,func:i}),t.addEventListener(e,i)}))}},{key:"_onDocumentTouch",value:function(t){this._enableDocumentTouch&&this._scheduleHide(this.reference,this.options.delay,this.options,t)}},{key:"_scheduleShow",value:function(t,e,n){var r=this,i=e&&e.show||e||0;clearTimeout(this._scheduleTimer),this._scheduleTimer=window.setTimeout((function(){return r._show(t,n)}),i)}},{key:"_scheduleHide",value:function(t,e,n,r){var i=this,a=e&&e.hide||e||0;clearTimeout(this._scheduleTimer),this._scheduleTimer=window.setTimeout((function(){if(!1!==i._isOpen&&i._tooltipNode.ownerDocument.body.contains(i._tooltipNode)){if("mouseleave"===r.type&&i._setTooltipNodeEvent(r,t,e,n))return;i._hide(t,n)}}),a)}}])&&o(e.prototype,n),i&&o(e,i),t}();"undefined"!=typeof document&&document.addEventListener("touchstart",(function(t){for(var e=0;e<We.length;e++)We[e]._onDocumentTouch(t)}),!p||{passive:!0,capture:!0});var Xe={enabled:!0},qe=["top","top-start","top-end","right","right-start","right-end","bottom","bottom-start","bottom-end","left","left-start","left-end"],Ye={defaultPlacement:"top",defaultClass:"vue-tooltip-theme",defaultTargetClass:"has-tooltip",defaultHtml:!0,defaultTemplate:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',defaultArrowSelector:".tooltip-arrow, .tooltip__arrow",defaultInnerSelector:".tooltip-inner, .tooltip__inner",defaultDelay:0,defaultTrigger:"hover focus",defaultOffset:0,defaultContainer:"body",defaultBoundariesElement:void 0,defaultPopperOptions:{},defaultLoadingClass:"tooltip-loading",defaultLoadingContent:"...",autoHide:!0,defaultHideOnTargetClick:!0,disposeTimeout:5e3,popover:{defaultPlacement:"bottom",defaultClass:"vue-popover-theme",defaultBaseClass:"tooltip popover",defaultWrapperClass:"wrapper",defaultInnerClass:"tooltip-inner popover-inner",defaultArrowClass:"tooltip-arrow popover-arrow",defaultOpenClass:"open",defaultDelay:0,defaultTrigger:"click",defaultOffset:0,defaultContainer:"body",defaultBoundariesElement:void 0,defaultPopperOptions:{},defaultAutoHide:!0,defaultHandleResize:!0}};function Ze(t){var e={placement:void 0!==t.placement?t.placement:en.options.defaultPlacement,delay:void 0!==t.delay?t.delay:en.options.defaultDelay,html:void 0!==t.html?t.html:en.options.defaultHtml,template:void 0!==t.template?t.template:en.options.defaultTemplate,arrowSelector:void 0!==t.arrowSelector?t.arrowSelector:en.options.defaultArrowSelector,innerSelector:void 0!==t.innerSelector?t.innerSelector:en.options.defaultInnerSelector,trigger:void 0!==t.trigger?t.trigger:en.options.defaultTrigger,offset:void 0!==t.offset?t.offset:en.options.defaultOffset,container:void 0!==t.container?t.container:en.options.defaultContainer,boundariesElement:void 0!==t.boundariesElement?t.boundariesElement:en.options.defaultBoundariesElement,autoHide:void 0!==t.autoHide?t.autoHide:en.options.autoHide,hideOnTargetClick:void 0!==t.hideOnTargetClick?t.hideOnTargetClick:en.options.defaultHideOnTargetClick,loadingClass:void 0!==t.loadingClass?t.loadingClass:en.options.defaultLoadingClass,loadingContent:void 0!==t.loadingContent?t.loadingContent:en.options.defaultLoadingContent,popperOptions:l({},void 0!==t.popperOptions?t.popperOptions:en.options.defaultPopperOptions)};if(e.offset){var n=a(e.offset),r=e.offset;("number"===n||"string"===n&&-1===r.indexOf(","))&&(r="0, ".concat(r)),e.popperOptions.modifiers||(e.popperOptions.modifiers={}),e.popperOptions.modifiers.offset={offset:r}}return e.trigger&&-1!==e.trigger.indexOf("click")&&(e.hideOnTargetClick=!1),e}function Ke(t,e){for(var n=t.placement,r=0;r<qe.length;r++){var i=qe[r];e[i]&&(n=i)}return n}function Je(t){var e=a(t);return"string"===e?t:!(!t||"object"!==e)&&t.content}function Qe(t){t._tooltip&&(t._tooltip.dispose(),delete t._tooltip,delete t._tooltipOldShow),t._tooltipTargetClasses&&(d(t,t._tooltipTargetClasses),delete t._tooltipTargetClasses)}function tn(t,e){var n,r=e.value,i=(e.oldValue,e.modifiers),a=Je(r);a&&Xe.enabled?(t._tooltip?((n=t._tooltip).setContent(a),n.setOptions(l({},r,{placement:Ke(r,i)}))):n=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Je(e),i=void 0!==e.classes?e.classes:en.options.defaultClass,a=l({title:r},Ze(l({},e,{placement:Ke(e,n)}))),o=t._tooltip=new $e(t,a);o.setClasses(i),o._vueEl=t;var s=void 0!==e.targetClasses?e.targetClasses:en.options.defaultTargetClass;return t._tooltipTargetClasses=s,f(t,s),o}(t,r,i),void 0!==r.show&&r.show!==t._tooltipOldShow&&(t._tooltipOldShow=r.show,r.show?n.show():n.hide())):Qe(t)}var en={options:Ye,bind:tn,update:tn,unbind:function(t){Qe(t)}};function nn(t){t.addEventListener("click",an),t.addEventListener("touchstart",on,!!p&&{passive:!0})}function rn(t){t.removeEventListener("click",an),t.removeEventListener("touchstart",on),t.removeEventListener("touchend",sn),t.removeEventListener("touchcancel",un)}function an(t){var e=t.currentTarget;t.closePopover=!e.$_vclosepopover_touch,t.closeAllPopover=e.$_closePopoverModifiers&&!!e.$_closePopoverModifiers.all}function on(t){if(1===t.changedTouches.length){var e=t.currentTarget;e.$_vclosepopover_touch=!0;var n=t.changedTouches[0];e.$_vclosepopover_touchPoint=n,e.addEventListener("touchend",sn),e.addEventListener("touchcancel",un)}}function sn(t){var e=t.currentTarget;if(e.$_vclosepopover_touch=!1,1===t.changedTouches.length){var n=t.changedTouches[0],r=e.$_vclosepopover_touchPoint;t.closePopover=Math.abs(n.screenY-r.screenY)<20&&Math.abs(n.screenX-r.screenX)<20,t.closeAllPopover=e.$_closePopoverModifiers&&!!e.$_closePopoverModifiers.all}}function un(t){t.currentTarget.$_vclosepopover_touch=!1}var ln={bind:function(t,e){var n=e.value,r=e.modifiers;t.$_closePopoverModifiers=r,(void 0===n||n)&&nn(t)},update:function(t,e){var n=e.value,r=e.oldValue,i=e.modifiers;t.$_closePopoverModifiers=i,n!==r&&(void 0===n||n?nn(t):rn(t))},unbind:function(t){rn(t)}};function cn(t){var e=en.options.popover[t];return void 0===e?en.options[t]:e}var hn=!1;"undefined"!=typeof window&&"undefined"!=typeof navigator&&(hn=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream);var fn=[],dn=function(){};"undefined"!=typeof window&&(dn=window.Element);var pn={name:"VPopover",components:{ResizeObserver:i.a},props:{open:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placement:{type:String,default:function(){return cn("defaultPlacement")}},delay:{type:[String,Number,Object],default:function(){return cn("defaultDelay")}},offset:{type:[String,Number],default:function(){return cn("defaultOffset")}},trigger:{type:String,default:function(){return cn("defaultTrigger")}},container:{type:[String,Object,dn,Boolean],default:function(){return cn("defaultContainer")}},boundariesElement:{type:[String,dn],default:function(){return cn("defaultBoundariesElement")}},popperOptions:{type:Object,default:function(){return cn("defaultPopperOptions")}},popoverClass:{type:[String,Array],default:function(){return cn("defaultClass")}},popoverBaseClass:{type:[String,Array],default:function(){return en.options.popover.defaultBaseClass}},popoverInnerClass:{type:[String,Array],default:function(){return en.options.popover.defaultInnerClass}},popoverWrapperClass:{type:[String,Array],default:function(){return en.options.popover.defaultWrapperClass}},popoverArrowClass:{type:[String,Array],default:function(){return en.options.popover.defaultArrowClass}},autoHide:{type:Boolean,default:function(){return en.options.popover.defaultAutoHide}},handleResize:{type:Boolean,default:function(){return en.options.popover.defaultHandleResize}},openGroup:{type:String,default:null},openClass:{type:[String,Array],default:function(){return en.options.popover.defaultOpenClass}}},data:function(){return{isOpen:!1,id:Math.random().toString(36).substr(2,10)}},computed:{cssClass:function(){return s({},this.openClass,this.isOpen)},popoverId:function(){return"popover_".concat(this.id)}},watch:{open:function(t){t?this.show():this.hide()},disabled:function(t,e){t!==e&&(t?this.hide():this.open&&this.show())},container:function(t){if(this.isOpen&&this.popperInstance){var e=this.$refs.popover,n=this.$refs.trigger,r=this.$_findContainer(this.container,n);if(!r)return void console.warn("No container for popover",this);r.appendChild(e),this.popperInstance.scheduleUpdate()}},trigger:function(t){this.$_removeEventListeners(),this.$_addEventListeners()},placement:function(t){var e=this;this.$_updatePopper((function(){e.popperInstance.options.placement=t}))},offset:"$_restartPopper",boundariesElement:"$_restartPopper",popperOptions:{handler:"$_restartPopper",deep:!0}},created:function(){this.$_isDisposed=!1,this.$_mounted=!1,this.$_events=[],this.$_preventOpen=!1},mounted:function(){var t=this.$refs.popover;t.parentNode&&t.parentNode.removeChild(t),this.$_init(),this.open&&this.show()},deactivated:function(){this.hide()},beforeDestroy:function(){this.dispose()},methods:{show:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.event,r=(e.skipDelay,e.force),i=void 0!==r&&r;!i&&this.disabled||(this.$_scheduleShow(n),this.$emit("show")),this.$emit("update:open",!0),this.$_beingShowed=!0,requestAnimationFrame((function(){t.$_beingShowed=!1}))},hide:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.event;t.skipDelay;this.$_scheduleHide(e),this.$emit("hide"),this.$emit("update:open",!1)},dispose:function(){if(this.$_isDisposed=!0,this.$_removeEventListeners(),this.hide({skipDelay:!0}),this.popperInstance&&(this.popperInstance.destroy(),!this.popperInstance.options.removeOnDestroy)){var t=this.$refs.popover;t.parentNode&&t.parentNode.removeChild(t)}this.$_mounted=!1,this.popperInstance=null,this.isOpen=!1,this.$emit("dispose")},$_init:function(){-1===this.trigger.indexOf("manual")&&this.$_addEventListeners()},$_show:function(){var t=this,e=this.$refs.trigger,n=this.$refs.popover;if(clearTimeout(this.$_disposeTimer),!this.isOpen){if(this.popperInstance&&(this.isOpen=!0,this.popperInstance.enableEventListeners(),this.popperInstance.scheduleUpdate()),!this.$_mounted){var i=this.$_findContainer(this.container,e);if(!i)return void console.warn("No container for popover",this);i.appendChild(n),this.$_mounted=!0}if(!this.popperInstance){var a=l({},this.popperOptions,{placement:this.placement});if(a.modifiers=l({},a.modifiers,{arrow:l({},a.modifiers&&a.modifiers.arrow,{element:this.$refs.arrow})}),this.offset){var o=this.$_getOffset();a.modifiers.offset=l({},a.modifiers&&a.modifiers.offset,{offset:o})}this.boundariesElement&&(a.modifiers.preventOverflow=l({},a.modifiers&&a.modifiers.preventOverflow,{boundariesElement:this.boundariesElement})),this.popperInstance=new r.a(e,n,a),requestAnimationFrame((function(){if(t.hidden)return t.hidden=!1,void t.$_hide();!t.$_isDisposed&&t.popperInstance?(t.popperInstance.scheduleUpdate(),requestAnimationFrame((function(){if(t.hidden)return t.hidden=!1,void t.$_hide();t.$_isDisposed?t.dispose():t.isOpen=!0}))):t.dispose()}))}var s=this.openGroup;if(s)for(var u,c=0;c<fn.length;c++)(u=fn[c]).openGroup!==s&&(u.hide(),u.$emit("close-group"));fn.push(this),this.$emit("apply-show")}},$_hide:function(){var t=this;if(this.isOpen){var e=fn.indexOf(this);-1!==e&&fn.splice(e,1),this.isOpen=!1,this.popperInstance&&this.popperInstance.disableEventListeners(),clearTimeout(this.$_disposeTimer);var n=en.options.popover.disposeTimeout||en.options.disposeTimeout;null!==n&&(this.$_disposeTimer=setTimeout((function(){var e=t.$refs.popover;e&&(e.parentNode&&e.parentNode.removeChild(e),t.$_mounted=!1)}),n)),this.$emit("apply-hide")}},$_findContainer:function(t,e){return"string"==typeof t?t=window.document.querySelector(t):!1===t&&(t=e.parentNode),t},$_getOffset:function(){var t=a(this.offset),e=this.offset;return("number"===t||"string"===t&&-1===e.indexOf(","))&&(e="0, ".concat(e)),e},$_addEventListeners:function(){var t=this,e=this.$refs.trigger,n=[],r=[];("string"==typeof this.trigger?this.trigger.split(" ").filter((function(t){return-1!==["click","hover","focus"].indexOf(t)})):[]).forEach((function(t){switch(t){case"hover":n.push("mouseenter"),r.push("mouseleave");break;case"focus":n.push("focus"),r.push("blur");break;case"click":n.push("click"),r.push("click")}})),n.forEach((function(n){var r=function(e){t.isOpen||(e.usedByTooltip=!0,!t.$_preventOpen&&t.show({event:e}),t.hidden=!1)};t.$_events.push({event:n,func:r}),e.addEventListener(n,r)})),r.forEach((function(n){var r=function(e){e.usedByTooltip||(t.hide({event:e}),t.hidden=!0)};t.$_events.push({event:n,func:r}),e.addEventListener(n,r)}))},$_scheduleShow:function(){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(clearTimeout(this.$_scheduleTimer),t)this.$_show();else{var e=parseInt(this.delay&&this.delay.show||this.delay||0);this.$_scheduleTimer=setTimeout(this.$_show.bind(this),e)}},$_scheduleHide:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(clearTimeout(this.$_scheduleTimer),n)this.$_hide();else{var r=parseInt(this.delay&&this.delay.hide||this.delay||0);this.$_scheduleTimer=setTimeout((function(){if(t.isOpen){if(e&&"mouseleave"===e.type)if(t.$_setTooltipNodeEvent(e))return;t.$_hide()}}),r)}},$_setTooltipNodeEvent:function(t){var e=this,n=this.$refs.trigger,r=this.$refs.popover,i=t.relatedreference||t.toElement||t.relatedTarget;return!!r.contains(i)&&(r.addEventListener(t.type,(function i(a){var o=a.relatedreference||a.toElement||a.relatedTarget;r.removeEventListener(t.type,i),n.contains(o)||e.hide({event:a})})),!0)},$_removeEventListeners:function(){var t=this.$refs.trigger;this.$_events.forEach((function(e){var n=e.func,r=e.event;t.removeEventListener(r,n)})),this.$_events=[]},$_updatePopper:function(t){this.popperInstance&&(t(),this.isOpen&&this.popperInstance.scheduleUpdate())},$_restartPopper:function(){if(this.popperInstance){var t=this.isOpen;this.dispose(),this.$_isDisposed=!1,this.$_init(),t&&this.show({skipDelay:!0,force:!0})}},$_handleGlobalClose:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.$_beingShowed||(this.hide({event:t}),t.closePopover?this.$emit("close-directive"):this.$emit("auto-hide"),n&&(this.$_preventOpen=!0,setTimeout((function(){e.$_preventOpen=!1}),300)))},$_handleResize:function(){this.isOpen&&this.popperInstance&&(this.popperInstance.scheduleUpdate(),this.$emit("resize"))}}};function mn(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=function(n){var r=fn[n];if(r.$refs.popover){var i=r.$refs.popover.contains(t.target);requestAnimationFrame((function(){(t.closeAllPopover||t.closePopover&&i||r.autoHide&&!i)&&r.$_handleGlobalClose(t,e)}))}},r=0;r<fn.length;r++)n(r)}"undefined"!=typeof document&&"undefined"!=typeof window&&(hn?document.addEventListener("touchend",(function(t){mn(t,!0)}),!p||{passive:!0,capture:!0}):window.addEventListener("click",(function(t){mn(t)}),!0));var gn=pn,_n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"v-popover",class:t.cssClass},[n("div",{ref:"trigger",staticClass:"trigger",staticStyle:{display:"inline-block"},attrs:{"aria-describedby":t.popoverId,tabindex:-1!==t.trigger.indexOf("focus")?0:void 0}},[t._t("default")],2),t._v(" "),n("div",{ref:"popover",class:[t.popoverBaseClass,t.popoverClass,t.cssClass],style:{visibility:t.isOpen?"visible":"hidden"},attrs:{id:t.popoverId,"aria-hidden":t.isOpen?"false":"true",tabindex:t.autoHide?0:void 0},on:{keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.autoHide&&t.hide()}}},[n("div",{class:t.popoverWrapperClass},[n("div",{ref:"inner",class:t.popoverInnerClass,staticStyle:{position:"relative"}},[n("div",[t._t("popover")],2),t._v(" "),t.handleResize?n("ResizeObserver",{on:{notify:t.$_handleResize}}):t._e()],1),t._v(" "),n("div",{ref:"arrow",class:t.popoverArrowClass})])])])};_n._withStripped=!0;var vn=function(t,e,n,r,i,a,o,s,u,l){"boolean"!=typeof o&&(u=s,s=o,o=!1);const c="function"==typeof n?n.options:n;let h;if(t&&t.render&&(c.render=t.render,c.staticRenderFns=t.staticRenderFns,c._compiled=!0,i&&(c.functional=!0)),r&&(c._scopeId=r),a?(h=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,u(t)),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=h):e&&(h=o?function(t){e.call(this,l(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,s(t))}),h)if(c.functional){const t=c.render;c.render=function(e,n){return h.call(n),t(e,n)}}else{const t=c.beforeCreate;c.beforeCreate=t?[].concat(t,h):[h]}return n}({render:_n,staticRenderFns:[]},void 0,gn,void 0,!1,void 0,!1,void 0,void 0,void 0),yn=function(){try{var t=st(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();var bn=function(t,e,n){"__proto__"==e&&yn?yn(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n};var xn=function(t,e,n){(void 0!==n&&!_(t[e],n)||void 0===n&&!(e in t))&&bn(t,e,n)};var wn=function(t){return function(e,n,r){for(var i=-1,a=Object(e),o=r(e),s=o.length;s--;){var u=o[t?s:++i];if(!1===n(a[u],u,a))break}return e}}(),Tn=N((function(t,e){var n=e&&!e.nodeType&&e,r=n&&t&&!t.nodeType&&t,i=r&&r.exports===n?L.Buffer:void 0,a=i?i.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=a?a(n):new t.constructor(n);return t.copy(r),r}}));var Sn=function(t){var e=new t.constructor(t.byteLength);return new Ft(e).set(new Ft(t)),e};var En=function(t,e){var n=e?Sn(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)};var Cn=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e},An=Object.create,Mn=function(){function t(){}return function(e){if(!W(e))return{};if(An)return An(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),On=be(Object.getPrototypeOf,Object);var Dn=function(t){return"function"!=typeof t.constructor||ye(t)?{}:Mn(On(t))};var Nn=function(t){return Qt(t)&&Se(t)},In=Function.prototype,Pn=Object.prototype,Ln=In.toString,Rn=Pn.hasOwnProperty,kn=Ln.call(Object);var Bn=function(t){if(!Qt(t)||"[object Object]"!=G(t))return!1;var e=On(t);if(null===e)return!0;var n=Rn.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Ln.call(n)==kn};var Fn=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]},zn=Object.prototype.hasOwnProperty;var jn=function(t,e,n){var r=t[e];zn.call(t,e)&&_(r,n)&&(void 0!==n||e in t)||bn(t,e,n)};var Un=function(t,e,n,r){var i=!n;n||(n={});for(var a=-1,o=e.length;++a<o;){var s=e[a],u=r?r(n[s],t[s],s,n,t):void 0;void 0===u&&(u=t[s]),i?bn(n,s,u):jn(n,s,u)}return n};var Hn=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e},Vn=Object.prototype.hasOwnProperty;var Gn=function(t){if(!W(t))return Hn(t);var e=ye(t),n=[];for(var r in t)("constructor"!=r||!e&&Vn.call(t,r))&&n.push(r);return n};var Wn=function(t){return Se(t)?_e(t,!0):Gn(t)};var $n=function(t){return Un(t,Wn(t))};var Xn=function(t,e,n,r,i,a,o){var s=Fn(t,n),u=Fn(e,n),l=o.get(u);if(l)xn(t,n,l);else{var c=a?a(s,u,n+"",t,e,o):void 0,h=void 0===c;if(h){var f=Wt(u),d=!f&&oe(u),p=!f&&!d&&me(u);c=u,f||d||p?Wt(s)?c=s:Nn(s)?c=Cn(s):d?(h=!1,c=Tn(u,!0)):p?(h=!1,c=En(u,!0)):c=[]:Bn(u)||ie(u)?(c=s,ie(s)?c=$n(s):W(s)&&!X(s)||(c=Dn(u))):h=!1}h&&(o.set(u,c),i(c,u,r,a,o),o.delete(u)),xn(t,n,c)}};var qn=function t(e,n,r,i,a){e!==n&&wn(n,(function(o,s){if(a||(a=new Dt),W(o))Xn(e,n,s,r,t,i,a);else{var u=i?i(Fn(e,s),o,s+"",e,n,a):void 0;void 0===u&&(u=o),xn(e,s,u)}}),Wn)};var Yn=function(t){return t};var Zn=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},Kn=Math.max;var Jn=function(t,e,n){return e=Kn(void 0===e?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=Kn(r.length-e,0),o=Array(a);++i<a;)o[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(o),Zn(t,this,s)}};var Qn=function(t){return function(){return t}},tr=yn?function(t,e){return yn(t,"toString",{configurable:!0,enumerable:!1,value:Qn(e),writable:!0})}:Yn,er=Date.now;var nr=function(t){var e=0,n=0;return function(){var r=er(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(tr);var rr=function(t,e){return nr(Jn(t,e,Yn),t+"")};var ir=function(t,e,n){if(!W(n))return!1;var r=typeof e;return!!("number"==r?Se(n)&&ue(e,n.length):"string"==r&&e in n)&&_(n[e],t)};var ar=function(t){return rr((function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(i--,a):void 0,o&&ir(n[0],n[1],o)&&(a=i<3?void 0:a,i=1),e=Object(e);++r<i;){var s=n[r];s&&t(e,s,r,a)}return e}))}((function(t,e,n){qn(t,e,n)}));!function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}(".resize-observer[data-v-b329ee4c]{position:absolute;top:0;left:0;z-index:-1;width:100%;height:100%;border:none;background-color:transparent;pointer-events:none;display:block;overflow:hidden;opacity:0}.resize-observer[data-v-b329ee4c] object{display:block;position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1}");var or={install:function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t.installed){t.installed=!0;var r={};ar(r,Ye,n),or.options=r,en.options=r,e.directive("tooltip",en),e.directive("close-popover",ln),e.component("v-popover",vn)}},get enabled(){return Xe.enabled},set enabled(t){Xe.enabled=t}},sr=null;"undefined"!=typeof window?sr=window.Vue:void 0!==t&&(sr=t.Vue),sr&&sr.use(or),e.a=or}).call(this,n("c8ba"))},e3c8:function(t,e,n){"use strict";var r=n("1911");n.n(r).a},e439:function(t,e,n){var r=n("23e7"),i=n("d039"),a=n("fc6a"),o=n("06cf").f,s=n("83ab"),u=i((function(){o(1)}));r({target:"Object",stat:!0,forced:!s||u,sham:!s},{getOwnPropertyDescriptor:function(t,e){return o(a(t),e)}})},e43e:function(t,e,n){var r=n("23e7"),i=n("d039"),a=n("861d"),o=Object.isSealed;r({target:"Object",stat:!0,forced:i((function(){o(1)}))},{isSealed:function(t){return!a(t)||!!o&&o(t)}})},e444:function(t,e){t.exports=!0},e4bd:function(t,e,n){},e4ea:function(t,e,n){},e5077:function(t,e,n){var r=n("512c");r(r.S+r.F,"Object",{assign:n("072d")})},e538:function(t,e,n){var r=n("b622");e.f=r},e58c:function(t,e,n){"use strict";var r=n("fc6a"),i=n("a691"),a=n("50c4"),o=n("a640"),s=n("ae40"),u=Math.min,l=[].lastIndexOf,c=!!l&&1/[1].lastIndexOf(1,-0)<0,h=o("lastIndexOf"),f=s("indexOf",{ACCESSORS:!0,1:0}),d=c||!h||!f;t.exports=d?function(t){if(c)return l.apply(this,arguments)||0;var e=r(this),n=a(e.length),o=n-1;for(arguments.length>1&&(o=u(o,i(arguments[1]))),o<0&&(o=n+o);o>=0;o--)if(o in e&&e[o]===t)return o||0;return-1}:l},e667:function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},e683:function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},e6cf:function(t,e,n){"use strict";var r,i,a,o,s=n("23e7"),u=n("c430"),l=n("da84"),c=n("d066"),h=n("fea9"),f=n("6eeb"),d=n("e2cc"),p=n("d44e"),m=n("2626"),g=n("861d"),_=n("1c0b"),v=n("19aa"),y=n("c6b6"),b=n("8925"),x=n("2266"),w=n("1c7e"),T=n("4840"),S=n("2cf49").set,E=n("b575"),C=n("cdf9"),A=n("44de"),M=n("f069"),O=n("e667"),D=n("69f3"),N=n("94ca"),I=n("b622"),P=n("2d00"),L=I("species"),R="Promise",k=D.get,B=D.set,F=D.getterFor(R),z=h,j=l.TypeError,U=l.document,H=l.process,V=c("fetch"),G=M.f,W=G,$="process"==y(H),X=!!(U&&U.createEvent&&l.dispatchEvent),q=N(R,(function(){if(!(b(z)!==String(z))){if(66===P)return!0;if(!$&&"function"!=typeof PromiseRejectionEvent)return!0}if(u&&!z.prototype.finally)return!0;if(P>=51&&/native code/.test(z))return!1;var t=z.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[L]=e,!(t.then((function(){}))instanceof e)})),Y=q||!w((function(t){z.all(t).catch((function(){}))})),Z=function(t){var e;return!(!g(t)||"function"!=typeof(e=t.then))&&e},K=function(t,e,n){if(!e.notified){e.notified=!0;var r=e.reactions;E((function(){for(var i=e.value,a=1==e.state,o=0;r.length>o;){var s,u,l,c=r[o++],h=a?c.ok:c.fail,f=c.resolve,d=c.reject,p=c.domain;try{h?(a||(2===e.rejection&&et(t,e),e.rejection=1),!0===h?s=i:(p&&p.enter(),s=h(i),p&&(p.exit(),l=!0)),s===c.promise?d(j("Promise-chain cycle")):(u=Z(s))?u.call(s,f,d):f(s)):d(i)}catch(t){p&&!l&&p.exit(),d(t)}}e.reactions=[],e.notified=!1,n&&!e.rejection&&Q(t,e)}))}},J=function(t,e,n){var r,i;X?((r=U.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),l.dispatchEvent(r)):r={promise:e,reason:n},(i=l["on"+t])?i(r):"unhandledrejection"===t&&A("Unhandled promise rejection",n)},Q=function(t,e){S.call(l,(function(){var n,r=e.value;if(tt(e)&&(n=O((function(){$?H.emit("unhandledRejection",r,t):J("unhandledrejection",t,r)})),e.rejection=$||tt(e)?2:1,n.error))throw n.value}))},tt=function(t){return 1!==t.rejection&&!t.parent},et=function(t,e){S.call(l,(function(){$?H.emit("rejectionHandled",t):J("rejectionhandled",t,e.value)}))},nt=function(t,e,n,r){return function(i){t(e,n,i,r)}},rt=function(t,e,n,r){e.done||(e.done=!0,r&&(e=r),e.value=n,e.state=2,K(t,e,!0))},it=function(t,e,n,r){if(!e.done){e.done=!0,r&&(e=r);try{if(t===n)throw j("Promise can't be resolved itself");var i=Z(n);i?E((function(){var r={done:!1};try{i.call(n,nt(it,t,r,e),nt(rt,t,r,e))}catch(n){rt(t,r,n,e)}})):(e.value=n,e.state=1,K(t,e,!1))}catch(n){rt(t,{done:!1},n,e)}}};q&&(z=function(t){v(this,z,R),_(t),r.call(this);var e=k(this);try{t(nt(it,this,e),nt(rt,this,e))}catch(t){rt(this,e,t)}},(r=function(t){B(this,{type:R,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=d(z.prototype,{then:function(t,e){var n=F(this),r=G(T(this,z));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=$?H.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&K(this,n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new r,e=k(t);this.promise=t,this.resolve=nt(it,t,e),this.reject=nt(rt,t,e)},M.f=G=function(t){return t===z||t===a?new i(t):W(t)},u||"function"!=typeof h||(o=h.prototype.then,f(h.prototype,"then",(function(t,e){var n=this;return new z((function(t,e){o.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof V&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return C(z,V.apply(l,arguments))}}))),s({global:!0,wrap:!0,forced:q},{Promise:z}),p(z,R,!1,!0),m(R),a=c(R),s({target:R,stat:!0,forced:q},{reject:function(t){var e=G(this);return e.reject.call(void 0,t),e.promise}}),s({target:R,stat:!0,forced:u||q},{resolve:function(t){return C(u&&this===a?z:this,t)}}),s({target:R,stat:!0,forced:Y},{all:function(t){var e=this,n=G(e),r=n.resolve,i=n.reject,a=O((function(){var n=_(e.resolve),a=[],o=0,s=1;x(t,(function(t){var u=o++,l=!1;a.push(void 0),s++,n.call(e,t).then((function(t){l||(l=!0,a[u]=t,--s||r(a))}),i)})),--s||r(a)}));return a.error&&i(a.value),n.promise},race:function(t){var e=this,n=G(e),r=n.reject,i=O((function(){var i=_(e.resolve);x(t,(function(t){i.call(e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},e6e1:function(t,e,n){n("23e7")({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},e71b:function(t,e,n){"use strict";var r=n("23e7"),i=n("83ab"),a=n("eb1d"),o=n("7b0b"),s=n("1c0b"),u=n("9bf2");i&&r({target:"Object",proto:!0,forced:a},{__defineSetter__:function(t,e){u.f(o(this),t,{set:s(e),enumerable:!0,configurable:!0})}})},e893:function(t,e,n){var r=n("5135"),i=n("56ef"),a=n("06cf"),o=n("9bf2");t.exports=function(t,e){for(var n=i(e),s=o.f,u=a.f,l=0;l<n.length;l++){var c=n[l];r(t,c)||s(t,c,u(e,c))}}},e8b5:function(t,e,n){var r=n("c6b6");t.exports=Array.isArray||function(t){return"Array"==r(t)}},e91f:function(t,e,n){"use strict";var r=n("ebb5"),i=n("4d64").indexOf,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("indexOf",(function(t){return i(a(this),t,arguments.length>1?arguments[1]:void 0)}))},e95a:function(t,e,n){var r=n("b622"),i=n("3f8c"),a=r("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||o[a]===t)}},e9c4:function(t,e,n){var r=n("23e7"),i=n("d066"),a=n("d039"),o=i("JSON","stringify"),s=/[\uD800-\uDFFF]/g,u=/^[\uD800-\uDBFF]$/,l=/^[\uDC00-\uDFFF]$/,c=function(t,e,n){var r=n.charAt(e-1),i=n.charAt(e+1);return u.test(t)&&!l.test(i)||l.test(t)&&!u.test(r)?"\\u"+t.charCodeAt(0).toString(16):t},h=a((function(){return'"\\udf06\\ud834"'!==o("\udf06\ud834")||'"\\udead"'!==o("\udead")}));o&&r({target:"JSON",stat:!0,forced:h},{stringify:function(t,e,n){var r=o.apply(null,arguments);return"string"==typeof r?r.replace(s,c):r}})},ea34:function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},eb1d:function(t,e,n){"use strict";var r=n("c430"),i=n("da84"),a=n("d039");t.exports=r||!a((function(){var t=Math.random();__defineSetter__.call(null,t,(function(){})),delete i[t]}))},ebb5:function(t,e,n){"use strict";var r,i=n("a981"),a=n("83ab"),o=n("da84"),s=n("861d"),u=n("5135"),l=n("f5df"),c=n("9112"),h=n("6eeb"),f=n("9bf2").f,d=n("e163"),p=n("d2bb"),m=n("b622"),g=n("90e3"),_=o.Int8Array,v=_&&_.prototype,y=o.Uint8ClampedArray,b=y&&y.prototype,x=_&&d(_),w=v&&d(v),T=Object.prototype,S=T.isPrototypeOf,E=m("toStringTag"),C=g("TYPED_ARRAY_TAG"),A=i&&!!p&&"Opera"!==l(o.opera),M=!1,O={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},D=function(t){return s(t)&&u(O,l(t))};for(r in O)o[r]||(A=!1);if((!A||"function"!=typeof x||x===Function.prototype)&&(x=function(){throw TypeError("Incorrect invocation")},A))for(r in O)o[r]&&p(o[r],x);if((!A||!w||w===T)&&(w=x.prototype,A))for(r in O)o[r]&&p(o[r].prototype,w);if(A&&d(b)!==w&&p(b,w),a&&!u(w,E))for(r in M=!0,f(w,E,{get:function(){return s(this)?this[C]:void 0}}),O)o[r]&&c(o[r],C,r);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:A,TYPED_ARRAY_TAG:M&&C,aTypedArray:function(t){if(D(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(p){if(S.call(x,t))return t}else for(var e in O)if(u(O,r)){var n=o[e];if(n&&(t===n||S.call(n,t)))return t}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(t,e,n){if(a){if(n)for(var r in O){var i=o[r];i&&u(i.prototype,t)&&delete i.prototype[t]}w[t]&&!n||h(w,t,n?e:A&&v[t]||e)}},exportTypedArrayStaticMethod:function(t,e,n){var r,i;if(a){if(p){if(n)for(r in O)(i=o[r])&&u(i,t)&&delete i[t];if(x[t]&&!n)return;try{return h(x,t,n?e:A&&_[t]||e)}catch(t){}}for(r in O)!(i=o[r])||i[t]&&!n||h(i,t,e)}},isView:function(t){var e=l(t);return"DataView"===e||u(O,e)},isTypedArray:D,TypedArray:x,TypedArrayPrototype:w}},ec97:function(t,e,n){"use strict";var r=n("ebb5"),i=n("8aa7"),a=r.aTypedArrayConstructor;(0,r.exportTypedArrayStaticMethod)("of",(function(){for(var t=0,e=arguments.length,n=new(a(this))(e);e>t;)n[t]=arguments[t++];return n}),i)},ee7d:function(t,e,n){n("05ef")("date:date");function r(t){if(!(this instanceof r))return new r(t);this._changed={},this.date=new Date(t)}t.exports=r,r.prototype.clone=function(){return new Date(this.date)},r.prototype.changed=function(t){return void 0!==this._changed[t]&&this._changed[t]},r.prototype.second=function(t){var e=1e3*+t;return this.update(e),this._changed.seconds=!0,this},r.prototype.minute=function(t){var e=6e4*+t;return this.update(e),this._changed.minutes=!0,this},r.prototype.hour=function(t){var e=36e5*+t;return this.update(e),this._changed.hours=!0,this},r.prototype.day=function(t){var e=864e5*+t;return this.update(e),this._changed.days=!0,this},r.prototype.week=function(t){var e=6048e5*+t;return this.update(e),this._changed.weeks=!0,this},r.prototype.month=function(t){var e=this.date,n=e.getDate();e.setDate(1);var r=+t+e.getMonth();e.setMonth(r);var i=this.daysInMonth(r);return e.setDate(Math.min(i,n)),this},r.prototype.daysInMonth=function(t){var e,n=(e=this.date.getFullYear())%4==0&&e%100!=0||e%400==0;return 1==t&&n?29:28},r.prototype.year=function(t){var e=this.date.getFullYear();return e+=+t,this.date.setFullYear(e),this._changed.years=!0,this},r.prototype.time=function(t,e,n,r){return!1===t?t=this.date.getHours():(t=+t||0,this._changed.hours=t),!1===e?e=this.date.getMinutes():(e=+e||0,this._changed.minutes=e),!1===n?n=this.date.getSeconds():(n=+n||0,this._changed.seconds=n),this.date.setHours(t,e,n),this};var i=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];i.forEach((function(t,e){r.prototype[i[e]]=function(t){this._changed.days=!0,this.updateDay(e,t)}})),r.prototype.updateDay=function(t,e){e=+(e||1);var n=(t-this.date.getDay()+7)%7;return e>0&&--e,n+=7*e,this.update(864e5*n),this},r.prototype.update=function(t){return this.date=new Date(this.date.getTime()+t),this}},ee92:function(t,e,n){"use strict";n("a9e3");var r={mixins:[n("0b3d").a],props:{color:{type:String,default:"#000000"},width:{type:Number,default:20},height:{type:Number,default:20}},inject:["prefix"],data:function(){return{alphaSize:5,prefix:this.prefix}},watch:{color:function(){this.renderColor()}},mounted:function(){this.renderColor()},methods:{setSelfColor:function(){this.$emit("setSelfColor",this.color)},renderColor:function(){var t=this.$el,e=this.width,n=this.height,r=this.alphaSize,i=this.createAlphaSquare(r),a=t.getContext("2d");t.width=e,t.height=n,a.fillStyle=a.createPattern(i,"repeat"),a.fillRect(0,0,e,n),a.fillStyle=this.color,a.fillRect(0,0,e,n)}}},i=(n("861da"),n("2877")),a=Object(i.a)(r,(function(){var t=this.$createElement;return(this._self._c||t)("canvas",{class:this.prefix+"-canvas",attrs:{title:"调色后点击选择需要的颜色"},on:{click:this.setSelfColor}})}),[],!1,null,"516a869d",null);e.a=a.exports},ee98:function(t,e,n){var r;r=function(t){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=2)}([function(t,e){t.exports=function(t,e,n,r){var i,a=t=t||{},o=typeof t.default;"object"!==o&&"function"!==o||(i=t,a=t.default);var s="function"==typeof a?a.options:a;if(e&&(s.render=e.render,s.staticRenderFns=e.staticRenderFns),n&&(s._scopeId=n),r){var u=Object.create(s.computed||null);Object.keys(r).forEach((function(t){var e=r[t];u[t]=function(){return e}})),s.computed=u}return{esModule:i,exports:a,options:s}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(20),i=new(n.n(r).a)({name:"vue-notification"})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),i=n.n(r),a=n(1),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s={install:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.installed){this.installed=!0,this.params=e,t.component(e.componentName||"notifications",i.a);var n=function(t){"string"==typeof t&&(t={title:"",text:t}),"object"===(void 0===t?"undefined":o(t))&&a.a.$emit("add",t)};n.close=function(t){a.a.$emit("close",t)};var r=e.name||"notify";t.prototype["$"+r]=n,t[r]=n}}};e.default=s},function(t,e,n){n(17);var r=n(0)(n(5),n(15),null,null);t.exports=r.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"CssGroup",props:["name"]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),i=n(1),a=n(9),o=n(7),s=n(13),u=n.n(s),l=n(12),c=n.n(l),h=n(8),f=0,d=2,p={name:"Notifications",components:{VelocityGroup:u.a,CssGroup:c.a},props:{group:{type:String,default:""},width:{type:[Number,String],default:300},reverse:{type:Boolean,default:!1},position:{type:[String,Array],default:function(){return o.a.position}},classes:{type:String,default:"vue-notification"},animationType:{type:String,default:"css",validator:function(t){return"css"===t||"velocity"===t}},animation:{type:Object,default:function(){return o.a.velocityAnimation}},animationName:{type:String,default:o.a.cssAnimation},speed:{type:Number,default:300},cooldown:{type:Number,default:0},duration:{type:Number,default:3e3},delay:{type:Number,default:0},max:{type:Number,default:1/0},ignoreDuplicates:{type:Boolean,default:!1},closeOnClick:{type:Boolean,default:!0}},data:function(){return{list:[],velocity:r.default.params.velocity}},mounted:function(){i.a.$on("add",this.addItem),i.a.$on("close",this.closeItem)},computed:{actualWidth:function(){return n.i(h.a)(this.width)},isVA:function(){return"velocity"===this.animationType},componentName:function(){return this.isVA?"VelocityGroup":"CssGroup"},styles:function(){var t,e,r,i=n.i(a.a)(this.position),o=i.x,s=i.y,u=this.actualWidth.value,l=this.actualWidth.type,c=(r="0px",(e=s)in(t={width:u+l})?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t);return"center"===o?c.left="calc(50% - "+u/2+l+")":c[o]="0px",c},active:function(){return this.list.filter((function(t){return t.state!==d}))},botToTop:function(){return this.styles.hasOwnProperty("bottom")}},methods:{destroyIfNecessary:function(t){this.closeOnClick&&this.destroy(t)},addItem:function(t){var e=this;if(t.group=t.group||"",this.group===t.group)if(t.clean||t.clear)this.destroyAll();else{var r="number"==typeof t.duration?t.duration:this.duration,i="number"==typeof t.speed?t.speed:this.speed,o="boolean"==typeof t.ignoreDuplicates?t.ignoreDuplicates:this.ignoreDuplicates,s=t.title,u=t.text,l=t.type,c=t.data,h={id:t.id||n.i(a.b)(),title:s,text:u,type:l,state:f,speed:i,length:r+2*i,data:c};r>=0&&(h.timer=setTimeout((function(){e.destroy(h)}),h.length));var d=this.reverse?!this.botToTop:this.botToTop,p=-1,m=this.active.some((function(e){return e.title===t.title&&e.text===t.text}));(!o||!m)&&(d?(this.list.push(h),this.active.length>this.max&&(p=0)):(this.list.unshift(h),this.active.length>this.max&&(p=this.active.length-1)),-1!==p&&this.destroy(this.active[p]))}},closeItem:function(t){this.destroyById(t)},notifyClass:function(t){return["vue-notification-template",this.classes,t.type]},notifyWrapperStyle:function(t){return this.isVA?null:{transition:"all "+t.speed+"ms"}},destroy:function(t){clearTimeout(t.timer),t.state=d,this.isVA||this.clean()},destroyById:function(t){var e=this.list.find((function(e){return e.id===t}));e&&this.destroy(e)},destroyAll:function(){this.active.forEach(this.destroy)},getAnimation:function(t,e){var n=this.animation[t];return"function"==typeof n?n.call(this,e):n},enter:function(t){var e=t.el,n=t.complete,r=this.getAnimation("enter",e);this.velocity(e,r,{duration:this.speed,complete:n})},leave:function(t){var e=t.el,n=t.complete,r=this.getAnimation("leave",e);this.velocity(e,r,{duration:this.speed,complete:n})},clean:function(){this.list=this.list.filter((function(t){return t.state!==d}))}}};e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"VelocityGroup",methods:{enter:function(t,e){this.$emit("enter",{el:t,complete:e})},leave:function(t,e){this.$emit("leave",{el:t,complete:e})},afterLeave:function(){this.$emit("afterLeave")}}}},function(t,e,n){"use strict";e.a={position:["top","right"],cssAnimation:"vn-fade",velocityAnimation:{enter:function(t){return{height:[t.clientHeight,0],opacity:[1,0]}},leave:{height:0,opacity:[0,1]}}}},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=[{name:"px",regexp:new RegExp("^[-+]?[0-9]*.?[0-9]+px$")},{name:"%",regexp:new RegExp("^[-+]?[0-9]*.?[0-9]+%$")},{name:"px",regexp:new RegExp("^[-+]?[0-9]*.?[0-9]+$")}];e.a=function(t){switch(void 0===t?"undefined":r(t)){case"number":return{type:"px",value:t};case"string":return function(t){if("auto"===t)return{type:t,value:0};for(var e=0;e<i.length;e++){var n=i[e];if(n.regexp.test(t))return{type:n.name,value:parseFloat(t)}}return{type:"",value:t}}(t);default:return{type:"",value:t}}}},function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return o}));var r,i={x:["left","center","right"],y:["top","bottom"]},a=(r=0,function(){return r++}),o=function(t){"string"==typeof t&&(t=function(t){return"string"!=typeof t?[]:t.split(/\s+/gi).filter((function(t){return t}))}(t));var e=null,n=null;return t.forEach((function(t){-1!==i.y.indexOf(t)&&(n=t),-1!==i.x.indexOf(t)&&(e=t)})),{x:e,y:n}}},function(t,e,n){(t.exports=n(11)()).push([t.i,".vue-notification-group{display:block;position:fixed;z-index:5000}.vue-notification-wrapper{display:block;overflow:hidden;width:100%;margin:0;padding:0}.notification-title{font-weight:600}.vue-notification-template{background:#fff}.vue-notification,.vue-notification-template{display:block;box-sizing:border-box;text-align:left}.vue-notification{font-size:12px;padding:10px;margin:0 5px 5px;color:#fff;background:#44a4fc;border-left:5px solid #187fe7}.vue-notification.warn{background:#ffb648;border-left-color:#f48a06}.vue-notification.error{background:#e54d42;border-left-color:#b82e24}.vue-notification.success{background:#68cd86;border-left-color:#42a85f}.vn-fade-enter-active,.vn-fade-leave-active,.vn-fade-move{transition:all .5s}.vn-fade-enter,.vn-fade-leave-to{opacity:0}",""])},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var a=this[i][0];"number"==typeof a&&(r[a]=!0)}for(i=0;i<e.length;i++){var o=e[i];"number"==typeof o[0]&&r[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),t.push(o))}},t}},function(t,e,n){var r=n(0)(n(4),n(16),null,null);t.exports=r.exports},function(t,e,n){var r=n(0)(n(6),n(14),null,null);t.exports=r.exports},function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("transition-group",{attrs:{css:!1},on:{enter:this.enter,leave:this.leave,"after-leave":this.afterLeave}},[this._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vue-notification-group",style:t.styles},[n(t.componentName,{tag:"component",attrs:{name:t.animationName},on:{enter:t.enter,leave:t.leave,"after-leave":t.clean}},t._l(t.active,(function(e){return n("div",{key:e.id,staticClass:"vue-notification-wrapper",style:t.notifyWrapperStyle(e),attrs:{"data-id":e.id}},[t._t("body",[n("div",{class:t.notifyClass(e),on:{click:function(n){return t.destroyIfNecessary(e)}}},[e.title?n("div",{staticClass:"notification-title",domProps:{innerHTML:t._s(e.title)}}):t._e(),t._v(" "),n("div",{staticClass:"notification-content",domProps:{innerHTML:t._s(e.text)}})])],{item:e,close:function(){return t.destroy(e)}})],2)})),0)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("transition-group",{attrs:{name:this.name}},[this._t("default")],2)},staticRenderFns:[]}},function(t,e,n){var r=n(10);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals),n(18)("2901aeae",r,!0)},function(t,e,n){var r="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!r)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var i=n(19),a={},o=r&&(document.head||document.getElementsByTagName("head")[0]),s=null,u=0,l=!1,c=function(){},h="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function f(t){for(var e=0;e<t.length;e++){var n=t[e],r=a[n.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++)r.parts[i](n.parts[i]);for(;i<n.parts.length;i++)r.parts.push(p(n.parts[i]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{var o=[];for(i=0;i<n.parts.length;i++)o.push(p(n.parts[i]));a[n.id]={id:n.id,refs:1,parts:o}}}}function d(){var t=document.createElement("style");return t.type="text/css",o.appendChild(t),t}function p(t){var e,n,r=document.querySelector('style[data-vue-ssr-id~="'+t.id+'"]');if(r){if(l)return c;r.parentNode.removeChild(r)}if(h){var i=u++;r=s||(s=d()),e=_.bind(null,r,i,!1),n=_.bind(null,r,i,!0)}else r=d(),e=v.bind(null,r),n=function(){r.parentNode.removeChild(r)};return e(t),function(r){if(r){if(r.css===t.css&&r.media===t.media&&r.sourceMap===t.sourceMap)return;e(t=r)}else n()}}t.exports=function(t,e,n){l=n;var r=i(t,e);return f(r),function(e){for(var n=[],o=0;o<r.length;o++){var s=r[o];(u=a[s.id]).refs--,n.push(u)}for(e?f(r=i(t,e)):r=[],o=0;o<n.length;o++){var u;if(0===(u=n[o]).refs){for(var l=0;l<u.parts.length;l++)u.parts[l]();delete a[u.id]}}}};var m,g=(m=[],function(t,e){return m[t]=e,m.filter(Boolean).join("\n")});function _(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=g(e,i);else{var a=document.createTextNode(i),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(a,o[e]):t.appendChild(a)}}function v(t,e){var n=e.css,r=e.media,i=e.sourceMap;if(r&&t.setAttribute("media",r),i&&(n+="\n/*# sourceURL="+i.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}},function(t,e){t.exports=function(t,e){for(var n=[],r={},i=0;i<e.length;i++){var a=e[i],o=a[0],s={id:t+":"+i,css:a[1],media:a[2],sourceMap:a[3]};r[o]?r[o].parts.push(s):n.push(r[o]={id:o,parts:[s]})}return n}},function(e,n){e.exports=t}])},t.exports=r(n("a026"))},eee7:function(t,e,n){"use strict";var r=n("23e7"),i=n("58a8").start,a=n("c8d2")("trimStart"),o=a?function(){return i(this)}:"".trimStart;r({target:"String",proto:!0,forced:a},{trimStart:o,trimLeft:o})},ef08:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},efe9:function(t,e,n){n("746f")("isConcatSpreadable")},efec:function(t,e,n){var r=n("9112"),i=n("51eb"),a=n("b622")("toPrimitive"),o=Date.prototype;a in o||r(o,a,i)},f00c:function(t,e,n){n("23e7")({target:"Number",stat:!0},{isFinite:n("e285")})},f069:function(t,e,n){"use strict";var r=n("1c0b"),i=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new i(t)}},f0bd:function(t,e,n){"use strict";(function(t){
/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
var n="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,r=function(){for(var t=["Edge","Trident","Firefox"],e=0;e<t.length;e+=1)if(n&&navigator.userAgent.indexOf(t[e])>=0)return 1;return 0}();var i=n&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then((function(){e=!1,t()})))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout((function(){e=!1,t()}),r))}};function a(t){return t&&"[object Function]"==={}.toString.call(t)}function o(t,e){if(1!==t.nodeType)return[];var n=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?n[e]:n}function s(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function u(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=o(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?t:u(s(t))}function l(t){return t&&t.referenceNode?t.referenceNode:t}var c=n&&!(!window.MSInputMethodContext||!document.documentMode),h=n&&/MSIE 10/.test(navigator.userAgent);function f(t){return 11===t?c:10===t?h:c||h}function d(t){if(!t)return document.documentElement;for(var e=f(10)?document.body:null,n=t.offsetParent||null;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===o(n,"position")?d(n):n:t?t.ownerDocument.documentElement:document.documentElement}function p(t){return null!==t.parentNode?p(t.parentNode):t}function m(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?t:e,i=n?e:t,a=document.createRange();a.setStart(r,0),a.setEnd(i,0);var o,s,u=a.commonAncestorContainer;if(t!==u&&e!==u||r.contains(i))return"BODY"===(s=(o=u).nodeName)||"HTML"!==s&&d(o.firstElementChild)!==o?d(u):u;var l=p(t);return l.host?m(l.host,e):m(t,p(e).host)}function g(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===e?"scrollTop":"scrollLeft",r=t.nodeName;if("BODY"===r||"HTML"===r){var i=t.ownerDocument.documentElement,a=t.ownerDocument.scrollingElement||i;return a[n]}return t[n]}function _(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=g(e,"top"),i=g(e,"left"),a=n?-1:1;return t.top+=r*a,t.bottom+=r*a,t.left+=i*a,t.right+=i*a,t}function v(t,e){var n="x"===e?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"])+parseFloat(t["border"+r+"Width"])}function y(t,e,n,r){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],f(10)?parseInt(n["offset"+t])+parseInt(r["margin"+("Height"===t?"Top":"Left")])+parseInt(r["margin"+("Height"===t?"Bottom":"Right")]):0)}function b(t){var e=t.body,n=t.documentElement,r=f(10)&&getComputedStyle(n);return{height:y("Height",e,n,r),width:y("Width",e,n,r)}}var x=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},w=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),T=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},S=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function E(t){return S({},t,{right:t.left+t.width,bottom:t.top+t.height})}function C(t){var e={};try{if(f(10)){e=t.getBoundingClientRect();var n=g(t,"top"),r=g(t,"left");e.top+=n,e.left+=r,e.bottom+=n,e.right+=r}else e=t.getBoundingClientRect()}catch(t){}var i={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},a="HTML"===t.nodeName?b(t.ownerDocument):{},s=a.width||t.clientWidth||i.width,u=a.height||t.clientHeight||i.height,l=t.offsetWidth-s,c=t.offsetHeight-u;if(l||c){var h=o(t);l-=v(h,"x"),c-=v(h,"y"),i.width-=l,i.height-=c}return E(i)}function A(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=f(10),i="HTML"===e.nodeName,a=C(t),s=C(e),l=u(t),c=o(e),h=parseFloat(c.borderTopWidth),d=parseFloat(c.borderLeftWidth);n&&i&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var p=E({top:a.top-s.top-h,left:a.left-s.left-d,width:a.width,height:a.height});if(p.marginTop=0,p.marginLeft=0,!r&&i){var m=parseFloat(c.marginTop),g=parseFloat(c.marginLeft);p.top-=h-m,p.bottom-=h-m,p.left-=d-g,p.right-=d-g,p.marginTop=m,p.marginLeft=g}return(r&&!n?e.contains(l):e===l&&"BODY"!==l.nodeName)&&(p=_(p,e)),p}function M(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,r=A(t,n),i=Math.max(n.clientWidth,window.innerWidth||0),a=Math.max(n.clientHeight,window.innerHeight||0),o=e?0:g(n),s=e?0:g(n,"left"),u={top:o-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:i,height:a};return E(u)}function O(t){var e=t.nodeName;if("BODY"===e||"HTML"===e)return!1;if("fixed"===o(t,"position"))return!0;var n=s(t);return!!n&&O(n)}function D(t){if(!t||!t.parentElement||f())return document.documentElement;for(var e=t.parentElement;e&&"none"===o(e,"transform");)e=e.parentElement;return e||document.documentElement}function N(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a={top:0,left:0},o=i?D(t):m(t,l(e));if("viewport"===r)a=M(o,i);else{var c=void 0;"scrollParent"===r?"BODY"===(c=u(s(e))).nodeName&&(c=t.ownerDocument.documentElement):c="window"===r?t.ownerDocument.documentElement:r;var h=A(c,o,i);if("HTML"!==c.nodeName||O(o))a=h;else{var f=b(t.ownerDocument),d=f.height,p=f.width;a.top+=h.top-h.marginTop,a.bottom=d+h.top,a.left+=h.left-h.marginLeft,a.right=p+h.left}}var g="number"==typeof(n=n||0);return a.left+=g?n:n.left||0,a.top+=g?n:n.top||0,a.right-=g?n:n.right||0,a.bottom-=g?n:n.bottom||0,a}function I(t){return t.width*t.height}function P(t,e,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var o=N(n,r,a,i),s={top:{width:o.width,height:e.top-o.top},right:{width:o.right-e.right,height:o.height},bottom:{width:o.width,height:o.bottom-e.bottom},left:{width:e.left-o.left,height:o.height}},u=Object.keys(s).map((function(t){return S({key:t},s[t],{area:I(s[t])})})).sort((function(t,e){return e.area-t.area})),l=u.filter((function(t){var e=t.width,r=t.height;return e>=n.clientWidth&&r>=n.clientHeight})),c=l.length>0?l[0].key:u[0].key,h=t.split("-")[1];return c+(h?"-"+h:"")}function L(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=r?D(e):m(e,l(n));return A(n,i,r)}function R(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),n=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),r=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+r,height:t.offsetHeight+n}}function k(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,(function(t){return e[t]}))}function B(t,e,n){n=n.split("-")[0];var r=R(t),i={width:r.width,height:r.height},a=-1!==["right","left"].indexOf(n),o=a?"top":"left",s=a?"left":"top",u=a?"height":"width",l=a?"width":"height";return i[o]=e[o]+e[u]/2-r[u]/2,i[s]=n===s?e[s]-r[l]:e[k(s)],i}function F(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function z(t,e,n){return(void 0===n?t:t.slice(0,function(t,e,n){if(Array.prototype.findIndex)return t.findIndex((function(t){return t[e]===n}));var r=F(t,(function(t){return t[e]===n}));return t.indexOf(r)}(t,"name",n))).forEach((function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=t.function||t.fn;t.enabled&&a(n)&&(e.offsets.popper=E(e.offsets.popper),e.offsets.reference=E(e.offsets.reference),e=n(e,t))})),e}function j(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=L(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=P(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=B(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=z(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function U(t,e){return t.some((function(t){var n=t.name;return t.enabled&&n===e}))}function H(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<e.length;r++){var i=e[r],a=i?""+i+n:t;if(void 0!==document.body.style[a])return a}return null}function V(){return this.state.isDestroyed=!0,U(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[H("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function G(t){var e=t.ownerDocument;return e?e.defaultView:window}function W(t,e,n,r){n.updateBound=r,G(t).addEventListener("resize",n.updateBound,{passive:!0});var i=u(t);return function t(e,n,r,i){var a="BODY"===e.nodeName,o=a?e.ownerDocument.defaultView:e;o.addEventListener(n,r,{passive:!0}),a||t(u(o.parentNode),n,r,i),i.push(o)}(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function $(){this.state.eventsEnabled||(this.state=W(this.reference,this.options,this.state,this.scheduleUpdate))}function X(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,G(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach((function(t){t.removeEventListener("scroll",e.updateBound)})),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function q(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function Y(t,e){Object.keys(e).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&q(e[n])&&(r="px"),t.style[n]=e[n]+r}))}var Z=n&&/Firefox/i.test(navigator.userAgent);function K(t,e,n){var r=F(t,(function(t){return t.name===e})),i=!!r&&t.some((function(t){return t.name===n&&t.enabled&&t.order<r.order}));if(!i){var a="`"+e+"`",o="`"+n+"`";console.warn(o+" modifier is required by "+a+" modifier in order to work, be sure to include it before "+a+"!")}return i}var J=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Q=J.slice(3);function tt(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Q.indexOf(t),r=Q.slice(n+1).concat(Q.slice(0,n));return e?r.reverse():r}var et="flip",nt="clockwise",rt="counterclockwise";function it(t,e,n,r){var i=[0,0],a=-1!==["right","left"].indexOf(r),o=t.split(/(\+|\-)/).map((function(t){return t.trim()})),s=o.indexOf(F(o,(function(t){return-1!==t.search(/,|\s/)})));o[s]&&-1===o[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var u=/\s*,\s*|\s+/,l=-1!==s?[o.slice(0,s).concat([o[s].split(u)[0]]),[o[s].split(u)[1]].concat(o.slice(s+1))]:[o];return(l=l.map((function(t,r){var i=(1===r?!a:a)?"height":"width",o=!1;return t.reduce((function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,o=!0,t):o?(t[t.length-1]+=e,o=!1,t):t.concat(e)}),[]).map((function(t){return function(t,e,n,r){var i=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),a=+i[1],o=i[2];if(!a)return t;if(0===o.indexOf("%")){var s=void 0;switch(o){case"%p":s=n;break;case"%":case"%r":default:s=r}return E(s)[e]/100*a}if("vh"===o||"vw"===o){return("vh"===o?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*a}return a}(t,i,e,n)}))}))).forEach((function(t,e){t.forEach((function(n,r){q(n)&&(i[e]+=n*("-"===t[r-1]?-1:1))}))})),i}var at={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,n=e.split("-")[0],r=e.split("-")[1];if(r){var i=t.offsets,a=i.reference,o=i.popper,s=-1!==["bottom","top"].indexOf(n),u=s?"left":"top",l=s?"width":"height",c={start:T({},u,a[u]),end:T({},u,a[u]+a[l]-o[l])};t.offsets.popper=S({},o,c[r])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var n=e.offset,r=t.placement,i=t.offsets,a=i.popper,o=i.reference,s=r.split("-")[0],u=void 0;return u=q(+n)?[+n,0]:it(n,a,o,s),"left"===s?(a.top+=u[0],a.left-=u[1]):"right"===s?(a.top+=u[0],a.left+=u[1]):"top"===s?(a.left+=u[0],a.top-=u[1]):"bottom"===s&&(a.left+=u[0],a.top+=u[1]),t.popper=a,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var n=e.boundariesElement||d(t.instance.popper);t.instance.reference===n&&(n=d(n));var r=H("transform"),i=t.instance.popper.style,a=i.top,o=i.left,s=i[r];i.top="",i.left="",i[r]="";var u=N(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);i.top=a,i.left=o,i[r]=s,e.boundaries=u;var l=e.priority,c=t.offsets.popper,h={primary:function(t){var n=c[t];return c[t]<u[t]&&!e.escapeWithReference&&(n=Math.max(c[t],u[t])),T({},t,n)},secondary:function(t){var n="right"===t?"left":"top",r=c[n];return c[t]>u[t]&&!e.escapeWithReference&&(r=Math.min(c[n],u[t]-("right"===t?c.width:c.height))),T({},n,r)}};return l.forEach((function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";c=S({},c,h[e](t))})),t.offsets.popper=c,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,n=e.popper,r=e.reference,i=t.placement.split("-")[0],a=Math.floor,o=-1!==["top","bottom"].indexOf(i),s=o?"right":"bottom",u=o?"left":"top",l=o?"width":"height";return n[s]<a(r[u])&&(t.offsets.popper[u]=a(r[u])-n[l]),n[u]>a(r[s])&&(t.offsets.popper[u]=a(r[s])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){var n;if(!K(t.instance.modifiers,"arrow","keepTogether"))return t;var r=e.element;if("string"==typeof r){if(!(r=t.instance.popper.querySelector(r)))return t}else if(!t.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var i=t.placement.split("-")[0],a=t.offsets,s=a.popper,u=a.reference,l=-1!==["left","right"].indexOf(i),c=l?"height":"width",h=l?"Top":"Left",f=h.toLowerCase(),d=l?"left":"top",p=l?"bottom":"right",m=R(r)[c];u[p]-m<s[f]&&(t.offsets.popper[f]-=s[f]-(u[p]-m)),u[f]+m>s[p]&&(t.offsets.popper[f]+=u[f]+m-s[p]),t.offsets.popper=E(t.offsets.popper);var g=u[f]+u[c]/2-m/2,_=o(t.instance.popper),v=parseFloat(_["margin"+h]),y=parseFloat(_["border"+h+"Width"]),b=g-t.offsets.popper[f]-v-y;return b=Math.max(Math.min(s[c]-m,b),0),t.arrowElement=r,t.offsets.arrow=(T(n={},f,Math.round(b)),T(n,d,""),n),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(U(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=N(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),r=t.placement.split("-")[0],i=k(r),a=t.placement.split("-")[1]||"",o=[];switch(e.behavior){case et:o=[r,i];break;case nt:o=tt(r);break;case rt:o=tt(r,!0);break;default:o=e.behavior}return o.forEach((function(s,u){if(r!==s||o.length===u+1)return t;r=t.placement.split("-")[0],i=k(r);var l=t.offsets.popper,c=t.offsets.reference,h=Math.floor,f="left"===r&&h(l.right)>h(c.left)||"right"===r&&h(l.left)<h(c.right)||"top"===r&&h(l.bottom)>h(c.top)||"bottom"===r&&h(l.top)<h(c.bottom),d=h(l.left)<h(n.left),p=h(l.right)>h(n.right),m=h(l.top)<h(n.top),g=h(l.bottom)>h(n.bottom),_="left"===r&&d||"right"===r&&p||"top"===r&&m||"bottom"===r&&g,v=-1!==["top","bottom"].indexOf(r),y=!!e.flipVariations&&(v&&"start"===a&&d||v&&"end"===a&&p||!v&&"start"===a&&m||!v&&"end"===a&&g),b=!!e.flipVariationsByContent&&(v&&"start"===a&&p||v&&"end"===a&&d||!v&&"start"===a&&g||!v&&"end"===a&&m),x=y||b;(f||_||x)&&(t.flipped=!0,(f||_)&&(r=o[u+1]),x&&(a=function(t){return"end"===t?"start":"start"===t?"end":t}(a)),t.placement=r+(a?"-"+a:""),t.offsets.popper=S({},t.offsets.popper,B(t.instance.popper,t.offsets.reference,t.placement)),t=z(t.instance.modifiers,t,"flip"))})),t},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,n=e.split("-")[0],r=t.offsets,i=r.popper,a=r.reference,o=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return i[o?"left":"top"]=a[n]-(s?i[o?"width":"height"]:0),t.placement=k(e),t.offsets.popper=E(i),t}},hide:{order:800,enabled:!0,fn:function(t){if(!K(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=F(t.instance.modifiers,(function(t){return"preventOverflow"===t.name})).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var n=e.x,r=e.y,i=t.offsets.popper,a=F(t.instance.modifiers,(function(t){return"applyStyle"===t.name})).gpuAcceleration;void 0!==a&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var o=void 0!==a?a:e.gpuAcceleration,s=d(t.instance.popper),u=C(s),l={position:i.position},c=function(t,e){var n=t.offsets,r=n.popper,i=n.reference,a=Math.round,o=Math.floor,s=function(t){return t},u=a(i.width),l=a(r.width),c=-1!==["left","right"].indexOf(t.placement),h=-1!==t.placement.indexOf("-"),f=e?c||h||u%2==l%2?a:o:s,d=e?a:s;return{left:f(u%2==1&&l%2==1&&!h&&e?r.left-1:r.left),top:d(r.top),bottom:d(r.bottom),right:f(r.right)}}(t,window.devicePixelRatio<2||!Z),h="bottom"===n?"top":"bottom",f="right"===r?"left":"right",p=H("transform"),m=void 0,g=void 0;if(g="bottom"===h?"HTML"===s.nodeName?-s.clientHeight+c.bottom:-u.height+c.bottom:c.top,m="right"===f?"HTML"===s.nodeName?-s.clientWidth+c.right:-u.width+c.right:c.left,o&&p)l[p]="translate3d("+m+"px, "+g+"px, 0)",l[h]=0,l[f]=0,l.willChange="transform";else{var _="bottom"===h?-1:1,v="right"===f?-1:1;l[h]=g*_,l[f]=m*v,l.willChange=h+", "+f}var y={"x-placement":t.placement};return t.attributes=S({},y,t.attributes),t.styles=S({},l,t.styles),t.arrowStyles=S({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){var e,n;return Y(t.instance.popper,t.styles),e=t.instance.popper,n=t.attributes,Object.keys(n).forEach((function(t){!1!==n[t]?e.setAttribute(t,n[t]):e.removeAttribute(t)})),t.arrowElement&&Object.keys(t.arrowStyles).length&&Y(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,n,r,i){var a=L(i,e,t,n.positionFixed),o=P(n.placement,a,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",o),Y(e,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},ot=function(){function t(e,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};x(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=i(this.update.bind(this)),this.options=S({},t.Defaults,o),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(S({},t.Defaults.modifiers,o.modifiers)).forEach((function(e){r.options.modifiers[e]=S({},t.Defaults.modifiers[e]||{},o.modifiers?o.modifiers[e]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(t){return S({name:t},r.options.modifiers[t])})).sort((function(t,e){return t.order-e.order})),this.modifiers.forEach((function(t){t.enabled&&a(t.onLoad)&&t.onLoad(r.reference,r.popper,r.options,t,r.state)})),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return w(t,[{key:"update",value:function(){return j.call(this)}},{key:"destroy",value:function(){return V.call(this)}},{key:"enableEventListeners",value:function(){return $.call(this)}},{key:"disableEventListeners",value:function(){return X.call(this)}}]),t}();ot.Utils=("undefined"!=typeof window?window:t).PopperUtils,ot.placements=J,ot.Defaults=at,e.a=ot}).call(this,n("c8ba"))},f183:function(t,e,n){var r=n("d012"),i=n("861d"),a=n("5135"),o=n("9bf2").f,s=n("90e3"),u=n("bb2f"),l=s("meta"),c=0,h=Object.isExtensible||function(){return!0},f=function(t){o(t,l,{value:{objectID:"O"+ ++c,weakData:{}}})},d=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,l)){if(!h(t))return"F";if(!e)return"E";f(t)}return t[l].objectID},getWeakData:function(t,e){if(!a(t,l)){if(!h(t))return!0;if(!e)return!1;f(t)}return t[l].weakData},onFreeze:function(t){return u&&d.REQUIRED&&h(t)&&!a(t,l)&&f(t),t}};r[l]=!0},f1f3:function(t,e,n){"use strict";var r=n("124c");n.n(r).a},f4b3:function(t,e,n){"use strict";var r=n("23e7"),i=n("d039"),a=n("7b0b"),o=n("c04e");r({target:"Date",proto:!0,forced:i((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}))},{toJSON:function(t){var e=a(this),n=o(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},f4dd:function(t,e,n){"use strict";var r=n("23e7"),i=n("d58f").right,a=n("a640"),o=n("ae40"),s=a("reduceRight"),u=o("reduce",{1:0});r({target:"Array",proto:!0,forced:!s||!u},{reduceRight:function(t){return i(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},f5b2:function(t,e,n){"use strict";var r=n("23e7"),i=n("6547").codeAt;r({target:"String",proto:!0},{codePointAt:function(t){return i(this,t)}})},f5df:function(t,e,n){var r=n("00ee"),i=n("c6b6"),a=n("b622")("toStringTag"),o="Arguments"==i(function(){return arguments}());t.exports=r?i:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),a))?n:o?i(e):"Object"==(r=i(e))&&"function"==typeof e.callee?"Arguments":r}},f65b:function(t,e,n){n("906f");var r=n("61c0"),i={op:function(t){this.value=t},c:function(t){this.value=t},r:function(t){this.value=t},n:function(t){this.value=parseFloat(t)},t:s,dt:s,T:s,f:function(t){this.value=t},o:function(t){this.value=t},rT:function(t){this.start=t.start,this.end=t.end},cT:function(t){this.cron=t}};function a(t){if(!t)return null;for(;t;){var e=(t.match(/^=/)||[])[0]||"",n=((t=t.replace(/^=/,"")).match(/^\-?\d+(\.\d+)?/)||[])[0]||"1",r=((t=t.replace(/^\-?\d+(\.\d+)?/,"")).match(/^[a-zA-Z]+/)||[])[0];t=t.replace(/^[a-zA-Z]+/,""),this[r]=e+n}}function o(t){if(!t)return null;for(;t;){var e=(t.match(/^=/)||[])[0]||"",n=((t=t.replace(/^=/,"")).match(/^\-?\d+(\.\d+)?/)||[])[0]||"1",r=((t=t.replace(/^\-?\d+(\.\d+)?/,"")).match(/^[a-zA-Z]+/)||[])[0];t=t.replace(/^[a-zA-Z]+/,""),this[r]=e+n}}function s(t,e){if("t"==e)this.t=new a(t),this.dt=new o;else if("dt"==e)this.t=new a,this.dt=new o(t);else{var n=t.split(","),r=n[0].split(":").pop(),i=n[1].split(":").pop();this.t=new a(r),this.dt=new o(i)}}t.exports=function(t){var e;if(null==t)e=null;else if(t.start&&t.end)e=new i.rT(t);else if(parseFloat(t)==t)e=new i.n(t);else if(t.match(r.reT))e=t.match(/\s+/g)?null:new i.T(t);else{var n=r.lemma(t);(e=n.name?new i[n.name](n.value,n.name):null)&&(e.canon=n.canon)}e&&(e.token=t);return e}},f664:function(t,e,n){n("23e7")({target:"Math",stat:!0},{fround:n("be8e")})},f6b4:function(t,e,n){"use strict";var r=n("c532");function i(){this.handlers=[]}i.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){r.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=i},f6d6:function(t,e,n){var r=n("23e7"),i=n("23cb"),a=String.fromCharCode,o=String.fromCodePoint;r({target:"String",stat:!0,forced:!!o&&1!=o.length},{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,o=0;r>o;){if(e=+arguments[o++],i(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?a(e):a(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},f748:function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},f772:function(t,e,n){var r=n("5692"),i=n("90e3"),a=r("keys");t.exports=function(t){return a[t]||(a[t]=i(t))}},f785:function(t,e,n){n("2626")("Array")},f893:function(t,e,n){t.exports={default:n("8119"),__esModule:!0}},f8cd:function(t,e,n){var r=n("a691");t.exports=function(t){var e=r(t);if(e<0)throw RangeError("The argument can't be less than 0");return e}},faf5:function(t,e,n){t.exports=!n("0bad")&&!n("4b8b")((function(){return 7!=Object.defineProperty(n("05f5")("div"),"a",{get:function(){return 7}}).a}))},fb2c:function(t,e,n){n("74e8")("Uint32",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},fb6a:function(t,e,n){"use strict";var r=n("23e7"),i=n("861d"),a=n("e8b5"),o=n("23cb"),s=n("50c4"),u=n("fc6a"),l=n("8418"),c=n("b622"),h=n("1dde"),f=n("ae40"),d=h("slice"),p=f("slice",{ACCESSORS:!0,0:0,1:2}),m=c("species"),g=[].slice,_=Math.max;r({target:"Array",proto:!0,forced:!d||!p},{slice:function(t,e){var n,r,c,h=u(this),f=s(h.length),d=o(t,f),p=o(void 0===e?f:e,f);if(a(h)&&("function"!=typeof(n=h.constructor)||n!==Array&&!a(n.prototype)?i(n)&&null===(n=n[m])&&(n=void 0):n=void 0,n===Array||void 0===n))return g.call(h,d,p);for(r=new(void 0===n?Array:n)(_(p-d,0)),c=0;d<p;d++,c++)d in h&&l(r,c,h[d]);return r.length=c,r}})},fc5e:function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},fc6a:function(t,e,n){var r=n("44ad"),i=n("1d80");t.exports=function(t){return r(i(t))}},fcc6:function(t,e,n){"use strict";var r=n("bbb5");n.n(r).a},fcd4:function(t,e,n){e.f=n("cc15")},fd87:function(t,e,n){n("74e8")("Int8",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(t,e,n){var r=n("4930");t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},fea9:function(t,e,n){var r=n("da84");t.exports=r.Promise},fed5:function(t,e){e.f=Object.getOwnPropertySymbols},ff50:function(t,e,n){var r;n("a4d3"),n("e01a"),n("944a"),n("99af"),n("c975"),n("a15b"),n("baa5"),n("fb6a"),n("45fc"),n("a434"),n("0c47"),n("23dc"),n("d3b7"),n("4d63"),n("ac1f"),n("25f0"),n("466d"),n("5319"),n("1276"),n("498a"),n("a4d3"),n("e01a"),n("944a"),n("99af"),n("c975"),n("a15b"),n("baa5"),n("fb6a"),n("45fc"),n("a434"),n("0c47"),n("23dc"),n("cca6"),n("d3b7"),n("4d63"),n("ac1f"),n("25f0"),n("466d"),n("5319"),n("1276"),n("498a");var i,a=n("7037");i=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===a(t)&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";var r=n(1).Beautifier,i=n(5).Options;t.exports=function(t,e){return new r(t,e).beautify()},t.exports.defaultOptions=function(){return new i}},function(t,e,n){"use strict";var r=n(2).Output,i=n(3).Token,a=n(4),o=n(5).Options,s=n(7).Tokenizer,u=n(7).line_starters,l=n(7).positionable_operators,c=n(7).TOKEN;function h(t,e){return-1!==e.indexOf(t)}function f(t,e){return t&&t.type===c.RESERVED&&t.text===e}function d(t,e){return t&&t.type===c.RESERVED&&h(t.text,e)}var p=["case","return","do","if","throw","else","await","break","continue","async"],m=function(t){for(var e={},n=0;n<t.length;n++)e[t[n].replace(/-/g,"_")]=t[n];return e}(["before-newline","after-newline","preserve-newline"]),g=[m.before_newline,m.preserve_newline],_="BlockStatement",v="Statement",y="ObjectLiteral",b="ArrayLiteral",x="ForInitializer",w="Conditional",T="Expression";function S(t,e){e.multiline_frame||e.mode===x||e.mode===w||t.remove_indent(e.start_line_index)}function E(t){return t===b}function C(t){return h(t,[T,x,w])}function A(t,e){e=e||{},this._source_text=t||"",this._output=null,this._tokens=null,this._last_last_text=null,this._flags=null,this._previous_flags=null,this._flag_store=null,this._options=new o(e)}A.prototype.create_flags=function(t,e){var n=0;return t&&(n=t.indentation_level,!this._output.just_added_newline()&&t.line_indent_level>n&&(n=t.line_indent_level)),{mode:e,parent:t,last_token:t?t.last_token:new i(c.START_BLOCK,""),last_word:t?t.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:n,alignment:0,line_indent_level:t?t.line_indent_level:n,start_line_index:this._output.get_line_number(),ternary_depth:0}},A.prototype._reset=function(t){var e=t.match(/^[\t ]*/)[0];this._last_last_text="",this._output=new r(this._options,e),this._output.raw=this._options.test_output_raw,this._flag_store=[],this.set_mode(_);var n=new s(t,this._options);return this._tokens=n.tokenize(),t},A.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t=this._reset(this._source_text),e=this._options.eol;"auto"===this._options.eol&&(e="\n",t&&a.lineBreak.test(t||"")&&(e=t.match(a.lineBreak)[0]));for(var n=this._tokens.next();n;)this.handle_token(n),this._last_last_text=this._flags.last_token.text,this._flags.last_token=n,n=this._tokens.next();return this._output.get_code(e)},A.prototype.handle_token=function(t,e){t.type===c.START_EXPR?this.handle_start_expr(t):t.type===c.END_EXPR?this.handle_end_expr(t):t.type===c.START_BLOCK?this.handle_start_block(t):t.type===c.END_BLOCK?this.handle_end_block(t):t.type===c.WORD||t.type===c.RESERVED?this.handle_word(t):t.type===c.SEMICOLON?this.handle_semicolon(t):t.type===c.STRING?this.handle_string(t):t.type===c.EQUALS?this.handle_equals(t):t.type===c.OPERATOR?this.handle_operator(t):t.type===c.COMMA?this.handle_comma(t):t.type===c.BLOCK_COMMENT?this.handle_block_comment(t,e):t.type===c.COMMENT?this.handle_comment(t,e):t.type===c.DOT?this.handle_dot(t):t.type===c.EOF?this.handle_eof(t):(t.type,c.UNKNOWN,this.handle_unknown(t,e))},A.prototype.handle_whitespace_and_comments=function(t,e){var n=t.newlines,r=this._options.keep_array_indentation&&E(this._flags.mode);if(t.comments_before)for(var i=t.comments_before.next();i;)this.handle_whitespace_and_comments(i,e),this.handle_token(i,e),i=t.comments_before.next();if(r)for(var a=0;a<n;a+=1)this.print_newline(a>0,e);else if(this._options.max_preserve_newlines&&n>this._options.max_preserve_newlines&&(n=this._options.max_preserve_newlines),this._options.preserve_newlines&&n>1){this.print_newline(!1,e);for(var o=1;o<n;o+=1)this.print_newline(!0,e)}};var M=["async","break","continue","return","throw","yield"];A.prototype.allow_wrap_or_preserved_newline=function(t,e){if(e=void 0!==e&&e,!this._output.just_added_newline()){var n=this._options.preserve_newlines&&t.newlines||e;if(h(this._flags.last_token.text,l)||h(t.text,l)){var r=h(this._flags.last_token.text,l)&&h(this._options.operator_position,g)||h(t.text,l);n=n&&r}if(n)this.print_newline(!1,!0);else if(this._options.wrap_line_length){if(d(this._flags.last_token,M))return;this._output.set_wrap_point()}}},A.prototype.print_newline=function(t,e){if(!e&&";"!==this._flags.last_token.text&&","!==this._flags.last_token.text&&"="!==this._flags.last_token.text&&(this._flags.last_token.type!==c.OPERATOR||"--"===this._flags.last_token.text||"++"===this._flags.last_token.text))for(var n=this._tokens.peek();!(this._flags.mode!==v||this._flags.if_block&&f(n,"else")||this._flags.do_block);)this.restore_mode();this._output.add_new_line(t)&&(this._flags.multiline_frame=!0)},A.prototype.print_token_line_indentation=function(t){this._output.just_added_newline()&&(this._options.keep_array_indentation&&t.newlines&&("["===t.text||E(this._flags.mode))?(this._output.current_line.set_indent(-1),this._output.current_line.push(t.whitespace_before),this._output.space_before_token=!1):this._output.set_indent(this._flags.indentation_level,this._flags.alignment)&&(this._flags.line_indent_level=this._flags.indentation_level))},A.prototype.print_token=function(t){if(this._output.raw)this._output.add_raw_token(t);else{if(this._options.comma_first&&t.previous&&t.previous.type===c.COMMA&&this._output.just_added_newline()&&","===this._output.previous_line.last()){var e=this._output.previous_line.pop();this._output.previous_line.is_empty()&&(this._output.previous_line.push(e),this._output.trim(!0),this._output.current_line.pop(),this._output.trim()),this.print_token_line_indentation(t),this._output.add_token(","),this._output.space_before_token=!0}this.print_token_line_indentation(t),this._output.non_breaking_space=!0,this._output.add_token(t.text),this._output.previous_token_wrapped&&(this._flags.multiline_frame=!0)}},A.prototype.indent=function(){this._flags.indentation_level+=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},A.prototype.deindent=function(){this._flags.indentation_level>0&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)&&(this._flags.indentation_level-=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},A.prototype.set_mode=function(t){this._flags?(this._flag_store.push(this._flags),this._previous_flags=this._flags):this._previous_flags=this.create_flags(null,t),this._flags=this.create_flags(this._previous_flags,t),this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},A.prototype.restore_mode=function(){this._flag_store.length>0&&(this._previous_flags=this._flags,this._flags=this._flag_store.pop(),this._previous_flags.mode===v&&S(this._output,this._previous_flags),this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},A.prototype.start_of_object_property=function(){return this._flags.parent.mode===y&&this._flags.mode===v&&(":"===this._flags.last_token.text&&0===this._flags.ternary_depth||d(this._flags.last_token,["get","set"]))},A.prototype.start_of_statement=function(t){var e=!1;return!!(e=(e=(e=(e=(e=(e=(e=e||d(this._flags.last_token,["var","let","const"])&&t.type===c.WORD)||f(this._flags.last_token,"do"))||!(this._flags.parent.mode===y&&this._flags.mode===v)&&d(this._flags.last_token,M)&&!t.newlines)||f(this._flags.last_token,"else")&&!(f(t,"if")&&!t.comments_before))||this._flags.last_token.type===c.END_EXPR&&(this._previous_flags.mode===x||this._previous_flags.mode===w))||this._flags.last_token.type===c.WORD&&this._flags.mode===_&&!this._flags.in_case&&!("--"===t.text||"++"===t.text)&&"function"!==this._last_last_text&&t.type!==c.WORD&&t.type!==c.RESERVED)||this._flags.mode===y&&(":"===this._flags.last_token.text&&0===this._flags.ternary_depth||d(this._flags.last_token,["get","set"])))&&(this.set_mode(v),this.indent(),this.handle_whitespace_and_comments(t,!0),this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t,d(t,["do","for","if","while"])),!0)},A.prototype.handle_start_expr=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t);var e=T;if("["===t.text){if(this._flags.last_token.type===c.WORD||")"===this._flags.last_token.text)return d(this._flags.last_token,u)&&(this._output.space_before_token=!0),this.print_token(t),this.set_mode(e),this.indent(),void(this._options.space_in_paren&&(this._output.space_before_token=!0));e=b,E(this._flags.mode)&&("["!==this._flags.last_token.text&&(","!==this._flags.last_token.text||"]"!==this._last_last_text&&"}"!==this._last_last_text)||this._options.keep_array_indentation||this.print_newline()),h(this._flags.last_token.type,[c.START_EXPR,c.END_EXPR,c.WORD,c.OPERATOR])||(this._output.space_before_token=!0)}else{if(this._flags.last_token.type===c.RESERVED)"for"===this._flags.last_token.text?(this._output.space_before_token=this._options.space_before_conditional,e=x):h(this._flags.last_token.text,["if","while"])?(this._output.space_before_token=this._options.space_before_conditional,e=w):h(this._flags.last_word,["await","async"])?this._output.space_before_token=!0:"import"===this._flags.last_token.text&&""===t.whitespace_before?this._output.space_before_token=!1:(h(this._flags.last_token.text,u)||"catch"===this._flags.last_token.text)&&(this._output.space_before_token=!0);else if(this._flags.last_token.type===c.EQUALS||this._flags.last_token.type===c.OPERATOR)this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t);else if(this._flags.last_token.type===c.WORD){this._output.space_before_token=!1;var n=this._tokens.peek(-3);if(this._options.space_after_named_function&&n){var r=this._tokens.peek(-4);d(n,["async","function"])||"*"===n.text&&d(r,["async","function"])?this._output.space_before_token=!0:this._flags.mode===y&&("{"!==n.text&&","!==n.text&&("*"!==n.text||"{"!==r.text&&","!==r.text)||(this._output.space_before_token=!0))}}else this.allow_wrap_or_preserved_newline(t);(this._flags.last_token.type===c.RESERVED&&("function"===this._flags.last_word||"typeof"===this._flags.last_word)||"*"===this._flags.last_token.text&&(h(this._last_last_text,["function","yield"])||this._flags.mode===y&&h(this._last_last_text,["{",","])))&&(this._output.space_before_token=this._options.space_after_anon_function)}";"===this._flags.last_token.text||this._flags.last_token.type===c.START_BLOCK?this.print_newline():this._flags.last_token.type!==c.END_EXPR&&this._flags.last_token.type!==c.START_EXPR&&this._flags.last_token.type!==c.END_BLOCK&&"."!==this._flags.last_token.text&&this._flags.last_token.type!==c.COMMA||this.allow_wrap_or_preserved_newline(t,t.newlines),this.print_token(t),this.set_mode(e),this._options.space_in_paren&&(this._output.space_before_token=!0),this.indent()},A.prototype.handle_end_expr=function(t){for(;this._flags.mode===v;)this.restore_mode();this.handle_whitespace_and_comments(t),this._flags.multiline_frame&&this.allow_wrap_or_preserved_newline(t,"]"===t.text&&E(this._flags.mode)&&!this._options.keep_array_indentation),this._options.space_in_paren&&(this._flags.last_token.type!==c.START_EXPR||this._options.space_in_empty_paren?this._output.space_before_token=!0:(this._output.trim(),this._output.space_before_token=!1)),this.deindent(),this.print_token(t),this.restore_mode(),S(this._output,this._previous_flags),this._flags.do_while&&this._previous_flags.mode===w&&(this._previous_flags.mode=T,this._flags.do_block=!1,this._flags.do_while=!1)},A.prototype.handle_start_block=function(t){this.handle_whitespace_and_comments(t);var e=this._tokens.peek(),n=this._tokens.peek(1);"switch"===this._flags.last_word&&this._flags.last_token.type===c.END_EXPR?(this.set_mode(_),this._flags.in_case_statement=!0):this._flags.case_body?this.set_mode(_):n&&(h(n.text,[":",","])&&h(e.type,[c.STRING,c.WORD,c.RESERVED])||h(e.text,["get","set","..."])&&h(n.type,[c.WORD,c.RESERVED]))?h(this._last_last_text,["class","interface"])?this.set_mode(_):this.set_mode(y):this._flags.last_token.type===c.OPERATOR&&"=>"===this._flags.last_token.text?this.set_mode(_):h(this._flags.last_token.type,[c.EQUALS,c.START_EXPR,c.COMMA,c.OPERATOR])||d(this._flags.last_token,["return","throw","import","default"])?this.set_mode(y):this.set_mode(_);var r=!e.comments_before&&"}"===e.text,i=r&&"function"===this._flags.last_word&&this._flags.last_token.type===c.END_EXPR;if(this._options.brace_preserve_inline){var a=0,o=null;this._flags.inline_frame=!0;do{if(a+=1,(o=this._tokens.peek(a-1)).newlines){this._flags.inline_frame=!1;break}}while(o.type!==c.EOF&&(o.type!==c.END_BLOCK||o.opened!==t))}("expand"===this._options.brace_style||"none"===this._options.brace_style&&t.newlines)&&!this._flags.inline_frame?this._flags.last_token.type!==c.OPERATOR&&(i||this._flags.last_token.type===c.EQUALS||d(this._flags.last_token,p)&&"else"!==this._flags.last_token.text)?this._output.space_before_token=!0:this.print_newline(!1,!0):(!E(this._previous_flags.mode)||this._flags.last_token.type!==c.START_EXPR&&this._flags.last_token.type!==c.COMMA||((this._flags.last_token.type===c.COMMA||this._options.space_in_paren)&&(this._output.space_before_token=!0),(this._flags.last_token.type===c.COMMA||this._flags.last_token.type===c.START_EXPR&&this._flags.inline_frame)&&(this.allow_wrap_or_preserved_newline(t),this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame,this._flags.multiline_frame=!1)),this._flags.last_token.type!==c.OPERATOR&&this._flags.last_token.type!==c.START_EXPR&&(this._flags.last_token.type!==c.START_BLOCK||this._flags.inline_frame?this._output.space_before_token=!0:this.print_newline())),this.print_token(t),this.indent(),r||this._options.brace_preserve_inline&&this._flags.inline_frame||this.print_newline()},A.prototype.handle_end_block=function(t){for(this.handle_whitespace_and_comments(t);this._flags.mode===v;)this.restore_mode();var e=this._flags.last_token.type===c.START_BLOCK;this._flags.inline_frame&&!e?this._output.space_before_token=!0:"expand"===this._options.brace_style?e||this.print_newline():e||(E(this._flags.mode)&&this._options.keep_array_indentation?(this._options.keep_array_indentation=!1,this.print_newline(),this._options.keep_array_indentation=!0):this.print_newline()),this.restore_mode(),this.print_token(t)},A.prototype.handle_word=function(t){if(t.type===c.RESERVED&&(h(t.text,["set","get"])&&this._flags.mode!==y||"import"===t.text&&"("===this._tokens.peek().text||h(t.text,["as","from"])&&!this._flags.import_block||this._flags.mode===y&&":"===this._tokens.peek().text)&&(t.type=c.WORD),this.start_of_statement(t)?d(this._flags.last_token,["var","let","const"])&&t.type===c.WORD&&(this._flags.declaration_statement=!0):!t.newlines||C(this._flags.mode)||this._flags.last_token.type===c.OPERATOR&&"--"!==this._flags.last_token.text&&"++"!==this._flags.last_token.text||this._flags.last_token.type===c.EQUALS||!this._options.preserve_newlines&&d(this._flags.last_token,["var","let","const","set","get"])?this.handle_whitespace_and_comments(t):(this.handle_whitespace_and_comments(t),this.print_newline()),this._flags.do_block&&!this._flags.do_while){if(f(t,"while"))return this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0,void(this._flags.do_while=!0);this.print_newline(),this._flags.do_block=!1}if(this._flags.if_block)if(!this._flags.else_block&&f(t,"else"))this._flags.else_block=!0;else{for(;this._flags.mode===v;)this.restore_mode();this._flags.if_block=!1,this._flags.else_block=!1}if(this._flags.in_case_statement&&d(t,["case","default"]))return this.print_newline(),this._flags.last_token.type!==c.END_BLOCK&&(this._flags.case_body||this._options.jslint_happy)&&this.deindent(),this._flags.case_body=!1,this.print_token(t),void(this._flags.in_case=!0);if(this._flags.last_token.type!==c.COMMA&&this._flags.last_token.type!==c.START_EXPR&&this._flags.last_token.type!==c.EQUALS&&this._flags.last_token.type!==c.OPERATOR||this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t),f(t,"function"))return(h(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!h(this._flags.last_token.text,["(","[","{",":","=",","])&&this._flags.last_token.type!==c.OPERATOR)&&(this._output.just_added_blankline()||t.comments_before||(this.print_newline(),this.print_newline(!0))),this._flags.last_token.type===c.RESERVED||this._flags.last_token.type===c.WORD?d(this._flags.last_token,["get","set","new","export"])||d(this._flags.last_token,M)||f(this._flags.last_token,"default")&&"export"===this._last_last_text||"declare"===this._flags.last_token.text?this._output.space_before_token=!0:this.print_newline():this._flags.last_token.type===c.OPERATOR||"="===this._flags.last_token.text?this._output.space_before_token=!0:(this._flags.multiline_frame||!C(this._flags.mode)&&!E(this._flags.mode))&&this.print_newline(),this.print_token(t),void(this._flags.last_word=t.text);var e="NONE";this._flags.last_token.type===c.END_BLOCK?this._previous_flags.inline_frame?e="SPACE":d(t,["else","catch","finally","from"])?"expand"===this._options.brace_style||"end-expand"===this._options.brace_style||"none"===this._options.brace_style&&t.newlines?e="NEWLINE":(e="SPACE",this._output.space_before_token=!0):e="NEWLINE":this._flags.last_token.type===c.SEMICOLON&&this._flags.mode===_?e="NEWLINE":this._flags.last_token.type===c.SEMICOLON&&C(this._flags.mode)?e="SPACE":this._flags.last_token.type===c.STRING?e="NEWLINE":this._flags.last_token.type===c.RESERVED||this._flags.last_token.type===c.WORD||"*"===this._flags.last_token.text&&(h(this._last_last_text,["function","yield"])||this._flags.mode===y&&h(this._last_last_text,["{",","]))?e="SPACE":this._flags.last_token.type===c.START_BLOCK?e=this._flags.inline_frame?"SPACE":"NEWLINE":this._flags.last_token.type===c.END_EXPR&&(this._output.space_before_token=!0,e="NEWLINE"),d(t,u)&&")"!==this._flags.last_token.text&&(e=this._flags.inline_frame||"else"===this._flags.last_token.text||"export"===this._flags.last_token.text?"SPACE":"NEWLINE"),d(t,["else","catch","finally"])?(this._flags.last_token.type!==c.END_BLOCK||this._previous_flags.mode!==_||"expand"===this._options.brace_style||"end-expand"===this._options.brace_style||"none"===this._options.brace_style&&t.newlines)&&!this._flags.inline_frame?this.print_newline():(this._output.trim(!0),"}"!==this._output.current_line.last()&&this.print_newline(),this._output.space_before_token=!0):"NEWLINE"===e?d(this._flags.last_token,p)||"declare"===this._flags.last_token.text&&d(t,["var","let","const"])?this._output.space_before_token=!0:this._flags.last_token.type!==c.END_EXPR?this._flags.last_token.type===c.START_EXPR&&d(t,["var","let","const"])||":"===this._flags.last_token.text||(f(t,"if")&&f(t.previous,"else")?this._output.space_before_token=!0:this.print_newline()):d(t,u)&&")"!==this._flags.last_token.text&&this.print_newline():this._flags.multiline_frame&&E(this._flags.mode)&&","===this._flags.last_token.text&&"}"===this._last_last_text?this.print_newline():"SPACE"===e&&(this._output.space_before_token=!0),!t.previous||t.previous.type!==c.WORD&&t.previous.type!==c.RESERVED||(this._output.space_before_token=!0),this.print_token(t),this._flags.last_word=t.text,t.type===c.RESERVED&&("do"===t.text?this._flags.do_block=!0:"if"===t.text?this._flags.if_block=!0:"import"===t.text?this._flags.import_block=!0:this._flags.import_block&&f(t,"from")&&(this._flags.import_block=!1))},A.prototype.handle_semicolon=function(t){this.start_of_statement(t)?this._output.space_before_token=!1:this.handle_whitespace_and_comments(t);for(var e=this._tokens.peek();!(this._flags.mode!==v||this._flags.if_block&&f(e,"else")||this._flags.do_block);)this.restore_mode();this._flags.import_block&&(this._flags.import_block=!1),this.print_token(t)},A.prototype.handle_string=function(t){this.start_of_statement(t)?this._output.space_before_token=!0:(this.handle_whitespace_and_comments(t),this._flags.last_token.type===c.RESERVED||this._flags.last_token.type===c.WORD||this._flags.inline_frame?this._output.space_before_token=!0:this._flags.last_token.type===c.COMMA||this._flags.last_token.type===c.START_EXPR||this._flags.last_token.type===c.EQUALS||this._flags.last_token.type===c.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t):this.print_newline()),this.print_token(t)},A.prototype.handle_equals=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t),this._flags.declaration_statement&&(this._flags.declaration_assignment=!0),this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0},A.prototype.handle_comma=function(t){this.handle_whitespace_and_comments(t,!0),this.print_token(t),this._output.space_before_token=!0,this._flags.declaration_statement?(C(this._flags.parent.mode)&&(this._flags.declaration_assignment=!1),this._flags.declaration_assignment?(this._flags.declaration_assignment=!1,this.print_newline(!1,!0)):this._options.comma_first&&this.allow_wrap_or_preserved_newline(t)):this._flags.mode===y||this._flags.mode===v&&this._flags.parent.mode===y?(this._flags.mode===v&&this.restore_mode(),this._flags.inline_frame||this.print_newline()):this._options.comma_first&&this.allow_wrap_or_preserved_newline(t)},A.prototype.handle_operator=function(t){var e="*"===t.text&&(d(this._flags.last_token,["function","yield"])||h(this._flags.last_token.type,[c.START_BLOCK,c.COMMA,c.END_BLOCK,c.SEMICOLON])),n=h(t.text,["-","+"])&&(h(this._flags.last_token.type,[c.START_BLOCK,c.START_EXPR,c.EQUALS,c.OPERATOR])||h(this._flags.last_token.text,u)||","===this._flags.last_token.text);if(this.start_of_statement(t));else{var r=!e;this.handle_whitespace_and_comments(t,r)}if(d(this._flags.last_token,p))return this._output.space_before_token=!0,void this.print_token(t);if("*"!==t.text||this._flags.last_token.type!==c.DOT)if("::"!==t.text){if(this._flags.last_token.type===c.OPERATOR&&h(this._options.operator_position,g)&&this.allow_wrap_or_preserved_newline(t),":"===t.text&&this._flags.in_case)return this.print_token(t),this._flags.in_case=!1,this._flags.case_body=!0,void(this._tokens.peek().type!==c.START_BLOCK?(this.indent(),this.print_newline()):this._output.space_before_token=!0);var i=!0,a=!0,o=!1;if(":"===t.text?0===this._flags.ternary_depth?i=!1:(this._flags.ternary_depth-=1,o=!0):"?"===t.text&&(this._flags.ternary_depth+=1),!n&&!e&&this._options.preserve_newlines&&h(t.text,l)){var s=":"===t.text,f=s&&o,y=s&&!o;switch(this._options.operator_position){case m.before_newline:return this._output.space_before_token=!y,this.print_token(t),s&&!f||this.allow_wrap_or_preserved_newline(t),void(this._output.space_before_token=!0);case m.after_newline:return this._output.space_before_token=!0,!s||f?this._tokens.peek().newlines?this.print_newline(!1,!0):this.allow_wrap_or_preserved_newline(t):this._output.space_before_token=!1,this.print_token(t),void(this._output.space_before_token=!0);case m.preserve_newline:return y||this.allow_wrap_or_preserved_newline(t),i=!(this._output.just_added_newline()||y),this._output.space_before_token=i,this.print_token(t),void(this._output.space_before_token=!0)}}if(e){this.allow_wrap_or_preserved_newline(t),i=!1;var b=this._tokens.peek();a=b&&h(b.type,[c.WORD,c.RESERVED])}else"..."===t.text?(this.allow_wrap_or_preserved_newline(t),i=this._flags.last_token.type===c.START_BLOCK,a=!1):(h(t.text,["--","++","!","~"])||n)&&(this._flags.last_token.type!==c.COMMA&&this._flags.last_token.type!==c.START_EXPR||this.allow_wrap_or_preserved_newline(t),i=!1,a=!1,!t.newlines||"--"!==t.text&&"++"!==t.text||this.print_newline(!1,!0),";"===this._flags.last_token.text&&C(this._flags.mode)&&(i=!0),this._flags.last_token.type===c.RESERVED?i=!0:this._flags.last_token.type===c.END_EXPR?i=!("]"===this._flags.last_token.text&&("--"===t.text||"++"===t.text)):this._flags.last_token.type===c.OPERATOR&&(i=h(t.text,["--","-","++","+"])&&h(this._flags.last_token.text,["--","-","++","+"]),h(t.text,["+","-"])&&h(this._flags.last_token.text,["--","++"])&&(a=!0)),(this._flags.mode!==_||this._flags.inline_frame)&&this._flags.mode!==v||"{"!==this._flags.last_token.text&&";"!==this._flags.last_token.text||this.print_newline());this._output.space_before_token=this._output.space_before_token||i,this.print_token(t),this._output.space_before_token=a}else this.print_token(t);else this.print_token(t)},A.prototype.handle_block_comment=function(t,e){return this._output.raw?(this._output.add_raw_token(t),void(t.directives&&"end"===t.directives.preserve&&(this._output.raw=this._options.test_output_raw))):t.directives?(this.print_newline(!1,e),this.print_token(t),"start"===t.directives.preserve&&(this._output.raw=!0),void this.print_newline(!1,!0)):a.newline.test(t.text)||t.newlines?void this.print_block_commment(t,e):(this._output.space_before_token=!0,this.print_token(t),void(this._output.space_before_token=!0))},A.prototype.print_block_commment=function(t,e){var n,r=function(t){for(var e=[],n=(t=t.replace(a.allLineBreaks,"\n")).indexOf("\n");-1!==n;)e.push(t.substring(0,n)),n=(t=t.substring(n+1)).indexOf("\n");return t.length&&e.push(t),e}(t.text),i=!1,o=!1,s=t.whitespace_before,u=s.length;if(this.print_newline(!1,e),this.print_token_line_indentation(t),this._output.add_token(r[0]),this.print_newline(!1,e),r.length>1){for(i=function(t,e){for(var n=0;n<t.length;n++)if(t[n].trim().charAt(0)!==e)return!1;return!0}(r=r.slice(1),"*"),o=function(t,e){for(var n,r=0,i=t.length;r<i;r++)if((n=t[r])&&0!==n.indexOf(e))return!1;return!0}(r,s),i&&(this._flags.alignment=1),n=0;n<r.length;n++)i?(this.print_token_line_indentation(t),this._output.add_token(r[n].replace(/^\s+/g,""))):o&&r[n]?(this.print_token_line_indentation(t),this._output.add_token(r[n].substring(u))):(this._output.current_line.set_indent(-1),this._output.add_token(r[n])),this.print_newline(!1,e);this._flags.alignment=0}},A.prototype.handle_comment=function(t,e){t.newlines?this.print_newline(!1,e):this._output.trim(!0),this._output.space_before_token=!0,this.print_token(t),this.print_newline(!1,e)},A.prototype.handle_dot=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t,!0),d(this._flags.last_token,p)?this._output.space_before_token=!1:this.allow_wrap_or_preserved_newline(t,")"===this._flags.last_token.text&&this._options.break_chained_methods),this._options.unindent_chained_methods&&this._output.just_added_newline()&&this.deindent(),this.print_token(t)},A.prototype.handle_unknown=function(t,e){this.print_token(t),"\n"===t.text[t.text.length-1]&&this.print_newline(!1,e)},A.prototype.handle_eof=function(t){for(;this._flags.mode===v;)this.restore_mode();this.handle_whitespace_and_comments(t)},t.exports.Beautifier=A},function(t,e,n){"use strict";function r(t){this.__parent=t,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function i(t,e){this.__cache=[""],this.__indent_size=t.indent_size,this.__indent_string=t.indent_char,t.indent_with_tabs||(this.__indent_string=new Array(t.indent_size+1).join(t.indent_char)),e=e||"",t.indent_level>0&&(e=new Array(t.indent_level+1).join(this.__indent_string)),this.__base_string=e,this.__base_string_length=e.length}function a(t,e){this.__indent_cache=new i(t,e),this.raw=!1,this._end_with_newline=t.end_with_newline,this.indent_size=t.indent_size,this.wrap_line_length=t.wrap_line_length,this.indent_empty_lines=t.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new r(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}r.prototype.clone_empty=function(){var t=new r(this.__parent);return t.set_indent(this.__indent_count,this.__alignment_count),t},r.prototype.item=function(t){return t<0?this.__items[this.__items.length+t]:this.__items[t]},r.prototype.has_match=function(t){for(var e=this.__items.length-1;e>=0;e--)if(this.__items[e].match(t))return!0;return!1},r.prototype.set_indent=function(t,e){this.is_empty()&&(this.__indent_count=t||0,this.__alignment_count=e||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},r.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},r.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},r.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var t=this.__parent.current_line;return t.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),t.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),t.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count," "===t.__items[0]&&(t.__items.splice(0,1),t.__character_count-=1),!0}return!1},r.prototype.is_empty=function(){return 0===this.__items.length},r.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},r.prototype.push=function(t){this.__items.push(t);var e=t.lastIndexOf("\n");-1!==e?this.__character_count=t.length-e:this.__character_count+=t.length},r.prototype.pop=function(){var t=null;return this.is_empty()||(t=this.__items.pop(),this.__character_count-=t.length),t},r.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},r.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},r.prototype.trim=function(){for(;" "===this.last();)this.__items.pop(),this.__character_count-=1},r.prototype.toString=function(){var t="";return this.is_empty()?this.__parent.indent_empty_lines&&(t=this.__parent.get_indent_string(this.__indent_count)):(t=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),t+=this.__items.join("")),t},i.prototype.get_indent_size=function(t,e){var n=this.__base_string_length;return e=e||0,t<0&&(n=0),n+=t*this.__indent_size,n+=e},i.prototype.get_indent_string=function(t,e){var n=this.__base_string;return e=e||0,t<0&&(t=0,n=""),e+=t*this.__indent_size,this.__ensure_cache(e),n+=this.__cache[e]},i.prototype.__ensure_cache=function(t){for(;t>=this.__cache.length;)this.__add_column()},i.prototype.__add_column=function(){var t=this.__cache.length,e=0,n="";this.__indent_size&&t>=this.__indent_size&&(t-=(e=Math.floor(t/this.__indent_size))*this.__indent_size,n=new Array(e+1).join(this.__indent_string)),t&&(n+=new Array(t+1).join(" ")),this.__cache.push(n)},a.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},a.prototype.get_line_number=function(){return this.__lines.length},a.prototype.get_indent_string=function(t,e){return this.__indent_cache.get_indent_string(t,e)},a.prototype.get_indent_size=function(t,e){return this.__indent_cache.get_indent_size(t,e)},a.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},a.prototype.add_new_line=function(t){return!(this.is_empty()||!t&&this.just_added_newline()||(this.raw||this.__add_outputline(),0))},a.prototype.get_code=function(t){this.trim(!0);var e=this.current_line.pop();e&&("\n"===e[e.length-1]&&(e=e.replace(/\n+$/g,"")),this.current_line.push(e)),this._end_with_newline&&this.__add_outputline();var n=this.__lines.join("\n");return"\n"!==t&&(n=n.replace(/[\n]/g,t)),n},a.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},a.prototype.set_indent=function(t,e){return t=t||0,e=e||0,this.next_line.set_indent(t,e),this.__lines.length>1?(this.current_line.set_indent(t,e),!0):(this.current_line.set_indent(),!1)},a.prototype.add_raw_token=function(t){for(var e=0;e<t.newlines;e++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(t.whitespace_before),this.current_line.push(t.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},a.prototype.add_token=function(t){this.__add_space_before_token(),this.current_line.push(t),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},a.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},a.prototype.remove_indent=function(t){for(var e=this.__lines.length;t<e;)this.__lines[t]._remove_indent(),t++;this.current_line._remove_wrap_indent()},a.prototype.trim=function(t){for(t=void 0!==t&&t,this.current_line.trim();t&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},a.prototype.just_added_newline=function(){return this.current_line.is_empty()},a.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},a.prototype.ensure_empty_line_above=function(t,e){for(var n=this.__lines.length-2;n>=0;){var i=this.__lines[n];if(i.is_empty())break;if(0!==i.item(0).indexOf(t)&&i.item(-1)!==e){this.__lines.splice(n+1,0,new r(this)),this.previous_line=this.__lines[this.__lines.length-2];break}n--}},t.exports.Output=a},function(t,e,n){"use strict";t.exports.Token=function(t,e,n,r){this.type=t,this.text=e,this.comments_before=null,this.newlines=n||0,this.whitespace_before=r||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}},function(t,e,n){"use strict";var r="\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc",i="\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f",a="(?:\\\\u[0-9a-fA-F]{4}|[\\x23\\x24\\x40\\x41-\\x5a\\x5f\\x61-\\x7a"+r+"])";e.identifier=new RegExp(a+"(?:\\\\u[0-9a-fA-F]{4}|[\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f])*","g"),e.identifierStart=new RegExp(a),e.identifierMatch=new RegExp("(?:\\\\u[0-9a-fA-F]{4}|[\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a"+r+i+"])+"),e.newline=/[\n\r\u2028\u2029]/,e.lineBreak=new RegExp("\r\n|"+e.newline.source),e.allLineBreaks=new RegExp(e.lineBreak.source,"g")},function(t,e,n){"use strict";var r=n(6).Options,i=["before-newline","after-newline","preserve-newline"];function a(t){r.call(this,t,"js");var e=this.raw_options.brace_style||null;"expand-strict"===e?this.raw_options.brace_style="expand":"collapse-preserve-inline"===e?this.raw_options.brace_style="collapse,preserve-inline":void 0!==this.raw_options.braces_on_own_line&&(this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse");var n=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_preserve_inline=!1,this.brace_style="collapse";for(var a=0;a<n.length;a++)"preserve-inline"===n[a]?this.brace_preserve_inline=!0:this.brace_style=n[a];this.unindent_chained_methods=this._get_boolean("unindent_chained_methods"),this.break_chained_methods=this._get_boolean("break_chained_methods"),this.space_in_paren=this._get_boolean("space_in_paren"),this.space_in_empty_paren=this._get_boolean("space_in_empty_paren"),this.jslint_happy=this._get_boolean("jslint_happy"),this.space_after_anon_function=this._get_boolean("space_after_anon_function"),this.space_after_named_function=this._get_boolean("space_after_named_function"),this.keep_array_indentation=this._get_boolean("keep_array_indentation"),this.space_before_conditional=this._get_boolean("space_before_conditional",!0),this.unescape_strings=this._get_boolean("unescape_strings"),this.e4x=this._get_boolean("e4x"),this.comma_first=this._get_boolean("comma_first"),this.operator_position=this._get_selection("operator_position",i),this.test_output_raw=this._get_boolean("test_output_raw"),this.jslint_happy&&(this.space_after_anon_function=!0)}a.prototype=new r,t.exports.Options=a},function(t,e,n){"use strict";function r(t,e){this.raw_options=i(t,e),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs","\t"===this.indent_char),this.indent_with_tabs&&(this.indent_char="\t",1===this.indent_size&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php"],["auto"])}function i(t,e){var n,r={};for(n in t=o(t))n!==e&&(r[n]=t[n]);if(e&&t[e])for(n in t[e])r[n]=t[e][n];return r}function o(t){var e,n={};for(e in t)n[e.replace(/-/g,"_")]=t[e];return n}r.prototype._get_array=function(t,e){var n=this.raw_options[t],r=e||[];return"object"===a(n)?null!==n&&"function"==typeof n.concat&&(r=n.concat()):"string"==typeof n&&(r=n.split(/[^a-zA-Z0-9_\/\-]+/)),r},r.prototype._get_boolean=function(t,e){var n=this.raw_options[t];return void 0===n?!!e:!!n},r.prototype._get_characters=function(t,e){var n=this.raw_options[t],r=e||"";return"string"==typeof n&&(r=n.replace(/\\r/,"\r").replace(/\\n/,"\n").replace(/\\t/,"\t")),r},r.prototype._get_number=function(t,e){var n=this.raw_options[t];e=parseInt(e,10),isNaN(e)&&(e=0);var r=parseInt(n,10);return isNaN(r)&&(r=e),r},r.prototype._get_selection=function(t,e,n){var r=this._get_selection_list(t,e,n);if(1!==r.length)throw new Error("Invalid Option Value: The option '"+t+"' can only be one of the following values:\n"+e+"\nYou passed in: '"+this.raw_options[t]+"'");return r[0]},r.prototype._get_selection_list=function(t,e,n){if(!e||0===e.length)throw new Error("Selection list cannot be empty.");if(n=n||[e[0]],!this._is_valid_selection(n,e))throw new Error("Invalid Default Value!");var r=this._get_array(t,n);if(!this._is_valid_selection(r,e))throw new Error("Invalid Option Value: The option '"+t+"' can contain only the following values:\n"+e+"\nYou passed in: '"+this.raw_options[t]+"'");return r},r.prototype._is_valid_selection=function(t,e){return t.length&&e.length&&!t.some((function(t){return-1===e.indexOf(t)}))},t.exports.Options=r,t.exports.normalizeOpts=o,t.exports.mergeOpts=i},function(t,e,n){"use strict";var r=n(8).InputScanner,i=n(9).Tokenizer,a=n(9).TOKEN,o=n(13).Directives,s=n(4),u=n(12).Pattern,l=n(14).TemplatablePattern;function c(t,e){return-1!==e.indexOf(t)}var h={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:a.START,RAW:a.RAW,EOF:a.EOF},f=new o(/\/\*/,/\*\//),d=/0[xX][0123456789abcdefABCDEF]*|0[oO][01234567]*|0[bB][01]*|\d+n|(?:\.\d+|\d+\.?\d*)(?:[eE][+-]?\d+)?/,p=/[0-9]/,m=/[^\d\.]/,g=">>> === !== << && >= ** != == <= >> || |> < / - + > : & % ? ^ | *".split(" "),_=">>>= ... >>= <<= === >>> !== **= => ^= :: /= << <= == && -= >= >> != -- += ** || ++ %= &= *= |= |> = ! ? > < : / ^ - + * & % ~ |";_=(_="\\?\\.(?!\\d) "+(_=_.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&"))).replace(/ /g,"|");var v,y=new RegExp(_),b="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(","),x=b.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as"]),w=new RegExp("^(?:"+x.join("|")+")$"),T=function(t,e){i.call(this,t,e),this._patterns.whitespace=this._patterns.whitespace.matching(/\u00A0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff/.source,/\u2028\u2029/.source);var n=new u(this._input),r=new l(this._input).read_options(this._options);this.__patterns={template:r,identifier:r.starting_with(s.identifier).matching(s.identifierMatch),number:n.matching(d),punct:n.matching(y),comment:n.starting_with(/\/\//).until(/[\n\r\u2028\u2029]/),block_comment:n.starting_with(/\/\*/).until_after(/\*\//),html_comment_start:n.matching(/<!--/),html_comment_end:n.matching(/-->/),include:n.starting_with(/#include/).until_after(s.lineBreak),shebang:n.starting_with(/#!/).until_after(s.lineBreak),xml:n.matching(/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[\s\S]+?}|!\[CDATA\[[\s\S]*?\]\])(\s+{[\s\S]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{[\s\S]+?}))*\s*(\/?)\s*>/),single_quote:r.until(/['\\\n\r\u2028\u2029]/),double_quote:r.until(/["\\\n\r\u2028\u2029]/),template_text:r.until(/[`\\$]/),template_expression:r.until(/[`}\\]/)}};(T.prototype=new i)._is_comment=function(t){return t.type===h.COMMENT||t.type===h.BLOCK_COMMENT||t.type===h.UNKNOWN},T.prototype._is_opening=function(t){return t.type===h.START_BLOCK||t.type===h.START_EXPR},T.prototype._is_closing=function(t,e){return(t.type===h.END_BLOCK||t.type===h.END_EXPR)&&e&&("]"===t.text&&"["===e.text||")"===t.text&&"("===e.text||"}"===t.text&&"{"===e.text)},T.prototype._reset=function(){v=!1},T.prototype._get_next_token=function(t,e){var n=null;this._readWhitespace();var r=this._input.peek();return null===r?this._create_token(h.EOF,""):n=(n=(n=(n=(n=(n=(n=(n=(n=n||this._read_non_javascript(r))||this._read_string(r))||this._read_word(t))||this._read_singles(r))||this._read_comment(r))||this._read_regexp(r,t))||this._read_xml(r,t))||this._read_punctuation())||this._create_token(h.UNKNOWN,this._input.next())},T.prototype._read_word=function(t){var e;return""!==(e=this.__patterns.identifier.read())?(e=e.replace(s.allLineBreaks,"\n"),t.type!==h.DOT&&(t.type!==h.RESERVED||"set"!==t.text&&"get"!==t.text)&&w.test(e)?"in"===e||"of"===e?this._create_token(h.OPERATOR,e):this._create_token(h.RESERVED,e):this._create_token(h.WORD,e)):""!==(e=this.__patterns.number.read())?this._create_token(h.WORD,e):void 0},T.prototype._read_singles=function(t){var e=null;return"("===t||"["===t?e=this._create_token(h.START_EXPR,t):")"===t||"]"===t?e=this._create_token(h.END_EXPR,t):"{"===t?e=this._create_token(h.START_BLOCK,t):"}"===t?e=this._create_token(h.END_BLOCK,t):";"===t?e=this._create_token(h.SEMICOLON,t):"."===t&&m.test(this._input.peek(1))?e=this._create_token(h.DOT,t):","===t&&(e=this._create_token(h.COMMA,t)),e&&this._input.next(),e},T.prototype._read_punctuation=function(){var t=this.__patterns.punct.read();if(""!==t)return"="===t?this._create_token(h.EQUALS,t):"?."===t?this._create_token(h.DOT,t):this._create_token(h.OPERATOR,t)},T.prototype._read_non_javascript=function(t){var e="";if("#"===t){if(this._is_first_token()&&(e=this.__patterns.shebang.read()))return this._create_token(h.UNKNOWN,e.trim()+"\n");if(e=this.__patterns.include.read())return this._create_token(h.UNKNOWN,e.trim()+"\n");t=this._input.next();var n="#";if(this._input.hasNext()&&this._input.testChar(p)){do{n+=t=this._input.next()}while(this._input.hasNext()&&"#"!==t&&"="!==t);return"#"===t||("["===this._input.peek()&&"]"===this._input.peek(1)?(n+="[]",this._input.next(),this._input.next()):"{"===this._input.peek()&&"}"===this._input.peek(1)&&(n+="{}",this._input.next(),this._input.next())),this._create_token(h.WORD,n)}this._input.back()}else if("<"===t&&this._is_first_token()){if(e=this.__patterns.html_comment_start.read()){for(;this._input.hasNext()&&!this._input.testChar(s.newline);)e+=this._input.next();return v=!0,this._create_token(h.COMMENT,e)}}else if(v&&"-"===t&&(e=this.__patterns.html_comment_end.read()))return v=!1,this._create_token(h.COMMENT,e);return null},T.prototype._read_comment=function(t){var e=null;if("/"===t){var n="";if("*"===this._input.peek(1)){n=this.__patterns.block_comment.read();var r=f.get_directives(n);r&&"start"===r.ignore&&(n+=f.readIgnored(this._input)),n=n.replace(s.allLineBreaks,"\n"),(e=this._create_token(h.BLOCK_COMMENT,n)).directives=r}else"/"===this._input.peek(1)&&(n=this.__patterns.comment.read(),e=this._create_token(h.COMMENT,n))}return e},T.prototype._read_string=function(t){if("`"===t||"'"===t||'"'===t){var e=this._input.next();return this.has_char_escapes=!1,e+="`"===t?this._read_string_recursive("`",!0,"${"):this._read_string_recursive(t),this.has_char_escapes&&this._options.unescape_strings&&(e=function(t){for(var e="",n=0,i=new r(t),a=null;i.hasNext();)if((a=i.match(/([\s]|[^\\]|\\\\)+/g))&&(e+=a[0]),"\\"===i.peek()){if(i.next(),"x"===i.peek())a=i.match(/x([0-9A-Fa-f]{2})/g);else{if("u"!==i.peek()){e+="\\",i.hasNext()&&(e+=i.next());continue}a=i.match(/u([0-9A-Fa-f]{4})/g)}if(!a)return t;if((n=parseInt(a[1],16))>126&&n<=255&&0===a[0].indexOf("x"))return t;if(n>=0&&n<32){e+="\\"+a[0];continue}e+=34===n||39===n||92===n?"\\"+String.fromCharCode(n):String.fromCharCode(n)}return e}(e)),this._input.peek()===t&&(e+=this._input.next()),e=e.replace(s.allLineBreaks,"\n"),this._create_token(h.STRING,e)}return null},T.prototype._allow_regexp_or_xml=function(t){return t.type===h.RESERVED&&c(t.text,["return","case","throw","else","do","typeof","yield"])||t.type===h.END_EXPR&&")"===t.text&&t.opened.previous.type===h.RESERVED&&c(t.opened.previous.text,["if","while","for"])||c(t.type,[h.COMMENT,h.START_EXPR,h.START_BLOCK,h.START,h.END_BLOCK,h.OPERATOR,h.EQUALS,h.EOF,h.SEMICOLON,h.COMMA])},T.prototype._read_regexp=function(t,e){if("/"===t&&this._allow_regexp_or_xml(e)){for(var n=this._input.next(),r=!1,i=!1;this._input.hasNext()&&(r||i||this._input.peek()!==t)&&!this._input.testChar(s.newline);)n+=this._input.peek(),r?r=!1:(r="\\"===this._input.peek(),"["===this._input.peek()?i=!0:"]"===this._input.peek()&&(i=!1)),this._input.next();return this._input.peek()===t&&(n+=this._input.next(),n+=this._input.read(s.identifier)),this._create_token(h.STRING,n)}return null},T.prototype._read_xml=function(t,e){if(this._options.e4x&&"<"===t&&this._allow_regexp_or_xml(e)){var n="",r=this.__patterns.xml.read_match();if(r){for(var i=r[2].replace(/^{\s+/,"{").replace(/\s+}$/,"}"),a=0===i.indexOf("{"),o=0;r;){var u=!!r[1],l=r[2];if(!(r[r.length-1]||"![CDATA["===l.slice(0,8))&&(l===i||a&&l.replace(/^{\s+/,"{").replace(/\s+}$/,"}"))&&(u?--o:++o),n+=r[0],o<=0)break;r=this.__patterns.xml.read_match()}return r||(n+=this._input.match(/[\s\S]*/g)[0]),n=n.replace(s.allLineBreaks,"\n"),this._create_token(h.STRING,n)}}return null},T.prototype._read_string_recursive=function(t,e,n){var r,i;"'"===t?i=this.__patterns.single_quote:'"'===t?i=this.__patterns.double_quote:"`"===t?i=this.__patterns.template_text:"}"===t&&(i=this.__patterns.template_expression);for(var a=i.read(),o="";this._input.hasNext();){if((o=this._input.next())===t||!e&&s.newline.test(o)){this._input.back();break}"\\"===o&&this._input.hasNext()?("x"===(r=this._input.peek())||"u"===r?this.has_char_escapes=!0:"\r"===r&&"\n"===this._input.peek(1)&&this._input.next(),o+=this._input.next()):n&&("${"===n&&"$"===o&&"{"===this._input.peek()&&(o+=this._input.next()),n===o&&(o+="`"===t?this._read_string_recursive("}",e,"`"):this._read_string_recursive("`",e,"${"),this._input.hasNext()&&(o+=this._input.next()))),a+=o+=i.read()}return a},t.exports.Tokenizer=T,t.exports.TOKEN=h,t.exports.positionable_operators=g.slice(),t.exports.line_starters=b.slice()},function(t,e,n){"use strict";var r=RegExp.prototype.hasOwnProperty("sticky");function i(t){this.__input=t||"",this.__input_length=this.__input.length,this.__position=0}i.prototype.restart=function(){this.__position=0},i.prototype.back=function(){this.__position>0&&(this.__position-=1)},i.prototype.hasNext=function(){return this.__position<this.__input_length},i.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__input.charAt(this.__position),this.__position+=1),t},i.prototype.peek=function(t){var e=null;return t=t||0,(t+=this.__position)>=0&&t<this.__input_length&&(e=this.__input.charAt(t)),e},i.prototype.__match=function(t,e){t.lastIndex=e;var n=t.exec(this.__input);return!n||r&&t.sticky||n.index!==e&&(n=null),n},i.prototype.test=function(t,e){return e=e||0,(e+=this.__position)>=0&&e<this.__input_length&&!!this.__match(t,e)},i.prototype.testChar=function(t,e){var n=this.peek(e);return t.lastIndex=0,null!==n&&t.test(n)},i.prototype.match=function(t){var e=this.__match(t,this.__position);return e?this.__position+=e[0].length:e=null,e},i.prototype.read=function(t,e,n){var r,i="";return t&&(r=this.match(t))&&(i+=r[0]),!e||!r&&t||(i+=this.readUntil(e,n)),i},i.prototype.readUntil=function(t,e){var n,r=this.__position;t.lastIndex=this.__position;var i=t.exec(this.__input);return i?(r=i.index,e&&(r+=i[0].length)):r=this.__input_length,n=this.__input.substring(this.__position,r),this.__position=r,n},i.prototype.readUntilAfter=function(t){return this.readUntil(t,!0)},i.prototype.get_regexp=function(t,e){var n=null,i="g";return e&&r&&(i="y"),"string"==typeof t&&""!==t?n=new RegExp(t,i):t&&(n=new RegExp(t.source,i)),n},i.prototype.get_literal_regexp=function(t){return RegExp(t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},i.prototype.peekUntilAfter=function(t){var e=this.__position,n=this.readUntilAfter(t);return this.__position=e,n},i.prototype.lookBack=function(t){var e=this.__position-1;return e>=t.length&&this.__input.substring(e-t.length,e).toLowerCase()===t},t.exports.InputScanner=i},function(t,e,n){"use strict";var r=n(8).InputScanner,i=n(3).Token,a=n(10).TokenStream,o=n(11).WhitespacePattern,s={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},u=function(t,e){this._input=new r(t),this._options=e||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new o(this._input)};u.prototype.tokenize=function(){var t;this._input.restart(),this.__tokens=new a,this._reset();for(var e=new i(s.START,""),n=null,r=[],o=new a;e.type!==s.EOF;){for(t=this._get_next_token(e,n);this._is_comment(t);)o.add(t),t=this._get_next_token(e,n);o.isEmpty()||(t.comments_before=o,o=new a),t.parent=n,this._is_opening(t)?(r.push(n),n=t):n&&this._is_closing(t,n)&&(t.opened=n,n.closed=t,n=r.pop(),t.parent=n),t.previous=e,e.next=t,this.__tokens.add(t),e=t}return this.__tokens},u.prototype._is_first_token=function(){return this.__tokens.isEmpty()},u.prototype._reset=function(){},u.prototype._get_next_token=function(t,e){this._readWhitespace();var n=this._input.read(/.+/g);return n?this._create_token(s.RAW,n):this._create_token(s.EOF,"")},u.prototype._is_comment=function(t){return!1},u.prototype._is_opening=function(t){return!1},u.prototype._is_closing=function(t,e){return!1},u.prototype._create_token=function(t,e){return new i(t,e,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token)},u.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},t.exports.Tokenizer=u,t.exports.TOKEN=s},function(t,e,n){"use strict";function r(t){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=t}r.prototype.restart=function(){this.__position=0},r.prototype.isEmpty=function(){return 0===this.__tokens_length},r.prototype.hasNext=function(){return this.__position<this.__tokens_length},r.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__tokens[this.__position],this.__position+=1),t},r.prototype.peek=function(t){var e=null;return t=t||0,(t+=this.__position)>=0&&t<this.__tokens_length&&(e=this.__tokens[t]),e},r.prototype.add=function(t){this.__parent_token&&(t.parent=this.__parent_token),this.__tokens.push(t),this.__tokens_length+=1},t.exports.TokenStream=r},function(t,e,n){"use strict";var r=n(12).Pattern;function i(t,e){r.call(this,t,e),e?this._line_regexp=this._input.get_regexp(e._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}i.prototype=new r,i.prototype.__set_whitespace_patterns=function(t,e){t+="\\t ",e+="\\n\\r",this._match_pattern=this._input.get_regexp("["+t+e+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+e+"]")},i.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var t=this._input.read(this._match_pattern);if(" "===t)this.whitespace_before_token=" ";else if(t){var e=this.__split(this._newline_regexp,t);this.newline_count=e.length-1,this.whitespace_before_token=e[this.newline_count]}return t},i.prototype.matching=function(t,e){var n=this._create();return n.__set_whitespace_patterns(t,e),n._update(),n},i.prototype._create=function(){return new i(this._input,this)},i.prototype.__split=function(t,e){t.lastIndex=0;for(var n=0,r=[],i=t.exec(e);i;)r.push(e.substring(n,i.index)),n=i.index+i[0].length,i=t.exec(e);return n<e.length?r.push(e.substring(n,e.length)):r.push(""),r},t.exports.WhitespacePattern=i},function(t,e,n){"use strict";function r(t,e){this._input=t,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,e&&(this._starting_pattern=this._input.get_regexp(e._starting_pattern,!0),this._match_pattern=this._input.get_regexp(e._match_pattern,!0),this._until_pattern=this._input.get_regexp(e._until_pattern),this._until_after=e._until_after)}r.prototype.read=function(){var t=this._input.read(this._starting_pattern);return this._starting_pattern&&!t||(t+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),t},r.prototype.read_match=function(){return this._input.match(this._match_pattern)},r.prototype.until_after=function(t){var e=this._create();return e._until_after=!0,e._until_pattern=this._input.get_regexp(t),e._update(),e},r.prototype.until=function(t){var e=this._create();return e._until_after=!1,e._until_pattern=this._input.get_regexp(t),e._update(),e},r.prototype.starting_with=function(t){var e=this._create();return e._starting_pattern=this._input.get_regexp(t,!0),e._update(),e},r.prototype.matching=function(t){var e=this._create();return e._match_pattern=this._input.get_regexp(t,!0),e._update(),e},r.prototype._create=function(){return new r(this._input,this)},r.prototype._update=function(){},t.exports.Pattern=r},function(t,e,n){"use strict";function r(t,e){t="string"==typeof t?t:t.source,e="string"==typeof e?e:e.source,this.__directives_block_pattern=new RegExp(t+/ beautify( \w+[:]\w+)+ /.source+e,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(t+/\sbeautify\signore:end\s/.source+e,"g")}r.prototype.get_directives=function(t){if(!t.match(this.__directives_block_pattern))return null;var e={};this.__directive_pattern.lastIndex=0;for(var n=this.__directive_pattern.exec(t);n;)e[n[1]]=n[2],n=this.__directive_pattern.exec(t);return e},r.prototype.readIgnored=function(t){return t.readUntilAfter(this.__directives_end_ignore_pattern)},t.exports.Directives=r},function(t,e,n){"use strict";var r=n(12).Pattern,i={django:!1,erb:!1,handlebars:!1,php:!1};function a(t,e){r.call(this,t,e),this.__template_pattern=null,this._disabled=Object.assign({},i),this._excluded=Object.assign({},i),e&&(this.__template_pattern=this._input.get_regexp(e.__template_pattern),this._excluded=Object.assign(this._excluded,e._excluded),this._disabled=Object.assign(this._disabled,e._disabled));var n=new r(t);this.__patterns={handlebars_comment:n.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:n.starting_with(/{{{/).until_after(/}}}/),handlebars:n.starting_with(/{{/).until_after(/}}/),php:n.starting_with(/<\?(?:[=]|php)/).until_after(/\?>/),erb:n.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:n.starting_with(/{%/).until_after(/%}/),django_value:n.starting_with(/{{/).until_after(/}}/),django_comment:n.starting_with(/{#/).until_after(/#}/)}}a.prototype=new r,a.prototype._create=function(){return new a(this._input,this)},a.prototype._update=function(){this.__set_templated_pattern()},a.prototype.disable=function(t){var e=this._create();return e._disabled[t]=!0,e._update(),e},a.prototype.read_options=function(t){var e=this._create();for(var n in i)e._disabled[n]=-1===t.templating.indexOf(n);return e._update(),e},a.prototype.exclude=function(t){var e=this._create();return e._excluded[t]=!0,e._update(),e},a.prototype.read=function(){var t="";t=this._match_pattern?this._input.read(this._starting_pattern):this._input.read(this._starting_pattern,this.__template_pattern);for(var e=this._read_template();e;)this._match_pattern?e+=this._input.read(this._match_pattern):e+=this._input.readUntil(this.__template_pattern),t+=e,e=this._read_template();return this._until_after&&(t+=this._input.readUntilAfter(this._until_pattern)),t},a.prototype.__set_templated_pattern=function(){var t=[];this._disabled.php||t.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||t.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||t.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(t.push(this.__patterns.django._starting_pattern.source),t.push(this.__patterns.django_value._starting_pattern.source),t.push(this.__patterns.django_comment._starting_pattern.source)),this._until_pattern&&t.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+t.join("|")+")")},a.prototype._read_template=function(){var t="",e=this._input.peek();if("<"===e){var n=this._input.peek(1);this._disabled.php||this._excluded.php||"?"!==n||(t=t||this.__patterns.php.read()),this._disabled.erb||this._excluded.erb||"%"!==n||(t=t||this.__patterns.erb.read())}else"{"===e&&(this._disabled.handlebars||this._excluded.handlebars||(t=(t=(t=t||this.__patterns.handlebars_comment.read())||this.__patterns.handlebars_unescaped.read())||this.__patterns.handlebars.read()),this._disabled.django||(this._excluded.django||this._excluded.handlebars||(t=t||this.__patterns.django_value.read()),this._excluded.django||(t=(t=t||this.__patterns.django_comment.read())||this.__patterns.django.read())));return t},t.exports.TemplatablePattern=a}]),void 0===(r=function(){return{js_beautify:i}}.apply(e,[]))||(t.exports=r)},ff9c:function(t,e,n){var r=n("23e7"),i=n("8eb5"),a=Math.cosh,o=Math.abs,s=Math.E;r({target:"Math",stat:!0,forced:!a||a(710)===1/0},{cosh:function(t){var e=i(o(t)-1)+1;return(e+1/(e*s*s))*(s/2)}})}}]);